[{"client_msg_id":"c27f243d-f400-440d-bef8-87c8a780b127","type":"message","text":"Hi everyone, so what is the recommended julia package to use for AWS? Because <https://github.com/JuliaCloud/AWS.jl> says it replaces <https://github.com/JuliaCloud/AWSCore.jl>, but at the same time AWSCore seems to have all/a lot of documentation whereas I am struggling to figure out how to even find which functions I can call in AWS.jl without having to dive into source code essentially","user":"U01C2AJ9F63","ts":"1608723070.156900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mUl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi everyone, so what is the recommended julia package to use for AWS? Because "},{"type":"link","url":"https://github.com/JuliaCloud/AWS.jl"},{"type":"text","text":" says it replaces "},{"type":"link","url":"https://github.com/JuliaCloud/AWSCore.jl"},{"type":"text","text":", but at the same time AWSCore seems to have all/a lot of documentation whereas I am struggling to figure out how to even find which functions I can call in AWS.jl without having to dive into source code essentially"}]}]}],"thread_ts":"1608723070.156900","reply_count":11,"reply_users_count":4,"latest_reply":"1608821072.165800","reply_users":["UDXST8ARK","U01C2AJ9F63","U8T0YV7QC","ULDQSHD41"],"subscribed":false},{"client_msg_id":"18beada6-a64b-4505-ab4f-05910ecaeaf3","type":"message","text":"Both/either should work. \nAt Invenia we've mostly used AWSCore.jl, but since <@ULDQSHD41> rewrote AWS.jl we've slowly started moving over to that. \n\nAWS.jl would definitely benefit from hosting docs and a few other bits of docs tidy up (see issues). But all the functions should hopefully have docstrings describing their usage, and one of the benefits of AWS.jl is it should closely match the API described in the AWS docs \n<https://docs.aws.amazon.com/|https://docs.aws.amazon.com/>","user":"UDXST8ARK","ts":"1608726203.157000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oMI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Both/either should work. \nAt Invenia we've mostly used AWSCore.jl, but since "},{"type":"user","user_id":"ULDQSHD41"},{"type":"text","text":" rewrote AWS.jl we've slowly started moving over to that. \n\nAWS.jl would definitely benefit from hosting docs and a few other bits of docs tidy up (see issues). But all the functions should hopefully have docstrings describing their usage, and one of the benefits of AWS.jl is it should closely match the API described in the AWS docs \n"},{"type":"link","url":"https://docs.aws.amazon.com/","text":"https://docs.aws.amazon.com/"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"da7194ee-6cc0-42dc-b66b-83455acafa31","type":"message","text":"Okay thanks! Do you know by any chance whether this should work? It is a snippet from the README of AWS.jl, but it throws UndefVarError for me, saying that ListObjects is not defined:\n```using AWS: @service\n@service S3\n\nS3.ListObjects(\"/your-bucket\")```","user":"U01C2AJ9F63","ts":"1608730508.157200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/aT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay thanks! Do you know by any chance whether this should work? It is a snippet from the README of AWS.jl, but it throws UndefVarError for me, saying that ListObjects is not defined:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using AWS: @service\n@service S3\n\nS3.ListObjects(\"/your-bucket\")"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"210b6182-7275-4b14-83c4-2d2f4e762ce1","type":"message","text":"Luckily I managed something now with AWSSDK","user":"U01C2AJ9F63","ts":"1608731908.157400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i7N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Luckily I managed something now with AWSSDK"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"6955435E-86E7-4D90-9F28-A1EC929306FE","type":"message","text":"I think it’s called `list_objects` now to align with the general Julia function name convention. You can probably tab-twice on REPL after the dot to discover them. ","user":"U8T0YV7QC","ts":"1608739400.159900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZFaV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it’s called "},{"type":"text","text":"list_objects","style":{"code":true}},{"type":"text","text":" now to align with the general Julia function name convention. You can probably tab-twice on REPL after the dot to discover them. "}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63","reactions":[{"name":"+1","users":["UDXST8ARK"],"count":1}]},{"client_msg_id":"8FD0760A-2AFD-45D2-93CF-96EC018FB7E6","type":"message","text":"Yes functions are cased in the Julia styling in AWS.jl\n\nI would not recommend AWSSDK.jl as it has not been touched in years. AWSCore.jl is in an unofficial maintenance mode while AWS.jl is the active interface. ","user":"ULDQSHD41","ts":"1608739905.162200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GIN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes functions are cased in the Julia styling in AWS.jl\n"},{"type":"text","text":"\n"},{"type":"text","text":"I would not recommend AWSSDK.jl as it has not been touched in years. AWSCore.jl is in an unofficial maintenance mode while AWS.jl is the active interface. "}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"c415d5bf-c55b-48dc-9f37-5e9ec5b26ade","type":"message","text":"<https://github.com/JuliaCloud/AWS.jl/pull/268|https://github.com/JuliaCloud/AWS.jl/pull/268>","user":"UDXST8ARK","ts":"1608740869.162400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RDWWe","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaCloud/AWS.jl/pull/268","text":"https://github.com/JuliaCloud/AWS.jl/pull/268"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63","reactions":[{"name":"merged","users":["ULDQSHD41"],"count":1}]},{"client_msg_id":"3e61513e-3eca-4f92-b9b3-227617752e85","type":"message","text":"Thanks! Listing objects works now! It's all a bit hard because I am quite new to Julia and not yet familiar with everything, so it makes it a bit harder when I have to go through the source code to figure out certain things. Now I cannot figure out how to actually upload a file to a bucket though, I tried:\n```S3.put_object(\"bucket-name\", \"example_object.jl\", Dict(\"Body\"=&gt;read(open(\"example_object.jl\", \"r\"), String)); aws_config=aws)```\nand\n```S3.put_object(\"bucket-name\", \"example_object.jl\", Dict(\"Body\"=&gt;readlines(open(\"example_object.jl\", \"r\"))); aws_config=aws)```\nbut in both these cases I get 400 Bad request error.\nAnd if instead I try it with a simple txt file with 1 line (test.txt), then I get a 403 Access denied weirdly enough. Even though I have write permissions with my IAM user.","user":"U01C2AJ9F63","ts":"1608805298.162800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T1G9U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks! Listing objects works now! It's all a bit hard because I am quite new to Julia and not yet familiar with everything, so it makes it a bit harder when I have to go through the source code to figure out certain things. Now I cannot figure out how to actually upload a file to a bucket though, I tried:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"S3.put_object(\"bucket-name\", \"example_object.jl\", Dict(\"Body\"=>read(open(\"example_object.jl\", \"r\"), String)); aws_config=aws)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"S3.put_object(\"bucket-name\", \"example_object.jl\", Dict(\"Body\"=>readlines(open(\"example_object.jl\", \"r\"))); aws_config=aws)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but in both these cases I get 400 Bad request error.\nAnd if instead I try it with a simple txt file with 1 line (test.txt), then I get a 403 Access denied weirdly enough. Even though I have write permissions with my IAM user."}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"ba4365f2-4eab-4b76-be39-8978e90aede6","type":"message","text":"Partially there was an issue with permissions, which I resolved now, but I still can't figure it out with AWS.jl.\nThis command from AWSS3 works\n```s3_put(aws, \"bucket-name\", \"testobject.txt\", read(open(\"test.txt\", \"r\")))```\nbut this command from AWS.jl throws an error:\n```S3.put_object(\"bucket-name\", \"test.txt\", Dict(\"Body\"=&gt;read(open(\"test.txt\", \"r\"))); aws_config=aws)\n\nERROR: AWS.AWSExceptions.AWSException(\"SignatureDoesNotMatch\", \"The request signature we calculated does not match the signature you provided. Check your key and signing method.\", EzXML.Document(EzXML.Node(&lt;DOCUMENT_NODE@0x00000000051cc680&gt;)), HTTP.ExceptionRequest.StatusError(403, \"PUT\",```","user":"U01C2AJ9F63","ts":"1608819248.163500","team":"T68168MUP","edited":{"user":"U01C2AJ9F63","ts":"1608821062.000000"},"blocks":[{"type":"rich_text","block_id":"mz3Xf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Partially there was an issue with permissions, which I resolved now, but I still can't figure it out with AWS.jl.\nThis command from AWSS3 works\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"s3_put(aws, \"bucket-name\", \"testobject.txt\", read(open(\"test.txt\", \"r\")))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but this command from AWS.jl throws an error:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"S3.put_object(\"bucket-name\", \"test.txt\", Dict(\"Body\"=>read(open(\"test.txt\", \"r\"))); aws_config=aws)\n\nERROR: AWS.AWSExceptions.AWSException(\"SignatureDoesNotMatch\", \"The request signature we calculated does not match the signature you provided. Check your key and signing method.\", EzXML.Document(EzXML.Node(<DOCUMENT_NODE@0x00000000051cc680>)), HTTP.ExceptionRequest.StatusError(403, \"PUT\","}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"0E05C504-ECEA-46ED-9681-A0CC7BC974D5","type":"message","text":"Try body with a lowercase ‘b’, I think the documentation may be incorrect. ","user":"ULDQSHD41","ts":"1608820237.164800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5BiQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try body with a lowercase ‘b’, I think the documentation may be incorrect. "}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"a3421be6-ddac-44c7-855b-798a5286e2be","type":"message","text":"Yep that worked! Damn did not expect that, especially given that error","user":"U01C2AJ9F63","ts":"1608821048.165000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yHpA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep that worked! Damn did not expect that, especially given that error"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"},{"client_msg_id":"F5E5294B-EA93-43D6-9D70-64FE5BF5255D","type":"message","text":"Yeah I need to rework the error handling as things get swallowed up","user":"ULDQSHD41","ts":"1608821072.165800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=z9pF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I need to rework the error handling as things get swallowed up"}]}]}],"thread_ts":"1608723070.156900","parent_user_id":"U01C2AJ9F63"}]