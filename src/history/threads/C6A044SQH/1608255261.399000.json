[{"client_msg_id":"8461b565-b0e4-448c-b06f-4181552a36fd","type":"message","text":"<https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz>","user":"U6QGE7S86","ts":"1608255261.399000","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"ANN: Announcing DoctorDocstrings.jl","title_link":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz","text":"Just found a bug that has to do with (I think) macro hygiene. If I input julia&gt; using SparseArrays julia&gt; A = sparsevec([1,2,3], [1.0, 0.0, 1.0]) 3-element SparseVector{Float64, Int64} with 3 stored entries: [1] = 1.0 [2] = 0.0 [3] = 1.0 julia&gt; dropzeros!(A) 3-element SparseVector{Float64, Int64} with 2 stored entries: [1] = 1.0 [3] = 1.0 And I select them with pickandcopy(), which tries to @eval Meta.parse(inputstring), I get sparsevec not defined. Any help?","fallback":"JuliaLang: ANN: Announcing DoctorDocstrings.jl","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/3X/0/e/0eb20a6482e0753aec3bd7f6ec7e29c364438916_2_1024x576.jpeg","ts":1608255170,"from_url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz","thumb_width":1024,"thumb_height":576,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz"}],"blocks":[{"type":"rich_text","block_id":"Wdzjw","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz"}]}]}],"thread_ts":"1608255261.399000","reply_count":14,"reply_users_count":3,"latest_reply":"1608330581.488800","reply_users":["U6QGE7S86","U6740K1SP","UH24GRBLL"],"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"bump for help on this macro hygiene problem.","user":"U6QGE7S86","ts":"1608309481.443900","thread_ts":"1608255261.399000","root":{"client_msg_id":"8461b565-b0e4-448c-b06f-4181552a36fd","type":"message","text":"<https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz>","user":"U6QGE7S86","ts":"1608255261.399000","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"ANN: Announcing DoctorDocstrings.jl","title_link":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz","text":"Just found a bug that has to do with (I think) macro hygiene. If I input julia&gt; using SparseArrays julia&gt; A = sparsevec([1,2,3], [1.0, 0.0, 1.0]) 3-element SparseVector{Float64, Int64} with 3 stored entries: [1] = 1.0 [2] = 0.0 [3] = 1.0 julia&gt; dropzeros!(A) 3-element SparseVector{Float64, Int64} with 2 stored entries: [1] = 1.0 [3] = 1.0 And I select them with pickandcopy(), which tries to @eval Meta.parse(inputstring), I get sparsevec not defined. Any help?","fallback":"JuliaLang: ANN: Announcing DoctorDocstrings.jl","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/3X/0/e/0eb20a6482e0753aec3bd7f6ec7e29c364438916_2_1024x576.jpeg","ts":1608255170,"from_url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz","thumb_width":1024,"thumb_height":576,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz"}],"blocks":[{"type":"rich_text","block_id":"Wdzjw","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://discourse.julialang.org/t/ann-announcing-doctordocstrings-jl/51999/8?u=miguelraz"}]}]}],"thread_ts":"1608255261.399000","reply_count":14,"reply_users_count":3,"latest_reply":"1608330581.488800","reply_users":["U6QGE7S86","U6740K1SP","UH24GRBLL"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"e=L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"bump for help on this macro hygiene problem."}]}]}],"client_msg_id":"c5822ac5-6806-4eca-9be6-da7ba06cb555"},{"client_msg_id":"67d70687-aad4-449e-8e8c-ef5c0f11e48a","type":"message","text":"Ah, yeah, it’s gonna `@eval` into the `DoctorDocstrings` module","user":"U6740K1SP","ts":"1608310053.448200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fMYj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, yeah, it’s gonna "},{"type":"text","text":"@eval","style":{"code":true}},{"type":"text","text":" into the "},{"type":"text","text":"DoctorDocstrings","style":{"code":true}},{"type":"text","text":" module"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"9071c4bb-9866-4bef-b4e0-1a62b6b57932","type":"message","text":"you have to specify the module it should be evald in","user":"UH24GRBLL","ts":"1608310059.448400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zRV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you have to specify the module it should be evald in"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"07e9c7f6-91c2-4cdc-b9fa-c7c78d39dc31","type":"message","text":"which doesn’t have that module used","user":"U6740K1SP","ts":"1608310066.448600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cWV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which doesn’t have that module used"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"b56b0b28-4ff1-4c6b-92f6-0c92a006fd83","type":"message","text":"```help?&gt; @eval\n  @eval [mod,] ex\n\n  Evaluate an expression with values interpolated into it using eval. If two arguments are provided, the first is the\n  module to evaluate in.```","user":"UH24GRBLL","ts":"1608310088.448900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BwX","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"help?> @eval\n  @eval [mod,] ex\n\n  Evaluate an expression with values interpolated into it using eval. If two arguments are provided, the first is the\n  module to evaluate in."}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"99347971-340e-411a-8dab-f420ff2cf2ca","type":"message","text":"I think you’d want to pass in a module to `appenddisplays!`","user":"U6740K1SP","ts":"1608310117.449100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WQKFH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you’d want to pass in a module to "},{"type":"text","text":"appenddisplays!","style":{"code":true}}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"bd739bc0-33df-46fa-9a81-7a76401b9ebb","type":"message","text":"which will most likely just be `Main`","user":"U6740K1SP","ts":"1608310126.449300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"15BgD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which will most likely just be "},{"type":"text","text":"Main","style":{"code":true}}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"85b9b026-03d3-4107-8022-be2a0412bad9","type":"message","text":"you gotta get the right `Main` though","user":"UH24GRBLL","ts":"1608310141.449500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4=db","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you gotta get the right "},{"type":"text","text":"Main","style":{"code":true}},{"type":"text","text":" though"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"8eb439cd-84f8-4a61-8abe-5ae25609fa21","type":"message","text":"I think you’ll want `fixdocs()` to really be a macro","user":"U6740K1SP","ts":"1608310258.451000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ItIN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you’ll want "},{"type":"text","text":"fixdocs()","style":{"code":true}},{"type":"text","text":" to really be a macro"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"271c7492-bf26-44e1-b964-e816644b1335","type":"message","text":"because then it can grab the module it was evaluated in","user":"U6740K1SP","ts":"1608310274.451400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UhZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because then it can grab the module it was evaluated in"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"a3002280-b2cb-4668-aa6f-37855cd15d06","type":"message","text":"and maybe even avoid `eval` ing code entirely (and just generate it instead)","user":"U6740K1SP","ts":"1608310330.452400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWDrj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and maybe even avoid "},{"type":"text","text":"eval","style":{"code":true}},{"type":"text","text":" ing code entirely (and just generate it instead)"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"9437c5d9-a819-475d-aeee-6343af198d89","type":"message","text":"I agree","user":"UH24GRBLL","ts":"1608310467.454000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kkS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I agree"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"2cdcaff6-3c1d-470a-a6e9-53c112d7b9ad","type":"message","text":"that's the same approach the REPL is taking","user":"UH24GRBLL","ts":"1608310476.454400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cyIlu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's the same approach the REPL is taking"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"},{"client_msg_id":"9dca09ad-70ae-4be8-9f21-84c8faa51616","type":"message","text":"Thanks for the tips peeps. Any reading material / code that would be useful besides the `Metaprogramming` section of the manual?","user":"U6QGE7S86","ts":"1608330581.488800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3ydWN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the tips peeps. Any reading material / code that would be useful besides the "},{"type":"text","text":"Metaprogramming","style":{"code":true}},{"type":"text","text":" section of the manual?"}]}]}],"thread_ts":"1608255261.399000","parent_user_id":"U6QGE7S86"}]