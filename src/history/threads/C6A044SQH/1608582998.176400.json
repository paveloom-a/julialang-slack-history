[{"client_msg_id":"49b4df47-ccec-488c-aa31-0651fb01974d","type":"message","text":"How do I return an expression from a macro, and not allow the macro to evaluate that expression?","user":"U018FJVBXPD","ts":"1608582998.176400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pq8u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I return an expression from a macro, and not allow the macro to evaluate that expression?"}]}]}],"thread_ts":"1608582998.176400","reply_count":11,"reply_users_count":4,"latest_reply":"1608584369.181300","reply_users":["U7HAYKY9X","U0179G7FG4F","U018FJVBXPD","UM30MT6RF"],"subscribed":false},{"client_msg_id":"6761b528-b968-4004-b3b0-b3f54d284f8f","type":"message","text":"Not exactly what you were asking, but are you sure you don't just want a function returning an expression?","user":"U7HAYKY9X","ts":"1608583045.176500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jYii","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not exactly what you were asking, but are you sure you don't just want a function returning an expression?"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"1468c558-eea9-40e3-a443-04d460d4cf41","type":"message","text":"do you mean like this`macro return_exp() return :(:(1+1)) end`?","user":"U0179G7FG4F","ts":"1608583074.176700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0KLm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you mean like this"},{"type":"text","text":"macro return_exp() return :(:(1+1)) end","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"440285b8-335b-4fb3-a31a-3530e5157d79","type":"message","text":"<@U7HAYKY9X> I think you are somewhat right, I might actually be aiming for the wrong thing an should move the functionality to a function","user":"U018FJVBXPD","ts":"1608583346.177700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cz9h","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7HAYKY9X"},{"type":"text","text":" I think you are somewhat right, I might actually be aiming for the wrong thing an should move the functionality to a function"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD","reactions":[{"name":"+1","users":["U7HAYKY9X","U7THT3TM3"],"count":2}]},{"client_msg_id":"ec252985-8d7e-4b03-9d57-31411b3bd294","type":"message","text":"<@U0179G7FG4F> Yes, almost like that, but given `e` is a variable that contains the the expression I want to return, I can't exactly do\n```return :(e)```\nor\n```return :(:($e))```","user":"U018FJVBXPD","ts":"1608583480.178000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u0P","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U0179G7FG4F"},{"type":"text","text":" Yes, almost like that, but given "},{"type":"text","text":"e","style":{"code":true}},{"type":"text","text":" is a variable that contains the the expression I want to return, I can't exactly do\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"return :(e)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"or\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"return :(:($e))"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"bcac0630-55a3-4a08-b732-cf58570c5552","type":"message","text":"You can do `f(x) = quote $x end`","user":"U7HAYKY9X","ts":"1608583607.178200","team":"T68168MUP","edited":{"user":"U7HAYKY9X","ts":"1608583613.000000"},"blocks":[{"type":"rich_text","block_id":"Lol","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can do "},{"type":"text","text":"f(x) = quote $x end","style":{"code":true}}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"ab688387-ce5a-496e-a9e7-35cf341bccc7","type":"message","text":"You want `Meta.quot` or `QuoteNode`. The difference between them is that the latter doesn't evaluate interpolation.","user":"UM30MT6RF","ts":"1608584172.179900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iVH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You want "},{"type":"text","text":"Meta.quot","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"QuoteNode","style":{"code":true}},{"type":"text","text":". The difference between them is that the latter doesn't evaluate interpolation."}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"891d3428-0e14-4464-b0b7-5bfac80131c7","type":"message","text":"Maybe I should show exactly what I am busy with:\n```macro xl_str(str)\n    xl = Meta.parse(parsable_excel(str))\n    return :($xl)\nend\n\n\nxl\"1 + 2 + NOT(1 &lt;&gt; 2)\"```\n","user":"U018FJVBXPD","ts":"1608584185.180100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"at09","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe I should show exactly what I am busy with:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"macro xl_str(str)\n    xl = Meta.parse(parsable_excel(str))\n    return :($xl)\nend\n\n\nxl\"1 + 2 + NOT(1 <> 2)\""}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"be1c24f8-abca-4764-9cf7-494900de2b74","type":"message","text":"The above tries to run that as `1+2+NOT(1!=2)` and not return it as an expression.","user":"U018FJVBXPD","ts":"1608584245.180400","team":"T68168MUP","edited":{"user":"U018FJVBXPD","ts":"1608584295.000000"},"blocks":[{"type":"rich_text","block_id":"h2y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The above tries to run that as "},{"type":"text","text":"1+2+NOT(1!=2)","style":{"code":true}},{"type":"text","text":" and not return it as an expression."}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"9d295f59-89a0-4c79-a166-9221bc2f720e","type":"message","text":"<@UM30MT6RF> perfect!","user":"U018FJVBXPD","ts":"1608584303.180700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NLfo4","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UM30MT6RF"},{"type":"text","text":" perfect!"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"type":"message","text":"","files":[{"id":"F01HDP31NBC","created":1608584334,"timestamp":1608584334,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U018FJVBXPD","editable":false,"size":11222,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HDP31NBC/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HDP31NBC/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HDP31NBC-71cdbafa5e/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HDP31NBC-71cdbafa5e/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HDP31NBC-71cdbafa5e/image_360.png","thumb_360_w":360,"thumb_360_h":138,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HDP31NBC-71cdbafa5e/image_160.png","original_w":476,"original_h":183,"thumb_tiny":"AwASADCmDS0lG4+tMBcf5zSce9GSaSgQvHvSUtJQMWlBPrSUUCClFJS0DDJo7UUdqAP/2Q==","permalink":"https://julialang.slack.com/files/U018FJVBXPD/F01HDP31NBC/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01HDP31NBC-3be2debcb1","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U018FJVBXPD","display_as_bot":false,"ts":"1608584337.180900","thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"},{"client_msg_id":"d6c86949-f27a-4e8e-85d6-6928a549d5da","type":"message","text":"Thanks!","user":"U018FJVBXPD","ts":"1608584369.181300","team":"T68168MUP","edited":{"user":"U018FJVBXPD","ts":"1608584375.000000"},"blocks":[{"type":"rich_text","block_id":"Acej2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}],"thread_ts":"1608582998.176400","parent_user_id":"U018FJVBXPD"}]