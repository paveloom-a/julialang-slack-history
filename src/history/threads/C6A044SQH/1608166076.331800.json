[{"client_msg_id":"b1599f9a-6bae-42f7-85e7-05ef90c4d37c","type":"message","text":"I'm trying install the `SCS` package, and get the following error\n```pkg&gt; add SCS\n  Resolving package versions...\nDownloading artifact: SCS\ncurl: /home/drm/opt/julia-1.5.1/bin/../lib/julia/libcurl.so.4: no version information available (required by curl)\ncurl: (60) Cert verify failed: BADCERT_NOT_TRUSTED\nMore details here: <https://curl.haxx.se/docs/sslcerts.html>\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\nDownloading artifact: SCS\ncurl: /home/drm/opt/julia-1.5.1/bin/../lib/julia/libcurl.so.4: no version information available (required by curl)\ncurl: (60) Cert verify failed: BADCERT_NOT_TRUSTED\nMore details here: <https://curl.haxx.se/docs/sslcerts.html>\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.```\nHow can I figure out what site has the bad cert?","user":"UMC2RHKLZ","ts":"1608166076.331800","team":"T68168MUP","edited":{"user":"UMC2RHKLZ","ts":"1608169174.000000"},"blocks":[{"type":"rich_text","block_id":"HiO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying install the "},{"type":"text","text":"SCS","style":{"code":true}},{"type":"text","text":" package, and get the following error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"pkg> add SCS\n  Resolving package versions...\nDownloading artifact: SCS\ncurl: /home/drm/opt/julia-1.5.1/bin/../lib/julia/libcurl.so.4: no version information available (required by curl)\ncurl: (60) Cert verify failed: BADCERT_NOT_TRUSTED\nMore details here: "},{"type":"link","url":"https://curl.haxx.se/docs/sslcerts.html"},{"type":"text","text":"\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\nDownloading artifact: SCS\ncurl: /home/drm/opt/julia-1.5.1/bin/../lib/julia/libcurl.so.4: no version information available (required by curl)\ncurl: (60) Cert verify failed: BADCERT_NOT_TRUSTED\nMore details here: "},{"type":"link","url":"https://curl.haxx.se/docs/sslcerts.html"},{"type":"text","text":"\n\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"How can I figure out what site has the bad cert?"}]}]}],"thread_ts":"1608166076.331800","reply_count":14,"reply_users_count":2,"latest_reply":"1608216378.356000","reply_users":["UDB26738Q","UMC2RHKLZ"],"subscribed":false},{"client_msg_id":"aecfabe5-d3cd-41cc-ba04-e78928dc5d68","type":"message","text":"How come curl is linked to Julia's libcurl? That shouldn't happen","user":"UDB26738Q","ts":"1608166201.332100","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1608166211.000000"},"blocks":[{"type":"rich_text","block_id":"Bxy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How come curl is linked to Julia's libcurl? That shouldn't happen"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"48b38653-2de4-47c6-9661-2b852f10cc58","type":"message","text":"Also not sure. I don't think I have a nonstandard setup.","user":"UMC2RHKLZ","ts":"1608168693.332500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/U=G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also not sure. I don't think I have a nonstandard setup."}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"be43fdce-5fe6-4d0f-acdc-f68656ef330f","type":"message","text":"There are some chances that's the culprit. I'm 95% sure Julia should call system's curl, if it's linking to the wrong libcurl anything can happen","user":"UDB26738Q","ts":"1608168931.332800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zCuVj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are some chances that's the culprit. I'm 95% sure Julia should call system's curl, if it's linking to the wrong libcurl anything can happen"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"c4b029a9-4e3e-4ca7-9b35-1532ce67380f","type":"message","text":"I see, so the bundled `libcurl.so` is wrong? Are there any tips to fix or should I try to reinstall?","user":"UMC2RHKLZ","ts":"1608169219.333100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m6orv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see, so the bundled "},{"type":"text","text":"libcurl.so","style":{"code":true}},{"type":"text","text":" is wrong? Are there any tips to fix or should I try to reinstall?"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"837f18e4-b8d7-4b2e-b162-8726aca8f764","type":"message","text":"do you set the environment variable `LD_LIBRARY_PATH`?","user":"UDB26738Q","ts":"1608207280.346400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Flew9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you set the environment variable "},{"type":"text","text":"LD_LIBRARY_PATH","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"6ab2d484-62f3-49d4-a4bf-bdeaa67527a3","type":"message","text":"the fact that julia's libcurl is picked up might be a red herring, but I think it isn't unlikely to be the culprit","user":"UDB26738Q","ts":"1608207354.346600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FjZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the fact that julia's libcurl is picked up might be a red herring, but I think it isn't unlikely to be the culprit"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"2624836b-7d79-407f-af04-bed564db5707","type":"message","text":"Nope, no LD_LIBRARY_PATH","user":"UMC2RHKLZ","ts":"1608215617.353800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aGy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope, no LD_LIBRARY_PATH"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"e08eb0de-d8d9-4722-8003-1f7f50132371","type":"message","text":"does this happen in a fresh Julia session?","user":"UDB26738Q","ts":"1608215662.354000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tS2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does this happen in a fresh Julia session?"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"f57039ce-0f3a-4b96-9fa1-226d076b7472","type":"message","text":"Fascinating. I tried again just now and it worked fine. The only difference was running in vscode (yesteday) vs a fresh repl in a \"real terminal\" today","user":"UMC2RHKLZ","ts":"1608215691.354200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HCgLB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fascinating. I tried again just now and it worked fine. The only difference was running in vscode (yesteday) vs a fresh repl in a \"real terminal\" today"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"58394ccd-54c4-453e-a2e6-c685f996bbab","type":"message","text":"no idea what VS Code does under the hood, but I doubt it'd set `LD_LIBRARY_PATH` to julia's lib directory, it'd be a bad idea","user":"UDB26738Q","ts":"1608215840.354800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ajXy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no idea what VS Code does under the hood, but I doubt it'd set "},{"type":"text","text":"LD_LIBRARY_PATH","style":{"code":true}},{"type":"text","text":" to julia's lib directory, it'd be a bad idea"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"509130e0-ea38-4581-bd6c-5e94403f17a4","type":"message","text":"should that happen again in v1.5, try something like this\n```julia&gt; using Pkg.PlatformEngines\n\njulia&gt; PlatformEngines.probe_platform_engines!()\n\njulia&gt; PlatformEngines.gen_download_cmd(\"\", \"\", \"\")\n`curl -H -C - '-#' -f -o '' -L ''`\n\njulia&gt; run(`which curl`)\n/usr/bin/curl\nProcess(`which curl`, ProcessExited(0))```\n`gen_download_cmd` gives the command used for the download, then use `which` on that command to see what command is being called.  if it's system's `curl`, the fact that julia's libcurl is being picked up would definitely be an indication that there is something wrong because that should _not_ happen","user":"UDB26738Q","ts":"1608216201.355400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JHV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should that happen again in v1.5, try something like this\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using Pkg.PlatformEngines\n\njulia> PlatformEngines.probe_platform_engines!()\n\njulia> PlatformEngines.gen_download_cmd(\"\", \"\", \"\")\n`curl -H -C - '-#' -f -o '' -L ''`\n\njulia> run(`which curl`)\n/usr/bin/curl\nProcess(`which curl`, ProcessExited(0))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"gen_download_cmd","style":{"code":true}},{"type":"text","text":" gives the command used for the download, then use "},{"type":"text","text":"which","style":{"code":true}},{"type":"text","text":" on that command to see what command is being called.  if it's system's "},{"type":"text","text":"curl","style":{"code":true}},{"type":"text","text":", the fact that julia's libcurl is being picked up would definitely be an indication that there is something wrong because that should "},{"type":"text","text":"not","style":{"italic":true}},{"type":"text","text":" happen"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"136df20b-8b14-4c48-94a6-460170839ec1","type":"message","text":"I'll save this. Thanks!","user":"UMC2RHKLZ","ts":"1608216236.355600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BOX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll save this. Thanks!"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"edbdee18-bfc5-4699-ad80-0f4ea94be376","type":"message","text":"in julia v1.6 downloads will go through julia's libcurl in all cases, exactly to avoid these issues","user":"UDB26738Q","ts":"1608216315.355800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x/ul=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in julia v1.6 downloads will go through julia's libcurl in all cases, exactly to avoid these issues"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"},{"client_msg_id":"dec036e5-6d73-4372-950a-2e3108499f39","type":"message","text":"I'm excited! But not so excited to jump up pre-release :slightly_smiling_face:","user":"UMC2RHKLZ","ts":"1608216378.356000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fEX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm excited! But not so excited to jump up pre-release "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1608166076.331800","parent_user_id":"UMC2RHKLZ"}]