[{"client_msg_id":"a0b8c8f2-877f-4777-b551-775f945e0cf5","type":"message","text":"Is it the only way?","user":"U013B4X7USX","ts":"1608411138.017800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QmK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it the only way?"}]}]}],"thread_ts":"1608411138.017800","reply_count":56,"reply_users_count":3,"latest_reply":"1608452302.069600","reply_users":["UH8A351DJ","UH24GRBLL","U013B4X7USX"],"subscribed":false},{"client_msg_id":"e3082803-2331-47b7-bd37-54962b9c622f","type":"message","text":"Julia's default RNG is not stable anymore","user":"UH8A351DJ","ts":"1608416493.018900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kQEFz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia's default RNG is not stable anymore"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"32a32f0b-213e-4b23-9566-a906f1153c9c","type":"message","text":"you need StableRNGs.jl I think","user":"UH8A351DJ","ts":"1608416519.019100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6=TgN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you need StableRNGs.jl I think"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"b2d8263b-65ef-42ee-be07-d794cc84f14e","type":"message","text":"StableRNGs.jl has nothing to do with thread safety, but with reproducibility across julia versions","user":"UH24GRBLL","ts":"1608449014.056000","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1608449028.000000"},"blocks":[{"type":"rich_text","block_id":"ULx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"StableRNGs.jl has nothing to do with thread safety, but with reproducibility across julia versions"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"9d2b8049-ce8c-4930-81ed-59069218cdb9","type":"message","text":"Yes, having one RNG per thread is the only way, as RNGs are not thread safe because they have hidden state.","user":"UH24GRBLL","ts":"1608449060.056300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1bC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, having one RNG per thread is the only way, as RNGs are not thread safe because they have hidden state."}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"da116024-3be7-4dfc-ab08-a065db886247","type":"message","text":"<@UH24GRBLL> RNG is thread-safe since 1.3","user":"UH8A351DJ","ts":"1608449336.057200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XyRY","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UH24GRBLL"},{"type":"text","text":" RNG is thread-safe since 1.3"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"3722e430-eb44-4d4b-b2c3-924b5a1e1af5","type":"message","text":"are you sure? that'd be news to me","user":"UH24GRBLL","ts":"1608449364.057400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bwdG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you sure? that'd be news to me"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"c3b9dcbf-0c25-49c1-8800-c6553d7b0264","type":"message","text":"I'm 99.99% sure","user":"UH8A351DJ","ts":"1608449383.057600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XqazZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm 99.99% sure"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"66b5e18e-8556-42a0-83fa-00cd69c7af05","type":"message","text":"still, StableRNGs.jl is for reproducibility, not extra thread safety","user":"UH24GRBLL","ts":"1608449386.057800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7RBBm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"still, StableRNGs.jl is for reproducibility, not extra thread safety"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"8fa6f5c2-34e8-4d0b-bfa2-54aba993586a","type":"message","text":"well I'm 99.99% sure that they're not :thinking_face:","user":"UH24GRBLL","ts":"1608449399.058000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YBn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well I'm 99.99% sure that they're not "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"ae05cb66-155d-4481-9d26-35e0e5952487","type":"message","text":"was there a NEWS.md entry I missed?","user":"UH24GRBLL","ts":"1608449409.058200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UDe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"was there a NEWS.md entry I missed?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"93a52dfe-39ad-47ea-b2da-52fa5d582d5d","type":"message","text":"What is @sukera","user":"U013B4X7USX","ts":"1608449416.058400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ult","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is @sukera"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"6fd9e8e9-63fb-4257-9f65-82a12dafc483","type":"message","text":"<https://github.com/JuliaLang/julia/pull/32407> seems it is thread safe","user":"UH24GRBLL","ts":"1608449470.058600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q39","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/pull/32407"},{"type":"text","text":" seems it is thread safe"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"4e16b65d-9445-41d9-9770-65e6a7eb88c1","type":"message","text":"still, sharing RNGs between threads will lead to different results on each thread, since they still share the RNG state","user":"UH24GRBLL","ts":"1608449496.058800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gr6O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"still, sharing RNGs between threads will lead to different results on each thread, since they still share the RNG state"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"b0bf0fe2-9f12-48fb-9689-1a51a4562ccc","type":"message","text":"so the generated numbers are different because they're called by multiple threads","user":"UH24GRBLL","ts":"1608449513.059000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XcmRJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so the generated numbers are different because they're called by multiple threads"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"3eb95a3a-b4e4-47d0-801e-15314107bdd2","type":"message","text":"The reason you need StableRNGs is because even if you set the same seed, Julia's default RNG will give different numbers sequence every time now","user":"UH8A351DJ","ts":"1608449513.059200","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1608449530.000000"},"blocks":[{"type":"rich_text","block_id":"mwT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The reason you need StableRNGs is because even if you set the same seed, Julia's default RNG will give different numbers sequence every time now"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"222bbe5f-5f91-4c34-b383-6bd1417dfe64","type":"message","text":"that doesn't sound right to me","user":"UH24GRBLL","ts":"1608449529.059400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+p=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that doesn't sound right to me"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"27ea5f20-00fb-4ce9-b365-cd1a30691b75","type":"message","text":"StableRNGs exists because the stream of generated numbers is not guaranteed to be the same across julia versions, even if you set the seed","user":"UH24GRBLL","ts":"1608449551.059700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qs9d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"StableRNGs exists because the stream of generated numbers is not guaranteed to be the same across julia versions, even if you set the seed"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"6bf2be09-121f-4e86-9317-86f9d1a9c995","type":"message","text":"It will be the same on the same version though","user":"UH24GRBLL","ts":"1608449564.059900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xsF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It will be the same on the same version though"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"d59864e3-1178-4c5d-8fcf-72f635a34466","type":"message","text":"ah, you're right","user":"UH8A351DJ","ts":"1608449610.060100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DBT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, you're right"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"8162a60d-0277-4a7b-8766-8c9af8e2916d","type":"message","text":"if you want the same numbers after upgrading julia, use StableRNGs, if you're fine with them changing across versions but being stable for each single version, the default RNG is fine","user":"UH24GRBLL","ts":"1608449642.060300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1nkk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want the same numbers after upgrading julia, use StableRNGs, if you're fine with them changing across versions but being stable for each single version, the default RNG is fine"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"92e79d4c-740c-4515-b434-487f592abc3f","type":"message","text":"yes, but in any case, default RNG is thread safe now","user":"UH8A351DJ","ts":"1608449660.060500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nPG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, but in any case, default RNG is thread safe now"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"02e81c61-f87a-4523-8047-af6c7ae74af5","type":"message","text":"Yep, but that doesn't change the fact that having more than one thread access a RNG will lead to different number streams on each thread, since accessing a RNG still changes internal state","user":"UH24GRBLL","ts":"1608449716.060700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EVv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, but that doesn't change the fact that having more than one thread access a RNG will lead to different number streams on each thread, since accessing a RNG still changes internal state"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"fdcb2aae-f637-48ac-8477-815eb2180f36","type":"message","text":"so thread safety just means that the RNG state will not be corrupted, not that each thread accessing it gets the same numbers","user":"UH24GRBLL","ts":"1608449733.060900","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1608449743.000000"},"blocks":[{"type":"rich_text","block_id":"dEiq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so thread safety just means that the RNG state will not be corrupted, not that each thread accessing it gets the same numbers"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"8a26d81d-6599-4787-ab17-803eb2ad2da7","type":"message","text":"at least I'm pretty sure that's how it was :thinking_face:","user":"UH24GRBLL","ts":"1608449830.061200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8G2v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"at least I'm pretty sure that's how it was "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"381dd94d-76e6-449f-adba-1f174886f3d3","type":"message","text":"<https://julialang.org/blog/2019/07/multithreading/#random_number_generation>","user":"UH8A351DJ","ts":"1608449987.061400","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1608449991.000000"},"blocks":[{"type":"rich_text","block_id":"HG3Wc","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://julialang.org/blog/2019/07/multithreading/#random_number_generation"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"973839a8-c152-4c9b-bf70-bf15ccd496a6","type":"message","text":"my impression reading this paragraph is that each thread has its own RNG state object","user":"UH8A351DJ","ts":"1608450009.061800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wTF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"my impression reading this paragraph is that each thread has its own RNG state object"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"7c922f79-b3fb-4860-909d-3314eabb7c75","type":"message","text":"Yeah, just read the source","user":"UH24GRBLL","ts":"1608450364.062000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=e4rZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, just read the source"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"bf702722-9d87-4829-b419-89d65c2e422c","type":"message","text":"Each thread does have their own RNG in the interface, but they're not initialized with the same seed","user":"UH24GRBLL","ts":"1608450386.062200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JYfmI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Each thread does have their own RNG in the interface, but they're not initialized with the same seed"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX","reactions":[{"name":"+1","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"b23adabb-63a6-407f-824a-4802f4fd267c","type":"message","text":"What is this hidden state ?","user":"U013B4X7USX","ts":"1608450405.062500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LSHNI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is this hidden state ?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"4160cea4-9940-40de-80b6-2001b18a0990","type":"message","text":"so they're not synchronized by default (which is a good thing in general, but may be undesired sometimes)","user":"UH24GRBLL","ts":"1608450408.062700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vDjO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so they're not synchronized by default (which is a good thing in general, but may be undesired sometimes)"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"7ef8166e-d647-45fe-a2c7-a68086951c0a","type":"message","text":"It's basically an array of bytes the RNG uses to generate random numbers","user":"UH24GRBLL","ts":"1608450460.062900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qU8Ji","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's basically an array of bytes the RNG uses to generate random numbers"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"42801ce3-9831-49da-9f0c-27b217fffbb6","type":"message","text":"each time you call `rang(RNG)` (or `rand()` for that matter), this internal state is mutated","user":"UH24GRBLL","ts":"1608450477.063100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"avam","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"each time you call "},{"type":"text","text":"rang(RNG)","style":{"code":true}},{"type":"text","text":" (or "},{"type":"text","text":"rand()","style":{"code":true}},{"type":"text","text":" for that matter), this internal state is mutated"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"7b99579a-e2e4-471e-9f78-8a02c8bd2ee2","type":"message","text":"so if you want each thread to produce the same random numbers, you'll have to keep an array of synchronized RNGs","user":"UH24GRBLL","ts":"1608450533.063300","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1608450561.000000"},"blocks":[{"type":"rich_text","block_id":"1mIG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so if you want each thread to produce the same random numbers, you'll have to keep an array of synchronized RNGs"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"72ddcf0a-0b70-4f39-a37c-e4221876d057","type":"message","text":"if you don't care about that, just calling `rand()` on each thread is fine","user":"UH24GRBLL","ts":"1608450547.063500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XK/n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you don't care about that, just calling "},{"type":"text","text":"rand()","style":{"code":true}},{"type":"text","text":" on each thread is fine"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"61ede522-30a2-4a22-a6b6-d5e438e175ce","type":"message","text":"I still do not understand suppose I have one RNG initialized with the seed. With this tasks interface I just send some function which receives this ring to @spawn. It sent to some thread, the thread updates it internal state and I collect the result. It supposed to work but it gives me different results  each run.","user":"U013B4X7USX","ts":"1608450846.064500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cqGj7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I still do not understand suppose I have one RNG initialized with the seed. With this tasks interface I just send some function which receives this ring to @spawn. It sent to some thread, the thread updates it internal state and I collect the result. It supposed to work but it gives me different results  each run."}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"112d393c-4649-4282-b79a-fb71a23dd728","type":"message","text":"I'm not sure I understand - which part exactly isn't reproducible? can you share some code showcasing your setup?","user":"UH24GRBLL","ts":"1608450940.064700","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1608450955.000000"},"blocks":[{"type":"rich_text","block_id":"oty","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure I understand - which part exactly isn't reproducible? can you share some code showcasing your setup?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX","reactions":[{"name":"point_up","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"dc94977e-f6b4-4204-871a-f819ac2f91cb","type":"message","text":"I do not know I I will able to cut some small part of my code","user":"U013B4X7USX","ts":"1608451168.065300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G1O4d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I do not know I I will able to cut some small part of my code"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"803a5b77-294e-43a0-bf19-fd49a25bd7b4","type":"message","text":"I imagine you're doing something like:\n\n```rngs = [MersenneTwister(1234),MersenneTwister(1234),MersenneTwister(1234)]```\nand then try to use them separately in different threads?","user":"UH8A351DJ","ts":"1608451264.065500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zAH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I imagine you're doing something like:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"rngs = [MersenneTwister(1234),MersenneTwister(1234),MersenneTwister(1234)]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and then try to use them separately in different threads?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"bd809131-3ccb-447b-baab-3932f4fa7bf9","type":"message","text":"In general if I have say RNG1 and RNG2 if I do @spawn f(RNG1) and right after @spawn f(RNG2).  When I wait to @sync. It supposed to work right?","user":"U013B4X7USX","ts":"1608451305.065700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"be6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In general if I have say RNG1 and RNG2 if I do @spawn f(RNG1) and right after @spawn f(RNG2).  When I wait to @sync. It supposed to work right?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"d9d78321-d6b1-4348-95ec-6f0ce6705317","type":"message","text":"what is supposed to work?","user":"UH24GRBLL","ts":"1608451318.065900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tkqU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what is supposed to work?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"87c23328-952d-4f90-b2b6-a47262afc0f1","type":"message","text":"what do you expect to happen and what is actually happening?","user":"UH24GRBLL","ts":"1608451329.066100","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1608451343.000000"},"blocks":[{"type":"rich_text","block_id":"v=mnf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you expect to happen and what is actually happening?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX","reactions":[{"name":"point_up","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"19b3cf48-f905-4894-b250-393b8a750eae","type":"message","text":"I want that I I run simulation twice with two seed for RNG1 and seed for RNG2 it will return same result always","user":"U013B4X7USX","ts":"1608451401.066500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WW836","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want that I I run simulation twice with two seed for RNG1 and seed for RNG2 it will return same result always"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"22d90fa0-401e-4565-83c5-3a06e0f94462","type":"message","text":"are the seeds the same?","user":"UH24GRBLL","ts":"1608451414.066700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"icJf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are the seeds the same?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"c96d86ea-1784-4382-8887-243efcea7598","type":"message","text":"No","user":"U013B4X7USX","ts":"1608451418.066900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K6GrR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"6b8d69a0-9a1f-4020-910e-00125998c5f2","type":"message","text":"then it's expected that the results differ","user":"UH24GRBLL","ts":"1608451427.067100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v1xw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then it's expected that the results differ"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"3e30c692-c057-405d-81f2-a8b49fdf6d4c","type":"message","text":"I'm not sure why you'd think otherwise?","user":"UH24GRBLL","ts":"1608451435.067300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QLFdR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure why you'd think otherwise?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"52a53243-1ac1-44f7-84ce-83a43d501312","type":"message","text":"what is `f` doing?","user":"UH24GRBLL","ts":"1608451446.067500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+49Gq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what is "},{"type":"text","text":"f","style":{"code":true}},{"type":"text","text":" doing?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"b07f4735-7b63-4c10-aa4d-c8a059453615","type":"message","text":"I mean results from two calls f(RNG1) and g(RNG2 ) in parallel threads.","user":"U013B4X7USX","ts":"1608451477.067700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bcWLj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean results from two calls f(RNG1) and g(RNG2 ) in parallel threads."}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"95e95d9a-0536-417d-90c9-ca3992fe169e","type":"message","text":"ok so if you have `RNG1 = MersenneTwister(1)` and `RNG2 = MersenneTwister(2)`, they will produce different streams of numbers and thus lead to different results","user":"UH24GRBLL","ts":"1608451518.067900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dyh6v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok so if you have "},{"type":"text","text":"RNG1 = MersenneTwister(1)","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"RNG2 = MersenneTwister(2)","style":{"code":true}},{"type":"text","text":", they will produce different streams of numbers and thus lead to different results"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"9ce24f9c-84cf-4f0b-8436-1ca0ae8c8691","type":"message","text":"```julia&gt; rng = [MersenneTwister(1234), MersenneTwister(1234)];\n\njulia&gt; f(g) = rand(g,2);\n\njulia&gt; t1 = Threads.@spawn f(rng[1]);\n\njulia&gt; t2 = Threads.@spawn f(rng[2]);\n\njulia&gt; fetch(t1) == fetch(t2)\ntrue```","user":"UH8A351DJ","ts":"1608451524.068100","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1608451531.000000"},"blocks":[{"type":"rich_text","block_id":"pXo0","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> rng = [MersenneTwister(1234), MersenneTwister(1234)];\n\njulia> f(g) = rand(g,2);\n\njulia> t1 = Threads.@spawn f(rng[1]);\n\njulia> t2 = Threads.@spawn f(rng[2]);\n\njulia> fetch(t1) == fetch(t2)\ntrue"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"5ddc5708-a9f7-452f-854d-5fb59c359289","type":"message","text":"because they have different seeds","user":"UH24GRBLL","ts":"1608451526.068300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/y6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because they have different seeds"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"80be25e8-91f6-4a64-8ea5-2daabf23a3eb","type":"message","text":"does this make sense? <@U013B4X7USX>","user":"UH8A351DJ","ts":"1608451551.068600","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1608451554.000000"},"blocks":[{"type":"rich_text","block_id":"PH5w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does this make sense? "},{"type":"user","user_id":"U013B4X7USX"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"6ac3fd35-a3c4-4bc8-82aa-be5d67c5f33a","type":"message","text":"if you just do `RNG1 = MersenneTwister()` and `RNG2 = MersenneTwister()`, _they will still have different seeds_.","user":"UH24GRBLL","ts":"1608451565.068900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hirub","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you just do "},{"type":"text","text":"RNG1 = MersenneTwister()","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"RNG2 = MersenneTwister()","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"they will still have different seeds","style":{"italic":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX","reactions":[{"name":"heavy_check_mark","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"332ad0a0-9cd1-40e6-990e-327e2f8dfcbd","type":"message","text":"how are you initialising your RNGs?","user":"UH24GRBLL","ts":"1608451586.069200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U5D6E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how are you initialising your RNGs?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"b46932cc-1078-460b-9bbf-e1d641c867b1","type":"message","text":"can you share your code with us, maybe via <http://gist.github.com|gist.github.com>?","user":"UH24GRBLL","ts":"1608451611.069400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xPz=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you share your code with us, maybe via "},{"type":"link","url":"http://gist.github.com","text":"gist.github.com"},{"type":"text","text":"?"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX"},{"client_msg_id":"d2d0ae9b-5b90-43a4-a7c2-5bbef8d990fe","type":"message","text":"Thanks guys. I got it!","user":"U013B4X7USX","ts":"1608452302.069600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WAJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks guys. I got it!"}]}]}],"thread_ts":"1608411138.017800","parent_user_id":"U013B4X7USX","reactions":[{"name":"+1","users":["UH8A351DJ","UH24GRBLL"],"count":2}]}]