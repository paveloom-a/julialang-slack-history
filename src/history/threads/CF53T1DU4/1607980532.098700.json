[{"client_msg_id":"b2731467-5773-4ea5-86f8-db55eb37a958","type":"message","text":"If you have a reproducible example (best small and self-contained)","user":"U67BJLYCS","ts":"1607980532.098700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1tC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you have a reproducible example (best small and self-contained)"}]}]}],"thread_ts":"1607980532.098700","reply_count":27,"reply_users_count":2,"latest_reply":"1607994990.104300","reply_users":["ULTB7E6UW","U67BJLYCS"],"subscribed":false},{"client_msg_id":"8209d302-6ba1-4b2a-89c5-c32801f7071a","type":"message","text":"So, it's quite reproduceable.  At this point it isn't small.","user":"ULTB7E6UW","ts":"1607988399.099100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bvGG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So, it's quite reproduceable.  At this point it isn't small."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"c229cc88-50f5-4721-bcd5-f6a2b316fc99","type":"message","text":"<https://github.com/clarkevans/HypertextLiteral.jl/tree/aa9c124c5f37736b8adac9505b48afbe0d3e11a4>","user":"ULTB7E6UW","ts":"1607988702.099300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s78lY","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/clarkevans/HypertextLiteral.jl/tree/aa9c124c5f37736b8adac9505b48afbe0d3e11a4"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"f31bc541-2166-4faf-88b2-010664ac3636","type":"message","text":"after installing package, it's \"test/benchmark.jl\"","user":"ULTB7E6UW","ts":"1607988726.099500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ooXf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"after installing package, it's \"test/benchmark.jl\""}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"85907a66-1db6-4576-adc8-0deb9ebafdd4","type":"message","text":"Over next few days I'll see if I can reduce it to something smaller.","user":"ULTB7E6UW","ts":"1607988751.099700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7c3m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Over next few days I'll see if I can reduce it to something smaller."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"d8a93483-a72d-48e2-8f0c-9583b6a3a0cf","type":"message","text":"```1.5.3 -- Trial(790.157 μs)\nnightly - Trial(834.075 μs)```\non my ancient desktop...","user":"ULTB7E6UW","ts":"1607988791.099900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oe8w","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"1.5.3 -- Trial(790.157 μs)\nnightly - Trial(834.075 μs)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"on my ancient desktop..."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"6701c2de-2840-463e-b237-610b7cd8f950","type":"message","text":"This surprised me; earlier version of this benchmark had nightly winning by 20-30%.  But some recent changes swapped fortunes.","user":"ULTB7E6UW","ts":"1607988843.100100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Id/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This surprised me; earlier version of this benchmark had nightly winning by 20-30%.  But some recent changes swapped fortunes."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"9b1e5bb2-dae0-4eab-b6b4-5d6002aa7092","type":"message","text":"If you have time a `git bisect` would be helpful","user":"U67BJLYCS","ts":"1607988867.100300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K1/wi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you have time a "},{"type":"text","text":"git bisect","style":{"code":true}},{"type":"text","text":" would be helpful"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"ccfdd20c-1898-43fc-97eb-94cad9b5ef39","type":"message","text":"oh... Version 1.7.0-DEV.58 (2020-12-14) is what that's on","user":"ULTB7E6UW","ts":"1607988913.100500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gZJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh... Version 1.7.0-DEV.58 (2020-12-14) is what that's on"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"c30ff8a9-c716-46c9-a39b-78997ea13c5c","type":"message","text":"How do I get 1.6 pre-release?","user":"ULTB7E6UW","ts":"1607988922.100700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RXRGg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I get 1.6 pre-release?"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"3d2eddb1-f582-4400-aba9-d1ee809c3662","type":"message","text":"git checkout `release/1.6`","user":"U67BJLYCS","ts":"1607988942.100900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OCk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"git checkout "},{"type":"text","text":"release/1.6","style":{"code":true}}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"16fd36cd-c48e-463e-a7ba-27ed67d77df9","type":"message","text":"ok; that's what I should be reporting against, yea?  You having a -alpha tag soonish?","user":"ULTB7E6UW","ts":"1607988980.101100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IwKCs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok; that's what I should be reporting against, yea?  You having a -alpha tag soonish?"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"b9b7a825-28a4-45c1-b494-da720d39847e","type":"message","text":"nighly was 1.6 just a week ago, as I recall","user":"ULTB7E6UW","ts":"1607988995.101300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZQO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nighly was 1.6 just a week ago, as I recall"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"947cb8d2-babd-4653-88bd-293f9d38cfd4","type":"message","text":"yes we recently branched","user":"U67BJLYCS","ts":"1607989005.101500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9PB4W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes we recently branched"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"39edddfe-071a-4411-b2d8-2320dc9148ba","type":"message","text":"`1.7.0-DEV.58` is roughly 58 committs ahead of that","user":"U67BJLYCS","ts":"1607989023.101700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ldU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1.7.0-DEV.58","style":{"code":true}},{"type":"text","text":" is roughly 58 committs ahead of that"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"dc4da20b-b0d2-4c98-afea-fff0d3613986","type":"message","text":"but many of those will be backported","user":"U67BJLYCS","ts":"1607989030.101900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bLI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but many of those will be backported"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"86db2c58-73b9-44bf-9e1e-35629eee69fe","type":"message","text":"OK.  I'll stick with nightly then? or did you want against 1.6?","user":"ULTB7E6UW","ts":"1607989049.102100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ROFl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK.  I'll stick with nightly then? or did you want against 1.6?"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"d1fc0ba6-5cda-4931-8ff8-c7cf833aa5f3","type":"message","text":"I'm pretty busy for a few days; is early next week for a report ok?","user":"ULTB7E6UW","ts":"1607989069.102300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t4dug","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm pretty busy for a few days; is early next week for a report ok?"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"0755eae2-2f27-4ee9-8458-37c355464958","type":"message","text":"Whenever you get to it","user":"U67BJLYCS","ts":"1607989085.102500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C4o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Whenever you get to it"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"b704ebf0-c65f-46fe-8495-2c2204cef25a","type":"message","text":"Ok.  1.6 performance has beeen awesome.","user":"ULTB7E6UW","ts":"1607989099.102700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eZ0cm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok.  1.6 performance has beeen awesome."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"926ea99f-7310-4fbd-acf0-bd7c8b70d159","type":"message","text":"It also ran poorly on 1.6 snapshot I have from 2 weeks ago; but I deleted that snapshot","user":"ULTB7E6UW","ts":"1607989129.102900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7DrQr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It also ran poorly on 1.6 snapshot I have from 2 weeks ago; but I deleted that snapshot"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"6d95c29c-a1f0-4d03-b987-67c27c118fcb","type":"message","text":"(poorly, meaning 5% slower rather than 30% faster)","user":"ULTB7E6UW","ts":"1607989141.103100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uTYl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(poorly, meaning 5% slower rather than 30% faster)"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"1cca7e8a-4c8e-4f77-9c92-bbc9d4022b9f","type":"message","text":"yeah If you can figure out when that started to happen","user":"U67BJLYCS","ts":"1607989149.103300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tppPR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah If you can figure out when that started to happen"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"1ffddd66-4949-44ac-982a-aceed4cf473b","type":"message","text":"ok, ttul","user":"ULTB7E6UW","ts":"1607989154.103500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QqGw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, ttul"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"d4c3a95e-15fb-489f-9bb2-dd6ab112537b","type":"message","text":"that would be super helpful","user":"U67BJLYCS","ts":"1607989155.103700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z36hS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would be super helpful"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"c213c257-a1eb-4263-bf08-2e70fdd76451","type":"message","text":"Well, I isolated recently added code and that wasn't it.   That code is <https://gist.github.com/clarkevans/bbb6cfde95821eac278abeed161666ac> and any comments would be great.","user":"ULTB7E6UW","ts":"1607993923.103900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"72c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, I isolated recently added code and that wasn't it.   That code is "},{"type":"link","url":"https://gist.github.com/clarkevans/bbb6cfde95821eac278abeed161666ac"},{"type":"text","text":" and any comments would be great."}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"9510aebd-e7e0-4276-80aa-185d2a8ad749","type":"message","text":"What's interesting is how speedy this code is in 1.0.3 compared to 1.5.3 or 1.6-DEV\n```cce@klein:~$ julia-1.0.5 bench.jl \nstring  Trial(337.416 μs)\nwrapped Trial(184.835 μs)\ncce@klein:~$ julia-1.5.3 bench.jl \nstring  Trial(703.171 μs)\nwrapped Trial(577.851 μs)\ncce@klein:~$ ./julia/julia bench.jl # Version 1.6.0-DEV.1722 (599d3299c9)\nstring  Trial(666.402 μs)\nwrapped Trial(549.778 μs)```","user":"ULTB7E6UW","ts":"1607993967.104100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r/W2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's interesting is how speedy this code is in 1.0.3 compared to 1.5.3 or 1.6-DEV\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"cce@klein:~$ julia-1.0.5 bench.jl \nstring  Trial(337.416 μs)\nwrapped Trial(184.835 μs)\ncce@klein:~$ julia-1.5.3 bench.jl \nstring  Trial(703.171 μs)\nwrapped Trial(577.851 μs)\ncce@klein:~$ ./julia/julia bench.jl # Version 1.6.0-DEV.1722 (599d3299c9)\nstring  Trial(666.402 μs)\nwrapped Trial(549.778 μs)"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"},{"client_msg_id":"d1bdeaa4-e94d-41d0-abda-13ab00c67234","type":"message","text":"But something else I've done has made 1.6-DEV slower than 1.5.3...\n```cce@galois:~/HypertextLiteral.jl$ ~/julia/julia test/benchmark.jl \nHypertextLiteral: Trial(835.515 μs) # Version 1.6.0-DEV.1722 (599d3299c9)\ncce@galois:~/HypertextLiteral.jl$ julia test/benchmark.jl \nHypertextLiteral: Trial(790.419 μs) # Version 1.5.3```","user":"ULTB7E6UW","ts":"1607994990.104300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4jlwt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But something else I've done has made 1.6-DEV slower than 1.5.3...\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"cce@galois:~/HypertextLiteral.jl$ ~/julia/julia test/benchmark.jl \nHypertextLiteral: Trial(835.515 μs) # Version 1.6.0-DEV.1722 (599d3299c9)\ncce@galois:~/HypertextLiteral.jl$ julia test/benchmark.jl \nHypertextLiteral: Trial(790.419 μs) # Version 1.5.3"}]}]}],"thread_ts":"1607980532.098700","parent_user_id":"U67BJLYCS"}]