[{"client_msg_id":"8cfdea73-ff2d-4724-b473-e38adf55faa1","type":"message","text":"In which case running `GC.gc()` manually not really run the gc in the backend ?\nI have disabled gc by running `GC.enable(false)` first and then calling GC.gc() manually","user":"U01GZQ6B0JU","ts":"1608532265.145000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xUn6X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In which case running "},{"type":"text","text":"GC.gc()","style":{"code":true}},{"type":"text","text":" manually not really run the gc in the backend ?\nI have disabled gc by running "},{"type":"text","text":"GC.enable(false) ","style":{"code":true}},{"type":"text","text":"first and then calling GC.gc() manually"}]}]}],"thread_ts":"1608532265.145000","reply_count":3,"reply_users_count":2,"latest_reply":"1608532740.145600","reply_users":["U0179G7FG4F","U01GZQ6B0JU"],"subscribed":false},{"client_msg_id":"4a292dd4-a48c-4401-8da2-cb654cbb11b4","type":"message","text":"With multi-threaded code, things get hairier at least. gc will be run, but possibly not as soon as you intend.","user":"U0179G7FG4F","ts":"1608532378.145100","team":"T68168MUP","edited":{"user":"U0179G7FG4F","ts":"1608532383.000000"},"blocks":[{"type":"rich_text","block_id":"Vw6Vh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With multi-threaded code, things get hairier at least. gc will be run, but possibly not as soon as you intend."}]}]}],"thread_ts":"1608532265.145000","parent_user_id":"U01GZQ6B0JU"},{"client_msg_id":"bd8c2d09-8c54-4aba-8eb0-a1447294b1bd","type":"message","text":"oh, earlier it ran as soon as I hit the GC.gc()\nAlso in the global space it still runs, but within a function it seems to be not running\nI am using multithreading in between but GC is called outside of that","user":"U01GZQ6B0JU","ts":"1608532467.145400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=mNG1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, earlier it ran as soon as I hit the GC.gc()\nAlso in the global space it still runs, but within a function it seems to be not running\nI am using multithreading in between but GC is called outside of that"}]}]}],"thread_ts":"1608532265.145000","parent_user_id":"U01GZQ6B0JU"},{"client_msg_id":"6259a285-beec-4e88-bbbd-ea826aba8e43","type":"message","text":"One more observation\nSo I have a\n`function main()`\n  `GC.enable(false)`\n  `for i in 1:10`\n     `fun1(i)`\n     `GC.gc()`\n     `func2(i)`\n     `GC.gc()`\n  `end`\n  `GC.enable(true0`\n`end`\nSo in this case the GC doesnt run\n\nBut , when I add the GC logic in both of fun1 and fun2, The gc is running with each call\n`function fun1(i)`\n  `GC.enable(false)`\n  `## Do something here`\n  `GC.gc()`\n  `GC.enable(true)`\n`end`\n\n`function main()`\n  `for i in 1:10`\n  `fun1()`\n  `fun2()`\n`end`","user":"U01GZQ6B0JU","ts":"1608532740.145600","team":"T68168MUP","edited":{"user":"U01GZQ6B0JU","ts":"1608532920.000000"},"blocks":[{"type":"rich_text","block_id":"5aT5D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One more observation\nSo I have a\n"},{"type":"text","text":"function main()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  GC.enable(false)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  for i in 1:10","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"     fun1(i)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"     GC.gc()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"     func2(i)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"     GC.gc()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  end","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  GC.enable(true0","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"end","style":{"code":true}},{"type":"text","text":"\nSo in this case the GC doesnt run\n\nBut , when I add the GC logic in both of fun1 and fun2, The gc is running with each call\n"},{"type":"text","text":"function fun1(i)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  GC.enable(false)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  ## Do something here","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  GC.gc()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  GC.enable(true)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"end","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"function main()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  for i in 1:10","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  fun1()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  fun2()","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"end","style":{"code":true}}]}]}],"thread_ts":"1608532265.145000","parent_user_id":"U01GZQ6B0JU"}]