[{"client_msg_id":"4fdfab7b-32ff-44c6-8143-03be0fed7feb","type":"message","text":"I don't quite understand why `add_this_pkg` is doing in the tests.","user":"U67SCG4HG","ts":"1608580287.128700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rOl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't quite understand why "},{"type":"text","text":"add_this_pkg","style":{"code":true}},{"type":"text","text":" is doing in the tests."}]}]}]},{"client_msg_id":"60b60e93-1149-447b-959d-2e521c26ba81","type":"message","text":"But the build code will run in another process which is set-up by that function","user":"U67SCG4HG","ts":"1608580240.128300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qCuoP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But the build code will run in another process which is set-up by that function"}]}]}]},{"client_msg_id":"88f96f79-8b46-43bc-8725-7ed53f2c3d19","type":"message","text":"I believe the `Pkg.develop()` at the end will cause the current manifest to become completely instantiated","user":"U66GD0880","ts":"1608579598.127700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ggz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe the "},{"type":"text","text":"Pkg.develop()","style":{"code":true}},{"type":"text","text":" at the end will cause the current manifest to become completely instantiated"}]}]}]},{"client_msg_id":"15a140b8-1bd4-42d5-a219-7d9f6bc4799f","type":"message","text":"<https://github.com/JuliaLang/Pkg.jl/blob/master/test/utils.jl#L234-L243>","user":"U66GD0880","ts":"1608579583.127300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4yLqQ","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/blob/master/test/utils.jl#L234-L243"}]}]}]},{"client_msg_id":"38858170-5e19-4eea-8fae-95d0de7c89d4","type":"message","text":"it’s the utility function we use to ensure that the correct Pkg is loaded by our test packages","user":"U66GD0880","ts":"1608579577.127100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vduIK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s the utility function we use to ensure that the correct Pkg is loaded by our test packages"}]}]}]},{"client_msg_id":"e84ad149-bfba-4236-8874-9805b1f4d366","type":"message","text":"What is `add_this_pkg()`?","user":"U67SCG4HG","ts":"1608579549.126700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"APset","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is "},{"type":"text","text":"add_this_pkg()","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"22b43e5e-a344-4d95-bf4c-3fa67ca1582b","type":"message","text":"Right?  Or am I wrong?","user":"U66GD0880","ts":"1608579500.126300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NgYxg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right?  Or am I wrong?"}]}]}]},{"client_msg_id":"6969d265-4657-4c48-b779-2ebd07360142","type":"message","text":"Yes, that’s what I’m doing right now, but even without any special code the load passes, because the Pkg testing utilities will instantiate the whole project manifest when you call `add_this_pkg()`","user":"U66GD0880","ts":"1608579485.125800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oj4X1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that’s what I’m doing right now, but even without any special code the load passes, because the Pkg testing utilities will instantiate the whole project manifest when you call "},{"type":"text","text":"add_this_pkg()","style":{"code":true}}]}]}]},{"client_msg_id":"d438eb2d-72d1-44d5-86d6-1bbd4d128a80","type":"message","text":"Just load it from the hook then?","user":"U67SCG4HG","ts":"1608579442.124800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l7I0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just load it from the hook then?"}]}]}]},{"client_msg_id":"5c7bedce-6852-4202-b719-d35c67ea0b5f","type":"message","text":"or should I just not bother testing this?","user":"U66GD0880","ts":"1608579423.124500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cFo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or should I just not bother testing this?"}]}]}]},{"client_msg_id":"3861866f-ef82-4c5f-b408-35b13189883c","type":"message","text":"It is a dep; but what I want to test is the fact that `StructIO` should be installed and ready to load by the time that the hook is run.","user":"U66GD0880","ts":"1608579412.124200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VJtQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is a dep; but what I want to test is the fact that "},{"type":"text","text":"StructIO","style":{"code":true}},{"type":"text","text":" should be installed and ready to load by the time that the hook is run."}]}]}]},{"client_msg_id":"dee7c97f-4546-4656-9016-53ce917619df","type":"message","text":"Aa long as StructIO is not a dep to AugmentedPlatform if should fail","user":"U67D54KS8","ts":"1608579363.122900","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1608579390.000000"},"blocks":[{"type":"rich_text","block_id":"5QK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Aa long as StructIO is not a dep to AugmentedPlatform if should fail"}]}]}]},{"client_msg_id":"764a381d-e14d-4dc4-9d11-3700cf3aa749","type":"message","text":"Basically, I’m asking “how do I `Pkg.add(\"AugmentedPlatform\")` in the test suite and have the `using StructIO` in `AugmentedPlatform/.pkg/select_artifacts.jl` fail?  I want to ensure that it fails now, and when I add in the proper code that it doesn’t fail.  But from my reading right now, all of our test utility code will ensure that everything is instantiated because when we do things like `add_this_pkg()`, it calls` develop()` which will in turn call `resolve/instantiate` on the whole project.","user":"U66GD0880","ts":"1608576876.122100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I91l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Basically, I’m asking “how do I "},{"type":"text","text":"Pkg.add(\"AugmentedPlatform\")","style":{"code":true}},{"type":"text","text":" in the test suite and have the "},{"type":"text","text":"using StructIO","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":"AugmentedPlatform/.pkg/select_artifacts.jl","style":{"code":true}},{"type":"text","text":" fail?  I want to ensure that it fails now, and when I add in the proper code that it doesn’t fail.  But from my reading right now, all of our test utility code will ensure that everything is instantiated because when we do things like "},{"type":"text","text":"add_this_pkg()","style":{"code":true}},{"type":"text","text":", it calls` develop()` which will in turn call "},{"type":"text","text":"resolve/instantiate","style":{"code":true}},{"type":"text","text":" on the whole project."}]}]}]},{"client_msg_id":"efe0e3b4-54f8-4f2c-a3f4-0fb91ebd790b","type":"message","text":"Hm, I don't really get the question, or rather, I don't really understand the second paragraph at all. What is the issue with just loading `Bar` inside `Foo/.pkg/select_artifacts.jl` and make sure that it works properly. Or do you mean that you want to test that the correct ´Bar` is loaded (corresponding to the currently active manifest)?","user":"U67D54KS8","ts":"1608576069.119200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OYv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, I don't really get the question, or rather, I don't really understand the second paragraph at all. What is the issue with just loading "},{"type":"text","text":"Bar","style":{"code":true}},{"type":"text","text":" inside "},{"type":"text","text":"Foo/.pkg/select_artifacts.jl","style":{"code":true}},{"type":"text","text":" and make sure that it works properly. Or do you mean that you want to test that the correct ´Bar` is loaded (corresponding to the currently active manifest)?"}]}]}]},{"client_msg_id":"1d22791a-680f-450a-8079-cf4dd2ee7266","type":"message","text":"anybody have any ideas?","user":"U66GD0880","ts":"1608574532.117900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ec+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anybody have any ideas?"}]}]}]},{"client_msg_id":"6ca56acc-b8bb-4112-994c-41f7afc989c5","type":"message","text":"I’ve looked for the `build()` tests to see if there’s any way of properly testing this, but so far I haven’t seen it.","user":"U66GD0880","ts":"1608574521.117600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ugPW2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve looked for the "},{"type":"text","text":"build()","style":{"code":true}},{"type":"text","text":" tests to see if there’s any way of properly testing this, but so far I haven’t seen it."}]}]}]},{"client_msg_id":"421f4276-beef-449b-91db-69f8c3189bdf","type":"message","text":"Most of the `Pkg` tests instantiate the test package manifests though, so despite the fact that `test/test_pkgs/AugmentedPlatform` has `StructIO` listed in its dependencies, that gets instantiated during the Pkg operations that ensure that our dev’ed `Pkg` is the one that gets loaded.","user":"U66GD0880","ts":"1608574504.117100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YoU5E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Most of the "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" tests instantiate the test package manifests though, so despite the fact that "},{"type":"text","text":"test/test_pkgs/AugmentedPlatform","style":{"code":true}},{"type":"text","text":" has "},{"type":"text","text":"StructIO","style":{"code":true}},{"type":"text","text":" listed in its dependencies, that gets instantiated during the Pkg operations that ensure that our dev’ed "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" is the one that gets loaded."}]}]}]},{"client_msg_id":"bc9c54db-6faa-4814-b28e-30e29376b6a5","type":"message","text":"I’m trying to make <https://github.com/JuliaLang/Pkg.jl/pull/2024> work like `build()` and I want to add a test to ensure that the resolution order is working properly; e.g. when I run `Pkg.add(\"Foo\")`, and `Foo` uses `Bar` inside of its `.pkg/select_artifacts.jl` file, I want to ensure that it works properly.","user":"U66GD0880","ts":"1608574421.115500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7HIV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m trying to make "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2024"},{"type":"text","text":" work like "},{"type":"text","text":"build()","style":{"code":true}},{"type":"text","text":" and I want to add a test to ensure that the resolution order is working properly; e.g. when I run "},{"type":"text","text":"Pkg.add(\"Foo\")","style":{"code":true}},{"type":"text","text":", and "},{"type":"text","text":"Foo","style":{"code":true}},{"type":"text","text":" uses "},{"type":"text","text":"Bar","style":{"code":true}},{"type":"text","text":" inside of its "},{"type":"text","text":".pkg/select_artifacts.jl","style":{"code":true}},{"type":"text","text":" file, I want to ensure that it works properly."}]}]}]},{"client_msg_id":"feb49db7-3f8e-4726-a86a-5e9d4f00922f","type":"message","text":"I mean, what commit caused the change?","user":"U67D54KS8","ts":"1608329776.112200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dh1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, what commit caused the change?"}]}]}],"thread_ts":"1608329776.112200","reply_count":8,"reply_users_count":2,"latest_reply":"1608399998.114100","reply_users":["U6C1MMAAJ","U67D54KS8"],"subscribed":false},{"client_msg_id":"28bf73ca-e6f0-4b02-9d79-1442b2f9e821","type":"message","text":"libuv never implemented the mode in the first place, but it might be due different behavior from the change from CRT functions to  CreateDirectoryW  (which now does allow you to pass a mode)","user":"U6C1MMAAJ","ts":"1608328464.110500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xOK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"libuv never implemented the mode in the first place, but it might be due different behavior from the change from CRT functions to  CreateDirectoryW  (which now does allow you to pass a mode)"}]}]}]},{"client_msg_id":"c72f19b6-0ffb-47f0-b66f-1588c5c06a1a","type":"message","text":"So it was the libuv bump that caused it?","user":"U67D54KS8","ts":"1608327648.108800","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1608327655.000000"},"blocks":[{"type":"rich_text","block_id":"f87","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it was the libuv bump that caused it?"}]}]}]},{"client_msg_id":"dc0f2d2f-2d1f-4be7-a109-cafc3f8c3f1e","type":"message","text":"Well I can't comment on whether it's ugly or not, but rather libuv hasn't made a decision on how to implement it in a cross-platform compatible way, which is why it's messy since now every program that relies on libuv has to do it themselves.","user":"U6C1MMAAJ","ts":"1608327597.107800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F39wQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I can't comment on whether it's ugly or not, but rather libuv hasn't made a decision on how to implement it in a cross-platform compatible way, which is why it's messy since now every program that relies on libuv has to do it themselves."}]}]}]},{"client_msg_id":"cc4ae444-e620-442b-bfdd-3a7df8b8154d","type":"message","text":"in general, allowing programs to work similarly on all platforms seems good","user":"U6795JH6H","ts":"1608327513.106700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"avlVQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in general, allowing programs to work similarly on all platforms seems good"}]}]}]},{"type":"message","text":"all permission stuff seems to be ugly on Windows, so ¯\\_(ツ)_/¯","user":"U6795JH6H","ts":"1608327498.106300","team":"T68168MUP"},{"client_msg_id":"b0d8be72-d99d-453d-840a-aed0d2f90105","type":"message","text":"Technically our documentation says we pass 0o777, but we don't actually do that on Windows. So following that operation with `chmod` even if ugly should be the   correct way to go about this.","user":"U6C1MMAAJ","ts":"1608327420.105700","team":"T68168MUP","edited":{"user":"U6C1MMAAJ","ts":"1608328688.000000"},"blocks":[{"type":"rich_text","block_id":"/q0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Technically our documentation says we pass 0o777, but we don't actually do that on Windows. So following that operation with "},{"type":"text","text":"chmod","style":{"code":true}},{"type":"text","text":" even if ugly should be the   correct way to go about this."}]}]}],"reactions":[{"name":"zero","users":["U680THK2S"],"count":1},{"name":"o","users":["U680THK2S"],"count":1},{"name":"seven","users":["U680THK2S"],"count":1}]},{"client_msg_id":"91bd1f68-8c54-45e5-b0f6-4477054eb1a4","type":"message","text":"yes that's what my first proposal is.","user":"U6C1MMAAJ","ts":"1608327383.105000","team":"T68168MUP","edited":{"user":"U6C1MMAAJ","ts":"1608328649.000000"},"blocks":[{"type":"rich_text","block_id":"2TjbZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes that's what my first proposal is."}]}]}]},{"client_msg_id":"bb87f724-16cc-4cd7-b43d-b3b2a2a61147","type":"message","text":"would it be reasonable to just follow every mkdir operation on Windows with a `chdir` to fix the permissions to match what UNIX would do?","user":"U6795JH6H","ts":"1608327372.104800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rrX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"would it be reasonable to just follow every mkdir operation on Windows with a "},{"type":"text","text":"chdir","style":{"code":true}},{"type":"text","text":" to fix the permissions to match what UNIX would do?"}]}]}]},{"client_msg_id":"9940e184-cebf-4660-9ae9-6ed93ce09a2d","type":"message","text":"albeit , we might just want to fix `mkdir` even with a temporary hack.","user":"U6C1MMAAJ","ts":"1608327357.104400","team":"T68168MUP","edited":{"user":"U6C1MMAAJ","ts":"1608327366.000000"},"blocks":[{"type":"rich_text","block_id":"zhZ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"albeit , we might just want to fix "},{"type":"text","text":"mkdir","style":{"code":true}},{"type":"text","text":" even with a temporary hack."}]}]}]},{"client_msg_id":"908258c8-5414-4590-a94a-7a01f651f83f","type":"message","text":"I'm leaning towards the second stop-gap solution, until the first is more holistically resolved.","user":"U6C1MMAAJ","ts":"1608326998.103800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BTCP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm leaning towards the second stop-gap solution, until the first is more holistically resolved."}]}]}]},{"client_msg_id":"2099b5a7-5025-4eed-beb9-adae0c815beb","type":"message","text":"Which method is preferred?","user":"U6C1MMAAJ","ts":"1608326978.103300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fdSx0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which method is preferred?"}]}]}]},{"client_msg_id":"9bbbee1d-d257-43c6-b3c2-7ae0da568ef0","type":"message","text":"Anyone want to discuss:\n\nThere are two solutions to <https://github.com/JuliaLang/julia/issues/38411>:\n\nOne involves   `chmod` every `mkdir` operation to ensure mode `0o777` is actually true  on Windows.\n\nThe second is preemptively creating `.julia` in Pkg.jl and ensuring `chmod` is correct.","user":"U6C1MMAAJ","ts":"1608326959.103000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TjJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Anyone want to discuss:\n\nThere are two solutions to "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/38411"},{"type":"text","text":":\n\nOne involves   "},{"type":"text","text":"chmod","style":{"code":true}},{"type":"text","text":" every "},{"type":"text","text":"mkdir","style":{"code":true}},{"type":"text","text":" operation to ensure mode "},{"type":"text","text":"0o777","style":{"code":true}},{"type":"text","text":" is actually true  on Windows.\n\nThe second is preemptively creating "},{"type":"text","text":".julia","style":{"code":true}},{"type":"text","text":" in Pkg.jl and ensuring "},{"type":"text","text":"chmod","style":{"code":true}},{"type":"text","text":" is correct."}]}]}]},{"client_msg_id":"52284935-00c9-45cf-8c8a-5083202e461f","type":"message","text":"I’m not sure if much needs to change, but I feel like I need to “load” the whole thing into my head to think it through again","user":"U6795JH6H","ts":"1608311074.099300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q4H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m not sure if much needs to change, but I feel like I need to “load” the whole thing into my head to think it through again"}]}]}]},{"client_msg_id":"9fa49081-b1e8-4755-93da-37812d3ec1b3","type":"message","text":"I really feel like we need to take a fresh look at active project stuff with the experience of lots of people having used it in anger for a few years","user":"U6795JH6H","ts":"1608311003.098600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"45OxS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I really feel like we need to take a fresh look at active project stuff with the experience of lots of people having used it in anger for a few years"}]}]}]},{"client_msg_id":"3a1b6249-e7fb-4f1c-bf96-77c4ba841ac3","type":"message","text":"This inconsistency trips me up at times\n```$ ls\n\n$ JULIA_LOAD_PATH=$PWD julia -E 'Base.active_project()'\nnothing\n\n$ JULIA_LOAD_PATH=$PWD/Project.toml julia -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\"\n\n$ julia --project=$PWD -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\"\n\n$ julia --project=$PWD/Project.toml -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\"```\nbut looks like it is needed to support package directories in load path...","user":"U67SCG4HG","ts":"1608292589.097600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OdE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This inconsistency trips me up at times\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ ls\n\n$ JULIA_LOAD_PATH=$PWD julia -E 'Base.active_project()'\nnothing\n\n$ JULIA_LOAD_PATH=$PWD/Project.toml julia -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\"\n\n$ julia --project=$PWD -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\"\n\n$ julia --project=$PWD/Project.toml -E 'Base.active_project()'\n\"/tmp/tmp.MFtLdqSxfM/Project.toml\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but looks like it is needed to support package directories in load path..."}]}]}]},{"type":"message","text":"How do I update a package? I made a GitHub release and just added it to JuliaHub (v0.1.0 is already there), but it doesn't seem to pick up that I'm trying to release v0.1.1.","files":[{"id":"F01H0V1AG8N","created":1608285161,"timestamp":1608285161,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U7HAYKY9X","editable":false,"size":175077,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01H0V1AG8N/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01H0V1AG8N/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_360.png","thumb_360_w":360,"thumb_360_h":278,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_480.png","thumb_480_w":480,"thumb_480_h":371,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_720.png","thumb_720_w":720,"thumb_720_h":556,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_800.png","thumb_800_w":800,"thumb_800_h":618,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_960.png","thumb_960_w":960,"thumb_960_h":742,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01H0V1AG8N-f538cb4333/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":791,"image_exif_rotation":1,"original_w":2068,"original_h":1598,"thumb_tiny":"AwAlADC95EZPI/U0G3iHY/makzzQ3Ap3YrIi8iL0/wDHjS+RF6H8zUgPFFF2FkR/Z4vQ/maPs8XofzNSUUXYWQDrSnimh1LFQQSOop1IYmaWiigAooooAbtGc5Io2+5p1FACY9zRj3NLRQAmPc0Y9zS0UAf/2Q==","permalink":"https://julialang.slack.com/files/U7HAYKY9X/F01H0V1AG8N/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01H0V1AG8N-f371cefda1","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"3xB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I update a package? I made a GitHub release and just added it to JuliaHub (v0.1.0 is already there), but it doesn't seem to pick up that I'm trying to release v0.1.1."}]}]}],"user":"U7HAYKY9X","display_as_bot":false,"ts":"1608285194.093100","thread_ts":"1608285194.093100","reply_count":5,"reply_users_count":3,"latest_reply":"1608287549.096500","reply_users":["U7CBATYBC","U7HAYKY9X","UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"f289b6ae-f55d-4a83-9d84-1460bbf2b402","type":"message","text":"Yes. It should probably just use the build code path with a boolean whether it is build.jl or hook.jl","user":"U67SCG4HG","ts":"1608144092.091400","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1608144246.000000"},"blocks":[{"type":"rich_text","block_id":"Rm2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. It should probably just use the build code path with a boolean whether it is build.jl or hook.jl"}]}]}]},{"client_msg_id":"b39500bf-74c5-4530-b040-2feb42defd3e","type":"message","text":"Like if you have a dependency devved, you want to use that when running the hook, otherwise it gets very hard to debug things.","user":"U67D54KS8","ts":"1608143699.089800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"irsW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Like if you have a dependency devved, you want to use that when running the hook, otherwise it gets very hard to debug things."}]}]}]},{"client_msg_id":"1bce8de7-970e-4b53-8a29-0dc3787781c3","type":"message","text":"Then it uses the same versions of the packages as those in the current manifest etc.","user":"U67D54KS8","ts":"1608143410.088700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DOK3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then it uses the same versions of the packages as those in the current manifest etc."}]}]}]},{"client_msg_id":"4c2df7c9-f2d3-4074-bb3e-3de5d439afbe","type":"message","text":"Imo it should work exactly like build, but instead of calling deps/build.jl it calls the hook file (and does the extra read from stdin).","user":"U67D54KS8","ts":"1608143376.087800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KJx/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Imo it should work exactly like build, but instead of calling deps/build.jl it calls the hook file (and does the extra read from stdin)."}]}]}]},{"client_msg_id":"98e7474f-c304-4189-82e0-1c3a61980618","type":"message","text":"That will not work unless you also instantiate that project which we probably don't want to do.","user":"U67SCG4HG","ts":"1608142163.086300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RoB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That will not work unless you also instantiate that project which we probably don't want to do."}]}]}]},{"client_msg_id":"362f2e99-da3f-4b91-a576-a0ce4728ced6","type":"message","text":"<https://github.com/JuliaLang/Pkg.jl/pull/2024/files#diff-6dfb4e40705b22a427451362ea83b4e3a763028e3dcaa3b9b1846aa1ec84370fR617>","user":"U66GD0880","ts":"1608141571.085800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1V=","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2024/files#diff-6dfb4e40705b22a427451362ea83b4e3a763028e3dcaa3b9b1846aa1ec84370fR617"}]}]}]},{"client_msg_id":"2ba88594-78df-4b8d-b073-2c4cfe09d3d1","type":"message","text":"yeah should be, since the `select_artifacts.jl` file is invoked with `--project=$(path)` where `path` is the root of the package it belongs to.","user":"U66GD0880","ts":"1608141568.085600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lOQ=L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah should be, since the "},{"type":"text","text":"select_artifacts.jl","style":{"code":true}},{"type":"text","text":" file is invoked with "},{"type":"text","text":"--project=$(path)","style":{"code":true}},{"type":"text","text":" where "},{"type":"text","text":"path","style":{"code":true}},{"type":"text","text":" is the root of the package it belongs to."}]}]}]},{"client_msg_id":"ba77e4a8-c733-42a5-9ce7-c1dd4fee9e41","type":"message","text":"the package’s dependencies are now available to the hook code as well?","user":"U6795JH6H","ts":"1608080745.084800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y1Pj9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the package’s dependencies are now available to the hook code as well?"}]}]}]},{"client_msg_id":"f4d4c6a9-987a-4f28-b5d1-e99be1c6f5fa","type":"message","text":"Are we good to go on <https://github.com/JuliaLang/Pkg.jl/pull/2024> ?","user":"U66GD0880","ts":"1608076656.082700","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1608076664.000000"},"blocks":[{"type":"rich_text","block_id":"xVZh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are we good to go on "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2024"},{"type":"text","text":" ?"}]}]}]},{"client_msg_id":"1f5cb07b-86f1-4e68-bb3d-13ebc29fe439","type":"message","text":"I'm at the gym, probably won't be able to make it today","user":"U67D54KS8","ts":"1608059383.081800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AVMI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm at the gym, probably won't be able to make it today"}]}]}],"reactions":[{"name":"man-lifting-weights","users":["UDB26738Q","U66GD0880","U680THK2S","U6C5KSWAC","U6795JH6H","U680T6770","UDGT4PM41","U7THT3TM3"],"count":8}]},{"client_msg_id":"ef7cf791-ffb0-4faa-9eb0-d2a97abdf87e","type":"message","text":"sure, why not. in 15 minutes?","user":"U6795JH6H","ts":"1608058746.080300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S2fad","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sure, why not. in 15 minutes?"}]}]}],"thread_ts":"1608058746.080300","reply_count":1,"reply_users_count":1,"latest_reply":"1608058942.081100","reply_users":["UUTL3EKN3"],"subscribed":false},{"client_msg_id":"79533397-bf32-45ed-a7db-d051db9d376f","type":"message","text":"To be placed on the next Pkg call agenda (probably next week, unless <@U6795JH6H>/<@U67D54KS8>/<@U67SCG4HG> are bored and want to have one today?): Fons is working through a Pkg/Project.toml GUI integration for Pluto [0] and would like to brainstorm with us to figure out the best way to do it.  I find the screenshot very exciting, so let’s talk it through!\n\n[0] <https://github.com/fonsp/Pluto.jl/pull/661>","user":"U66GD0880","ts":"1608058728.080000","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1608058748.000000"},"blocks":[{"type":"rich_text","block_id":"vbgP3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To be placed on the next Pkg call agenda (probably next week, unless "},{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":"/"},{"type":"user","user_id":"U67D54KS8"},{"type":"text","text":"/"},{"type":"user","user_id":"U67SCG4HG"},{"type":"text","text":" are bored and want to have one today?): Fons is working through a Pkg/Project.toml GUI integration for Pluto [0] and would like to brainstorm with us to figure out the best way to do it.  I find the screenshot very exciting, so let’s talk it through!\n\n[0] "},{"type":"link","url":"https://github.com/fonsp/Pluto.jl/pull/661"}]}]}],"thread_ts":"1608058728.080000","reply_count":3,"reply_users_count":2,"latest_reply":"1608058810.080900","reply_users":["UDB26738Q","U66GD0880"],"subscribed":false},{"client_msg_id":"b22c4cac-16de-4c8b-98a5-6a5054a6d048","type":"message","text":"Hello! We've noticed quite a few people being confused by the \"big error dump\" that could occur when testing packages e.g.\n```(Foo) pkg&gt; test\n    Testing Foo\n┌ Error: Pkg.Resolve.ResolverError(\"Unsatisfiable requirements detected...```\nand which was fixed by <https://github.com/JuliaLang/Pkg.jl/pull/2232> :tada:\nSince this fix is such a big quality of life improvement, i wanted to check if it will be included in Julia 1.6?\nAlso, is there some way i could have checked this myself (short of building the 1.6 branch)?\n(I see it is in nightly, but that's 1.7 now)","user":"UDXST8ARK","ts":"1608031787.078000","team":"T68168MUP","edited":{"user":"UDXST8ARK","ts":"1608032785.000000"},"blocks":[{"type":"rich_text","block_id":"Dwm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello! We've noticed quite a few people being confused by the \"big error dump\" that could occur when testing packages e.g.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(Foo) pkg> test\n    Testing Foo\n┌ Error: Pkg.Resolve.ResolverError(\"Unsatisfiable requirements detected..."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and which was fixed by "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2232"},{"type":"text","text":" "},{"type":"emoji","name":"tada"},{"type":"text","text":"\nSince this fix is such a big quality of life improvement, i wanted to check if it will be included in Julia 1.6?\nAlso, is there some way i could have checked this myself (short of building the 1.6 branch)?\n(I see it is in nightly, but that's 1.7 now)"}]}]}],"thread_ts":"1608031787.078000","reply_count":1,"reply_users_count":1,"latest_reply":"1608032206.078100","reply_users":["U6A936746"],"subscribed":false},{"client_msg_id":"81870fde-fb3d-4f8e-9edf-76611d03d9ed","type":"message","text":"for a private registry i have cloned,\non julia 1.6 and 1.7 I am seening\n```    Updating git-repo `<mailto:git@gitlab.invenia.ca|git@gitlab.invenia.ca>:invenia/PackageRegistry.git`\nSSH host verification: the identity of the server `<http://gitlab.invenia.ca|gitlab.invenia.ca>` does not match its known hosts record. Someone could be trying to man-in-the-middle your connection. It is also possible that the server has changed its key, in which case you should check with the server administrator and if they confirm that the key has been changed, update your known hosts file.```\nBut not on 1.5\nwhat could be up with that?","user":"U6A936746","ts":"1607971039.070400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2pQDO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for a private registry i have cloned,\non julia 1.6 and 1.7 I am seening\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    Updating git-repo `git@gitlab.invenia.ca:invenia/PackageRegistry.git`\nSSH host verification: the identity of the server `gitlab.invenia.ca` does not match its known hosts record. Someone could be trying to man-in-the-middle your connection. It is also possible that the server has changed its key, in which case you should check with the server administrator and if they confirm that the key has been changed, update your known hosts file."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"But not on 1.5\nwhat could be up with that?"}]}]}],"thread_ts":"1607971039.070400","reply_count":16,"reply_users_count":4,"latest_reply":"1607973805.074300","reply_users":["U67SCG4HG","U6795JH6H","U69J94HT9","U6A936746"],"subscribed":false}]