[{"client_msg_id":"c2644437-276b-4415-9457-3147bff02f3f","type":"message","text":"Weird thing in GLMakie... when I try to rotate a 3D scene by more than 90 deg vertically, meshes get stuck but light source seems to keep moving :confused: . Also, alpha channel doesn't work correctly from some angles (compared to OpenGL Makie). Should I give up or does it seem fixable in a reasonable amount of time?","user":"U9AHT3YM7","ts":"1616079432.034700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KZyM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Weird thing in GLMakie... when I try to rotate a 3D scene by more than 90 deg vertically, meshes get stuck but light source seems to keep moving "},{"type":"emoji","name":"confused"},{"type":"text","text":" . Also, alpha channel doesn't work correctly from some angles (compared to OpenGL Makie). Should I give up or does it seem fixable in a reasonable amount of time?"}]}]}],"thread_ts":"1616079432.034700","reply_count":18,"reply_users_count":3,"latest_reply":"1616082903.038500","reply_users":["U66SGEWAC","U9AHT3YM7","UQMHE3ER4"],"is_locked":false,"subscribed":false},{"client_msg_id":"991712a2-c44f-45bd-b172-363cdc39bdf1","type":"message","text":"If you can supply an mwe, we should be able to at least figure out what's going on^^","user":"U66SGEWAC","ts":"1616079517.034800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V=KOf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you can supply an mwe, we should be able to at least figure out what's going on^^"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"3168e4c0-cb1a-4531-ad33-e772a4f25777","type":"message","text":"hmm... I'll try making a video first","user":"U9AHT3YM7","ts":"1616079678.035000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QKb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm... I'll try making a video first"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"type":"message","text":"It looks like that","files":[{"id":"F01RHKJSK54","created":1616079995,"timestamp":1616079995,"name":"Screencast 2021-03-18 16:05:44.mp4","title":"Screencast 2021-03-18 16:05:44.mp4","mimetype":"video/mp4","filetype":"mp4","pretty_type":"MPEG 4 Video","user":"U9AHT3YM7","editable":false,"size":2441863,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01RHKJSK54/screencast_2021-03-18_16_05_44.mp4","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01RHKJSK54/download/screencast_2021-03-18_16_05_44.mp4","thumb_video":"https://files.slack.com/files-tmb/T68168MUP-F01RHKJSK54-d9440326de/screencast_2021-03-18_16_05_44_thumb_video.jpeg","permalink":"https://julialang.slack.com/files/U9AHT3YM7/F01RHKJSK54/screencast_2021-03-18_16_05_44.mp4","permalink_public":"https://slack-files.com/T68168MUP-F01RHKJSK54-07efd3d7a6","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"QFcSL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It looks like that"}]}]}],"user":"U9AHT3YM7","display_as_bot":false,"ts":"1616080002.035200","thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"251172be-8f51-48d1-b429-d416ec8a1930","type":"message","text":"huuuh...that's interesting :smile:","user":"U66SGEWAC","ts":"1616080376.035600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vU7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"huuuh...that's interesting "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"742fa92d-f5cc-4caf-9f03-18d7dddcbd09","type":"message","text":"The camera getting stuck under some rotations has been an issue for a long time I think. The light moving without the camera moving is weird though, since that just grabs the cameras position by default. Maybe what's wrong with the camera is not angle calculations but the matrix calculation?","user":"UQMHE3ER4","ts":"1616080422.035800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ueTHk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The camera getting stuck under some rotations has been an issue for a long time I think. The light moving without the camera moving is weird though, since that just grabs the cameras position by default. Maybe what's wrong with the camera is not angle calculations but the matrix calculation?"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"ff4bc0be-075d-475c-b55b-8f52c1724067","type":"message","text":"This is relatively close to MWE:\n```using Markdown\nusing JSServe, Observables\nusing JSServe: Session, evaljs, linkjs\nusing JSServe: @js_str, onjs, Button, Slider, Asset\nusing WGLMakie, AbstractPlotting\nusing JSServe.DOM\n\nusing Interpolations\nusing Meshing\nusing Random\nusing GeometryBasics\nusing LinearAlgebra\nusing ColorTypes\n\napp = App() do\n\n    data_slider = JSServe.Slider(LinRange(1f0, 10f0, 100))\n    iso_value = JSServe.Slider(LinRange(0f0, 1f0, 100))\n    N = 100\n    slice_idx = JSServe.Slider(1:N)\n\n    signal = map(Observables.async_latest(data_slider.value)) do α\n        a = -1; b = 2\n        r = LinRange(-2, 2, N)\n        z = ((x,y) -&gt; x + y).(r, r') ./ 5\n        me = [z .* sin.(α .* (atan.(y ./ x) .+ z.^2 .+ pi .* (x .&gt; 0))) for x=r, y=r, z=r]\n        return me .* (me .&gt; z .* 0.25)\n    end\n\n    slice = map(signal, slice_idx) do x, idx\n        view(x, :, idx, :)\n    end\n\n    scene = AbstractPlotting.Scene()\n    Random.seed!(2)\n    iso = [sin(10*k^2+8*i^2+3*j^2) for i in -3:3, j in -3:3, k in -3:3]\n    mc_algo = NaiveSurfaceNets(iso=0.3, insidepositive=true)\n    origin = (0.0, 0.0, 0.0)\n    widths = (1.0, 1.0, 1.0)\n\n    mc = GeometryBasics.Mesh(iso, mc_algo; origin = origin, widths = widths)\n    itp = Interpolations.scale(interpolate(iso, BSpline(Quadratic(Periodic(OnGrid())))),\n            range(origin[1], origin[1] + widths[1], length=size(iso,1)),\n            range(origin[2], origin[2] + widths[2], length=size(iso,2)),\n            range(origin[3], origin[3] + widths[3], length=size(iso,3)))\n    normals = [normalize(Vec3f0(Interpolations.gradient(itp, Tuple(v)...))) for v in mc.position]\n\n    new_mesh = GeometryBasics.Mesh(GeometryBasics.meta(mc.position; normals=normals), faces(mc))\n\n    AbstractPlotting.mesh!(\n            scene,\n            new_mesh,\n            color=RGBA{Float32}(1.0f0, 1.0f0, 1.0f0, 0.2f0),\n            ssao = false,\n            transparency = true,\n            shininess = 400.0f0,\n            lightposition = AbstractPlotting.Vec3f0(200, 200, 500),\n            ambient = Vec3f0(0.3, 0.3, 0.3),\n            diffuse = Vec3f0(0.4, 0.4, 0.4),\n            specular = Vec3f0(1.0, 1.0, 1.0),\n            show_axis = false,\n        )\n\n\n    dom = md\"\"\"\n    ---\n    $(scene)\n    ---\n    \"\"\"\n    return JSServe.DOM.div(JSServe.MarkdownCSS, JSServe.Styling, dom)\nend\n\ndisplay(app)```\n","user":"U9AHT3YM7","ts":"1616082370.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k0OSU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is relatively close to MWE:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Markdown\nusing JSServe, Observables\nusing JSServe: Session, evaljs, linkjs\nusing JSServe: @js_str, onjs, Button, Slider, Asset\nusing WGLMakie, AbstractPlotting\nusing JSServe.DOM\n\nusing Interpolations\nusing Meshing\nusing Random\nusing GeometryBasics\nusing LinearAlgebra\nusing ColorTypes\n\napp = App() do\n\n    data_slider = JSServe.Slider(LinRange(1f0, 10f0, 100))\n    iso_value = JSServe.Slider(LinRange(0f0, 1f0, 100))\n    N = 100\n    slice_idx = JSServe.Slider(1:N)\n\n    signal = map(Observables.async_latest(data_slider.value)) do α\n        a = -1; b = 2\n        r = LinRange(-2, 2, N)\n        z = ((x,y) -> x + y).(r, r') ./ 5\n        me = [z .* sin.(α .* (atan.(y ./ x) .+ z.^2 .+ pi .* (x .> 0))) for x=r, y=r, z=r]\n        return me .* (me .> z .* 0.25)\n    end\n\n    slice = map(signal, slice_idx) do x, idx\n        view(x, :, idx, :)\n    end\n\n    scene = AbstractPlotting.Scene()\n    Random.seed!(2)\n    iso = [sin(10*k^2+8*i^2+3*j^2) for i in -3:3, j in -3:3, k in -3:3]\n    mc_algo = NaiveSurfaceNets(iso=0.3, insidepositive=true)\n    origin = (0.0, 0.0, 0.0)\n    widths = (1.0, 1.0, 1.0)\n\n    mc = GeometryBasics.Mesh(iso, mc_algo; origin = origin, widths = widths)\n    itp = Interpolations.scale(interpolate(iso, BSpline(Quadratic(Periodic(OnGrid())))),\n            range(origin[1], origin[1] + widths[1], length=size(iso,1)),\n            range(origin[2], origin[2] + widths[2], length=size(iso,2)),\n            range(origin[3], origin[3] + widths[3], length=size(iso,3)))\n    normals = [normalize(Vec3f0(Interpolations.gradient(itp, Tuple(v)...))) for v in mc.position]\n\n    new_mesh = GeometryBasics.Mesh(GeometryBasics.meta(mc.position; normals=normals), faces(mc))\n\n    AbstractPlotting.mesh!(\n            scene,\n            new_mesh,\n            color=RGBA{Float32}(1.0f0, 1.0f0, 1.0f0, 0.2f0),\n            ssao = false,\n            transparency = true,\n            shininess = 400.0f0,\n            lightposition = AbstractPlotting.Vec3f0(200, 200, 500),\n            ambient = Vec3f0(0.3, 0.3, 0.3),\n            diffuse = Vec3f0(0.4, 0.4, 0.4),\n            specular = Vec3f0(1.0, 1.0, 1.0),\n            show_axis = false,\n        )\n\n\n    dom = md\"\"\"\n    ---\n    $(scene)\n    ---\n    \"\"\"\n    return JSServe.DOM.div(JSServe.MarkdownCSS, JSServe.Styling, dom)\nend\n\ndisplay(app)"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"d9388820-580b-487b-a955-b2dd7dc3becc","type":"message","text":"works fine in GLMakie but not in WGLMakie","user":"U9AHT3YM7","ts":"1616082393.036200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d4S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"works fine in GLMakie but not in WGLMakie"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"a6c5c90d-eda0-4571-8ffb-a2e3aeb7a4f7","type":"message","text":"(also I have no idea why this doesn't show anything when I delete `slice`  but that's very minor)","user":"U9AHT3YM7","ts":"1616082448.036400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+kf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(also I have no idea why this doesn't show anything when I delete "},{"type":"text","text":"slice","style":{"code":true}},{"type":"text","text":"  but that's very minor)"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"c8e01ffa-31af-4f41-b066-02c2f42731aa","type":"message","text":"should I open an issue on github somewhere?","user":"U9AHT3YM7","ts":"1616082460.036600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3vVC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should I open an issue on github somewhere?"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"e3bc9e14-dcf3-4f15-9c6d-c8a254d03dbc","type":"message","text":"Ahh hmm... I can see how that happens in WGLMakie","user":"U66SGEWAC","ts":"1616082469.036800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IUKJF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ahh hmm... I can see how that happens in WGLMakie"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"e99f151c-5f7a-4736-8c57-47ca02bcef4b","type":"message","text":"Thanks!","user":"U9AHT3YM7","ts":"1616082477.037000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vg5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"1f6f7aeb-a0bf-45b5-9932-403a5c1d5afd","type":"message","text":"Yeah an issue would be good","user":"U66SGEWAC","ts":"1616082478.037200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ggA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah an issue would be good"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"1c35fb67-09c6-45b8-a67c-ecaf6aa74344","type":"message","text":"ok, I'll open it in WGLMakie","user":"U9AHT3YM7","ts":"1616082493.037400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yZ/hv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, I'll open it in WGLMakie"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"7d99165b-47cb-4149-b53f-c339a12b0d2e","type":"message","text":"Makie + wglmakie label!","user":"U66SGEWAC","ts":"1616082509.037600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lS9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Makie + wglmakie label!"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"2a238443-643c-4809-bb39-22a185695349","type":"message","text":"ok :slightly_smiling_face:","user":"U9AHT3YM7","ts":"1616082515.037800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xihf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"08b3ceb7-b6b7-446c-bc7b-98bf2c453934","type":"message","text":"We try to have all issues in one place","user":"U66SGEWAC","ts":"1616082519.038000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6SH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We try to have all issues in one place"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"41ba8299-8fb5-4ad6-bd9d-ed221ffd93a2","type":"message","text":"Reported: <https://github.com/JuliaPlots/Makie.jl/issues/892>","user":"U9AHT3YM7","ts":"1616082864.038200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AFEl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Reported: "},{"type":"link","url":"https://github.com/JuliaPlots/Makie.jl/issues/892"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7","reactions":[{"name":"+1","users":["U66SGEWAC"],"count":1}]},{"client_msg_id":"d79658b5-f25d-4c0c-8e5d-0b2790ee5fd3","type":"message","text":"Let me know if you need more details (version of Julia, packages, browser etc.)","user":"U9AHT3YM7","ts":"1616082903.038500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wrlK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me know if you need more details (version of Julia, packages, browser etc.)"}]}]}],"thread_ts":"1616079432.034700","parent_user_id":"U9AHT3YM7"}]