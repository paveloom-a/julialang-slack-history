[{"client_msg_id":"34e77a15-d7f0-4658-ba6e-590e11b1b701","type":"message","text":"Is there a version of `TopLeft()` and co. but placing the element inside an axis?","user":"U017LQ3A59U","ts":"1612294328.282400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dZS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a version of "},{"type":"text","text":"TopLeft()","style":{"code":true}},{"type":"text","text":" and co. but placing the element inside an axis?"}]}]}],"thread_ts":"1612294328.282400","reply_count":22,"reply_users_count":2,"latest_reply":"1612302440.289300","reply_users":["UK1BNFHFV","U017LQ3A59U"],"subscribed":false},{"client_msg_id":"4ffd3dc0-345a-495e-97b4-526c6581c049","type":"message","text":"either place it in the same layout cell, or give it the axis' scene.px_area as boundingbox, although that one needs a bit of knowledge of the internals","user":"UK1BNFHFV","ts":"1612294443.282500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M3q=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"either place it in the same layout cell, or give it the axis' scene.px_area as boundingbox, although that one needs a bit of knowledge of the internals"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"fd31ccc9-7d65-4697-9c03-ca3a8ea0caa7","type":"message","text":"Oh yeah overlapping with the axis and using halign/valign to place it inside works just fine. Thanks (one more day during which I escaped learning Makie internals)","user":"U017LQ3A59U","ts":"1612294936.283700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iZy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh yeah overlapping with the axis and using halign/valign to place it inside works just fine. Thanks (one more day during which I escaped learning Makie internals)"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"60e4d657-01c4-4310-a65c-975a8cf3eca2","type":"message","text":"this only breaks if the axis has a special aspect applied, because then the cell of the layout is not equal to the axis area","user":"UK1BNFHFV","ts":"1612294971.283900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+n06X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this only breaks if the axis has a special aspect applied, because then the cell of the layout is not equal to the axis area"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"9cab89aa-3b5a-49d0-b65a-323c2cf0f79e","type":"message","text":"I was actually writing a function to place a legend in an axis more easily, because that's a very common scenario","user":"UK1BNFHFV","ts":"1612295001.284100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=bh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was actually writing a function to place a legend in an axis more easily, because that's a very common scenario"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"e51c7041-f7ef-492d-b4c4-93fd80efd7fc","type":"message","text":"```axislegend(ax = current_axis(); position = :tr, kwargs...) = axislegend(ax, ax; position = position, kwargs...)\n\nfunction axislegend(ax, args...; position = :tr, kwargs...)\n    p = string(position)\n\n    halign = if p[2] == 'l'\n        :left\n    elseif p[2] == 'r'\n        :right\n    elseif p[2] == 'c'\n        :center\n    else\n        error(\"Invalid halign $(p[1])\")\n    end\n\n    valign = if p[1] == 't'\n        :top\n    elseif p[1] == 'b'\n        :bottom\n    elseif p[1] == 'c'\n        :center\n    else\n        error(\"Invalid valign $(p[2])\")\n    end\n    \n    Legend(ax.parent, args...;\n        bbox = ax.scene.px_area,\n        margin = (10, 10, 10, 10),\n        halign = halign,\n        valign = valign,\n        kwargs...)\nend```","user":"UK1BNFHFV","ts":"1612295029.284600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Suf7b","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"axislegend(ax = current_axis(); position = :tr, kwargs...) = axislegend(ax, ax; position = position, kwargs...)\n\nfunction axislegend(ax, args...; position = :tr, kwargs...)\n    p = string(position)\n\n    halign = if p[2] == 'l'\n        :left\n    elseif p[2] == 'r'\n        :right\n    elseif p[2] == 'c'\n        :center\n    else\n        error(\"Invalid halign $(p[1])\")\n    end\n\n    valign = if p[1] == 't'\n        :top\n    elseif p[1] == 'b'\n        :bottom\n    elseif p[1] == 'c'\n        :center\n    else\n        error(\"Invalid valign $(p[2])\")\n    end\n    \n    Legend(ax.parent, args...;\n        bbox = ax.scene.px_area,\n        margin = (10, 10, 10, 10),\n        halign = halign,\n        valign = valign,\n        kwargs...)\nend"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"9fa8c168-19e1-4072-b701-e4dc3f5fd8b7","type":"message","text":"Thanks to your spider sense you predicted my exact next problem","user":"U017LQ3A59U","ts":"1612295412.285900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Bg3j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks to your spider sense you predicted my exact next problem"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"2096bd0b-4d63-46cf-b52e-d67e02595187","type":"message","text":"cool, well this function or something like it should make its way into makie soon enough, I'm just not sure what's the best way","user":"UK1BNFHFV","ts":"1612295570.286100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LHh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool, well this function or something like it should make its way into makie soon enough, I'm just not sure what's the best way"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"e080ada2-1926-44b4-a83f-5c9435096807","type":"message","text":"Unfortunately this does't seem to work for Label (that's not a problem to me right now, I can tweak manually the remaining misalignment(","user":"U017LQ3A59U","ts":"1612299778.286300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s7=Fg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Unfortunately this does't seem to work for Label (that's not a problem to me right now, I can tweak manually the remaining misalignment("}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"0e753c74-96e4-4afe-96ab-dceeb7bfe493","type":"message","text":"the bbox thing should work the same for all layoutables","user":"UK1BNFHFV","ts":"1612300962.286500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TmyZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the bbox thing should work the same for all layoutables"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"c43c5469-e4a3-42c2-8648-e6b5531edbd8","type":"message","text":"or what doesn't work?","user":"UK1BNFHFV","ts":"1612300980.286700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ghjN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or what doesn't work?"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"55f06e62-9ace-4afa-832b-7698156d89b5","type":"message","text":"The label is overlapping with the border of the axis","user":"U017LQ3A59U","ts":"1612301591.286900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lTd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The label is overlapping with the border of the axis"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"0288721e-10e3-4618-bb73-c224c8056df6","type":"message","text":"can you show an example? by default labels have no padding but you can set that","user":"UK1BNFHFV","ts":"1612301698.287100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6i1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you show an example? by default labels have no padding but you can set that"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"type":"message","text":"The axes on the right have a set aspect ratio","files":[{"id":"F01LRUT8QF5","created":1612301691,"timestamp":1612301691,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U017LQ3A59U","editable":false,"size":138464,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01LRUT8QF5/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01LRUT8QF5/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_360.png","thumb_360_w":360,"thumb_360_h":193,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_480.png","thumb_480_w":480,"thumb_480_h":257,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_720.png","thumb_720_w":720,"thumb_720_h":386,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_800.png","thumb_800_w":800,"thumb_800_h":429,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_960.png","thumb_960_w":960,"thumb_960_h":515,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01LRUT8QF5-c04944ea5c/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":549,"original_w":1292,"original_h":693,"thumb_tiny":"AwAZADDQJIYZzjNP4pp+8KdQAnaijtxRQAUUUUAJg7gfSl3ClpooAdSYpaKAExRjmlooA//Z","permalink":"https://julialang.slack.com/files/U017LQ3A59U/F01LRUT8QF5/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01LRUT8QF5-3704a0cb05","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"3b1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The axes on the right have a set aspect ratio"}]}]}],"user":"U017LQ3A59U","display_as_bot":false,"ts":"1612301714.287300","thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"c7595097-d34e-40e6-b7ea-47dc0bf3a030","type":"message","text":"can you show the code? that looks weird","user":"UK1BNFHFV","ts":"1612301913.287700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"expk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you show the code? that looks weird"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"55b0001e-e18e-4fb8-a502-a79e634ca0d6","type":"message","text":"only of one of the labels should be enough","user":"UK1BNFHFV","ts":"1612301951.287900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5X2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"only of one of the labels should be enough"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"3797f10d-d3e1-496d-a216-4ea9626153af","type":"message","text":"Here is the label definition\n```sub_right[I[1], I[2]] = Label(\n    scene, \"($(comp_labels[M]))\",\n    bbox=ax.scene.px_area,\n    tellheight=false, tellwidth=false,\n    halign=:right, valign=:top,)```\nIf that doesn't help I can try to reproduce it in a simpler setup","user":"U017LQ3A59U","ts":"1612302005.288100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ePg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is the label definition\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"sub_right[I[1], I[2]] = Label(\n    scene, \"($(comp_labels[M]))\",\n    bbox=ax.scene.px_area,\n    tellheight=false, tellwidth=false,\n    halign=:right, valign=:top,)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"If that doesn't help I can try to reproduce it in a simpler setup"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"746f7378-0828-4333-a702-b91036cd54af","type":"message","text":"ah don't also put it in the layout :) just the bbox, the layout also sets the bbox and then things break","user":"UK1BNFHFV","ts":"1612302057.288300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9y=m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah don't also put it in the layout :) just the bbox, the layout also sets the bbox and then things break"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"ec795347-5104-427b-9291-b5e2f07e8b8a","type":"message","text":"it's an either / or thing","user":"UK1BNFHFV","ts":"1612302061.288500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LCyxq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's an either / or thing"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"699aa777-c247-48b4-96a2-63ee07acbb9c","type":"message","text":"Oooh","user":"U017LQ3A59U","ts":"1612302167.288700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oZNk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oooh"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"c5ad5b71-842e-43d3-a30c-9b907709f634","type":"message","text":"And of course now it works :slightly_smiling_face: Thanks a lot","user":"U017LQ3A59U","ts":"1612302217.288900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Pi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And of course now it works "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" Thanks a lot"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"1b9d18a8-5c73-4aa3-86bb-b2e2d43438a1","type":"message","text":"great :) and again, with a little padding the text probably looks nicer next to the axis spines","user":"UK1BNFHFV","ts":"1612302412.289100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1I8ep","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"great :) and again, with a little padding the text probably looks nicer next to the axis spines"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"d4da4b56-9112-4f18-9aa3-aba925cad5f6","type":"message","text":"Indeed :wink:","user":"U017LQ3A59U","ts":"1612302440.289300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w96I2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Indeed "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1612294328.282400","parent_user_id":"U017LQ3A59U"}]