[{"type":"message","text":"I worked a bit on revamping the event system last week, to allow for events to be consumed. This should enable some things to be fixed, for example an `LMenu` triggering things below it, or inputs in a `LTextbox` triggering other key events. I made a translation widget for 3D plots with it now, which would trigger the camera in the old system. Here's the (somewhat unrefined) result:","files":[{"id":"F01J9NYQV4M","created":1610297800,"timestamp":1610297800,"name":"out.mp4","title":"out.mp4","mimetype":"video/mp4","filetype":"mp4","pretty_type":"MPEG 4 Video","user":"UQMHE3ER4","editable":false,"size":2038511,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J9NYQV4M/out.mp4","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J9NYQV4M/download/out.mp4","thumb_video":"https://files.slack.com/files-tmb/T68168MUP-F01J9NYQV4M-3ee6e3b544/out_thumb_video.jpeg","permalink":"https://julialang.slack.com/files/UQMHE3ER4/F01J9NYQV4M/out.mp4","permalink_public":"https://slack-files.com/T68168MUP-F01J9NYQV4M-bffb966a99","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"v=bR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I worked a bit on revamping the event system last week, to allow for events to be consumed. This should enable some things to be fixed, for example an "},{"type":"text","text":"LMenu","style":{"code":true}},{"type":"text","text":" triggering things below it, or inputs in a "},{"type":"text","text":"LTextbox","style":{"code":true}},{"type":"text","text":" triggering other key events. I made a translation widget for 3D plots with it now, which would trigger the camera in the old system. Here's the (somewhat unrefined) result:"}]}]}],"user":"UQMHE3ER4","display_as_bot":false,"ts":"1610298008.441400","thread_ts":"1610298008.441400","reply_count":5,"reply_users_count":2,"latest_reply":"1610305727.444800","reply_users":["UK1BNFHFV","UQMHE3ER4"],"subscribed":false,"reactions":[{"name":"heart","users":["U7ZNTQFLH","U7R243N1W","U01864DR1L1","US5RA4FK4","U881D0W2C","U9769MVA7","UK1BNFHFV","U9MED583T"],"count":8}]},{"client_msg_id":"CE9BB5DD-2700-4372-B368-7863DC8AE865","type":"message","text":"Cool, what's the new principle and can that be integrated well with what we have now?","user":"UK1BNFHFV","ts":"1610304799.443700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4X/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool, what's the new principle and can that be integrated well with what we have now?"}]}]}],"thread_ts":"1610298008.441400","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"bb7e01cd-65c0-4ebe-b6d8-2c129f3a155c","type":"message","text":"It's similar to what you did with interactions in MakieLayout a while ago. Additionally I added a priority system, so an interaction with a priority &gt; than another will be executed first (regardless of where it's attached). I also allowed an event to be consumed by returning true from interaction processing.","user":"UQMHE3ER4","ts":"1610305218.444000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WBJ8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's similar to what you did with interactions in MakieLayout a while ago. Additionally I added a priority system, so an interaction with a priority > than another will be executed first (regardless of where it's attached). I also allowed an event to be consumed by returning true from interaction processing."}]}]}],"thread_ts":"1610298008.441400","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"f026e3a9-a843-47d4-86f9-cd3ac5c12707","type":"message","text":"So here there are interactions for the camera, with some priority (I think 50?) and another interaction with a higher priority to translate a plot. Both act on `MouseMovedEvent`s, the translation acts first and consumed the event when it should. So it doesn't get passed on to camera interactions","user":"UQMHE3ER4","ts":"1610305342.444200","team":"T68168MUP","edited":{"user":"UQMHE3ER4","ts":"1610305356.000000"},"blocks":[{"type":"rich_text","block_id":"Lssh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So here there are interactions for the camera, with some priority (I think 50?) and another interaction with a higher priority to translate a plot. Both act on "},{"type":"text","text":"MouseMovedEvent","style":{"code":true}},{"type":"text","text":"s, the translation acts first and consumed the event when it should. So it doesn't get passed on to camera interactions"}]}]}],"thread_ts":"1610298008.441400","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"6a8dd0cf-ac71-4b86-9ed3-8d4a2683563b","type":"message","text":"It'll take a bit of thought what to do with situations like `current_pos = events(scene).mouseposition[]`, but anything like `on(some_event)` should be relatively straight forward to port, I think. And MakieLayout interactions should be really easy, it's close to the same from the outside.","user":"UQMHE3ER4","ts":"1610305604.444600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pGz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It'll take a bit of thought what to do with situations like "},{"type":"text","text":"current_pos = events(scene).mouseposition[]","style":{"code":true}},{"type":"text","text":", but anything like "},{"type":"text","text":"on(some_event)","style":{"code":true}},{"type":"text","text":" should be relatively straight forward to port, I think. And MakieLayout interactions should be really easy, it's close to the same from the outside."}]}]}],"thread_ts":"1610298008.441400","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"8757a153-5045-4ee8-a3cf-8bae63082425","type":"message","text":"If the general idea of this gets a :thumbsup: I'll take some time to clean things about, do some performance testing and translate everything","user":"UQMHE3ER4","ts":"1610305727.444800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cTcO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If the general idea of this gets a "},{"type":"emoji","name":"thumbsup"},{"type":"text","text":" I'll take some time to clean things about, do some performance testing and translate everything"}]}]}],"thread_ts":"1610298008.441400","parent_user_id":"UQMHE3ER4"}]