[{"type":"message","text":"I made a package for a model of soil respiration, with a Makie viz on top of the model, to try it simply do:\n```]add DAMMmodel\nDAMMmodel.DAMM_Makie()```\nto generate the interactive figure below\n\nBut I realized I should avoid Makie dependencies for the model (which just spits out numbers from soil temperature and moisture inputs)...\nSo I plan to make another package, which would allow to generate such interactive visualization of any 2D or 3D model - that could be useful to many, I imagine something like\n`Makie_model(model, p1(min,max), p2(min,max), ..., px(min,max))`\nI'll let you know when I start working on this, collaboration welcome!","files":[{"id":"F01NC7SQK9C","created":1613659992,"timestamp":1613659992,"name":"DAMM_slow.mp4","title":"DAMM_slow.mp4","mimetype":"video/mp4","filetype":"mp4","pretty_type":"MPEG 4 Video","user":"US5RA4FK4","editable":false,"size":600055,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01NC7SQK9C/damm_slow.mp4","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01NC7SQK9C/download/damm_slow.mp4","thumb_video":"https://files.slack.com/files-tmb/T68168MUP-F01NC7SQK9C-3dca70314e/damm_slow_thumb_video.jpeg","permalink":"https://julialang.slack.com/files/US5RA4FK4/F01NC7SQK9C/damm_slow.mp4","permalink_public":"https://slack-files.com/T68168MUP-F01NC7SQK9C-d307eb320c","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"lZg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a package for a model of soil respiration, with a Makie viz on top of the model, to try it simply do:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"]add DAMMmodel\nDAMMmodel.DAMM_Makie()"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"to generate the interactive figure below\n\nBut I realized I should avoid Makie dependencies for the model (which just spits out numbers from soil temperature and moisture inputs)...\nSo I plan to make another package, which would allow to generate such interactive visualization of any 2D or 3D model - that could be useful to many, I imagine something like\n"},{"type":"text","text":"Makie_model(model, p1(min,max), p2(min,max), ..., px(min,max))","style":{"code":true}},{"type":"text","text":"\nI'll let you know when I start working on this, collaboration welcome!"}]}]}],"user":"US5RA4FK4","display_as_bot":false,"ts":"1613660264.126600","thread_ts":"1613660264.126600","reply_count":13,"reply_users_count":4,"latest_reply":"1613671649.133800","reply_users":["U7QLM6E2E","UUTEK2XTM","US5RA4FK4","UK1BNFHFV"],"subscribed":false},{"client_msg_id":"53d4c63d-f1d9-4ff8-8b2d-daa01bdf62d3","type":"message","text":"You can also just use the dependencies on Makie via Requires.jl","user":"U7QLM6E2E","ts":"1613660427.128100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qNcc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can also just use the dependencies on Makie via Requires.jl"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"e4642d41-02cb-40d2-bfc6-98058d896182","type":"message","text":"I'm pretty sure you'll be able to change `using Makie` to `using AbstractPlotting` in the main file, and drop `Makie` as a dependency entirely.","user":"UUTEK2XTM","ts":"1613661458.128300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cf+dV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm pretty sure you'll be able to change "},{"type":"text","text":"using Makie","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"using AbstractPlotting","style":{"code":true}},{"type":"text","text":" in the main file, and drop "},{"type":"text","text":"Makie","style":{"code":true}},{"type":"text","text":" as a dependency entirely."}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"e7ae3fa8-778c-4f05-b3cf-b68201aaae95","type":"message","text":"It's for sure better, but it does not solve the problem that AbstractPlotting is a very heavy dependency","user":"U7QLM6E2E","ts":"1613661534.128500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Isjj0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's for sure better, but it does not solve the problem that AbstractPlotting is a very heavy dependency"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"58f0cd86-b4c4-4970-a75c-18757bdbe268","type":"message","text":"My point is more that I am thinking of having that model very low dependency, to be eventually usable directly by Earth System Model, so I will completely avoid a plotting package dependency, and create an independent package for the viz","user":"US5RA4FK4","ts":"1613661587.128700","team":"T68168MUP","edited":{"user":"US5RA4FK4","ts":"1613661608.000000"},"blocks":[{"type":"rich_text","block_id":"Kic+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My point is more that I am thinking of having that model very low dependency, to be eventually usable directly by Earth System Model, so I will completely avoid a plotting package dependency, and create an independent package for the viz"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"f8fe22cd-c6d3-42b1-8019-7498466c36eb","type":"message","text":"Yep, that's definitely a good idea.","user":"UUTEK2XTM","ts":"1613661640.129000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7ge","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, that's definitely a good idea."}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"6299a87d-7fb3-47d7-a509-5d82729eaca0","type":"message","text":"That's also a great option! Just saying that if you want to remove the dependency while keeping your code Requires.jl is the solution. It will load your viz code only if the user loads AbstractPlotting himself, so by default your package does not load AbstractPlotting","user":"U7QLM6E2E","ts":"1613661726.129200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3PFPA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's also a great option! Just saying that if you want to remove the dependency while keeping your code Requires.jl is the solution. It will load your viz code only if the user loads AbstractPlotting himself, so by default your package does not load AbstractPlotting"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"9ef6725d-70ca-4b4b-9724-f84595d891cf","type":"message","text":"it becomes more of a \"conditional dependency\"","user":"U7QLM6E2E","ts":"1613661746.129400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"akJZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it becomes more of a \"conditional dependency\""}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"364dd690-1177-479a-85be-42799b766ba9","type":"message","text":"For JuliaDynamics, we have one plotting package: <https://github.com/JuliaDynamics/InteractiveDynamics.jl> and use Requires.jl (as Théo suggests) to get particular model information if and only if you load the plotting system.","user":"UUTEK2XTM","ts":"1613661763.129600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=GBP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For JuliaDynamics, we have one plotting package: "},{"type":"link","url":"https://github.com/JuliaDynamics/InteractiveDynamics.jl"},{"type":"text","text":" and use Requires.jl (as Théo suggests) to get particular model information if and only if you load the plotting system."}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"285b1ffc-94fd-4093-9449-007978c3aa3a","type":"message","text":"ah yeah that's pretty cool. I wouldn't do that in this situation but I will keep it in mind!","user":"US5RA4FK4","ts":"1613661778.129800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E3P+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah yeah that's pretty cool. I wouldn't do that in this situation but I will keep it in mind!"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"a4399d16-35f0-4014-b35b-ba92cb91fa80","type":"message","text":"I wonder if we can't do a similar thing to Plots, where we extract the basic plot infrastructure in a small package with minimal dependencies which AbstractPlotting then uses, a bit like RecipesBase. One question is how far you can go with this approach, especially with the Observables and layout machinery that recipes or whatever you call them have to hook up to.","user":"UK1BNFHFV","ts":"1613670730.132300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/ke","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wonder if we can't do a similar thing to Plots, where we extract the basic plot infrastructure in a small package with minimal dependencies which AbstractPlotting then uses, a bit like RecipesBase. One question is how far you can go with this approach, especially with the Observables and layout machinery that recipes or whatever you call them have to hook up to."}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"0a0f3a57-b7b6-4a4b-8a35-aeeffbb21b00","type":"message","text":"And it gets more complex if you go to interactive apps and use the full feature set of Makie","user":"UK1BNFHFV","ts":"1613670775.132500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eg976","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And it gets more complex if you go to interactive apps and use the full feature set of Makie"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"eb32cc06-1235-4eb0-9ebe-e4d02671ddb5","type":"message","text":"I remember Simon saying that the biggest obstacle for having the equivalent of RecipesBase.jl was the observables.","user":"U7QLM6E2E","ts":"1613671038.132900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DIO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I remember Simon saying that the biggest obstacle for having the equivalent of RecipesBase.jl was the observables."}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"},{"client_msg_id":"1f0a690e-0583-4fe9-a1f7-6441acbde1a9","type":"message","text":"I just always imagine it that way: Plots has a \"waterfall\" system, you start at the top and expand stuff out into the smallest parts, which are then plotted once. It only goes in one direction. In Makie it's more difficult. For example with the keywords, if you only expand keywords out once, it's easy enough to define aliases etc. Like the comment some moments ago about the `show_axis` argument vs. `hidedecorations!`. Of course `show_axis` is nice, but it would have to be an observable hooked up to all those attributes that make the axis elements show or not, unless it becomes a one way argument","user":"UK1BNFHFV","ts":"1613671649.133800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rS/rJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just always imagine it that way: Plots has a \"waterfall\" system, you start at the top and expand stuff out into the smallest parts, which are then plotted once. It only goes in one direction. In Makie it's more difficult. For example with the keywords, if you only expand keywords out once, it's easy enough to define aliases etc. Like the comment some moments ago about the "},{"type":"text","text":"show_axis","style":{"code":true}},{"type":"text","text":" argument vs. "},{"type":"text","text":"hidedecorations!","style":{"code":true}},{"type":"text","text":". Of course "},{"type":"text","text":"show_axis","style":{"code":true}},{"type":"text","text":" is nice, but it would have to be an observable hooked up to all those attributes that make the axis elements show or not, unless it becomes a one way argument"}]}]}],"thread_ts":"1613660264.126600","parent_user_id":"US5RA4FK4"}]