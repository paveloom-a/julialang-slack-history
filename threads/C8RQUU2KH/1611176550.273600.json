[{"type":"message","text":"I merged some (not yet tagged) code that enables you to create a simple Legend by passing an Axis or LScene / Scene. Like in matplotlib etc. you can give plots labels, and labeled plots will be included in the Legend.\n\nAlso I'm working on a branch right now to put color and attribute cycling into Axis. Here's a short example with some random densities:\n```let\n    f = Figure()\n\n    ax = f[1, 1] = Axis(f, palette = (color = cgrad(:seaborn_bright6, alpha = 0.7),))\n    for i in 1:6\n        density!(randn(100) .+ 2i, label = string(rand(names(AbstractPlotting))))\n    end\n    tightlimits!(ax, Bottom())\n\n    f[1, 2] = Legend(f, ax)\n    f\nend```\nand another with some lines where the color cycling is set to just black and gray, so linestyles show up as well\n```let\n    f = Figure()\n\n    f[1, 1] = Axis(f, palette = (color = [:black, :gray50],))\n    for i in 1:5\n        lines!(cumsum(randn(100)), label = \"$i\", linewidth = 2)\n    end\n    f[1, 2] = Legend(f, current_axis())\n\n    f\nend```","files":[{"id":"F01KQ562R33","created":1611176391,"timestamp":1611176391,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UK1BNFHFV","editable":false,"size":101409,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01KQ562R33/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01KQ562R33/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_360.png","thumb_360_w":360,"thumb_360_h":220,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_480.png","thumb_480_w":480,"thumb_480_h":294,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_720.png","thumb_720_w":720,"thumb_720_h":440,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01KQ562R33-16deb0a03f/image_800.png","thumb_800_w":800,"thumb_800_h":489,"original_w":824,"original_h":504,"thumb_tiny":"AwAdADDS780xHDM4PY4FPGMmqJbEkh9yafRsTdi4rho9w646U4HJI9KowN84HtirUTZZvel/kVLR2JR0oqJiQ5p4XjJ6/WgQrHaCT2GazC3yt6mtNlDAg9DUZtoT/APzp9LCtqinAeSfSrMJ+cVIII14CgCnCNQcgUdWE7yaaDaDyaULjuaUdKKQz//Z","permalink":"https://julialang.slack.com/files/UK1BNFHFV/F01KQ562R33/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01KQ562R33-05cfaaf64a","is_starred":false,"has_rich_preview":false},{"id":"F01KBGETL5Q","created":1611176537,"timestamp":1611176537,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UK1BNFHFV","editable":false,"size":143349,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01KBGETL5Q/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01KBGETL5Q/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_360.png","thumb_360_w":360,"thumb_360_h":220,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_480.png","thumb_480_w":480,"thumb_480_h":294,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_720.png","thumb_720_w":720,"thumb_720_h":441,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_800.png","thumb_800_w":800,"thumb_800_h":490,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_960.png","thumb_960_w":960,"thumb_960_h":588,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01KBGETL5Q-33de0e03e3/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":627,"original_w":1156,"original_h":708,"thumb_tiny":"AwAdADDS7nmlxSE46Um/1FADqTFJk0c9hQAtKKTHvSHrQA7vRikxzxS496AE2j0o5A55pSPQ0YoATk9KMetLjigcDmgD/9k=","permalink":"https://julialang.slack.com/files/UK1BNFHFV/F01KBGETL5Q/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01KBGETL5Q-59a5d1ce60","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"Uo7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I merged some (not yet tagged) code that enables you to create a simple Legend by passing an Axis or LScene / Scene. Like in matplotlib etc. you can give plots labels, and labeled plots will be included in the Legend.\n\nAlso I'm working on a branch right now to put color and attribute cycling into Axis. Here's a short example with some random densities:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"let\n    f = Figure()\n\n    ax = f[1, 1] = Axis(f, palette = (color = cgrad(:seaborn_bright6, alpha = 0.7),))\n    for i in 1:6\n        density!(randn(100) .+ 2i, label = string(rand(names(AbstractPlotting))))\n    end\n    tightlimits!(ax, Bottom())\n\n    f[1, 2] = Legend(f, ax)\n    f\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and another with some lines where the color cycling is set to just black and gray, so linestyles show up as well\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"let\n    f = Figure()\n\n    f[1, 1] = Axis(f, palette = (color = [:black, :gray50],))\n    for i in 1:5\n        lines!(cumsum(randn(100)), label = \"$i\", linewidth = 2)\n    end\n    f[1, 2] = Legend(f, current_axis())\n\n    f\nend"}]}]}],"user":"UK1BNFHFV","ts":"1611176550.273600","thread_ts":"1611176550.273600","reply_count":14,"reply_users_count":4,"latest_reply":"1611258506.046000","reply_users":["U66SGEWAC","UK1BNFHFV","U67BJLYCS","U8JP5B9T2"],"subscribed":false,"reactions":[{"name":"heart","users":["U66SGEWAC","U7ZNTQFLH","UQMHE3ER4","U7PGB5DU3","UM70NJEER","U836PQXSN","UUTEK2XTM","UB197FRCL","US5RA4FK4","U8J1KET6K","UUS6GL8BH","U66M57AN4","U6BJ9E351","UHRBR18HH","U9769MVA7","UBG5ZHBRS","UEP056STX","U9MED583T"],"count":18},{"name":"clapping","users":["UB197FRCL","UUS6GL8BH","U9769MVA7","UEP056STX"],"count":4}]},{"client_msg_id":"a6360cb6-be97-4137-af73-b20e555b6b7c","type":"message","text":"Amazing to see this finally happening! :smile:","user":"U66SGEWAC","ts":"1611176656.274400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V+qX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Amazing to see this finally happening! "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"cabc98d3-9b98-4952-b3fb-8a8395f6d66f","type":"message","text":"after thousands of manually constructed legends and manually computed colors.. ;)","user":"UK1BNFHFV","ts":"1611176846.275600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wyDrr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"after thousands of manually constructed legends and manually computed colors.. ;)"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV","reactions":[{"name":"sweat_smile","users":["U66SGEWAC","UUS6GL8BH","U8JP5B9T2"],"count":3}]},{"client_msg_id":"599bb9f5-fc26-43b2-89dd-284a5df496e1","type":"message","text":"Oh nice!","user":"U67BJLYCS","ts":"1611178523.280300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wVYV/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh nice!"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"653ec20e-35ed-498d-9a37-0d25df27dcf7","type":"message","text":":heart:","user":"U67BJLYCS","ts":"1611178554.280500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bhBw","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"heart"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"1d53cd85-335d-4136-9c0d-6a5547b167d1","type":"message","text":"To get ahold of this we would do `]add AbstractPlotting#master`?","user":"U8JP5B9T2","ts":"1611245481.023000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8fh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To get ahold of this we would do "},{"type":"text","text":"]add AbstractPlotting#master","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"5B82707B-0131-43DF-A2C5-D1D9AE2AF85C","type":"message","text":"For the legend yes, the cycler is a pr","user":"UK1BNFHFV","ts":"1611245814.023600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DNg=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For the legend yes, the cycler is a pr"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"aa8fd8c6-a558-4367-bb49-c0f6e8a71730","type":"message","text":":thumbsup:","user":"U8JP5B9T2","ts":"1611246303.024900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JsF","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"thumbsup"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"a9b9c882-05b8-43cc-bbfb-4a528b7411f7","type":"message","text":"Err ... what am I missing?\n\n```figure = Figure(resolution = (1200, 800))\n\nf1 = figure[1,1] = Axis(figure, title=\"Raw vs Final Reads\", xlabel=\"Batch #\", ylabel=\"reads\")\nbatch_ticks = map(unique(reads.batch)) do b\n    inds = findall(==(b), reads.batch)\n    center = sum(extrema(inds)) / 2\nend\nf1.xticks = (batch_ticks, string.(1:14))\n\n\nbarplot!(f1, 1:nrow(reads), reads.\"raw pair1\", color=colormap[1])\nbarplot!(f1, 1:nrow(reads), reads.\"final pair1\", color=colormap[5])\nf1leg = figure[1,2] = Legend(figure, f1)```\ngives me `MethodError`. I've got AbstractPlotting#master (which grabbed LayoutsBase 0.5)","user":"U8JP5B9T2","ts":"1611248777.027100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iMI5X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Err ... what am I missing?\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"figure = Figure(resolution = (1200, 800))\n\nf1 = figure[1,1] = Axis(figure, title=\"Raw vs Final Reads\", xlabel=\"Batch #\", ylabel=\"reads\")\nbatch_ticks = map(unique(reads.batch)) do b\n    inds = findall(==(b), reads.batch)\n    center = sum(extrema(inds)) / 2\nend\nf1.xticks = (batch_ticks, string.(1:14))\n\n\nbarplot!(f1, 1:nrow(reads), reads.\"raw pair1\", color=colormap[1])\nbarplot!(f1, 1:nrow(reads), reads.\"final pair1\", color=colormap[5])\nf1leg = figure[1,2] = Legend(figure, f1)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"gives me "},{"type":"text","text":"MethodError","style":{"code":true}},{"type":"text","text":". I've got AbstractPlotting#master (which grabbed LayoutsBase 0.5)"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"70e04626-b184-4584-8d7f-272d1f23caa1","type":"message","text":"```ERROR: MethodError: no method matching Legend(::Figure, ::Vector{AbstractPlot}, ::Vector{Any}, ::Nothing)\nClosest candidates are:\n  Legend(::Any, ::Any, ::Any, ::Any, ::Any) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables.jl:39\n  Legend(::Any, ::AbstractArray, ::AbstractArray{String, N} where N, ::Union{Nothing, String}; kwargs...) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables/legend.jl:416\n  Legend(::Any, ::Union{Scene, Axis, LScene}, ::Any; kwargs...) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables/legend.jl:473\n  ...```\n","user":"U8JP5B9T2","ts":"1611248841.027300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZN1m","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: no method matching Legend(::Figure, ::Vector{AbstractPlot}, ::Vector{Any}, ::Nothing)\nClosest candidates are:\n  Legend(::Any, ::Any, ::Any, ::Any, ::Any) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables.jl:39\n  Legend(::Any, ::AbstractArray, ::AbstractArray{String, N} where N, ::Union{Nothing, String}; kwargs...) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables/legend.jl:416\n  Legend(::Any, ::Union{Scene, Axis, LScene}, ::Any; kwargs...) at /home/kevin/.julia/packages/AbstractPlotting/fCz8v/src/makielayout/layoutables/legend.jl:473\n  ..."}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"D22406F4-FE50-4D14-886A-7A2983D11569","type":"message","text":"Must be a bug because the label vector is not a string vector for some reason ","user":"UK1BNFHFV","ts":"1611254209.029900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Xz7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Must be a bug because the label vector is not a string vector for some reason "}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"5D2ABE58-0F86-4283-8680-B6C82CD54D28","type":"message","text":"Ah because you didn't set any labels did you? ","user":"UK1BNFHFV","ts":"1611254251.030600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t64G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah because you didn't set any labels did you? "}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"36E9987C-DED5-4342-A9F2-E6129A2AE5AF","type":"message","text":"Then the empty vector would be vector{any} ","user":"UK1BNFHFV","ts":"1611254285.031200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d9S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then the empty vector would be vector{any} "}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"7D75C993-1F7D-4C31-B0E4-6866001CCD29","type":"message","text":"Should probably make that an explicit error ","user":"UK1BNFHFV","ts":"1611254366.031700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yFU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should probably make that an explicit error "}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"66d02fd3-d456-4dca-afa3-e6d19088f7aa","type":"message","text":"Ahh, correct. Interesting - well, easy fix anyway!","user":"U8JP5B9T2","ts":"1611258506.046000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ArX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ahh, correct. Interesting - well, easy fix anyway!"}]}]}],"thread_ts":"1611176550.273600","parent_user_id":"UK1BNFHFV"}]