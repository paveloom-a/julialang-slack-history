[{"client_msg_id":"676c2e28-ae90-4f25-8300-a6833994050b","type":"message","text":"Should we change the default image type in CairoMakie to pngs? Given <https://discourse.julialang.org/t/cairomakie-and-fontconfig/55931>","user":"UQMHE3ER4","ts":"1616164329.046700","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"CairoMakie and Fontconfig","title_link":"https://discourse.julialang.org/t/cairomakie-and-fontconfig/55931","text":"Hi all. Just wondering if this is a known problem that can be easily fixed, or if it’s a bug. Using Github CI tools, we use Documenter.jl to run and build examples. Recently all of our plotting has moved over to Makie so we’re using CairoMakie as the backend. Things are working well for the most part, but sometimes we get labeling issues (Note the title). I fixed a problem with Fontconfig previously. GH CI is using an old ubuntu version for their latest, so fontconfig was ancient and was ...","fallback":"JuliaLang: CairoMakie and Fontconfig","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/3X/1/0/10cd059319e4f36c4ce4e81757a59247cfbef121.png","fields":[{"title":"Reading time","value":"2 mins :clock2:","short":true},{"title":"Likes","value":"4 :heart:","short":true}],"ts":1614171390,"from_url":"https://discourse.julialang.org/t/cairomakie-and-fontconfig/55931","thumb_width":818,"thumb_height":735,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/cairomakie-and-fontconfig/55931"}],"blocks":[{"type":"rich_text","block_id":"FrQjJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should we change the default image type in CairoMakie to pngs? Given "},{"type":"link","url":"https://discourse.julialang.org/t/cairomakie-and-fontconfig/55931"}]}]}],"thread_ts":"1616164329.046700","reply_count":24,"reply_users_count":6,"latest_reply":"1616188636.060600","reply_users":["UUTEK2XTM","UQMHE3ER4","U017LQ3A59U","U66SGEWAC","UK1BNFHFV","UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"27aa76a5-c980-4e11-b9f1-2732d98236c8","type":"message","text":"Yet to test, but I think <https://github.com/JuliaDocs/Documenter.jl/pull/1538> sorts this out (for the Documenter case at least)","user":"UUTEK2XTM","ts":"1616164881.047000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c9R1r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yet to test, but I think "},{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/pull/1538"},{"type":"text","text":" sorts this out (for the Documenter case at least)"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"059b352a-477b-40f2-88b5-b4eb89ec328a","type":"message","text":"It would still be an issue for jupyter notebooks though. And it seemed like the issue was just pushed around a bit and then ignored, from what I remember","user":"UQMHE3ER4","ts":"1616165043.047200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uaSB=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It would still be an issue for jupyter notebooks though. And it seemed like the issue was just pushed around a bit and then ignored, from what I remember"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"d028118c-f290-4750-a0f7-03e03f236b8e","type":"message","text":"You mean the image type that is used to `show` CairoMakie plots right?","user":"U017LQ3A59U","ts":"1616165626.047500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xiV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean the image type that is used to "},{"type":"text","text":"show","style":{"code":true}},{"type":"text","text":" CairoMakie plots right?"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"ba48afd5-4025-4acc-a308-a8fc71826bd5","type":"message","text":"yea, what you set with `CairoMakie.activate!(type = \"png\")`","user":"UQMHE3ER4","ts":"1616165843.047700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Jv7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea, what you set with "},{"type":"text","text":"CairoMakie.activate!(type = \"png\")","style":{"code":true}}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4","reactions":[{"name":"today-i-learned","users":["U017LQ3A59U"],"count":1}]},{"client_msg_id":"320339d5-7a76-48b1-bd55-03e50ca02063","type":"message","text":"Wow :smile: that's messed up","user":"U66SGEWAC","ts":"1616165916.048000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S5Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wow "},{"type":"emoji","name":"smile"},{"type":"text","text":" that's messed up"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"8cc5c7f0-6d2d-448b-a384-0e7c8377acf7","type":"message","text":"I actually thought we use png as default for various other reasons","user":"U66SGEWAC","ts":"1616165955.048200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZwB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I actually thought we use png as default for various other reasons"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"d9032f84-e19c-48ad-aa39-1fa8f511a6d7","type":"message","text":"<https://github.com/JuliaPlots/CairoMakie.jl/pull/147>","user":"U66SGEWAC","ts":"1616166080.048400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"60Pg","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPlots/CairoMakie.jl/pull/147"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"c6ae47ac-952c-4212-bebb-248ba17bab29","type":"message","text":"my documenter pr fixes this issue","user":"UK1BNFHFV","ts":"1616171049.053100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ebk7T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"my documenter pr fixes this issue"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"89a54261-55f0-4916-90ee-e366608e5842","type":"message","text":"it's just really bad practice to insert a large number of svgs into the dom directly if they can interact","user":"UK1BNFHFV","ts":"1616171090.053300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wep/U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's just really bad practice to insert a large number of svgs into the dom directly if they can interact"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"df7eb2d6-0a89-4bab-8443-130e4ad30ed2","type":"message","text":"I'm not really for changing to png by default because I like the vector quality, and if you increase default resolution for better quality the size balloons","user":"UK1BNFHFV","ts":"1616171173.053500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IJG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not really for changing to png by default because I like the vector quality, and if you increase default resolution for better quality the size balloons"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"e664a0ee-a472-4844-9e3a-01bf852676e8","type":"message","text":"I care more about jupyter notebooks. I've been writing that line every time I use CairoMakie... :confused:","user":"UQMHE3ER4","ts":"1616171415.053700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sFn/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I care more about jupyter notebooks. I've been writing that line every time I use CairoMakie... "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"cf36762d-fd4b-4a71-8219-285103ff018b","type":"message","text":"I think PNG is a safer default; I’ve had my browser freeze up a few times with Pluto notebooks by changing a CairoMakie histogram to a scatter plot or something like that and then the browser gets overwhelmed since suddenly there’s a huge number of points","user":"UCZ7VBGUD","ts":"1616172487.053900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WOqV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think PNG is a safer default; I’ve had my browser freeze up a few times with Pluto notebooks by changing a CairoMakie histogram to a scatter plot or something like that and then the browser gets overwhelmed since suddenly there’s a huge number of points"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"2742a411-0fd6-4c52-9187-b07ba79d8b2d","type":"message","text":"it would be good if you could change the default resolution used in PNGs in the `show` method though, I always have to pirate it to get decent looking plots","user":"UCZ7VBGUD","ts":"1616172563.054100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zcm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it would be good if you could change the default resolution used in PNGs in the "},{"type":"text","text":"show","style":{"code":true}},{"type":"text","text":" method though, I always have to pirate it to get decent looking plots"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"37dedfe5-cc31-4994-a833-5e72c7236a1a","type":"message","text":"&gt; I'm not really for changing to png by default because I like the vector quality,\nEveryone likes the quality :smile: But I think the png quality is good enough to be a default, and svg is simply to problematic to be a good default","user":"U66SGEWAC","ts":"1616172995.054300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DJr","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"I'm not really for changing to png by default because I like the vector quality,"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Everyone likes the quality "},{"type":"emoji","name":"smile"},{"type":"text","text":" But I think the png quality is good enough to be a default, and svg is simply to problematic to be a good default"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"3bf44e99-29cf-4669-b5e8-32f6fd65c3a6","type":"message","text":"I don't think it's good enough unless you dial up the resolution. Which we can do in CairoMakie","user":"UK1BNFHFV","ts":"1616178102.054500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nM0F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think it's good enough unless you dial up the resolution. Which we can do in CairoMakie"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"fca0ee52-b8c2-4251-bb06-0ab181595571","type":"message","text":"I actually wanted to make that configurable, the `px_per_unit` setting for showing is currently hardcoded","user":"UK1BNFHFV","ts":"1616178124.054700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2MG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I actually wanted to make that configurable, the "},{"type":"text","text":"px_per_unit","style":{"code":true}},{"type":"text","text":" setting for showing is currently hardcoded"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"d2b0c07a-be7d-46de-b08e-7f8c30cf0ba6","type":"message","text":"Well, it's good enough for most use cases right? Only for publications and shiny websites you need something better, or am i missing something?","user":"U66SGEWAC","ts":"1616178548.054900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NTZU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, it's good enough for most use cases right? Only for publications and shiny websites you need something better, or am i missing something?"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"7af1dc1f-9a54-4d91-ab6e-286b27bbaff4","type":"message","text":"I've never zoomed into a plot in documentation or a jupyter notebook to get more quality. I only really need quality when I'm writing some tex document and then I need to save anyway","user":"UQMHE3ER4","ts":"1616178589.055100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"unGQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've never zoomed into a plot in documentation or a jupyter notebook to get more quality. I only really need quality when I'm writing some tex document and then I need to save anyway"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"a8bee0f1-31ae-48df-9154-c3c1ca6c91f7","type":"message","text":"I don't want fuzzy text while interactively plotting in VSCode either. Makes it hard to read smaller things","user":"UK1BNFHFV","ts":"1616181652.055300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kELTP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't want fuzzy text while interactively plotting in VSCode either. Makes it hard to read smaller things"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4","reactions":[{"name":"+1","users":["UCZ7VBGUD"],"count":1}]},{"client_msg_id":"15FD4DE5-5A71-4D26-A968-1C6CA5843248","type":"message","text":"I always use at least px_per_unit=2, otherwise it’s annoyingly fuzzy imo","user":"UCZ7VBGUD","ts":"1616183925.056600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3eJK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I always use at least px_per_unit=2, otherwise it’s annoyingly fuzzy imo"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"77a8def9-fdac-49ce-bd68-289072ed9867","type":"message","text":"maybe it depends on your monitor DPI though","user":"UCZ7VBGUD","ts":"1616184654.056900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rIB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe it depends on your monitor DPI though"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"type":"message","text":"For me the current default (svg) is also too big for jupyter notebook cells. In vscode they take up about half of my screen width (1440p monitor, linux) which is also more than I want.","files":[{"id":"F01RG76NJMV","created":1616187919,"timestamp":1616187919,"name":"Screenshot from 2021-03-19 21-59-41.png","title":"Screenshot from 2021-03-19 21-59-41.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UQMHE3ER4","editable":false,"size":33110,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01RG76NJMV/screenshot_from_2021-03-19_21-59-41.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01RG76NJMV/download/screenshot_from_2021-03-19_21-59-41.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_360.png","thumb_360_w":360,"thumb_360_h":257,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_480.png","thumb_480_w":480,"thumb_480_h":342,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_720.png","thumb_720_w":720,"thumb_720_h":513,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_800.png","thumb_800_w":800,"thumb_800_h":570,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_960.png","thumb_960_w":960,"thumb_960_h":684,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01RG76NJMV-42e893669b/screenshot_from_2021-03-19_21-59-41_1024.png","thumb_1024_w":1024,"thumb_1024_h":730,"original_w":1230,"original_h":877,"thumb_tiny":"AwAiADDS7cU35h3FPHSgUAN+b2o+b2p1FACc0nNOpD0oAUdKBQOlJ0oAWiijOKACkPSlpD0oAP4aTNL/AA0lABmjNFFAC0HpSUdqAP/Z","permalink":"https://julialang.slack.com/files/UQMHE3ER4/F01RG76NJMV/screenshot_from_2021-03-19_21-59-41.png","permalink_public":"https://slack-files.com/T68168MUP-F01RG76NJMV-ad1cf70ded","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"PEe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For me the current default (svg) is also too big for jupyter notebook cells. In vscode they take up about half of my screen width (1440p monitor, linux) which is also more than I want."}]}]}],"user":"UQMHE3ER4","display_as_bot":false,"ts":"1616188159.057100","thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"4D6D0996-59E6-42EB-B963-492F0B2D7DEB","type":"message","text":"We need to tweak the default anyway. First of all, I think the half-monitor-size resolution is bad, should be the same default everywhere. And the MakieLayout sizes of things were all chosen by me for my retina macbook long ago, which just doesn't make good use of space","user":"UK1BNFHFV","ts":"1616188590.059600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U9Rt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We need to tweak the default anyway. First of all, I think the half-monitor-size resolution is bad, should be the same default everywhere. And the MakieLayout sizes of things were all chosen by me for my retina macbook long ago, which just doesn't make good use of space"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"},{"client_msg_id":"0EEAC326-B3C3-4135-ADE7-99C0F0D1BD07","type":"message","text":"16:9 is also not a good default aspect ratio for plots even though many monitors have that size","user":"UK1BNFHFV","ts":"1616188636.060600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cRm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"16:9 is also not a good default aspect ratio for plots even though many monitors have that size"}]}]}],"thread_ts":"1616164329.046700","parent_user_id":"UQMHE3ER4"}]