[{"client_msg_id":"c799073d-7d36-4434-bf83-ff399856124e","type":"message","text":"Does makie text layout the character directly (i.e. deal with kerning and such) or does it rely on the backends for doing it?","user":"U017LQ3A59U","ts":"1615045010.050500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uris","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does makie text layout the character directly (i.e. deal with kerning and such) or does it rely on the backends for doing it?"}]}]}],"thread_ts":"1615045010.050500","reply_count":21,"reply_users_count":3,"latest_reply":"1615188709.084200","reply_users":["UQMHE3ER4","UK1BNFHFV","U017LQ3A59U"],"subscribed":false},{"client_msg_id":"c15dbe14-ec9c-4775-b02b-ceb05953f52f","type":"message","text":"<https://github.com/JuliaPlots/AbstractPlotting.jl/blob/master/src/utilities/texture_atlas.jl>\n<https://github.com/JuliaPlots/AbstractPlotting.jl/blob/master/src/layouting/layouting.jl>\nThese two have code for placing characters","user":"UQMHE3ER4","ts":"1615045253.050600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4lxb","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPlots/AbstractPlotting.jl/blob/master/src/utilities/texture_atlas.jl"},{"type":"text","text":"\n"},{"type":"link","url":"https://github.com/JuliaPlots/AbstractPlotting.jl/blob/master/src/layouting/layouting.jl"},{"type":"text","text":"\nThese two have code for placing characters"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"92BFFF22-E9C9-4CF6-B5B7-19B4754C689A","type":"message","text":"It's direct because I need the sizes for layout placement","user":"UK1BNFHFV","ts":"1615046140.051700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"opKc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's direct because I need the sizes for layout placement"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"086684e9-926a-4a2a-ab53-03d58bbe8f45","type":"message","text":"Perfect, I was worried I would have to figure these things out all by myself","user":"U017LQ3A59U","ts":"1615046239.053700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HGP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Perfect, I was worried I would have to figure these things out all by myself"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"7DF7AA40-C617-46B1-8345-012A0B575BAD","type":"message","text":"We're not dealing with kerning though, it's the simplest layout algorithm you could have. It can't do any fancy stuff like right to left, vertical, ligatures, etc. But it works for the most common cases and the same way across backends. Also it was even worse before I wrote that ;)","user":"UK1BNFHFV","ts":"1615050684.058300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7jJC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We're not dealing with kerning though, it's the simplest layout algorithm you could have. It can't do any fancy stuff like right to left, vertical, ligatures, etc. But it works for the most common cases and the same way across backends. Also it was even worse before I wrote that ;)"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"2794a86a-1b2a-4a5e-aff5-0da309ae8233","type":"message","text":"It shows how to get all font metrics, so that's already awesome","user":"U017LQ3A59U","ts":"1615051276.058500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MWW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It shows how to get all font metrics, so that's already awesome"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"13f0218b-af2a-4f63-970a-b2521acecc84","type":"message","text":"Actually as a first prototype I can disregard all of that and just use text bounding boxes to layout everything... and only use my knew knowledge of the maddening complexity of typography to impress people","user":"U017LQ3A59U","ts":"1615057190.059700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JvTzQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Actually as a first prototype I can disregard all of that and just use text bounding boxes to layout everything... and only use my knew knowledge of the maddening complexity of typography to impress people"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U","reactions":[{"name":"joy","users":["U67G3QRJM"],"count":1}]},{"type":"message","text":"Clearly that was over-optimistic...","files":[{"id":"F01Q7U4RA3G","created":1615079479,"timestamp":1615079479,"name":"test.pdf","title":"test.pdf","mimetype":"application/pdf","filetype":"pdf","pretty_type":"PDF","user":"U017LQ3A59U","editable":false,"size":10819,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01Q7U4RA3G/test.pdf","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01Q7U4RA3G/download/test.pdf","thumb_pdf":"https://files.slack.com/files-tmb/T68168MUP-F01Q7U4RA3G-008ddf2ffd/test_thumb_pdf.png","thumb_pdf_w":1467,"thumb_pdf_h":825,"permalink":"https://julialang.slack.com/files/U017LQ3A59U/F01Q7U4RA3G/test.pdf","permalink_public":"https://slack-files.com/T68168MUP-F01Q7U4RA3G-ee028dacf0","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"E9x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Clearly that was over-optimistic..."}]}]}],"user":"U017LQ3A59U","display_as_bot":false,"ts":"1615079492.062000","thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"F2774F03-6384-4CD9-8217-3F130367E1E9","type":"message","text":"That's a lot of progress already, the positions are even kind of meaningful (depending what you wanted ;))","user":"UK1BNFHFV","ts":"1615088186.063600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cgrg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's a lot of progress already, the positions are even kind of meaningful (depending what you wanted ;))"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"7b09c9fd-bb17-4ac6-8722-7b67aa73bfa8","type":"message","text":"Thanks for the cheers :wink:","user":"U017LQ3A59U","ts":"1615121966.063800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kf1JY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the cheers "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"ea3a1843-d2a3-4a2f-98ee-4f7c8168133f","type":"message","text":"And I think I found part of the problem: somehow some of the computer modern font I have, after going through free type representation, are broken (according to the reported metric the integral and sign sums should be entirely under the horizontal baseline)","user":"U017LQ3A59U","ts":"1615122007.064000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=xu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And I think I found part of the problem: somehow some of the computer modern font I have, after going through free type representation, are broken (according to the reported metric the integral and sign sums should be entirely under the horizontal baseline)"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"D004E457-BA02-48ED-BF65-01D10CCEE39F","type":"message","text":"So do you know if the line of a fraction is a glyph? Or is it really a line that's drawn separately ","user":"UK1BNFHFV","ts":"1615122243.065000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zhCK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So do you know if the line of a fraction is a glyph? Or is it really a line that's drawn separately "}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"ce9d3f00-5aa7-4eb3-84cf-d1f24fda61df","type":"message","text":"It is a line drawn separately","user":"U017LQ3A59U","ts":"1615126342.065300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x9xhm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is a line drawn separately"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"b3d52288-c778-4fe6-8e1a-c5b7be72cc8b","type":"message","text":"But it should not cause any trouble, since its bounding box will always be contained in the the text bounding box (even for square roots I think)","user":"U017LQ3A59U","ts":"1615126387.065500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bla","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But it should not cause any trouble, since its bounding box will always be contained in the the text bounding box (even for square roots I think)"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"098893DA-AF31-406B-B1E2-035E9CF74BF3","type":"message","text":"Yeah I was just thinking about the gpu backend, because glyphs are drawn via a texture atlas lookup there, and that shader can't do lines. So it would be a bit more annoying to make the text pipeline draw lines as well.","user":"UK1BNFHFV","ts":"1615127765.067400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ZC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I was just thinking about the gpu backend, because glyphs are drawn via a texture atlas lookup there, and that shader can't do lines. So it would be a bit more annoying to make the text pipeline draw lines as well."}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"07c502f6-1ba3-48d9-a041-368bcd08f03e","type":"message","text":"There are a bunch of unicode line characters. I think that's what tex uses to - I could swear I've seen large `\\left\\{` composed of individual lines and end bits in some pdf viewers","user":"UQMHE3ER4","ts":"1615129706.068400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"flLxX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are a bunch of unicode line characters. I think that's what tex uses to - I could swear I've seen large "},{"type":"text","text":"\\left\\{","style":{"code":true}},{"type":"text","text":" composed of individual lines and end bits in some pdf viewers"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"bfe406cb-8d81-4814-9ab2-6e393fd0d86d","type":"message","text":"If Makie support inhomogenous scaling it would also be possible to just stretch one `-` to the desired length","user":"U017LQ3A59U","ts":"1615129835.068600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yxs1B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If Makie support inhomogenous scaling it would also be possible to just stretch one "},{"type":"text","text":"-","style":{"code":true}},{"type":"text","text":" to the desired length"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"d7495feb-fb0b-41bf-938e-4e3ff5adcb98","type":"message","text":"There are continuous lines as unicode characters. Like `⎯⎯⎯`, `⎼⎼⎼`, `⎺⎺⎺`, ... Idk if they work correctly in Makie though\n<https://unicode-table.com/en/search/?q=line>","user":"UQMHE3ER4","ts":"1615130108.068800","team":"T68168MUP","attachments":[{"title":"Search","title_link":"https://unicode-table.com/en/search/?q=line","text":"Unicode web service for character search. Find, copy and paste your favorite characters: :sunglasses: Emoji, :heart: Hearts, :heavy_dollar_sign: Currencies, → Arrows, ★ Stars and many others :triangular_flag_on_post:","fallback":"Search","from_url":"https://unicode-table.com/en/search/?q=line","thumb_url":"https://unicode-table.com/i/favicons/favicon.ico","thumb_width":16,"thumb_height":16,"service_icon":"https://unicode-table.com/i/favicons/apple-icon-57x57.png","service_name":"Unicode Table","id":1,"original_url":"https://unicode-table.com/en/search/?q=line"}],"blocks":[{"type":"rich_text","block_id":"7XZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are continuous lines as unicode characters. Like "},{"type":"text","text":"⎯⎯⎯","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"⎼⎼⎼","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"⎺⎺⎺","style":{"code":true}},{"type":"text","text":", ... Idk if they work correctly in Makie though\n"},{"type":"link","url":"https://unicode-table.com/en/search/?q=line"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"0874920b-3152-4f24-b7e0-ee9c01e78b8b","type":"message","text":"Nope, they have a bit of separation in Makie :(","user":"UQMHE3ER4","ts":"1615130208.069100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DNX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope, they have a bit of separation in Makie :("}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"1c2fab84-773e-47f7-90d5-5f690417a286","type":"message","text":"Maybe due to the \"no-kerning\" strategy :eyes:","user":"U017LQ3A59U","ts":"1615130264.069300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fxV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe due to the \"no-kerning\" strategy "},{"type":"emoji","name":"eyes"}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"type":"message","text":"Ok I get it now, some fonts simply don't work out of the box and the traditional way Latex does had to accomodate the pre-unicode world. And even for the few that does there may be aditional latex magic for some symbol to get e.g. the very nice big integral sign. Reproducing latex looks is thus quite more that reproducing its general behavior.","files":[{"id":"F01QU105M33","created":1615145946,"timestamp":1615145946,"name":"NewCMMath.pdf","title":"NewCMMath.pdf","mimetype":"application/pdf","filetype":"pdf","pretty_type":"PDF","user":"U017LQ3A59U","editable":false,"size":6539,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01QU105M33/newcmmath.pdf","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01QU105M33/download/newcmmath.pdf","thumb_pdf":"https://files.slack.com/files-tmb/T68168MUP-F01QU105M33-2437395528/newcmmath_thumb_pdf.png","thumb_pdf_w":1467,"thumb_pdf_h":825,"permalink":"https://julialang.slack.com/files/U017LQ3A59U/F01QU105M33/newcmmath.pdf","permalink_public":"https://slack-files.com/T68168MUP-F01QU105M33-5eb6781e41","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"zwni7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok I get it now, some fonts simply don't work out of the box and the traditional way Latex does had to accomodate the pre-unicode world. And even for the few that does there may be aditional latex magic for some symbol to get e.g. the very nice big integral sign. Reproducing latex looks is thus quite more that reproducing its general behavior."}]}]}],"user":"U017LQ3A59U","display_as_bot":false,"ts":"1615145969.079800","thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"},{"client_msg_id":"680730D8-A6AF-418D-B872-F2F6D9DFEA38","type":"message","text":"So do you know what matplotlib / GR do? This example already looks pretty good, no? ","user":"UK1BNFHFV","ts":"1615188709.084200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7fw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So do you know what matplotlib / GR do? This example already looks pretty good, no? "}]}]}],"thread_ts":"1615045010.050500","parent_user_id":"U017LQ3A59U"}]