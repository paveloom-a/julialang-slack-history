[{"client_msg_id":"3b6091c4-bf02-43d9-8dd5-364ba39596fc","type":"message","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have `test/runtests.jl` (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of `docs/make.jl`, but some packages may have documentation outside of the repo, so this is a lower limit","user":"UDB26738Q","ts":"1611431377.025000","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1611431457.000000"},"blocks":[{"type":"rich_text","block_id":"t7h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have "},{"type":"text","text":"test/runtests.jl","style":{"code":true}},{"type":"text","text":" (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of "},{"type":"text","text":"docs/make.jl","style":{"code":true}},{"type":"text","text":", but some packages may have documentation outside of the repo, so this is a lower limit"}]}]}],"thread_ts":"1611431377.025000","reply_count":23,"reply_users_count":5,"latest_reply":"1611451726.037200","reply_users":["UH8A351DJ","UDB26738Q","U6795JH6H","UCZ7VBGUD","U6A936746"],"subscribed":false,"reactions":[{"name":"100","users":["U67G3QRJM","U6795JH6H","UCZ7VBGUD","U011LUQ182G","U6A936746","U6QGE7S86","UPQP0RWTH","UB197FRCL","U82RE6STE","U01BX0V74Q2","UEP056STX"],"count":11}]},{"client_msg_id":"b7c14e01-3a70-40df-b02f-6533b48dfa84","type":"message","text":"might want to check if `runtests.jl` are just template from `PkgTemplates` (maybe a line number counts, or by looking at if there are more than 5 files in `/test`","user":"UH8A351DJ","ts":"1611431415.025100","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611431442.000000"},"blocks":[{"type":"rich_text","block_id":"j=Dt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"might want to check if "},{"type":"text","text":"runtests.jl","style":{"code":true}},{"type":"text","text":" are just template from "},{"type":"text","text":"PkgTemplates","style":{"code":true}},{"type":"text","text":" (maybe a line number counts, or by looking at if there are more than 5 files in "},{"type":"text","text":"/test","style":{"code":true}}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"c5cc1a0a-d096-4de6-8e00-9dc9c3306cad","type":"message","text":"more than 5 files in `tests` would mark most of packages without tests, according to this criterion","user":"UDB26738Q","ts":"1611431511.025600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9hf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"more than 5 files in "},{"type":"text","text":"tests","style":{"code":true}},{"type":"text","text":" would mark most of packages without tests, according to this criterion"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"d757b02f-830f-4222-89c6-d24610194135","type":"message","text":"I guess then `&gt;=2` files, basically whatever is higher than `PkgTemplates` gives you","user":"UH8A351DJ","ts":"1611431609.025800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Lzr1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess then "},{"type":"text","text":">=2","style":{"code":true}},{"type":"text","text":" files, basically whatever is higher than "},{"type":"text","text":"PkgTemplates","style":{"code":true}},{"type":"text","text":" gives you"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"f805e2c2-d4d1-43b0-9fe0-41792301198e","type":"message","text":"(by \"most\" I probably mean \"all\")","user":"UDB26738Q","ts":"1611431611.026000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VwFVR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(by \"most\" I probably mean \"all\")"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"a5067382-4c77-4f3f-a2b8-f2e6218e062c","type":"message","text":"5 was not meant to be a precise number","user":"UH8A351DJ","ts":"1611431625.026200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ykUa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"5 was not meant to be a precise number"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"197ff0f3-641a-4cd0-af0e-f6f50310112c","type":"message","text":"I have a number of small packages for which the README is the only documentation","user":"U6795JH6H","ts":"1611431635.026400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hwl/7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a number of small packages for which the README is the only documentation"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["U8D9768Q6","U9V8ZQVEY","UJ7DVTVQ8","U9MED583T","UC53031QU"],"count":5}]},{"client_msg_id":"65e84dc4-783f-432f-9ecd-bfff78622925","type":"message","text":"Tar, BSDiff, ArgTools, NetworkOptions","user":"U6795JH6H","ts":"1611431665.026700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z8p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Tar, BSDiff, ArgTools, NetworkOptions"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"c3a4164b-7123-4fad-b731-bcb10aead64b","type":"message","text":"yeah, documentation is harder to measure, I also I have one or two small packages without proper docs","user":"UDB26738Q","ts":"1611431670.027000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GHY5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, documentation is harder to measure, I also I have one or two small packages without proper docs"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"a32bf1a4-c94a-4eab-aaa5-ac4e3aa2e50c","type":"message","text":"great analysis — we should run it regularly!","user":"U6795JH6H","ts":"1611431683.027200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EZ83","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"great analysis — we should run it regularly!"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["UB197FRCL","U82RE6STE"],"count":2}]},{"client_msg_id":"e3057abe-075a-43af-ad0c-01ce3d016cd1","type":"message","text":"I think I'll publish it at some point","user":"UDB26738Q","ts":"1611431710.027400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"364+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I'll publish it at some point"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["UH8A351DJ","UCZ7VBGUD","U011LUQ182G","U6QGE7S86","UB197FRCL"],"count":5}]},{"client_msg_id":"9A656B0E-94A6-4CA1-9C2D-FDE297EA6D79","type":"message","text":"What about licenses (or just existence of a license file)? We haven’t added an automerge check yet, so some might have slipped through (even though General policy does require an OSI license)","user":"UCZ7VBGUD","ts":"1611432307.029300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FBMp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What about licenses (or just existence of a license file)? We haven’t added an automerge check yet, so some might have slipped through (even though General policy does require an OSI license)"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["U6A936746","UPQP0RWTH"],"count":2}]},{"client_msg_id":"b4073220-06a9-4124-a1ea-ff8e0569483e","type":"message","text":"damn, that was good to check as well!  I cloned all packages in temporary directories, so they're gone now :joy:","user":"UDB26738Q","ts":"1611432358.029500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Du/f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"damn, that was good to check as well!  I cloned all packages in temporary directories, so they're gone now "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"128CA4A7-4E45-4DFD-A3A3-534F7613A110","type":"message","text":"Ah, maybe next time then!","user":"UCZ7VBGUD","ts":"1611432398.029900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3RX3l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, maybe next time then!"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"1f79066d-7d6e-4e27-82fa-d77389dc22c2","type":"message","text":"I have a handful of packages that have files in docs, but don't have them deployed, or anything beyond the template.\nBecause I am like I might make docs for this, then decide that the readme is enough.\n\nIn contrast\nI also have one iirc that has files in docs, but that are intend to be viewed in GitHub rather than in rendered docs pages.","user":"U6A936746","ts":"1611435864.030900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1fi7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a handful of packages that have files in docs, but don't have them deployed, or anything beyond the template.\nBecause I am like I might make docs for this, then decide that the readme is enough.\n\nIn contrast\nI also have one iirc that has files in docs, but that are intend to be viewed in GitHub rather than in rendered docs pages."}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"type":"message","subtype":"thread_broadcast","text":"<https://giordano.github.io/blog/2021-01-23-documentation-testing-julia/>","user":"UDB26738Q","ts":"1611449444.032300","thread_ts":"1611431377.025000","root":{"client_msg_id":"3b6091c4-bf02-43d9-8dd5-364ba39596fc","type":"message","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have `test/runtests.jl` (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of `docs/make.jl`, but some packages may have documentation outside of the repo, so this is a lower limit","user":"UDB26738Q","ts":"1611431377.025000","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1611431457.000000"},"blocks":[{"type":"rich_text","block_id":"t7h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have "},{"type":"text","text":"test/runtests.jl","style":{"code":true}},{"type":"text","text":" (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of "},{"type":"text","text":"docs/make.jl","style":{"code":true}},{"type":"text","text":", but some packages may have documentation outside of the repo, so this is a lower limit"}]}]}],"thread_ts":"1611431377.025000","reply_count":23,"reply_users_count":5,"latest_reply":"1611451726.037200","reply_users":["UH8A351DJ","UDB26738Q","U6795JH6H","UCZ7VBGUD","U6A936746"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"VQVMx","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://giordano.github.io/blog/2021-01-23-documentation-testing-julia/"}]}]}],"client_msg_id":"e7560b76-89ce-407b-be81-f2e1e75a3aaf","reactions":[{"name":"tada","users":["UCZ7VBGUD","U9V8ZQVEY","U6A936746","U7QLM6E2E","U6795JH6H","UBG5JAHS7"],"count":6},{"name":"heart","users":["U6795JH6H"],"count":1}]},{"type":"message","subtype":"thread_broadcast","text":"I made a tweak to require `runtests.jl` to have more than 6 lines (6 is the default empty one generated by PkgTemplates) or multiple files:\n```julia&gt; length(report)\n4312\n\njulia&gt; count(x-&gt;x.runtests, report)\n3969```","user":"UH8A351DJ","ts":"1611450897.035100","thread_ts":"1611431377.025000","root":{"client_msg_id":"3b6091c4-bf02-43d9-8dd5-364ba39596fc","type":"message","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have `test/runtests.jl` (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of `docs/make.jl`, but some packages may have documentation outside of the repo, so this is a lower limit","user":"UDB26738Q","ts":"1611431377.025000","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1611431457.000000"},"blocks":[{"type":"rich_text","block_id":"t7h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm doing an analysis of the packages in the General registry.  preliminary results:\n* 4312 packages\n* 4287 reachable (the others are probably left-padded)\n* 4139 have "},{"type":"text","text":"test/runtests.jl","style":{"code":true}},{"type":"text","text":" (97% of the reachable ones)\n* 4105 have a CI setup (96%)\n* 1887 have documentation (44%), I checked for the presence of "},{"type":"text","text":"docs/make.jl","style":{"code":true}},{"type":"text","text":", but some packages may have documentation outside of the repo, so this is a lower limit"}]}]}],"thread_ts":"1611431377.025000","reply_count":23,"reply_users_count":5,"latest_reply":"1611451726.037200","reply_users":["UH8A351DJ","UDB26738Q","U6795JH6H","UCZ7VBGUD","U6A936746"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"xDvp2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a tweak to require "},{"type":"text","text":"runtests.jl","style":{"code":true}},{"type":"text","text":" to have more than 6 lines (6 is the default empty one generated by PkgTemplates) or multiple files:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> length(report)\n4312\n\njulia> count(x->x.runtests, report)\n3969"}]}]}],"client_msg_id":"1b5c5f90-6c4a-42cc-aaf7-11a64683fa14","edited":{"user":"UH8A351DJ","ts":"1611452003.000000"}},{"client_msg_id":"bffc901d-a6b1-488e-aadf-008aedcfea00","type":"message","text":"There are a lot of runtests.jl which are only includes","user":"UDB26738Q","ts":"1611451089.035700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LXMF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are a lot of runtests.jl which are only includes"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"d6a71754-ba6e-448d-9f92-c02b703a9eb7","type":"message","text":"As I wrote in the post, I went through a sample of 43 repositories \"with tests\" and only two didn't have real tests (I'm pretty sure one had 9 lines)","user":"UDB26738Q","ts":"1611451190.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pJff3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As I wrote in the post, I went through a sample of 43 repositories \"with tests\" and only two didn't have real tests (I'm pretty sure one had 9 lines)"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"f816eb27-b456-4f17-aeb5-ce9c92e16edc","type":"message","text":"then let's check `&gt;6 lines` or `multiple file in /test`? Because my feeling is \"empty tests generated by PkgTemplates\" is the biggest 2nd order effect","user":"UH8A351DJ","ts":"1611451214.036200","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611451226.000000"},"blocks":[{"type":"rich_text","block_id":"CxdB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then let's check "},{"type":"text","text":">6 lines","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"multiple file in /test","style":{"code":true}},{"type":"text","text":"? Because my feeling is \"empty tests generated by PkgTemplates\" is the biggest 2nd order effect"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"c6e7d5d9-7d30-45d5-b849-fe4acd3d8ea4","type":"message","text":"I literally opened and read tests of 43 random repositories and I can tell you that had meaningful tests","user":"UDB26738Q","ts":"1611451290.036500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1JGs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I literally opened and read tests of 43 random repositories and I can tell you that had meaningful tests"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"09100f7c-51fe-41ca-860d-4d1c0cb5c5bb","type":"message","text":"(one had only like 3 assertions, I think they were integration tests, but still meaningful, not dummy autogenerated tests)","user":"UDB26738Q","ts":"1611451353.036700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xblx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(one had only like 3 assertions, I think they were integration tests, but still meaningful, not dummy autogenerated tests)"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"9cceaf03-6e18-4bb1-8f79-97085e6a3662","type":"message","text":"as I said, having anything meaningful would most likely put line count over 6.\n\nlet's cover the `include()` scenario for safety measure","user":"UH8A351DJ","ts":"1611451380.036900","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611451543.000000"},"blocks":[{"type":"rich_text","block_id":"lQ/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"as I said, having anything meaningful would most likely put line count over 6.\n\nlet's cover the "},{"type":"text","text":"include()","style":{"code":true}},{"type":"text","text":" scenario for safety measure"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"},{"client_msg_id":"51e2c5a8-99a4-4535-81bb-e2abc397efd2","type":"message","text":"btw, no offense really, this is an important study that is worth for regular checking and you 100% nailed the implementation\n\nI just want to make sure it is sound so we don't see a blog post later rebutting saying we overestimated Julia's test prevalence. 43 out of 4.1k is not statistically significant and I just want to get the low-hanging fruit while we're at it","user":"UH8A351DJ","ts":"1611451726.037200","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611451741.000000"},"blocks":[{"type":"rich_text","block_id":"+bNR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"btw, no offense really, this is an important study that is worth for regular checking and you 100% nailed the implementation\n\nI just want to make sure it is sound so we don't see a blog post later rebutting saying we overestimated Julia's test prevalence. 43 out of 4.1k is not statistically significant and I just want to get the low-hanging fruit while we're at it"}]}]}],"thread_ts":"1611431377.025000","parent_user_id":"UDB26738Q"}]