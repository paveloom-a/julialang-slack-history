[{"client_msg_id":"5ee18bf6-2568-4879-9ba4-38bf7f7eee95","type":"message","text":"I've read many times that some operations don't benefit from multithreading because they are memory bound. But in practice, what kind of operations does this apply to? I imagine it depends a lot on the hardware, i.e. a machine with 100 CPUs has a much higher RAM bandwidth than a 4-CPU laptop?","user":"U67431ELR","ts":"1616783927.029500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X3X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've read many times that some operations don't benefit from multithreading because they are memory bound. But in practice, what kind of operations does this apply to? I imagine it depends a lot on the hardware, i.e. a machine with 100 CPUs has a much higher RAM bandwidth than a 4-CPU laptop?"}]}]}],"thread_ts":"1616783927.029500","reply_count":8,"reply_users_count":3,"latest_reply":"1616790381.033400","reply_users":["U881D0W2C","U67431ELR","UDFRYRTBL"],"is_locked":false,"subscribed":false},{"client_msg_id":"aadfca63-4667-4d11-b6a7-25966f890ff2","type":"message","text":"<https://nbviewer.jupyter.org/github/crstnbr/JuliaNRW21/blob/master/Day2/exercise_solutions/solution_optimization2.ipynb>","user":"U881D0W2C","ts":"1616786383.031800","team":"T68168MUP","edited":{"user":"U881D0W2C","ts":"1616786390.000000"},"blocks":[{"type":"rich_text","block_id":"7qf","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://nbviewer.jupyter.org/github/crstnbr/JuliaNRW21/blob/master/Day2/exercise_solutions/solution_optimization2.ipynb"}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"47aed9dd-db86-4f88-af9f-237ff51d7d57","type":"message","text":"To first order, it depends on how many LOAD and STOREs (array accesses) you have in a kernel in comparison to floating point additions and multiplications.","user":"U881D0W2C","ts":"1616786484.032200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Im/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To first order, it depends on how many LOAD and STOREs (array accesses) you have in a kernel in comparison to floating point additions and multiplications."}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"1a7b8ed5-d062-431c-a136-2aed66b568f5","type":"message","text":"(and of course it may depend a lot on you machine / cpu etc.)","user":"U881D0W2C","ts":"1616786522.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rHK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(and of course it may depend a lot on you machine / cpu etc.)"}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"76f1ba39-e139-4524-bf83-8472832224bd","type":"message","text":"Thanks. So basically what this shows is that when you're only doing very simple operations on an array, having more than one thread doesn't benefit much?","user":"U67431ELR","ts":"1616786835.032600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wqfy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks. So basically what this shows is that when you're only doing very simple operations on an array, having more than one thread doesn't benefit much?"}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"46a4ae59-f4a1-43ad-a96a-c101df3b9c20","type":"message","text":"Though in this particular case I guess that since SIMD instructions are generated, a single thread is able to process a lot of data compared with non-SIMD operations.","user":"U67431ELR","ts":"1616787010.032800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bcNf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Though in this particular case I guess that since SIMD instructions are generated, a single thread is able to process a lot of data compared with non-SIMD operations."}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"881af401-a854-41e4-9c49-662343c4ed02","type":"message","text":"&gt; So basically what this shows is that when you’re only doing very simple operations on an array, having more than one thread doesn’t benefit much?\nEssentially, yes. You could try to increase the number of floating point operations, for example by adding a chain of terms `*sin(val)*sin(val)*tan(val)*cos(val)`  …. in this example. At some point you might be CPU bound rather than memory bound.","user":"U881D0W2C","ts":"1616789538.033000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XKJ20","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"So basically what this shows is that when you’re only doing very simple operations on an array, having more than one thread doesn’t benefit much?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nEssentially, yes. You could try to increase the number of floating point operations, for example by adding a chain of terms "},{"type":"text","text":"*sin(val)*sin(val)*tan(val)*cos(val)","style":{"code":true}},{"type":"text","text":"  …. in this example. At some point you might be CPU bound rather than memory bound."}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"339a2880-3dd5-4984-8e38-d594d3e87468","type":"message","text":":+1::skin-tone-2:","user":"UDFRYRTBL","ts":"1616790338.033200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"viBTn","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1","skin_tone":2}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"},{"client_msg_id":"2d61bab4-297d-44f8-889f-d0b79319902e","type":"message","text":"Thanks for the link to the tutorials. Looks very useful!","user":"UDFRYRTBL","ts":"1616790381.033400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dBve","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the link to the tutorials. Looks very useful!"}]}]}],"thread_ts":"1616783927.029500","parent_user_id":"U67431ELR"}]