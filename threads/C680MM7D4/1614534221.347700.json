[{"client_msg_id":"689893B4-4EEC-40EF-A1F0-C2C4F31DC045","type":"message","text":"<https://doesitarm.com/formula/openblas/|https://doesitarm.com/formula/openblas/>  I am not exactly sure what the implication of this is. Since Julia linear algebra is built on openblas, does it mean one can expect good performances out of matrix operations? \n","user":"U01F86UQWQ0","ts":"1614534221.347700","team":"T68168MUP","attachments":[{"title":"Does It ARM","title_link":"https://doesitarm.com/formula/openblas/","text":"Find out the latest app support for Apple Silicon and the Apple M1 Processor","fallback":"Does It ARM","thumb_url":"https://doesitarm.com/images/og-image.png","from_url":"https://doesitarm.com/formula/openblas/","thumb_width":1200,"thumb_height":627,"service_icon":"https://doesitarm.com/favicon.ico","service_name":"doesitarm.com","id":1,"original_url":"https://doesitarm.com/formula/openblas/"}],"blocks":[{"type":"rich_text","block_id":"xMHM","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://doesitarm.com/formula/openblas/","text":"https://doesitarm.com/formula/openblas/"},{"type":"text","text":"  I am not exactly sure what the implication of this is. Since Julia linear algebra is built on openblas, does it mean one can expect good performances out of matrix operations? \n"}]}]}],"thread_ts":"1614534221.347700","reply_count":14,"reply_users_count":5,"latest_reply":"1614557665.355300","reply_users":["U0179G7FG4F","U881D0W2C","U011V2YN59N","UAUPJLBQX","U01F86UQWQ0"],"subscribed":false},{"client_msg_id":"8b65e3c9-bed0-4ff0-a1c6-b56d74039af6","type":"message","text":"Yes. Also, the master branch just got the capability to switch out the version of BLAS used.","user":"U0179G7FG4F","ts":"1614534760.349200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YqGP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. Also, the master branch just got the capability to switch out the version of BLAS used."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0","reactions":[{"name":"+1","users":["U01F86UQWQ0","UAUPJLBQX"],"count":2}]},{"client_msg_id":"10665504-30dd-4548-bb3c-916ddad53ba5","type":"message","text":"Hi <@U01F86UQWQ0> :slightly_smiling_face: If you don’t want to wait for julia 1.7 (what <@U0179G7FG4F> mentioned) you can always use MKL instead of OpenBLAS by 1) trying MKL.jl or 2) building julia from source and essentially setting `USE_INTEL_MKL=1` . I always used to do the latter. In my DQMC simulations this switch gave me a ~20-30 % speedup.","user":"U881D0W2C","ts":"1614543342.350900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"304q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi "},{"type":"user","user_id":"U01F86UQWQ0"},{"type":"text","text":" "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" If you don’t want to wait for julia 1.7 (what "},{"type":"user","user_id":"U0179G7FG4F"},{"type":"text","text":" mentioned) you can always use MKL instead of OpenBLAS by 1) trying MKL.jl or 2) building julia from source and essentially setting "},{"type":"text","text":"USE_INTEL_MKL=1","style":{"code":true}},{"type":"text","text":" . I always used to do the latter. In my DQMC simulations this switch gave me a ~20-30 % speedup."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"f55e2c7a-212f-43b7-99c4-f8a992428f0e","type":"message","text":"can anyone confirm if MKL performs better on Ryzen too? I have heard rumors of this","user":"U011V2YN59N","ts":"1614545330.351100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sTn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can anyone confirm if MKL performs better on Ryzen too? I have heard rumors of this"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"f4e513fe-f1bb-4811-a9c0-1c8c828319e7","type":"message","text":"it's complicated. By default, MKL is awful on ryzen since it pretends AVX doesn't exist. That said, you apparently can trick it by lying about the processor type to get good performance","user":"U0179G7FG4F","ts":"1614545410.351300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mAcXV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's complicated. By default, MKL is awful on ryzen since it pretends AVX doesn't exist. That said, you apparently can trick it by lying about the processor type to get good performance"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"a9d46333-6251-460c-8e8b-aa236ab71179","type":"message","text":"I see, thanks. Sounds like more work than it's worth.","user":"U011V2YN59N","ts":"1614545485.351500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mxOfS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see, thanks. Sounds like more work than it's worth."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"0836f7bb-ed04-4c3e-ad25-007e6022e75c","type":"message","text":"The other thing to check out in a bit is <@UAUPJLBQX> is close to having a Julia only BLAS running. Currently, iirc only matmul is implemented, but that is the most critical part","user":"U0179G7FG4F","ts":"1614546748.351800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RxI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The other thing to check out in a bit is "},{"type":"user","user_id":"UAUPJLBQX"},{"type":"text","text":" is close to having a Julia only BLAS running. Currently, iirc only matmul is implemented, but that is the most critical part"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0","reactions":[{"name":"+1","users":["U011V2YN59N","U01F86UQWQ0"],"count":2}]},{"client_msg_id":"6f4fd4ad-498f-46f6-bca9-ae7caffcaccc","type":"message","text":"\"Does it ARM\" is the original link. I wouldn't bet on MKL doing well on ARM. :wink:","user":"UAUPJLBQX","ts":"1614549007.352400","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1614549512.000000"},"blocks":[{"type":"rich_text","block_id":"6xqCW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\"Does it ARM\" is the original link. I wouldn't bet on MKL doing well on ARM. "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"4d3aa239-68b7-42c8-864a-4b59e0e57f66","type":"message","text":"MKL barely does better than OpenBLAS on Ryzen for dgemm out of the box. I think that's what they were going for: saying they're the #1 BLAS library on Ryzen, while trying to make AMD look bad compared to Intel.","user":"UAUPJLBQX","ts":"1614549101.352600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bj9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MKL barely does better than OpenBLAS on Ryzen for dgemm out of the box. I think that's what they were going for: saying they're the #1 BLAS library on Ryzen, while trying to make AMD look bad compared to Intel."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"f7df7e88-9240-4c2d-985f-69712cce1c59","type":"message","text":"<https://user-images.githubusercontent.com/4324760/105615073-f871a700-5d8a-11eb-9db1-5eaa50caeef4.png>","user":"UAUPJLBQX","ts":"1614549187.352800","team":"T68168MUP","attachments":[{"fallback":"1330x642px image","image_url":"https://user-images.githubusercontent.com/4324760/105615073-f871a700-5d8a-11eb-9db1-5eaa50caeef4.png","image_width":1330,"image_height":642,"image_bytes":168100,"from_url":"https://user-images.githubusercontent.com/4324760/105615073-f871a700-5d8a-11eb-9db1-5eaa50caeef4.png","id":1,"original_url":"https://user-images.githubusercontent.com/4324760/105615073-f871a700-5d8a-11eb-9db1-5eaa50caeef4.png"}],"blocks":[{"type":"rich_text","block_id":"AkXFt","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://user-images.githubusercontent.com/4324760/105615073-f871a700-5d8a-11eb-9db1-5eaa50caeef4.png"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"5b6bd51a-41a2-4396-a323-b43568b93f36","type":"message","text":"MKL was a good bit faster than OpenBLAS and BLIS on the Ryzen 4900HS above.","user":"UAUPJLBQX","ts":"1614549224.353100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=O2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MKL was a good bit faster than OpenBLAS and BLIS on the Ryzen 4900HS above."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"732a2611-8ff5-4369-90f2-97967cccb0c5","type":"message","text":"BLIS did the best among the BLAS libraries on the Ryzen 2600:\n<https://user-images.githubusercontent.com/29157027/105636255-ca40a580-5e24-11eb-80a3-6ea280114e91.png>","user":"UAUPJLBQX","ts":"1614549282.353300","team":"T68168MUP","attachments":[{"fallback":"1336x647px image","image_url":"https://user-images.githubusercontent.com/29157027/105636255-ca40a580-5e24-11eb-80a3-6ea280114e91.png","image_width":1336,"image_height":647,"image_bytes":163632,"from_url":"https://user-images.githubusercontent.com/29157027/105636255-ca40a580-5e24-11eb-80a3-6ea280114e91.png","id":1,"original_url":"https://user-images.githubusercontent.com/29157027/105636255-ca40a580-5e24-11eb-80a3-6ea280114e91.png"}],"blocks":[{"type":"rich_text","block_id":"nF6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"BLIS did the best among the BLAS libraries on the Ryzen 2600:\n"},{"type":"link","url":"https://user-images.githubusercontent.com/29157027/105636255-ca40a580-5e24-11eb-80a3-6ea280114e91.png"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"774ddafc-183e-44db-9eea-eca0edd57930","type":"message","text":"For comparison, on Intel, MKL is far ahead of the competition (and more or less matches Octavian above 100x100):\n<https://user-images.githubusercontent.com/8043603/105195788-f6001a80-5b08-11eb-81ff-c6eec15b60bf.png>","user":"UAUPJLBQX","ts":"1614549358.353600","team":"T68168MUP","attachments":[{"fallback":"1347x647px image","image_url":"https://user-images.githubusercontent.com/8043603/105195788-f6001a80-5b08-11eb-81ff-c6eec15b60bf.png","image_width":1347,"image_height":647,"image_bytes":216482,"from_url":"https://user-images.githubusercontent.com/8043603/105195788-f6001a80-5b08-11eb-81ff-c6eec15b60bf.png","id":1,"original_url":"https://user-images.githubusercontent.com/8043603/105195788-f6001a80-5b08-11eb-81ff-c6eec15b60bf.png"}],"blocks":[{"type":"rich_text","block_id":"Yg/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For comparison, on Intel, MKL is far ahead of the competition (and more or less matches Octavian above 100x100):\n"},{"type":"link","url":"https://user-images.githubusercontent.com/8043603/105195788-f6001a80-5b08-11eb-81ff-c6eec15b60bf.png"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"},{"client_msg_id":"f1aec683-7431-4431-9a15-20713708061f","type":"message","text":"Regarding the M1, Apple should pay one of their Accelerate developers to add Accelerate support to libblastrompoline, or contract with JuliaComputing to do it.","user":"UAUPJLBQX","ts":"1614549603.354100","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1614549633.000000"},"blocks":[{"type":"rich_text","block_id":"zwa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Regarding the M1, Apple should pay one of their Accelerate developers to add Accelerate support to libblastrompoline, or contract with JuliaComputing to do it."}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0","reactions":[{"name":"+1","users":["U01F86UQWQ0"],"count":1}]},{"client_msg_id":"1A838C0D-D0FA-488C-9A2D-C36610E6CB00","type":"message","text":"All very helpful\n answers ~","user":"U01F86UQWQ0","ts":"1614557665.355300","team":"T68168MUP","edited":{"user":"U01F86UQWQ0","ts":"1614557694.000000"},"blocks":[{"type":"rich_text","block_id":"5/=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All very helpful\n answers ~"}]}]}],"thread_ts":"1614534221.347700","parent_user_id":"U01F86UQWQ0"}]