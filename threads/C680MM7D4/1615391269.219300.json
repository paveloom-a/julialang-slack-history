[{"client_msg_id":"6b51756f-c696-4835-a836-5a439ab770e0","type":"message","text":"Is there a shell equivalent of `@__DIR__`? In particular, I'd like something where I can have `/some/path/to/script.sh` symlinked to `~/.local/bin` and have it know the path to `/some/path/to/accessory_file.whatever`","user":"U8JP5B9T2","ts":"1615391269.219300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AcY5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a shell equivalent of "},{"type":"text","text":"@__DIR__","style":{"code":true}},{"type":"text","text":"? In particular, I'd like something where I can have "},{"type":"text","text":"/some/path/to/script.sh","style":{"code":true}},{"type":"text","text":" symlinked to "},{"type":"text","text":"~/.local/bin","style":{"code":true}},{"type":"text","text":" and have it know the path to "},{"type":"text","text":"/some/path/to/accessory_file.whatever","style":{"code":true}}]}]}],"thread_ts":"1615391269.219300","reply_count":8,"reply_users_count":3,"latest_reply":"1615393293.223600","reply_users":["UDB26738Q","U8JP5B9T2","UH24GRBLL"],"subscribed":false},{"client_msg_id":"41401887-3a1e-4994-85b3-d8021b968f0d","type":"message","text":"`${0}` gives you the path of the script, but you need to sanitise it a bit","user":"UDB26738Q","ts":"1615391320.219500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L1Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"${0}","style":{"code":true}},{"type":"text","text":" gives you the path of the script, but you need to sanitise it a bit"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"09cb474a-ce37-4d86-bfe1-02afaba728f4","type":"message","text":"maybe something like `dirname $(realpath ${0})`","user":"UDB26738Q","ts":"1615391348.219700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PI4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe something like "},{"type":"text","text":"dirname $(realpath ${0})","style":{"code":true}}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2","reactions":[{"name":"+1","users":["U8JP5B9T2","U6740K1SP","U9VG1AYSG"],"count":3},{"name":"ty","users":["U8JP5B9T2"],"count":1}]},{"client_msg_id":"bc2f8564-fc44-4d01-bbce-ffb8b8a16317","type":"message","text":"or also `${BASH_SOURCE[0]}` instead of `${0}` if you use bash","user":"UDB26738Q","ts":"1615391408.220100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CZ/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or also "},{"type":"text","text":"${BASH_SOURCE[0]}","style":{"code":true}},{"type":"text","text":" instead of "},{"type":"text","text":"${0}","style":{"code":true}},{"type":"text","text":" if you use bash"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2","reactions":[{"name":"today-i-learned","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"478f5077-f51e-4a7e-93ba-1541243c119c","type":"message","text":"It's just for dispatching to a julia script, so might as well be as generic as possible :slightly_smiling_face:\n\n```#/usr/bin/sh\n\njulia --compile=min $(dirname $(realpath ${0}))/bin/download_mgx.jl $@```","user":"U8JP5B9T2","ts":"1615392115.222100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+dZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's just for dispatching to a julia script, so might as well be as generic as possible "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":"\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"#/usr/bin/sh\n\njulia --compile=min $(dirname $(realpath ${0}))/bin/download_mgx.jl $@"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2","reactions":[{"name":"tada","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"c2c74809-5580-4244-a161-742058d82382","type":"message","text":"works like a charm :smile:","user":"U8JP5B9T2","ts":"1615392121.222300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XAc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"works like a charm "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"0fd800c7-4b27-4ba5-a322-f28f91fe4228","type":"message","text":"`realpath` may not be available in _all_ systems, perhaps in this case it's redundant","user":"UDB26738Q","ts":"1615392206.222600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sm7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"realpath","style":{"code":true}},{"type":"text","text":" may not be available in "},{"type":"text","text":"all","style":{"italic":true}},{"type":"text","text":" systems, perhaps in this case it's redundant"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"1ab98f79-3d67-4833-bf9f-93f4d03a8882","type":"message","text":"to make it even more generic, the shebang should be\n```#!/bin/sh```\n:wink:","user":"UDB26738Q","ts":"1615392243.222900","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1615392257.000000"},"blocks":[{"type":"rich_text","block_id":"CuA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to make it even more generic, the shebang should be\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"#!/bin/sh"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"030977e4-ea10-4174-ae07-2aa73a72d170","type":"message","text":"`#!/usr/bin/env sh` would like to differ :p","user":"UH24GRBLL","ts":"1615393293.223600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lj6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"#!/usr/bin/env sh","style":{"code":true}},{"type":"text","text":" would like to differ :p"}]}]}],"thread_ts":"1615391269.219300","parent_user_id":"U8JP5B9T2"}]