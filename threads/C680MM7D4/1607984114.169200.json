[{"client_msg_id":"aa754545-3f21-4f23-af00-9fe25be3dd0d","type":"message","text":"<https://twitter.com/DahlitzF/status/1338384990040682498>","user":"U6QGE7S86","ts":"1607984114.169200","team":"T68168MUP","attachments":[{"fallback":"<https://twitter.com/DahlitzF|@DahlitzF>: :fire: Today, I have something interesting for you guys!\n\n:snake: Can someone tell me what the output of this will be without (!) checking it in the REPL? :point_down:\n\n#Python | #coding <https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg>","ts":1607930822,"author_name":"Florian Dahlitz üêç","author_link":"https://twitter.com/DahlitzF/status/1338384990040682498","author_icon":"https://pbs.twimg.com/profile_images/1175733614878830592/HUG-McVj_normal.jpg","author_subname":"@DahlitzF","text":":fire: Today, I have something interesting for you guys!\n\n:snake: Can someone tell me what the output of this will be without (!) checking it in the REPL? :point_down:\n\n#Python | #coding <https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg>","service_name":"twitter","service_url":"https://twitter.com/","from_url":"https://twitter.com/DahlitzF/status/1338384990040682498","image_url":"https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg","image_width":1200,"image_height":417,"image_bytes":24750,"id":1,"original_url":"https://twitter.com/DahlitzF/status/1338384990040682498","footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png"}],"blocks":[{"type":"rich_text","block_id":"7je","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://twitter.com/DahlitzF/status/1338384990040682498"}]}]}],"thread_ts":"1607984114.169200","reply_count":58,"reply_users_count":9,"latest_reply":"1608006078.207700","reply_users":["U6C5KSWAC","U6795JH6H","U6740K1SP","U9VG1AYSG","U6QGE7S86","U01FKQQ7J0J","U6N6VQE30","U0179G7FG4F","UDB26738Q"],"subscribed":false},{"client_msg_id":"f911b590-b8d2-405c-9495-e0e08965e248","type":"message","text":"My guess: `{True: \"no\", 1.0: \"maybe\"}`","user":"U6C5KSWAC","ts":"1607984195.169600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DG7z/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My guess: "},{"type":"text","text":"{True: \"no\", 1.0: \"maybe\"}","style":{"code":true}}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"e99d5380-253e-4e99-91aa-a8f0f7d93a1a","type":"message","text":"wtf","user":"U6C5KSWAC","ts":"1607984218.169800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LHdc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wtf"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"4d3db65f-1655-445f-abea-d1a6762acc4e","type":"message","text":"I was definitely surprised when I tried this, but it also immediately made sense to me after I thought about it for a bit","user":"U6795JH6H","ts":"1607984258.170000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x6kG9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was definitely surprised when I tried this, but it also immediately made sense to me after I thought about it for a bit"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"07291174-b3e6-48b9-b7a8-73207b9fa3e0","type":"message","text":"`{1.0: maybe}` ?","user":"U6740K1SP","ts":"1607984273.170200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zYMOK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"{1.0: maybe}","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"b7abf893-0eb1-4b76-9d12-3e9c902d5d1f","type":"message","text":"good case for why replacement should replace the key as well as the value","user":"U6795JH6H","ts":"1607984281.170500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gSS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"good case for why replacement should replace the key as well as the value"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"ad118ec2-3c3a-4c44-b43a-d691b587da1b","type":"message","text":"ah","user":"U6740K1SP","ts":"1607984298.170800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jaBH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"8636d2f8-05f0-4099-86c5-70709b9fc3a8","type":"message","text":"which is what we do","user":"U6795JH6H","ts":"1607984299.171000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oNNJy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is what we do"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"000c8200-84c4-4f6a-a259-0430776d848a","type":"message","text":"almost, it's `{true: maybe}` (in python)","user":"U6C5KSWAC","ts":"1607984301.171200","team":"T68168MUP","edited":{"user":"U6C5KSWAC","ts":"1607984317.000000"},"blocks":[{"type":"rich_text","block_id":"qyPV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"almost, it's "},{"type":"text","text":"{true: maybe}","style":{"code":true}},{"type":"text","text":" (in python)"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"34056032-be0e-46db-97f0-74ddfa73da5c","type":"message","text":"why?","user":"U9VG1AYSG","ts":"1607984317.171400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1U1=d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"4762f366-f51c-44ab-a04e-b9b3e3d3baae","type":"message","text":"all the keys hash the same","user":"U6795JH6H","ts":"1607984329.171700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hrN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"all the keys hash the same"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"45e53185-9945-41c1-aa5f-e0ab78d3dfe2","type":"message","text":"they‚Äôre equal","user":"U6795JH6H","ts":"1607984332.171900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CsKQS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"they‚Äôre equal"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"623cf1f9-466c-4d14-91f5-3baaac25f647","type":"message","text":"I remember there's a talk somewhere where you (<@U6795JH6H> ) talk about why promoting types and then hashing is tricky and Python got it wrong a while back","user":"U6QGE7S86","ts":"1607984333.172100","team":"T68168MUP","edited":{"user":"U6QGE7S86","ts":"1607984347.000000"},"blocks":[{"type":"rich_text","block_id":"leu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I remember there's a talk somewhere where you ("},{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" ) talk about why promoting types and then hashing is tricky and Python got it wrong a while back"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"230f7dfe-f6ca-4dbf-b241-bd90fcfd56fc","type":"message","text":"but Python doesn‚Äôt replace the key value when you reassign in a dict","user":"U6795JH6H","ts":"1607984350.172400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2CGrP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but Python doesn‚Äôt replace the key value when you reassign in a dict"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"2e17ccd3-ac9b-4467-9286-eccd12682a96","type":"message","text":"yeah that I get, but then shouldn't it give 1.0=&gt;maybe as in the Julia case?","user":"U9VG1AYSG","ts":"1607984361.172600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b2x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that I get, but then shouldn't it give 1.0=>maybe as in the Julia case?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"4be95876-2cd1-4d7e-96b8-75b88a268173","type":"message","text":"so it keeps the first key (unless you delete and assign)","user":"U6795JH6H","ts":"1607984363.172800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hqC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so it keeps the first key (unless you delete and assign)"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"e87fa327-8d9e-4d64-8d62-cef41538f608","type":"message","text":"ohhhhh","user":"U9VG1AYSG","ts":"1607984366.173000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TA0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ohhhhh"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"af689818-6e56-4eed-a32b-d6ae03ab256a","type":"message","text":"but each insertion changes the value","user":"U6795JH6H","ts":"1607984375.173200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nTcwC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but each insertion changes the value"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"ebe792c7-fd6f-4b6a-bc9f-d760e971e0f5","type":"message","text":"how does that hashing even work?  how do you ensure those all hash to the same thing?","user":"U9VG1AYSG","ts":"1607984402.173400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aE3r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how does that hashing even work?  how do you ensure those all hash to the same thing?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"f40fa215-1a8f-457c-8a91-7454a132fb55","type":"message","text":"I don‚Äôt know how Python does it","user":"U6795JH6H","ts":"1607984412.173600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VXAd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don‚Äôt know how Python does it"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"5ed131d4-c05a-4b6e-8321-cf6569fa85dd","type":"message","text":"how does Julia do it?","user":"U9VG1AYSG","ts":"1607984418.173800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vvr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how does Julia do it?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"15bd5662-e250-45e3-ba83-da5321fc4b2d","type":"message","text":"we do it very, very carefully","user":"U6795JH6H","ts":"1607984420.174000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L0V2V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we do it very, very carefully"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86","reactions":[{"name":"+1","users":["U0179G7FG4F"],"count":1},{"name":"laughing","users":["U0179G7FG4F","U9VG1AYSG","U01CQTKB86N"],"count":3},{"name":"mag","users":["U6QGE7S86","U6C5KSWAC","U7HMC290Q"],"count":3},{"name":"heavy_check_mark","users":["U6740K1SP"],"count":1},{"name":"stefan","users":["U6740K1SP"],"count":1}]},{"client_msg_id":"3f007457-1ecd-4f35-8e52-3aa8c009912a","type":"message","text":"lol","user":"U9VG1AYSG","ts":"1607984425.174200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Om0ef","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"lol"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"bb017c97-b79d-4249-b8ad-321ce6a7e33c","type":"message","text":"it seems like it would be expensive","user":"U9VG1AYSG","ts":"1607984431.174500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sXF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it seems like it would be expensive"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"6db5dea7-2934-4510-98e1-4d4178ea3aca","type":"message","text":"figuring out how to do it efficiently was hard","user":"U6795JH6H","ts":"1607984616.175100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BtPt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"figuring out how to do it efficiently was hard"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"77b5d43e-6c0a-48c7-870a-d6edcbf588a2","type":"message","text":"<https://github.com/JuliaLang/julia/blob/0bedcdabeb21d0d244babb4a88c91ff75a15577f/base/float.jl#L534-L553>","user":"U6795JH6H","ts":"1607984616.175300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hUiXN","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/blob/0bedcdabeb21d0d244babb4a88c91ff75a15577f/base/float.jl#L534-L553"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"6bdedc6a-7cfa-4a29-b074-97ebe84c2b97","type":"message","text":"code for 64-bit primitives is here: <https://github.com/JuliaLang/julia/blob/0bedcdabeb21d0d244babb4a88c91ff75a15577f/base/float.jl#L463-L482>","user":"U6795JH6H","ts":"1607984681.175500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M1V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"code for 64-bit primitives is here: "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/0bedcdabeb21d0d244babb4a88c91ff75a15577f/base/float.jl#L463-L482"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"e47e04f6-3d50-4de5-b832-19f765e24ed9","type":"message","text":"now it just uses some comparisons to check if values are in a certain range","user":"U6795JH6H","ts":"1607984732.175700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6R5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"now it just uses some comparisons to check if values are in a certain range"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"32128a48-f1bc-4f20-be41-a7698b5d75c6","type":"message","text":"um...\n```julia&gt; Dict(true=&gt;\"yes\", 1=&gt;\"no\", 1.0=&gt;\"maybe\")\nDict{Real,String} with 1 entry:\n  1.0 =&gt; \"maybe\"```","user":"U01FKQQ7J0J","ts":"1607984755.175900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w+jL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"um...\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Dict(true=>\"yes\", 1=>\"no\", 1.0=>\"maybe\")\nDict{Real,String} with 1 entry:\n  1.0 => \"maybe\""}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"c73541ef-4c22-402e-aec1-6fdf9a592a51","type":"message","text":"```julia&gt; IdDict(true =&gt; \"yes\", 1 =&gt; \"no\", 1.0 =&gt; \"maybe\")\nIdDict{Any,String} with 3 entries:\n  true =&gt; \"yes\"\n  1.0  =&gt; \"maybe\"\n  1    =&gt; \"no\"```","user":"U6N6VQE30","ts":"1607984772.176100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pA61","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> IdDict(true => \"yes\", 1 => \"no\", 1.0 => \"maybe\")\nIdDict{Any,String} with 3 entries:\n  true => \"yes\"\n  1.0  => \"maybe\"\n  1    => \"no\""}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86","reactions":[{"name":"relieved","users":["U6N6VQE30","U6C5KSWAC","U6QGE7S86","UKG4WF8PJ"],"count":4}]},{"client_msg_id":"23ab7945-4989-465c-b286-e3fbd6e5de34","type":"message","text":"as expected since `true == 1 == 1.0`","user":"U6795JH6H","ts":"1607984810.176500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"huDf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"as expected since "},{"type":"text","text":"true == 1 == 1.0","style":{"code":true}}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"21fb5abb-59ee-40db-9d58-4c903904433e","type":"message","text":"<@U6N6VQE30> IdDict could use that example as a docstring","user":"U6QGE7S86","ts":"1607984856.176800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8=F7","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6N6VQE30"},{"type":"text","text":" IdDict could use that example as a docstring"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"f2f4618a-718e-4bc6-8e0f-f38f3ba2f8df","type":"message","text":"Kinda shows the difference to a normal dict with that one","user":"U6QGE7S86","ts":"1607984872.177000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EcX/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Kinda shows the difference to a normal dict with that one"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"c516b167-25d1-4701-97fa-16f684391781","type":"message","text":"oh man","user":"U9VG1AYSG","ts":"1607984919.177300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0jD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh man"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"deb1240d-2c66-43ae-af73-38ef2aa2714c","type":"message","text":"Yeah, it‚Äôs a nice example. Would you make a PR? :stuck_out_tongue: I‚Äôm in the wrong time zone for that","user":"U6N6VQE30","ts":"1607984920.177500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZRkGI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, it‚Äôs a nice example. Would you make a PR? "},{"type":"emoji","name":"stuck_out_tongue"},{"type":"text","text":" I‚Äôm in the wrong time zone for that"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"0d2c8339-a58b-425a-8dca-2658c8b1439e","type":"message","text":"yeah I should","user":"U6QGE7S86","ts":"1607984931.177700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vbEN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah I should"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"97946127-de7d-4c12-a8a7-79a68dba2873","type":"message","text":"so this must have been the hardest part of the whole dict implementation","user":"U9VG1AYSG","ts":"1607984933.177900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lFD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so this must have been the hardest part of the whole dict implementation"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"6d663104-29e7-448f-861b-4470f4847912","type":"message","text":"in 0.3 we didn‚Äôt hash equal keys the same, we considered the type, but it was really bad","user":"U6795JH6H","ts":"1607984993.178100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y78cl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in 0.3 we didn‚Äôt hash equal keys the same, we considered the type, but it was really bad"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"43bf373a-6f57-45d6-be45-aa38ee9c40a7","type":"message","text":"worst problem was that the type of a dict changed the behavior","user":"U6795JH6H","ts":"1607985027.178300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kVj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"worst problem was that the type of a dict changed the behavior"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"fe3b6111-34f4-4527-bef3-9530c393749c","type":"message","text":"Ah, `Bool &lt;: Integer` I thought Bools were unrelated to the numeric types since there is no integer (or other) \"truthiness\", but there is \"integerness\" for Bool.","user":"U01FKQQ7J0J","ts":"1607985036.178500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PiKi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, "},{"type":"text","text":"Bool <: Integer","style":{"code":true}},{"type":"text","text":" I thought Bools were unrelated to the numeric types since there is no integer (or other) \"truthiness\", but there is \"integerness\" for Bool."}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"663e4d9b-54cc-4f63-a33f-8c2cbe1dfd4f","type":"message","text":"it's so that things like `sum([true, false])` works","user":"U9VG1AYSG","ts":"1607985066.178700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yJma","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's so that things like "},{"type":"text","text":"sum([true, false])","style":{"code":true}},{"type":"text","text":" works"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"a82cfb6f-cf0c-4ede-ba81-1097e6e3f370","type":"message","text":"if you had a `Dict{Any,String}` and you used `1` and `1.0` as keys, they would end up in different slots; if you had a `Dict{Float64,String}` and you used `1` and `1.0` as keys, they would both end up in the `1.0` slot","user":"U6795JH6H","ts":"1607985100.178900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V2Tr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you had a "},{"type":"text","text":"Dict{Any,String}","style":{"code":true}},{"type":"text","text":" and you used "},{"type":"text","text":"1","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"1.0","style":{"code":true}},{"type":"text","text":" as keys, they would end up in different slots; if you had a "},{"type":"text","text":"Dict{Float64,String}","style":{"code":true}},{"type":"text","text":" and you used "},{"type":"text","text":"1","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"1.0","style":{"code":true}},{"type":"text","text":" as keys, they would both end up in the "},{"type":"text","text":"1.0","style":{"code":true}},{"type":"text","text":" slot"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"c06887b2-9131-48b8-8479-4e9a52eb3c0a","type":"message","text":"the only ways to avoid that  badness were:\n1. don‚Äôt auto-convert keys, which would be really annoying and fussy\n2. figure out a good way to value-based key hashing efficiently","user":"U6795JH6H","ts":"1607985140.179100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NRs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the only ways to avoid that  badness were:\n1. don‚Äôt auto-convert keys, which would be really annoying and fussy\n2. figure out a good way to value-based key hashing efficiently"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"365382ed-09c9-499b-865b-80ed74467a17","type":"message","text":"if I had a test to implement that efficiently, I would have failed badly","user":"U9VG1AYSG","ts":"1607985173.179300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5K5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if I had a test to implement that efficiently, I would have failed badly"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"ca6cb91d-5adb-46a7-8856-da9de0a2f2ac","type":"message","text":"two major challenges:\n1. make it fast for common types like ints and floats and reasonably fast for things like bigints and rationals\n2. make it extensible so that people implementing their own numeric types can do so correctly","user":"U6795JH6H","ts":"1607985213.179500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jt9H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"two major challenges:\n1. make it fast for common types like ints and floats and reasonably fast for things like bigints and rationals\n2. make it extensible so that people implementing their own numeric types can do so correctly"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"74d68f3e-807a-4210-92e8-6c771efc3dd9","type":"message","text":"(<@U6795JH6H> do you mind if I copy paste some of this stuff into my Julia learning journal?)","user":"U6QGE7S86","ts":"1607985261.179700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lFivu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"("},{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" do you mind if I copy paste some of this stuff into my Julia learning journal?)"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86","reactions":[{"name":"+1","users":["U6795JH6H","U6QGE7S86"],"count":2}]},{"client_msg_id":"d1e92d3c-af02-495f-bac4-4124ac636d70","type":"message","text":"does 2 really happen though?  because users need to define hash and equality functions","user":"U9VG1AYSG","ts":"1607985287.179900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4z6gq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does 2 really happen though?  because users need to define hash and equality functions"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"dc939125-caa0-4c3b-97f1-50615367bb18","type":"message","text":"yes, package authors definitely do extend `Base.decompose` in order to have correct hashing","user":"U6795JH6H","ts":"1607985336.180200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lfh8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, package authors definitely do extend "},{"type":"text","text":"Base.decompose","style":{"code":true}},{"type":"text","text":" in order to have correct hashing"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"b16b8f74-4838-415f-a310-0abc1594538a","type":"message","text":"ohhhh, never even knew that","user":"U9VG1AYSG","ts":"1607985358.180400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JZHA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ohhhh, never even knew that"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"f59854a8-fa66-4253-8267-bed469ae9b5a","type":"message","text":"Julia's dictionaries are semantically great. That said, I think they probably could use someone knowledgeable going over the data-structure to get some performance benefits. There's a stalled out PR that would decrease their memory consumption and increase iteration speed by a good amount.","user":"U0179G7FG4F","ts":"1607985364.180600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GuZmR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia's dictionaries are semantically great. That said, I think they probably could use someone knowledgeable going over the data-structure to get some performance benefits. There's a stalled out PR that would decrease their memory consumption and increase iteration speed by a good amount."}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"d193faa6-e490-4126-8c2a-b98c629a0c63","type":"message","text":"a lot of hard work went into making all work, but for years we couldn‚Äôt settle on an api to make\n\n`d[x] += 1` both readable &amp; efficient :stuck_out_tongue:","user":"U6N6VQE30","ts":"1607985477.181100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TiTAt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a lot of hard work went into making all work, but for years we couldn‚Äôt settle on an api to make\n\n"},{"type":"text","text":"d[x] += 1","style":{"code":true}},{"type":"text","text":" both readable & efficient "},{"type":"emoji","name":"stuck_out_tongue"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"type":"message","subtype":"thread_broadcast","text":"Docstring PR made :muscle::skin-tone-5: <@U6N6VQE30> <https://github.com/JuliaLang/julia/pull/38881>","user":"U6QGE7S86","ts":"1607986055.181300","thread_ts":"1607984114.169200","root":{"client_msg_id":"aa754545-3f21-4f23-af00-9fe25be3dd0d","type":"message","text":"<https://twitter.com/DahlitzF/status/1338384990040682498>","user":"U6QGE7S86","ts":"1607984114.169200","team":"T68168MUP","attachments":[{"fallback":"<https://twitter.com/DahlitzF|@DahlitzF>: :fire: Today, I have something interesting for you guys!\n\n:snake: Can someone tell me what the output of this will be without (!) checking it in the REPL? :point_down:\n\n#Python | #coding <https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg>","ts":1607930822,"author_name":"Florian Dahlitz üêç","author_link":"https://twitter.com/DahlitzF/status/1338384990040682498","author_icon":"https://pbs.twimg.com/profile_images/1175733614878830592/HUG-McVj_normal.jpg","author_subname":"@DahlitzF","text":":fire: Today, I have something interesting for you guys!\n\n:snake: Can someone tell me what the output of this will be without (!) checking it in the REPL? :point_down:\n\n#Python | #coding <https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg>","service_name":"twitter","service_url":"https://twitter.com/","from_url":"https://twitter.com/DahlitzF/status/1338384990040682498","image_url":"https://pbs.twimg.com/media/EpLmDk0XEAUPciD.jpg","image_width":1200,"image_height":417,"image_bytes":24750,"id":1,"original_url":"https://twitter.com/DahlitzF/status/1338384990040682498","footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png"}],"blocks":[{"type":"rich_text","block_id":"7je","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://twitter.com/DahlitzF/status/1338384990040682498"}]}]}],"thread_ts":"1607984114.169200","reply_count":58,"reply_users_count":9,"latest_reply":"1608006078.207700","reply_users":["U6C5KSWAC","U6795JH6H","U6740K1SP","U9VG1AYSG","U6QGE7S86","U01FKQQ7J0J","U6N6VQE30","U0179G7FG4F","UDB26738Q"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"3hbwG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Docstring PR made "},{"type":"emoji","name":"muscle","skin_tone":5},{"type":"text","text":" "},{"type":"user","user_id":"U6N6VQE30"},{"type":"text","text":" "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/38881"}]}]}],"client_msg_id":"56659ba8-ac34-4f59-ac1f-de679776dc6d","reactions":[{"name":"+1","users":["U6N6VQE30","U6C5KSWAC","U01724Q3PGW"],"count":3}]},{"client_msg_id":"965b1bae-2854-4b3a-813b-d84ce366242a","type":"message","text":"Also made it into my \"Learning Julia everyday\" blog, so have at it.","user":"U6QGE7S86","ts":"1607986623.181800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mUL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also made it into my \"Learning Julia everyday\" blog, so have at it."}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"8135473f-8c73-49b8-852b-f5e8dff27821","type":"message","text":"<https://miguelraz.github.io/diary/>","user":"U6QGE7S86","ts":"1607986630.182000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3dV","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://miguelraz.github.io/diary/"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"096a1f2d-57ea-4443-b32d-d5dca0d89379","type":"message","text":"&gt; yes, package authors definitely do extend¬†`Base.decompose`¬†in order to have correct hashing\nhow is `Base.decompose` supposed to work?  not having a docstring it's hard to guess what to do","user":"UDB26738Q","ts":"1607989452.184100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nck","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"yes, package authors definitely do extend¬†"},{"type":"text","text":"Base.decompose","style":{"code":true}},{"type":"text","text":"¬†in order to have correct hashing"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nhow is "},{"type":"text","text":"Base.decompose","style":{"code":true}},{"type":"text","text":" supposed to work?  not having a docstring it's hard to guess what to do"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"9B605074-8ABA-4F55-B3FB-D9D82779D7AC","type":"message","text":"It has a long comment that predates docstrings","user":"U6795JH6H","ts":"1607993653.203300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P5SE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It has a long comment that predates docstrings"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"80c51ed6-b18f-4ed2-81aa-bbb887a9a710","type":"message","text":"but it isn't clear to me what to do with non-standard numbers, like `Unitful`: <https://github.com/PainterQubits/Unitful.jl/issues/378>","user":"UDB26738Q","ts":"1607994040.203500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kEUtc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it isn't clear to me what to do with non-standard numbers, like "},{"type":"text","text":"Unitful","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://github.com/PainterQubits/Unitful.jl/issues/378"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"2F3FD5DE-101B-420C-9918-1E331003BFC9","type":"message","text":"That‚Äôs a policy question more than anything: do you want 1 with a unit to equal 1 without?","user":"U6795JH6H","ts":"1608006029.206300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LTm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That‚Äôs a policy question more than anything: do you want 1 with a unit to equal 1 without?"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"},{"client_msg_id":"5C7F0E07-2962-42E8-9111-E30F78CF592E","type":"message","text":"If not then you should hash the number part and combine it with a hash of the unit part, ideally in a way that can be statically evaluated","user":"U6795JH6H","ts":"1608006078.207700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QN50","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If not then you should hash the number part and combine it with a hash of the unit part, ideally in a way that can be statically evaluated"}]}]}],"thread_ts":"1607984114.169200","parent_user_id":"U6QGE7S86"}]