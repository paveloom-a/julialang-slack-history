[{"client_msg_id":"ff4d8f7f-835e-49f9-8ff9-f8e8617ed8bf","type":"message","text":"I'm trying to understand the following RegistryCI.jl test error on my registry: <https://github.com/ctp-fpub/JuliaRegistry/runs/2107010714?check_suite_focus=true#step:7:32>\n\nIt looks like `alluuids` contains UUIDs from the Manifest.toml file in the `.ci` folder, but I don't understand why it doesn't contain the deps for my packages.","user":"U9MED583T","ts":"1615740261.096600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u9f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to understand the following RegistryCI.jl test error on my registry: "},{"type":"link","url":"https://github.com/ctp-fpub/JuliaRegistry/runs/2107010714?check_suite_focus=true#step:7:32"},{"type":"text","text":"\n\nIt looks like "},{"type":"text","text":"alluuids","style":{"code":true}},{"type":"text","text":" contains UUIDs from the Manifest.toml file in the "},{"type":"text","text":".ci","style":{"code":true}},{"type":"text","text":" folder, but I don't understand why it doesn't contain the deps for my packages."}]}]}],"thread_ts":"1615740261.096600","reply_count":22,"reply_users_count":2,"latest_reply":"1615746465.101000","reply_users":["U7THT3TM3","U9MED583T"],"subscribed":false},{"client_msg_id":"82b882c9-44d8-49cf-b05b-59035186e061","type":"message","text":"For example, what package does the UUID `28d57a85-8fef-5791-bfe6-a80928e7c999` correspond to?","user":"U7THT3TM3","ts":"1615741886.096700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mJuV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For example, what package does the UUID "},{"type":"text","text":"28d57a85-8fef-5791-bfe6-a80928e7c999","style":{"code":true}},{"type":"text","text":" correspond to?"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"484d4f80-b4f7-49a7-915c-1c5cc671e99f","type":"message","text":"Hmmm. I think `28d57a85-8fef-5791-bfe6-a80928e7c999` corresponds to Transducers.","user":"U7THT3TM3","ts":"1615741919.096900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d0mZK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm. I think "},{"type":"text","text":"28d57a85-8fef-5791-bfe6-a80928e7c999","style":{"code":true}},{"type":"text","text":" corresponds to Transducers."}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"e53eccfd-cbb2-412f-b5f8-ab5b472511cc","type":"message","text":"<https://github.com/JuliaRegistries/General/blob/4ce13145a5a7dd36d982b8e67fe298324a4cb2e6/Registry.toml#L862>","user":"U7THT3TM3","ts":"1615741926.097100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qdB","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaRegistries/General/blob/4ce13145a5a7dd36d982b8e67fe298324a4cb2e6/Registry.toml#L862"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"23d599d5-e820-4c82-8ef7-e4c9624d73ea","type":"message","text":"```cat Registry.toml | grep 28d57a85-8fef-5791-bfe6-a80928e7c999\n28d57a85-8fef-5791-bfe6-a80928e7c999 = { name = \"Transducers\", path = \"T/Transducers\" }```","user":"U9MED583T","ts":"1615741933.097300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"doxZ","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"cat Registry.toml | grep 28d57a85-8fef-5791-bfe6-a80928e7c999\n28d57a85-8fef-5791-bfe6-a80928e7c999 = { name = \"Transducers\", path = \"T/Transducers\" }"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"245d4b6b-abf1-4efc-8971-93019aba10fc","type":"message","text":"yes","user":"U9MED583T","ts":"1615741935.097500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cbbKd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"3b39f5f2-065a-44b9-9404-82f931b65c90","type":"message","text":"Hmmm.","user":"U7THT3TM3","ts":"1615741953.097700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LkrD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm."}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"cbb660c2-9e95-45a2-9795-6479703963f5","type":"message","text":"Let me take a look at this","user":"U7THT3TM3","ts":"1615742164.097900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wOV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me take a look at this"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"1697ffc7-1235-4c8a-be03-3929697d6879","type":"message","text":"For the `PICAnalysisTools` package for example we can see that the complete `setdiff` represents all the deps of the package","user":"U9MED583T","ts":"1615742434.098100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gr30l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For the "},{"type":"text","text":"PICAnalysisTools","style":{"code":true}},{"type":"text","text":" package for example we can see that the complete "},{"type":"text","text":"setdiff","style":{"code":true}},{"type":"text","text":" represents all the deps of the package"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"0cb45238-cdce-4601-8b7b-3343d90818f4","type":"message","text":"Okay, I think you've found a bug in RegistryCI.jl. I have a bug fix here: <https://github.com/JuliaRegistries/RegistryCI.jl/pull/367> . Can you try out my branch (`dpa/fix-load_registry_dep_uuids`) on your registry and confirm that it fixes the bug?","user":"U7THT3TM3","ts":"1615743948.098400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PkvKT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay, I think you've found a bug in RegistryCI.jl. I have a bug fix here: "},{"type":"link","url":"https://github.com/JuliaRegistries/RegistryCI.jl/pull/367"},{"type":"text","text":" . Can you try out my branch ("},{"type":"text","text":"dpa/fix-load_registry_dep_uuids","style":{"code":true}},{"type":"text","text":") on your registry and confirm that it fixes the bug?"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"1138d2a8-aa66-4078-8833-fb4875c71ddd","type":"message","text":"How can I make the CI use that branch?","user":"U9MED583T","ts":"1615745344.098600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rxze","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can I make the CI use that branch?"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"6d3217e7-1aed-4f9d-81d2-fb50a0ae7265","type":"message","text":"Or should I do it locally?","user":"U9MED583T","ts":"1615745354.098800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eAV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or should I do it locally?"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"edf145d1-ce1c-4b07-ac9d-fe427b77f602","type":"message","text":"Are you using a manifest on CI?","user":"U7THT3TM3","ts":"1615745767.099000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k37t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you using a manifest on CI?"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"6fa27d50-59bd-486a-b917-fd3e767bc387","type":"message","text":"If so, if you activate your .ci project, and then add RegistryCI by branch, then the manifest will be set to use the branch.","user":"U7THT3TM3","ts":"1615745791.099200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PvkK3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If so, if you activate your .ci project, and then add RegistryCI by branch, then the manifest will be set to use the branch."}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"58721513-fdc2-4aef-b24b-eed6447c037c","type":"message","text":"Then if you push that manifest to GitHub, CI will use that branch","user":"U7THT3TM3","ts":"1615745801.099400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v4r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then if you push that manifest to GitHub, CI will use that branch"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"5d4ed721-ab17-4921-80b7-bcca37ce88cf","type":"message","text":"But I have a bug","user":"U7THT3TM3","ts":"1615745805.099600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZJU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I have a bug"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"17655d8c-d2c1-48d9-86f7-915d1b8e2eaf","type":"message","text":"So don't do it yet","user":"U7THT3TM3","ts":"1615745809.099800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9soB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So don't do it yet"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"a41fdf30-4d8b-4a73-89cc-67374bacdc16","type":"message","text":"Gimme one sec","user":"U7THT3TM3","ts":"1615745811.100000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iVtq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Gimme one sec"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"6b30f2b0-47c4-433c-b9a6-eb59a1784693","type":"message","text":"Alright, the branch should be working now.","user":"U7THT3TM3","ts":"1615745857.100200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QtVe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alright, the branch should be working now."}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"8904d1ba-41ed-4b1e-ac41-65d805431c96","type":"message","text":"Ok, I have\n```[[RegistryCI]]\ndeps = [\"Base64\", \"Dates\", \"GitHub\", \"HTTP\", \"JSON\", \"LibGit2\", \"LicenseCheck\", \"Pkg\", \"Printf\", \"Random\", \"RegistryTools\", \"SHA\", \"StringDistances\", \"TOML\", \"Test\", \"TimeZones\", \"VisualStringDistances\"]\ngit-tree-sha1 = \"345a168ea27c308664ecb005c7ed76e38d298d47\"\nrepo-rev = \"dpa/fix-load_registry_dep_uuids\"\nrepo-url = \"<https://github.com/JuliaRegistries/RegistryCI.jl.git>\"\nuuid = \"0c95cc5f-2f7e-43fe-82dd-79dbcba86b32\"\nversion = \"6.8.3\"```","user":"U9MED583T","ts":"1615746202.100400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/vWJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, I have\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[[RegistryCI]]\ndeps = [\"Base64\", \"Dates\", \"GitHub\", \"HTTP\", \"JSON\", \"LibGit2\", \"LicenseCheck\", \"Pkg\", \"Printf\", \"Random\", \"RegistryTools\", \"SHA\", \"StringDistances\", \"TOML\", \"Test\", \"TimeZones\", \"VisualStringDistances\"]\ngit-tree-sha1 = \"345a168ea27c308664ecb005c7ed76e38d298d47\"\nrepo-rev = \"dpa/fix-load_registry_dep_uuids\"\nrepo-url = \""},{"type":"link","url":"https://github.com/JuliaRegistries/RegistryCI.jl.git"},{"type":"text","text":"\"\nuuid = \"0c95cc5f-2f7e-43fe-82dd-79dbcba86b32\"\nversion = \"6.8.3\""}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"622ef2c0-3ed3-4a12-b660-114d1385d90a","type":"message","text":"<https://github.com/ctp-fpub/JuliaRegistry/actions/runs/651921206>","user":"U9MED583T","ts":"1615746245.100600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n4jlN","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/ctp-fpub/JuliaRegistry/actions/runs/651921206"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"e9dc366e-093a-4e2d-94f2-6027df4648e3","type":"message","text":"when I updated it changed the Manifest.toml and not the 1.5.3 one","user":"U9MED583T","ts":"1615746443.100800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DQm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when I updated it changed the Manifest.toml and not the 1.5.3 one"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"},{"client_msg_id":"e5e526b1-2ae2-4cc7-a587-51a8c4282c45","type":"message","text":"I think that explains why the nightly one works and the others fail","user":"U9MED583T","ts":"1615746465.101000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lv7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that explains why the nightly one works and the others fail"}]}]}],"thread_ts":"1615740261.096600","parent_user_id":"U9MED583T"}]