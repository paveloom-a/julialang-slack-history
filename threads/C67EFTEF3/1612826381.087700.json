[{"client_msg_id":"fc74f29a-d5fb-43b4-8be0-22a9282d814a","type":"message","text":"I ran into a \"fun\" bit of CI pain yesterday that might be worth noting, so I'm writing it here:\n\nHow `Pkg.Registry.add(RegistrySpec(url=...))` deals with missing credentials on Windows vs. Ubuntu/MacOS seems to differ (probably only in non-interactive settings). On Ubuntu/MacOS, if the credentials are not around I get an error\n```    Cloning registry from \"&lt;the-registry-I-was-trying-to-add&gt;\"\nERROR: failed to clone from &lt;the-registry-I-was-trying-to-add&gt;, error: GitError(Code:EUSER, Class:Callback, Aborting, user cancelled credential request.)\n...```\nBut on Windows, it seems to simply hang around indefinitely, waiting for me to type in my credentials.\nThis had the not-so-fun consequence of eating up 12 hours of CI time on my private Github profile; that's a lesson learned..!","user":"UCE6XE42Z","ts":"1612826381.087700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4w+zH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I ran into a \"fun\" bit of CI pain yesterday that might be worth noting, so I'm writing it here:\n\nHow "},{"type":"text","text":"Pkg.Registry.add(RegistrySpec(url=...))","style":{"code":true}},{"type":"text","text":" deals with missing credentials on Windows vs. Ubuntu/MacOS seems to differ (probably only in non-interactive settings). On Ubuntu/MacOS, if the credentials are not around I get an error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    Cloning registry from \"<the-registry-I-was-trying-to-add>\"\nERROR: failed to clone from <the-registry-I-was-trying-to-add>, error: GitError(Code:EUSER, Class:Callback, Aborting, user cancelled credential request.)\n..."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"But on Windows, it seems to simply hang around indefinitely, waiting for me to type in my credentials.\nThis had the not-so-fun consequence of eating up 12 hours of CI time on my private Github profile; that's a lesson learned..!"}]}]}],"thread_ts":"1612826381.087700","reply_count":9,"reply_users_count":2,"latest_reply":"1612827748.089500","reply_users":["UDB26738Q","UCE6XE42Z"],"subscribed":false,"reactions":[{"name":"weary","users":["U680THK2S"],"count":1}]},{"client_msg_id":"42ef00ae-3d79-46eb-987b-d877a22bcbf2","type":"message","text":"yeah, GitHub Actions defaulting to 6 hours of timeout is crazy","user":"UDB26738Q","ts":"1612826585.087900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TKeT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, GitHub Actions defaulting to 6 hours of timeout is crazy"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"67f794e5-c3ed-47c8-89e9-e565c76d4880","type":"message","text":"Yep, fun to use 90% of the free Actions time on day 7 of the month :smile:","user":"UCE6XE42Z","ts":"1612826808.088100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sz3JW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, fun to use 90% of the free Actions time on day 7 of the month "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z","reactions":[{"name":"joy","users":["U680THK2S"],"count":1}]},{"client_msg_id":"38ee387b-b067-4cb1-8491-3f2bcacd2705","type":"message","text":"I don't even know if they make money out of this, but they certainly waste lots of resources with the public repositories","user":"UDB26738Q","ts":"1612826844.088300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6k2M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't even know if they make money out of this, but they certainly waste lots of resources with the public repositories"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"ddfe068e-a561-4578-919d-23e79e8d4686","type":"message","text":"Hmm. Would it be worthwhile e.g. to add a `timeout-minutes: 60` to PkgTemplates over at  <https://github.com/invenia/PkgTemplates.jl/blob/70ba6f7c30274f97ebda5f8c00c5a0bc7759b5d6/templates/github/workflows/CI.yml>? I guess that would stop most new packages from hitting related issues in the future.","user":"UCE6XE42Z","ts":"1612827328.088500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Retm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm. Would it be worthwhile e.g. to add a "},{"type":"text","text":"timeout-minutes: 60","style":{"code":true}},{"type":"text","text":" to PkgTemplates over at  "},{"type":"link","url":"https://github.com/invenia/PkgTemplates.jl/blob/70ba6f7c30274f97ebda5f8c00c5a0bc7759b5d6/templates/github/workflows/CI.yml"},{"type":"text","text":"? I guess that would stop most new packages from hitting related issues in the future."}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"cd643c13-97a2-4148-bd66-5a93d1909b91","type":"message","text":"probably a good idea, yes","user":"UDB26738Q","ts":"1612827354.088700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PTW91","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"probably a good idea, yes"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z","reactions":[{"name":"+1","users":["UCE6XE42Z"],"count":1}]},{"client_msg_id":"0f548dac-a9a8-43a1-85ea-706179aee30e","type":"message","text":"60 is probably a reasonable default","user":"UDB26738Q","ts":"1612827377.088900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1bR3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"60 is probably a reasonable default"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"b0909c1b-fb10-410b-a931-e2f638b8c889","type":"message","text":"50 would give a vintage Travis touch :smile:","user":"UDB26738Q","ts":"1612827398.089100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QnC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"50 would give a vintage Travis touch "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z","reactions":[{"name":"joy","users":["U680THK2S"],"count":1}]},{"client_msg_id":"7927af66-6058-4836-bddf-618c9c978299","type":"message","text":"Oki, done: <https://github.com/invenia/PkgTemplates.jl/pull/272>","user":"UCE6XE42Z","ts":"1612827707.089300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X1dl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oki, done: "},{"type":"link","url":"https://github.com/invenia/PkgTemplates.jl/pull/272"}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"e8eb6d05-c8a8-4851-b887-9651332861f6","type":"message","text":"I'm guessing the difference between Windows and Ubuntu/MacOS responses that triggered this would also be good to fix if possible, but that's out of my league.","user":"UCE6XE42Z","ts":"1612827748.089500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MCK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm guessing the difference between Windows and Ubuntu/MacOS responses that triggered this would also be good to fix if possible, but that's out of my league."}]}]}],"thread_ts":"1612826381.087700","parent_user_id":"UCE6XE42Z"}]