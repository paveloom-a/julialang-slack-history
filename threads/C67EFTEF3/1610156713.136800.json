[{"client_msg_id":"bc29f5b9-1942-44ca-8a72-96942a86bc24","type":"message","text":"tests in BinaryBuilder are behaving in a particular weird way\n\n* this is the `julia` command, if uses `--project`: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L13>\n* we update the registry (not the packages), run `instantiate` and then the tests: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L50>\n* even though the manifest has JLLWrappers v1.2.0 <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/Manifest.toml#L125-L128>, some jobs fail because they have JLLWrappers v1.1.3: <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&amp;l=65> (not even v1.1.4)\n\nany idea of what's going on?","user":"UDB26738Q","ts":"1610156713.136800","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1610156726.000000"},"blocks":[{"type":"rich_text","block_id":"GCo2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"tests in BinaryBuilder are behaving in a particular weird way\n\n* this is the "},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":" command, if uses "},{"type":"text","text":"--project","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L13"},{"type":"text","text":"\n* we update the registry (not the packages), run "},{"type":"text","text":"instantiate","style":{"code":true}},{"type":"text","text":" and then the tests: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L50"},{"type":"text","text":"\n* even though the manifest has JLLWrappers v1.2.0 "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/Manifest.toml#L125-L128"},{"type":"text","text":", some jobs fail because they have JLLWrappers v1.1.3: "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&l=65"},{"type":"text","text":" (not even v1.1.4)\n\nany idea of what's going on?"}]}]}],"thread_ts":"1610156713.136800","reply_count":71,"reply_users_count":4,"latest_reply":"1610496082.177900","reply_users":["U67SCG4HG","UDB26738Q","U7THT3TM3","U66GD0880"],"subscribed":false},{"client_msg_id":"d0fdf50b-8d0b-49e7-b07c-07460435b9e9","type":"message","text":"There is a new resolve in pkg.test  that might change things\n It should print out the resulting env","user":"U67SCG4HG","ts":"1610157942.141100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"og4=+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is a new resolve in pkg.test  that might change things\n It should print out the resulting env"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"47ec216a-1fb0-452d-ab7e-1bc9d9d9f5e2","type":"message","text":"you mean <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&amp;l=45>?","user":"UDB26738Q","ts":"1610159795.145400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cXHN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you mean "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&l=45"},{"type":"text","text":"?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"type":"message","subtype":"thread_broadcast","text":"any help with this would be much appreciated.  CI jobs for BinaryBuilder keep failing randomly because they somehow get an environment different from the one provided by the manifest","user":"UDB26738Q","ts":"1610491150.156200","thread_ts":"1610156713.136800","root":{"client_msg_id":"bc29f5b9-1942-44ca-8a72-96942a86bc24","type":"message","text":"tests in BinaryBuilder are behaving in a particular weird way\n\n* this is the `julia` command, if uses `--project`: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L13>\n* we update the registry (not the packages), run `instantiate` and then the tests: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L50>\n* even though the manifest has JLLWrappers v1.2.0 <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/Manifest.toml#L125-L128>, some jobs fail because they have JLLWrappers v1.1.3: <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&amp;l=65> (not even v1.1.4)\n\nany idea of what's going on?","user":"UDB26738Q","ts":"1610156713.136800","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1610156726.000000"},"blocks":[{"type":"rich_text","block_id":"GCo2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"tests in BinaryBuilder are behaving in a particular weird way\n\n* this is the "},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":" command, if uses "},{"type":"text","text":"--project","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L13"},{"type":"text","text":"\n* we update the registry (not the packages), run "},{"type":"text","text":"instantiate","style":{"code":true}},{"type":"text","text":" and then the tests: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/azure-pipelines.yml#L50"},{"type":"text","text":"\n* even though the manifest has JLLWrappers v1.2.0 "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/696d9f9ad1c5a105b1b369a1f45b88a6647b790d/Manifest.toml#L125-L128"},{"type":"text","text":", some jobs fail because they have JLLWrappers v1.1.3: "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8353&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&l=65"},{"type":"text","text":" (not even v1.1.4)\n\nany idea of what's going on?"}]}]}],"thread_ts":"1610156713.136800","reply_count":71,"reply_users_count":4,"latest_reply":"1610496082.177900","reply_users":["U67SCG4HG","UDB26738Q","U7THT3TM3","U66GD0880"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"6fDF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"any help with this would be much appreciated.  CI jobs for BinaryBuilder keep failing randomly because they somehow get an environment different from the one provided by the manifest"}]}]}],"client_msg_id":"7bfed4ea-e7d0-4c01-8671-b4683e759145"},{"client_msg_id":"44028c0b-e6b3-4f74-baeb-ff19b4439571","type":"message","text":"There is nothing forcing JLLWrappers 1.2.0","user":"U67SCG4HG","ts":"1610492648.156700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ggK6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is nothing forcing JLLWrappers 1.2.0"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"77186067-3629-40AD-9F12-605867BFA260","type":"message","text":"In general, I don't recommend using Manifests in CI","user":"U7THT3TM3","ts":"1610492728.157200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Ou","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In general, I don't recommend using Manifests in CI"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"19CF6EBD-5CE4-442E-B446-AEE900D703AF","type":"message","text":"If you really need a specific version, I think it's best to put that into a `compat` entry in the Project.toml file","user":"U7THT3TM3","ts":"1610492755.158200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AzzaY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you really need a specific version, I think it's best to put that into a "},{"type":"text","text":"compat","style":{"code":true}},{"type":"text","text":" entry in the Project.toml file"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"CC16F5E7-B855-4C78-AB15-13D144960729","type":"message","text":"Some problems include:\n1. A single manifest might not work on multiple Julia versions\n2. The tiered resolver means that even if you have one set of versions in your manifest, when the resolver is run at the beginning of `Pkg.test`, the resolver is allows to change those versions ","user":"U7THT3TM3","ts":"1610492822.160400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vpY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Some problems include:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A single manifest might not work on multiple Julia versions"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The tiered resolver means that even if you have one set of versions in your manifest, when the resolver is run at the beginning of "},{"type":"text","text":"Pkg.test","style":{"code":true}},{"type":"text","text":", the resolver is allows to change those versions "}]}],"style":"ordered","indent":0,"offset":0}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"793fd3f6-6dd1-4ffc-8dd3-7f8ee09b6c1b","type":"message","text":"&gt; There is nothing forcing JLLWrappers 1.2.0\ndoesn't the manifest count? <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/Manifest.toml#L125-L128>","user":"UDB26738Q","ts":"1610492945.160600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G4f","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"There is nothing forcing JLLWrappers 1.2.0"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\ndoesn't the manifest count? "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/Manifest.toml#L125-L128"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"144f2d42-22ab-4902-b308-35ec6f2fc15e","type":"message","text":"&gt; In general, I don't recommend using Manifests in CI\nI'm a firm proponent of not using manifests for _packages_, but BinaryBuilder isn't really a package, it's more an application that we want to test with specific versions","user":"UDB26738Q","ts":"1610493004.160800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tLr6G","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"In general, I don't recommend using Manifests in CI"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI'm a firm proponent of not using manifests for "},{"type":"text","text":"packages","style":{"italic":true}},{"type":"text","text":", but BinaryBuilder isn't really a package, it's more an application that we want to test with specific versions"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"6f4d18dc-df0b-44cf-adaa-57850c94753b","type":"message","text":"I just don't understand why different jobs get different environments, I miss the point of using the manifest","user":"UDB26738Q","ts":"1610493065.161000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cMI8f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just don't understand why different jobs get different environments, I miss the point of using the manifest"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"FC11DA61-1AED-49B1-8CF6-F1ED820F55D9","type":"message","text":"&gt; In general, I don't recommend using Manifests in CI\n&gt; I'm a firm proponent of not using manifests for _packages_, but BinaryBuilder isn't really a package, it's more an application that we want to test with specific versions\nThat's a fair point","user":"U7THT3TM3","ts":"1610493106.161400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"US2hX","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"In general, I don't recommend using Manifests in CI"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n> I'm a firm proponent of not using manifests for "},{"type":"text","text":"packages","style":{"italic":true}},{"type":"text","text":", but BinaryBuilder isn't really a package, it's more an application that we want to test with specific versions"},{"type":"text","text":"\n"},{"type":"text","text":"That's a fair point"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"19cc9649-b8e2-48b1-a5c2-bef707c16575","type":"message","text":"&gt; doesn't the manifest count?\nAFAICT it is only there as an indirect dependency? And in particular it doesn't have compat.","user":"U67SCG4HG","ts":"1610493106.161600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ssP","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"doesn't the manifest count?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"AFAICT it is only there as an indirect dependency? And in particular it doesn't have compat."}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"29c3568f-2b10-4933-9d81-9db7eac65996","type":"message","text":"yes, but doesn't it run in the environment of  the manifest?","user":"UDB26738Q","ts":"1610493136.162700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vx13","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, but doesn't it run in the environment of  the manifest?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"2312AB1A-0DC3-4F4C-9E5A-EED75DC307F7","type":"message","text":"My guess is the Pkg.test tiered resolver is happily changing those versions because no compat entry is preventing it from doing so ","user":"U7THT3TM3","ts":"1610493137.163000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N6cqt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My guess is the Pkg.test tiered resolver is happily changing those versions because no compat entry is preventing it from doing so "}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"6183b65b-a2a4-4405-9394-1b0b4648027c","type":"message","text":"&gt; I just don't understand why different jobs get different environments, I miss the point of using the manifest\nYea, that is a bit strange. Is the package always the same?","user":"U67SCG4HG","ts":"1610493140.163300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2r3","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"I just don't understand why different jobs get different environments, I miss the point of using the manifest"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nYea, that is a bit strange. Is the package always the same?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"03684200-E407-48DC-AA04-805F4FA551F5","type":"message","text":"Do you have an example CI log?","user":"U7THT3TM3","ts":"1610493164.163700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cFGJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have an example CI log?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"5c5e313e-2fb1-4a5b-9dfc-acb8133b40be","type":"message","text":"&gt; yes, but doesn't it run in the environment of  the manifest?\nNo, because Pkg has to re-resolve in order to fit your test deps into the graph.","user":"U67SCG4HG","ts":"1610493165.163900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a=4","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"yes, but doesn't it run in the environment of  the manifest?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nNo, because Pkg has to re-resolve in order to fit your test deps into the graph."}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q","reactions":[{"name":"correct_answer","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"e946118d-5d9a-445e-8519-63bf9587f463","type":"message","text":"it's a CI build, so I'd hope so: <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&amp;view=results>","user":"UDB26738Q","ts":"1610493175.164100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V=htS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's a CI build, so I'd hope so: "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&view=results"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"3b9f3349-8729-4943-8839-90cac463cd9a","type":"message","text":"1 job gets the right environment, the other two don't","user":"UDB26738Q","ts":"1610493188.164300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aFr/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1 job gets the right environment, the other two don't"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"f5c04159-d89e-4671-a629-b9f6882ceb2a","type":"message","text":"&gt; Do you have an example CI log?\nyeah, in the very first message of the thread, or the second last one above.  or just any of the last jobs in <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build?definitionId=2&amp;_a=summary>, all failing because of this","user":"UDB26738Q","ts":"1610493262.164800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HB4s","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Do you have an example CI log?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nyeah, in the very first message of the thread, or the second last one above.  or just any of the last jobs in "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build?definitionId=2&_a=summary"},{"type":"text","text":", all failing because of this"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"980d00e0-4e1a-4797-88b6-cd830c516cdf","type":"message","text":"ok, I guess I'll add the package to the `extras` and add the compat for it","user":"UDB26738Q","ts":"1610493318.165000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CsmCw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, I guess I'll add the package to the "},{"type":"text","text":"extras","style":{"code":true}},{"type":"text","text":" and add the compat for it"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"c78f0919-824d-4969-b3dc-695ba7bcbd3a","type":"message","text":"Is <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&amp;l=1511> the problme?","user":"U67SCG4HG","ts":"1610493341.165200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nlRYN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&l=1511"},{"type":"text","text":" the problme?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"d9894a04-79e9-47c0-aed1-0a0c6725889a","type":"message","text":"yes","user":"UDB26738Q","ts":"1610493351.165400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kOJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"cd785f86-fa39-4c8c-95fa-544a0176d378","type":"message","text":"But that seems to suggest 1.2.0 is not available in the registry there.","user":"U67SCG4HG","ts":"1610493375.165600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fAm2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But that seems to suggest 1.2.0 is not available in the registry there."}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"ee33efe1-fa7a-41a9-a56f-cfa4d5a4333d","type":"message","text":":shrug:","user":"UDB26738Q","ts":"1610493385.165800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M98G5","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"shrug"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"619b5995-6995-4b5d-b43c-5d0be0bded8e","type":"message","text":"(there is also v1.1.4 after v1.2.0)","user":"UDB26738Q","ts":"1610493393.166000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xl6i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(there is also v1.1.4 after v1.2.0)"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"77c2dd46-934f-4b15-b176-def33b6581f2","type":"message","text":"Which would also explain <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&amp;l=151>","user":"U67SCG4HG","ts":"1610493394.166200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZdbxN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which would also explain "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c&l=151"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"7951a7f7-9bdc-443c-bdfe-f1c488b36898","type":"message","text":"and there is also an error about WebSocket above","user":"UDB26738Q","ts":"1610493413.166400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D6z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and there is also an error about WebSocket above"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"49bf14d4-780c-496f-865a-017520db328e","type":"message","text":"I guess try to debug why the registry is outdated","user":"U67SCG4HG","ts":"1610493468.166600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess try to debug why the registry is outdated"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"5ab6a46e-c5b4-4ee1-b884-d83bb0168cfd","type":"message","text":"well, the other job works, on the very same machine...","user":"UDB26738Q","ts":"1610493498.166800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0EV=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, the other job works, on the very same machine..."}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"07a204ad-a75d-4851-901b-077411be9f56","type":"message","text":"Elliot said that the registry looks up-to-date there","user":"UDB26738Q","ts":"1610493523.167000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bih","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Elliot said that the registry looks up-to-date there"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"b5b12078-edfe-4b15-a714-e9539a1b4ac9","type":"message","text":"I just added compat for JLLWrappers, kaboom: <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8413&amp;view=logs&amp;j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&amp;t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c>","user":"UDB26738Q","ts":"1610493572.167200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xNk5M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just added compat for JLLWrappers, kaboom: "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8413&view=logs&j=aaebf0e6-d7cd-53db-6fd2-ebe168039a5a&t=231c1df8-60d4-55f6-9e92-9b8d8520ea6c"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"e2727543-d4f4-4688-b38d-602c44475ab5","type":"message","text":"Yea, I mean, it is obviously an outdated registry, or a corrupt one that has missing versions","user":"U67SCG4HG","ts":"1610493617.167400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yoLH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea, I mean, it is obviously an outdated registry, or a corrupt one that has missing versions"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"5ed6d239-d6fb-4ce3-b8e8-d3dcf5b58991","type":"message","text":"but it doesn't explain why the other job works","user":"UDB26738Q","ts":"1610493641.167600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QjsC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it doesn't explain why the other job works"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"7c20b037-dd44-44ed-ad6f-55fd7d4bc5b4","type":"message","text":"Can you link a working one?","user":"U67SCG4HG","ts":"1610493664.167800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mvu0g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you link a working one?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"0867200c-dcfb-4417-a89e-1bd51fc6625f","type":"message","text":"<https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&amp;view=logs&amp;j=2aca1793-ba52-57cd-8cb0-0d670b1a1d3e&amp;t=917821bb-0400-5814-653b-f7fbfea4c593>","user":"UDB26738Q","ts":"1610493682.168000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iCJm9","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8411&view=logs&j=2aca1793-ba52-57cd-8cb0-0d670b1a1d3e&t=917821bb-0400-5814-653b-f7fbfea4c593"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"cb3f4aad-0d36-499a-aac4-f594eb8e36d3","type":"message","text":"That is using a different depot and thus a different registry though?","user":"U67SCG4HG","ts":"1610493743.168400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gV5r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That is using a different depot and thus a different registry though?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"d7f5dded-f995-4d30-8381-fe3b0a50cfaf","type":"message","text":"Maybe there is a mixup of DEPOT_PATH or something?","user":"U67SCG4HG","ts":"1610493785.168600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vlfW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe there is a mixup of DEPOT_PATH or something?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"50dc4fea-276d-4533-892b-19b59db07fc6","type":"message","text":"<@U66GD0880> don't the agents share the same depot?","user":"UDB26738Q","ts":"1610493844.168800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a26","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" don't the agents share the same depot?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"375efbcd-372d-4dcd-b7d2-51ded3361aed","type":"message","text":"also, unless there is something preventing the registry from actually updating, we run `Pkg.Registry.update()` before instantiating: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/azure-pipelines.yml#L50>","user":"UDB26738Q","ts":"1610494119.169000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1kj8a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also, unless there is something preventing the registry from actually updating, we run "},{"type":"text","text":"Pkg.Registry.update()","style":{"code":true}},{"type":"text","text":" before instantiating: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/azure-pipelines.yml#L50"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"4111d827-ab5e-49f5-b780-c025396646cc","type":"message","text":"Can you print the `DEPOT_PATH` maybe? Only registries in the first entry are updated","user":"U67SCG4HG","ts":"1610494390.169200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yKM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you print the "},{"type":"text","text":"DEPOT_PATH","style":{"code":true}},{"type":"text","text":" maybe? Only registries in the first entry are updated"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"721c2658-04d3-46c6-a6b4-02ab9a1dac8b","type":"message","text":"And maybe double check by printing `joinpath(DEPOT_PATH[1], \"registries\", \"General\", \"J\", \"JLLWrappers\", \"Versions.toml\")`","user":"U67SCG4HG","ts":"1610494478.169400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AnIcf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And maybe double check by printing "},{"type":"text","text":"joinpath(DEPOT_PATH[1], \"registries\", \"General\", \"J\", \"JLLWrappers\", \"Versions.toml\")","style":{"code":true}}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"6c0e7503-af7b-4267-88ca-e2a5902c2680","type":"message","text":"I don’t think they actually share the same depot","user":"U66GD0880","ts":"1610494683.169600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SbFlW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think they actually share the same depot"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"fd293dfd-1d7e-4e25-9ac6-0345336bd202","type":"message","text":"I think they don’t because we ran into race conditions where each one was installing the same package/artifact at teh same time and they clobbered eachother","user":"U66GD0880","ts":"1610494702.169800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"we6W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think they don’t because we ran into race conditions where each one was installing the same package/artifact at teh same time and they clobbered eachother"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"ad7cb0fe-63dd-4212-9c90-17d93b89e9e5","type":"message","text":"Yea, they should be different","user":"U67SCG4HG","ts":"1610494763.170000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QzE/V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea, they should be different"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"063206fb-a5eb-4b5b-8b39-05bfbea64fe5","type":"message","text":"but that does mean that we need to `Pkg.Registry.update()` and `Pkg.instantiate()` within each job","user":"U66GD0880","ts":"1610494793.170200","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1610494797.000000"},"blocks":[{"type":"rich_text","block_id":"QR=y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but that does mean that we need to "},{"type":"text","text":"Pkg.Registry.update()","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"Pkg.instantiate()","style":{"code":true}},{"type":"text","text":" within each job"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"d436c347-6688-4e8f-8956-905c319e211d","type":"message","text":"we do it already","user":"UDB26738Q","ts":"1610494807.170500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0zXI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we do it already"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"83F1488B-DB8D-4250-8C66-D7B92D1575CF","type":"message","text":"Are you getting the registry from the Pkg server?","user":"U7THT3TM3","ts":"1610494898.171700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jm3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you getting the registry from the Pkg server?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"4D925C49-BCE6-4D4F-98A4-2336780E0EDE","type":"message","text":"If you opt out of Pkg server, do you still see the bug?","user":"U7THT3TM3","ts":"1610494908.172200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ucm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you opt out of Pkg server, do you still see the bug?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"b21f0796-b9b2-42a5-ac6b-3c2532ab0656","type":"message","text":"so agent 1 and 2 seems to have old registries that don't get updated: <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8416&amp;view=logs&amp;j=2aca1793-ba52-57cd-8cb0-0d670b1a1d3e&amp;t=917821bb-0400-5814-653b-f7fbfea4c593>","user":"UDB26738Q","ts":"1610494943.172400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B4pXs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so agent 1 and 2 seems to have old registries that don't get updated: "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8416&view=logs&j=2aca1793-ba52-57cd-8cb0-0d670b1a1d3e&t=917821bb-0400-5814-653b-f7fbfea4c593"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"597e15db-ab6b-463d-871b-fbd3574ee295","type":"message","text":"(but I've seen jobs of agent 2 passing before)","user":"UDB26738Q","ts":"1610494954.172600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"02Y8n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(but I've seen jobs of agent 2 passing before)"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"61320fe6-556b-4fff-9188-d7733ad7117c","type":"message","text":"fascinating","user":"U66GD0880","ts":"1610495501.172800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fAvk0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fascinating"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"4e55dc4e-e37b-43eb-91e1-b9781fb7a31d","type":"message","text":"agent_1 hasn’t updated its registry since Nov 23rd","user":"U66GD0880","ts":"1610495520.173000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MAFQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"agent_1 hasn’t updated its registry since Nov 23rd"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q","reactions":[{"name":"neutral_face","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"bae9f9a2-7379-413f-8b4d-b98023d23136","type":"message","text":"actually, I was looking at the wrong timestmap","user":"U66GD0880","ts":"1610495676.173300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4ZzfO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"actually, I was looking at the wrong timestmap"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"10834c9f-44c2-45b7-a938-6d24d8d5a7da","type":"message","text":"but manually doing a `Pkg.Registry.update()` seems to work just fine?","user":"U66GD0880","ts":"1610495688.173500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XsU3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but manually doing a "},{"type":"text","text":"Pkg.Registry.update()","style":{"code":true}},{"type":"text","text":" seems to work just fine?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"bf628ce5-d193-42ab-8590-562e595de0cc","type":"message","text":"so why <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/azure-pipelines.yml#L50> doesn't work? :confused:","user":"UDB26738Q","ts":"1610495723.173800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F63","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so why "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/c693ccea7be0cab06db69a507fd92aefc999cc0a/azure-pipelines.yml#L50"},{"type":"text","text":" doesn't work? "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"bot_id":"BUQUB8RBN","type":"message","text":"I knew it!","user":"U67SCG4HG","ts":"1610495740.174000","team":"T68168MUP","bot_profile":{"id":"BUQUB8RBN","deleted":false,"name":"giphy","updated":1583162249,"app_id":"A0F827J2C","icons":{"image_36":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png","image_48":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_48.png","image_72":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png"},"team_id":"T68168MUP"},"blocks":[{"type":"image","block_id":"dDyC0","image_url":"https://media4.giphy.com/media/BRSZTf7QA4W7SngoS9/giphy-downsized.gif?cid=6104955e7dd64daf9abb8daeb2dbe68778194e4f9543c5ad&rid=giphy-downsized.gif","alt_text":"I knew it!","title":{"type":"plain_text","text":"I knew it!","emoji":true},"fallback":"480x400px image","image_width":480,"image_height":400,"image_bytes":1322769,"is_animated":true},{"type":"context","block_id":"7G+zj","elements":[{"type":"image","image_url":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_32.png","alt_text":"giphy logo"},{"type":"mrkdwn","text":"Posted using /giphy | GIF by <https://giphy.com/theoffice/|The Office>","verbatim":false}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"42a61f60-d9b3-4ca6-8d13-f98a8acef066","type":"message","text":"run the job again","user":"U66GD0880","ts":"1610495771.174200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q14fR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"run the job again"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"3999ed99-aa02-4c3b-b0ca-f9403478847f","type":"message","text":"I want to see if it passes now","user":"U66GD0880","ts":"1610495776.174400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4rP2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to see if it passes now"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"2aede61d-cd1d-40d5-8849-186a5dc5575f","type":"message","text":"running at <https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8417&amp;view=results>","user":"UDB26738Q","ts":"1610495826.174600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FaLA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"running at "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/BinaryBuilder.jl/_build/results?buildId=8417&view=results"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"b51c1b36-2d09-4387-bdee-bc70428721a6","type":"message","text":"seems to work?","user":"UDB26738Q","ts":"1610495863.174800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9CMnI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"seems to work?"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"340ffc9e-4c98-4c36-8f6e-e2acc1552b07","type":"message","text":"sigh","user":"U66GD0880","ts":"1610495907.175000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V9l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sigh"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"83952d18-6c44-4b46-baf9-da6125ead4e4","type":"message","text":"I was hoping it was secretly using a different depot or something","user":"U66GD0880","ts":"1610495924.175200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+lkws","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was hoping it was secretly using a different depot or something"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"d67fc4ca-f7aa-4ef6-8459-639b96835a7b","type":"message","text":"I have no idea why those update commands weren’t working","user":"U66GD0880","ts":"1610495933.175400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZFDs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have no idea why those update commands weren’t working"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q","reactions":[{"name":"confused","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"1cea22c7-4dd6-4daf-8136-bf46bfdb1387","type":"message","text":"that’s literally all I ran","user":"U66GD0880","ts":"1610495937.175600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B5wO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’s literally all I ran"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"a869db07-6b26-46be-a447-1bacd6a8603b","type":"message","text":"and I don’t think there are any permissions issues, because it’s running as my user","user":"U66GD0880","ts":"1610495957.175900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JHuJ5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and I don’t think there are any permissions issues, because it’s running as my user"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"89c83dfe-afce-4274-a263-5cd5151af88c","type":"message","text":"Pkg should throw I believe","user":"U67SCG4HG","ts":"1610495973.176100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xBp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Pkg should throw I believe"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"0feb4b7a-14b0-4261-a254-4cb433523f15","type":"message","text":"It said they were updating in the logs","user":"U67SCG4HG","ts":"1610495982.176300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zi95","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It said they were updating in the logs"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"f1e85b47-15a0-41a2-82c5-381c00b0b498","type":"message","text":"It might be useful to have Pkg print out the tree hash of the registry after its done updating","user":"U66GD0880","ts":"1610496012.176500","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1610496020.000000"},"blocks":[{"type":"rich_text","block_id":"scq2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It might be useful to have Pkg print out the tree hash of the registry after its done updating"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"7c951d94-8389-4e20-8e7c-0da6f6a1243e","type":"message","text":"otherwise, it’s difficult to tell if it actually did anything or not","user":"U66GD0880","ts":"1610496029.176800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M2gh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"otherwise, it’s difficult to tell if it actually did anything or not"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"},{"client_msg_id":"F6E15030-B943-425C-A67A-05B70DBD4DB3","type":"message","text":"Honestly that would be useful in a lot of cases","user":"U7THT3TM3","ts":"1610496082.177900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E6r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Honestly that would be useful in a lot of cases"}]}]}],"thread_ts":"1610156713.136800","parent_user_id":"UDB26738Q"}]