[{"type":"message","text":"Here’s the current status:","files":[{"id":"F01KYEXRJ14","created":1611822140,"timestamp":1611822140,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01L42VSVBJ","editable":false,"size":101787,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01KYEXRJ14/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01KYEXRJ14/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_360.png","thumb_360_w":360,"thumb_360_h":184,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_480.png","thumb_480_w":480,"thumb_480_h":246,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_720.png","thumb_720_w":720,"thumb_720_h":368,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_800.png","thumb_800_w":800,"thumb_800_h":409,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_960.png","thumb_960_w":960,"thumb_960_h":491,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01KYEXRJ14-ab10025f67/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":524,"original_w":1920,"original_h":982,"thumb_tiny":"AwAYADC7b828ZJzlRUnao7b/AI9o/wDdFTDpQAmBilwPSiigAwPSjA9KKKAILdlFvGCwHyjvUm9P7w/OqSf6pfpS07DsXd6f3h+dG9P7y/nVOiiwWLm9P7y/nRvT+8v51ToosFj/2Q==","permalink":"https://julialang.slack.com/files/U01L42VSVBJ/F01KYEXRJ14/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01KYEXRJ14-ed3a9b349a","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"lJ5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here’s the current status:"}]}]}],"user":"U01L42VSVBJ","display_as_bot":false,"ts":"1611822143.129100","thread_ts":"1611822143.129100","reply_count":11,"reply_users_count":3,"latest_reply":"1611885409.144800","reply_users":["U68UUUFPS","U6BNE7LTZ","U01L42VSVBJ"],"subscribed":false},{"client_msg_id":"526c8c98-256a-4dbc-9d5b-75711dc61d26","type":"message","text":"Hm, good question... I'm a bit worried that if we embed like the live version of vega and vega-lite plots for the thumbnails that we end up having these recomputed constantly, or something like that... Or if we have for example an interactive vega or vega-lite graph, we might end up having the interactivity in the thumbnail view as well. So I almost think it would be better to have \"static\" thumbnail in that view that we generate somehow once when the plot gets shown for the first time, and then use there? Not 100% sure, <@U6BNE7LTZ> what is your take on that?","user":"U68UUUFPS","ts":"1611854401.134800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=rY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, good question... I'm a bit worried that if we embed like the live version of vega and vega-lite plots for the thumbnails that we end up having these recomputed constantly, or something like that... Or if we have for example an interactive vega or vega-lite graph, we might end up having the interactivity in the thumbnail view as well. So I almost think it would be better to have \"static\" thumbnail in that view that we generate somehow once when the plot gets shown for the first time, and then use there? Not 100% sure, "},{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" what is your take on that?"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"c8dba5d6-6525-430a-a879-ce90091d58ed","type":"message","text":"Yes. Imho we should try to generate an additional png for every plot (by calling `show(io, MIME\"image/png\"(), plot)` in a timeout or whatever) and show that in the preview pane","user":"U6BNE7LTZ","ts":"1611856518.135000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k5NXZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. Imho we should try to generate an additional png for every plot (by calling "},{"type":"text","text":"show(io, MIME\"image/png\"(), plot)","style":{"code":true}},{"type":"text","text":" in a timeout or whatever) and show that in the preview pane"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"888d5632-4bdb-429e-9843-3c30279a1a50","type":"message","text":"if that isn't possible then we just show a fallback graphic","user":"U6BNE7LTZ","ts":"1611856533.135200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qhd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if that isn't possible then we just show a fallback graphic"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"471aa60c-6f78-44cb-864d-3b7af90c7934","type":"message","text":"So the question is whether we should create that PNG in Julia, or in Javascript.","user":"U68UUUFPS","ts":"1611864222.135400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qH+jv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the question is whether we should create that PNG in Julia, or in Javascript."}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"a2a8d327-f059-44b1-a333-e0f06c0b3b93","type":"message","text":"I think there are plot packages out there in Julia that don't have a reliable way to generate a PNG","user":"U68UUUFPS","ts":"1611864235.135600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xao","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think there are plot packages out there in Julia that don't have a reliable way to generate a PNG"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"a497c45a-faa6-422b-bf70-2567b22b8b9d","type":"message","text":"So it might be safer/easier to generate the thumbnail in Javascript. I think <@U01L42VSVBJ> had code actually already that just created a thumbnail from an image that is displayed in a webview, or something like that?","user":"U68UUUFPS","ts":"1611864284.135800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q7x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it might be safer/easier to generate the thumbnail in Javascript. I think "},{"type":"user","user_id":"U01L42VSVBJ"},{"type":"text","text":" had code actually already that just created a thumbnail from an image that is displayed in a webview, or something like that?"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"2119d8b0-c890-477f-b9c0-9204e428563f","type":"message","text":"Essentially the idea would be that we show the image in the plot pane itself, and then from that create a PNG that we use for the thumbnail.","user":"U68UUUFPS","ts":"1611864306.136000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TRiV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Essentially the idea would be that we show the image in the plot pane itself, and then from that create a PNG that we use for the thumbnail."}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"13b83cf0-8a25-45ea-9927-6e6c87b75070","type":"message","text":"The code <https://github.com/julia-vscode/plotgallery/blob/master/src/Plot.tsx#L21>","user":"U68UUUFPS","ts":"1611864500.136200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Hm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The code "},{"type":"link","url":"https://github.com/julia-vscode/plotgallery/blob/master/src/Plot.tsx#L21"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"c0c4f386-6afd-4ed5-add9-8fc294d664c2","type":"message","text":"That does make sense","user":"U6BNE7LTZ","ts":"1611865107.136400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qiyq9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That does make sense"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"06337c60-487a-449f-828e-d7ccfdc02ce9","type":"message","text":"Yes, it is possible to generate one in Javascript. Although some external images will not render because of the Javascript cross origin issue, most plots work. We can do it this way.","user":"U01L42VSVBJ","ts":"1611881538.144600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S+a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, it is possible to generate one in Javascript. Although some external images will not render because of the Javascript cross origin issue, most plots work. We can do it this way."}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"},{"client_msg_id":"a33118e1-c044-4109-ba3b-de23a0960405","type":"message","text":"I think the way it will have to work is that the thumbnail gets generated in the plot view, then sent via the VS Code messaging to the extension, then sent via the messaging to the thumbnail webview, right?","user":"U68UUUFPS","ts":"1611885409.144800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=WpS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the way it will have to work is that the thumbnail gets generated in the plot view, then sent via the VS Code messaging to the extension, then sent via the messaging to the thumbnail webview, right?"}]}]}],"thread_ts":"1611822143.129100","parent_user_id":"U01L42VSVBJ"}]