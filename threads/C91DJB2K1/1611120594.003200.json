[{"client_msg_id":"6AD0C420-8A45-4599-9B89-A95E03E025B2","type":"message","text":"Just in case anyone is interested <https://youtu.be/6DvpneWRb_w|https://youtu.be/6DvpneWRb_w>","user":"U8T0YV7QC","ts":"1611120594.003200","team":"T68168MUP","attachments":[{"service_name":"YouTube","service_url":"https://www.youtube.com/","title":"Running AWS Lambda functions with Julia | Tom Kwong","title_link":"https://youtu.be/6DvpneWRb_w","author_name":"The Julia Programming Language","author_link":"https://www.youtube.com/c/TheJuliaLanguage","thumb_url":"https://i.ytimg.com/vi/6DvpneWRb_w/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: Running AWS Lambda functions with Julia | Tom Kwong","video_html":"<iframe width=\"400\" height=\"225\" src=\"https://www.youtube.com/embed/6DvpneWRb_w?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>","video_html_width":400,"video_html_height":225,"from_url":"https://youtu.be/6DvpneWRb_w","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/youtube.png","id":1,"original_url":"https://youtu.be/6DvpneWRb_w"}],"blocks":[{"type":"rich_text","block_id":"7T151","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just in case anyone is interested "},{"type":"link","url":"https://youtu.be/6DvpneWRb_w","text":"https://youtu.be/6DvpneWRb_w"}]}]}],"thread_ts":"1611120594.003200","reply_count":14,"reply_users_count":4,"latest_reply":"1611845840.002800","reply_users":["U01CQTKB86N","U8T0YV7QC","ULDQSHD41","U01D42PK8KD"],"subscribed":false},{"client_msg_id":"42C55541-9E83-4E87-B62A-4A68DD18D29A","type":"message","text":"I wondered why you didn’t use the PackageCompiler.","user":"U01CQTKB86N","ts":"1611124146.004100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lmz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wondered why you didn’t use the PackageCompiler."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"1cd87fc4-a654-4097-92a5-a3fb2792c388","type":"message","text":"Great question! First, I want to keep the video as simple as possible. Second, I actually tried that already but didn’t see much improvement about startup performance. There seems to be some other factors slowing it down.","user":"U8T0YV7QC","ts":"1611128098.004300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZBNPo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great question! First, I want to keep the video as simple as possible. Second, I actually tried that already but didn’t see much improvement about startup performance. There seems to be some other factors slowing it down."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"9feafb1b-07cf-4722-b64d-7a51a8cd7308","type":"message","text":"Ah, interesting. I wonder what..","user":"U01CQTKB86N","ts":"1611128806.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bqIz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, interesting. I wonder what.."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"D3338D30-9146-4A32-83F0-3EE8FB9884AD","type":"message","text":"Neat! Can’t wait to watch it","user":"ULDQSHD41","ts":"1611150023.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"00iZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Neat! Can’t wait to watch it"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"1ef8aec1-3b86-4c08-9c31-9f5f1bb363ac","type":"message","text":"Would be neat to generalize this where you could point to a package, tell it what the `handler()` is and have it create and push up a Docker image, push it to your ECR repo, and create a Lambda function","user":"ULDQSHD41","ts":"1611154367.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bUY0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would be neat to generalize this where you could point to a package, tell it what the "},{"type":"text","text":"handler()","style":{"code":true}},{"type":"text","text":" is and have it create and push up a Docker image, push it to your ECR repo, and create a Lambda function"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"68112867-bff8-44df-b0a9-fd2e9c9b2dcf","type":"message","text":"Really impressive Tom, if you need any help with terraform for creating roles or additional infra in AWS just reach out","user":"U01D42PK8KD","ts":"1611177738.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rndz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really impressive Tom, if you need any help with terraform for creating roles or additional infra in AWS just reach out"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"6d5e32f8-4e36-424a-b8b5-add43576055e","type":"message","text":"<@ULDQSHD41> I did think about making it a package but then decide to do it after this video comes out. I felt it's more important for people to understand how it works than providing a shrink-wrapped solution.","user":"U8T0YV7QC","ts":"1611193081.000100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qye","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"ULDQSHD41"},{"type":"text","text":" I did think about making it a package but then decide to do it after this video comes out. I felt it's more important for people to understand how it works than providing a shrink-wrapped solution."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"a1a8e01d-a0c3-4b36-b549-b8adf6053e9a","type":"message","text":"<@U01D42PK8KD> Thanks for the offer! Yeah, I agree that infrastructure as code is better. The thing is that it's usually specific to the organization. I did this as a hobby and so I don't have a real use case :slightly_smiling_face: I would be happy to see what others can do.","user":"U8T0YV7QC","ts":"1611193215.000300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fukz","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01D42PK8KD"},{"type":"text","text":" Thanks for the offer! Yeah, I agree that infrastructure as code is better. The thing is that it's usually specific to the organization. I did this as a hobby and so I don't have a real use case "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" I would be happy to see what others can do."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"0517EDC2-6B35-4AF6-8866-7D511E8BEDD1","type":"message","text":"Definitely! If you want to make this in the JuliaCloud org let me know, I can add you into it","user":"ULDQSHD41","ts":"1611195802.001400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZgPp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Definitely! If you want to make this in the JuliaCloud org let me know, I can add you into it"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC","reactions":[{"name":"+1","users":["U8T0YV7QC"],"count":1}]},{"client_msg_id":"30d7076d-fc8f-4b47-b217-7b8d73a413b8","type":"message","text":"I got it running in AWS. I’d say this is a good tutorial in how to get started with ECR and Lambdas. :slightly_smiling_face:","user":"U01CQTKB86N","ts":"1611844072.001900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OjcKB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I got it running in AWS. I’d say this is a good tutorial in how to get started with ECR and Lambdas. "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"ff08deec-001b-43ed-9313-d2dd7d07cbb8","type":"message","text":"I deployed with a user with these policies: AmazonEC2ContainerRegistryFullAccess and AWSLambda_FullAccess","user":"U01CQTKB86N","ts":"1611844172.002100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iho","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I deployed with a user with these policies: AmazonEC2ContainerRegistryFullAccess and AWSLambda_FullAccess"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"09390873-9782-4917-83f4-feff480dfa93","type":"message","text":"I tried to run the lambda from the command line, but I get no actual output. How would I fix this?\n```(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % aws lambda invoke --function-name julia-lambda --payload $(echo -n '100000' | base64) out\n{\n    \"StatusCode\": 200,\n    \"ExecutedVersion\": \"$LATEST\"\n}```","user":"U01CQTKB86N","ts":"1611845211.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dJtV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I tried to run the lambda from the command line, but I get no actual output. How would I fix this?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % aws lambda invoke --function-name julia-lambda --payload $(echo -n '100000' | base64) out\n{\n    \"StatusCode\": 200,\n    \"ExecutedVersion\": \"$LATEST\"\n}"}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"95874538-08ac-489a-9b69-dc912493fd4b","type":"message","text":"PackageCompiler doesn’t seem that important for this since it only runs and bills the longer run time (17 seconds for instance) infrequently when the lambda has shut down. Then other invocations are &lt; 100ms. For bigger Julia programs it could be problematic.\nOf course, since the first invocation is slow, one can’t set the time limit to a low value to prevent accidental longer invocations in actual use.","user":"U01CQTKB86N","ts":"1611845586.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hWUP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PackageCompiler doesn’t seem that important for this since it only runs and bills the longer run time (17 seconds for instance) infrequently when the lambda has shut down. Then other invocations are < 100ms. For bigger Julia programs it could be problematic.\nOf course, since the first invocation is slow, one can’t set the time limit to a low value to prevent accidental longer invocations in actual use."}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"e66e163c-5e4e-4b33-9f71-da0b0f68de89","type":"message","text":"Ah, this works.\n```(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % aws lambda invoke --function-name julia-lambda --payload $(echo -n '1000000' | base64) output.txt\n{\n    \"StatusCode\": 200,\n    \"ExecutedVersion\": \"$LATEST\"\n}\n(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % cat output.txt                                                                                   \n3.142164%    ```","user":"U01CQTKB86N","ts":"1611845840.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QeXrF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, this works.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % aws lambda invoke --function-name julia-lambda --payload $(echo -n '1000000' | base64) output.txt\n{\n    \"StatusCode\": 200,\n    \"ExecutedVersion\": \"$LATEST\"\n}\n(base) arihuttunen@The-Best-MacBook-Pro aws-lambda-container-julia % cat output.txt                                                                                   \n3.142164%    "}]}]}],"thread_ts":"1611120594.003200","parent_user_id":"U8T0YV7QC"}]