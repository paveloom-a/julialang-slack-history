[{"client_msg_id":"ffd4ec85-d324-465e-9edd-059dad28c527","type":"message","text":"Hi! I need to draw a filled polygon on a matrix using a sequence of vertices and there seems to be no good Julia solution for that. ImageDraw.jl seems to only support drawing line segments and Luxor.jl seems to be designed to work with graphic files, not plain arrays. I can of course use something like OpenCV.jl but it looks like an overkill for such a simple task.","user":"U9AHT3YM7","ts":"1614779277.068100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tYYE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi! I need to draw a filled polygon on a matrix using a sequence of vertices and there seems to be no good Julia solution for that. ImageDraw.jl seems to only support drawing line segments and Luxor.jl seems to be designed to work with graphic files, not plain arrays. I can of course use something like OpenCV.jl but it looks like an overkill for such a simple task."}]}]}],"thread_ts":"1614779277.068100","reply_count":16,"reply_users_count":2,"latest_reply":"1614943092.078100","reply_users":["U69EQD0CD","U9AHT3YM7"],"subscribed":false},{"client_msg_id":"b5926c0a-2c32-4217-8067-15ba4227c3f1","type":"message","text":"Sounds like a challenge! :slightly_smiling_face:","user":"U69EQD0CD","ts":"1614785114.068200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O539","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sounds like a challenge! "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"b4aa162e-cb78-4c39-a95e-a4c9cb4b69c2","type":"message","text":"I guess that's one way to look at it :wink:","user":"U9AHT3YM7","ts":"1614785757.068400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fLaew","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess that's one way to look at it "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"type":"message","text":"Well I give up. :slightly_smiling_face:","files":[{"id":"F01PLAN8Q7R","created":1614786383,"timestamp":1614786383,"name":"Screenshot 2021-03-03 at 15.45.56.png","title":"Screenshot 2021-03-03 at 15.45.56.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U69EQD0CD","editable":false,"size":209162,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01PLAN8Q7R/screenshot_2021-03-03_at_15.45.56.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01PLAN8Q7R/download/screenshot_2021-03-03_at_15.45.56.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_360.png","thumb_360_w":351,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_480.png","thumb_480_w":468,"thumb_480_h":480,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_720.png","thumb_720_w":702,"thumb_720_h":720,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_800.png","thumb_800_w":800,"thumb_800_h":820,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_960.png","thumb_960_w":936,"thumb_960_h":960,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01PLAN8Q7R-de7e4a8a4a/screenshot_2021-03-03_at_15.45.56_1024.png","thumb_1024_w":998,"thumb_1024_h":1024,"original_w":1016,"original_h":1042,"thumb_tiny":"AwAwAC7OHTtSgZPGOlA6dulSRj5c8c0mOKuxvlkDORTQOnSp/wAqhIwwHHWhMqUbbDccdqRqd27Ujfh1pkCge3apgMDFRRjLdO1TVLNYLqFMcZwcdKfTdy0kU7WIu3Skb6d6UgdgaRvp3qzAVWx0J6Ubs9SelIG9zRn3PSgLi8ZFAxx160ZPrQD05oATjFDUbvc0hOe9AH//2Q==","permalink":"https://julialang.slack.com/files/U69EQD0CD/F01PLAN8Q7R/screenshot_2021-03-03_at_15.45.56.png","permalink_public":"https://slack-files.com/T68168MUP-F01PLAN8Q7R-b8d5c0f5f5","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"P+D=1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I give up. "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"user":"U69EQD0CD","display_as_bot":false,"ts":"1614786391.068600","thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7","reactions":[{"name":"joy","users":["UM70NJEER"],"count":1}]},{"client_msg_id":"76de003e-96ec-43cc-bad2-61b92329f117","type":"message","text":"Oh, how did you do that?","user":"U9AHT3YM7","ts":"1614793133.069100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EY248","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, how did you do that?"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"d4157900-0557-42fd-802e-ec3c38956d58","type":"message","text":"(I guess Luxor.jl?)","user":"U9AHT3YM7","ts":"1614793155.069300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GqZQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I guess Luxor.jl?)"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"aca03c0c-e3dd-4472-a519-60a606e3925c","type":"message","text":"I guess :slightly_smiling_face:","user":"U69EQD0CD","ts":"1614793543.069500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yrp/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"dc048e06-e3be-4c0b-98fa-219a55916b91","type":"message","text":"I managed to do what I wanted using Luxor.jl and I'm planning to make a post on discourse about it :slightly_smiling_face:","user":"U9AHT3YM7","ts":"1614937268.072600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uEwK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I managed to do what I wanted using Luxor.jl and I'm planning to make a post on discourse about it "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"3E8460C2-C491-411F-8923-B3542306F556","type":"message","text":"Awesome! Do you want my attempted code as well, or was my guess at what you wanted too far off? :joy:","user":"U69EQD0CD","ts":"1614937415.074700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DxJh+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Awesome! Do you want my attempted code as well, or was my guess at what you wanted too far off? "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"ad41b849-7336-440f-a1de-c40ea1e747d4","type":"message","text":"well, it was very far off :smile:","user":"U9AHT3YM7","ts":"1614937443.074900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Tw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, it was very far off "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"8899196B-0696-49EA-96E3-CD44018DB78B","type":"message","text":"Haha! I tried... :joy:","user":"U69EQD0CD","ts":"1614937479.075500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iwWj5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Haha! I tried... "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7","reactions":[{"name":"+1","users":["U9AHT3YM7"],"count":1}]},{"client_msg_id":"5c4f00ab-4937-401b-9938-81e017c91e56","type":"message","text":"Here is what I actually needed:\n```using Luxor\nusing Images\nusing ImageView\n\nw = 512\nh = 512\nbuffer = zeros(UInt32, w, h)\n@imagematrix! buffer begin\n    randompoints = [Luxor.Point(1.0, 1.0), Luxor.Point(10.0, 50.0), Luxor.Point(100.0, 25.0)]\n    sethue(\"white\")\n    poly(randompoints, :fill)\nend 512 512\n\nrgb_buffer = map(p -&gt; reinterpret(Images.RGB24, p), buffer)\nmy_mask = map(p -&gt; red(p) &gt; 0.5, rgb_buffer)\nimshow(my_mask)```\nIs there maybe a nicer way to convert to a binary mask than that?","user":"U9AHT3YM7","ts":"1614938287.075900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z+Dby","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is what I actually needed:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Luxor\nusing Images\nusing ImageView\n\nw = 512\nh = 512\nbuffer = zeros(UInt32, w, h)\n@imagematrix! buffer begin\n    randompoints = [Luxor.Point(1.0, 1.0), Luxor.Point(10.0, 50.0), Luxor.Point(100.0, 25.0)]\n    sethue(\"white\")\n    poly(randompoints, :fill)\nend 512 512\n\nrgb_buffer = map(p -> reinterpret(Images.RGB24, p), buffer)\nmy_mask = map(p -> red(p) > 0.5, rgb_buffer)\nimshow(my_mask)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Is there maybe a nicer way to convert to a binary mask than that?"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"5b4482b2-55e2-46f7-b6cb-dffce0da6836","type":"message","text":"I'm not very good at Images.jl - perhaps `my_mask = Gray.(rgb_buffer) .&gt; 0.5` is little better...","user":"U69EQD0CD","ts":"1614939983.077200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MCp74","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not very good at Images.jl - perhaps "},{"type":"text","text":"my_mask = Gray.(rgb_buffer) .> 0.5","style":{"code":true}},{"type":"text","text":" is little better..."}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"8c2030d8-9a75-410f-9dba-903a519a8ef2","type":"message","text":"Yes, that makes sense :+1: .","user":"U9AHT3YM7","ts":"1614940095.077400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qpwuO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that makes sense "},{"type":"emoji","name":"+1"},{"type":"text","text":" ."}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"cab2ca59-71fe-4362-9b96-b505c5d16120","type":"message","text":"slower though :shrug::skin-tone-2:","user":"U69EQD0CD","ts":"1614941007.077600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N01","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"slower though "},{"type":"emoji","name":"shrug","skin_tone":2}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"6aee4f28-9ff9-4d3d-81cd-5a68d7885b02","type":"message","text":"I've made a post on discourse: <https://discourse.julialang.org/t/converting-region-of-interest-roi-polygon-to-a-mask/56545> :slightly_smiling_face:","user":"U9AHT3YM7","ts":"1614942866.077800","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"Converting region of interest (ROI) polygon to a mask","title_link":"https://discourse.julialang.org/t/converting-region-of-interest-roi-polygon-to-a-mask/56545","text":"Iâ€™d like to share a simple piece of code for converting a region of interest given by vertices of a polygon to a binary mask in Julia. This turned out to be more difficult than I expected so someone else may find this useful. I want to thank @cormullion for help and a really great library (Luxor.jl) that I used. So, here is my code: using Luxor using Images using ImageView w = 512 h = 512 buffer = zeros(UInt32, w, h) @imagematrix! buffer begin randompoints = [Luxor.Point(1.0, 1.0), Luxor....","fallback":"JuliaLang: Converting region of interest (ROI) polygon to a mask","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1614942841,"from_url":"https://discourse.julialang.org/t/converting-region-of-interest-roi-polygon-to-a-mask/56545","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/converting-region-of-interest-roi-polygon-to-a-mask/56545"}],"blocks":[{"type":"rich_text","block_id":"bvo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've made a post on discourse: "},{"type":"link","url":"https://discourse.julialang.org/t/converting-region-of-interest-roi-polygon-to-a-mask/56545"},{"type":"text","text":" "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"886dd01d-0d73-4b82-a197-81a9cfdac135","type":"message","text":"Cool! And thanks for the shoutout! :slightly_smiling_face:","user":"U69EQD0CD","ts":"1614943092.078100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iftj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool! And thanks for the shoutout! "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614779277.068100","parent_user_id":"U9AHT3YM7"}]