[{"client_msg_id":"81ef8c22-c444-4c92-a812-96185e7f484e","type":"message","text":"Does anyone know how to create Luxor animation with frames that overlay on top of each other? i.e. frame 2 is just drawing more things on top on frame 1.","user":"U8T0YV7QC","ts":"1608867326.025400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XomZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does anyone know how to create Luxor animation with frames that overlay on top of each other? i.e. frame 2 is just drawing more things on top on frame 1."}]}]}],"thread_ts":"1608867326.025400","reply_count":7,"reply_users_count":2,"latest_reply":"1608975377.029900","reply_users":["U69EQD0CD","U8T0YV7QC"],"subscribed":false},{"client_msg_id":"a3c6a9bc-d444-49a7-83bd-d49f1bae60f4","type":"message","text":"Alas Luxor's animation model is too simple for that; you have to draw each frame completely from scratch, and that means drawing frame `n-1` as well as frame `n`. So you might have to draw every preceding frame in a loop such as `for i in 1:framenumber`...","user":"U69EQD0CD","ts":"1608888491.025600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h+xWv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alas Luxor's animation model is too simple for that; you have to draw each frame completely from scratch, and that means drawing frame "},{"type":"text","text":"n-1","style":{"code":true}},{"type":"text","text":" as well as frame "},{"type":"text","text":"n","style":{"code":true}},{"type":"text","text":". So you might have to draw every preceding frame in a loop such as "},{"type":"text","text":"for i in 1:framenumber","style":{"code":true}},{"type":"text","text":"..."}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"212ea86a-0ddb-43ff-801a-091f04d9dac0","type":"message","text":"You could use the imagebuffer feature to add graphics to an array, and re-use the same buffer for subsequent frames. You'd have to write out the image buffer to a file at each stage, and then stitch them together using FFMPEG.","user":"U69EQD0CD","ts":"1608888681.025800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZPo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You could use the imagebuffer feature to add graphics to an array, and re-use the same buffer for subsequent frames. You'd have to write out the image buffer to a file at each stage, and then stitch them together using FFMPEG."}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"99a445d7-610f-4442-b2a8-c47bc1cd2e08","type":"message","text":"```using Luxor, Images, QuartzImageIO\n\nlet\n    w = h = 200\n    m = buffer = zeros(UInt32, w, h)\n    for i in 1:9\n        Drawing(w, h, :png)\n        origin()\n        randomhue()\n        fontsize(rand(10:20))\n        text(\"Season's greetings\", rand(BoundingBox()), halign=:center)\n        m = image_as_matrix!(buffer)\n        finish()\n        save(\"/tmp/image-$(i).png\", Images.RGB.(m))\n    end\nend\n\nrun(`ffmpeg -framerate 1 -f image2 -i /tmp/image-%d.png -y /tmp/a.gif`)```","user":"U69EQD0CD","ts":"1608889910.026000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mEl/a","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Luxor, Images, QuartzImageIO\n\nlet\n    w = h = 200\n    m = buffer = zeros(UInt32, w, h)\n    for i in 1:9\n        Drawing(w, h, :png)\n        origin()\n        randomhue()\n        fontsize(rand(10:20))\n        text(\"Season's greetings\", rand(BoundingBox()), halign=:center)\n        m = image_as_matrix!(buffer)\n        finish()\n        save(\"/tmp/image-$(i).png\", Images.RGB.(m))\n    end\nend\n\nrun(`ffmpeg -framerate 1 -f image2 -i /tmp/image-%d.png -y /tmp/a.gif`)"}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"},{"type":"message","text":"","files":[{"id":"F01HHSKGJAH","created":1608889917,"timestamp":1608889917,"name":"a.gif","title":"a.gif","mimetype":"image/gif","filetype":"gif","pretty_type":"GIF","user":"U69EQD0CD","editable":false,"size":18918,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HHSKGJAH/a.gif","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HHSKGJAH/download/a.gif","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_360.png","thumb_360_w":200,"thumb_360_h":200,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_160.png","thumb_360_gif":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_360.gif","original_w":200,"original_h":200,"deanimate_gif":"https://files.slack.com/files-tmb/T68168MUP-F01HHSKGJAH-eb766c8ca3/a_deanimate_gif.png","thumb_tiny":"AwAwADDMooooAKKKKACiiigAooooAKKKKACiiigAopdxo3GmAlFLuNJSAKKKKAP/2Q==","permalink":"https://julialang.slack.com/files/U69EQD0CD/F01HHSKGJAH/a.gif","permalink_public":"https://slack-files.com/T68168MUP-F01HHSKGJAH-c109fbc4b7","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U69EQD0CD","display_as_bot":false,"ts":"1608889920.026200","thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"4A93013D-D9D5-4D35-B929-11883F6BE7A4","type":"message","text":"Thanks <@U69EQD0CD> I will give that a try. Thanks again for such a great package!","user":"U8T0YV7QC","ts":"1608912582.029000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NOwu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"U69EQD0CD"},{"type":"text","text":" I will give that a try. Thanks again for such a great package!"}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC","reactions":[{"name":"+1::skin-tone-2","users":["U69EQD0CD"],"count":1},{"name":"heart","users":["U69EQD0CD"],"count":1}]},{"client_msg_id":"cdcf9a3a-25f2-42ac-9c1a-00f7f6a2c24e","type":"message","text":"Here we go! :smile: <https://twitter.com/tomkwong/status/1342661344424652801?s=20>","user":"U8T0YV7QC","ts":"1608950490.029600","team":"T68168MUP","attachments":[{"fallback":"<https://twitter.com/tomkwong|@tomkwong>: Merry Christmas! :christmas_tree::santa:\n\nI have made an Advent of Code (Day 24) animation for you. \n\nPowered by #JuliaLang and #Luxor package <https://pbs.twimg.com/tweet_video_thumb/EqIXMdzVgAI_zrL.jpg>","ts":1608950384,"author_name":"Tom Kwong","author_link":"https://twitter.com/tomkwong/status/1342661344424652801","author_icon":"https://pbs.twimg.com/profile_images/1055308010384326656/dzC6vDJi_normal.jpg","author_subname":"@tomkwong","text":"Merry Christmas! :christmas_tree::santa:\n\nI have made an Advent of Code (Day 24) animation for you. \n\nPowered by #JuliaLang and #Luxor package","service_name":"twitter","service_url":"https://twitter.com/","from_url":"https://twitter.com/tomkwong/status/1342661344424652801?s=20","thumb_url":"https://pbs.twimg.com/tweet_video_thumb/EqIXMdzVgAI_zrL.jpg","thumb_width":600,"thumb_height":600,"video_html_width":600,"video_html_height":600,"video_html":"<video autoplay loop muted poster=\"https://pbs.twimg.com/tweet_video_thumb/EqIXMdzVgAI_zrL.jpg\" width=\"600\" height=\"600\"><source type=\"video/mp4\" src=\"https://video.twimg.com/tweet_video/EqIXMdzVgAI_zrL.mp4\"></video>","id":1,"original_url":"https://twitter.com/tomkwong/status/1342661344424652801?s=20","footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png"}],"blocks":[{"type":"rich_text","block_id":"C6DS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here we go! "},{"type":"emoji","name":"smile"},{"type":"text","text":" "},{"type":"link","url":"https://twitter.com/tomkwong/status/1342661344424652801?s=20"}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"},{"client_msg_id":"1772df5f-90a1-4d69-a73f-644bab3e7bd8","type":"message","text":"That's impressive - glad you got something working... I'm pondering on how one could integrate this \"overwrite\" mode easily...","user":"U69EQD0CD","ts":"1608975377.029900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RGDa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's impressive - glad you got something working... I'm pondering on how one could integrate this \"overwrite\" mode easily..."}]}]}],"thread_ts":"1608867326.025400","parent_user_id":"U8T0YV7QC"}]