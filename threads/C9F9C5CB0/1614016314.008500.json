[{"client_msg_id":"810edb5d-c7b4-4a86-972b-9a56325fba4f","type":"message","text":"This may be a little vague, but for the code for an entire (academic) paper, do you prefer to have the code in a package or just keep it all \"script\"-like where everything ends up being `include` d in a \"`main.jl`\" file that runs the analysis? (The code solves and estimates a structural life-cycle model, with some counter-factual experiments so the end outputs are well defined (e.g., latex tables, plots, and some .csv files/datasets))\n\nI'm asking because I'm rewriting my second year paper and doing some substantial modifications to the code. I figured I'd rewrite my code so that I could actually post a replication package, so now I want to do it \"all properly\" from the beginning, if that makes sense. But I've never written any packages, and frankly find it rather annoying so I want to check before I commit to doing it this way.","user":"UBTGC7HPA","ts":"1614016314.008500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tjj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This may be a little vague, but for the code for an entire (academic) paper, do you prefer to have the code in a package or just keep it all \"script\"-like where everything ends up being "},{"type":"text","text":"include","style":{"code":true}},{"type":"text","text":" d in a \""},{"type":"text","text":"main.jl","style":{"code":true}},{"type":"text","text":"\" file that runs the analysis? (The code solves and estimates a structural life-cycle model, with some counter-factual experiments so the end outputs are well defined (e.g., latex tables, plots, and some .csv files/datasets))\n\nI'm asking because I'm rewriting my second year paper and doing some substantial modifications to the code. I figured I'd rewrite my code so that I could actually post a replication package, so now I want to do it \"all properly\" from the beginning, if that makes sense. But I've never written any packages, and frankly find it rather annoying so I want to check before I commit to doing it this way."}]}]}],"thread_ts":"1614016314.008500","reply_count":8,"reply_users_count":3,"latest_reply":"1614020456.010500","reply_users":["UBF9YRB6H","U82LX4ACB","UBTGC7HPA"],"subscribed":false},{"client_msg_id":"4f85000f-7bd9-430e-be54-922e9aaafd40","type":"message","text":"I would have nothing evaluated in global scope. Keep it all in functions.\n\nBut no need to put it in a module. You can just have a top-level script that `include`s a bunch of function definitions and then calls `main`.\n\nUse `Exfiltrator.jl` to stay sane while debugging inside functions.\n\nMost important thing is to use `Manifest.toml` and make sure that you have `Pkg.activate(\".\")` and `instantiate` somewhere.","user":"UBF9YRB6H","ts":"1614016545.008600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QT79","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would have nothing evaluated in global scope. Keep it all in functions.\n\nBut no need to put it in a module. You can just have a top-level script that `include`s a bunch of function definitions and then calls "},{"type":"text","text":"main","style":{"code":true}},{"type":"text","text":".\n\nUse "},{"type":"text","text":"Exfiltrator.jl","style":{"code":true}},{"type":"text","text":" to stay sane while debugging inside functions.\n\nMost important thing is to use "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":" and make sure that you have "},{"type":"text","text":"Pkg.activate(\".\")","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"instantiate","style":{"code":true}},{"type":"text","text":" somewhere."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"45c7e952-9d99-4d8f-bccc-72d7a765dff5","type":"message","text":"For development, you can use `includet` from Revise to get all the benefits of module-driven development without the naming issues","user":"UBF9YRB6H","ts":"1614016574.008800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SNu=S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For development, you can use "},{"type":"text","text":"includet","style":{"code":true}},{"type":"text","text":" from Revise to get all the benefits of module-driven development without the naming issues"}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"e8ef8664-b266-42aa-b23e-52831c42c4b8","type":"message","text":"I think I could see either one working. For example, you could have a module with a function `replicate(path)` and it writes everything to the path (results, figures, etc.). That is geared towards reproducibility. For reproducibility, you probably want to expose the functionality such that it can be used with new data and adapted to new similar applications. In that case it might work by modifying scripts or by using exported functionality (e.g., pass new data, select different features).","user":"U82LX4ACB","ts":"1614017244.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZYc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I could see either one working. For example, you could have a module with a function "},{"type":"text","text":"replicate(path)","style":{"code":true}},{"type":"text","text":" and it writes everything to the path (results, figures, etc.). That is geared towards reproducibility. For reproducibility, you probably want to expose the functionality such that it can be used with new data and adapted to new similar applications. In that case it might work by modifying scripts or by using exported functionality (e.g., pass new data, select different features)."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"ccc8bfb4-58f2-45ac-a4bc-920cd7fb2823","type":"message","text":"If it's something that would be re-purposed with a new data set, then it should be a module and have a Project.toml etc.","user":"UBF9YRB6H","ts":"1614017604.009300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UVer","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it's something that would be re-purposed with a new data set, then it should be a module and have a Project.toml etc."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"cb4493b1-e54d-43dd-a1fc-58b1c62763c1","type":"message","text":"You can also have both. One which is the tool and exposes the functionality and another which records how it was used and hopefully can be used to reproduce the analysis in that paper.","user":"U82LX4ACB","ts":"1614017689.009500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OBOD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can also have both. One which is the tool and exposes the functionality and another which records how it was used and hopefully can be used to reproduce the analysis in that paper."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA","reactions":[{"name":"+1","users":["UBF9YRB6H"],"count":1}]},{"client_msg_id":"be8ba9ec-d216-4734-bdb1-53ab07d451af","type":"message","text":"<@UBF9YRB6H> So I'm probably missing something in your reply, but I thought `Manifest.toml` and so on are only required if I write a package? Maybe I'm confused about the differences between modules and packages. Maybe all I need is a module?\n\nWhen I think about it's clear that I need a `Manifest.toml` (or something similar?) so that people use the same versions of `optim.jl` and `interpolations.jl` when they run the code (as if anybody will ever read my paper let alone run the code :tired_face:).","user":"UBTGC7HPA","ts":"1614020293.010100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jlOg","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" So I'm probably missing something in your reply, but I thought "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":" and so on are only required if I write a package? Maybe I'm confused about the differences between modules and packages. Maybe all I need is a module?\n\nWhen I think about it's clear that I need a "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":" (or something similar?) so that people use the same versions of "},{"type":"text","text":"optim.jl","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"interpolations.jl","style":{"code":true}},{"type":"text","text":" when they run the code (as if anybody will ever read my paper let alone run the code "},{"type":"emoji","name":"tired_face"},{"type":"text","text":")."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"30c39edc-a123-4d14-9017-ec9f26deb843","type":"message","text":"I guess another question would be if somebody has curated a list of published economics/finance (etc) papers using Julia with replication files.","user":"UBTGC7HPA","ts":"1614020347.010300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a/GP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess another question would be if somebody has curated a list of published economics/finance (etc) papers using Julia with replication files."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"},{"client_msg_id":"df31cbd4-901a-400e-ac59-c34ad5cff1d5","type":"message","text":"A module is just a namespace. Main for example is a default module. Base is also a module. A package is just a module that is meant to be shared and such. A manifest file allows Julia to know what dependencies a module needs in order to obtain and set up the environment.","user":"U82LX4ACB","ts":"1614020456.010500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LFht0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A module is just a namespace. Main for example is a default module. Base is also a module. A package is just a module that is meant to be shared and such. A manifest file allows Julia to know what dependencies a module needs in order to obtain and set up the environment."}]}]}],"thread_ts":"1614016314.008500","parent_user_id":"UBTGC7HPA"}]