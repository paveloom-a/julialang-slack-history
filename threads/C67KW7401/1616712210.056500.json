[{"client_msg_id":"b736134c-fb21-48b5-bbd3-4d757aa5dce4","type":"message","text":"I'm afraid the replies to the hackernews comment (in the 1.6 release post) pointing out julia is not top on the list in <https://github.com/kostya/benchmarks> weren't entirely accurate... Too often benchmarks with questionable julia timings include compilation time, but in this case the benchmark is reasonably fair (timing starts halfway in a function by sending some message through a socket, and sometimes a verification test is run before the benchmark). I (and some others) jumped a bit too quickly to the conclusion that the benchmark was unfair/skew, and one comment which correctly points that out got downvoted to oblivion :sweat_smile:","user":"U6N6VQE30","ts":"1616712210.056500","team":"T68168MUP","edited":{"user":"U6N6VQE30","ts":"1616712228.000000"},"blocks":[{"type":"rich_text","block_id":"9XMs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm afraid the replies to the hackernews comment (in the 1.6 release post) pointing out julia is not top on the list in "},{"type":"link","url":"https://github.com/kostya/benchmarks"},{"type":"text","text":" weren't entirely accurate... Too often benchmarks with questionable julia timings include compilation time, but in this case the benchmark is reasonably fair (timing starts halfway in a function by sending some message through a socket, and sometimes a verification test is run before the benchmark). I (and some others) jumped a bit too quickly to the conclusion that the benchmark was unfair/skew, and one comment which correctly points that out got downvoted to oblivion "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1616712210.056500","reply_count":29,"reply_users_count":4,"latest_reply":"1616756260.073100","reply_users":["UDB26738Q","U6N6VQE30","UQ3TQ1E83","UH24GRBLL"],"is_locked":false,"subscribed":false,"reactions":[{"name":"y_combinator","users":["UGU761DU2","U66M57AN4","UKG4WF8PJ","U7HAYKY9X"],"count":4}]},{"client_msg_id":"05109a3a-3717-48cc-83e2-9df0d5b3f85b","type":"message","text":"Where do you see how they benchmark Julia?","user":"UDB26738Q","ts":"1616713621.058000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F6eP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Where do you see how they benchmark Julia?"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"9857972c-8079-41aa-ba85-bfc1e84d10bf","type":"message","text":"well, it's written in ruby :smile: it took me a moment to parse it","user":"U6N6VQE30","ts":"1616713708.058200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P8Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, it's written in ruby "},{"type":"emoji","name":"smile"},{"type":"text","text":" it took me a moment to parse it"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"6f18c3e2-5141-4dc9-a2ee-6201fd7e0a32","type":"message","text":"<https://github.com/kostya/benchmarks/blob/master/base64/test.jl#L11-L27>","user":"U6N6VQE30","ts":"1616713783.058400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/24Ji","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/kostya/benchmarks/blob/master/base64/test.jl#L11-L27"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"d9fe40c4-610a-447d-9da1-f5637da1a260","type":"message","text":"but if you don't want to look at ruby you can see it uses this notify() function and repeats the stuff between it 8000 times on a string of length 131072 and it even calls base64encode() ahead of time within the function because why not","user":"U6N6VQE30","ts":"1616713895.058600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xaU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if you don't want to look at ruby you can see it uses this notify() function and repeats the stuff between it 8000 times on a string of length 131072 and it even calls base64encode() ahead of time within the function because why not"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"434de379-1a03-465b-937b-2dc531904903","type":"message","text":"and running `make test[smth.jl]` executes `../xtime.rb julia --optimize=3 --check-bounds=no test.jl`\n`","user":"U6N6VQE30","ts":"1616714033.058800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uq8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and running "},{"type":"text","text":"make test[smth.jl]","style":{"code":true}},{"type":"text","text":" executes "},{"type":"text","text":"../xtime.rb julia --optimize=3 --check-bounds=no test.jl","style":{"code":true}},{"type":"text","text":"\n`"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"ae2b90ec-7165-4fb5-af91-7664c7c163b7","type":"message","text":"I'm trying to understand how this works, to no avail","user":"UDB26738Q","ts":"1616720357.064200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FVq56","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to understand how this works, to no avail"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"51e54d92-89fe-4a58-bc87-779bd5cdb7bb","type":"message","text":"I tried to execute `../xtime.rb julia --optimize=3 --check-bounds=no test.jl` (after changing the path to the energy file in the `xtime` script, because it can't be read anyway), I get\n```% ../xtime.rb julia-master --optimize=3 --check-bounds=no test.jl\nencode aaaa... to YWFh: 1431666688, 3.2305638790130615\ndecode YWFh... to aaaa: 1073741824, 1.6625781059265137```\nbut not sure what to do with this","user":"UDB26738Q","ts":"1616720436.064400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KFraI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I tried to execute "},{"type":"text","text":"../xtime.rb julia --optimize=3 --check-bounds=no test.jl","style":{"code":true}},{"type":"text","text":" (after changing the path to the energy file in the "},{"type":"text","text":"xtime","style":{"code":true}},{"type":"text","text":" script, because it can't be read anyway), I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% ../xtime.rb julia-master --optimize=3 --check-bounds=no test.jl\nencode aaaa... to YWFh: 1431666688, 3.2305638790130615\ndecode YWFh... to aaaa: 1073741824, 1.6625781059265137"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but not sure what to do with this"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"45f7220b-46d5-47e4-b03e-11271754c3fd","type":"message","text":"oh, `3.2305638790130615` and `1.6625781059265137` are the times of the two operations, repeated 8192 times","user":"UDB26738Q","ts":"1616720524.064600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"buu=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, "},{"type":"text","text":"3.2305638790130615","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"1.6625781059265137","style":{"code":true}},{"type":"text","text":" are the times of the two operations, repeated 8192 times"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"1b83830c-173a-46a8-b1f3-45ce166b2009","type":"message","text":"ok, this worked\n```% make 'run[test.jl]'\nmake run[test.jl]\nmkdir -p target\n../common/julia/julia_fmt.jl test.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `<https://github.com/JuliaRegistries/General.git>`\n  Resolving package versions...\n  Installed Tokenize ─────── v0.5.13\n  Installed CommonMark ───── v0.8.1\n  Installed JuliaFormatter ─ v0.13.5\n  Installed CSTParser ────── v2.5.0\nUpdating `~/.julia/environments/v1.5/Project.toml`\n  [98e50ef6] + JuliaFormatter v0.13.5\nUpdating `~/.julia/environments/v1.5/Manifest.toml`\n  [00ebfdb7] + CSTParser v2.5.0\n  [a80b9123] + CommonMark v0.8.1\n  [a8cc5b0e] + Crayons v4.0.4\n  [e30172f5] + Documenter v0.26.3\n  [b5f81e59] + IOCapture v0.1.1\n  [98e50ef6] + JuliaFormatter v0.13.5\n  [f50d1b31] ↑ Rmath_jll v0.2.2+1 ⇒ v0.2.2+2\n  [0796e94c] + Tokenize v0.5.13\n  [5c2747f8] + URIs v1.2.0\nFormatting test.jl\n../xtime.rb julia --optimize=3 --check-bounds=no test.jl\n\"Julia\"\nencode aaaa... to YWFh: 1431666688, 3.4576218128204346\ndecode YWFh... to aaaa: 1073741824, 1.7702271938323975\n5.228 s, 265 Mb, 0.0 J```\n(thanks for installing extra packages in my global environment)","user":"UDB26738Q","ts":"1616720814.064800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oVZ5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, this worked\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% make 'run[test.jl]'\nmake run[test.jl]\nmkdir -p target\n../common/julia/julia_fmt.jl test.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `"},{"type":"link","url":"https://github.com/JuliaRegistries/General.git"},{"type":"text","text":"`\n  Resolving package versions...\n  Installed Tokenize ─────── v0.5.13\n  Installed CommonMark ───── v0.8.1\n  Installed JuliaFormatter ─ v0.13.5\n  Installed CSTParser ────── v2.5.0\nUpdating `~/.julia/environments/v1.5/Project.toml`\n  [98e50ef6] + JuliaFormatter v0.13.5\nUpdating `~/.julia/environments/v1.5/Manifest.toml`\n  [00ebfdb7] + CSTParser v2.5.0\n  [a80b9123] + CommonMark v0.8.1\n  [a8cc5b0e] + Crayons v4.0.4\n  [e30172f5] + Documenter v0.26.3\n  [b5f81e59] + IOCapture v0.1.1\n  [98e50ef6] + JuliaFormatter v0.13.5\n  [f50d1b31] ↑ Rmath_jll v0.2.2+1 ⇒ v0.2.2+2\n  [0796e94c] + Tokenize v0.5.13\n  [5c2747f8] + URIs v1.2.0\nFormatting test.jl\n../xtime.rb julia --optimize=3 --check-bounds=no test.jl\n\"Julia\"\nencode aaaa... to YWFh: 1431666688, 3.4576218128204346\ndecode YWFh... to aaaa: 1073741824, 1.7702271938323975\n5.228 s, 265 Mb, 0.0 J"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"(thanks for installing extra packages in my global environment)"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"02d9f63f-9f22-4cbd-bcf8-c20d80eb7618","type":"message","text":"uhm, ok, I agree that compilation shouldn't matter much, at least in this benchmark","user":"UDB26738Q","ts":"1616721313.065000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kb+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"uhm, ok, I agree that compilation shouldn't matter much, at least in this benchmark"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"51ba648d-a3c0-4d09-a95c-9783bf3ce10b","type":"message","text":"for the bf benchmark I get much slower time with their `xtime.rb` script than with `@btime` :laughing:  but memory consumption is several orders of magnitude lower with `@btime` (208 bytes vs 170 MB).  I suspect they include whole julia runtime?","user":"UDB26738Q","ts":"1616722755.065200","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1616722913.000000"},"blocks":[{"type":"rich_text","block_id":"i4X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for the bf benchmark I get much slower time with their "},{"type":"text","text":"xtime.rb","style":{"code":true}},{"type":"text","text":" script than with "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"laughing"},{"type":"text","text":"  but memory consumption is several orders of magnitude lower with "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" (208 bytes vs 170 MB).  I suspect they include whole julia runtime?"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"7bdea7f3-30b0-4b7c-b93a-4eee961725cf","type":"message","text":"oh, I see: `Tape` and `Printer` are mutable structs, I was probably accumulating some garbage in them.  this is much better, and closer to their timing:\n```julia&gt; @btime interpret(t, c, p) setup = (t = Tape(); c = collect(text); p = Printer(true));\n  3.431 s (5 allocations: 336 bytes)```","user":"UDB26738Q","ts":"1616723865.065600","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1616723874.000000"},"blocks":[{"type":"rich_text","block_id":"leFJi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, I see: "},{"type":"text","text":"Tape","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"Printer","style":{"code":true}},{"type":"text","text":" are mutable structs, I was probably accumulating some garbage in them.  this is much better, and closer to their timing:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @btime interpret(t, c, p) setup = (t = Tape(); c = collect(text); p = Printer(true));\n  3.431 s (5 allocations: 336 bytes)"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"7878c21f-147d-46dd-8df8-df2edfeb8f0d","type":"message","text":"```% QUIET= make 'run[target/bin_cpp]'\nmake run[target/bin_cpp]\nmake -C ../common/libnotify\nmake[1]: Entering directory '/tmp/benchmarks/common/libnotify'\nmake[1]: Nothing to be done for 'all'.\nmake[1]: Leaving directory '/tmp/benchmarks/common/libnotify'\n../xtime.rb target/bin_cpp bench.b\n\"C++/g++\"\nOutput checksum: 23280\n1.276 s, 1 Mb, 0.0 J```\nwith <@UQ3TQ1E83> implementation:\n```% make 'run[bf.jl]'      \nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `<https://github.com/JuliaRegistries/General.git>`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n0.229 s, 217 Mb, 0.0 J```\n:rocket:","user":"UDB26738Q","ts":"1616724766.065900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=PV","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% QUIET= make 'run[target/bin_cpp]'\nmake run[target/bin_cpp]\nmake -C ../common/libnotify\nmake[1]: Entering directory '/tmp/benchmarks/common/libnotify'\nmake[1]: Nothing to be done for 'all'.\nmake[1]: Leaving directory '/tmp/benchmarks/common/libnotify'\n../xtime.rb target/bin_cpp bench.b\n\"C++/g++\"\nOutput checksum: 23280\n1.276 s, 1 Mb, 0.0 J"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"with "},{"type":"user","user_id":"UQ3TQ1E83"},{"type":"text","text":" implementation:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% make 'run[bf.jl]'      \nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `"},{"type":"link","url":"https://github.com/JuliaRegistries/General.git"},{"type":"text","text":"`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n0.229 s, 217 Mb, 0.0 J"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"rocket"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"4bec0c4f-20cf-47a0-9676-88864b7927a9","type":"message","text":"mandelbrot.  c++:\n```% QUIET= make 'run[target/bin_cpp]' BF_SRC=mandel.b \nmake run[target/bin_cpp]\nmake -C ../common/libnotify\nmake[1]: Entering directory '/tmp/benchmarks/common/libnotify'\nmake[1]: Nothing to be done for 'all'.\nmake[1]: Leaving directory '/tmp/benchmarks/common/libnotify'\n../xtime.rb target/bin_cpp mandel.b\n\"C++/g++\"\nOutput checksum: 11962\n17.794 s, 3 Mb, 0.0 J```\n<@UQ3TQ1E83> implementation:\n```% make 'run[bf.jl]'                          \nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `<https://github.com/JuliaRegistries/General.git>`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n5.821 s, 379 Mb, 0.0 J```\n:rocket: :rocket:","user":"UDB26738Q","ts":"1616725274.066100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pqX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"mandelbrot.  c++:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% QUIET= make 'run[target/bin_cpp]' BF_SRC=mandel.b \nmake run[target/bin_cpp]\nmake -C ../common/libnotify\nmake[1]: Entering directory '/tmp/benchmarks/common/libnotify'\nmake[1]: Nothing to be done for 'all'.\nmake[1]: Leaving directory '/tmp/benchmarks/common/libnotify'\n../xtime.rb target/bin_cpp mandel.b\n\"C++/g++\"\nOutput checksum: 11962\n17.794 s, 3 Mb, 0.0 J"}]},{"type":"rich_text_section","elements":[{"type":"user","user_id":"UQ3TQ1E83"},{"type":"text","text":" implementation:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% make 'run[bf.jl]'                          \nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `"},{"type":"link","url":"https://github.com/JuliaRegistries/General.git"},{"type":"text","text":"`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n5.821 s, 379 Mb, 0.0 J"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"rocket"},{"type":"text","text":" "},{"type":"emoji","name":"rocket"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"b953f155-c34f-4c40-8e90-ff44ec0c36d3","type":"message","text":"and that's all compilation time :joy:  calling the function twice and measuring only the second call:\n```% make 'run[bf.jl]'\nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `<https://github.com/JuliaRegistries/General.git>`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n1.026 s, 390 Mb, 0.0 J```","user":"UDB26738Q","ts":"1616725549.066300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YJi3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and that's all compilation time "},{"type":"emoji","name":"joy"},{"type":"text","text":"  calling the function twice and measuring only the second call:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% make 'run[bf.jl]'\nmake run[bf.jl]\n../common/julia/julia_fmt.jl bf.jl\n   Updating registry at `~/.julia/registries/General`\n   Updating git-repo `"},{"type":"link","url":"https://github.com/JuliaRegistries/General.git"},{"type":"text","text":"`\n  Resolving package versions...\nNo Changes to `~/.julia/environments/v1.5/Project.toml`\nNo Changes to `~/.julia/environments/v1.5/Manifest.toml`\nFormatting bf.jl\n../xtime.rb julia --optimize=3 --check-bounds=no bf.jl bench.b\n\"Julia\"\n1.026 s, 390 Mb, 0.0 J"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"105F5341-9623-4F1B-BD77-B1531AD0217F","type":"message","text":"This is hilarious","user":"UQ3TQ1E83","ts":"1616725814.066700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9DU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is hilarious"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"6A497E4B-744F-478E-849F-ED3B3918E825","type":"message","text":"I can’t believe I accidentally wrote something faster than anything in the existing benchmarks","user":"UQ3TQ1E83","ts":"1616725949.068500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rChxr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can’t believe I accidentally wrote something faster than anything in the existing benchmarks"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"8032e154-73e8-437d-a748-0558f7462b37","type":"message","text":"Is there a way to parse a string with a function? I had to hardcode the files into the string macro","user":"UDB26738Q","ts":"1616725994.068700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AYPIJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to parse a string with a function? I had to hardcode the files into the string macro"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"003E0AEC-0735-404A-82AA-021C208654C8","type":"message","text":"I mean I’d just pass it in via read(String, path) and interpolate it if that’s possible","user":"UQ3TQ1E83","ts":"1616726070.070100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nsA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean I’d just pass it in via read(String, path) and interpolate it if that’s possible"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"e7a07810-46d2-4a1f-8d7d-8fbf25191f39","type":"message","text":"No, that's the problem. Interpolation doesn't work in string macros","user":"UDB26738Q","ts":"1616726094.070300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BVmAQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, that's the problem. Interpolation doesn't work in string macros"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"bb2c14a2-8a60-470e-b953-e7fff8c530e3","type":"message","text":"I'll have a look tomorrow or this weekend :thinking_face:","user":"UDB26738Q","ts":"1616726141.070500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IT2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll have a look tomorrow or this weekend "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"0DABDB3A-16AF-4A89-9BE2-74D7D333906B","type":"message","text":"can you just directly do @bf_str(program)","user":"UQ3TQ1E83","ts":"1616726222.071300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WEEVy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you just directly do @bf_str(program)"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"baa22469-5ac0-42c7-b02e-4e9810864a4c","type":"message","text":"Nope, because macros have other implicit arguments","user":"UDB26738Q","ts":"1616726394.071500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VmZh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope, because macros have other implicit arguments"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"b242a895-346b-4bb1-b033-29a6fcb12997","type":"message","text":"while you can't replace the \"official\" reference implementation, you could submit it as a variant, just to top the benchmark :eyes:","user":"UH24GRBLL","ts":"1616741504.071900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LRb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"while you can't replace the \"official\" reference implementation, you could submit it as a variant, just to top the benchmark "},{"type":"emoji","name":"eyes"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"6fd00c02-3737-4989-9e5b-fa20103acd45","type":"message","text":"i guess you'll have to write a generated function that reads from a file? probably not so pretty","user":"U6N6VQE30","ts":"1616752618.072300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rB=n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i guess you'll have to write a generated function that reads from a file? probably not so pretty"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"3ba10aa8-5895-4850-af84-2cdb8a056581","type":"message","text":"just read in the string, write it out with `bf\"` prepended and `\"` appended, then `include` the file ;D","user":"UH24GRBLL","ts":"1616755584.072500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EdI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just read in the string, write it out with "},{"type":"text","text":"bf\"","style":{"code":true}},{"type":"text","text":" prepended and "},{"type":"text","text":"\"","style":{"code":true}},{"type":"text","text":" appended, then "},{"type":"text","text":"include","style":{"code":true}},{"type":"text","text":" the file ;D"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"26e7f9c9-3620-4e79-8376-58c8bc82514c","type":"message","text":"is that cheating?","user":"UH24GRBLL","ts":"1616755597.072700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HBrEd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is that cheating?"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"2a6a2aab-5272-4f5c-b927-ad5ada4a1f19","type":"message","text":"uhm, it's complicated.  my understanding is that this line <https://github.com/OTDE/GalaxyBrain.jl/blob/30153e80951a59ef61b7ce9809eb7beb6aa3b402/src/GalaxyBrain.jl#L20> is doing the magic, I'm not sure how to do that without a macro :confused:","user":"UDB26738Q","ts":"1616755963.072900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D1F9n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"uhm, it's complicated.  my understanding is that this line "},{"type":"link","url":"https://github.com/OTDE/GalaxyBrain.jl/blob/30153e80951a59ef61b7ce9809eb7beb6aa3b402/src/GalaxyBrain.jl#L20"},{"type":"text","text":" is doing the magic, I'm not sure how to do that without a macro "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"},{"client_msg_id":"378d13c5-78d5-4e38-98c7-2253c7078224","type":"message","text":"that just calls into a parser/lexer","user":"UH24GRBLL","ts":"1616756260.073100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"02F3+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that just calls into a parser/lexer"}]}]}],"thread_ts":"1616712210.056500","parent_user_id":"U6N6VQE30"}]