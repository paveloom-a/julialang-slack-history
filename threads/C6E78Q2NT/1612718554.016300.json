[{"client_msg_id":"4ebb214e-91c9-424c-9f92-8741db5ea314","type":"message","text":"If I have\n`wait(@spawnat 2 x2 = f())`\n`wait(@spawnat 2 x2 = g(x2))`\n`x1 = f(x)`\n`x1 = g(x1)`\n`x1 + fetch(x2)`\nare the commands on worker 1 running simultaneously with the commands on worker 2 or has `wait` “paused” it?","user":"U01655DR0JZ","ts":"1612718554.016300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uz4L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I have\n"},{"type":"text","text":"wait(@spawnat 2 x2 = f())","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"wait(@spawnat 2 x2 = g(x2))","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"x1 = f(x)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"x1 = g(x1)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"x1 + fetch(x2)","style":{"code":true}},{"type":"text","text":"\nare the commands on worker 1 running simultaneously with the commands on worker 2 or has "},{"type":"text","text":"wait","style":{"code":true}},{"type":"text","text":" “paused” it?"}]}]}],"thread_ts":"1612718554.016300","reply_count":6,"reply_users_count":2,"latest_reply":"1612721379.017600","reply_users":["U6A0PD8CR","U01655DR0JZ"],"subscribed":false},{"client_msg_id":"d0941295-1f70-4fc7-8bec-db746207f17e","type":"message","text":"The `wait` should block until the result of `@spawnat` is available","user":"U6A0PD8CR","ts":"1612720469.016400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j7HgF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The "},{"type":"text","text":"wait","style":{"code":true}},{"type":"text","text":" should block until the result of "},{"type":"text","text":"@spawnat","style":{"code":true}},{"type":"text","text":" is available"}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"8bb8211e-7e43-4191-b476-c97821d1ca6b","type":"message","text":"If you don't want that behavior, save the result of `@spawnat` to a variable and `wait` on it later","user":"U6A0PD8CR","ts":"1612720522.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nsK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you don't want that behavior, save the result of "},{"type":"text","text":"@spawnat","style":{"code":true}},{"type":"text","text":" to a variable and "},{"type":"text","text":"wait","style":{"code":true}},{"type":"text","text":" on it later"}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"64fdad0b-c1d7-4a2d-afd8-be827bf881fc","type":"message","text":"Also, I don't think `@spawnat 2 x2 = f()` defines `x2` on the local proc, so the above code probably won't work","user":"U6A0PD8CR","ts":"1612720565.016800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tokJO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, I don't think "},{"type":"text","text":"@spawnat 2 x2 = f()","style":{"code":true}},{"type":"text","text":" defines "},{"type":"text","text":"x2","style":{"code":true}},{"type":"text","text":" on the local proc, so the above code probably won't work"}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"8a71dd80-9205-4574-ae83-b226921a1a59","type":"message","text":"Btw, please use triple backticks (```) to post blocks of code","user":"U6A0PD8CR","ts":"1612720609.017000","team":"T68168MUP","edited":{"user":"U6A0PD8CR","ts":"1612720625.000000"},"blocks":[{"type":"rich_text","block_id":"7Ceq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Btw, please use triple backticks (```) to post blocks of code"}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ","reactions":[{"name":"pray::skin-tone-3","users":["U01655DR0JZ"],"count":1}]},{"client_msg_id":"cd6a2982-0123-4d4c-930b-93fd973d55d5","type":"message","text":"Thank you for your response. I was afraid of that. I am using\n`eval(:(x2 = f()))`\nto (attempt to) assign to the local processor. My problem steams from the fact that I have several of these statements in a row and when I don’t use `wait` it complains my functions are not defined on Futures. I tried it with `fetch` of course but it’s unclear to me that unnecessary movement is not happening. These variables are quite large. Basically, I merely want one set of commands to happen completely on worker 2 and another on worker 1 without communication or movement between them until the very end, but I’m not getting the right combination of things to get this correct.","user":"U01655DR0JZ","ts":"1612721329.017400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EAW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you for your response. I was afraid of that. I am using\n"},{"type":"text","text":"eval(:(x2 = f()))","style":{"code":true}},{"type":"text","text":"\nto (attempt to) assign to the local processor. My problem steams from the fact that I have several of these statements in a row and when I don’t use "},{"type":"text","text":"wait ","style":{"code":true}},{"type":"text","text":"it complains my functions are not defined on Futures. I tried it with "},{"type":"text","text":"fetch","style":{"code":true}},{"type":"text","text":" of course but it’s unclear to me that unnecessary movement is not happening. These variables are quite large. Basically, I merely want one set of commands to happen completely on worker 2 and another on worker 1 without communication or movement between them until the very end, but I’m not getting the right combination of things to get this correct."}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"a78ecf88-24cd-48a7-8ddb-39b8ec93bcaa","type":"message","text":"Also, without `wait` it was complaining that, in this example, that `x2` was an unknown variable, even while using `eval`.","user":"U01655DR0JZ","ts":"1612721379.017600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6t=m2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, without "},{"type":"text","text":"wait","style":{"code":true}},{"type":"text","text":" it was complaining that, in this example, that "},{"type":"text","text":"x2","style":{"code":true}},{"type":"text","text":" was an unknown variable, even while using "},{"type":"text","text":"eval","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612718554.016300","parent_user_id":"U01655DR0JZ"}]