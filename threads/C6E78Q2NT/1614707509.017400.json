[{"client_msg_id":"b5a2e71a-69c7-49ae-ae63-f9b028369ebd","type":"message","text":"Any advice on getting logging working from with an @distributed for loop? I’ve tried just putting @infos inside the loop but I’m not getting anything out in the worker log files (I’m using CluterManagers.jl) or the main slurm log file","user":"U01E7DK9HPA","ts":"1614707509.017400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UY=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any advice on getting logging working from with an @distributed for loop? I’ve tried just putting @infos inside the loop but I’m not getting anything out in the worker log files (I’m using CluterManagers.jl) or the main slurm log file"}]}]}],"thread_ts":"1614707509.017400","reply_count":3,"reply_users_count":2,"latest_reply":"1614711892.018200","reply_users":["U6A0PD8CR","U67BJLYCS"],"subscribed":false},{"client_msg_id":"2dcde41a-f10d-410a-aad7-cef8e32968d9","type":"message","text":"Try `Core.println`, it prints directly to the head-worker stream, so it often works most reliably","user":"U6A0PD8CR","ts":"1614707765.017500","team":"T68168MUP","edited":{"user":"U6A0PD8CR","ts":"1614707777.000000"},"blocks":[{"type":"rich_text","block_id":"Xi5dS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try "},{"type":"text","text":"Core.println","style":{"code":true}},{"type":"text","text":", it prints directly to the head-worker stream, so it often works most reliably"}]}]}],"thread_ts":"1614707509.017400","parent_user_id":"U01E7DK9HPA","reactions":[{"name":"pray","users":["U01E7DK9HPA"],"count":1}]},{"client_msg_id":"46b1e1bb-c71a-49e9-adbb-16cc3815eaf4","type":"message","text":"```@everywhere begin\n  import Dates\n  using Logging, LoggingExtras\n  const date_format = \"HH:MM:SS\"\n\n  function distributed_logger(logger)\n    logger = MinLevelLogger(logger, <http://Logging.Info|Logging.Info>)\n    logger = TransformerLogger(logger) do log\n      merge(log, (; message = \"$(Dates.format(Dates.now(), date_format)) ($(myid())) $(log.message)\"))\n    end\n    return logger\n  end\n\n  # set the global logger\n  if !(stderr isa IOStream)\n    ConsoleLogger(stderr)\n  else\n    FileLogger(stderr, always_flush=true)\n  end |&gt; distributed_logger |&gt; global_logger\nend```","user":"U67BJLYCS","ts":"1614711603.017900","team":"T68168MUP","edited":{"user":"U67BJLYCS","ts":"1614711607.000000"},"blocks":[{"type":"rich_text","block_id":"k66A","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@everywhere begin\n  import Dates\n  using Logging, LoggingExtras\n  const date_format = \"HH:MM:SS\"\n\n  function distributed_logger(logger)\n    logger = MinLevelLogger(logger, Logging.Info)\n    logger = TransformerLogger(logger) do log\n      merge(log, (; message = \"$(Dates.format(Dates.now(), date_format)) ($(myid())) $(log.message)\"))\n    end\n    return logger\n  end\n\n  # set the global logger\n  if !(stderr isa IOStream)\n    ConsoleLogger(stderr)\n  else\n    FileLogger(stderr, always_flush=true)\n  end |> distributed_logger |> global_logger\nend"}]}]}],"thread_ts":"1614707509.017400","parent_user_id":"U01E7DK9HPA"},{"client_msg_id":"409964e9-846f-4a90-8a45-dccef7e843c9","type":"message","text":"the trick is the `always_flush`","user":"U67BJLYCS","ts":"1614711892.018200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lW4W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the trick is the "},{"type":"text","text":"always_flush","style":{"code":true}}]}]}],"thread_ts":"1614707509.017400","parent_user_id":"U01E7DK9HPA"}]