[{"client_msg_id":"b59aaf23-528e-4dce-ad00-e02e9f81cd93","type":"message","text":"Hi, everyone! I upgraded to 1.6.0 and Flux to 0.12.1. But I started to get some silly errors.\n```julia&gt; m = Chain(Dense(2,3))\nChain(Dense(2, 3))\n\njulia&gt; m(rand(2))\n3-element Vector{Float64}:\n -0.7720298389165985\n -0.975560769181443\n -0.11426826961898628\n\njulia&gt; m = Chain(RNN(2,3))\nChain(Recur(RNNCell(2, 3, tanh)))\n\njulia&gt; m(rand(2))\nERROR: MethodError: no method matching (::Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}})(::Matrix{Float32}, ::Vector{Float64})\nClosest candidates are:\n  (::Flux.RNNCell{F, A, V, var\"#s263\"} where var\"#s263\"&lt;:AbstractMatrix{T})(::Any, ::Union{AbstractVector{T}, AbstractMatrix{T}, Flux.OneHotArray}) where {F, A, V, T} at /Users/rrosa/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:83\nStacktrace:\n [1] (::Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:34\n [2] applychain(fs::Tuple{Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}}}, x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:36\n [3] (::Chain{Tuple{Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:38\n [4] top-level scope\n   @ REPL[27]:1```\nOther types of layers give similar erros. Only Dense works fine. What is going on? What am I missing. There is only `Flux v0.12.1` in this project, in an attempt to isolate the problem.","user":"U01CR62LAAD","ts":"1617539205.097700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BXAKG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, everyone! I upgraded to 1.6.0 and Flux to 0.12.1. But I started to get some silly errors.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> m = Chain(Dense(2,3))\nChain(Dense(2, 3))\n\njulia> m(rand(2))\n3-element Vector{Float64}:\n -0.7720298389165985\n -0.975560769181443\n -0.11426826961898628\n\njulia> m = Chain(RNN(2,3))\nChain(Recur(RNNCell(2, 3, tanh)))\n\njulia> m(rand(2))\nERROR: MethodError: no method matching (::Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}})(::Matrix{Float32}, ::Vector{Float64})\nClosest candidates are:\n  (::Flux.RNNCell{F, A, V, var\"#s263\"} where var\"#s263\"<:AbstractMatrix{T})(::Any, ::Union{AbstractVector{T}, AbstractMatrix{T}, Flux.OneHotArray}) where {F, A, V, T} at /Users/rrosa/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:83\nStacktrace:\n [1] (::Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:34\n [2] applychain(fs::Tuple{Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}}}, x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:36\n [3] (::Chain{Tuple{Flux.Recur{Flux.RNNCell{typeof(tanh), Matrix{Float32}, Vector{Float32}, Matrix{Float32}}, Matrix{Float32}}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:38\n [4] top-level scope\n   @ REPL[27]:1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Other types of layers give similar erros. Only Dense works fine. What is going on? What am I missing. There is only "},{"type":"text","text":"Flux v0.12.1","style":{"code":true}},{"type":"text","text":" in this project, in an attempt to isolate the problem."}]}]}],"thread_ts":"1617539205.097700","reply_count":6,"reply_users_count":2,"latest_reply":"1617543441.100500","reply_users":["U01CR62LAAD","UH9KWTTD3"],"is_locked":false,"subscribed":false},{"client_msg_id":"34551fcd-7dff-4c07-b425-8a7dc488081c","type":"message","text":"Many examples in the documentation are not working for me. For instance\n```julia&gt; m = Chain(LSTM(10, 15), Dense(15, 5))\nChain(Recur(LSTMCell(10, 15)), Dense(15, 5))\n\njulia&gt; seq = [rand(10) for i = 1:10];\n\njulia&gt; m.(seq)\nERROR: MethodError: no method matching (::Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}})(::Tuple{Matrix{Float32}, Matrix{Float32}}, ::Vector{Float64})\nClosest candidates are:\n  (::Flux.LSTMCell{A, V, var\"#s262\"} where var\"#s262\"&lt;:Tuple{AbstractMatrix{T}, AbstractMatrix{T}})(::Any, ::Union{AbstractVector{T}, AbstractMatrix{T}, Flux.OneHotArray}) where {A, V, T} at /Users/rrosa/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:137\nStacktrace:\n [1] (::Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:34\n [2] applychain(fs::Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}, x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:36\n [3] (::Chain{Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:38\n [4] _broadcast_getindex_evalf\n   @ ./broadcast.jl:648 [inlined]\n [5] _broadcast_getindex\n   @ ./broadcast.jl:621 [inlined]\n [6] getindex\n   @ ./broadcast.jl:575 [inlined]\n [7] copy\n   @ ./broadcast.jl:922 [inlined]\n [8] materialize(bc::Base.Broadcast.Broadcasted{Base.Broadcast.DefaultArrayStyle{1}, Nothing, Chain{Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}}, Tuple{Vector{Vector{Float64}}}})\n   @ Base.Broadcast ./broadcast.jl:883\n [9] top-level scope\n   @ REPL[55]:1```\n","user":"U01CR62LAAD","ts":"1617539747.097800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q=7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Many examples in the documentation are not working for me. For instance\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> m = Chain(LSTM(10, 15), Dense(15, 5))\nChain(Recur(LSTMCell(10, 15)), Dense(15, 5))\n\njulia> seq = [rand(10) for i = 1:10];\n\njulia> m.(seq)\nERROR: MethodError: no method matching (::Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}})(::Tuple{Matrix{Float32}, Matrix{Float32}}, ::Vector{Float64})\nClosest candidates are:\n  (::Flux.LSTMCell{A, V, var\"#s262\"} where var\"#s262\"<:Tuple{AbstractMatrix{T}, AbstractMatrix{T}})(::Any, ::Union{AbstractVector{T}, AbstractMatrix{T}, Flux.OneHotArray}) where {A, V, T} at /Users/rrosa/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:137\nStacktrace:\n [1] (::Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/recurrent.jl:34\n [2] applychain(fs::Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}, x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:36\n [3] (::Chain{Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}})(x::Vector{Float64})\n   @ Flux ~/.julia/packages/Flux/qp1gc/src/layers/basic.jl:38\n [4] _broadcast_getindex_evalf\n   @ ./broadcast.jl:648 [inlined]\n [5] _broadcast_getindex\n   @ ./broadcast.jl:621 [inlined]\n [6] getindex\n   @ ./broadcast.jl:575 [inlined]\n [7] copy\n   @ ./broadcast.jl:922 [inlined]\n [8] materialize(bc::Base.Broadcast.Broadcasted{Base.Broadcast.DefaultArrayStyle{1}, Nothing, Chain{Tuple{Flux.Recur{Flux.LSTMCell{Matrix{Float32}, Vector{Float32}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Tuple{Matrix{Float32}, Matrix{Float32}}}, Dense{typeof(identity), Matrix{Float32}, Vector{Float32}}}}, Tuple{Vector{Vector{Float64}}}})\n   @ Base.Broadcast ./broadcast.jl:883\n [9] top-level scope\n   @ REPL[55]:1"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"d259fee8-1177-4c3d-a315-dbbe4345f1bc","type":"message","text":"Here is what I have:\n```julia&gt; versioninfo()\nJulia Version 1.6.0\nCommit f9720dc2eb (2021-03-24 12:55 UTC)\nPlatform Info:\n  OS: macOS (x86_64-apple-darwin19.6.0)\n  CPU: Intel(R) Core(TM) m5-6Y54 CPU @ 1.10GHz\n  WORD_SIZE: 64\n  LIBM: libopenlibm\n  LLVM: libLLVM-11.0.1 (ORCJIT, skylake)\nEnvironment:\n  JULIA_NUM_THREADS = 2\n\n(flux) pkg&gt; st\n      Status `~/Documents/git_repositories/julia/julia_random_stuff/flux/Project.toml`\n  [587475ba] Flux v0.12.1```","user":"U01CR62LAAD","ts":"1617539868.098000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+UJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is what I have:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> versioninfo()\nJulia Version 1.6.0\nCommit f9720dc2eb (2021-03-24 12:55 UTC)\nPlatform Info:\n  OS: macOS (x86_64-apple-darwin19.6.0)\n  CPU: Intel(R) Core(TM) m5-6Y54 CPU @ 1.10GHz\n  WORD_SIZE: 64\n  LIBM: libopenlibm\n  LLVM: libLLVM-11.0.1 (ORCJIT, skylake)\nEnvironment:\n  JULIA_NUM_THREADS = 2\n\n(flux) pkg> st\n      Status `~/Documents/git_repositories/julia/julia_random_stuff/flux/Project.toml`\n  [587475ba] Flux v0.12.1"}]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"6BDCD2CD-F968-4E8E-8A0A-91331A80B9B8","type":"message","text":"A recent change to the recurrent layers enforce that the eltype of the input and hidden state are the same. `rand(Float32, ...)` should work.","user":"UH9KWTTD3","ts":"1617542837.099500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zFPau","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A recent change to the recurrent layers enforce that the eltype of the input and hidden state are the same. "},{"type":"text","text":"rand(Float32, ...)","style":{"code":true}},{"type":"text","text":" should work."}]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"AC224A78-2C7E-46A3-BE8A-CE542BB38DE0","type":"message","text":"The docs need to be updated to reflect these changes","user":"UH9KWTTD3","ts":"1617543168.100100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9SRez","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The docs need to be updated to reflect these changes"}]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"fa4fb8fa-a7ed-49b8-986c-4b767525a67b","type":"message","text":"Oh, wonderful! Thanks a lot!","user":"U01CR62LAAD","ts":"1617543197.100300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KMe7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, wonderful! Thanks a lot!"}]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"07f451ac-e699-4dc0-868f-06bb9347d8a9","type":"message","text":"ChainPlot is back on track!","user":"U01CR62LAAD","ts":"1617543441.100500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ozmV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ChainPlot is back on track!"}]}]}],"thread_ts":"1617539205.097700","parent_user_id":"U01CR62LAAD","reactions":[{"name":"+1::skin-tone-5","users":["UH9KWTTD3"],"count":1},{"name":"sweat_smile","users":["UH9KWTTD3"],"count":1}]}]