[{"client_msg_id":"87708FE8-6D70-42DC-B232-79A8F7C620ED","type":"message","text":"Is there a plot recipe for Flux.Chain? I started to write one, that already works for Dense and RNN layers (the easy ones), but I would like to know whether there's one already or not.","user":"U01CR62LAAD","ts":"1615469643.027000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zA5P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a plot recipe for Flux.Chain? I started to write one, that already works for Dense and RNN layers (the easy ones), but I would like to know whether there's one already or not."}]}]}],"thread_ts":"1615469643.027000","reply_count":11,"reply_users_count":4,"latest_reply":"1616520751.023300","reply_users":["UH9KWTTD3","U01CR62LAAD","UD0NS8PDF","UN8HY6PS9"],"subscribed":false},{"client_msg_id":"d8ca9e9f-c6a2-458b-92ef-409ccaf12a60","type":"message","text":"No, but we’d appreciate the PR! <https://github.com/FluxML/Flux.jl/issues/1104>","user":"UH9KWTTD3","ts":"1615471513.027300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/bDZX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, but we’d appreciate the PR! "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/issues/1104"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"b5924b5a-f8af-44b3-9375-2fb0a17baace","type":"message","text":"Great! I was thinking of something more modest, but I can aim for something like that.","user":"U01CR62LAAD","ts":"1615473485.027500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cPa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great! I was thinking of something more modest, but I can aim for something like that."}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"462ac331-efe8-41fa-915b-67740f9ee5d8","type":"message","text":"Doesn’t have to be as “polished” as that. Probably more complex networks will benefit from a more simplified visual layout.","user":"UH9KWTTD3","ts":"1615474811.027700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3530","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn’t have to be as “polished” as that. Probably more complex networks will benefit from a more simplified visual layout."}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"eadde2c0-b177-4c1f-8cd1-d728f639b843","type":"message","text":"If you haven’t already, you might want to look into Functors.jl (specifically `fmap` or `fcollect`). It might help with walking over the model structure recursively.","user":"UH9KWTTD3","ts":"1615474925.027900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C1SPJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you haven’t already, you might want to look into Functors.jl (specifically "},{"type":"text","text":"fmap","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"fcollect","style":{"code":true}},{"type":"text","text":"). It might help with walking over the model structure recursively."}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"12936278-dbcd-4922-8df1-ae336f1218ae","type":"message","text":"You might also want to look at <https://github.com/FluxML/Flux.jl/pull/1467>, which walks the structure for pretty printing. The two could end up sharing code, or just ideas…","user":"UD0NS8PDF","ts":"1615475131.028100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0I6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You might also want to look at "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1467"},{"type":"text","text":", which walks the structure for pretty printing. The two could end up sharing code, or just ideas…"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD","reactions":[{"name":"+1::skin-tone-5","users":["UH9KWTTD3"],"count":1}]},{"client_msg_id":"7638a08a-29a5-4e22-b23b-5a4e7a18d803","type":"message","text":"Yeah, we can always start simple and grow from there.","user":"U01CR62LAAD","ts":"1615475229.028400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zSV6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, we can always start simple and grow from there."}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"6b3ea58a-5340-4d74-8b29-aa6d13674813","type":"message","text":"No, I didn’t look at Functors.jl before, but it might indeed help. I will look at the pull request for pretty print too. Thanks!","user":"U01CR62LAAD","ts":"1615475298.028600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fs49","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, I didn’t look at Functors.jl before, but it might indeed help. I will look at the pull request for pretty print too. Thanks!"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"type":"message","text":"So, just an update. Things are coming along very well. I learned how to properly define a plot recipe and have refactored my previous implementation. I made a github repository at <https://github.com/rmsrosa/ChainPlot.jl> with the current state of things, but, as I write it there, it is not my intention to make a package out of it. I understand it is more appropriate to make a PR to `Flux.jl` So far, I have implemented the recipe for Dense and (RNN and LSTR) Recurrent layers, as well as for Chains of such layers. Here is a little taste of it:","files":[{"id":"F01R18A4SQM","created":1615579319,"timestamp":1615579319,"name":"nnrl_gruvbox_light.png","title":"nnrl_gruvbox_light.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01CR62LAAD","editable":false,"size":70718,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01R18A4SQM/nnrl_gruvbox_light.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01R18A4SQM/download/nnrl_gruvbox_light.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01R18A4SQM-6fa2436df9/nnrl_gruvbox_light_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01R18A4SQM-6fa2436df9/nnrl_gruvbox_light_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01R18A4SQM-6fa2436df9/nnrl_gruvbox_light_360.png","thumb_360_w":360,"thumb_360_h":240,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01R18A4SQM-6fa2436df9/nnrl_gruvbox_light_480.png","thumb_480_w":480,"thumb_480_h":320,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01R18A4SQM-6fa2436df9/nnrl_gruvbox_light_160.png","original_w":600,"original_h":400,"thumb_tiny":"AwAgADC+FUjOBQVX0FKDxSHt0/Gsxi7V9KTavpRmgHApgG1f7tBVR2FA6k0E9On40gFA4pDxikDHp2oLH0oAXFAHFG40BjimAAcnilI9KbuOelBY+lAH/9k=","permalink":"https://julialang.slack.com/files/U01CR62LAAD/F01R18A4SQM/nnrl_gruvbox_light.png","permalink_public":"https://slack-files.com/T68168MUP-F01R18A4SQM-577861b992","is_starred":false,"has_rich_preview":false},{"id":"F01RAFSF7BN","created":1615579334,"timestamp":1615579334,"name":"nnrlwide.png","title":"nnrlwide.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01CR62LAAD","editable":false,"size":151598,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01RAFSF7BN/nnrlwide.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01RAFSF7BN/download/nnrlwide.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01RAFSF7BN-f11c7dac8c/nnrlwide_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01RAFSF7BN-f11c7dac8c/nnrlwide_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01RAFSF7BN-f11c7dac8c/nnrlwide_360.png","thumb_360_w":360,"thumb_360_h":240,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01RAFSF7BN-f11c7dac8c/nnrlwide_480.png","thumb_480_w":480,"thumb_480_h":320,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01RAFSF7BN-f11c7dac8c/nnrlwide_160.png","original_w":600,"original_h":400,"thumb_tiny":"AwAgADDSKg9QDRtX0FI0gU4NRyTYXKjpQBIwRRkgCkQo4yAKrFzIcmk3FDkUAXNq+goCgdAKrRzNyTzUqzb3CgUAPKKxyRTXhDLgHFSc5PHFISRjAzQBVaMx/SmhC54FXSMg5GaRBhRgY9qAIUtyM7jUixKrBhnNOBOTxxQTjHFAH//Z","permalink":"https://julialang.slack.com/files/U01CR62LAAD/F01RAFSF7BN/nnrlwide.png","permalink_public":"https://slack-files.com/T68168MUP-F01RAFSF7BN-0903fa49d2","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"B6K7z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So, just an update. Things are coming along very well. I learned how to properly define a plot recipe and have refactored my previous implementation. I made a github repository at "},{"type":"link","url":"https://github.com/rmsrosa/ChainPlot.jl"},{"type":"text","text":" with the current state of things, but, as I write it there, it is not my intention to make a package out of it. I understand it is more appropriate to make a PR to "},{"type":"text","text":"Flux.jl","style":{"code":true}},{"type":"text","text":" So far, I have implemented the recipe for Dense and (RNN and LSTR) Recurrent layers, as well as for Chains of such layers. Here is a little taste of it:"}]}]}],"user":"U01CR62LAAD","ts":"1615579397.031200","thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD","reactions":[{"name":"tada","users":["UH9KWTTD3","UD0NS8PDF"],"count":2},{"name":"heart","users":["UH9KWTTD3"],"count":1}]},{"client_msg_id":"7E15D306-4FBE-498D-AD93-D17EFB77DF0A","type":"message","text":"That looks fantastic!","user":"UH9KWTTD3","ts":"1615579503.032200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j55","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That looks fantastic!"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD","reactions":[{"name":"juliaspinner","users":["U01CR62LAAD"],"count":1}]},{"client_msg_id":"f26e15e3-31ed-427d-8b95-989256a39b7d","type":"message","text":"Plotting them is as easy as `plot(Chain(...))` , for instance, for the first one\n```julia&gt; nnrl = Chain(Dense(2,5,σ),RNN(5,4,relu), LSTM(4,4), Dense(4,3))\nChain(Dense(2, 5, σ), Recur(RNNCell(5, 4, relu)), Recur(LSTMCell(4, 4)), Dense(4, 3))\n\njulia&gt; plot(nnrl, title=\"$nnrl\", titlefontsize=8)```","user":"U01CR62LAAD","ts":"1615579507.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8eUUi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Plotting them is as easy as "},{"type":"text","text":"plot(Chain(...))","style":{"code":true}},{"type":"text","text":" , for instance, for the first one\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> nnrl = Chain(Dense(2,5,σ),RNN(5,4,relu), LSTM(4,4), Dense(4,3))\nChain(Dense(2, 5, σ), Recur(RNNCell(5, 4, relu)), Recur(LSTMCell(4, 4)), Dense(4, 3))\n\njulia> plot(nnrl, title=\"$nnrl\", titlefontsize=8)"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"54458945-a7d2-4d28-a8d2-cf4b69dd3e12","type":"message","text":"A semi-related thing I’ve been thinking about trying to build is a way to visualize weight matrices, something sort of like this: <https://github.com/jessevig/bertviz>\n\nSo far nothing more than an idle idea; if at some point I want/need it to accompany a paper I may actually kick my ass into gear to do it, but just thought I’d throw the idea out there","user":"UN8HY6PS9","ts":"1616520751.023300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vRl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A semi-related thing I’ve been thinking about trying to build is a way to visualize weight matrices, something sort of like this: "},{"type":"link","url":"https://github.com/jessevig/bertviz"},{"type":"text","text":"\n\nSo far nothing more than an idle idea; if at some point I want/need it to accompany a paper I may actually kick my ass into gear to do it, but just thought I’d throw the idea out there"}]}]}],"thread_ts":"1615469643.027000","parent_user_id":"U01CR62LAAD"}]