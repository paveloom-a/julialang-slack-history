[{"client_msg_id":"f292845c-8ed0-417e-bd9d-cc949d87dc52","type":"message","text":"Hi everyone,\nI have a question for my neural ODE which is :\n```\nfunction dudt2(u,p,t)\n  FastChain(\n        (u,p) -&gt; ifelse(t &lt;= tc, c_int , 0) .- u,\n            FastDense(1, 2, tanh),\n        FastDense(2, 1))\nend\n\n\nfunction neural_ode_f(u,p,t)\n  FastChain((u,p) -&gt; ifelse(t &lt;= tc,c_int , 0) .- u,\n        FastDense(1, 2, tanh),\n        FastDense(2, 1))(u,p)\nend\n\npinit = initial_params(dudt2(u0,p_start,tbegin))\nprob = ODEProblem(neural_ode_f, u0, tspan, pinit)```\n\nDo you think that it understand the parameters p to learn ? Like this ODE \n```\nfunction odeTK(du, u, p,t)\n    if t &lt;= tc\n        du[1] = p[1]*c_int - p[2]u[1]\n    else t &gt; tc\n        du[1] = -p[2]*(u[1])\n    end\nend```\nAnd I’m not sure that it understand the if condition, because the result as the same when I only use\n\n```\nfunction dudt2(u,p,t)\n  FastChain(\n        (u,p) -&gt; c_int .- u,\n            FastDense(1, 2, tanh),\n        FastDense(2, 1))\nend\n\n\nfunction neural_ode_f(u,p,t)\n  FastChain((u,p) -&gt; c_int .- u,\n        FastDense(1, 2, tanh),\n        FastDense(2, 1))(u,p)\nend\n\npinit = initial_params(dudt2(u0,p_start,tbegin))\nprob = ODEProblem(neural_ode_f, u0, tspan, pinit)```\nThank you for your help :smile:","user":"U01NRTNRCDV","ts":"1615201820.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KI2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi everyone,\nI have a question for my neural ODE which is :\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nfunction dudt2(u,p,t)\n  FastChain(\n        (u,p) -> ifelse(t <= tc, c_int , 0) .- u,\n            FastDense(1, 2, tanh),\n        FastDense(2, 1))\nend\n\n\nfunction neural_ode_f(u,p,t)\n  FastChain((u,p) -> ifelse(t <= tc,c_int , 0) .- u,\n        FastDense(1, 2, tanh),\n        FastDense(2, 1))(u,p)\nend\n\npinit = initial_params(dudt2(u0,p_start,tbegin))\nprob = ODEProblem(neural_ode_f, u0, tspan, pinit)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n\nDo you think that it understand the parameters p to learn ? Like this ODE \n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nfunction odeTK(du, u, p,t)\n    if t <= tc\n        du[1] = p[1]*c_int - p[2]u[1]\n    else t > tc\n        du[1] = -p[2]*(u[1])\n    end\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd I’m not sure that it understand the if condition, because the result as the same when I only use\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nfunction dudt2(u,p,t)\n  FastChain(\n        (u,p) -> c_int .- u,\n            FastDense(1, 2, tanh),\n        FastDense(2, 1))\nend\n\n\nfunction neural_ode_f(u,p,t)\n  FastChain((u,p) -> c_int .- u,\n        FastDense(1, 2, tanh),\n        FastDense(2, 1))(u,p)\nend\n\npinit = initial_params(dudt2(u0,p_start,tbegin))\nprob = ODEProblem(neural_ode_f, u0, tspan, pinit)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you for your help "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1615201820.003600","reply_count":1,"reply_users_count":1,"latest_reply":"1615202403.003700","reply_users":["UNG2XJJP3"],"subscribed":false},{"client_msg_id":"e69fd889-ddad-48fd-85d1-807da1d3075c","type":"message","text":"Does your loss get decreased? The ifelse func is just a deterministic pre-conditioning and no NN parameters get trained there. I see no reason why it doesn’t understand.","user":"UNG2XJJP3","ts":"1615202403.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Swlss","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does your loss get decreased? The ifelse func is just a deterministic pre-conditioning and no NN parameters get trained there. I see no reason why it doesn’t understand."}]}]}],"thread_ts":"1615201820.003600","parent_user_id":"U01NRTNRCDV"}]