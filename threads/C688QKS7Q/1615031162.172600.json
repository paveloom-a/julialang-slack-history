[{"client_msg_id":"1c40d5aa-95c2-496f-be7f-46ae11981ee0","type":"message","text":"Is this issue already filed somewhere ?\n```julia&gt; let \n           if false\n               fff() = nothing\n           else\n               fff() = nothing\n           end\n       end\nERROR: UndefVarError: #fff#9 not defined\nStacktrace:\n [1] top-level scope\n   @ none:5```","user":"UH1BLK14H","ts":"1615031162.172600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WaMvx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this issue already filed somewhere ?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> let \n           if false\n               fff() = nothing\n           else\n               fff() = nothing\n           end\n       end\nERROR: UndefVarError: #fff#9 not defined\nStacktrace:\n [1] top-level scope\n   @ none:5"}]}]}],"thread_ts":"1615031162.172600","reply_count":3,"reply_users_count":2,"latest_reply":"1615031629.173100","reply_users":["UH1BLK14H","UM30MT6RF"],"subscribed":false},{"client_msg_id":"1b9b4a53-3afa-4ba0-80fe-afcba9dd4df5","type":"message","text":"Issue with lowering, AFAICT:\n```julia&gt; Meta.@lower let \n           if false\n               fff() = nothing\n           else\n               fff() = nothing\n           end\n       end\n:($(Expr(:thunk, CodeInfo(\n    @ none within `top-level scope'\n1 ─       Core.NewvarNode(:(fff))\n│   @ none:2 within `top-level scope'\n└──       goto #3 if not false\n    @ none:3 within `top-level scope'\n2 ─       $(Expr(:thunk, CodeInfo(\n    @ none within `top-level scope'\n1 ─      global var\"#fff#10\"\n│        const var\"#fff#10\"\n│   %3 = Core._structtype(Main, Symbol(\"#fff#10\"), Core.svec(), Core.svec(), false, 0)\n│        var\"#fff#10\" = %3\n│        Core._setsuper!(var\"#fff#10\", Core.Function)\n│        Core._typebody!(var\"#fff#10\", Core.svec())\n└──      return nothing\n)))\n│   %4  = Core.svec(var\"#fff#10\")\n│   %5  = Core.svec()\n│   %6  = Core.svec(%4, %5, $(QuoteNode(:(#= none:3 =#))))\n│         $(Expr(:method, false, :(%6), CodeInfo(\n    @ none:3 within `none'\n1 ─     return nothing\n)))\n│         fff = %new(var\"#fff#10\")\n└──       return fff\n    @ none:5 within `top-level scope'\n3 ─ %10 = Core.svec(var\"#fff#10\")\n│   %11 = Core.svec()\n│   %12 = Core.svec(%10, %11, $(QuoteNode(:(#= none:5 =#))))\n│         $(Expr(:method, false, :(%12), CodeInfo(\n    @ none:5 within `none'\n1 ─     return nothing\n)))\n└──       return fff\n))))```","user":"UH1BLK14H","ts":"1615031181.172700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XzNRV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Issue with lowering, AFAICT:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Meta.@lower let \n           if false\n               fff() = nothing\n           else\n               fff() = nothing\n           end\n       end\n:($(Expr(:thunk, CodeInfo(\n    @ none within `top-level scope'\n1 ─       Core.NewvarNode(:(fff))\n│   @ none:2 within `top-level scope'\n└──       goto #3 if not false\n    @ none:3 within `top-level scope'\n2 ─       $(Expr(:thunk, CodeInfo(\n    @ none within `top-level scope'\n1 ─      global var\"#fff#10\"\n│        const var\"#fff#10\"\n│   %3 = Core._structtype(Main, Symbol(\"#fff#10\"), Core.svec(), Core.svec(), false, 0)\n│        var\"#fff#10\" = %3\n│        Core._setsuper!(var\"#fff#10\", Core.Function)\n│        Core._typebody!(var\"#fff#10\", Core.svec())\n└──      return nothing\n)))\n│   %4  = Core.svec(var\"#fff#10\")\n│   %5  = Core.svec()\n│   %6  = Core.svec(%4, %5, $(QuoteNode(:(#= none:3 =#))))\n│         $(Expr(:method, false, :(%6), CodeInfo(\n    @ none:3 within `none'\n1 ─     return nothing\n)))\n│         fff = %new(var\"#fff#10\")\n└──       return fff\n    @ none:5 within `top-level scope'\n3 ─ %10 = Core.svec(var\"#fff#10\")\n│   %11 = Core.svec()\n│   %12 = Core.svec(%10, %11, $(QuoteNode(:(#= none:5 =#))))\n│         $(Expr(:method, false, :(%12), CodeInfo(\n    @ none:5 within `none'\n1 ─     return nothing\n)))\n└──       return fff\n))))"}]}]}],"thread_ts":"1615031162.172600","parent_user_id":"UH1BLK14H"},{"client_msg_id":"ff73315a-e441-429c-892d-6584d4b2b604","type":"message","text":"Yep, see <https://github.com/JuliaLang/julia/issues/30417|https://github.com/JuliaLang/julia/issues/30417> and relatedly <https://github.com/JuliaLang/julia/issues/15602|https://github.com/JuliaLang/julia/issues/15602>","user":"UM30MT6RF","ts":"1615031601.172900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q5NJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, see "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/30417","text":"https://github.com/JuliaLang/julia/issues/30417"},{"type":"text","text":" and relatedly "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/15602","text":"https://github.com/JuliaLang/julia/issues/15602"}]}]}],"thread_ts":"1615031162.172600","parent_user_id":"UH1BLK14H"},{"client_msg_id":"7b81ad81-1906-4111-ae6b-dd0f81bb387b","type":"message","text":"Thanks !","user":"UH1BLK14H","ts":"1615031629.173100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iB2Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks !"}]}]}],"thread_ts":"1615031162.172600","parent_user_id":"UH1BLK14H"}]