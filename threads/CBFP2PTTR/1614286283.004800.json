[{"client_msg_id":"d8af87b9-c373-4514-867a-568437e96a26","type":"message","text":"can you add a show to `obj.type_`?","user":"U67BJLYCS","ts":"1614286283.004800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sHV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you add a show to "},{"type":"text","text":"obj.type_","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1614286283.004800","reply_count":19,"reply_users_count":2,"latest_reply":"1614287819.008500","reply_users":["U81PB6N77","U67BJLYCS"],"subscribed":false},{"client_msg_id":"2c575f1d-4bb3-48dd-9b56-bcb10960a208","type":"message","text":"You mean in `load`, right? I get\n```julia&gt; topology = Hwloc.topology_load()\nobj.type_ = 0\nobj.type_ = 1\nobj.type_ = 19```","user":"U81PB6N77","ts":"1614287188.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N1p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean in "},{"type":"text","text":"load","style":{"code":true}},{"type":"text","text":", right? I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> topology = Hwloc.topology_load()\nobj.type_ = 0\nobj.type_ = 1\nobj.type_ = 19"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"b9b174bd-884e-4ae2-89aa-51857ff6d714","type":"message","text":"And adding another `@show` gives\n```julia&gt; topology = Hwloc.topology_load()\nobj.type_ = 0\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nobj.type_ = 1\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nobj.type_ = 19\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nERROR: AssertionError: obj.type_ &gt;= 0 &amp;&amp; obj.type_ &lt; length(obj_types)\nStacktrace:\n [1] load(hobj::Ptr{Hwloc.hwloc_obj_v2})\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:357\n [2] load(hobj::Ptr{Hwloc.hwloc_obj_v2})\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:378\n [3] topology_load()\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:342\n [4] top-level scope\n   @ REPL[1]:1```","user":"U81PB6N77","ts":"1614287257.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Yr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And adding another "},{"type":"text","text":"@show","style":{"code":true}},{"type":"text","text":" gives\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> topology = Hwloc.topology_load()\nobj.type_ = 0\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nobj.type_ = 1\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nobj.type_ = 19\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]\nERROR: AssertionError: obj.type_ >= 0 && obj.type_ < length(obj_types)\nStacktrace:\n [1] load(hobj::Ptr{Hwloc.hwloc_obj_v2})\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:357\n [2] load(hobj::Ptr{Hwloc.hwloc_obj_v2})\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:378\n [3] topology_load()\n   @ Hwloc ~/git/Hwloc.jl/src/Hwloc.jl:342\n [4] top-level scope\n   @ REPL[1]:1"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"3c2d7d79-370d-4552-b5c2-6ee1e568b1b1","type":"message","text":"I'll add this to the issue","user":"U81PB6N77","ts":"1614287334.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nq8R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll add this to the issue"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"1d114752-8884-47c0-94f4-adb121448ba0","type":"message","text":"Is it maybe a zero-based counting problem?","user":"U81PB6N77","ts":"1614287475.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yRz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it maybe a zero-based counting problem?"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"8c8311d8-ca9d-4151-a519-414289ea8d54","type":"message","text":"right so","user":"U67BJLYCS","ts":"1614287571.005700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hju","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right so"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"daea3f31-cb93-4ff4-b5a9-fbb46ab305e3","type":"message","text":"```obj.type_ = 19\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]```","user":"U67BJLYCS","ts":"1614287580.005900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S1zpD","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"obj.type_ = 19\nobj_types = [:Machine, :Package, :Core, :PU, :L1Cache, :L2Cache, :L3Cache, :L4Cache, :L5Cache, :I1Cache, :I2Cache, :I3Cache, :Group, :NUMANode, :Bridge, :PCI_Device, :OS_Device, :Misc, :Error]"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"f47c25a5-cea7-42b8-9563-2d5d86033c05","type":"message","text":"yep","user":"U81PB6N77","ts":"1614287597.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DgpS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"9dcefacc-4354-4082-8315-57c41d890372","type":"message","text":"if I didn't miscount `lenght(objtypes) == 19`","user":"U67BJLYCS","ts":"1614287602.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o7KyG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if I didn't miscount "},{"type":"text","text":"lenght(objtypes) == 19","style":{"code":true}}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"3f534f26-35c3-48c1-a3a2-975ef227b307","type":"message","text":"yes","user":"U81PB6N77","ts":"1614287606.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"al2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"a2f8b8ff-1038-46a1-9bac-77685ef247a9","type":"message","text":"But it's funny that `obj_type_` starts a zero","user":"U81PB6N77","ts":"1614287622.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vNY9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But it's funny that "},{"type":"text","text":"obj_type_","style":{"code":true}},{"type":"text","text":" starts a zero"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"b834730a-0a54-4081-8f82-a5e644bc9371","type":"message","text":"nah","user":"U67BJLYCS","ts":"1614287637.006900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FjzN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nah"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"99235c51-873f-45a5-bafd-af64831a9371","type":"message","text":"it's coming from C","user":"U67BJLYCS","ts":"1614287642.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QuSQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's coming from C"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"4f932307-ca47-46c8-a1c2-693e15924242","type":"message","text":"The problem is","user":"U67BJLYCS","ts":"1614287646.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8pg8k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The problem is"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"e4fdf867-adf7-4ad3-96e4-96fcb2962b59","type":"message","text":"<https://github.com/JuliaParallel/Hwloc.jl/blob/0d7c50ab3054a5a4d02cb4e9d0647a84574ddf4c/src/Hwloc.jl#L35-L44>","user":"U67BJLYCS","ts":"1614287647.007500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sA66","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaParallel/Hwloc.jl/blob/0d7c50ab3054a5a4d02cb4e9d0647a84574ddf4c/src/Hwloc.jl#L35-L44"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"65056541-3f09-4027-849a-8eeee56bba4a","type":"message","text":"explicitly encodes the set of known types","user":"U67BJLYCS","ts":"1614287664.007700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5JxW+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"explicitly encodes the set of known types"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"f624ade3-909c-48c8-9a36-b4e8a1247c9a","type":"message","text":"so what is Hwloc.get_api_version()","user":"U67BJLYCS","ts":"1614287677.007900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tq6e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so what is Hwloc.get_api_version()"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"f09fb179-e60d-4467-b3ea-ae97572bdd7a","type":"message","text":"```julia&gt; Hwloc.get_api_version()\nv\"2.1.0\"```","user":"U81PB6N77","ts":"1614287696.008100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"goFT2","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Hwloc.get_api_version()\nv\"2.1.0\""}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"eeeea0b1-f409-499b-8d2b-67e85b3fde2c","type":"message","text":"yeah that list is wrong","user":"U67BJLYCS","ts":"1614287780.008300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bzz1v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that list is wrong"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"},{"client_msg_id":"7aa62bc3-373c-412d-b82f-f803bfb28960","type":"message","text":"<https://github.com/open-mpi/hwloc/blob/9298b7769f936be35b0233f1f6e301d5dcde0026/include/hwloc.h#L176-L323>","user":"U67BJLYCS","ts":"1614287819.008500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Aafkc","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/open-mpi/hwloc/blob/9298b7769f936be35b0233f1f6e301d5dcde0026/include/hwloc.h#L176-L323"}]}]}],"thread_ts":"1614286283.004800","parent_user_id":"U67BJLYCS"}]