[{"client_msg_id":"d8ba4749-0426-4c93-99fd-0aed5bbed4d8","type":"message","text":"Often I want to essentially dispatch a function on whether its defined a method.  It seems both forbidden but also within reach.  Is there anyway to achieve the following without (naughty abuse of) generated functions and in a way which type-infers?\n\n```using Test\nstruct MyTypeA end\n\nstruct Has end\nstruct NotHas end\n\ndispatchfunc(f) = hasmethod(f, Tuple{MyTypeA}) ? Has() : NotHas()\n\na(x::MyTypeA) = 1\nb(x::Int) = 1\n\n@test dispatchfunc(a) == Has()\n@test dispatchfunc(b) == NotHas()```","user":"U66G4838Q","ts":"1614868300.004600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SSNgX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Often I want to essentially dispatch a function on whether its defined a method.  It seems both forbidden but also within reach.  Is there anyway to achieve the following without (naughty abuse of) generated functions and in a way which type-infers?\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Test\nstruct MyTypeA end\n\nstruct Has end\nstruct NotHas end\n\ndispatchfunc(f) = hasmethod(f, Tuple{MyTypeA}) ? Has() : NotHas()\n\na(x::MyTypeA) = 1\nb(x::Int) = 1\n\n@test dispatchfunc(a) == Has()\n@test dispatchfunc(b) == NotHas()"}]}]}],"thread_ts":"1614868300.004600","reply_count":10,"reply_users_count":4,"latest_reply":"1614880607.010500","reply_users":["UDGT4PM41","U6A936746","U66G4838Q","U8D9768Q6"],"subscribed":false},{"client_msg_id":"53671b00-2673-4660-9222-ab902dea818b","type":"message","text":"Is this.m a job for tricks.jl, <@U6A936746>?","user":"UDGT4PM41","ts":"1614870552.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EpgBw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this.m a job for tricks.jl, "},{"type":"user","user_id":"U6A936746"},{"type":"text","text":"?"}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"2d3cf33a-d294-4c2e-9561-9c16bf9f0e55","type":"message","text":"yes","user":"U6A936746","ts":"1614870574.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WTR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"7c81f9e3-d568-4bc2-984e-89b496304e64","type":"message","text":"oh nice","user":"U66G4838Q","ts":"1614872808.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e//","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh nice"}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"b51e35ff-8c10-4a06-b296-e4797dd463b2","type":"message","text":"Is this robust?","user":"U66G4838Q","ts":"1614872882.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fGkXH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this robust?"}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"a359a220-1c3b-478d-9c92-0c734f30d343","type":"message","text":"well experimental suggests otherwise but..","user":"U66G4838Q","ts":"1614872894.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fW+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well experimental suggests otherwise but.."}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"bbcade4a-eddb-48e6-b84e-faff44cf9066","type":"message","text":"It’s very evil. *Very* evil.\nbut I have tried moderately  hard to trick it a few times. I have never seen it break.\n\nIIRC <@U8D9768Q6> saw it break on julia nightly once but it was fixed before the release candidate.","user":"U6A936746","ts":"1614873183.005700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tcr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s very evil. "},{"type":"text","text":"Very","style":{"bold":true}},{"type":"text","text":" evil.\nbut I have tried moderately  hard to trick it a few times. I have never seen it break.\n\nIIRC "},{"type":"user","user_id":"U8D9768Q6"},{"type":"text","text":" saw it break on julia nightly once but it was fixed before the release candidate."}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"796D6338-63C4-471E-8EF2-4C216533D8A9","type":"message","text":"I never saw `static_hasmethod` break, only `static_methods` fwiw","user":"U8D9768Q6","ts":"1614874614.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+=h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I never saw "},{"type":"text","text":"static_hasmethod","style":{"code":true}},{"type":"text","text":" break, only "},{"type":"text","text":"static_methods","style":{"code":true}},{"type":"text","text":" fwiw"}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q","reactions":[{"name":"ok_hand","users":["U6A936746","UKG4WF8PJ"],"count":2}]},{"client_msg_id":"ACC7B1B5-89FC-4416-9304-548E5C6475B8","type":"message","text":"I think this is a rather robust thing. I also tried pretty hard to observe it breaking and couldn’t. \n\nIf you’re using it in the presence of a lot of redefinitions, I’d certainly run tests to make sure it’s updating properly, but yeah. ","user":"U8D9768Q6","ts":"1614874775.010000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6H3=B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this is a rather robust thing. I also tried pretty hard to observe it breaking and couldn’t. \n\nIf you’re using it in the presence of a lot of redefinitions, I’d certainly run tests to make sure it’s updating properly, but yeah. "}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"5c897cc4-c605-4364-8078-88cac14304b5","type":"message","text":"When we are allowed to meet in person again, I am going to convince <@U67BXBF99> at a JuliaCon to show me how to do this properly with `tfunc` s,\nand then have a 6 month arguement about merging said `tfunc` based method  into julia itself.","user":"U6A936746","ts":"1614875068.010200","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1614875078.000000"},"blocks":[{"type":"rich_text","block_id":"pE7C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When we are allowed to meet in person again, I am going to convince "},{"type":"user","user_id":"U67BXBF99"},{"type":"text","text":" at a JuliaCon to show me how to do this properly with "},{"type":"text","text":"tfunc","style":{"code":true}},{"type":"text","text":" s,\nand then have a 6 month arguement about merging said `tfunc` based method  into julia itself."}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"},{"client_msg_id":"01595f83-0728-47dc-b250-a311577f8320","type":"message","text":"I have removed the word experimental from the readme.","user":"U6A936746","ts":"1614880607.010500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CWk1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have removed the word experimental from the readme."}]}]}],"thread_ts":"1614868300.004600","parent_user_id":"U66G4838Q"}]