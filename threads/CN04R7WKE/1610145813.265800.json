[{"client_msg_id":"72fe2216-0fd8-425b-873f-acba66c54adf","type":"message","text":"I get a `MethodError: no method matching typemax(::Type{Array{Float64,1}})` when trying to use `DiffEqFlux.sciml_train(...)` on an ODE problem originating from a discretized PDE. The error is from `/home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91` where it seems like my kode produces a `prob.u0` that's an `Array{Float,1}` but should be a number type. Do anyone have experience with this kind of error? (Stacktrace in the comments)","user":"U016VPPCQA1","ts":"1610145813.265800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fkv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I get a "},{"type":"text","text":"MethodError: no method matching typemax(::Type{Array{Float64,1}})","style":{"code":true}},{"type":"text","text":" when trying to use "},{"type":"text","text":"DiffEqFlux.sciml_train(...)","style":{"code":true}},{"type":"text","text":" on an ODE problem originating from a discretized PDE. The error is from "},{"type":"text","text":"/home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91","style":{"code":true}},{"type":"text","text":" where it seems like my kode produces a "},{"type":"text","text":"prob.u0","style":{"code":true}},{"type":"text","text":" that's an "},{"type":"text","text":"Array{Float,1}","style":{"code":true}},{"type":"text","text":" but should be a number type. Do anyone have experience with this kind of error? (Stacktrace in the comments)"}]}]}],"thread_ts":"1610145813.265800","reply_count":1,"reply_users_count":1,"latest_reply":"1610145843.265900","reply_users":["U016VPPCQA1"],"subscribed":false},{"client_msg_id":"11f0d0a0-2b9e-4652-9556-9f182dcbea7f","type":"message","text":"`ERROR: LoadError: MethodError: no method matching typemax(::Type{Array{Float64,1}})`\n`Closest candidates are:`\n  `typemax(::Type{CUDA.CUDNN.cudnnDeterminism_t}) at /home/simen/.julia/packages/CEnum/NEZgK/src/CEnum.jl:134`\n  `typemax(::Type{Int64}) at int.jl:726`\n  `typemax(::Type{Sundials.SUNLinearSolver_ID}) at /home/simen/.julia/packages/CEnum/NEZgK/src/CEnum.jl:134`\n  `...`\n`Stacktrace:`\n `[1] __solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Array{Float64,1},1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}}, ::ADAM, ::Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}; cb::Function, maxiters::Int64, progress::Bool, save_best::Bool, kwargs::Base.Iterators.Pairs{Symbol,Bool,Tuple{Symbol},NamedTuple{(:allow_f_increases,),Tuple{Bool}}}) at /home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91`\n `[2] solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Array{Float64,1},1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}}, ::ADAM; kwargs::Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}) at /home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:11`\n `[3] sciml_train(::typeof(loss), ::Array{Array{Float64,1},1}, ::ADAM, ::GalacticOptim.AutoZygote; kwargs::Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}) at /home/simen/.julia/packages/DiffEqFlux/t9iIc/src/train.jl:5`\n `[4] top-level scope at /home/simen/Documents/school/masteroppgave/wave_simulation/src/1D_optimization_testing.jl:95`\n `[5] include_string(::Function, ::Module, ::String, ::String) at ./loading.jl:1088`\n `[6] include_string(::Module, ::String, ::String) at ./loading.jl:1096`\n `[7] invokelatest(::Any, ::Any, ::Vararg{Any,N} where N; kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at ./essentials.jl:710`\n `[8] invokelatest(::Any, ::Any, ::Vararg{Any,N} where N) at ./essentials.jl:709`\n `[9] inlineeval(::Module, ::String, ::Int64, ::Int64, ::String; softscope::Bool) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:185`\n `[10] (::VSCodeServer.var\"#61#65\"{String,Int64,Int64,String,Module,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:144`\n `[11] withpath(::VSCodeServer.var\"#61#65\"{String,Int64,Int64,String,Module,Bool,VSCodeServer.ReplRunCodeRequestParams}, ::String) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/repl.jl:124`\n `[12] (::VSCodeServer.var\"#60#64\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:142`\n `[13] hideprompt(::VSCodeServer.var\"#60#64\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams}) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/repl.jl:36`\n `[14] (::VSCodeServer.var\"#59#63\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:110`\n `[15] with_logstate(::Function, ::Any) at ./logging.jl:408`\n `[16] with_logger at ./logging.jl:514 [inlined]`\n `[17] (::VSCodeServer.var\"#58#62\"{VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:109`\n `[18] #invokelatest#1 at ./essentials.jl:710 [inlined]`\n `[19] invokelatest(::Any) at ./essentials.jl:709`\n `[20] macro expansion at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:27 [inlined]`\n `[21] (::VSCodeServer.var\"#56#57\")() at ./task.jl:356`\n`in expression starting at /home/simen/Documents/school/masteroppgave/wave_simulation/src/1D_optimization_testing.jl:95`","user":"U016VPPCQA1","ts":"1610145843.265900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9zM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ERROR: LoadError: MethodError: no method matching typemax(::Type{Array{Float64,1}})","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Closest candidates are:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  typemax(::Type{CUDA.CUDNN.cudnnDeterminism_t}) at /home/simen/.julia/packages/CEnum/NEZgK/src/CEnum.jl:134","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  typemax(::Type{Int64}) at int.jl:726","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  typemax(::Type{Sundials.SUNLinearSolver_ID}) at /home/simen/.julia/packages/CEnum/NEZgK/src/CEnum.jl:134","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"  ...","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Stacktrace:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [1] __solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Array{Float64,1},1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}}, ::ADAM, ::Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}; cb::Function, maxiters::Int64, progress::Bool, save_best::Bool, kwargs::Base.Iterators.Pairs{Symbol,Bool,Tuple{Symbol},NamedTuple{(:allow_f_increases,),Tuple{Bool}}}) at /home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [2] solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Array{Float64,1},1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}}, ::ADAM; kwargs::Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}) at /home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:11","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [3] sciml_train(::typeof(loss), ::Array{Array{Float64,1},1}, ::ADAM, ::GalacticOptim.AutoZygote; kwargs::Base.Iterators.Pairs{Symbol,Any,Tuple{Symbol,Symbol,Symbol},NamedTuple{(:cb, :maxiters, :allow_f_increases),Tuple{var\"#5#6\",Int64,Bool}}}) at /home/simen/.julia/packages/DiffEqFlux/t9iIc/src/train.jl:5","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [4] top-level scope at /home/simen/Documents/school/masteroppgave/wave_simulation/src/1D_optimization_testing.jl:95","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [5] include_string(::Function, ::Module, ::String, ::String) at ./loading.jl:1088","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [6] include_string(::Module, ::String, ::String) at ./loading.jl:1096","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [7] invokelatest(::Any, ::Any, ::Vararg{Any,N} where N; kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at ./essentials.jl:710","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [8] invokelatest(::Any, ::Any, ::Vararg{Any,N} where N) at ./essentials.jl:709","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [9] inlineeval(::Module, ::String, ::Int64, ::Int64, ::String; softscope::Bool) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:185","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [10] (::VSCodeServer.var\"#61#65\"{String,Int64,Int64,String,Module,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:144","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [11] withpath(::VSCodeServer.var\"#61#65\"{String,Int64,Int64,String,Module,Bool,VSCodeServer.ReplRunCodeRequestParams}, ::String) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/repl.jl:124","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [12] (::VSCodeServer.var\"#60#64\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:142","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [13] hideprompt(::VSCodeServer.var\"#60#64\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams}) at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/repl.jl:36","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [14] (::VSCodeServer.var\"#59#63\"{String,Int64,Int64,String,Module,Bool,Bool,VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:110","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [15] with_logstate(::Function, ::Any) at ./logging.jl:408","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [16] with_logger at ./logging.jl:514 [inlined]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [17] (::VSCodeServer.var\"#58#62\"{VSCodeServer.ReplRunCodeRequestParams})() at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:109","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [18] #invokelatest#1 at ./essentials.jl:710 [inlined]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [19] invokelatest(::Any) at ./essentials.jl:709","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [20] macro expansion at /home/simen/.vscode/extensions/julialang.language-julia-1.0.10/scripts/packages/VSCodeServer/src/eval.jl:27 [inlined]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [21] (::VSCodeServer.var\"#56#57\")() at ./task.jl:356","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"in expression starting at /home/simen/Documents/school/masteroppgave/wave_simulation/src/1D_optimization_testing.jl:95","style":{"code":true}}]}]}],"thread_ts":"1610145813.265800","parent_user_id":"U016VPPCQA1"}]