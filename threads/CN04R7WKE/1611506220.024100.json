[{"client_msg_id":"18d8d700-7859-43a3-9d5e-b96ef8bcf9cc","type":"message","text":"I'm looking at the Juliacon 2020 SciML talk and I'm having trouble reproducing it. At this part <https://youtu.be/QwVO0Xh2Hbg?t=8185> Chris solves it with BFGS(). The similar example in the Docs uses ADAM. <https://diffeqflux.sciml.ai/stable/examples/optimization_ode/#Copy-Paste-Code-1> . When I run this example with ADAM, I get success, but not a particularly good answer. When I run it with BFGS, it crashes with a dimension mismatch error in the loss function.","user":"U01724Q3PGW","ts":"1611506220.024100","team":"T68168MUP","edited":{"user":"U01724Q3PGW","ts":"1611506458.000000"},"blocks":[{"type":"rich_text","block_id":"4LWB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm looking at the Juliacon 2020 SciML talk and I'm having trouble reproducing it. At this part "},{"type":"link","url":"https://youtu.be/QwVO0Xh2Hbg?t=8185"},{"type":"text","text":" Chris solves it with BFGS(). The similar example in the Docs uses ADAM. "},{"type":"link","url":"https://diffeqflux.sciml.ai/stable/examples/optimization_ode/#Copy-Paste-Code-1"},{"type":"text","text":" . When I run this example with ADAM, I get success, but not a particularly good answer. When I run it with BFGS, it crashes with a dimension mismatch error in the loss function."}]}]}],"thread_ts":"1611506220.024100","reply_count":35,"reply_users_count":3,"latest_reply":"1611531129.044200","reply_users":["U01724Q3PGW","U9MD78Z9N","U69BL50BF"],"subscribed":false},{"client_msg_id":"e9a7dc14-a70d-4a25-9060-47af7d344810","type":"message","text":"MWE\n```using DifferentialEquations, Plots, Sundials\n\nfunction latka_volterra!(du,u,p,t)\n    rab, wolf = u\n    α, β, γ, δ = p\n    du[1] = d_rab = α * rab - β * rab * wolf\n    du[2] = d_wolf = γ * rab * wolf - δ * wolf\nend\n\nu₀ = [1.0,1.0]\ntspan = (0.00, 10.0)\np = [1.5,1.0,3.0,2.0]\n\nprob = ODEProblem(latka_volterra!, u₀, tspan, p)\nsol = solve(prob, saveat=0.1)\nplot(sol)\n\ndataset = Array(sol)\nscatter!(sol.t, dataset')\n\ntmp_prob = remake(prob, p=[1.2,0.8,2.5,0.8])\ntmp_sol = solve(tmp_prob)\nplot(tmp_sol)\nscatter!(sol.t, dataset')\n\nfunction loss(po)\n    tmp_prob = remake(prob, p=po)\n    sol = solve(tmp_prob, Tsit5(), saveat = 0.0:0.1:10.0)\n    loss = sum(abs2, sol .- dataset)\n    return loss, sol\nend\n\nusing DiffEqFlux, Optim, Flux\npinit = [1.2,0.8,2.5,0.8]\n\nresult_ode = DiffEqFlux.sciml_train(loss, pinit, BFGS())```","user":"U01724Q3PGW","ts":"1611506261.024300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t3vf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MWE\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using DifferentialEquations, Plots, Sundials\n\nfunction latka_volterra!(du,u,p,t)\n    rab, wolf = u\n    α, β, γ, δ = p\n    du[1] = d_rab = α * rab - β * rab * wolf\n    du[2] = d_wolf = γ * rab * wolf - δ * wolf\nend\n\nu₀ = [1.0,1.0]\ntspan = (0.00, 10.0)\np = [1.5,1.0,3.0,2.0]\n\nprob = ODEProblem(latka_volterra!, u₀, tspan, p)\nsol = solve(prob, saveat=0.1)\nplot(sol)\n\ndataset = Array(sol)\nscatter!(sol.t, dataset')\n\ntmp_prob = remake(prob, p=[1.2,0.8,2.5,0.8])\ntmp_sol = solve(tmp_prob)\nplot(tmp_sol)\nscatter!(sol.t, dataset')\n\nfunction loss(po)\n    tmp_prob = remake(prob, p=po)\n    sol = solve(tmp_prob, Tsit5(), saveat = 0.0:0.1:10.0)\n    loss = sum(abs2, sol .- dataset)\n    return loss, sol\nend\n\nusing DiffEqFlux, Optim, Flux\npinit = [1.2,0.8,2.5,0.8]\n\nresult_ode = DiffEqFlux.sciml_train(loss, pinit, BFGS())"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"56f4a31e-15d1-4eaf-b2f1-21a29e0e19fb","type":"message","text":"I'm not sure if I'm making dumb mistake somewhere or if something has changed, but it seems like BFGS isn't respecting the `saveat`?","user":"U01724Q3PGW","ts":"1611506376.024500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZF1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure if I'm making dumb mistake somewhere or if something has changed, but it seems like BFGS isn't respecting the "},{"type":"text","text":"saveat","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"I doubt that BFGS modifies your loss function.","user":"U9MD78Z9N","ts":"1611506476.024800","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"Can you post the stack trace?","user":"U9MD78Z9N","ts":"1611506511.025100","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"55a4b46d-712e-4f36-b97c-801264eade2e","type":"message","text":"```ERROR: DimensionMismatch(\"dimensions must match: a has dims (Base.OneTo(2), Base.OneTo(5)), b has dims (Base.OneTo(2), Base.OneTo(101)), mismatch at 2\")\nStacktrace:\n\npromote_shape at ./indices.jl:178\n\npromote_shape at ./indices.jl:169\n\n-(::Array{Float64,2}, ::Array{Float64,2}) at ./arraymath.jl:38\n\nloss(::Array{Float64,1}) at /home/andrew/code/18337/Lecture3/sciml_tutorial.jl:107\n\n(::DiffEqFlux.var\"#69#70\"{typeof(loss)})(::Array{Float64,1}, ::DiffEqBase.NullParameters) at /home/andrew/.julia/packages/DiffEqFlux/Bj6Is/src/train.jl:2\n\n(::OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing})(::Array{Float64,1}, ::Vararg{Any,N} where N) at /home/andrew/.julia/packages/DiffEqBase/ORQhu/src/problems/basic_problems.jl:75\n\n(::GalacticOptim.var\"#18#26\"{OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Float64,1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}},OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing}})(::Array{Float64,1}) at /home/andrew/.julia/packages/GalacticOptim/8JANI/src/solve.jl:193\n\n(::GalacticOptim.var\"#19#27\"{OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#18#26\"{OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Float64,1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}},OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing}}})(::Array{Float64,1}, ::Array{Float64,1}) at /home/andrew/.julia/packages/GalacticOptim/8JANI/src/solve.jl:201\n\nvalue_gradient!!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/NLSolversBase/QPnui/src/interface.jl:82\n\nvalue_gradient!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/NLSolversBase/QPnui/src/interface.jl:69\n\nvalue_gradient!(::Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/Manifolds.jl:50\n\n(::LineSearches.var\"#ϕdϕ#6\"{Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}},Array{Float64,1},Array{Float64,1},Array{Float64,1}})(::Float64) at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/LineSearches.jl:84\n\n(::LineSearches.HagerZhang{Float64,Base.RefValue{Bool}})(::Function, ::LineSearches.var\"#ϕdϕ#6\"{Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}},Array{Float64,1},Array{Float64,1},Array{Float64,1}}, ::Float64, ::Float64, ::Float64) at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/hagerzhang.jl:139\n\nHagerZhang at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/hagerzhang.jl:101\n\nperform_linesearch!(::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/utilities/perform_linesearch.jl:59\n\nupdate_state!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/solvers/first_order/bfgs.jl:129\n\noptimize(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.Options{Float64,GalacticOptim.var\"#_cb#25\"{GalacticOptim.var\"#23#31\",BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat},Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}}}, ::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/optimize/optimize.jl:56\n\noptimize(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.Options{Float64,GalacticOptim.var\"#_cb#25\"{GalacticOptim.var\"#23#31\",BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat},Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/optimize/optimize.jl:33\n\n[19] __solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationF…```","user":"U01724Q3PGW","ts":"1611506753.025300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Zw","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: DimensionMismatch(\"dimensions must match: a has dims (Base.OneTo(2), Base.OneTo(5)), b has dims (Base.OneTo(2), Base.OneTo(101)), mismatch at 2\")\nStacktrace:\n\npromote_shape at ./indices.jl:178\n\npromote_shape at ./indices.jl:169\n\n-(::Array{Float64,2}, ::Array{Float64,2}) at ./arraymath.jl:38\n\nloss(::Array{Float64,1}) at /home/andrew/code/18337/Lecture3/sciml_tutorial.jl:107\n\n(::DiffEqFlux.var\"#69#70\"{typeof(loss)})(::Array{Float64,1}, ::DiffEqBase.NullParameters) at /home/andrew/.julia/packages/DiffEqFlux/Bj6Is/src/train.jl:2\n\n(::OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing})(::Array{Float64,1}, ::Vararg{Any,N} where N) at /home/andrew/.julia/packages/DiffEqBase/ORQhu/src/problems/basic_problems.jl:75\n\n(::GalacticOptim.var\"#18#26\"{OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Float64,1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}},OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing}})(::Array{Float64,1}) at /home/andrew/.julia/packages/GalacticOptim/8JANI/src/solve.jl:193\n\n(::GalacticOptim.var\"#19#27\"{OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#18#26\"{OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},Array{Float64,1},DiffEqBase.NullParameters,Nothing,Nothing,Nothing,Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}},OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#155#165\",Nothing,Nothing,Nothing}}})(::Array{Float64,1}, ::Array{Float64,1}) at /home/andrew/.julia/packages/GalacticOptim/8JANI/src/solve.jl:201\n\nvalue_gradient!!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/NLSolversBase/QPnui/src/interface.jl:82\n\nvalue_gradient!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/NLSolversBase/QPnui/src/interface.jl:69\n\nvalue_gradient!(::Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}}, ::Array{Float64,1}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/Manifolds.jl:50\n\n(::LineSearches.var\"#ϕdϕ#6\"{Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}},Array{Float64,1},Array{Float64,1},Array{Float64,1}})(::Float64) at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/LineSearches.jl:84\n\n(::LineSearches.HagerZhang{Float64,Base.RefValue{Bool}})(::Function, ::LineSearches.var\"#ϕdϕ#6\"{Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}},Array{Float64,1},Array{Float64,1},Array{Float64,1}}, ::Float64, ::Float64, ::Float64) at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/hagerzhang.jl:139\n\nHagerZhang at /home/andrew/.julia/packages/LineSearches/Ki4c5/src/hagerzhang.jl:101\n\nperform_linesearch!(::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.ManifoldObjective{TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/utilities/perform_linesearch.jl:59\n\nupdate_state!(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/solvers/first_order/bfgs.jl:129\n\noptimize(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.Options{Float64,GalacticOptim.var\"#_cb#25\"{GalacticOptim.var\"#23#31\",BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat},Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}}}, ::Optim.BFGSState{Array{Float64,1},Array{Float64,2},Float64,Array{Float64,1}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/optimize/optimize.jl:56\n\noptimize(::TwiceDifferentiable{Float64,Array{Float64,1},Array{Float64,2},Array{Float64,1}}, ::Array{Float64,1}, ::BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat}, ::Optim.Options{Float64,GalacticOptim.var\"#_cb#25\"{GalacticOptim.var\"#23#31\",BFGS{LineSearches.InitialStatic{Float64},LineSearches.HagerZhang{Float64,Base.RefValue{Bool}},Nothing,Nothing,Flat},Base.Iterators.Cycle{Tuple{GalacticOptim.NullData}}}}) at /home/andrew/.julia/packages/Optim/Yd5Zq/src/multivariate/optimize/optimize.jl:33\n\n[19] __solve(::OptimizationProblem{false,OptimizationFunction{false,GalacticOptim.AutoZygote,OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},GalacticOptim.var\"#147#157\"{GalacticOptim.var\"#146#156\"{OptimizationFunction{true,GalacticOptim.AutoZygote,DiffEqFlux.var\"#69#70\"{typeof(loss)},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Nothing}},GalacticOptim.var\"#150#160\"{GalacticOptim.var\"#146#156\"{OptimizationF…"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"f8fffe1c-918a-47be-bdac-edb5ee9c57dd","type":"message","text":"I should note that in the video he uses `saveat=0.1`, but I tried that and it didn't produce (noticeably) different results from the code above","user":"U01724Q3PGW","ts":"1611506836.025500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IGZMD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I should note that in the video he uses "},{"type":"text","text":"saveat=0.1","style":{"code":true}},{"type":"text","text":", but I tried that and it didn't produce (noticeably) different results from the code above"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"Can you println(size(sol),\" : \", size(dataset)) before the `loss =` line?","user":"U9MD78Z9N","ts":"1611506946.025700","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"19cc47a6-9b65-4111-ac01-0621ba310211","type":"message","text":"```(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n┌ Warning: Interrupted. Larger maxiters is needed.\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:328\n(2, 101) : (2, 101)\n┌ Warning: Instability detected. Aborting\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:348\n┌ Warning: Interrupted. Larger maxiters is needed.\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:328\n(2, 5) : (2, 101)```","user":"U01724Q3PGW","ts":"1611507074.025900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1y0h","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n(2, 101) : (2, 101)\n┌ Warning: Interrupted. Larger maxiters is needed.\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:328\n(2, 101) : (2, 101)\n┌ Warning: Instability detected. Aborting\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:348\n┌ Warning: Interrupted. Larger maxiters is needed.\n└ @ DiffEqBase ~/.julia/packages/DiffEqBase/ORQhu/src/integrator_interface.jl:328\n(2, 5) : (2, 101)"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"f85e80a0-f4c7-40e4-96c9-6eb3fec84f74","type":"message","text":"He gets some of the instability warnings in the video, so I didn't think too much of it","user":"U01724Q3PGW","ts":"1611507123.026100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"04T=J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"He gets some of the instability warnings in the video, so I didn't think too much of it"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"Ahh","user":"U9MD78Z9N","ts":"1611507130.026300","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"bd557e36-6e5d-4047-a3e0-a1fac7a57439","type":"message","text":"same thing happens if I bump up maxiters to 1000 or 10000","user":"U01724Q3PGW","ts":"1611507197.026500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Ff8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"same thing happens if I bump up maxiters to 1000 or 10000"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"What happens if there is an instability in  the ODE solver (the equation solution blows up) that the solution is not defined over all time, meaning that there is nothing that can be returned for time steps after the instability, resulting in a different sized array.","user":"U9MD78Z9N","ts":"1611507317.026700","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"7b7f0cbd-a358-47d0-948a-545e553db6b1","type":"message","text":"Hmmm.. Okay, I had that thought, but then that leads me to wondering if something changed? It works out-of-the-box in the video and I've done everything pretty word-for-word the same. Maybe it's not possible to tell (different machines, etc.)","user":"U01724Q3PGW","ts":"1611507449.026900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N9T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm.. Okay, I had that thought, but then that leads me to wondering if something changed? It works out-of-the-box in the video and I've done everything pretty word-for-word the same. Maybe it's not possible to tell (different machines, etc.)"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"<https://github.com/FluxML/Flux.jl/issues/821#issuecomment-545862181> might be relevant","user":"U9MD78Z9N","ts":"1611507828.027100","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"In your case it would be `(size(sol) != size(dataset)) &amp;&amp; return 0`","user":"U9MD78Z9N","ts":"1611508033.027300","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"7c72bea5-77a1-4a7d-85f8-2d9fa16a1169","type":"message","text":"That helps it converge, but the minimizer isn't close at all. I went back and it looks like I had a typo in `p` for the original dataset, but even after fixing that and using your trick it's not close.","user":"U01724Q3PGW","ts":"1611509410.027500","team":"T68168MUP","edited":{"user":"U01724Q3PGW","ts":"1611509424.000000"},"blocks":[{"type":"rich_text","block_id":"HQVXT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That helps it converge, but the minimizer isn't close at all. I went back and it looks like I had a typo in "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" for the original dataset, but even after fixing that and using your trick it's not close."}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"cf38862f-3aaa-4e30-bdca-b361cd07af34","type":"message","text":"With the change in `p`, now ADAM gets the right answer. Still no luck with BFGS though. Thanks <@U9MD78Z9N>","user":"U01724Q3PGW","ts":"1611510334.027800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ODLvZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With the change in "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":", now ADAM gets the right answer. Still no luck with BFGS though. Thanks "},{"type":"user","user_id":"U9MD78Z9N"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"92dea121-be2d-4ad8-8541-6373c4642ee8","type":"message","text":"Never start with BFGS","user":"U69BL50BF","ts":"1611510587.028000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5ZFI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Never start with BFGS"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"8b57bbc1-096e-407d-9578-35a9d831f82b","type":"message","text":"all of my examples do ADAM -&gt; BFGS","user":"U69BL50BF","ts":"1611510595.028200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tWxFk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"all of my examples do ADAM -> BFGS"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW","reactions":[{"name":"ok_hand","users":["U01724Q3PGW"],"count":1}]},{"client_msg_id":"87bf41d0-0cb8-45fb-92f2-04d380403908","type":"message","text":"Haha, but it worked so well in the talk!","user":"U01724Q3PGW","ts":"1611511142.028500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W0/U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Haha, but it worked so well in the talk!"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"4da2a38a-fa03-4bba-bf1f-5a885bf6a653","type":"message","text":"ADAM is more forgiving?","user":"U01724Q3PGW","ts":"1611511170.028700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2qi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ADAM is more forgiving?"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"e9cd046f-44a2-4766-b5df-1c875269912d","type":"message","text":"ADAM is better at finding a global min, BFGS is better at ending it","user":"U69BL50BF","ts":"1611522616.031400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=OoCT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ADAM is better at finding a global min, BFGS is better at ending it"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"1eaec0f2-93e4-4b15-84c4-cd54798f13d6","type":"message","text":"in the talk don't I do that?","user":"U69BL50BF","ts":"1611522622.031600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lLK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in the talk don't I do that?"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"5b636773-e5b6-49e3-b8fd-d3b0ec281ac8","type":"message","text":"In this case, you add Optim and go straight to BFGS (@ 2:14:35)","user":"U01724Q3PGW","ts":"1611524274.032000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZpDw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In this case, you add Optim and go straight to BFGS (@ 2:14:35)"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"5c4b5784-64fb-41ef-84fe-dcdf77d58050","type":"message","text":"oh okay","user":"U69BL50BF","ts":"1611524284.032200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sPzI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh okay"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"9505be08-7ee4-4e3e-b81a-7a71d3e3dbd0","type":"message","text":"well I don't recommend that (anymore) haha","user":"U69BL50BF","ts":"1611524292.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"svwC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well I don't recommend that (anymore) haha"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"8b737744-1d98-4e57-8ef4-89d3aae6d61a","type":"message","text":"Good to know! Also I couldn't get BlackBoxOptim working the same way you do with _`DiffEqFlux.sciml_train(loss, pinit, DiffEqFlux.BBO(), lower_bounds=0.5ones(4), upper_bounds=4.0ones(4))`._ It doesn't look like DiffEqFlux exports BBO anymore and I don't see it in BlackBoxOptim either. I feel like I remember this changing?","user":"U01724Q3PGW","ts":"1611524434.032600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pUg6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good to know! Also I couldn't get BlackBoxOptim working the same way you do with "},{"type":"text","text":"DiffEqFlux.sciml_train(loss, pinit, DiffEqFlux.BBO(), lower_bounds=0.5ones(4), upper_bounds=4.0ones(4))","style":{"italic":true,"code":true}},{"type":"text","text":". ","style":{"italic":true}},{"type":"text","text":"It doesn't look like DiffEqFlux exports BBO anymore and I don't see it in BlackBoxOptim either. I feel like I remember this changing?"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"type":"message","text":"Depending on your problem things from BlackBoxOptim could also work.","user":"U9MD78Z9N","ts":"1611524434.032800","team":"T68168MUP","thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW","reactions":[{"name":"grin","users":["U01724Q3PGW"],"count":1}]},{"client_msg_id":"34d4459e-c02d-484c-9b58-035225167546","type":"message","text":"it's all GalacticOptim.jl under the hood now","user":"U69BL50BF","ts":"1611524466.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5zhi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's all GalacticOptim.jl under the hood now"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"de6eb6ca-1af6-458e-80ea-d23145362249","type":"message","text":"sciml_train is actually in the process of being deprecated","user":"U69BL50BF","ts":"1611524474.033300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NUG6q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sciml_train is actually in the process of being deprecated"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW","reactions":[{"name":"eyes","users":["U01724Q3PGW"],"count":1}]},{"client_msg_id":"ef913b60-58c7-410c-998d-8f67fad0f401","type":"message","text":"so those docs are the ones to consult here.","user":"U69BL50BF","ts":"1611524479.033500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s3qh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so those docs are the ones to consult here."}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"3c351b39-cffb-4725-b669-5d11a39057b6","type":"message","text":"<https://galacticoptim.sciml.ai/dev/>","user":"U69BL50BF","ts":"1611524489.033800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yk=c","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://galacticoptim.sciml.ai/dev/"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"e93c9bd3-dc7d-4b08-be1e-e31df6d93fb9","type":"message","text":"Thanks, I'll take a look!","user":"U01724Q3PGW","ts":"1611524493.034000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0/QcA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, I'll take a look!"}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"90136ce0-a6ef-4873-98a3-b9f7962b69e7","type":"message","text":"and it's behind a `requires` block, so you need to `using BlackBoxOptim`.","user":"U69BL50BF","ts":"1611524526.034200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u=6NW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and it's behind a "},{"type":"text","text":"requires","style":{"code":true}},{"type":"text","text":" block, so you need to "},{"type":"text","text":"using BlackBoxOptim","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"31061ce0-9db4-4780-87f4-9c7f301a5429","type":"message","text":"half an hour later you do discuss starting with ADAM and then picking up with BFGS.","user":"U01724Q3PGW","ts":"1611531129.044200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x=h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"half an hour later you do discuss starting with ADAM and then picking up with BFGS."}]}]}],"thread_ts":"1611506220.024100","parent_user_id":"U01724Q3PGW"}]