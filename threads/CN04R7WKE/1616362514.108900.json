[{"client_msg_id":"99a9b995-16d7-415f-b5ad-c0bb9b7bc903","type":"message","text":"Any suggestions on best practices when I’m getting a segfault when integrating an ode system? The REPL flashes error messages and then crashes\n\nMy routine takes in some data (does a linear interpolation to create an exogenous function w(t)) which is then passed into an ode system. For some file (data) inputs\nthe thing will crash with a segfault.\n\n```signal (11): Segmentation fault: 11\nin expression starting at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/scripts/compactness_hchs.jl:17\ngetindex at ./array.jl:801 [inlined]\nfxn at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Utils/utils.jl:53 [inlined]\n#59#L at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/HCRSimJul.jl:51\nα0 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:77\nB at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:78 [inlined]\nspmodel! at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:80\nunknown function (ip: 0x18a828b7b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\ncircmodel! at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/HCRSimJul.jl:52\nODEFunction at /Users/khannay/.julia/packages/SciMLBase/070vZ/src/scimlfunctions.jl:329 [inlined]\nperform_step! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/perform_step/low_order_rk_perform_step.jl:637\nperform_step! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/perform_step/low_order_rk_perform_step.jl:628 [inlined]\nsolve! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:455\n#__solve#404 at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:5 [inlined]\n__solve##kw at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:4 [inlined]\n#solve_call#56 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:61 [inlined]\nsolve_call##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:48 [inlined]\n#solve_up#58 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:82 [inlined]\nsolve_up##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:75 [inlined]\n#solve#57 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:70 [inlined]\nsolve##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:68\nunknown function (ip: 0x18a8244c3)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n#integrate_model#42 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:28\nunknown function (ip: 0x11274545b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\nintegrate_model at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:26\n#ic_loop_estimate#61 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:209\nic_loop_estimate##kw at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:207\nunknown function (ip: 0x11274516b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n#ic_loop_estimate#62 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:227\nic_loop_estimate at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:224 [inlined]\n#compactness_score#22 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:145\ncompactness_score at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:145 [inlined]\ntop-level scope at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/scripts/compactness_hchs.jl:21\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_in at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval at ./boot.jl:360 [inlined]\ninclude_string at ./loading.jl:1094\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n_include at ./loading.jl:1148\ninclude at ./client.jl:444\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\ndo_call at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval_body at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_interpret_toplevel_thunk at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_in at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval at ./boot.jl:360 [inlined]\nexec_options at ./client.jl:261\n_start at ./client.jl:485```","user":"U01L6PU62AF","ts":"1616362514.108900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yKBdk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any suggestions on best practices when I’m getting a segfault when integrating an ode system? The REPL flashes error messages and then crashes\n\nMy routine takes in some data (does a linear interpolation to create an exogenous function w(t)) which is then passed into an ode system. For some file (data) inputs\nthe thing will crash with a segfault.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"signal (11): Segmentation fault: 11\nin expression starting at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/scripts/compactness_hchs.jl:17\ngetindex at ./array.jl:801 [inlined]\nfxn at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Utils/utils.jl:53 [inlined]\n#59#L at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/HCRSimJul.jl:51\nα0 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:77\nB at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:78 [inlined]\nspmodel! at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:80\nunknown function (ip: 0x18a828b7b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\ncircmodel! at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/HCRSimJul.jl:52\nODEFunction at /Users/khannay/.julia/packages/SciMLBase/070vZ/src/scimlfunctions.jl:329 [inlined]\nperform_step! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/perform_step/low_order_rk_perform_step.jl:637\nperform_step! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/perform_step/low_order_rk_perform_step.jl:628 [inlined]\nsolve! at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:455\n#__solve#404 at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:5 [inlined]\n__solve##kw at /Users/khannay/.julia/packages/OrdinaryDiffEq/5egkj/src/solve.jl:4 [inlined]\n#solve_call#56 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:61 [inlined]\nsolve_call##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:48 [inlined]\n#solve_up#58 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:82 [inlined]\nsolve_up##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:75 [inlined]\n#solve#57 at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:70 [inlined]\nsolve##kw at /Users/khannay/.julia/packages/DiffEqBase/rN9Px/src/solve.jl:68\nunknown function (ip: 0x18a8244c3)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n#integrate_model#42 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:28\nunknown function (ip: 0x11274545b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\nintegrate_model at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:26\n#ic_loop_estimate#61 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:209\nic_loop_estimate##kw at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:207\nunknown function (ip: 0x11274516b)\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n#ic_loop_estimate#62 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:227\nic_loop_estimate at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/ModelSolver.jl:224 [inlined]\n#compactness_score#22 at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:145\ncompactness_score at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/src/Models/SinglePopModel.jl:145 [inlined]\ntop-level scope at /Users/khannay/work/JuliaPkgs/Arcascope/HCRSimJul/scripts/compactness_hchs.jl:21\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_in at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval at ./boot.jl:360 [inlined]\ninclude_string at ./loading.jl:1094\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\n_include at ./loading.jl:1148\ninclude at ./client.jl:444\njl_apply_generic at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\ndo_call at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval_body at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_interpret_toplevel_thunk at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_flex at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\njl_toplevel_eval_in at /Applications/Julia-1.6.app/Contents/Resources/julia/lib/julia/libjulia-internal.1.6.dylib (unknown line)\neval at ./boot.jl:360 [inlined]\nexec_options at ./client.jl:261\n_start at ./client.jl:485"}]}]}],"thread_ts":"1616362514.108900","reply_count":4,"reply_users_count":3,"latest_reply":"1616364766.109700","reply_users":["U01L6PU62AF","UM8JUNJG7","U69BL50BF"],"subscribed":false},{"client_msg_id":"03ebfe26-9901-4ab9-8e5a-89c0363ddeaf","type":"message","text":"Really mainly wondering how people go about tracking down this error, the time scale on restarting the REPL everytime is rough","user":"U01L6PU62AF","ts":"1616362591.109000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bMQV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really mainly wondering how people go about tracking down this error, the time scale on restarting the REPL everytime is rough"}]}]}],"thread_ts":"1616362514.108900","parent_user_id":"U01L6PU62AF"},{"client_msg_id":"fcc8ca29-7231-4964-912b-e5cb927d7a80","type":"message","text":"if you could post some code that'd be helpful. this could be many things. Debugger.jl may help if you're willing to use a step debugger","user":"UM8JUNJG7","ts":"1616362617.109200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EgYe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you could post some code that'd be helpful. this could be many things. Debugger.jl may help if you're willing to use a step debugger"}]}]}],"thread_ts":"1616362514.108900","parent_user_id":"U01L6PU62AF"},{"client_msg_id":"94de05f7-60ae-4308-868b-baa70e5f5388","type":"message","text":"Thanks, yeah I will have to create a minimal working example not using all the packages I have written","user":"U01L6PU62AF","ts":"1616363016.109500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n6q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, yeah I will have to create a minimal working example not using all the packages I have written"}]}]}],"thread_ts":"1616362514.108900","parent_user_id":"U01L6PU62AF"},{"client_msg_id":"d9457d86-f2e4-4bbe-9eed-75397f31647e","type":"message","text":"Have you done `@inbounds` anywhere?","user":"U69BL50BF","ts":"1616364766.109700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7tr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Have you done "},{"type":"text","text":"@inbounds","style":{"code":true}},{"type":"text","text":" anywhere?"}]}]}],"thread_ts":"1616362514.108900","parent_user_id":"U01L6PU62AF"}]