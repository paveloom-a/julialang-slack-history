[{"client_msg_id":"c51e90e4-d4bd-401c-aa72-f4ce5d282a6a","type":"message","text":"In this tutorial: <https://tutorials.sciml.ai/html/introduction/03-optimizing_diffeq_code.html>, in the Optimizing Large Systems section, the first example talks about managing allocations, and says how 2 allocations are bad. The next example (test2), after discussing broadcast fusion and `map`ing, has 8 allocations and takes twice as long as the first example. Isn't this worse, or is there something I'm not understanding?","user":"U01724Q3PGW","ts":"1610936003.025400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I30pw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In this tutorial: "},{"type":"link","url":"https://tutorials.sciml.ai/html/introduction/03-optimizing_diffeq_code.html"},{"type":"text","text":", in the Optimizing Large Systems section, the first example talks about managing allocations, and says how 2 allocations are bad. The next example (test2), after discussing broadcast fusion and "},{"type":"text","text":"map","style":{"code":true}},{"type":"text","text":"ing, has 8 allocations and takes twice as long as the first example. Isn't this worse, or is there something I'm not understanding?"}]}]}],"thread_ts":"1610936003.025400","reply_count":4,"reply_users_count":2,"latest_reply":"1610945785.026200","reply_users":["U69BL50BF","U01724Q3PGW"],"subscribed":false},{"client_msg_id":"2eb1eecd-afd2-490e-b17a-00d81c176de7","type":"message","text":"It looks like that map call isn't optimized for some reason... it's falling back to iterating over a tuple :face_palm:","user":"U69BL50BF","ts":"1610939335.025500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t95Tv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It looks like that map call isn't optimized for some reason... it's falling back to iterating over a tuple "},{"type":"emoji","name":"face_palm"}]}]}],"thread_ts":"1610936003.025400","parent_user_id":"U01724Q3PGW","reactions":[{"name":"+1","users":["U01724Q3PGW"],"count":1}]},{"client_msg_id":"499fe68f-d8f4-4b0b-818c-b0705d64d26f","type":"message","text":"That should get fixed in Julia Base","user":"U69BL50BF","ts":"1610939340.025700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nwL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That should get fixed in Julia Base"}]}]}],"thread_ts":"1610936003.025400","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"11d788f5-bb51-468d-a83a-82cc99874ffa","type":"message","text":"if you want the updated version with all of the details see <https://mitmath.github.io/18337/lecture2/optimizing>","user":"U69BL50BF","ts":"1610939402.025900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KjGz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want the updated version with all of the details see "},{"type":"link","url":"https://mitmath.github.io/18337/lecture2/optimizing"}]}]}],"thread_ts":"1610936003.025400","parent_user_id":"U01724Q3PGW"},{"client_msg_id":"5b343631-176d-4c50-b206-a279ed80783e","type":"message","text":"Oh cool. I actually went through that one right before, and this tutorial was linked as an additional resource. Thanks","user":"U01724Q3PGW","ts":"1610945785.026200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KiHc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh cool. I actually went through that one right before, and this tutorial was linked as an additional resource. Thanks"}]}]}],"thread_ts":"1610936003.025400","parent_user_id":"U01724Q3PGW"}]