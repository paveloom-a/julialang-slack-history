[{"client_msg_id":"10b45b28-21d1-4508-8600-8abe2e9aba5f","type":"message","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n```julia&gt; u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia&gt; du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia&gt; u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia&gt; typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia&gt; sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible.```","user":"UM8JUNJG7","ts":"1608066482.192900","team":"T68168MUP","edited":{"user":"UM8JUNJG7","ts":"1608067013.000000"},"blocks":[{"type":"rich_text","block_id":"zhb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia> du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia> u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia> typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia> sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible."}]}]}],"thread_ts":"1608066482.192900","reply_count":29,"reply_users_count":6,"latest_reply":"1608358820.210600","reply_users":["UH8A351DJ","UM8JUNJG7","U9MD78Z9N","U69BL50BF","U01CR62LAAD","U72B7LTMX"],"subscribed":false},{"client_msg_id":"87cb75fc-02b6-40eb-84c6-e4edbf0024d6","type":"message","text":"what is `vÃá`","user":"UH8A351DJ","ts":"1608068569.193100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LnO1m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what is "},{"type":"text","text":"vÃá","style":{"code":true}}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"500d9588-67cc-409a-8d9c-17466c5a2cc2","type":"message","text":"julia&gt; vÃá\n-4.30150447150153 m s^-2","user":"UM8JUNJG7","ts":"1608068697.193300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dpV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia> vÃá\n-4.30150447150153 m s^-2"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"18b01be6-3c30-4b31-a25a-4345509df2a7","type":"message","text":"I can still solve if i just remove units from everything","user":"UM8JUNJG7","ts":"1608068725.193500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XxP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can still solve if i just remove units from everything"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"type":"message","text":"Are you sure you are solving the ODE not just from (0.0, 10.0) but (0.0 u\"s\", 10 u\"s\")?","user":"U9MD78Z9N","ts":"1608068737.193700","team":"T68168MUP","thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"08be9e1d-0315-45a8-9cf3-daa4ed46d3c6","type":"message","text":"ok so your `u0` is unit m s^-1","user":"UH8A351DJ","ts":"1608068781.193900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OeMwO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok so your "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" is unit m s^-1"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"746bc3ff-c4d8-4041-8dd8-6ee9bbbf3488","type":"message","text":"and similar gives you the same unit","user":"UH8A351DJ","ts":"1608068786.194100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yUnj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and similar gives you the same unit"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"55366135-e7ad-4418-b477-7a337446b841","type":"message","text":"but your vÃá has wrong unit","user":"UH8A351DJ","ts":"1608068793.194300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vvY=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but your vÃá has wrong unit"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7","reactions":[{"name":"correct_answer","users":["U9MD78Z9N"],"count":1}]},{"type":"message","text":"du has to be u0/s in terms of units (if you are integrating over a time dimesion","user":"U9MD78Z9N","ts":"1608068804.194500","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1608068987.000000"},"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"69919987-9941-417d-8234-32c1437b16b5","type":"message","text":"the acceleration is m/s^2 (vdot), it makes sense that u0 is going to be an initial velocity (m/s) right?\n\nso i think du is u0/s\n\n```julia&gt; u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 0.0 m s^-1\n\njulia&gt; du = [vÃá]\n1-element Array{Quantity{Float64,ùêã ùêì^-2,Unitful.FreeUnits{(m, s^-2),ùêã ùêì^-2,nothing}},1}:\n -4.30150447150153 m s^-2```\n","user":"UM8JUNJG7","ts":"1608069744.195100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oR7b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the acceleration is m/s^2 (vdot), it makes sense that u0 is going to be an initial velocity (m/s) right?\n\nso i think du is u0/s\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 0.0 m s^-1\n\njulia> du = [vÃá]\n1-element Array{Quantity{Float64,ùêã ùêì^-2,Unitful.FreeUnits{(m, s^-2),ùêã ùêì^-2,nothing}},1}:\n -4.30150447150153 m s^-2"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"7eb6bc6b-84a2-4432-ba65-1d28e8c5988c","type":"message","text":"if i have my u0 just scalar `m/s` and have f return a scalar `m/s^2` it should work but gives mismatch","user":"UM8JUNJG7","ts":"1608069820.195300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aF0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if i have my u0 just scalar "},{"type":"text","text":"m/s","style":{"code":true}},{"type":"text","text":" and have f return a scalar "},{"type":"text","text":"m/s^2","style":{"code":true}},{"type":"text","text":" it should work but gives mismatch"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"type":"message","text":"okay i cleaned up the code, im trying to copy this model <https://www.cds.caltech.edu/~murray/amwiki/index.php?title=Cruise_control>","files":[{"id":"F01GZREDZNW","created":1608071242,"timestamp":1608071242,"name":"cruise_control_unitful.jl","title":"cruise_control_unitful.jl","mimetype":"text/plain","filetype":"text","pretty_type":"Plain Text","user":"UM8JUNJG7","editable":true,"size":1578,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01GZREDZNW/cruise_control_unitful.jl","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01GZREDZNW/download/cruise_control_unitful.jl","permalink":"https://julialang.slack.com/files/UM8JUNJG7/F01GZREDZNW/cruise_control_unitful.jl","permalink_public":"https://slack-files.com/T68168MUP-F01GZREDZNW-b2162d2dab","edit_link":"https://julialang.slack.com/files/UM8JUNJG7/F01GZREDZNW/cruise_control_unitful.jl/edit","preview":"using DifferentialEquations\nusing Unitful\nusing Plots\n\n# using model from https://www.cds.caltech.edu/~murray/amwiki/index.php?title=Cruise_control","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>using DifferentialEquations</pre></div>\n<div><pre>using Unitful</pre></div>\n<div><pre>using Plots</pre></div>\n<div><pre></pre></div>\n<div><pre># using model from https://www.cds.caltech.edu/~murray/amwiki/index.php?title=Cruise_control</pre></div>\n</div>\n</div>\n","lines":66,"lines_more":61,"preview_is_truncated":true,"is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"kD0Bm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay i cleaned up the code, im trying to copy this model "},{"type":"link","url":"https://www.cds.caltech.edu/~murray/amwiki/index.php?title=Cruise_control"}]}]}],"user":"UM8JUNJG7","display_as_bot":false,"ts":"1608071260.195500","thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"830e1ecb-6dfe-4d57-ba79-d66afcace434","type":"message","text":"Why is your time unitless?","user":"U69BL50BF","ts":"1608086848.195900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4+gQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why is your time unitless?"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"6a46dfe6-3c6d-477a-8f0a-b17aa16950ca","type":"message","text":"Hi, <@UM8JUNJG7>. I was gonna try running it here, but my vscode is ‚ÄúIndexing‚Ä¶‚Äù forever. Anyway, there are two things I spotted in your code. You want your time span to have time units, like from 0u‚Äùs‚Äù to 100u‚Äùs‚Äù. And you should add ‚Äúusing UnitfulRecipes‚Äù for plotting.","user":"U01CR62LAAD","ts":"1608086857.196100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nYQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, "},{"type":"user","user_id":"UM8JUNJG7"},{"type":"text","text":". I was gonna try running it here, but my vscode is ‚ÄúIndexing‚Ä¶‚Äù forever. Anyway, there are two things I spotted in your code. You want your time span to have time units, like from 0u‚Äùs‚Äù to 100u‚Äùs‚Äù. And you should add ‚Äúusing UnitfulRecipes‚Äù for plotting."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"314f13b4-9c81-4fd3-9dee-0c34bc447dfa","type":"message","text":"thanks for the catch both. i changed tspan to `tspan_units¬†=¬†Float32[0.,¬†100.]u\"s\"` but i'm still getting the conversion error\n```julia&gt; prob_wunits = ODEProblem(f!, u0, tspan_units, p)\nODEProblem with uType Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1} and tType Quantity{Float32,ùêì,Unitful.FreeUnits{(s,),ùêì,nothing}}. In-place: true\ntimespan: (0.0f0 s, 100.0f0 s)\nu0: Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}}[500.0 m s^-1]\n\njulia&gt; sol = solve(prob_wunits)\n\nERROR: DimensionError: m s^-1 and -3.7145316183979276 m s^-2 are not dimensionally compatible.```","user":"UM8JUNJG7","ts":"1608087599.196300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oBUs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks for the catch both. i changed tspan to "},{"type":"text","text":"tspan_units¬†=¬†Float32[0.,¬†100.]u\"s\"","style":{"code":true}},{"type":"text","text":" but i'm still getting the conversion error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> prob_wunits = ODEProblem(f!, u0, tspan_units, p)\nODEProblem with uType Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1} and tType Quantity{Float32,ùêì,Unitful.FreeUnits{(s,),ùêì,nothing}}. In-place: true\ntimespan: (0.0f0 s, 100.0f0 s)\nu0: Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}}[500.0 m s^-1]\n\njulia> sol = solve(prob_wunits)\n\nERROR: DimensionError: m s^-1 and -3.7145316183979276 m s^-2 are not dimensionally compatible."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"629c3b3e-c588-43d3-aae0-4348d6ef476a","type":"message","text":"`sol = solve(prob_wunits, Tsit5())`?","user":"U69BL50BF","ts":"1608088112.196500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4xv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sol = solve(prob_wunits, Tsit5())","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"0ad395da-d391-4d49-8077-2482f29f44f1","type":"message","text":"using Tsit5() works","user":"UM8JUNJG7","ts":"1608088197.196700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"srVW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using Tsit5() works"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"2446c2d8-5757-43ef-8bf5-fc1972eba9b0","type":"message","text":"yeah linear algebra isn't unit compatible","user":"U69BL50BF","ts":"1608088211.196900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CKmp3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah linear algebra isn't unit compatible"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"103628ca-fe4b-403a-b269-fcd14881f925","type":"message","text":"implicit methods will have issues with that","user":"U69BL50BF","ts":"1608088219.197100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"65MG0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"implicit methods will have issues with that"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"f8b2b698-58f8-4b40-813f-da310bb147bc","type":"message","text":"i see. makes sense, ty","user":"UM8JUNJG7","ts":"1608088240.197300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H/Xtr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i see. makes sense, ty"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"384031be-3f71-4111-8fb0-b1062f914e6c","type":"message","text":"<@U69BL50BF>, do you know of anyone working on making other methods compatible with Unitful? I started learning Julia recently, and as an exercise I wrote this package <https://github.com/rmsrosa/UnitfulCurrencies.jl>. If there is an easy method to start with, I could give it a try.","user":"U01CR62LAAD","ts":"1608119608.197700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AK5M","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":", do you know of anyone working on making other methods compatible with Unitful? I started learning Julia recently, and as an exercise I wrote this package "},{"type":"link","url":"https://github.com/rmsrosa/UnitfulCurrencies.jl"},{"type":"text","text":". If there is an easy method to start with, I could give it a try."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"f8048830-6e11-48b6-b36b-12376fa7fce0","type":"message","text":"I kind of think Unitful needs to be scrapped for a new foundation.","user":"U69BL50BF","ts":"1608119847.197900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P+i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I kind of think Unitful needs to be scrapped for a new foundation."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"c05e3ae5-5901-4217-bdbe-642956fa2d7e","type":"message","text":"Ops, really? Why so?","user":"U01CR62LAAD","ts":"1608119905.198100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oce3y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ops, really? Why so?"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"e18cc4db-376b-4cbf-b56f-76c32582f9ee","type":"message","text":"arrays with multiple units","user":"U69BL50BF","ts":"1608120079.198300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oo66","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"arrays with multiple units"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"5f219f9f-6f01-477c-855b-0600b0ea58e2","type":"message","text":"making the unit type information is a bad idea","user":"U69BL50BF","ts":"1608120085.198500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OUBo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"making the unit type information is a bad idea"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"17771376-633e-4535-8b9c-f0927f2733aa","type":"message","text":"it's a great idea to try and make them compile away, but then you can't use an Array","user":"U69BL50BF","ts":"1608120105.198700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5utnD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's a great idea to try and make them compile away, but then you can't use an Array"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"6ec55240-f4c3-44cf-9a0e-fc42566f2572","type":"message","text":"so either drop unit information in the type, or make a special array type.","user":"U69BL50BF","ts":"1608120125.198900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"krO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so either drop unit information in the type, or make a special array type."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"6c145c92-fd54-4213-83cc-5ce8ecec7454","type":"message","text":"Array{Unitful} is just bound to be type unstable in any useful case.","user":"U69BL50BF","ts":"1608120141.199100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Ryn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Array{Unitful} is just bound to be type unstable in any useful case."}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"client_msg_id":"56f4fbca-faaf-49ec-9ac5-3e45f21016e5","type":"message","text":"I see. That is a pity. Is there any one working on that? Or is Unitful kind of stuck?","user":"U01CR62LAAD","ts":"1608120368.199300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"un41","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see. That is a pity. Is there any one working on that? Or is Unitful kind of stuck?"}]}]}],"thread_ts":"1608066482.192900","parent_user_id":"UM8JUNJG7"},{"type":"message","subtype":"thread_broadcast","text":"I made a very rough attempt at having an `&lt;:AbstractArray` with units here:\n\n<https://github.com/goretkin/UnitfulLinearAlgebra.jl>\n\nIt was an experiment from over a year ago, but seeing these messages encouraged me to just-so-slightly polish the repository. It does express unit information in the type system, but by wrapping an existing no-unit `AbstractArray`.\n\nIn addition to having a non-concrete `eltype` by annotating the units of individual elements independently, it's also the wrong mathematical structure. Not all combinations of units in a matrix are valid. See the links in the README for more information.","user":"U72B7LTMX","ts":"1608358820.210600","thread_ts":"1608066482.192900","root":{"client_msg_id":"10b45b28-21d1-4508-8600-8abe2e9aba5f","type":"message","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n```julia&gt; u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia&gt; du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia&gt; u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia&gt; typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia&gt; sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible.```","user":"UM8JUNJG7","ts":"1608066482.192900","team":"T68168MUP","edited":{"user":"UM8JUNJG7","ts":"1608067013.000000"},"blocks":[{"type":"rich_text","block_id":"zhb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia> du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia> u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia> typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia> sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible."}]}]}],"thread_ts":"1608066482.192900","reply_count":29,"reply_users_count":6,"latest_reply":"1608358820.210600","reply_users":["UH8A351DJ","UM8JUNJG7","U9MD78Z9N","U69BL50BF","U01CR62LAAD","U72B7LTMX"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"+7A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a very rough attempt at having an "},{"type":"text","text":"<:AbstractArray","style":{"code":true}},{"type":"text","text":" with units here:\n\n"},{"type":"link","url":"https://github.com/goretkin/UnitfulLinearAlgebra.jl"},{"type":"text","text":"\n\nIt was an experiment from over a year ago, but seeing these messages encouraged me to just-so-slightly polish the repository. It does express unit information in the type system, but by wrapping an existing no-unit "},{"type":"text","text":"AbstractArray","style":{"code":true}},{"type":"text","text":".\n\nIn addition to having a non-concrete "},{"type":"text","text":"eltype","style":{"code":true}},{"type":"text","text":" by annotating the units of individual elements independently, it's also the wrong mathematical structure. Not all combinations of units in a matrix are valid. See the links in the README for more information."}]}]}],"client_msg_id":"17a16631-9bc4-42b5-8ca6-9e34c68c923f"}]