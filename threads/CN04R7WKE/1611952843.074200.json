[{"client_msg_id":"f000f2cf-9f9e-4161-8fa2-db22e2ede849","type":"message","text":"Hi Chris, I was working on this multiple shooting issue:\n<https://github.com/SciML/DiffEqFlux.jl/issues/481>\nI tried to change the `predict_neuralode` function to this:\n```function predict_neuralode(u_initial, timesteps, p)\n         tmp_prob = remake(prob, p=p, tspan=(timesteps[1],timesteps[length(timesteps)]), u0=u_initial)\n         tmpq = Array(solve(tmp_prob, Tsit5(), saveat=timesteps))\n         return tmpq\nend```\nbut it doesn't work and I am always getting stuck in a local minima. Do you have any suggestions?","user":"U01KF8TJEN4","ts":"1611952843.074200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"496t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi Chris, I was working on this multiple shooting issue:\n"},{"type":"link","url":"https://github.com/SciML/DiffEqFlux.jl/issues/481"},{"type":"text","text":"\nI tried to change the "},{"type":"text","text":"predict_neuralode","style":{"code":true}},{"type":"text","text":" function to this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function predict_neuralode(u_initial, timesteps, p)\n         tmp_prob = remake(prob, p=p, tspan=(timesteps[1],timesteps[length(timesteps)]), u0=u_initial)\n         tmpq = Array(solve(tmp_prob, Tsit5(), saveat=timesteps))\n         return tmpq\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but it doesn't work and I am always getting stuck in a local minima. Do you have any suggestions?"}]}]}],"thread_ts":"1611952843.074200","reply_count":3,"reply_users_count":2,"latest_reply":"1611956749.074900","reply_users":["U01KF8TJEN4","U69BL50BF"],"subscribed":false},{"client_msg_id":"a3f59771-84e8-4311-8372-d6d8d1c19791","type":"message","text":"Also the problem I think I am facing is, if I try predicting on a smaller interval and train my NN there, then the NN's parameters will get overwritten in some other interval. But if I calculate individual loss values for the intervals and add them up then the NN gets stuck in the local minima since some  points want the prediction curve to move downward and some want it move upward, so they eventually cancel out each other","user":"U01KF8TJEN4","ts":"1611952940.074300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"evZNo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also the problem I think I am facing is, if I try predicting on a smaller interval and train my NN there, then the NN's parameters will get overwritten in some other interval. But if I calculate individual loss values for the intervals and add them up then the NN gets stuck in the local minima since some  points want the prediction curve to move downward and some want it move upward, so they eventually cancel out each other"}]}]}],"thread_ts":"1611952843.074200","parent_user_id":"U01KF8TJEN4"},{"client_msg_id":"317e8c92-4c17-4c3f-ac04-e9f69d2e7854","type":"message","text":"share in the issue some pictures you're seeing","user":"U69BL50BF","ts":"1611956721.074700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2oh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"share in the issue some pictures you're seeing"}]}]}],"thread_ts":"1611952843.074200","parent_user_id":"U01KF8TJEN4"},{"client_msg_id":"afea9ba6-4c19-4dbd-9831-db44338cf4ab","type":"message","text":"try it on a slightly easier problem (pull the total time back: 1.5 should be doable with single shooting, so this should work. Now grow it, grow it, see where it fails)","user":"U69BL50BF","ts":"1611956749.074900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vbp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"try it on a slightly easier problem (pull the total time back: 1.5 should be doable with single shooting, so this should work. Now grow it, grow it, see where it fails)"}]}]}],"thread_ts":"1611952843.074200","parent_user_id":"U01KF8TJEN4"}]