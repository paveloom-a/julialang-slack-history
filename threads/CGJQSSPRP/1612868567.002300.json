[{"client_msg_id":"6eb9c421-f26e-4df6-8b02-e408bc29f08b","type":"message","text":"How do people address execution determinism for robotics? How do you ensure that execution time as fast as possible including the first run?","user":"U013V2CFZAN","ts":"1612868567.002300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e0MqL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do people address execution determinism for robotics? How do you ensure that execution time as fast as possible including the first run?"}]}]}],"thread_ts":"1612868567.002300","reply_count":8,"reply_users_count":2,"latest_reply":"1612870224.003800","reply_users":["UJ7DVTVQ8","U013V2CFZAN"],"subscribed":false},{"client_msg_id":"985858ec-5ac6-4623-975b-290260569d5b","type":"message","text":"Precompile as much as possible and make sure you do not allocate anything apart from during initialization","user":"UJ7DVTVQ8","ts":"1612868881.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B4v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Precompile as much as possible and make sure you do not allocate anything apart from during initialization"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"8e4d92ab-0d62-402a-9336-a551e5350f22","type":"message","text":"Yes, how do you ensure that? I used `PackageCompiler.jl` and I still have a slow down on the first call. Without `PackageCompiler.jl` it takes a few seconds and after it takes milliseconds. However, the following calls are microseconds.","user":"U013V2CFZAN","ts":"1612869571.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vN7oZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, how do you ensure that? I used "},{"type":"text","text":"PackageCompiler.jl","style":{"code":true}},{"type":"text","text":" and I still have a slow down on the first call. Without "},{"type":"text","text":"PackageCompiler.jl","style":{"code":true}},{"type":"text","text":" it takes a few seconds and after it takes milliseconds. However, the following calls are microseconds."}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"e158820e-5b31-4f9a-845a-fc4c89a199e8","type":"message","text":"I used to solve it by actually calling all functions before the real-time context","user":"UJ7DVTVQ8","ts":"1612869718.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gPO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I used to solve it by actually calling all functions before the real-time context"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"83e3a1d2-2ae4-45a4-90e5-4d593839c5dd","type":"message","text":"We had a server application running in `C` which called a julia function each iteration. The julia runtime precompiled everything it needed and then called into `C` to register a callback function, which is the function `C` then called. The first time it was called from `C` in a real-time context, it was thus already precompiled and fast","user":"UJ7DVTVQ8","ts":"1612869951.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"96wLa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We had a server application running in "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" which called a julia function each iteration. The julia runtime precompiled everything it needed and then called into "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" to register a callback function, which is the function "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" then called. The first time it was called from "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" in a real-time context, it was thus already precompiled and fast"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"ac0c98ac-de54-4052-a50f-68da6c2677dd","type":"message","text":"The framework is detailed as a technical report to my former colleagues here\n<https://lup.lub.lu.se/search/ws/files/35553928/techreport.pdf>\nbut it was written a very long time ago, so many aspects of it could probably be improved using modern julia","user":"UJ7DVTVQ8","ts":"1612869994.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Md+en","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The framework is detailed as a technical report to my former colleagues here\n"},{"type":"link","url":"https://lup.lub.lu.se/search/ws/files/35553928/techreport.pdf"},{"type":"text","text":"\nbut it was written a very long time ago, so many aspects of it could probably be improved using modern julia"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"dd7438e6-a266-45c2-b474-880b46e5f4c3","type":"message","text":"thanks! how old is this report?","user":"U013V2CFZAN","ts":"1612870115.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sfMG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks! how old is this report?"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"6c0dec4c-4885-4273-a73a-d40fe44c7c55","type":"message","text":"2017, with parts of the implementation written 2016. It's thus pre julia 1.0","user":"UJ7DVTVQ8","ts":"1612870163.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LIDq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"2017, with parts of the implementation written 2016. It's thus pre julia 1.0"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"},{"client_msg_id":"e093eb39-ae84-41e0-8e78-e6da0ff65a86","type":"message","text":"I see ... well, still valuable information. Perhaps it would be worth repeating it to see how Julia has progressed since then","user":"U013V2CFZAN","ts":"1612870224.003800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c5bl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see ... well, still valuable information. Perhaps it would be worth repeating it to see how Julia has progressed since then"}]}]}],"thread_ts":"1612868567.002300","parent_user_id":"U013V2CFZAN"}]