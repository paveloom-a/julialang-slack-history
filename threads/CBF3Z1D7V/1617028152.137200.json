[{"client_msg_id":"477ba5f4-30df-4d73-b70d-17111c654ced","type":"message","text":"Need: Project, Manifest, command that was run.","user":"U67D54KS8","ts":"1617028152.137200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dPnvU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Need: Project, Manifest, command that was run."}]}]}],"thread_ts":"1617028152.137200","reply_count":7,"reply_users_count":2,"latest_reply":"1617030989.138600","reply_users":["U67BJLYCS","U67D54KS8"],"is_locked":false,"subscribed":false},{"client_msg_id":"ebb527d4-0ca7-47f3-ac1a-fef5c64f2313","type":"message","text":"```import Pkg\n\nPkg.update()\n\nroot_directory = dirname(@__DIR__)\n\nkernelabstractions = Pkg.PackageSpec(path = root_directory)\ncudakernels = Pkg.PackageSpec(path = joinpath(root_directory, \"lib\", \"CUDAKernels\"))\n\nPkg.develop(kernelabstractions)\nPkg.develop(cudakernels)\nif !(VERSION &lt; v\"1.6-\")\n    rockernels = Pkg.PackageSpec(path = joinpath(root_directory, \"lib\", \"ROCKernels\"))\n    Pkg.develop(rockernels)\n   Pkg.build(rockernels)\nend\nPkg.precompile()```","user":"U67BJLYCS","ts":"1617029679.137300","team":"T68168MUP","edited":{"user":"U67BJLYCS","ts":"1617029697.000000"},"blocks":[{"type":"rich_text","block_id":"yeW","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"import Pkg\n\nPkg.update()\n\nroot_directory = dirname(@__DIR__)\n\nkernelabstractions = Pkg.PackageSpec(path = root_directory)\ncudakernels = Pkg.PackageSpec(path = joinpath(root_directory, \"lib\", \"CUDAKernels\"))\n\nPkg.develop(kernelabstractions)\nPkg.develop(cudakernels)\nif !(VERSION < v\"1.6-\")\n    rockernels = Pkg.PackageSpec(path = joinpath(root_directory, \"lib\", \"ROCKernels\"))\n    Pkg.develop(rockernels)\n   Pkg.build(rockernels)\nend\nPkg.precompile()"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"9d810dec-b1fb-450d-ae93-2904d5c9af58","type":"message","text":"The issue is the `Pkg.build` step","user":"U67BJLYCS","ts":"1617029706.137600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"30uN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The issue is the "},{"type":"text","text":"Pkg.build","style":{"code":true}},{"type":"text","text":" step"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"d3a15edc-7226-4a18-9c96-d4e26abd1ebf","type":"message","text":"moving it outside the if block and turning it into `Pkg.build()` solved it","user":"U67BJLYCS","ts":"1617029771.137800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BFS4H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"moving it outside the if block and turning it into "},{"type":"text","text":"Pkg.build()","style":{"code":true}},{"type":"text","text":" solved it"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"8e52f375-7200-42fd-bc36-09de35402d40","type":"message","text":"branch: <https://github.com/JuliaGPU/KernelAbstractions.jl/pull/209>","user":"U67BJLYCS","ts":"1617029787.138000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Fn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"branch: "},{"type":"link","url":"https://github.com/JuliaGPU/KernelAbstractions.jl/pull/209"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"44dca997-de74-4cf9-a63b-bf7d5d93d8b9","type":"message","text":"Commit <https://github.com/JuliaGPU/KernelAbstractions.jl/pull/209/commits/1bf987fd18cb6bf7853359ca0a7fc8ab4728e1a9>","user":"U67BJLYCS","ts":"1617029822.138200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zNVj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Commit "},{"type":"link","url":"https://github.com/JuliaGPU/KernelAbstractions.jl/pull/209/commits/1bf987fd18cb6bf7853359ca0a7fc8ab4728e1a9"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"409e8279-ae1e-4794-9556-c38b416ae5d1","type":"message","text":"Thanks, can repro","user":"U67D54KS8","ts":"1617030486.138400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rZ5OU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, can repro"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8"},{"client_msg_id":"a74c133b-0d83-4011-ae92-559c184f4f18","type":"message","text":"Simplest workaround is probably to use\n\n```Pkg.build(\"ROCKernels\")```\nor define the package spec as\n\n```    rockernels = Pkg.PackageSpec(name=\"ROCKernels\", path = joinpath(root_directory, \"lib\", \"ROCKernels\"))```","user":"U67D54KS8","ts":"1617030989.138600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lxyXD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Simplest workaround is probably to use\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Pkg.build(\"ROCKernels\")"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nor define the package spec as\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    rockernels = Pkg.PackageSpec(name=\"ROCKernels\", path = joinpath(root_directory, \"lib\", \"ROCKernels\"))"}]}]}],"thread_ts":"1617028152.137200","parent_user_id":"U67D54KS8","reactions":[{"name":"+1","users":["U67BJLYCS"],"count":1}]}]