[{"client_msg_id":"48321c1e-d030-406c-87ad-a903052d17af","type":"message","text":"WHat's an easy way to generate a random orthogonal matrix (I don't care much about the distribution)","user":"U7YD3DKL2","ts":"1610361390.130500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Th1oz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"WHat's an easy way to generate a random orthogonal matrix (I don't care much about the distribution)"}]}]}],"thread_ts":"1610361390.130500","reply_count":15,"reply_users_count":8,"latest_reply":"1610522967.135700","reply_users":["U6A936746","U680T6770","U7YD3DKL2","UJ7DVTVQ8","U01BHRKRJPQ","UB4KR33H9","U011TRN4QBU","UHDQQ4GN6"],"subscribed":false},{"client_msg_id":"83f336d5-b61a-4d74-bf69-7b30ce9c2839","type":"message","text":"If you really don't care about the distribution:`Diagonal(rand(100))`","user":"U6A936746","ts":"1610362370.130600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0xf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you really don't care about the distribution:"},{"type":"text","text":"Diagonal(rand(100))","style":{"code":true}}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"6fbcbdb8-cb78-4b25-99be-6fba4d1bdf63","type":"message","text":"That one is not orthogonal though. Typically, you use the `Q` of `qr(randn(n,n))` when you construct a random orthogonal matrix.","user":"U680T6770","ts":"1610362452.130800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XOE7b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That one is not orthogonal though. Typically, you use the "},{"type":"text","text":"Q","style":{"code":true}},{"type":"text","text":" of "},{"type":"text","text":"qr(randn(n,n))","style":{"code":true}},{"type":"text","text":" when you construct a random orthogonal matrix."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"07e0d0da-fc4d-477b-a616-f7541a49853d","type":"message","text":"I also remembered `Q = exp(A)`, where `A` is random anti-symmetric.","user":"U7YD3DKL2","ts":"1610362776.131000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CqI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I also remembered "},{"type":"text","text":"Q = exp(A)","style":{"code":true}},{"type":"text","text":", where "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" is random anti-symmetric."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"b002da49-16c1-4b1c-a724-0ca9499c150a","type":"message","text":"&gt;  That one is not orthogonal though.\nAh i forgot about the requirement for unit length.\nI was just thinking linearly independent","user":"U6A936746","ts":"1610363271.131200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BRg","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" That one is not orthogonal though."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAh i forgot about the requirement for unit length.\nI was just thinking linearly independent"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"3afc412e-c704-4e6e-8c80-50d31a14d739","type":"message","text":"orthonormal implies unit length, orthogonal does not?","user":"UJ7DVTVQ8","ts":"1610363519.131400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2HB3t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"orthonormal implies unit length, orthogonal does not?"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"e6eb15ce-2b2f-4068-9abc-efc858fb7ecf","type":"message","text":"&gt;  In <https://en.wikipedia.org/wiki/Linear_algebra|linear algebra>, an *orthogonal matrix* is a real <https://en.wikipedia.org/wiki/Square_matrix|square matrix> whose columns and rows are <https://en.wikipedia.org/wiki/Orthonormality|orthonormal> <https://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)|vectors>.\n<https://en.wikipedia.org/wiki/Orthogonal_matrix>","user":"U6A936746","ts":"1610363562.131600","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1610363583.000000"},"blocks":[{"type":"rich_text","block_id":"p4i6m","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" In "},{"type":"link","url":"https://en.wikipedia.org/wiki/Linear_algebra","text":"linear algebra"},{"type":"text","text":", an "},{"type":"text","text":"orthogonal matrix","style":{"bold":true}},{"type":"text","text":" is a real "},{"type":"link","url":"https://en.wikipedia.org/wiki/Square_matrix","text":"square matrix"},{"type":"text","text":" whose columns and rows are "},{"type":"link","url":"https://en.wikipedia.org/wiki/Orthonormality","text":"orthonormal"},{"type":"text","text":" "},{"type":"link","url":"https://en.wikipedia.org/wiki/Vector_(mathematics_and_physics)","text":"vectors"},{"type":"text","text":"."}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://en.wikipedia.org/wiki/Orthogonal_matrix"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"385b4a6d-6eba-4e56-a398-555493f78173","type":"message","text":"Someone needs to do a study on Wikipedia, not on its correctness, but on whether its definitions get adopted as being \"correct\".   To be clear, even in the context of a matrix, I understand orthogonal and orthonormal the same as Fredrik","user":"U01BHRKRJPQ","ts":"1610376500.132600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dBqT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Someone needs to do a study on Wikipedia, not on its correctness, but on whether its definitions get adopted as being \"correct\".   To be clear, even in the context of a matrix, I understand orthogonal and orthonormal the same as Fredrik"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"224d5a6b-bf91-4674-b423-7dad74a5d146","type":"message","text":"It seems that LAPACK consistently uses the Wikipedia definition. Probably because non-normalized orthogonal matrices don’t really play a role in numerical linear algebra.","user":"U680T6770","ts":"1610378088.132800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kYY6=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It seems that LAPACK consistently uses the Wikipedia definition. Probably because non-normalized orthogonal matrices don’t really play a role in numerical linear algebra."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"4dff504a-3ed2-41d1-b127-ce64f0b866d0","type":"message","text":"Both Trefethen &amp; Bau and Golub &amp; Van Loan define an orthogonal matrix Q to be square and such that Q’Q = QQ’ = I.","user":"UB4KR33H9","ts":"1610379364.133000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tZYpr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Both Trefethen & Bau and Golub & Van Loan define an orthogonal matrix Q to be square and such that Q’Q = QQ’ = I."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"53cdc289-4e2f-4091-b79b-4ef70818f945","type":"message","text":"There are no orthonormal matrices. Orthogonal matrices are those whose column/row vectors form an orthonormal collection of vectors. It's for collections of vectors that one distinguishes between orthogonal (pairwise inner products vanish) and orthonormal (orthogonal + unit length).","user":"U011TRN4QBU","ts":"1610390183.133400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qtAjF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are no orthonormal matrices. Orthogonal matrices are those whose column/row vectors form an orthonormal collection of vectors. It's for collections of vectors that one distinguishes between orthogonal (pairwise inner products vanish) and orthonormal (orthogonal + unit length)."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"D6A5A42E-29D2-46CC-BBDD-75B1EDDE0B3C","type":"message","text":"It looks like some authors have been using the terminology for matrices though","user":"U680T6770","ts":"1610392087.134700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3v5MB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It looks like some authors have been using the terminology for matrices though"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"57db55e1-9f0e-4852-a144-a8d920a48983","type":"message","text":"Really? I've never heard of it...","user":"U011TRN4QBU","ts":"1610394600.134900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pXi0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really? I've never heard of it..."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"af817f59-3bf8-444b-af35-48fd64538f7c","type":"message","text":"I’ve definitely seen it, mostly for rectangular matrices, to mean that the columns form a set of orthonormal vectors.","user":"UB4KR33H9","ts":"1610397191.135100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sMD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve definitely seen it, mostly for rectangular matrices, to mean that the columns form a set of orthonormal vectors."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"39ce44d0-fb49-4b26-81b6-fd118e19bf76","type":"message","text":"<@U7YD3DKL2>, to elaborate on <@U680T6770>'s correct answer, `Matrix(qr(randn(T, n, n)).Q)` for `T &lt;: Union{Real,Complex}` will give you an orthogonal matrix drawn from the Haar distribution on the unitary group `U(n)` (i.e. the group whose elements are unitary matrices). The distribution is uniform in the sense that it is invariant to the action of another unitary matrix. For random tall rectangular matrices with orthonormal columns, you can use `svd(randn(T, n, k)).U` (these are elements of the Stiefel manifold `St(n, k)`)","user":"UHDQQ4GN6","ts":"1610520233.135400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KGOP","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7YD3DKL2"},{"type":"text","text":", to elaborate on "},{"type":"user","user_id":"U680T6770"},{"type":"text","text":"'s correct answer, "},{"type":"text","text":"Matrix(qr(randn(T, n, n)).Q)","style":{"code":true}},{"type":"text","text":" for "},{"type":"text","text":"T <: Union{Real,Complex}","style":{"code":true}},{"type":"text","text":" will give you an orthogonal matrix drawn from the Haar distribution on the unitary group "},{"type":"text","text":"U(n)","style":{"code":true}},{"type":"text","text":" (i.e. the group whose elements are unitary matrices). The distribution is uniform in the sense that it is invariant to the action of another unitary matrix. For random tall rectangular matrices with orthonormal columns, you can use "},{"type":"text","text":"svd(randn(T, n, k)).U","style":{"code":true}},{"type":"text","text":" (these are elements of the Stiefel manifold "},{"type":"text","text":"St(n, k)","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"},{"client_msg_id":"87f98bc4-b932-4cb1-8451-84a883e15e72","type":"message","text":"Alan Edelman pointed out in his random matrix class that the LAPACK Q isn’t exactly Haar distributed because of the way the reflectors are chosen. As I recall, you’d have to adjust the signs of all the diagonal elements of R to be the same to get a Haar Q. He told us that he’d proposed it to the LAPACK developers but that they didn’t really care.","user":"U680T6770","ts":"1610522967.135700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f0A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alan Edelman pointed out in his random matrix class that the LAPACK Q isn’t exactly Haar distributed because of the way the reflectors are chosen. As I recall, you’d have to adjust the signs of all the diagonal elements of R to be the same to get a Haar Q. He told us that he’d proposed it to the LAPACK developers but that they didn’t really care."}]}]}],"thread_ts":"1610361390.130500","parent_user_id":"U7YD3DKL2"}]