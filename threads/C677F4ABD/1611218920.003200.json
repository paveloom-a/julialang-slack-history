[{"client_msg_id":"5c224279-0c2b-4541-aa8e-5572fdadbf7d","type":"message","text":"if you want to try out different lapack implementations from a single Julia sessions, you could do `using MKL_jll, OpenBLAS_jll`","user":"U6N6VQE30","ts":"1611218920.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Avb4x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to try out different lapack implementations from a single Julia sessions, you could do "},{"type":"text","text":"using MKL_jll, OpenBLAS_jll","style":{"code":true}}]}]}],"thread_ts":"1611218920.003200","reply_count":20,"reply_users_count":3,"latest_reply":"1611266856.036200","reply_users":["U6G4M02N4","U6N6VQE30","UGD4K0Z25"],"subscribed":false},{"client_msg_id":"e9f85cf1-b5f9-4be5-ab22-3a07f60f91fc","type":"message","text":"Hi Harmen. I already tested MKL using MKL.jl (doesn't fail and is substantially faster), and I assume OpenBLAS is the default that is failing. But how can I test a \"reference LAPACK\" as you suggested last week?","user":"U6G4M02N4","ts":"1611219204.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jiNdh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi Harmen. I already tested MKL using MKL.jl (doesn't fail and is substantially faster), and I assume OpenBLAS is the default that is failing. But how can I test a \"reference LAPACK\" as you suggested last week?"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"2f97d171-259a-4d45-8eb7-b99fcfdaef34","type":"message","text":"(Truth is, helping out with this issue may be above my capabilities, but I want to try nonetheless)","user":"U6G4M02N4","ts":"1611219424.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"keYQA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(Truth is, helping out with this issue may be above my capabilities, but I want to try nonetheless)"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"ae11f471-1f96-48d4-9f89-08621d7cf4ae","type":"message","text":"Ah ok, then you might want to build netlib-lapack from sources locally. I typically use spack to do that: `spack install netlib-lapack` <https://github.com/spack/spack>","user":"U6N6VQE30","ts":"1611220709.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iLBE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah ok, then you might want to build netlib-lapack from sources locally. I typically use spack to do that: "},{"type":"text","text":"spack install netlib-lapack","style":{"code":true}},{"type":"text","text":" "},{"type":"link","url":"https://github.com/spack/spack"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"f6ab54df-44e7-411b-951b-b65cf4ff9df6","type":"message","text":"Uhm, probably need a linux machine for that, yeah? I'm on macos. Will investigate. Thanks!","user":"U6G4M02N4","ts":"1611220789.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9peYI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Uhm, probably need a linux machine for that, yeah? I'm on macos. Will investigate. Thanks!"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"eae7c239-830b-417f-8f3d-b4494721c81c","type":"message","text":"supports macos too :slightly_smiling_face:","user":"U6N6VQE30","ts":"1611221212.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OKoD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"supports macos too "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"c878dcdc-959b-452a-9045-73486e0fa1af","type":"message","text":"although you might need a fortran compiler :smile: maybe this is too much","user":"U6N6VQE30","ts":"1611221236.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tz7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"although you might need a fortran compiler "},{"type":"emoji","name":"smile"},{"type":"text","text":" maybe this is too much"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"db19a83e-4765-4204-81cc-7a3d8ba309e9","type":"message","text":"probably you can install netlib-lapack with brew?","user":"U6N6VQE30","ts":"1611221246.005700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X+G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"probably you can install netlib-lapack with brew?"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"b41016d3-26fc-43ae-9ecc-061e39691708","type":"message","text":"Yeah!\n```brew install lapack```","user":"U6G4M02N4","ts":"1611221255.005900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BPac7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah!\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"brew install lapack"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"0eacc977-f422-4601-8c98-7dc069dbc622","type":"message","text":"that'll give you a dylib that you could dlopen hopefully","user":"U6N6VQE30","ts":"1611221290.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fRZBe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that'll give you a dylib that you could dlopen hopefully"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30","reactions":[{"name":"+1","users":["U6G4M02N4"],"count":1}]},{"client_msg_id":"82f0ebee-bbe3-45ae-85f6-4d513f64d6c2","type":"message","text":"What's your processor? I recently encountered a LAPACK problem with `svd` and the issue only occurred with Haswell and thread count &gt;= 4. The error persists even with Julia v.16-beta.","user":"UGD4K0Z25","ts":"1611236381.031900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YiY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's your processor? I recently encountered a LAPACK problem with "},{"type":"text","text":"svd","style":{"code":true}},{"type":"text","text":" and the issue only occurred with Haswell and thread count >= 4. The error persists even with Julia v.16-beta."}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"8d607c1e-a7c8-4a59-a160-01e16dc32d3e","type":"message","text":"I have an intel i7 (Macbook pro). I tried a single BLAS thread and the same thing happens.","user":"U6G4M02N4","ts":"1611236419.032100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Wa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have an intel i7 (Macbook pro). I tried a single BLAS thread and the same thing happens."}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"370943ca-9fe0-4bfb-b8b7-176f76342ceb","type":"message","text":"What I'm noticing is that the os and language matter. Some matrices fail under python, others under julia, other in both.","user":"U6G4M02N4","ts":"1611236455.032300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LcCx6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What I'm noticing is that the os and language matter. Some matrices fail under python, others under julia, other in both."}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"e3e539eb-2469-4476-b60d-39557b87da07","type":"message","text":"I'm trying to collect it all into a coherent issue","user":"U6G4M02N4","ts":"1611236515.032500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vK8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to collect it all into a coherent issue"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"fd73ecab-35c0-4882-919e-c4752f77ee34","type":"message","text":"Which model year is your Macbook Pro?","user":"UGD4K0Z25","ts":"1611236535.032700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ksLI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which model year is your Macbook Pro?"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"821e60af-1e43-4dc0-accf-ffdd103eef08","type":"message","text":"2018, 13inch.\n```julia&gt; versioninfo()\nJulia Version 1.7.0-DEV.320\nCommit 7647ab574f (2021-01-15 22:52 UTC)\nPlatform Info:\n  OS: macOS (x86_64-apple-darwin18.7.0)\n  CPU: Intel(R) Core(TM) i7-8559U CPU @ 2.70GHz\n  WORD_SIZE: 64\n  LIBM: libopenlibm\n  LLVM: libLLVM-11.0.0 (ORCJIT, skylake)\nEnvironment:\n  JULIA_EDITOR = code```","user":"U6G4M02N4","ts":"1611236572.032900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5UC/m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"2018, 13inch.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> versioninfo()\nJulia Version 1.7.0-DEV.320\nCommit 7647ab574f (2021-01-15 22:52 UTC)\nPlatform Info:\n  OS: macOS (x86_64-apple-darwin18.7.0)\n  CPU: Intel(R) Core(TM) i7-8559U CPU @ 2.70GHz\n  WORD_SIZE: 64\n  LIBM: libopenlibm\n  LLVM: libLLVM-11.0.0 (ORCJIT, skylake)\nEnvironment:\n  JULIA_EDITOR = code"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"f08afe33-44db-4b5d-b78d-d36d5fbbaa1f","type":"message","text":"Also under v1.5.3","user":"U6G4M02N4","ts":"1611236580.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KIdp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also under v1.5.3"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"c5ad16fa-bd10-4ddf-ae33-b87dada4d4d2","type":"message","text":"I think I confirmed the issue calling the netlib-lapack library directly (see the linked issue). Let's hope someone from the upstream repo can have a look. I'll be happy to help however I can, of course.","user":"U6G4M02N4","ts":"1611254642.035300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sfRg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I confirmed the issue calling the netlib-lapack library directly (see the linked issue). Let's hope someone from the upstream repo can have a look. I'll be happy to help however I can, of course."}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"62b87a9e-3372-4546-b30c-98d70c2f04ca","type":"message","text":"My god, reading the LAPACK source code I wonder how anyone can enjoy coding in c...","user":"U6G4M02N4","ts":"1611256619.035600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z826","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My god, reading the LAPACK source code I wonder how anyone can enjoy coding in c..."}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"fab6b14c-050f-4c85-9b6b-c4570c19fd22","type":"message","text":"Those are C gurus","user":"UGD4K0Z25","ts":"1611264436.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z2=ks","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Those are C gurus"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"},{"client_msg_id":"bd9c4850-5cee-475a-8384-e46c291d652e","type":"message","text":"Respect","user":"U6G4M02N4","ts":"1611266856.036200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lMEHQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Respect"}]}]}],"thread_ts":"1611218920.003200","parent_user_id":"U6N6VQE30"}]