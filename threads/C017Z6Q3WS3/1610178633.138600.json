[{"client_msg_id":"8ff31972-9c41-4d23-938d-ab6698fe976d","type":"message","text":"Hi!  Is there a way for pluto to not automatically install packages/update registries every time a notebook is opened?  It keeps on taking 10 mins to startup a pluto notebook on my cluster, which doesn’t do well when it keeps having to update registries all the time because clusters don’t always do very well at handling many many small files","user":"UNJ1EG11C","ts":"1610178633.138600","team":"T68168MUP","edited":{"user":"UNJ1EG11C","ts":"1610178644.000000"},"blocks":[{"type":"rich_text","block_id":"alzsq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi!  Is there a way for pluto to not automatically install packages/update registries every time a notebook is opened?  It keeps on taking 10 mins to startup a pluto notebook on my cluster, which doesn’t do well when it keeps having to update registries all the time because clusters don’t always do very well at handling many many small files"}]}]}],"thread_ts":"1610178633.138600","reply_count":25,"reply_users_count":4,"latest_reply":"1610575100.162300","reply_users":["UH8A351DJ","UNJ1EG11C","UCZ7VBGUD","UUTL3EKN3"],"subscribed":false},{"client_msg_id":"3bc8a451-39b4-4139-ad96-0829b7aa5763","type":"message","text":"do you have a cell in the notebook that does the `Pkg.` operations?","user":"UH8A351DJ","ts":"1610178686.138800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wDtZI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you have a cell in the notebook that does the "},{"type":"text","text":"Pkg.","style":{"code":true}},{"type":"text","text":" operations?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"8df6f03a-8176-4cf8-a18e-1a23f332c335","type":"message","text":"yes, I usually do “Pkg.instantiate()”","user":"UNJ1EG11C","ts":"1610178707.139000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mJAm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, I usually do “Pkg.instantiate()”"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"e29cfec8-1490-4da7-8904-d40239c20614","type":"message","text":"But this also happens when I open a new notebook","user":"UNJ1EG11C","ts":"1610178722.139200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DCtwR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But this also happens when I open a new notebook"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"390c4c66-1cd6-46fc-8d1b-3237d7adfbf6","type":"message","text":"why do you think so?","user":"UH8A351DJ","ts":"1610178734.139400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A0X+F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why do you think so?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"2a338264-6187-4ce9-b208-72c18052391d","type":"message","text":"Like I said, it also happens when I don’t do a Pkg.instantiate","user":"UNJ1EG11C","ts":"1610178763.139600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"80p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Like I said, it also happens when I don’t do a Pkg.instantiate"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"940a64d5-7fd2-4343-95c6-8a135ae07559","type":"message","text":"I'm saying how do you know it's registry checking / updating?","user":"UH8A351DJ","ts":"1610178778.139800","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1610178811.000000"},"blocks":[{"type":"rich_text","block_id":"dpK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm saying how do you know it's registry checking / updating?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"6f9d2384-92f0-42e6-a680-1787a9488873","type":"message","text":"if your new notebook has nothing in it, Pluto should open it up instantly and then idle","user":"UH8A351DJ","ts":"1610178793.140000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gy5Tg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if your new notebook has nothing in it, Pluto should open it up instantly and then idle"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"0a52f760-f490-456d-bbe2-0fe50ae2bbc8","type":"message","text":"I found it through google search","user":"UNJ1EG11C","ts":"1610178827.140300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JDF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I found it through google search"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"81064FED-D3A1-4969-9618-62099C6D6993","type":"message","text":"I usually don’t have any Pkg operations in my notebook and have never seen it update registries or such. Are you sure it does so?","user":"UCZ7VBGUD","ts":"1610190168.142200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vxfKz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I usually don’t have any Pkg operations in my notebook and have never seen it update registries or such. Are you sure it does so?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"cebc04eb-b9d0-4204-80ae-a1e91c90669c","type":"message","text":"10 minutes the first time you open a notebook or every time?","user":"UUTL3EKN3","ts":"1610197358.143900","team":"T68168MUP","edited":{"user":"UUTL3EKN3","ts":"1610197374.000000"},"blocks":[{"type":"rich_text","block_id":"QOu5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"10 minutes the first time you open a notebook or every time?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"91c5435d-6409-43f7-894f-046be671564b","type":"message","text":"new notebooks now create a temp directory, copy pluto’s Project.toml into it and Pkg.instantiate that directory, to make sure that Tables.jl can be imported","user":"UUTL3EKN3","ts":"1610197484.144200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VJs17","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"new notebooks now create a temp directory, copy pluto’s Project.toml into it and Pkg.instantiate that directory, to make sure that Tables.jl can be imported"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"6e977f61-e31d-42d4-ab13-da83d4e476e8","type":"message","text":"in the future every notebook will have its own pkg environment","user":"UUTL3EKN3","ts":"1610197497.144400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BcC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in the future every notebook will have its own pkg environment"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"265f59b7-c95b-4bd6-bdfa-5f209e5eb459","type":"message","text":"<@UNJ1EG11C> can you make a screen recording and send it to me?","user":"UUTL3EKN3","ts":"1610197540.144600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jTq9J","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UNJ1EG11C"},{"type":"text","text":" can you make a screen recording and send it to me?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"541c9260-7b14-4c33-97db-d5f41ed64d3a","type":"message","text":"you can downgrade to pluto 0.12.17 in the meantime","user":"UUTL3EKN3","ts":"1610197931.145400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z4J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can downgrade to pluto 0.12.17 in the meantime"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"3f31ff00-9e2e-4b97-b1a2-787de7959655","type":"message","text":"the idea behind this change was that it takes almost no time if the registry &amp; the Pluto package had been initialized already","user":"UUTL3EKN3","ts":"1610198007.145600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gA3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the idea behind this change was that it takes almost no time if the registry & the Pluto package had been initialized already"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"C9CA2E74-A7DC-4307-AEA1-DEF2C2F9D877","type":"message","text":"Oh, sorry for the bad info! Guess I haven’t used 0.12.18 yet.","user":"UCZ7VBGUD","ts":"1610198802.147200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0ta","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, sorry for the bad info! Guess I haven’t used 0.12.18 yet."}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"3d75cd0c-17d0-4393-814c-bde4b1be26bd","type":"message","text":"Hi, I only just started using Pluto today, which is why I took so long to get back here, but opening this file started an Instantiate() process or registry process","user":"UNJ1EG11C","ts":"1610234765.147800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b/tfG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, I only just started using Pluto today, which is why I took so long to get back here, but opening this file started an Instantiate() process or registry process"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"type":"message","text":"Here, I am opening a previously created pluto notebook.  First Pluto session of the day.","files":[{"id":"F01J96PGCUV","created":1610234773,"timestamp":1610234773,"name":"Screen Shot 2021-01-09 at 18.25.01.png","title":"Screen Shot 2021-01-09 at 18.25.01.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UNJ1EG11C","editable":false,"size":973388,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J96PGCUV/screen_shot_2021-01-09_at_18.25.01.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J96PGCUV/download/screen_shot_2021-01-09_at_18.25.01.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_360.png","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_480.png","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_720.png","thumb_720_w":720,"thumb_720_h":405,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_800.png","thumb_800_w":800,"thumb_800_h":450,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_960.png","thumb_960_w":960,"thumb_960_h":540,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01J96PGCUV-eade5884fa/screen_shot_2021-01-09_at_18.25.01_1024.png","thumb_1024_w":1024,"thumb_1024_h":576,"original_w":5120,"original_h":2880,"thumb_tiny":"AwAbADC39it/+ef6mg2MB/g/U1YooAq/ZLY9Iz+ZpRZW5/5Zn86n4zS4HoKAIPsNv/zz/U0fYbf/AJ5/qasUUAFFFFADcc96UUgUelKAB0oAWikY4HFJk0Af/9k=","permalink":"https://julialang.slack.com/files/UNJ1EG11C/F01J96PGCUV/screen_shot_2021-01-09_at_18.25.01.png","permalink_public":"https://slack-files.com/T68168MUP-F01J96PGCUV-2d7f8d4094","is_starred":false,"has_rich_preview":false},{"id":"F01J96PJ18V","created":1610234780,"timestamp":1610234780,"name":"Screen Shot 2021-01-09 at 18.25.09.png","title":"Screen Shot 2021-01-09 at 18.25.09.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UNJ1EG11C","editable":false,"size":3573519,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J96PJ18V/screen_shot_2021-01-09_at_18.25.09.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J96PJ18V/download/screen_shot_2021-01-09_at_18.25.09.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_360.png","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_480.png","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_720.png","thumb_720_w":720,"thumb_720_h":405,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_800.png","thumb_800_w":800,"thumb_800_h":450,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_960.png","thumb_960_w":960,"thumb_960_h":540,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01J96PJ18V-46e9cdb25b/screen_shot_2021-01-09_at_18.25.09_1024.png","thumb_1024_w":1024,"thumb_1024_h":576,"original_w":5120,"original_h":2880,"thumb_tiny":"AwAbADDOJoOe2aM8ml3CkIZk+tGT6miimMMn1oyaKKAJCKjNOpDSASiiimAUUUUAf//Z","permalink":"https://julialang.slack.com/files/UNJ1EG11C/F01J96PJ18V/screen_shot_2021-01-09_at_18.25.09.png","permalink_public":"https://slack-files.com/T68168MUP-F01J96PJ18V-00a6afeb30","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"DB+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here, I am opening a previously created pluto notebook.  First Pluto session of the day."}]}]}],"user":"UNJ1EG11C","ts":"1610234791.148000","edited":{"user":"UNJ1EG11C","ts":"1610234912.000000"},"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"e8e65ce4-a7b9-444d-b477-ce0e41b8fc49","type":"message","text":"If in the future every notebook has its own pkg environment, does this mean that the instantiate will occur all the time?","user":"UNJ1EG11C","ts":"1610234876.148600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ez","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If in the future every notebook has its own pkg environment, does this mean that the instantiate will occur all the time?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"e6854f48-d13f-4cdc-8b2a-9876b519a53c","type":"message","text":"yes","user":"UUTL3EKN3","ts":"1610367887.149300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9V+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"2be1e038-8b8f-46f5-ab48-b0508b84c298","type":"message","text":"this sounds bad in your context, but it is the only way to make the package dependencies of notebooks reproducible by default. It sounds like you are having problems with Pkg servers or a slow filesystem or something","user":"UUTL3EKN3","ts":"1610368018.149500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8cz1R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this sounds bad in your context, but it is the only way to make the package dependencies of notebooks reproducible by default. It sounds like you are having problems with Pkg servers or a slow filesystem or something"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"6410fdf1-035b-4104-a8c4-16a5a44b022e","type":"message","text":"Mmmmm I’m using DrWatson to keep things reproducible though, especially since sometimes I don’t use notebooks but must have a submission script to run in the backend.  Could this feature be made optional for that context?","user":"UNJ1EG11C","ts":"1610373577.150300","team":"T68168MUP","edited":{"user":"UNJ1EG11C","ts":"1610373586.000000"},"blocks":[{"type":"rich_text","block_id":"TaJh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Mmmmm I’m using DrWatson to keep things reproducible though, especially since sometimes I don’t use notebooks but must have a submission script to run in the backend.  Could this feature be made optional for that context?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C","reactions":[{"name":"green_heart","users":["UUTL3EKN3"],"count":1}]},{"client_msg_id":"fd1a0b2d-681c-4ee8-863b-9125d03e32c0","type":"message","text":"You mean that you `Pkg.activate(\"..\")` or similar? That will still be supported in the future, the behaviour won’t change in that case. Btw you could add a little paragraph to the DrWatson.jl docs about how it works in Pluto?","user":"UUTL3EKN3","ts":"1610574542.161800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H13a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean that you "},{"type":"text","text":"Pkg.activate(\"..\")","style":{"code":true}},{"type":"text","text":" or similar? That will still be supported in the future, the behaviour won’t change in that case. Btw you could add a little paragraph to the DrWatson.jl docs about how it works in Pluto?"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"f9535e06-9775-43f4-a169-40ddbff47209","type":"message","text":"No, I’m using @quickactivate.  The only thing I’ve found is that you need to load @quickactivate in a different cell from `using DrWatson` or `DrWatson` won’t be loaded before @quickactivate","user":"UNJ1EG11C","ts":"1610575022.162100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rWSgy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, I’m using @quickactivate.  The only thing I’ve found is that you need to load @quickactivate in a different cell from "},{"type":"text","text":"using DrWatson","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"DrWatson","style":{"code":true}},{"type":"text","text":" won’t be loaded before @quickactivate"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"},{"client_msg_id":"b6305440-7757-4517-a661-880372d4fd58","type":"message","text":"But if I’m using DrWatson, then I don’t need instantiate to occur all the time for individual notebooks, as it greatly slows down the process on remote clusters, which often have trouble dealing with small files and therefore will be slow in the Pkg system","user":"UNJ1EG11C","ts":"1610575100.162300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TTZw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But if I’m using DrWatson, then I don’t need instantiate to occur all the time for individual notebooks, as it greatly slows down the process on remote clusters, which often have trouble dealing with small files and therefore will be slow in the Pkg system"}]}]}],"thread_ts":"1610178633.138600","parent_user_id":"UNJ1EG11C"}]