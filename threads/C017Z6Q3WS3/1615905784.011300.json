[{"client_msg_id":"63348102-b293-4aa4-b174-f187802ef7a3","type":"message","text":"I’m having my students do some plotting inside a for loop to create a “live” animation. Normally this works by simply calling `display` inside the loop. Students are reporting that this doesn’t display in Pluto. Is there a trick to make this sort of animation display and update inline?","user":"U90JR0C80","ts":"1615905784.011300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"09KsS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m having my students do some plotting inside a for loop to create a “live” animation. Normally this works by simply calling "},{"type":"text","text":"display","style":{"code":true}},{"type":"text","text":" inside the loop. Students are reporting that this doesn’t display in Pluto. Is there a trick to make this sort of animation display and update inline?"}]}]}],"thread_ts":"1615905784.011300","reply_count":13,"reply_users_count":3,"latest_reply":"1616018016.030200","reply_users":["UCZ7VBGUD","U90JR0C80","U67G3QRJM"],"is_locked":false,"subscribed":false},{"client_msg_id":"C576CC68-6B9B-4DBF-A408-B27D5613C4DC","type":"message","text":"You can use a PlutoUI timer and then Pluto’s reactivity to do it: <https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2|https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2>","user":"UCZ7VBGUD","ts":"1615907933.012200","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"Animation slider in Pluto.jl","title_link":"https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2","text":"It’s not exactly with the UI you suggested, but you can use PlutoUI.Clock() for this; for example which is from my work-in-progress notebook <https://github.com/ericphanson/UnbalancedOptimalTransport.jl/blob/305544b877b0fba57bc24329b814c6d216de47e1/scripts/visualize_pluto.jl> You just use t as your timer, which just counts up when you press play, and resets to 1 if you stop and start it. You can use mod1(t,N) to loop after N steps, etc.","fallback":"JuliaLang: Animation slider in Pluto.jl","thumb_url":"https://discourse-cloud-file-uploads.s3.dualstack.us-west-2.amazonaws.com/business5/uploads/julialang/original/3X/8/c/8c47529247e7d3bab3fa0f4bdb4d136aca1db673.gif","ts":1606053451,"from_url":"https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2","thumb_width":2233,"thumb_height":1573,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2"}],"blocks":[{"type":"rich_text","block_id":"lCK77","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can use a PlutoUI timer and then Pluto’s reactivity to do it: "},{"type":"link","url":"https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2","text":"https://discourse.julialang.org/t/animation-slider-in-pluto-jl/50580/2"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80","reactions":[{"name":"disappointed","users":["U90JR0C80"],"count":1}]},{"client_msg_id":"41cb56cb-7f4e-456e-96fb-904746942766","type":"message","text":"that’s a less elegant solution than I was hoping","user":"U90JR0C80","ts":"1615918198.012800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rkf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’s a less elegant solution than I was hoping"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"9da287f5-dcce-4fbd-a980-6ef32dd1a89b","type":"message","text":"hm, I find it kind of elegant since it fits into the reactive model well, which enables broader things.. like the changes you make between iterations don’t need to fit into a loop body for example","user":"UCZ7VBGUD","ts":"1615918329.013000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Vjn/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm, I find it kind of elegant since it fits into the reactive model well, which enables broader things.. like the changes you make between iterations don’t need to fit into a loop body for example"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"2400b37b-840a-451a-9ea3-1b2e26f3c72f","type":"message","text":"you’re really buying into the paradigm at that point though; not so easy to convert it to packaged code","user":"UCZ7VBGUD","ts":"1615918396.013200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cDy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you’re really buying into the paradigm at that point though; not so easy to convert it to packaged code"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80","reactions":[{"name":"+1","users":["U90JR0C80"],"count":1}]},{"client_msg_id":"482b018f-19e3-47ed-aa6f-b5d932049dfe","type":"message","text":"can you help me understand where the plot animation is coming from? I see you bind `t` to a clock, where does this affect the animation plotting?","user":"U90JR0C80","ts":"1615918500.013500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t08","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you help me understand where the plot animation is coming from? I see you bind "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" to a clock, where does this affect the animation plotting?"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"97da5f25-c671-4349-9c01-1b860ba70e6c","type":"message","text":"sure, so it’s just that you then use `t` inside the plot. Then `t` gets updated by the clock ticking, so any cell that uses `t` gets re-evaluated. And if that cell makes a plot, then it gets re-plotted","user":"UCZ7VBGUD","ts":"1615918536.013700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fVr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sure, so it’s just that you then use "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" inside the plot. Then "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" gets updated by the clock ticking, so any cell that uses "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" gets re-evaluated. And if that cell makes a plot, then it gets re-plotted"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80","reactions":[{"name":"+1","users":["U90JR0C80"],"count":1}]},{"client_msg_id":"989983bf-1e3f-4f6f-b523-a499276d17e7","type":"message","text":"so to translate\n```for i in 1:n\n   plt = f(i)\n   display(plt)\nend```\nyou would do\n```t = PlutoUI.Clock() # cell 1\n\nf(min(t, n)) # cell 2```\nand that’s it!\n\n(edited to show use of `min`)","user":"UCZ7VBGUD","ts":"1615918576.014000","team":"T68168MUP","edited":{"user":"UCZ7VBGUD","ts":"1615918681.000000"},"blocks":[{"type":"rich_text","block_id":"RJrT0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so to translate\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for i in 1:n\n   plt = f(i)\n   display(plt)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"you would do\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"t = PlutoUI.Clock() # cell 1\n\nf(min(t, n)) # cell 2"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and that’s it!\n\n(edited to show use of "},{"type":"text","text":"min","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80","reactions":[{"name":"heart","users":["U90JR0C80"],"count":1}]},{"client_msg_id":"3757c5eb-729c-41ac-9d89-f1e2ba2501e7","type":"message","text":"Thanks <@UCZ7VBGUD>. I will communicate this to my students! Thanks for making it explicit for me.","user":"U90JR0C80","ts":"1615918878.014500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LAmi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"UCZ7VBGUD"},{"type":"text","text":". I will communicate this to my students! Thanks for making it explicit for me."}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"af04f094-b128-45a0-a399-80ffd7020b78","type":"message","text":"no problem!","user":"UCZ7VBGUD","ts":"1615918896.014700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uKN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no problem!"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"e6b4a701-a05e-491e-b55f-1f1a8ada830c","type":"message","text":"Pre-generate the data, then make a slider to plot the nth plot","user":"U67G3QRJM","ts":"1615943862.024300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zz5E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Pre-generate the data, then make a slider to plot the nth plot"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"12e0e126-ae4f-4f5b-b64c-b408f9aac314","type":"message","text":"So much better being actually able to control the animation yourself","user":"U67G3QRJM","ts":"1615943888.024500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kJqH+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So much better being actually able to control the animation yourself"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"e739e93f-c3a7-4bbf-8b3c-37dd4662d3a4","type":"message","text":"<@U90JR0C80> ^","user":"U67G3QRJM","ts":"1615943893.024700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SBG98","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U90JR0C80"},{"type":"text","text":" ^"}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"},{"client_msg_id":"843bba91-d5db-4ed2-af38-5d933cb2df05","type":"message","text":"yeah… I really should stop giving students my bad habits.","user":"U90JR0C80","ts":"1616018016.030200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1rF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah… I really should stop giving students my bad habits."}]}]}],"thread_ts":"1615905784.011300","parent_user_id":"U90JR0C80"}]