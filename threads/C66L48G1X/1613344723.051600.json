[{"client_msg_id":"874bd90f-d8b7-4628-a868-7072ca3b781d","type":"message","text":"I made a change to Base docs that was merged and all CI passed, but the change hasn’t appeared on Base docs 24 hrs later. Do these errors mean deploy is broken on Base? <https://build.julialang.org/#/builders/34/builds/583/steps/5/logs/stdio>","user":"U8MPCDJAY","ts":"1613344723.051600","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1613344784.000000"},"attachments":[{"text":"Buildbot web UI","fallback":"Buildbot web UI","from_url":"https://build.julialang.org/#/builders/34/builds/583/steps/5/logs/stdio","service_name":"build.julialang.org","id":1,"original_url":"https://build.julialang.org/#/builders/34/builds/583/steps/5/logs/stdio"}],"blocks":[{"type":"rich_text","block_id":"dZLh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a change to Base docs that was merged and all CI passed, but the change hasn’t appeared on Base docs 24 hrs later. Do these errors mean deploy is broken on Base? "},{"type":"link","url":"https://build.julialang.org/#/builders/34/builds/583/steps/5/logs/stdio"}]}]}],"thread_ts":"1613344723.051600","reply_count":31,"reply_users_count":2,"latest_reply":"1613352508.059500","reply_users":["U9V8ZQVEY","U8MPCDJAY"],"subscribed":false},{"client_msg_id":"07abf5b1-d99d-467d-ac5d-a204e9702384","type":"message","text":"looks that way...","user":"U9V8ZQVEY","ts":"1613345344.051900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VQH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"looks that way..."}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"2147EB89-4D97-48B9-BB00-F6F19281F430","type":"message","text":"Is it worth pinging someone in particular?","user":"U8MPCDJAY","ts":"1613345612.052800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+9E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it worth pinging someone in particular?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"a866d9a8-18e1-457b-abfd-d303c3f72a59","type":"message","text":"<@U67SCG4HG> and/or <@U66GD0880> I guess.. it looks like something has gone wrong with `DOCUMENTER_KEY`","user":"U9V8ZQVEY","ts":"1613345732.053000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c7g","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67SCG4HG"},{"type":"text","text":" and/or "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" I guess.. it looks like something has gone wrong with "},{"type":"text","text":"DOCUMENTER_KEY","style":{"code":true}}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY","reactions":[{"name":"+1","users":["U8MPCDJAY"],"count":1}]},{"client_msg_id":"1bb84a26-c7ca-4cf2-aa32-0d66ae461659","type":"message","text":"It looks like Fredrik updated the deploy key for `<http://docs.julialang.org|docs.julialang.org>` on Feb 4, but it actually hasn't been used.. I guess the key in the buildbots was not updated","user":"U9V8ZQVEY","ts":"1613345887.053300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KpWYQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It looks like Fredrik updated the deploy key for "},{"type":"link","url":"http://docs.julialang.org","text":"docs.julialang.org","style":{"code":true}},{"type":"text","text":" on Feb 4, but it actually hasn't been used.. I guess the key in the buildbots was not updated"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"50A9C4AD-BFBB-4CB8-9C51-CFE7B742070E","type":"message","text":"Perhaps also the deploy job should actually be failing given the error. It passed","user":"U8MPCDJAY","ts":"1613345972.054300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JGK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Perhaps also the deploy job should actually be failing given the error. It passed"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"a06e024c-4029-46aa-8c17-5671ef637153","type":"message","text":"yea... as far as I can tell, it should: <https://github.com/JuliaCI/julia-buildbot/blob/093ce5893839de6962b84837c4825ef65ed5ce28/master/doctest.py#L50-L52>\nIt looks like `make deploy` isn't returning a non-zero if it fails..?","user":"U9V8ZQVEY","ts":"1613346205.054500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rEhgw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea... as far as I can tell, it should: "},{"type":"link","url":"https://github.com/JuliaCI/julia-buildbot/blob/093ce5893839de6962b84837c4825ef65ed5ce28/master/doctest.py#L50-L52"},{"type":"text","text":"\nIt looks like "},{"type":"text","text":"make deploy","style":{"code":true}},{"type":"text","text":" isn't returning a non-zero if it fails..?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"11c94bd6-632f-4d9f-b967-7c48996992f3","type":"message","text":"Seems to be caused by this catching and logging without throwing? <https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/Documenter.jl#L662>","user":"U8MPCDJAY","ts":"1613350423.054700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6j+E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems to be caused by this catching and logging without throwing? "},{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/Documenter.jl#L662"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"c67893a4-cc54-49a5-91b0-90c429b7ce87","type":"message","text":"Is `post_github_status` compatible with the Base build system? <https://github.com/JuliaDocs/Documenter.jl/blob/8d75805af40466cd8cfa75bce52629fb7f5aa8da/src/deployconfig.jl#L460>","user":"U8MPCDJAY","ts":"1613350652.054900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aIcRF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is "},{"type":"text","text":"post_github_status","style":{"code":true}},{"type":"text","text":" compatible with the Base build system? "},{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/blob/8d75805af40466cd8cfa75bce52629fb7f5aa8da/src/deployconfig.jl#L460"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"563f7736-94f7-42c7-9000-07ffc36cddae","type":"message","text":"&gt; Is post_github_status compatible with the Base build system?\nNo, not at all","user":"U9V8ZQVEY","ts":"1613350726.055100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"djute","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Is post_github_status compatible with the Base build system?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"No, not at all"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"5d37d9c8-64da-41ff-a91b-39a0c60768d5","type":"message","text":"ok, so perhaps there should be an ENV var set on base docs to throw errors directly?","user":"U8MPCDJAY","ts":"1613350756.055300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ts7Z+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, so perhaps there should be an ENV var set on base docs to throw errors directly?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"e07c8f09-33ff-4df0-94dc-011016815ef6","type":"message","text":"probably a keyword to `deploydocs`","user":"U9V8ZQVEY","ts":"1613350789.055500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rk4Qm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"probably a keyword to "},{"type":"text","text":"deploydocs","style":{"code":true}}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"b39fa743-a031-412f-9b31-a2db750f4c2b","type":"message","text":"`github_error_reporting::Bool`?","user":"U8MPCDJAY","ts":"1613350916.055700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t0kT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"github_error_reporting::Bool","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"82fd033b-e9a1-4f28-a291-f078a0d9b4c5","type":"message","text":"`use_github_api_for_errors`?","user":"U8MPCDJAY","ts":"1613351079.055900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4jy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"use_github_api_for_errors","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"17ba6086-af75-4e66-82f1-646bc1218ac9","type":"message","text":"struggling to make this short..","user":"U8MPCDJAY","ts":"1613351084.056100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g=hmv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"struggling to make this short.."}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"b8169850-aaab-4ca5-867b-617935f2a9fb","type":"message","text":"it might be possible to dispatch on `post_status`: <https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/deployconfig.jl#L442-L466>","user":"U9V8ZQVEY","ts":"1613351292.056300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sduJ3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it might be possible to dispatch on "},{"type":"text","text":"post_status","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/deployconfig.jl#L442-L466"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"ca4277da-9d20-4f86-b6be-fb0e7debdbea","type":"message","text":"ah interesting ok","user":"U8MPCDJAY","ts":"1613351338.056500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3EoBg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah interesting ok"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"19ee606b-b6f8-4e59-94c2-71f2018ddfc0","type":"message","text":"the overload could go here, so it doesn't even need to be in Documenter: <https://github.com/JuliaLang/julia/blob/master/doc/make.jl#L302-L316>","user":"U9V8ZQVEY","ts":"1613351365.056700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iHSv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the overload could go here, so it doesn't even need to be in Documenter: "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/doc/make.jl#L302-L316"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"5253719b-ccfe-4358-a97a-c6b0276492f1","type":"message","text":"cool, and keep the `@error` as `@error`","user":"U8MPCDJAY","ts":"1613351413.056900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lcL6j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool, and keep the "},{"type":"text","text":"@error","style":{"code":true}},{"type":"text","text":" as "},{"type":"text","text":"@error","style":{"code":true}}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"e70adba0-23e5-4010-bd49-5dbbb7270939","type":"message","text":"neat solution","user":"U8MPCDJAY","ts":"1613351430.057100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7tHn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"neat solution"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"4f1bfdf6-5218-413e-8088-f5d900f59dc5","type":"message","text":"shall I try a PR, or you?","user":"U8MPCDJAY","ts":"1613351469.057300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cYxX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"shall I try a PR, or you?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"287993cb-e21f-4276-af05-4b6cbb08a2f2","type":"message","text":"I'm more than happy to leave the PR to you if you don't mind :smile:","user":"U9V8ZQVEY","ts":"1613351487.057500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kfL=5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm more than happy to leave the PR to you if you don't mind "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"c18cf1bd-6655-4972-9412-85a1127aeef0","type":"message","text":"hehe cool, I’ll give it a go","user":"U8MPCDJAY","ts":"1613351501.057700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k8QEV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hehe cool, I’ll give it a go"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"9fa8de59-8118-439f-a686-3ca3b3f3581e","type":"message","text":"I’m a bit confused.. the build already sets `deploy_config = BuildBotConfig()` so how was it dispatching on `post_status(::GitHubActions...`?","user":"U8MPCDJAY","ts":"1613351731.057900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u+Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m a bit confused.. the build already sets "},{"type":"text","text":"deploy_config = BuildBotConfig()","style":{"code":true}},{"type":"text","text":" so how was it dispatching on "},{"type":"text","text":"post_status(::GitHubActions...","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"e468e778-76ae-4ce9-bba3-824fc74aabfa","type":"message","text":"I don't think it does actually?","user":"U9V8ZQVEY","ts":"1613351831.058100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Nn4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think it does actually?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"86e0597c-71bd-4d93-aaee-e1d24f115a79","type":"message","text":"so wouldn’t that itself error?","user":"U8MPCDJAY","ts":"1613351849.058300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rjB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so wouldn’t that itself error?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"afae33fa-2b26-4317-9f6e-fc3128ded1f8","type":"message","text":"if it couldn’t call `post_status`?","user":"U8MPCDJAY","ts":"1613351863.058500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nbsj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it couldn’t call "},{"type":"text","text":"post_status","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"e76900d3-dd94-42f9-8cf4-bf20a851c29c","type":"message","text":"fallback method: <https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/deployconfig.jl#L101>","user":"U9V8ZQVEY","ts":"1613351878.058700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ueS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fallback method: "},{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/blob/ee0d535e519704c4a6148cb0b3c225ad07517ead/src/deployconfig.jl#L101"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"2b5b0356-4422-4ee8-9a4c-85da3c44d612","type":"message","text":"ah ha!","user":"U8MPCDJAY","ts":"1613351892.058900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HZc+D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah ha!"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"4ccee0ad-3880-4b67-9c6d-0a5cb984d52c","type":"message","text":"I was searching for `function post_status(`","user":"U8MPCDJAY","ts":"1613351907.059100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uTBbg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was searching for "},{"type":"text","text":"function post_status(","style":{"code":true}}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"6b365456-5f63-49c3-ac26-94362491f6a8","type":"message","text":"I get caught out by that too much.. I need a better way to search for function defs","user":"U8MPCDJAY","ts":"1613351928.059300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G5Xe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I get caught out by that too much.. I need a better way to search for function defs"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"b1d7adf8-298d-4dd7-b906-01fc0a0adb89","type":"message","text":"<https://github.com/JuliaLang/julia/pull/39663>","user":"U8MPCDJAY","ts":"1613352508.059500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tHn","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39663"}]}]}],"thread_ts":"1613344723.051600","parent_user_id":"U8MPCDJAY"}]