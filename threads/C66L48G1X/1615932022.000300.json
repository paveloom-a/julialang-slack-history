[{"type":"message","text":"I'm running into a similar issue where the docs just fail to deploy both for tags and for `dev` . The documenter workflow and `make.jl`files are nearly complete copy-paste from working projects, `DOCUMENTER_KEY` exists and preview builds work. But it looks like the the actual builds on master for `dev` simply don't make it back to github - looking at `gh-pages`, I can see PR previews, but nothing from any of the pushes to `master` nor tags.","user":"UNM9YG7A5","ts":"1615932022.000300","team":"T68168MUP","attachments":[{"fallback":"[March 10th, 2021 10:22 PM] matt.brzezinski: I have a new package which I’m trying to deploy documentation for. In my GitHub CI Action I just get this error:\n\n```Failed to add the RSA host key for IP address '140.82.121.4' to the list of known hosts (/home/runner/.ssh/known_hosts).```\nI’ve added in a deploy key and GH Secret from the `DocumenterTools.genkeys()`","ts":"1615411335.080300","author_id":"ULDQSHD41","author_subname":"Matt Brzezinski","channel_id":"C66L48G1X","channel_name":"documentation","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"I have a new package which I’m trying to deploy documentation for. In my GitHub CI Action I just get this error:\n\n```Failed to add the RSA host key for IP address '140.82.121.4' to the list of known hosts (/home/runner/.ssh/known_hosts).```\nI’ve added in a deploy key and GH Secret from the `DocumenterTools.genkeys()`","author_name":"Matt Brzezinski","author_link":"https://julialang.slack.com/team/ULDQSHD41","author_icon":"https://avatars.slack-edge.com/2020-08-04/1273821893814_770a2ba68a041b05d388_48.png","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https://julialang.slack.com/archives/C66L48G1X/p1615411335080300?thread_ts=1615411335080300&cid=C66L48G1X","is_share":true,"footer":"Thread in #documentation"}],"blocks":[{"type":"rich_text","block_id":"b/NP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm running into a similar issue where the docs just fail to deploy both for tags and for "},{"type":"text","text":"dev","style":{"code":true}},{"type":"text","text":" . The documenter workflow and "},{"type":"text","text":"make.jl","style":{"code":true}},{"type":"text","text":"files are nearly complete copy-paste from working projects, "},{"type":"text","text":"DOCUMENTER_KEY","style":{"code":true}},{"type":"text","text":" exists and preview builds work. But it looks like the the actual builds on master for "},{"type":"text","text":"dev","style":{"code":true}},{"type":"text","text":" simply don't make it back to github - looking at "},{"type":"text","text":"gh-pages","style":{"code":true}},{"type":"text","text":", I can see PR previews, but nothing from any of the pushes to "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":" nor tags."}]}]}],"thread_ts":"1615932022.000300","reply_count":19,"reply_users_count":2,"latest_reply":"1615934460.005500","reply_users":["U9V8ZQVEY","UNM9YG7A5"],"is_locked":false,"subscribed":false},{"client_msg_id":"d61ea804-2919-4243-9cfc-51b406350724","type":"message","text":"Can you share a link to the repo?","user":"U9V8ZQVEY","ts":"1615932780.000400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fzP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you share a link to the repo?"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"84d9e598-20bb-40b8-8447-4506fe0889df","type":"message","text":"Woops, thought I did","user":"UNM9YG7A5","ts":"1615933140.000600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J+MA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Woops, thought I did"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"6753c4a0-56cd-4b2d-8c21-8d7aa52ba415","type":"message","text":"Here's the most recent build: <https://github.com/RePsychLing/MixedModelsSim.jl/runs/2125760770>","user":"UNM9YG7A5","ts":"1615933156.000800","team":"T68168MUP","edited":{"user":"UNM9YG7A5","ts":"1615933165.000000"},"blocks":[{"type":"rich_text","block_id":"v=i2j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here's the most recent build: "},{"type":"link","url":"https://github.com/RePsychLing/MixedModelsSim.jl/runs/2125760770"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"ce00ce50-09f1-4471-8aa8-d6a41bd58268","type":"message","text":"interesting... it actually did deploy... <https://github.com/RePsychLing/MixedModelsSim.jl/commit/b9bab8b8203ab46424a08c0ec1c86d25c93c35b8>","user":"U9V8ZQVEY","ts":"1615933318.001100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gS4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"interesting... it actually did deploy... "},{"type":"link","url":"https://github.com/RePsychLing/MixedModelsSim.jl/commit/b9bab8b8203ab46424a08c0ec1c86d25c93c35b8"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"56b3b0e1-b50e-4b94-bff3-6dd166e6d0bc","type":"message","text":"here's the problem: <https://github.com/RePsychLing/MixedModelsSim.jl/blob/gh-pages/.gitignore#L6-L8>","user":"U9V8ZQVEY","ts":"1615933417.001300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JI+c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"here's the problem: "},{"type":"link","url":"https://github.com/RePsychLing/MixedModelsSim.jl/blob/gh-pages/.gitignore#L6-L8"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"ed997847-d8ae-449b-af8f-dbcef8fa5e9b","type":"message","text":"`git add` doesn't work because those paths are being ignored","user":"U9V8ZQVEY","ts":"1615933438.001600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T3a7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"git add","style":{"code":true}},{"type":"text","text":" doesn't work because those paths are being ignored"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"c98d8fee-4baa-459e-87a0-945e93612967","type":"message","text":":face_palm:","user":"UNM9YG7A5","ts":"1615933446.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6njT","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"face_palm"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"39780aee-27d6-43a5-8cf4-aa16555abf40","type":"message","text":"basically though, you should nuke `gh-pages`, because currently it has shared history with the `master` branch","user":"U9V8ZQVEY","ts":"1615933460.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gfby6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"basically though, you should nuke "},{"type":"text","text":"gh-pages","style":{"code":true}},{"type":"text","text":", because currently it has shared history with the "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":" branch"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"14f41a52-5dd5-4437-af7d-02a3aead4aba","type":"message","text":"If you knew how much time I spent trying to track down that issue","user":"UNM9YG7A5","ts":"1615933476.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qAA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you knew how much time I spent trying to track down that issue"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"093104fa-aed6-4009-98b6-4b1abeb77340","type":"message","text":"since you don't have any versioned docs deployed, you can just delete the branch and re-run the CI for `master`","user":"U9V8ZQVEY","ts":"1615933480.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fawK+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"since you don't have any versioned docs deployed, you can just delete the branch and re-run the CI for "},{"type":"text","text":"master","style":{"code":true}}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"5d1655ab-c353-4091-9898-d88f947348cb","type":"message","text":"I'm glad I added a `workflow_dispatch` trigger :slightly_smiling_face:","user":"UNM9YG7A5","ts":"1615933642.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gEg9E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm glad I added a "},{"type":"text","text":"workflow_dispatch","style":{"code":true}},{"type":"text","text":" trigger "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"7637baac-fee7-4bc3-848f-4b1a78848452","type":"message","text":"what does that actually do?","user":"U9V8ZQVEY","ts":"1615933659.003900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PoEC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does that actually do?"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"fa72890d-195b-4481-9f32-580fcbc492d7","type":"message","text":"That means I can just click \"run Documenter.yml\" without merging/pushing anything. So then I can do `git push -d origin gh-pages`, go over to the Actions tab on GitHub and click \"run documenter\"","user":"UNM9YG7A5","ts":"1615933716.004100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q65eg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That means I can just click \"run Documenter.yml\" without merging/pushing anything. So then I can do "},{"type":"text","text":"git push -d origin gh-pages","style":{"code":true}},{"type":"text","text":", go over to the Actions tab on GitHub and click \"run documenter\""}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"da2e4656-dbb4-44b0-a367-5868c91c8e64","type":"message","text":"hmm, that sounds interesting, I need to look into that","user":"U9V8ZQVEY","ts":"1615933786.004300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"quz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm, that sounds interesting, I need to look into that"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"befa3312-b77f-429d-ae25-3009eb29114e","type":"message","text":"VERY useful when debugging intermittent CI failures (MixedModels.jl had one a long time ago where the actual VM running the CI made a difference -- it depended on whether the underlying hardware had AVX support or not)","user":"UNM9YG7A5","ts":"1615933852.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J7R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"VERY useful when debugging intermittent CI failures (MixedModels.jl had one a long time ago where the actual VM running the CI made a difference -- it depended on whether the underlying hardware had AVX support or not)"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"2aa657df-2c75-4395-9ada-7aeef568b1ec","type":"message","text":"ah, but documenter won't deploy on that event:\n&gt;  ┌ Info: Deployment criteria for deploying devbranch build from GitHub Actions: \n&gt; \n&gt; │ - :heavy_check_mark: ENV[\"GITHUB_REPOSITORY\"]=\"RePsychLing/MixedModelsSim.jl\" occurs in repo=\"<http://github.com/RePsychLing/MixedModelsSim.jl|github.com/RePsychLing/MixedModelsSim.jl>\" \n&gt; \n&gt; │ - ✘ ENV[\"GITHUB_EVENT_NAME\"]=\"workflow_dispatch\" is \"push\" \n&gt; \n&gt; │ - :heavy_check_mark: ENV[\"GITHUB_REF\"] matches devbranch=\"master\" \n&gt; \n&gt; │ - :heavy_check_mark: ENV[\"GITHUB_ACTOR\"] exists and is non-empty \n&gt; \n&gt; │ - :heavy_check_mark: ENV[\"DOCUMENTER_KEY\"] exists and is non-empty \n&gt; \n&gt; \n&gt; └ Deploying: ✘","user":"UNM9YG7A5","ts":"1615934043.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XkV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, but documenter won't deploy on that event:\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":" ┌ Info: Deployment criteria for deploying devbranch build from GitHub Actions: \n\n│ - "},{"type":"emoji","name":"heavy_check_mark"},{"type":"text","text":" ENV[\"GITHUB_REPOSITORY\"]=\"RePsychLing/MixedModelsSim.jl\" occurs in repo=\""},{"type":"link","url":"http://github.com/RePsychLing/MixedModelsSim.jl","text":"github.com/RePsychLing/MixedModelsSim.jl"},{"type":"text","text":"\" \n\n│ - ✘ ENV[\"GITHUB_EVENT_NAME\"]=\"workflow_dispatch\" is \"push\" \n\n│ - "},{"type":"emoji","name":"heavy_check_mark"},{"type":"text","text":" ENV[\"GITHUB_REF\"] matches devbranch=\"master\" \n\n│ - "},{"type":"emoji","name":"heavy_check_mark"},{"type":"text","text":" ENV[\"GITHUB_ACTOR\"] exists and is non-empty \n\n│ - "},{"type":"emoji","name":"heavy_check_mark"},{"type":"text","text":" ENV[\"DOCUMENTER_KEY\"] exists and is non-empty \n\n\n└ Deploying: ✘"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"a3ccb429-d0b4-4baa-b259-b2272272810a","type":"message","text":"A noble try (and thanks for the expedient help!)","user":"UNM9YG7A5","ts":"1615934056.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ram","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A noble try (and thanks for the expedient help!)"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"e01c170f-1872-4792-9f64-5b4f17cba367","type":"message","text":"ah, yeah, not surprised. But we should probably support `workflow_dispatch`","user":"U9V8ZQVEY","ts":"1615934265.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bY9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, yeah, not surprised. But we should probably support "},{"type":"text","text":"workflow_dispatch","style":{"code":true}}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5"},{"client_msg_id":"6f173eea-7751-4ba0-a170-04d1874a1d36","type":"message","text":"<https://github.com/JuliaDocs/Documenter.jl/issues/1554>","user":"U9V8ZQVEY","ts":"1615934460.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=SX7t","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaDocs/Documenter.jl/issues/1554"}]}]}],"thread_ts":"1615932022.000300","parent_user_id":"UNM9YG7A5","reactions":[{"name":"heart","users":["UNM9YG7A5"],"count":1}]}]