[{"client_msg_id":"ebef8ff9-1c87-467d-a619-504260fed1cf","type":"message","text":"Should this work to let me have `@info` printout in doctests?:\n`\n```@meta\nDocTestFilters = r\"└.+\\n\"```\n`\nI hoped this would ignore the line number, but I’m not sure it’s having any effect.","user":"UD0NS8PDF","ts":"1611851512.024800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nDv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should this work to let me have "},{"type":"text","text":"@info","style":{"code":true}},{"type":"text","text":" printout in doctests?:\n`\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@meta\nDocTestFilters = r\"└.+\\n\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"`\nI hoped this would ignore the line number, but I’m not sure it’s having any effect."}]}]}],"thread_ts":"1611851512.024800","reply_count":17,"reply_users_count":2,"latest_reply":"1612029662.028300","reply_users":["UD0NS8PDF","U67SCG4HG"],"subscribed":false},{"client_msg_id":"10643b05-1d34-41a5-9c5d-07fde1964d15","type":"message","text":"Quoting is weird, this commit <https://github.com/FluxML/Flux.jl/pull/1486/commits/cff66837dbc71490d1c475525493033fe045066d> for this CI error <https://github.com/FluxML/Flux.jl/pull/1486/checks?check_run_id=1785380720>","user":"UD0NS8PDF","ts":"1611851553.024900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EWgV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Quoting is weird, this commit "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1486/commits/cff66837dbc71490d1c475525493033fe045066d"},{"type":"text","text":" for this CI error "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1486/checks?check_run_id=1785380720"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"5e28eb43-8c3e-49fe-a4bc-0200fafb644d","type":"message","text":"How can you have that block in a Julia file?","user":"U67SCG4HG","ts":"1611851854.025100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7BT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can you have that block in a Julia file?"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"f40123bd-9380-4d5b-8892-f412e7dc5cf6","type":"message","text":"Sorry there’s a triple backtick which slack ate, before the `@meta`. A few more iterations on here’s the commit:\n<https://github.com/FluxML/Flux.jl/pull/1486/commits/68a259d3c61336c2cc15e0c76d60cd126d4d6217>\n(Adding square brackets, and avoiding the special char)","user":"UD0NS8PDF","ts":"1611852147.025300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z4QLO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry there’s a triple backtick which slack ate, before the "},{"type":"text","text":"@meta","style":{"code":true}},{"type":"text","text":". A few more iterations on here’s the commit:\n"},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1486/commits/68a259d3c61336c2cc15e0c76d60cd126d4d6217"},{"type":"text","text":"\n(Adding square brackets, and avoiding the special char)"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"01d94d1f-5c84-4ea8-acfb-3716dde942ca","type":"message","text":"Yes, but I meant that this is inside  `.jl` file, but that is not Julia syntax","user":"U67SCG4HG","ts":"1611852231.025500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EdSp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, but I meant that this is inside  "},{"type":"text","text":".jl","style":{"code":true}},{"type":"text","text":" file, but that is not Julia syntax"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"efb7824c-8566-427a-8df5-10ca5e7afae4","type":"message","text":"Well, it is valid, but you are just creating a mutliline `Cmd` :slightly_smiling_face:","user":"U67SCG4HG","ts":"1611852248.025700","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1611852267.000000"},"blocks":[{"type":"rich_text","block_id":"Ttq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, it is valid, but you are just creating a mutliline "},{"type":"text","text":"Cmd","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"0e0ecb78-b4cb-425c-968f-aa32e03bb9f3","type":"message","text":"Yes, this is true :slightly_smiling_face: Documenter still seems to find it though! Would it be better to put it inside the first docstring, maybe?","user":"UD0NS8PDF","ts":"1611852379.026000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EqO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, this is true "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" Documenter still seems to find it though! Would it be better to put it inside the first docstring, maybe?"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"2f4b6817-ff9d-4c51-a2bd-2bfb1f75aef1","type":"message","text":"No I don't think Documenter can find that","user":"U67SCG4HG","ts":"1611852416.026200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vbN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No I don't think Documenter can find that"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"fbf891cb-a90d-4687-9a11-03c7591d5b39","type":"message","text":"You need it in a markdown file, or set the meta in e.g. `make.jl`","user":"U67SCG4HG","ts":"1611852444.026400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ytO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You need it in a markdown file, or set the meta in e.g. "},{"type":"text","text":"make.jl","style":{"code":true}}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"84d12916-d44f-4142-a212-a0206e21215d","type":"message","text":"OK, I think I see where to move it to, in the docs just above where this function’s docstring gets included.","user":"UD0NS8PDF","ts":"1611852696.026600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xPcj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, I think I see where to move it to, in the docs just above where this function’s docstring gets included."}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"aabdd3b0-895b-472b-9d96-24400e9de946","type":"message","text":"However I’m still having escaping difficulties, CI says things like this:\n```DocTestFilters = [r\"\\@ Flux .+\\n\"]\n`: special characters \"#{}()[]&lt;&gt;|&amp;*?~;\" must be quoted in commands```\nHow should I escape the `@` sign?","user":"UD0NS8PDF","ts":"1611852749.026800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mhfc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"However I’m still having escaping difficulties, CI says things like this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"DocTestFilters = [r\"\\@ Flux .+\\n\"]\n`: special characters \"#{}()[]<>|&*?~;\" must be quoted in commands"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"How should I escape the "},{"type":"text","text":"@","style":{"code":true}},{"type":"text","text":" sign?"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"fbc33db1-7aa0-4345-b9d1-57cb641c8144","type":"message","text":"That error is again from creating a `Cmd` it looks like?","user":"U67SCG4HG","ts":"1611852836.027000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kWIFA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That error is again from creating a "},{"type":"text","text":"Cmd","style":{"code":true}},{"type":"text","text":" it looks like?"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"c30075ed-b77b-4884-82c8-a68aacd572b4","type":"message","text":"Yes it was. Maybe it won’t be needed once it’s in a better place…","user":"UD0NS8PDF","ts":"1611852950.027200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NHGyI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes it was. Maybe it won’t be needed once it’s in a better place…"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"3c83c3f1-4d66-48f6-8ac1-821209f47762","type":"message","text":"I looked at the manual and it doesn't describe this very well, but either you have an `@meta` block (in a `.md` file, or you have just a vector of regex and pass that to `makedocs`/`doctest`.","user":"U67SCG4HG","ts":"1611853151.027400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cm3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I looked at the manual and it doesn't describe this very well, but either you have an "},{"type":"text","text":"@meta","style":{"code":true}},{"type":"text","text":" block (in a "},{"type":"text","text":".md","style":{"code":true}},{"type":"text","text":" file, or you have just a vector of regex and pass that to "},{"type":"text","text":"makedocs","style":{"code":true}},{"type":"text","text":"/"},{"type":"text","text":"doctest","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"a106266a-bbd5-4918-8ab4-920534ab95c0","type":"message","text":"Am I right to think that this meta block can be immediately above the particular docstring? I have it like that now (<https://github.com/FluxML/Flux.jl/pull/1486/files#diff-257649e90295ade8e871bd10b838fbdb3ae7191952651475e4ca477958d83ad2>) and it still fails, it does not seem to be ignoring the line I want it to.","user":"UD0NS8PDF","ts":"1611853771.027600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2h+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Am I right to think that this meta block can be immediately above the particular docstring? I have it like that now ("},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1486/files#diff-257649e90295ade8e871bd10b838fbdb3ae7191952651475e4ca477958d83ad2"},{"type":"text","text":") and it still fails, it does not seem to be ignoring the line I want it to."}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"ef7a2438-34eb-466c-82ef-d3cfb30be64e","type":"message","text":"I don't see the block now, but easiests might be to amend filters here: <https://github.com/FluxML/Flux.jl/blob/fdf715269549e42cc79d0baa7b7d18b1ae6ecf7d/docs/make.jl#L3>","user":"U67SCG4HG","ts":"1611863180.027800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S8t+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't see the block now, but easiests might be to amend filters here: "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/blob/fdf715269549e42cc79d0baa7b7d18b1ae6ecf7d/docs/make.jl#L3"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"ab6d6c43-7c2c-4223-9544-6dc78fd177ef","type":"message","text":"And Flux seem to run doctests separately, so might need to adjust here: <https://github.com/FluxML/Flux.jl/blob/fdf715269549e42cc79d0baa7b7d18b1ae6ecf7d/.github/workflows/ci.yml#L83>","user":"U67SCG4HG","ts":"1611863225.028000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d2/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And Flux seem to run doctests separately, so might need to adjust here: "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/blob/fdf715269549e42cc79d0baa7b7d18b1ae6ecf7d/.github/workflows/ci.yml#L83"}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"4feb160e-ef80-4c98-9dac-751f3418aee5","type":"message","text":"Thanks for taking a look. I haven’t got back to this, I got tired of fiddling and disabled those tests for now… but will try again at some point.","user":"UD0NS8PDF","ts":"1612029662.028300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xisZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for taking a look. I haven’t got back to this, I got tired of fiddling and disabled those tests for now… but will try again at some point."}]}]}],"thread_ts":"1611851512.024800","parent_user_id":"UD0NS8PDF"}]