[{"client_msg_id":"4d5070a3-4eb6-415a-b84e-5be18b8b3962","type":"message","text":"I have a vector of random values (particles from MonteCarloMeasurements actually). The random variable is not a Gaussian, although it has a single peak (like a triangle). How do I evaluate a confidence interval for that sort of random variable? (disclaimer: not a statistician)","user":"UB197FRCL","ts":"1612494783.054900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fdB8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a vector of random values (particles from MonteCarloMeasurements actually). The random variable is not a Gaussian, although it has a single peak (like a triangle). How do I evaluate a confidence interval for that sort of random variable? (disclaimer: not a statistician)"}]}]}],"thread_ts":"1612494783.054900","reply_count":17,"reply_users_count":3,"latest_reply":"1612514807.060800","reply_users":["UB197FRCL","UJ7DVTVQ8","U7JQGPGCQ"],"subscribed":false},{"client_msg_id":"8eabb011-1173-43eb-9e3d-c26fe11e36dd","type":"message","text":"I thought `confint(data, level)` from StatsBase would give the smallest interval that contains `level` amount of the data, but I'm starting to understand that one must use HypothesisTests.jl, and I'm not familiar with any of those, so not sure what to pick.","user":"UB197FRCL","ts":"1612494914.055000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qw/Mb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought "},{"type":"text","text":"confint(data, level)","style":{"code":true}},{"type":"text","text":" from StatsBase would give the smallest interval that contains "},{"type":"text","text":"level","style":{"code":true}},{"type":"text","text":" amount of the data, but I'm starting to understand that one must use HypothesisTests.jl, and I'm not familiar with any of those, so not sure what to pick."}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"027ba4e7-d5f2-4dcd-af4e-76cac067e1ef","type":"message","text":"FWIW, I went with `quantile(x, [(1-level)/2, 1-(1-level)/2])` which I think gives me the interval that contains `level` of the data and leaves out as much data below as it leaves data above. So `level == 90 %` means the interval goes from the 5-th percentile to the 95-th percentile. Please let me know if I'm doing something stupid! :sweat_smile:","user":"UB197FRCL","ts":"1612500933.055200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/cg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW, I went with "},{"type":"text","text":"quantile(x, [(1-level)/2, 1-(1-level)/2])","style":{"code":true}},{"type":"text","text":" which I think gives me the interval that contains "},{"type":"text","text":"level","style":{"code":true}},{"type":"text","text":" of the data and leaves out as much data below as it leaves data above. So "},{"type":"text","text":"level == 90 %","style":{"code":true}},{"type":"text","text":" means the interval goes from the 5-th percentile to the 95-th percentile. Please let me know if I'm doing something stupid! "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL","reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"f81c1c8e-7622-466c-9292-0e3c1956b1bc","type":"message","text":"Quantile is the preferred approach :smiley:","user":"UJ7DVTVQ8","ts":"1612502748.055400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pngK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Quantile is the preferred approach "},{"type":"emoji","name":"smiley"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL","reactions":[{"name":"pray","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"8157d7b5-c384-4e13-a680-f1a304e4873a","type":"message","text":"MonteCarloMeasurements is :fire: BTW!","user":"UB197FRCL","ts":"1612506144.055700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"njLq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MonteCarloMeasurements is "},{"type":"emoji","name":"fire"},{"type":"text","text":" BTW!"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"35a83b66-02d2-4e05-ac65-08c8c292c94a","type":"message","text":"Thanks, awesome to hear :heart_eyes:","user":"UJ7DVTVQ8","ts":"1612508670.056100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2BPL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, awesome to hear "},{"type":"emoji","name":"heart_eyes"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"6c50790f-dffe-4c19-bf6c-6dd5a95200e5","type":"message","text":"I was showing some stuff to a Julia-novice audience using a Pluto notebook and playing with `x ± y` types of variables, and then someone asked \"but what if this one was uniform\", and I thought \"Ha I did not prepare for that. I'll check later and try to figure out a way to do that\". And then I was very happy about the ease of changing the distribution of the input with `Particles(distribution)`","user":"UB197FRCL","ts":"1612509181.056300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O4I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was showing some stuff to a Julia-novice audience using a Pluto notebook and playing with "},{"type":"text","text":"x ± y","style":{"code":true}},{"type":"text","text":" types of variables, and then someone asked \"but what if this one was uniform\", and I thought \"Ha I did not prepare for that. I'll check later and try to figure out a way to do that\". And then I was very happy about the ease of changing the distribution of the input with "},{"type":"text","text":"Particles(distribution)","style":{"code":true}}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"8765c03f-c052-4511-b48d-0191ac71dd58","type":"message","text":"You also have\n```julia&gt; 1..2\n1.5 ± 0.289```\nfor uniform variables :slightly_smiling_face:","user":"UJ7DVTVQ8","ts":"1612509245.056500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QsieC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You also have\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> 1..2\n1.5 ± 0.289"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"for uniform variables "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL","reactions":[{"name":"rocket","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"82a585e9-572b-41fd-a60f-894f5abe4429","type":"message","text":"Oh nice!","user":"UB197FRCL","ts":"1612509308.056700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dxA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh nice!"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"5379458e-5182-43b7-8cca-5bddecfee8ec","type":"message","text":"A confidence interval for the mean? You could just bootstrap it?","user":"U7JQGPGCQ","ts":"1612510176.057000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AB6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A confidence interval for the mean? You could just bootstrap it?"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"f20ec68d-1045-410b-a2bd-cfcfcf65cc7c","type":"message","text":"Not sure what you mean by bootstrap?","user":"UB197FRCL","ts":"1612510260.057200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BAR7D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure what you mean by bootstrap?"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"629cc347-2355-48e4-a4a7-342df66bb16b","type":"message","text":"But no, an interval that contains X % of the sample was what I was after","user":"UB197FRCL","ts":"1612510302.057400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LeSZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But no, an interval that contains X % of the sample was what I was after"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"9348eb99-2691-4ccb-8a39-5ae7b06c2d0a","type":"message","text":"Which I'm not sure is exactly a confidence interval anymore, after reading the _Misunderstandings_ section of the <https://en.wikipedia.org/wiki/Confidence_interval#Meaning_and_interpretation|Confidence interval wikipedia entry.>","user":"UB197FRCL","ts":"1612510434.057600","team":"T68168MUP","attachments":[{"image_url":"https://upload.wikimedia.org/wikipedia/commons/d/df/Confidenceinterval.png","image_width":481,"image_height":254,"image_bytes":24050,"title":"Confidence interval","title_link":"https://en.wikipedia.org/wiki/Confidence_interval#Meaning_and_interpretation","from_url":"https://en.wikipedia.org/wiki/Confidence_interval#Meaning_and_interpretation","author_name":"Wikipedia","author_link":"https://en.wikipedia.org/","text":"In statistics, a confidence interval (CI) is a type of estimate computed from the statistics of the observed data. This proposes a range of plausible values for an unknown parameter (for example, the mean). The interval has an associated confidence level that the true parameter is in the proposed range. The confidence level is chosen by the investigator. For a given estimation in a given sample, using a higher confidence level generates a wider (i.e., less precise) confidence interval. In general terms, a confidence interval for an unknown parameter is based on sampling the distribution of a corresponding estimator.This means that the confidence level represents the theoretical long-run frequency (i.e., the proportion) of confidence intervals that contain the true value of the unknown population parameter. In other words, 90% of confidence intervals computed at the 90% confidence level contain the parameter, 95% of confidence intervals computed at the 95% confidence level contain the parameter, 99% of confidence intervals computed at the 99% confidence level contain the parameter, etc.The confidence level is designated before examining the data. Most commonly, a 95% confidence level is used. However, other confidence levels, such as 90% or 99%, are sometimes used. \nFactors affecting the width of the confidence interval include the size of the sample, the confidence level, and the variability in the sample. A larger sample will tend to produce a better estimate of the population parameter, when all other factors are equal. A higher confidence level will tend to produce a broader confidence interval.\nMany confidence intervals are of the form \n  \n    \n      \n        (\n        t\n        −\n        c\n        \n          σ\n          \n            T\n          \n        \n        ,\n        t\n        +\n        c\n        \n          σ\n          \n            T\n          \n        \n        )\n      \n    \n    {\\displaystyle (t-c\\sigma _{T},t+c\\sigma _{T})}\n  , where \n  \n    \n      \n        t\n      \n    \n    {\\displaystyle t}\n   is the realization of the dataset, c is a constant and \n  \n    \n      \n        \n          σ\n          \n            T\n          \n        \n      \n    \n    {\\displaystyle \\sigma _{T}}\n   is the standard deviation of the dataset.Another way to express the form of confidence interval is a set of two parameters: (point estimate – error bound, point estimate + error bound), or symbolically expressed as (–EBM, +EBM), where (point estimate) serves as an estimate for m (the population mean) and EBM is the error bound for a population mean.The margin of error (EBM) depends on the confidence level.A rigorous general definition:\nSuppose a dataset \n  \n    \n      \n        \n          x\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          x\n          \n            n\n          \n        \n      \n    \n    {\\displaystyle x_{1},\\ldots ,x_{n}}\n   is given, modeled as realization of random variables \n  \n    \n      \n        \n          X\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          X\n          \n            n\n          \n        \n      \n    \n    {\\displaystyle X_{1},\\ldots ,X_{n}}\n  . Let \n  \n    \n      \n        θ\n      \n    \n    {\\displaystyle \\theta }\n   be the parameter of interest, and \n  \n    \n      \n        γ\n      \n    \n    {\\displaystyle \\gamma }\n   a number between 0 and 1. If there exist sample statistics \n  \n    \n      \n        \n          L\n          \n            n\n          \n        \n        =\n        g\n        (\n        \n          X\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          X\n          \n            n\n          \n        \n        )\n      \n    \n    {\\displaystyle L_{n}=g(X_{1},\\ldots ,X_{n})}\n   and \n  \n    \n      \n        \n          U\n          \n            n\n          \n        \n        =\n        h\n        (\n        \n          X\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          X\n          \n            n\n          \n        \n        )\n      \n    \n    {\\displaystyle U_{n}=h(X_{1},\\ldots ,X_{n})}\n   such that:\n\n  \n    \n      \n        P\n        (\n        \n          L\n          \n            n\n          \n        \n        &lt;\n        θ\n        &lt;\n        \n          U\n          \n            n\n          \n        \n        )\n        =\n        γ\n      \n    \n    {\\displaystyle P(L_{n}&lt;\\theta &lt;U_{n})=\\gamma }\n   for every value of \n  \n    \n      \n        θ\n      \n    \n    {\\displaystyle \\theta }\n  \nthen \n  \n    \n      \n        (\n        \n          l\n          \n            n\n          \n        \n        ,\n        \n          u\n          \n            n\n          \n        \n        )\n      \n    \n    {\\displaystyle (l_{n},u_{n})}\n  , where \n  \n    \n      \n        \n          l\n          \n            n\n          \n        \n        =\n        g\n        (\n        \n          x\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          x\n          \n            n\n          \n        \n        )\n      \n    \n    {\\displaystyle l_{n}=g(x_{1},\\ldots ,x_{n})}\n   and \n  \n    \n      \n        \n          u\n          \n            n\n          \n        \n        =\n        h\n        (\n        \n          x\n          \n            1\n          \n        \n        ,\n        …\n        ,\n        \n          x\n          \n            n\n          \n        \n        )\n      \n    \n    {\\displaystyle u_{n}=h(x_{1},\\ldots ,x_{n})}\n  , is called a \n  \n    \n      \n        γ\n        ×\n        100\n      \n    \n    {\\displaystyle \\gamma \\times 100}\n  % confidence interval for \n  \n    \n      \n        θ\n      \n    \n    {\\displaystyle \\theta }\n  . The number \n  \n    \n      \n        γ\n      \n    \n    {\\displaystyle \\gamma }\n   is called the confidence level.","fallback":"wikipedia: Confidence interval","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/wikipedia.png","id":1,"original_url":"https://en.wikipedia.org/wiki/Confidence_interval#Meaning_and_interpretation"}],"blocks":[{"type":"rich_text","block_id":"Kn8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which I'm not sure is exactly a confidence interval anymore, after reading the "},{"type":"text","text":"Misunderstandings","style":{"italic":true}},{"type":"text","text":" section of the "},{"type":"link","url":"https://en.wikipedia.org/wiki/Confidence_interval#Meaning_and_interpretation","text":"Confidence interval wikipedia entry."}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"type":"message","text":"Maybe best illustrated with what I was doing:","files":[{"id":"F01LNUNNST1","created":1612510765,"timestamp":1612510765,"name":"Screen Shot 2021-02-05 at 6.39.01 pm.png","title":"Screen Shot 2021-02-05 at 6.39.01 pm.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UB197FRCL","editable":false,"size":95336,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01LNUNNST1/screen_shot_2021-02-05_at_6.39.01_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01LNUNNST1/download/screen_shot_2021-02-05_at_6.39.01_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_360.png","thumb_360_w":360,"thumb_360_h":209,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_480.png","thumb_480_w":480,"thumb_480_h":279,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_720.png","thumb_720_w":720,"thumb_720_h":418,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_800.png","thumb_800_w":800,"thumb_800_h":464,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_960.png","thumb_960_w":960,"thumb_960_h":557,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01LNUNNST1-0edbc925a7/screen_shot_2021-02-05_at_6.39.01_pm_1024.png","thumb_1024_w":1024,"thumb_1024_h":594,"original_w":1206,"original_h":700,"thumb_tiny":"AwAbADDSHU0N0oHU0N0oAqysQ45NTqcLknFVJTmQ/lVuA7owaAEySeDmnLuzzT8UUAIOp4psrbYyaUgc/SkKhjgjIx3oAo1atTlCPQ04RIdvyjkUqqoxgAZoAkopn+NB4BPoaAP/2Q==","permalink":"https://julialang.slack.com/files/UB197FRCL/F01LNUNNST1/screen_shot_2021-02-05_at_6.39.01_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01LNUNNST1-3a5d8fa4e0","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"JpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe best illustrated with what I was doing:"}]}]}],"user":"UB197FRCL","display_as_bot":false,"ts":"1612510791.057900","thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"d0b1c9f4-aa80-48e0-8341-a560aed494b9","type":"message","text":"Ah okay, in that case never mind, quantile is the way to go","user":"U7JQGPGCQ","ts":"1612513128.058400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IdA67","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah okay, in that case never mind, quantile is the way to go"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"5897a62f-56bc-4632-9704-07ee4d1ac9e3","type":"message","text":"Maybe <https://en.wikipedia.org/wiki/Credible_interval> would be of interest. There are a number of ways you could potentially choose your intervals, might be a good idea to keep in mind. For nice and symmetric distributions, the problem might not be as severe as for highly skewed ones","user":"UJ7DVTVQ8","ts":"1612513291.058600","team":"T68168MUP","attachments":[{"title":"Credible interval","title_link":"https://en.wikipedia.org/wiki/Credible_interval","from_url":"https://en.wikipedia.org/wiki/Credible_interval","author_name":"Wikipedia","author_link":"https://en.wikipedia.org/","text":"In Bayesian statistics, a credible interval is an interval within which an unobserved parameter value falls with a particular probability. It is an interval in the domain of a posterior probability distribution or a predictive distribution. The generalisation to multivariate problems is the credible region. Credible intervals are analogous to confidence intervals in frequentist statistics, although they differ on a philosophical basis: Bayesian intervals treat their bounds as fixed and the estimated parameter as a random variable, whereas frequentist confidence intervals treat their bounds as random variables and the parameter as a fixed value.  Also, Bayesian credible intervals use (and indeed, require) knowledge of the situation-specific prior distribution, while the frequentist confidence intervals do not.\nFor example, in an experiment that determines the distribution of possible values of the parameter \n  \n    \n      \n        μ\n      \n    \n    {\\displaystyle \\mu }\n  , if the subjective probability that \n  \n    \n      \n        μ\n      \n    \n    {\\displaystyle \\mu }\n   lies between 35 and 45 is 0.95, then \n  \n    \n      \n        35\n        ≤\n        μ\n        ≤\n        45\n      \n    \n    {\\displaystyle 35\\leq \\mu \\leq 45}\n   is a 95% credible interval.","fallback":"wikipedia: Credible interval","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/wikipedia.png","id":1,"original_url":"https://en.wikipedia.org/wiki/Credible_interval"}],"blocks":[{"type":"rich_text","block_id":"VFfn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe "},{"type":"link","url":"https://en.wikipedia.org/wiki/Credible_interval"},{"type":"text","text":" would be of interest. There are a number of ways you could potentially choose your intervals, might be a good idea to keep in mind. For nice and symmetric distributions, the problem might not be as severe as for highly skewed ones"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"BBBD378A-8C6F-48A8-AB4A-BC5C4A623E42","type":"message","text":"Thanks for the suggestion. I was not doing anything very precise, just play around and enjoying how easy it was to make these things :) ","user":"UB197FRCL","ts":"1612514606.060600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rsq7i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the suggestion. I was not doing anything very precise, just play around and enjoying how easy it was to make these things :) "}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"},{"client_msg_id":"7bce221d-a02c-4f1a-9547-8dc2dd371f3e","type":"message","text":":slightly_smiling_face:","user":"UJ7DVTVQ8","ts":"1612514807.060800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SMq8","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1612494783.054900","parent_user_id":"UB197FRCL"}]