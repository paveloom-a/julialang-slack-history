[{"client_msg_id":"11e341ab-e04f-4e63-9ad2-becea15e1834","type":"message","text":"Hi,\n\nI'm just wondering if I have Group A (N=20) and group B (N=1), does it valid to do a statistical test, such as (independent) Wilcoxon rank sums or independent t-test?\n\nGiven that these tests works on class distribution, it seems that it wouldn't be correct to draw class distribution from only 1 sample. Any thoughts?\n\nThanks","user":"UUT4VGTE2","ts":"1612747178.066200","team":"T68168MUP","edited":{"user":"UUT4VGTE2","ts":"1612747676.000000"},"blocks":[{"type":"rich_text","block_id":"Tj0AC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi,\n\nI'm just wondering if I have Group A (N=20) and group B (N=1), does it valid to do a statistical test, such as (independent) Wilcoxon rank sums or independent t-test?\n\nGiven that these tests works on class distribution, it seems that it wouldn't be correct to draw class distribution from only 1 sample. Any thoughts?\n\nThanks"}]}]}],"thread_ts":"1612747178.066200","reply_count":7,"reply_users_count":2,"latest_reply":"1612843464.071900","reply_users":["U017JTQFNEQ","UKLKS1WC8"],"subscribed":false},{"client_msg_id":"1d55a576-6973-4d19-b91d-8993c8db804c","type":"message","text":"With that little data, you will need to make some assumption about A. if you believe A is normally distributed you can do\n```HypothesisTests.OneSampleTTest(A,B)```","user":"U017JTQFNEQ","ts":"1612793685.068200","team":"T68168MUP","edited":{"user":"U017JTQFNEQ","ts":"1612793730.000000"},"blocks":[{"type":"rich_text","block_id":"ACtS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With that little data, you will need to make some assumption about A. if you believe A is normally distributed you can do\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"HypothesisTests.OneSampleTTest(A,B)"}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"6c68a315-47e1-4973-be1c-385d6499dc48","type":"message","text":"If you think A comes from another distribution, like Poisson you could do:\n```HypothesisTests.ExactOneSampleKSTest([B], Distributions.Poisson(mean(A)))```","user":"U017JTQFNEQ","ts":"1612793776.068500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O8r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you think A comes from another distribution, like Poisson you could do:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"HypothesisTests.ExactOneSampleKSTest([B], Distributions.Poisson(mean(A)))"}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"107edf65-6d35-46e4-8e35-57343d7d433e","type":"message","text":"Exact Wilcoxon-rank sum test (Mann-Whitney) would be OK here under its standard assumptions. It just would not have any power to detect anything. In fact, even if the one sample from B is strictly smaller than all 20 samples from A, you would get a p-value of 0.1.","user":"UKLKS1WC8","ts":"1612820575.069500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iKqh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exact Wilcoxon-rank sum test (Mann-Whitney) would be OK here under its standard assumptions. It just would not have any power to detect anything. In fact, even if the one sample from B is strictly smaller than all 20 samples from A, you would get a p-value of 0.1."}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"870cdddc-9a64-4e60-9020-1eebe7c7fb78","type":"message","text":"Please don't use a t-test here! As Jeff wrote, it will have to rely too strongly on assumptions as Normality. In fact to even do a t-test here you will need to assume that the single sample from B has the same variance as samples from A. Jeff's suggestions have some issues too (the first one  treats the value of B as deterministic, the second one treats the mean of A as deterministic , these are random and inference should account for that randomness!).","user":"UKLKS1WC8","ts":"1612820675.069700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NLo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Please don't use a t-test here! As Jeff wrote, it will have to rely too strongly on assumptions as Normality. In fact to even do a t-test here you will need to assume that the single sample from B has the same variance as samples from A. Jeff's suggestions have some issues too (the first one  treats the value of B as deterministic, the second one treats the mean of A as deterministic , these are random and inference should account for that randomness!)."}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"e5354cf2-652b-45e1-9a4c-baa102a9a85e","type":"message","text":"<@UKLKS1WC8> although i agree with you, i have seen many papers that do use a t-test in this kind of situation! I guess i should have been more clean when i said that he would need to make some assumptions. I meant that without some assumptions and that little data he would not be able to do any inference - basically what you said. Depending on what A is, some assumptions about Normality might be OK. Like if A is something that is known to be Normally distributed because of the generative process or past literature.","user":"U017JTQFNEQ","ts":"1612841870.071300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G6O2","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UKLKS1WC8"},{"type":"text","text":" although i agree with you, i have seen many papers that do use a t-test in this kind of situation! I guess i should have been more clean when i said that he would need to make some assumptions. I meant that without some assumptions and that little data he would not be able to do any inference - basically what you said. Depending on what A is, some assumptions about Normality might be OK. Like if A is something that is known to be Normally distributed because of the generative process or past literature."}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"c7566f24-b6b8-4836-ba67-57dfd95685e7","type":"message","text":"<@U017JTQFNEQ>  `OneSampleTTest(A,B)` is problematic even if `A,B` really are normal! It tests the (random) hypothesis that the (mean of A) = B (instead of the standard null hypothesis that mean of A = mean of B). See the simulation below where the samples of A and B have exactly the same Standard Normal distribution, but `OneSampleTTest(A,B)`  overrejects if we use the random B!\n\n```using HypothesisTests\nusing Statistics\n\nfunction generate_pvalue(; mean_B = false)\n    As = randn(20)\n    B = mean_B ? 0.0 : randn()\n    pvalue(OneSampleTTest(As,B))\nend\n\nfalse_pvals = [generate_pvalue(; mean_B = false) for _ in 1:10000]\ncorrect_pvals = [generate_pvalue(; mean_B = true) for _ in 1:10000]\nmean(false_pvals .&lt;= 0.05) #0.66\nmean(correct_pvals .&lt;= 0.05) #0.053```","user":"UKLKS1WC8","ts":"1612843385.071700","team":"T68168MUP","edited":{"user":"UKLKS1WC8","ts":"1612843569.000000"},"blocks":[{"type":"rich_text","block_id":"fitTb","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U017JTQFNEQ"},{"type":"text","text":"  "},{"type":"text","text":"OneSampleTTest(A,B)","style":{"code":true}},{"type":"text","text":" is problematic even if "},{"type":"text","text":"A,B","style":{"code":true}},{"type":"text","text":" really are normal! It tests the (random) hypothesis that the (mean of A) = B (instead of the standard null hypothesis that mean of A = mean of B). See the simulation below where the samples of A and B have exactly the same Standard Normal distribution, but "},{"type":"text","text":"OneSampleTTest(A,B)","style":{"code":true}},{"type":"text","text":"  overrejects if we use the random B!\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using HypothesisTests\nusing Statistics\n\nfunction generate_pvalue(; mean_B = false)\n    As = randn(20)\n    B = mean_B ? 0.0 : randn()\n    pvalue(OneSampleTTest(As,B))\nend\n\nfalse_pvals = [generate_pvalue(; mean_B = false) for _ in 1:10000]\ncorrect_pvals = [generate_pvalue(; mean_B = true) for _ in 1:10000]\nmean(false_pvals .<= 0.05) #0.66\nmean(correct_pvals .<= 0.05) #0.053"}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"},{"client_msg_id":"9d4e486a-dba3-4d9c-b0ba-26d8526415c0","type":"message","text":"The same is true for the Kolmogorov-Smirnov test. It is valid when the distribution is deterministic, say `Distributions.Poisson(2.0)`, once you use a random distribution that is learned from fitting the data, such as `Distributions.Poisson(mean(A))` , all statistical guarantees of the test are gone.","user":"UKLKS1WC8","ts":"1612843464.071900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"te10","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The same is true for the Kolmogorov-Smirnov test. It is valid when the distribution is deterministic, say "},{"type":"text","text":"Distributions.Poisson(2.0)","style":{"code":true}},{"type":"text","text":", once you use a random distribution that is learned from fitting the data, such as "},{"type":"text","text":"Distributions.Poisson(mean(A))","style":{"code":true}},{"type":"text","text":" , all statistical guarantees of the test are gone."}]}]}],"thread_ts":"1612747178.066200","parent_user_id":"UUT4VGTE2"}]