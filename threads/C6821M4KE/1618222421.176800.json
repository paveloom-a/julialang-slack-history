[{"client_msg_id":"98b54515-366f-407f-a974-a396ae740dd8","type":"message","text":"<@UB197FRCL> just to be clear, are you aware that `pdf(dY, v) = pdf(dX, v) * f(v) / N` is not the pdf of `Y = f(X)`? Because it is a valid pdf indeed, but I'm not sure it's the one you are interested in, and it's definitely not the one of `Y`. If you are looking for the pdf/distrib of `Y = f(X)`, there is what <@U6C937ENB> said for the quadratic part of `f(x) = x^2 + 1` and in general where you're not lucky enough to land on a known distribution, you can just use any of the libraries that were already mentioned","user":"U01RM3WVAUF","ts":"1618222421.176800","team":"T68168MUP","edited":{"user":"U01RM3WVAUF","ts":"1618222926.000000"},"blocks":[{"type":"rich_text","block_id":"RrhW4","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UB197FRCL"},{"type":"text","text":" just to be clear, are you aware that "},{"type":"text","text":"pdf(dY, v) = pdf(dX, v) * f(v) / N","style":{"code":true}},{"type":"text","text":" is not the pdf of "},{"type":"text","text":"Y = f(X)","style":{"code":true}},{"type":"text","text":"? Because it is a valid pdf indeed, but I'm not sure it's the one you are interested in, and it's definitely not the one of "},{"type":"text","text":"Y","style":{"code":true}},{"type":"text","text":". If you are looking for the pdf/distrib of "},{"type":"text","text":"Y = f(X)","style":{"code":true}},{"type":"text","text":", there is what "},{"type":"user","user_id":"U6C937ENB"},{"type":"text","text":" said for the quadratic part of "},{"type":"text","text":"f(x) = x^2 + 1","style":{"code":true}},{"type":"text","text":" and in general where you're not lucky enough to land on a known distribution, you can just use any of the libraries that were already mentioned"}]}]}],"thread_ts":"1618222421.176800","reply_count":22,"reply_users_count":3,"latest_reply":"1618223997.189400","reply_users":["UB197FRCL","U01RM3WVAUF","U6C937ENB"],"is_locked":false,"subscribed":false},{"client_msg_id":"50fe25cf-9e2c-48c7-9c96-a88cc28bfbc3","type":"message","text":"Yes, I am aware of the first thing, and I do want the Y such that its PDF is `pdf(dY, v) = pdf(dX, v) * f(v) / N`.","user":"UB197FRCL","ts":"1618223165.182200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2tcre","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I am aware of the first thing, and I do want the Y such that its PDF is "},{"type":"text","text":"pdf(dY, v) = pdf(dX, v) * f(v) / N","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF","reactions":[{"name":"pray","users":["U6C937ENB"],"count":1}]},{"client_msg_id":"4a9f62a6-a397-45bf-a71e-4a4fb50cb98b","type":"message","text":"Ah, thanks for the precision!","user":"U01RM3WVAUF","ts":"1618223180.182500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F0vy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, thanks for the precision!"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"5ad8cd33-3393-44af-a9b9-895421cd4063","type":"message","text":"Can you think of a (simple?) way to create a Y with that PDF using MonteCarloMeasurements?","user":"UB197FRCL","ts":"1618223249.183100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LeubZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you think of a (simple?) way to create a Y with that PDF using MonteCarloMeasurements?"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"63d8d05b-ad6d-437d-9f9b-448f55157970","type":"message","text":"I'm not sure with MonteCarloMeasurements, but this sounds like a general sampling problem where you know (up to normalization) how the pdf looks like and you want to sample","user":"U01RM3WVAUF","ts":"1618223390.184600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CLYOR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure with MonteCarloMeasurements, but this sounds like a general sampling problem where you know (up to normalization) how the pdf looks like and you want to sample"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"9cbac2be-156e-443c-a1c3-d46a565f320b","type":"message","text":"So any library that let's you sample from an unnormalized pdf should do the trick. Something based on MCMC for instance could work, but I don't know the Julia ecosystem well enough, let me check.","user":"U01RM3WVAUF","ts":"1618223455.184800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e+0o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So any library that let's you sample from an unnormalized pdf should do the trick. Something based on MCMC for instance could work, but I don't know the Julia ecosystem well enough, let me check."}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"c58fe666-d24f-45e9-9eaf-b0ed8369fbed","type":"message","text":"Yep, and since `X = μ ± σ` is just a sample of particles that matches `Normal(μ, σ)`, I thought there should be an easy way like that.","user":"UB197FRCL","ts":"1618223456.185000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q2kgv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, and since "},{"type":"text","text":"X = μ ± σ","style":{"code":true}},{"type":"text","text":" is just a sample of particles that matches "},{"type":"text","text":"Normal(μ, σ)","style":{"code":true}},{"type":"text","text":", I thought there should be an easy way like that."}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"19fdc8cc-2811-4eac-b32e-20117274fb49","type":"message","text":"Well the problem isthat you also don't know which transformation you have to do on `X` to get `Y`","user":"U01RM3WVAUF","ts":"1618223490.185200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3cK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well the problem isthat you also don't know which transformation you have to do on "},{"type":"text","text":"X","style":{"code":true}},{"type":"text","text":" to get "},{"type":"text","text":"Y","style":{"code":true}}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"a3d36dc3-abb3-497f-ab02-4893c4457bed","type":"message","text":"Yep","user":"UB197FRCL","ts":"1618223495.185600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=TU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"96b5f993-4f9e-45bf-ba0a-4a82c57d3e67","type":"message","text":"My mistake was thinking `X * f(X)` was that transformation and getting confused","user":"UB197FRCL","ts":"1618223549.185900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HPyo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My mistake was thinking "},{"type":"text","text":"X * f(X)","style":{"code":true}},{"type":"text","text":" was that transformation and getting confused"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF","reactions":[{"name":"+1","users":["U01RM3WVAUF"],"count":1}]},{"client_msg_id":"b4179e21-3846-47a5-847e-d2efa376789f","type":"message","text":"I was just oblivious to this so thank you for your insights / help :slightly_smiling_face:","user":"UB197FRCL","ts":"1618223656.186400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2jM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was just oblivious to this so thank you for your insights / help "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"e0310ff7-853b-4198-bb34-cb377ff9c278","type":"message","text":"(The worst part is that the means of those distributions almost match, which did not help me debug this)","user":"UB197FRCL","ts":"1618223701.186700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cDmu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(The worst part is that the means of those distributions almost match, which did not help me debug this)"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"6f12ad3e-b666-43da-9c88-99a328fba5b7","type":"message","text":"But you can checkout what Moritz was saying. Is the \"real problem\" you're working on actually with `f(x) = x^2 + 1` ?","user":"U01RM3WVAUF","ts":"1618223708.186900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ota9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But you can checkout what Moritz was saying. Is the \"real problem\" you're working on actually with "},{"type":"text","text":"f(x) = x^2 + 1","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"328ef830-71cf-463e-b478-4d8df95add56","type":"message","text":"nope","user":"UB197FRCL","ts":"1618223717.187100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"535","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nope"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"bb47da22-2e71-4908-948a-fe4457ddbcd2","type":"message","text":"it's a quadratic though","user":"UB197FRCL","ts":"1618223727.187300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wHFy=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's a quadratic though"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"d40f83cf-9b61-4cbd-88b4-a6023cdbc5d9","type":"message","text":"I'll check it out","user":"UB197FRCL","ts":"1618223733.187500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CDtFD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll check it out"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"2224c72c-6df9-4389-add4-a88418253c1c","type":"message","text":"Cool! I mean, if it's quadratic then integrating sounds like the way to go.","user":"U01RM3WVAUF","ts":"1618223788.187700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5qzAY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool! I mean, if it's quadratic then integrating sounds like the way to go."}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"a307d667-d832-40d4-94ce-8cd665adc352","type":"message","text":"Well, it switches to numerical integration if you have something les simple; <https://www.wolframalpha.com/input/?i=integrate+exp%28-%28x-eulergamma%29%5E2%29*x*exp%28sin%28x%29%29+dx+from+-infty+to+infty> :grin:","user":"U6C937ENB","ts":"1618223829.188000","team":"T68168MUP","attachments":[{"title":"integrate exp(-(x-eulergamma)^2)*x*exp(sin(x)) dx from -infty to infty - Wolfram|Alpha","title_link":"https://www.wolframalpha.com/input/?i=integrate+exp%28-%28x-eulergamma%29%5E2%29*x*exp%28sin%28x%29%29+dx+from+-infty+to+infty","text":"Wolfram|Alpha brings expert-level knowledge and capabilities to the broadest possible range of people—spanning all professions and education levels.","fallback":"integrate exp(-(x-eulergamma)^2)*x*exp(sin(x)) dx from -infty to infty - Wolfram|Alpha","from_url":"https://www.wolframalpha.com/input/?i=integrate+exp%28-%28x-eulergamma%29%5E2%29*x*exp%28sin%28x%29%29+dx+from+-infty+to+infty","service_icon":"https://www.wolframalpha.com/_next/static/images/favicon_fzx75d1e.ico","service_name":"wolframalpha.com","id":1,"original_url":"https://www.wolframalpha.com/input/?i=integrate+exp%28-%28x-eulergamma%29%5E2%29*x*exp%28sin%28x%29%29+dx+from+-infty+to+infty"}],"blocks":[{"type":"rich_text","block_id":"Enus=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, it switches to numerical integration if you have something les simple; "},{"type":"link","url":"https://www.wolframalpha.com/input/?i=integrate+exp%28-%28x-eulergamma%29%5E2%29*x*exp%28sin%28x%29%29+dx+from+-infty+to+infty"},{"type":"text","text":" "},{"type":"emoji","name":"grin"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF","reactions":[{"name":"+1","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"d21dc095-12db-4ec2-8772-2842eb4e06f6","type":"message","text":"Wow, a probabilist advocating for numerial integration instead of sampling. Interesting :wink:","user":"U01RM3WVAUF","ts":"1618223873.188300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F0Ab","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wow, a probabilist advocating for numerial integration instead of sampling. Interesting "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"type":"message","text":"Looking at <https://en.wikipedia.org/wiki/Noncentral_chi-squared_distribution> I don't thinl the non-central chi squared dist. works since nothing looks like the blue curve I'm after:","files":[{"id":"F01TWHRKK1B","created":1618223797,"timestamp":1618223797,"name":"Screen Shot 2021-04-12 at 8.36.33 pm.png","title":"Screen Shot 2021-04-12 at 8.36.33 pm.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UB197FRCL","editable":false,"size":68494,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01TWHRKK1B/screen_shot_2021-04-12_at_8.36.33_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01TWHRKK1B/download/screen_shot_2021-04-12_at_8.36.33_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_360.png","thumb_360_w":360,"thumb_360_h":222,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_480.png","thumb_480_w":480,"thumb_480_h":296,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_720.png","thumb_720_w":720,"thumb_720_h":444,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_800.png","thumb_800_w":800,"thumb_800_h":493,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_960.png","thumb_960_w":960,"thumb_960_h":592,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01TWHRKK1B-2be280fd88/screen_shot_2021-04-12_at_8.36.33_pm_1024.png","thumb_1024_w":1024,"thumb_1024_h":631,"original_w":1210,"original_h":746,"thumb_tiny":"AwAdADDS79aWk70tABSL0paanQ/WgB1NAbPNOooATv0paQjnqaQjjqaAFJwM0iHijYPegIB0JoAdRSYOepoOQOtAH//Z","permalink":"https://julialang.slack.com/files/UB197FRCL/F01TWHRKK1B/screen_shot_2021-04-12_at_8.36.33_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01TWHRKK1B-9cf34693a2","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"wD5mV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looking at "},{"type":"link","url":"https://en.wikipedia.org/wiki/Noncentral_chi-squared_distribution"},{"type":"text","text":" I don't thinl the non-central chi squared dist. works since nothing looks like the blue curve I'm after:"}]}]}],"user":"UB197FRCL","display_as_bot":false,"ts":"1618223896.188500","thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"58f0f5d7-6ed4-48cd-9531-f05e4a57f2e1","type":"message","text":"Yes, the non-central chi square would be for `Y = X^2 + 1`","user":"U01RM3WVAUF","ts":"1618223930.189000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LmFor","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, the non-central chi square would be for "},{"type":"text","text":"Y = X^2 + 1","style":{"code":true}}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"e204351d-fd67-40f9-be88-fbd3c3f50036","type":"message","text":"Yep I'm not after `Y = X^2 + 1` but I'm after the random variable that has the PDF value at `v` multiplied by `v^2 + 1` :slightly_smiling_face:","user":"UB197FRCL","ts":"1618223980.189200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jb4A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep I'm not after "},{"type":"text","text":"Y = X^2 + 1","style":{"code":true}},{"type":"text","text":" but I'm after the random variable that has the PDF value at "},{"type":"text","text":"v","style":{"code":true}},{"type":"text","text":" multiplied by "},{"type":"text","text":"v^2 + 1","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF"},{"client_msg_id":"80c3958a-7364-4b8c-b618-f70781f9fa6b","type":"message","text":"Hehe, I can make any approximation with error smaller than my other Monte-Carlo errors","user":"U6C937ENB","ts":"1618223997.189400","team":"T68168MUP","edited":{"user":"U6C937ENB","ts":"1618224008.000000"},"blocks":[{"type":"rich_text","block_id":"iDI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hehe, I can make any approximation with error smaller than my other Monte-Carlo errors"}]}]}],"thread_ts":"1618222421.176800","parent_user_id":"U01RM3WVAUF","reactions":[{"name":"slightly_smiling_face","users":["UB197FRCL"],"count":1}]}]