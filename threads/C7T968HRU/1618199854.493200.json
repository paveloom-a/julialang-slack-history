[{"client_msg_id":"7743201e-bafd-48b4-8047-ff078b6c138f","type":"message","text":"Enumerating all the special cases can really blow up code.","user":"UAUPJLBQX","ts":"1618199854.493200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qe3j1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Enumerating all the special cases can really blow up code."}]}]}],"thread_ts":"1618199854.493200","reply_count":7,"reply_users_count":2,"latest_reply":"1618200742.008500","reply_users":["U8D9768Q6","UAUPJLBQX"],"is_locked":false,"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"Wouldn't you just make a `@noinline` function barrier between all the special cases? Presumably the function barrier should be very little overhead compared to a broadcast expression, right?","user":"U8D9768Q6","ts":"1618200436.003200","thread_ts":"1618199854.493200","root":{"client_msg_id":"7743201e-bafd-48b4-8047-ff078b6c138f","type":"message","text":"Enumerating all the special cases can really blow up code.","user":"UAUPJLBQX","ts":"1618199854.493200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qe3j1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Enumerating all the special cases can really blow up code."}]}]}],"thread_ts":"1618199854.493200","reply_count":7,"reply_users_count":2,"latest_reply":"1618200742.008500","reply_users":["U8D9768Q6","UAUPJLBQX"],"is_locked":false,"subscribed":false},"blocks":[{"type":"rich_text","block_id":"Q1x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wouldn't you just make a "},{"type":"text","text":"@noinline","style":{"code":true}},{"type":"text","text":" function barrier between all the special cases? Presumably the function barrier should be very little overhead compared to a broadcast expression, right?"}]}]}],"client_msg_id":"b9a8cb82-6a96-459f-9bec-785bc250e1ac","edited":{"user":"U8D9768Q6","ts":"1618200450.000000"}},{"client_msg_id":"8c7a3cdc-b82c-4e92-af17-105d50bb12b1","type":"message","text":"I am worried about compile times. Assuming it all infers (and it had better!) each has to compile","user":"UAUPJLBQX","ts":"1618200528.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IJ4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am worried about compile times. Assuming it all infers (and it had better!) each has to compile"}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"},{"client_msg_id":"097bbc73-848c-4714-8e37-9fc33952652f","type":"message","text":"But I think 3 cases will be enough, and that's reasonable.","user":"UAUPJLBQX","ts":"1618200548.005800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Cuas","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I think 3 cases will be enough, and that's reasonable."}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"},{"client_msg_id":"d41f41e9-b833-4ae0-bb9b-cf606f10d18b","type":"message","text":"(really, it's more than 3 because base broadcasting already makes a bunch of versions)","user":"UAUPJLBQX","ts":"1618200579.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bt3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(really, it's more than 3 because base broadcasting already makes a bunch of versions)"}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"},{"client_msg_id":"f4ba6e84-60ca-4893-8c75-d63f654bd576","type":"message","text":"There's a 1 in a contiguous axis not known at compile time: base broadcast to handle that","user":"UAUPJLBQX","ts":"1618200614.007700","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1618200705.000000"},"blocks":[{"type":"rich_text","block_id":"aep","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's a 1 in a contiguous axis not known at compile time: base broadcast to handle that"}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"},{"client_msg_id":"789d1e79-05d3-4a90-9135-82bc420e528e","type":"message","text":"All same size: linear indexing","user":"UAUPJLBQX","ts":"1618200624.007900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WaG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All same size: linear indexing"}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"},{"client_msg_id":"1982385b-b94b-4168-9f1e-2042a179e5a0","type":"message","text":"Else (there's a 1 in a non-contiuous axis): set the strides associated to the 1s to 0 so that you can index normally using cartesian indexing. This is currently the only behavior.","user":"UAUPJLBQX","ts":"1618200742.008500","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1618200777.000000"},"blocks":[{"type":"rich_text","block_id":"eQi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Else (there's a 1 in a non-contiuous axis): set the strides associated to the 1s to 0 so that you can index normally using cartesian indexing. This is currently the only behavior."}]}]}],"thread_ts":"1618199854.493200","parent_user_id":"UAUPJLBQX"}]