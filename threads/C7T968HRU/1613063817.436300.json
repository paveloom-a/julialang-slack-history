[{"client_msg_id":"2906c390-6e19-48f1-822c-17d18558fde8","type":"message","text":"Hi, I get `Instability`  error for an ODE model which previously solved fine using `AutoVern9(KenCarp5())` after updating `DiffEqBase` from `6.49.2` to `6.53.6`. Has this to do with the switch to `SciMLBase` . Unfortunately, it's not straightforward to post a MWE of the model.","user":"UGFMDAMC3","ts":"1613063817.436300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6sg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, I get "},{"type":"text","text":"Instability","style":{"code":true}},{"type":"text","text":"  error for an ODE model which previously solved fine using "},{"type":"text","text":"AutoVern9(KenCarp5())","style":{"code":true}},{"type":"text","text":" after updating "},{"type":"text","text":"DiffEqBase","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"6.49.2","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"6.53.6","style":{"code":true}},{"type":"text","text":". Has this to do with the switch to "},{"type":"text","text":"SciMLBase","style":{"code":true}},{"type":"text","text":" . Unfortunately, it's not straightforward to post a MWE of the model."}]}]}],"thread_ts":"1613063817.436300","reply_count":5,"reply_users_count":2,"latest_reply":"1613208733.001200","reply_users":["U69BL50BF","UGFMDAMC3"],"subscribed":false},{"client_msg_id":"5a94ed3e-3e25-43db-8204-9f832eb6147e","type":"message","text":"oh wild, nothing should change from that","user":"U69BL50BF","ts":"1613064080.437800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vOd0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh wild, nothing should change from that"}]}]}],"thread_ts":"1613063817.436300","parent_user_id":"UGFMDAMC3"},{"client_msg_id":"acffe98a-9538-422c-815b-bf19ca3cf79b","type":"message","text":"I'd need some way to run it","user":"U69BL50BF","ts":"1613064085.438000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Sqs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd need some way to run it"}]}]}],"thread_ts":"1613063817.436300","parent_user_id":"UGFMDAMC3"},{"client_msg_id":"cf356ad7-ae22-4af4-a68a-7efb55fd2018","type":"message","text":"i will see how I can put it together. Interestingly, it's happening at the first step","user":"UGFMDAMC3","ts":"1613064183.438200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8Zvj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i will see how I can put it together. Interestingly, it's happening at the first step"}]}]}],"thread_ts":"1613063817.436300","parent_user_id":"UGFMDAMC3"},{"type":"message","text":"This is a MWE which hopefully runs for you. After a bit more testing it seems that it is the magnitude of `u0` which determines if it solves. For the older version the magnitude can be a lot bigger without failing. See `scale_sol` parameter","files":[{"id":"F01NKGYC6F2","created":1613081405,"timestamp":1613081405,"name":"JM_0052_Julia_Simulation_Dataset_compact.jl","title":"JM_0052_Julia_Simulation_Dataset_compact.jl","mimetype":"text/plain","filetype":"text","pretty_type":"Plain Text","user":"UGFMDAMC3","editable":true,"size":9981,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01NKGYC6F2/jm_0052_julia_simulation_dataset_compact.jl","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01NKGYC6F2/download/jm_0052_julia_simulation_dataset_compact.jl","permalink":"https://julialang.slack.com/files/UGFMDAMC3/F01NKGYC6F2/jm_0052_julia_simulation_dataset_compact.jl","permalink_public":"https://slack-files.com/T68168MUP-F01NKGYC6F2-9c8b968e1f","edit_link":"https://julialang.slack.com/files/UGFMDAMC3/F01NKGYC6F2/jm_0052_julia_simulation_dataset_compact.jl/edit","preview":"using DifferentialEquations\nusing Plots\nusing ModelingToolkit\n\n","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>using DifferentialEquations</pre></div>\n<div><pre>using Plots</pre></div>\n<div><pre>using ModelingToolkit</pre></div>\n<div><pre></pre></div>\n<div><pre></pre></div>\n</div>\n</div>\n","lines":254,"lines_more":249,"preview_is_truncated":true,"is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"hij5a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is a MWE which hopefully runs for you. After a bit more testing it seems that it is the magnitude of "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" which determines if it solves. For the older version the magnitude can be a lot bigger without failing. See "},{"type":"text","text":"scale_sol","style":{"code":true}},{"type":"text","text":" parameter"}]}]}],"user":"UGFMDAMC3","display_as_bot":false,"ts":"1613081645.444600","thread_ts":"1613063817.436300","parent_user_id":"UGFMDAMC3"},{"client_msg_id":"49f97035-e3ab-4639-a426-a9387419e9df","type":"message","text":"<@U69BL50BF> I wasn't sure if you saw the MWE, if you did I didn't mean to be pushy by @ you. It seems that between the older and newer version of `DiffEqBase` the magnitude of the `u0` is the problem, see `scale_sol` in MWE. A high magnitude of `u0` leads to an `Instability` being detected in the newer version while it solves fine for the `6.49.2` version.","user":"UGFMDAMC3","ts":"1613208733.001200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O7WB","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I wasn't sure if you saw the MWE, if you did I didn't mean to be pushy by @ you. It seems that between the older and newer version of "},{"type":"text","text":"DiffEqBase","style":{"code":true}},{"type":"text","text":" the magnitude of the "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" is the problem, see "},{"type":"text","text":"scale_sol","style":{"code":true}},{"type":"text","text":" in MWE. A high magnitude of "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" leads to an "},{"type":"text","text":"Instability","style":{"code":true}},{"type":"text","text":" being detected in the newer version while it solves fine for the "},{"type":"text","text":"6.49.2","style":{"code":true}},{"type":"text","text":" version."}]}]}],"thread_ts":"1613063817.436300","parent_user_id":"UGFMDAMC3"}]