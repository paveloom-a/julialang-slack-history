[{"client_msg_id":"2ca4ede5-9fb2-401b-b187-453503d2ae81","type":"message","text":"Any ideas what `KeyError: key * not found`  means when calling `discretize` for `PhysicsInformedNN` ?","user":"U01H36BUDJB","ts":"1610641287.031100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"asysW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any ideas what "},{"type":"text","text":"KeyError: key * not found","style":{"code":true}},{"type":"text","text":"  means when calling "},{"type":"text","text":"discretize","style":{"code":true}},{"type":"text","text":" for "},{"type":"text","text":"PhysicsInformedNN","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1610641287.031100","reply_count":18,"reply_users_count":3,"latest_reply":"1610653549.035700","reply_users":["U01H36BUDJB","U69BL50BF","UHAP69FV4"],"subscribed":false},{"client_msg_id":"67a9395e-6443-44db-a74f-0b7127d44047","type":"message","text":"Looks like it happens because I used `Dx(k(x)*Dx(T(t,x)))` ; so I guess non-linear diffusion isn't supported..? <@U69BL50BF>","user":"U01H36BUDJB","ts":"1610641483.031300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V=7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like it happens because I used "},{"type":"text","text":"Dx(k(x)*Dx(T(t,x)))","style":{"code":true}},{"type":"text","text":" ; so I guess non-linear diffusion isn't supported..? "},{"type":"user","user_id":"U69BL50BF"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"a8ce3355-e5c3-4e69-841b-783e960313e6","type":"message","text":"I'm not sure","user":"U69BL50BF","ts":"1610641694.031500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d2XU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"8a86ef87-fa76-4513-9e8a-1ca7f8789cd9","type":"message","text":"I'd have to dig in","user":"U69BL50BF","ts":"1610641696.031700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ktF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd have to dig in"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"96741b7b-c0c7-4978-a1c3-9fb6d64c5ac2","type":"message","text":"Maybe there's no product defined between variables and differentials? That would be surprising though... also it works if I put `Dx(T(t,x))*k(x)`","user":"U01H36BUDJB","ts":"1610642915.032200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bKE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe there's no product defined between variables and differentials? That would be surprising though... also it works if I put `Dx(T(t,x))*k(x)`"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"1da5e683-24cf-43b2-b29e-079b92c80d3d","type":"message","text":"<@U01H36BUDJB>  the error occurs due to a problem in the parser for the expression `(Dx (k (x)) * Dx (T (t, x))).`","user":"UHAP69FV4","ts":"1610645688.032400","team":"T68168MUP","edited":{"user":"UHAP69FV4","ts":"1610645697.000000"},"blocks":[{"type":"rich_text","block_id":"f=nw","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":"  the error occurs due to a problem in the parser for the expression"},{"type":"text","text":" (Dx (k (x)) * Dx (T (t, x))).","style":{"code":true}}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"2c9e69e1-573e-4dff-9ed4-b958ae86bf0f","type":"message","text":"Ah, ok. Is there a different way to write it as a workaround?","user":"U01H36BUDJB","ts":"1610649680.032900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A/7p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, ok. Is there a different way to write it as a workaround?"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"95ff137d-752d-46cb-aeb0-dcf00a571fc0","type":"message","text":"Seems to still happen with the parentheses.","user":"U01H36BUDJB","ts":"1610649688.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"72gKq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems to still happen with the parentheses."}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"3a803f89-c55d-4718-8177-2818970ea458","type":"message","text":"I opened the issue to fix it. <https://github.com/SciML/NeuralPDE.jl/issues/234>","user":"UHAP69FV4","ts":"1610651897.033300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KBShh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I opened the issue to fix it. "},{"type":"link","url":"https://github.com/SciML/NeuralPDE.jl/issues/234"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"6a7ad25f-48d8-46af-879e-756b1cabbb81","type":"message","text":"but in general, you can manually correct the equation using a low API level, but it is difficult","user":"UHAP69FV4","ts":"1610651923.033500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rPY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but in general, you can manually correct the equation using a low API level, but it is difficult"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"6617491a-870f-4bec-a066-2b472f2394c1","type":"message","text":"The expression in the issue wasn't quite what I had, I posted a comment with the correction.","user":"U01H36BUDJB","ts":"1610652555.033700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uwtC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The expression in the issue wasn't quite what I had, I posted a comment with the correction."}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"bec17755-2982-4d3c-a80c-ca43bd41c2ad","type":"message","text":"actually, everything was correct\n```expand_derivatives(Dx(k(x)*Dx(T(t,x))))\n(k(x) * Differential(Differential(T(t, x)))) + (Differential(k(x)) * Differential(T(t, x)))```\n","user":"UHAP69FV4","ts":"1610652907.033900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rcEQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"actually, everything was correct\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"expand_derivatives(Dx(k(x)*Dx(T(t,x))))\n(k(x) * Differential(Differential(T(t, x)))) + (Differential(k(x)) * Differential(T(t, x)))"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"060c84b3-726a-4be8-b507-7acafab30ba6","type":"message","text":"and the problem is with an expression like\n\n`Dx (k (x)) * Dx (T (t, x))`","user":"UHAP69FV4","ts":"1610652915.034100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+p+E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and the problem is with an expression like\n\n"},{"type":"text","text":"Dx (k (x)) * Dx (T (t, x))","style":{"code":true}}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"966c0693-e3e4-46a4-87c7-bbba54fbec14","type":"message","text":"Oh. Well I get an error with the former..?","user":"U01H36BUDJB","ts":"1610652954.034300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6dJdH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh. Well I get an error with the former..?"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"152b8eed-1adc-4107-bce6-d3de200bc8d3","type":"message","text":"I guess we can ask users to expand until we handle it","user":"U69BL50BF","ts":"1610652957.034500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w2Pox","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess we can ask users to expand until we handle it"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"3986f9a6-a9ee-46e6-bd5a-d527e6f2b4d9","type":"message","text":"but it will be less efficient than doing it directly.","user":"U69BL50BF","ts":"1610652966.034700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A00X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it will be less efficient than doing it directly."}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"391f9616-59f5-48b4-82ba-c58970d63823","type":"message","text":"it is part of it\n```Dx(k(x) * Dx(T(t,x))) = k(x) * Dx(Dx(T(t, x)))) + Dx(k(x)) * Dx(T(t,x))```\n","user":"UHAP69FV4","ts":"1610653143.034900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FRyyO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it is part of it\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Dx(k(x) * Dx(T(t,x))) = k(x) * Dx(Dx(T(t, x)))) + Dx(k(x)) * Dx(T(t,x))"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"6867f18f-bd8a-452e-9b90-5134838ba73f","type":"message","text":"Good ol' product rule :slightly_smiling_face:","user":"U01H36BUDJB","ts":"1610653241.035100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"StG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good ol' product rule "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"},{"client_msg_id":"9c641888-f80a-42f7-b46e-1d365e96a813","type":"message","text":"Now I get a different error using:\n`eq  = Dt(T(t,x)) ~ k(x)*Dx(Dx(T(t, x))) + Dx(k(x))*Dx(T(t,x))`\n```BoundsError: attempt to access 1-element Array{Array{Float32,1},1} at index [2]\n\nStacktrace:\n [1] getindex at ./array.jl:809 [inlined]\n [2] #144 at ./none:0 [inlined]\n [3] iterate at ./generator.jl:47 [inlined]\n [4] collect(::Base.Generator{Array{Int64,1},NeuralPDE.var\"#144#147\"{Array{Array{Float32,1},1}}}) at ./array.jl:686\n [5] _transform_derivative(::Array{Any,1}, ...```","user":"U01H36BUDJB","ts":"1610653549.035700","team":"T68168MUP","edited":{"user":"U01H36BUDJB","ts":"1610653571.000000"},"blocks":[{"type":"rich_text","block_id":"SU0X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now I get a different error using:\n"},{"type":"text","text":"eq  = Dt(T(t,x)) ~ k(x)*Dx(Dx(T(t, x))) + Dx(k(x))*Dx(T(t,x))","style":{"code":true}},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"BoundsError: attempt to access 1-element Array{Array{Float32,1},1} at index [2]\n\nStacktrace:\n [1] getindex at ./array.jl:809 [inlined]\n [2] #144 at ./none:0 [inlined]\n [3] iterate at ./generator.jl:47 [inlined]\n [4] collect(::Base.Generator{Array{Int64,1},NeuralPDE.var\"#144#147\"{Array{Array{Float32,1},1}}}) at ./array.jl:686\n [5] _transform_derivative(::Array{Any,1}, ..."}]}]}],"thread_ts":"1610641287.031100","parent_user_id":"U01H36BUDJB"}]