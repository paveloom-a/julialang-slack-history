[{"client_msg_id":"81e088a1-0aef-4bad-8919-43ac31115aca","type":"message","text":"Hey all, I have a function ODE model that contains a large number of compartments (on the orders of 1000s or 10000s). I want to add functionality for the user that allows them to artificially set compartments with sizes &lt;1 to 0. Is it safe to do this within the function `myModel(du,u,pars,t)`  where I have the line\n```u[u .&lt; 1.0] .= 0.0```\nOr will this not change u in the integrator? In which case, everytime I need to use a callback to set all compartments in `intergrator.u`  that are less than 1 to 0?","user":"UFH4C3LBT","ts":"1617992890.439800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"INkg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey all, I have a function ODE model that contains a large number of compartments (on the orders of 1000s or 10000s). I want to add functionality for the user that allows them to artificially set compartments with sizes <1 to 0. Is it safe to do this within the function "},{"type":"text","text":"myModel(du,u,pars,t)","style":{"code":true}},{"type":"text","text":"  where I have the line\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"u[u .< 1.0] .= 0.0"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Or will this not change u in the integrator? In which case, everytime I need to use a callback to set all compartments in "},{"type":"text","text":"intergrator.u","style":{"code":true}},{"type":"text","text":"  that are less than 1 to 0?"}]}]}],"thread_ts":"1617992890.439800","reply_count":3,"reply_users_count":2,"latest_reply":"1618008051.447800","reply_users":["U69BL50BF","UFH4C3LBT"],"is_locked":false,"subscribed":false},{"client_msg_id":"f3a14ca3-1e3d-44cc-b601-b3410fb1326b","type":"message","text":"that is definitely not safe.","user":"U69BL50BF","ts":"1617998246.441200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ddd4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that is definitely not safe."}]}]}],"thread_ts":"1617992890.439800","parent_user_id":"UFH4C3LBT"},{"client_msg_id":"2ecb6a74-4aff-4783-bb1f-08d950984c9b","type":"message","text":"A callback is probably required to handle it properly, as otherwise this introduces discontinuities into the dynamics which are irreversible.","user":"U69BL50BF","ts":"1617998273.441400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IkoO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A callback is probably required to handle it properly, as otherwise this introduces discontinuities into the dynamics which are irreversible."}]}]}],"thread_ts":"1617992890.439800","parent_user_id":"UFH4C3LBT"},{"client_msg_id":"86e940eb-51a1-41b5-9d28-aa0f282e082b","type":"message","text":"Ok. That is what I figured. Thanks.","user":"UFH4C3LBT","ts":"1618008051.447800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O8nFe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. That is what I figured. Thanks."}]}]}],"thread_ts":"1617992890.439800","parent_user_id":"UFH4C3LBT"}]