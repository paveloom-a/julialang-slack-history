[{"client_msg_id":"8e868efa-97e1-4538-b841-85a916523258","type":"message","text":"The PKG server doesn't talk IPv6 and i am stuck on an IPv6 only machine. Ideas welcome. So no `]add Dependency`  for me.","user":"U9MD78Z9N","ts":"1609125378.170500","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1609149341.000000"},"thread_ts":"1609125378.170500","reply_count":81,"reply_users_count":6,"latest_reply":"1609201890.207500","reply_users":["U0179G7FG4F","U9MD78Z9N","U6A936746","U7THT3TM3","U66GD0880","U6795JH6H"],"subscribed":false,"reactions":[{"name":"grimacing","users":["U7THT3TM3","U0179G7FG4F","U6C5KSWAC"],"count":3}]},{"client_msg_id":"4702e89b-9ac2-4619-88a2-f06155675c30","type":"message","text":"VPN? If you're really desparate, Google translate github into spanish. It works as an OK vpn","user":"U0179G7FG4F","ts":"1609125702.171400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EX=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"VPN? If you're really desparate, Google translate github into spanish. It works as an OK vpn"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"d781374f-3d29-44c2-ab76-285d7ca3a32c","type":"message","text":"How do i teach the Julia Package manager to use Google Translator though","user":"U9MD78Z9N","ts":"1609125898.171600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4DzCN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do i teach the Julia Package manager to use Google Translator though"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"a2d2f676-f1e7-42fa-ad38-5bf623c8f01f","type":"message","text":"Gitlab has IP v6.\nI wonder if you could use the gitlab mirror of all packages\n\n <https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983|https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983>","user":"U6A936746","ts":"1609127242.172700","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"[ANN] UnofficialJuliaMirror: Mirror of all registered Julia packages","title_link":"https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983","text":"Since JuliaPackageMirrors is no longer maintained, I have set up a new mirror of Julia packages at <https://github.com/UnofficialJuliaMirror>. Currently, only packages that are registered in the General registry are mirrored. If you maintain your own registry of Julia packages that you would like mirrored, or if you have an unregistered package that you would like mirrored, please open an issue at <https://github.com/UnofficialJuliaMirror/MirrorUpdater.jl/issues>. The mirror is automatically updat...","fallback":"JuliaLang: [ANN] UnofficialJuliaMirror: Mirror of all registered Julia packages","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","fields":[{"title":"Reading time","value":"1 mins :clock2:","short":true},{"title":"Likes","value":"19 :heart:","short":true}],"ts":1538876398,"from_url":"https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983"}],"blocks":[{"type":"rich_text","block_id":"4oIux","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Gitlab has IP v6.\nI wonder if you could use the gitlab mirror of all packages\n\n "},{"type":"link","url":"https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983","text":"https://discourse.julialang.org/t/ann-unofficialjuliamirror-mirror-of-all-registered-julia-packages/15983"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"4753AB56-6EC2-4493-8565-223EDD7F3560","type":"message","text":"I wonder if we could add IPv6 support to the Pkg servers? <@U66GD0880> <@U6795JH6H> \n\nIf we can add IPv6 support to the Pkg servers, and if all the packages (and artifacts) you need are available on the Pkg servers, then there won't be any need for you to connect to GitHub.","user":"U7THT3TM3","ts":"1609127814.174900","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1609127819.000000"},"blocks":[{"type":"rich_text","block_id":"m/1X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wonder if we could add IPv6 support to the Pkg servers? "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" "},{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" \n\nIf we can add IPv6 support to the Pkg servers, and if all the packages (and artifacts) you need are available on the Pkg servers, then there won't be any need for you to connect to GitHub."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"20620688-C2E8-4706-987B-CCCD175419C2","type":"message","text":"Just FYI, the UnofficialJuliaMirrors are no longer maintained, and are very out of date","user":"U7THT3TM3","ts":"1609127845.175900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e2wv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just FYI, the UnofficialJuliaMirrors are no longer maintained, and are very out of date"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"51F02D9E-88B1-472B-9C08-C568910AB253","type":"message","text":"Until we have IPv6 support on the Pkg servers, one option is to build a Docker image with the packages you want on a computer with IPv4, and then transfer that Docker image to the IPv6 computer.","user":"U7THT3TM3","ts":"1609127898.177400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c3y+P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Until we have IPv6 support on the Pkg servers, one option is to build a Docker image with the packages you want on a computer with IPv4, and then transfer that Docker image to the IPv6 computer."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"726B91C2-C465-4850-AC38-2061BB9631B1","type":"message","text":"This should be pretty straightforward. ","user":"U66GD0880","ts":"1609128145.177800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CTyAY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This should be pretty straightforward. "}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N","reactions":[{"name":"heart","users":["U7THT3TM3","U6795JH6H","U011V2YN59N"],"count":3}]},{"client_msg_id":"61682D05-28B1-4B7A-9CE7-F6A30CDF194E","type":"message","text":"I think we generally just need to add AAAA records. I’ll take a look tomorrow. ","user":"U66GD0880","ts":"1609128167.178900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P2N58","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think we generally just need to add AAAA records. I’ll take a look tomorrow. "}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N","reactions":[{"name":"heart","users":["U7THT3TM3","U6795JH6H","U011V2YN59N","U9MD78Z9N","U6A936746","U6C5KSWAC","UH8A351DJ"],"count":7}]},{"client_msg_id":"a1bc6a19-613d-46de-bf9f-f60f4782d7ca","type":"message","text":"Please let me know once you attempted it. Then i can look if i have further problems","user":"U9MD78Z9N","ts":"1609176094.180600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LKcg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Please let me know once you attempted it. Then i can look if i have further problems"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"5aac1059-4670-4725-8ec8-192358c337a9","type":"message","text":"Can you try setting `JULIA_PKG_SERVER=<http://us-east.pkg.julialang.org|us-east.pkg.julialang.org>` and see if that works for you?","user":"U66GD0880","ts":"1609189622.187400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0EB9s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you try setting "},{"type":"text","text":"JULIA_PKG_SERVER=","style":{"code":true}},{"type":"link","url":"http://us-east.pkg.julialang.org","text":"us-east.pkg.julialang.org","style":{"code":true}},{"type":"text","text":" and see if that works for you?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"87f051f0-6fa1-40cd-9d22-21929bbfe352","type":"message","text":"You shouldn’t need to set that variable anymore; `<http://pkg.julialang.org|pkg.julialang.org>` should auto-redirect you.\n\nOkay so here’s how this is working; We use AWS Lightsail to host the vast majority of our Pkg servers.  Unfortunately, for some strange reason, ipv6 is not supported on those.  So I have moved the `<http://us-east.pkg.julialang.org|us-east.pkg.julialang.org>` server over to an EC2 machine and performed the necessary AWS rituals to give it an ipv6 address.\n\nWe use Fastly to do our traffic splitting of `<http://pkg.julialang.org|pkg.julialang.org>` -&gt; `*.<http://pkg.julialang.org|pkg.julialang.org>` depending on the nature of your request (e.g. if your IP address is coming from Europe, we’ll direct you to a server on the same continent as you) and I’ve added a rule that all ipv6 requests should be shuttled over to that `us-east` server.\n\nWe clearly do not have that much ipv6-only traffic, as you’re the first to complain about this.  However, we may have lot of “prefers ipv6” traffic, in which case I expect this server to get swamped.  Looking at the traffic for the past few minutes though, I doubt this will be the case.  Hopefully, AWS will add IPv6 support to lightsail before this happens.  :)","user":"U66GD0880","ts":"1609191730.188700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+KMXR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You shouldn’t need to set that variable anymore; "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org","style":{"code":true}},{"type":"text","text":" should auto-redirect you.\n\nOkay so here’s how this is working; We use AWS Lightsail to host the vast majority of our Pkg servers.  Unfortunately, for some strange reason, ipv6 is not supported on those.  So I have moved the "},{"type":"link","url":"http://us-east.pkg.julialang.org","text":"us-east.pkg.julialang.org","style":{"code":true}},{"type":"text","text":" server over to an EC2 machine and performed the necessary AWS rituals to give it an ipv6 address.\n\nWe use Fastly to do our traffic splitting of "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org","style":{"code":true}},{"type":"text","text":" -> "},{"type":"text","text":"*.","style":{"code":true}},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org","style":{"code":true}},{"type":"text","text":" depending on the nature of your request (e.g. if your IP address is coming from Europe, we’ll direct you to a server on the same continent as you) and I’ve added a rule that all ipv6 requests should be shuttled over to that "},{"type":"text","text":"us-east","style":{"code":true}},{"type":"text","text":" server.\n\nWe clearly do not have that much ipv6-only traffic, as you’re the first to complain about this.  However, we may have lot of “prefers ipv6” traffic, in which case I expect this server to get swamped.  Looking at the traffic for the past few minutes though, I doubt this will be the case.  Hopefully, AWS will add IPv6 support to lightsail before this happens.  :)"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"32dd5363-2769-42d7-8751-24478dc605d9","type":"message","text":"thanks for taking care of that, Elliot","user":"U6795JH6H","ts":"1609194338.188900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FZQ1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks for taking care of that, Elliot"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"When i did `export JULIA_PKG_SERVER=\"<http://us-east.pkg.julialang.org|us-east.pkg.julialang.org>\"` `]update` worked.\nHowever `]add Images` failed on cloning Images from `&lt;https://github.com/JuliaImages/Images.jl.git&gt;` with `GitError(Code:Error, Class:OS, failed to connect to &lt;http://github.com|github.com&gt;: Network not reachable)`","user":"U9MD78Z9N","ts":"1609194466.189100","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1609194535.000000"},"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"9b8ec0ee-1d31-4082-a8d0-930cee75d95e","type":"message","text":"that seems unrelated since it’s trying to reach github not <http://pkg.julialang.org|pkg.julialang.org>","user":"U6795JH6H","ts":"1609194532.189700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kgek","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that seems unrelated since it’s trying to reach github not "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"F6871739-461C-4315-A338-F9EB4ADCF1CC","type":"message","text":"Does the Images install attempt to pull from the package server first and then fail?","user":"U66GD0880","ts":"1609194534.190000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"diHVQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does the Images install attempt to pull from the package server first and then fail?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"I am on 1.5","user":"U9MD78Z9N","ts":"1609194562.190300","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"It doesn't mention trying to pull from image server:\n]add Images\n```\nResolving package versions ...\nInstalled Package name ## many entries like that\n   Cloning [$git hash looking thing] Images from &lt;https://github.com/JuliaImages/Images.jl.git&gt;\n# error from above \n```","user":"U9MD78Z9N","ts":"1609194600.190500","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1609194761.000000"},"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"<@U6795JH6H> I agree that the package server seems to work now. However not being to install packages on an IPv6 machine is still a problem. If this is a case of the error being between the screen and the chair i would like to know how to tell Julia to get the packages from the package server instead of failing to pull them from GitHub.","user":"U9MD78Z9N","ts":"1609195076.191100","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"2de36fe1-1a14-4846-a1b0-2ccd3b9c85c6","type":"message","text":"are you able to download things from github with libgit2 using IPv6 in general?","user":"U6795JH6H","ts":"1609195128.191300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9xUUD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you able to download things from github with libgit2 using IPv6 in general?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"I have no idea what `]add Images` does tbh.","user":"U9MD78Z9N","ts":"1609195157.191500","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"i can't ping <http://github.com|github.com> from this machine","user":"U9MD78Z9N","ts":"1609195172.191700","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"but <http://julialang.org|julialang.org> / <http://google.com|google.com> work","user":"U9MD78Z9N","ts":"1609195192.191900","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"ee113d22-21a6-4767-8c69-3cc15b7f0af0","type":"message","text":"ok, so that seems like a github problem that we likely cannot do anything about except complain to them","user":"U6795JH6H","ts":"1609195214.192100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uSy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, so that seems like a github problem that we likely cannot do anything about except complain to them"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"8ad13a6c-25aa-46cc-a839-f07e97ee910c","type":"message","text":"it’s a little hard to believe that github is not configured to handle IPv6 traffic, but I guess it’s possible","user":"U6795JH6H","ts":"1609195237.192300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RiYOp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s a little hard to believe that github is not configured to handle IPv6 traffic, but I guess it’s possible"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"So there is no way to get the Images package other than to go to GitHub?\nI thought the package server keeps registered artifcats/packages cached.","user":"U9MD78Z9N","ts":"1609195288.192500","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1609195300.000000"},"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"401ab77d-4b49-4ba4-a16b-77a8b010db98","type":"message","text":"are you able to do `curl -L <https://pkg.julialang.org/registries>`?","user":"U6795JH6H","ts":"1609195325.192800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NB5HY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you able to do "},{"type":"text","text":"curl -L ","style":{"code":true}},{"type":"link","url":"https://pkg.julialang.org/registries","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"68e44b0e-6e71-482b-939b-4cdb178be3f9","type":"message","text":"&gt;  it’s a little hard to believe that github is not configured to handle IPv6 traffic, but I guess it’s possible\nI have seen it reported elsewhere.","user":"U6A936746","ts":"1609195353.193000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"75=","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" it’s a little hard to believe that github is not configured to handle IPv6 traffic, but I guess it’s possible"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI have seen it reported elsewhere."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"2b1a2a66-d49a-4f65-8800-7f756ad7145d","type":"message","text":"using the pkg server should not require accessing github at all","user":"U6795JH6H","ts":"1609195362.193200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YWT9L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using the pkg server should not require accessing github at all"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N","reactions":[{"name":"heavy_check_mark","users":["U6A936746","U7THT3TM3"],"count":2}]},{"type":"message","text":"Yes i can do `curl -L <http://pkg.julialang.org/registries|pkg.julialang.org/registries>` but curl compains with an error 60 `SSL: no alternative certificate suject name matches target host name <http://pkg.julialang.org|pkg.julialang.org>`","user":"U9MD78Z9N","ts":"1609195520.193800","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"04745b44-d915-4f50-ac27-2798e17d1777","type":"message","text":"<@U66GD0880>, it seems like the change you just made (or some other change) may have borked the TLS certificate of the pkg server","user":"U6795JH6H","ts":"1609195603.194100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HvdJ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":", it seems like the change you just made (or some other change) may have borked the TLS certificate of the pkg server"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"when i tell curl to ignore certificates i get a return value:\n`/registry/$(something uid lookingg)/$(something hash looking)`","user":"U9MD78Z9N","ts":"1609195704.194300","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"The SSL error only appears on the IPv6 only server. It works from my laptop. Odd","user":"U9MD78Z9N","ts":"1609195800.194500","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"c54380bd-4d3e-4676-a7a1-3f19d95e5e2d","type":"message","text":"turns out it was a DNS misconfiguration; it’s fixed now but it takes a while for DNS changes to propagate","user":"U6795JH6H","ts":"1609196403.196800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fvh7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"turns out it was a DNS misconfiguration; it’s fixed now but it takes a while for DNS changes to propagate"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"6b133861-eecb-42f4-ac2d-9c85007f3788","type":"message","text":"Yeah, sorry about that; IP addresses look too similar.  :wink: didn’t notice the difference between two very similar addresses when I was updating the records for <http://pkg.julialang.org|pkg.julialang.org>","user":"U66GD0880","ts":"1609196431.197000","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1609196461.000000"},"blocks":[{"type":"rich_text","block_id":"H0E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, sorry about that; IP addresses look too similar.  "},{"type":"emoji","name":"wink"},{"type":"text","text":" didn’t notice the difference between two very similar addresses when I was updating the records for "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"In how many hours should i check whether it works for me.","user":"U9MD78Z9N","ts":"1609196464.197300","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"c39f732c-b4a6-4c31-9c82-42068532e17a","type":"message","text":"It should take less than 15 minutes","user":"U66GD0880","ts":"1609196475.197500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kx1Us","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It should take less than 15 minutes"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"I keep you in the loop.","user":"U9MD78Z9N","ts":"1609196486.197700","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Thanks for your effort.","user":"U9MD78Z9N","ts":"1609196512.197900","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Will it only work with us-east for now?","user":"U9MD78Z9N","ts":"1609196550.198100","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"fb72d153-501c-42d2-81d5-6827c005b058","type":"message","text":"Yes, we’re going to funnel all ipv6 traffic to the `us-east` server.","user":"U66GD0880","ts":"1609196570.198300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eb8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, we’re going to funnel all ipv6 traffic to the "},{"type":"text","text":"us-east","style":{"code":true}},{"type":"text","text":" server."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"If so would it be better to introduce `<http://ipv6.pkg.julialang.org|ipv6.pkg.julialang.org>` so that the `us-east` server doesn't get stressed to much? (just an idea)","user":"U9MD78Z9N","ts":"1609196622.198500","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"78245e40-3f2f-4ff3-b756-a9cecc07aeec","type":"message","text":"I’d rather not completely abandon AWS lightsail; we get a _very_ good deal on them due to the amount of bandwidth we can get per month.  I will add more geographically-diverse ipv6 servers as the ipv6 load increases.","user":"U66GD0880","ts":"1609196623.198700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ykc7n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’d rather not completely abandon AWS lightsail; we get a "},{"type":"text","text":"very","style":{"italic":true}},{"type":"text","text":" good deal on them due to the amount of bandwidth we can get per month.  I will add more geographically-diverse ipv6 servers as the ipv6 load increases."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Make sense.","user":"U9MD78Z9N","ts":"1609196675.198900","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"the `curl` works now without ignoring certs however `]add Images` still goes for GitHub","user":"U9MD78Z9N","ts":"1609196808.199100","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"d3d40efe-6809-4437-b438-a4cd5504fa4c","type":"message","text":"For the casual user, no need to worry about the realities of `us-east` vs. anything else; just always use `<http://pkg.julialang.org|pkg.julialang.org>` (which is the default) and you’ll get redirected to an appropriate server.","user":"U66GD0880","ts":"1609196826.199300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g4+x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For the casual user, no need to worry about the realities of "},{"type":"text","text":"us-east","style":{"code":true}},{"type":"text","text":" vs. anything else; just always use "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org","style":{"code":true}},{"type":"text","text":" (which is the default) and you’ll get redirected to an appropriate server."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Any idea what more information i could provide to help you debug this?","user":"U9MD78Z9N","ts":"1609196836.199500","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"25a0588b-b4fc-4298-94df-ed69e583b52f","type":"message","text":"Great; let’s work through this together.\n\nCan you do the following:\n```mkdir /tmp/images_test\ncd /tmp/images_test\nJULIA_DEPOT_PATH=$(pwd) julia -e 'import Pkg; Pkg.add(\"Images\")'```\nAnd can you post the full output?","user":"U66GD0880","ts":"1609196999.199700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WA1pY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great; let’s work through this together.\n\nCan you do the following:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"mkdir /tmp/images_test\ncd /tmp/images_test\nJULIA_DEPOT_PATH=$(pwd) julia -e 'import Pkg; Pkg.add(\"Images\")'"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd can you post the full output?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Should i set JULIA_PKG_SERVER beforehand?","user":"U9MD78Z9N","ts":"1609197033.200000","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"022d4cea-6374-4496-b467-80c74d7fc6d7","type":"message","text":"Oh, let’s make sure that’s not needed anymore.  Can you run `curl -L <https://pkg.julialang.org/meta>`","user":"U66GD0880","ts":"1609197081.200400","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1609197084.000000"},"blocks":[{"type":"rich_text","block_id":"GDx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, let’s make sure that’s not needed anymore.  Can you run "},{"type":"text","text":"curl -L ","style":{"code":true}},{"type":"link","url":"https://pkg.julialang.org/meta","style":{"code":true}}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"1ce3244f-e90b-4e8b-bfca-c0235c4d4df3","type":"message","text":"It should output something like:\n```{\"start_time\":\"2020-12-28T20:58:42.334\",\"pkgserver_version\":\"0.2.0-eb0e5136b48654fc45bbbee7cb029c5d32d8c3a9\",\"pkgserver_url\":\"<https://us-east.pkg.julialang.org>\",\"julia_version\":\"1.5.3\",\"last_registry_update\":\"2020-12-28T23:11:07.555\",\"registry_update_task\":\"started\",\"maxrss\":553721856}```","user":"U66GD0880","ts":"1609197100.200700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bFj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It should output something like:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"{\"start_time\":\"2020-12-28T20:58:42.334\",\"pkgserver_version\":\"0.2.0-eb0e5136b48654fc45bbbee7cb029c5d32d8c3a9\",\"pkgserver_url\":\""},{"type":"link","url":"https://us-east.pkg.julialang.org"},{"type":"text","text":"\",\"julia_version\":\"1.5.3\",\"last_registry_update\":\"2020-12-28T23:11:07.555\",\"registry_update_task\":\"started\",\"maxrss\":553721856}"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"80d6a6e4-2e77-440b-a58b-1a9ac2a31af4","type":"message","text":"The important part is (a) it works, and (b) it’s the `us-east` server, as identified by the `pkgserver_url`","user":"U66GD0880","ts":"1609197122.200900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s2PC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The important part is (a) it works, and (b) it’s the "},{"type":"text","text":"us-east","style":{"code":true}},{"type":"text","text":" server, as identified by the "},{"type":"text","text":"pkgserver_url","style":{"code":true}}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"72122ffd-b6e5-47dd-aa05-7cbdd679c60b","type":"message","text":"If those two things are true, then the `<http://pkg.julialang.org|pkg.julialang.org>` -&gt; `<http://us-east.pkg.julialang.org|us-east.pkg.julialang.org>` redirection is working, and you don’t need to set the `JULIA_PKG_SERVER` anymore","user":"U66GD0880","ts":"1609197199.201100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vBu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If those two things are true, then the "},{"type":"link","url":"http://pkg.julialang.org","text":"pkg.julialang.org","style":{"code":true}},{"type":"text","text":" -> "},{"type":"link","url":"http://us-east.pkg.julialang.org","text":"us-east.pkg.julialang.org","style":{"code":true}},{"type":"text","text":" redirection is working, and you don’t need to set the "},{"type":"text","text":"JULIA_PKG_SERVER","style":{"code":true}},{"type":"text","text":" anymore"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"I ran that curl -L i got some JSON that looks a lot like yours in return. It points to us-east","user":"U9MD78Z9N","ts":"1609197299.201300","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1609197306.000000"},"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"946619de-1385-4f74-97e2-92de01cd301c","type":"message","text":"Great; so you shouldn’t need to set any `JULIA_PKG_SERVER` variables anymore.","user":"U66GD0880","ts":"1609197381.201600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8BBjU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great; so you shouldn’t need to set any "},{"type":"text","text":"JULIA_PKG_SERVER","style":{"code":true}},{"type":"text","text":" variables anymore."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"When i an julia binary that is not in my PATH and instead just call it (path/to/bin/julia) directly instead of just saying `julia` that doesn't affect the setup`","user":"U9MD78Z9N","ts":"1609197481.201800","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N","reactions":[{"name":"correct_answer","users":["U66GD0880"],"count":1}]},{"type":"message","text":"<http://pastebin.com/gpxqKvYN|pastebin.com/gpxqKvYN>","user":"U9MD78Z9N","ts":"1609197632.202100","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"^ copy and pasted from Ipv6 machine","user":"U9MD78Z9N","ts":"1609197650.202300","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"7f33415e-4c26-4dca-ba10-3ab003d80433","type":"message","text":"perfect, thanks","user":"U66GD0880","ts":"1609197815.202500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"110pv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perfect, thanks"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"In the /tmp/images_test/ it created 3 folders clones packages registries","user":"U9MD78Z9N","ts":"1609197922.202700","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"clones is empty\npackages contains many folders with package names\nregistries contains the folder General","user":"U9MD78Z9N","ts":"1609197979.202900","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"e846877e-1491-4b69-b016-08e23b38995f","type":"message","text":"Great; I could reproduce.  Can you try again now?","user":"U66GD0880","ts":"1609198871.203100","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1609198880.000000"},"blocks":[{"type":"rich_text","block_id":"xFnZ1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great; I could reproduce.  Can you try again now?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"restarting from the julia -e call onward","user":"U9MD78Z9N","ts":"1609198902.203400","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"I pastebin the error","user":"U9MD78Z9N","ts":"1609199013.203800","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"<@U66GD0880> <http://pastebin.com/6G5YVb0b|pastebin.com/6G5YVb0b>","user":"U9MD78Z9N","ts":"1609199179.204000","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"For some reason it started with a different package this time ;-) Not sure why IntervalSets would be needed","user":"U9MD78Z9N","ts":"1609199225.204200","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Reran it started with ImageCore this time.","user":"U9MD78Z9N","ts":"1609199343.204400","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Cleaned out folder, fails when cloning ImageCore from Git","user":"U9MD78Z9N","ts":"1609199478.204600","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"55750188-3da7-4fb6-a89a-c015bf1d5c33","type":"message","text":"Yep, there’s something funky going on with the StorageServer; it seems to be skipping some packages, which means that the PkgServers don’t know about them, which causes your Pkg client to fall back to github","user":"U66GD0880","ts":"1609199511.204800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X+5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, there’s something funky going on with the StorageServer; it seems to be skipping some packages, which means that the PkgServers don’t know about them, which causes your Pkg client to fall back to github"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Do you have a package you know is self contained on StorageServer","user":"U9MD78Z9N","ts":"1609199557.205000","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"eafa9e24-9b11-47b1-92fc-27ccf1124b4e","type":"message","text":"An older version of `Images` would likely work","user":"U66GD0880","ts":"1609199578.205200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cXsP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"An older version of "},{"type":"text","text":"Images","style":{"code":true}},{"type":"text","text":" would likely work"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"eed6a7ba-7007-4303-a90d-87dd9cbd5a89","type":"message","text":"but this shouldn’t take long","user":"U66GD0880","ts":"1609199588.205400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j1Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but this shouldn’t take long"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"605ede59-872b-4233-b6af-8e67a2fbfe8d","type":"message","text":"it’s chewing through things right now","user":"U66GD0880","ts":"1609199594.205600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7kRiP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s chewing through things right now"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"If you want me to try something please be specific what version etc... old version is ambigous. Thank you for having a look. I am sorry, i always run into stuff like this.","user":"U9MD78Z9N","ts":"1609199693.205800","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"cb90431f-a24a-47ad-b014-aff7dadeb0d7","type":"message","text":"okay can you try the latest version again?","user":"U66GD0880","ts":"1609200099.206000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bWWJO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay can you try the latest version again?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"trying without rming folder frist","user":"U9MD78Z9N","ts":"1609200385.206200","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"works for Images","user":"U9MD78Z9N","ts":"1609200441.206400","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N","reactions":[{"name":"+1","users":["U66GD0880"],"count":1}]},{"client_msg_id":"27d48410-d626-4042-b6fb-81476f3dd6d6","type":"message","text":"Great; so the fundamental issue was that the storage server hadn’t stored everything.  I’ll keep on fixing these issues as they come up; please do continue to raise issues as you run into them.","user":"U66GD0880","ts":"1609200617.206700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RenEt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great; so the fundamental issue was that the storage server hadn’t stored everything.  I’ll keep on fixing these issues as they come up; please do continue to raise issues as you run into them."}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"91292b2c-04db-4d78-9038-a2b68c088148","type":"message","text":"I’m glad that we continue along the path in serving when GitHub itself cannot.  :slightly_smiling_face:","user":"U66GD0880","ts":"1609200636.206900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"py2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m glad that we continue along the path in serving when GitHub itself cannot.  "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Ran into an issue with FFTW but for now it looks like Pkg.build(\"FFTW\") fixed it","user":"U9MD78Z9N","ts":"1609200977.207100","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"Out of curiosity. Did the storage server cache anything at all?","user":"U9MD78Z9N","ts":"1609201111.207300","team":"T68168MUP","thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"ca01aff2-8662-4c21-bdac-6a055092583f","type":"message","text":"I’m not sure what you’re asking; can you rephrase?","user":"U66GD0880","ts":"1609201890.207500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Z8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m not sure what you’re asking; can you rephrase?"}]}]}],"thread_ts":"1609125378.170500","parent_user_id":"U9MD78Z9N"}]