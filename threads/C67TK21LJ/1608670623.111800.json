[{"client_msg_id":"7166c777-8bf1-482f-bd50-522f55334d6b","type":"message","text":"I feel like this should give me `Float32`, but I guess something is getting promoted along the way?\n```julia&gt; typeof(logpdf(MvNormal(Float32.(rand(4)), Float32(0.2)), Float32.(rand(4))))\nFloat64```","user":"U695B1S2X","ts":"1608670623.111800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pu/V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I feel like this should give me "},{"type":"text","text":"Float32","style":{"code":true}},{"type":"text","text":", but I guess something is getting promoted along the way?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> typeof(logpdf(MvNormal(Float32.(rand(4)), Float32(0.2)), Float32.(rand(4))))\nFloat64"}]}]}],"thread_ts":"1608670623.111800","reply_count":10,"reply_users_count":5,"latest_reply":"1608673226.114200","reply_users":["U7HAYKY9X","U0179G7FG4F","U6N6VQE30","U695B1S2X","U6A936746"],"subscribed":false},{"client_msg_id":"0a858d6a-274e-42b8-ba8f-4e5f9043d402","type":"message","text":"It's probably the call to rand","user":"U7HAYKY9X","ts":"1608670952.112000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mD0g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's probably the call to rand"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"2db28651-1715-4e4f-8ba0-874dedb3c4ed","type":"message","text":"note, `rand(Float32,4)` both works and is probably faster.","user":"U0179G7FG4F","ts":"1608670977.112200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A8Buz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"note, "},{"type":"text","text":"rand(Float32,4)","style":{"code":true}},{"type":"text","text":" both works and is probably faster."}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"1ad2f32e-38f4-44b9-b0b3-8d363f4ce20f","type":"message","text":"There's many reasons things can get converted to float64, try @code_typed on logpdf","user":"U6N6VQE30","ts":"1608671140.112400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z5AW=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's many reasons things can get converted to float64, try @code_typed on logpdf"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"537f883c-155b-45f0-aff3-55b8890c9236","type":"message","text":"&gt; It's probably the call to rand\n&gt; note, rand(Float32,4) both works and is probably faster\nThat's true, but besides the point. Regardless, `logpdf` should probably return a `Float32` if that's what it's given.\n\n&gt; There's many reasons things can get converted to float64, try @code_typed on logpdf\nThanks, yeah, that's what I'll look into next.","user":"U695B1S2X","ts":"1608671853.112600","team":"T68168MUP","edited":{"user":"U695B1S2X","ts":"1608672092.000000"},"blocks":[{"type":"rich_text","block_id":"e2zuA","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"It's probably the call to rand"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":"note, rand(Float32,4) both works and is probably faster"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"That's true, but besides the point. Regardless, "},{"type":"text","text":"logpdf","style":{"code":true}},{"type":"text","text":" should probably return a "},{"type":"text","text":"Float32","style":{"code":true}},{"type":"text","text":" if that's what it's given.\n\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":"There's many reasons things can get converted to float64, try @code_typed on logpdf"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, yeah, that's what I'll look into next."}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"0a03dbfa-dc7c-4ffa-b394-11dbdfbf15c4","type":"message","text":":julia-cthulhu:  tells me it is:\n<https://github.com/JuliaStats/Distributions.jl/blob/d6de7214e6d84df77d1eb3ec7a98d23862d1232d/src/multivariate/mvnormal.jl#L99>","user":"U6A936746","ts":"1608672416.113000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KuHhH","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"julia-cthulhu"},{"type":"text","text":"  tells me it is:\n"},{"type":"link","url":"https://github.com/JuliaStats/Distributions.jl/blob/d6de7214e6d84df77d1eb3ec7a98d23862d1232d/src/multivariate/mvnormal.jl#L99"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"4ad2cfe8-91b3-4939-9794-79c90d9feca8","type":"message","text":"Which should be an easy fix.\nJust delete the call too `Float64` and let promotion work it out.\nlog2π is a `Irational` this is exactly what it is for","user":"U6A936746","ts":"1608672576.113300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qYA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which should be an easy fix.\nJust delete the call too "},{"type":"text","text":"Float64","style":{"code":true}},{"type":"text","text":" and let promotion work it out.\nlog2π is a "},{"type":"text","text":"Irational","style":{"code":true}},{"type":"text","text":" this is exactly what it is for"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"5009c907-be04-4e6a-892d-7235cd657d20","type":"message","text":"Cthulu is the best","user":"U6A936746","ts":"1608672676.113500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WEWW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cthulu is the best"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"73757310-3fe5-41cd-b2c6-96debf027340","type":"message","text":"was this code from an old Julia where that was needed?","user":"U0179G7FG4F","ts":"1608672695.113700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a+IJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"was this code from an old Julia where that was needed?"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"},{"client_msg_id":"2308786d-2c8a-4346-9a5f-5f5b186a7c27","type":"message","text":"It is ancient beyond belief\nIt is from this PR which was written for Julia 0.2.\n<https://github.com/JuliaStats/Distributions.jl/pull/104/files#diff-b662709b31f60de62ce62570c14b10f7034e4ac8f559a35384a182d28af29d1eR50>","user":"U6A936746","ts":"1608673072.113900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i8UC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is ancient beyond belief\nIt is from this PR which was written for Julia 0.2.\n"},{"type":"link","url":"https://github.com/JuliaStats/Distributions.jl/pull/104/files#diff-b662709b31f60de62ce62570c14b10f7034e4ac8f559a35384a182d28af29d1eR50"}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X","reactions":[{"name":"100","users":["U0179G7FG4F"],"count":1}]},{"client_msg_id":"4dc6adf1-ee4e-4991-974f-50cf09dbe405","type":"message","text":"Thanks, I'll give it a shot.","user":"U695B1S2X","ts":"1608673226.114200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KzVZ+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, I'll give it a shot."}]}]}],"thread_ts":"1608670623.111800","parent_user_id":"U695B1S2X"}]