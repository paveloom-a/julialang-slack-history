[{"client_msg_id":"f542e946-0053-4e48-bc8c-b72bef977de3","type":"message","text":"That things like whether a space is shown after commas in lists of say dicts and type parameters are changed between Julia versions (Julia 1.6 added them after commas). Either choice to me seems perfectly fine and I generally don't care, but by changing it between versions it now broke about a gazillion doc tests in the packages I maintain, _and_ now I can't have doc tests that work on all the Julia versions that the package supports. Those kind of small changes might look like an improvement in isolation, but often IMHO just the fact that this can cause a lot of churn downstream might make such cosmetic changes not worth it.","user":"U68UUUFPS","ts":"1617557721.268800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0oz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That things like whether a space is shown after commas in lists of say dicts and type parameters are changed between Julia versions (Julia 1.6 added them after commas). Either choice to me seems perfectly fine and I generally don't care, but by changing it between versions it now broke about a gazillion doc tests in the packages I maintain, "},{"type":"text","text":"and","style":{"italic":true}},{"type":"text","text":" now I can't have doc tests that work on all the Julia versions that the package supports. Those kind of small changes might look like an improvement in isolation, but often IMHO just the fact that this can cause a lot of churn downstream might make such cosmetic changes not worth it."}]}]}],"thread_ts":"1617557721.268800","reply_count":5,"reply_users_count":4,"latest_reply":"1617563858.270200","reply_users":["UDB26738Q","U68UUUFPS","U01HD5VFXJM","U6A936746"],"is_locked":false,"subscribed":false,"reactions":[{"name":"100","users":["UDXST8ARK","UJ7DVTVQ8"],"count":2}]},{"client_msg_id":"cfec4185-5e14-4304-a8e6-dcc0e78c4ead","type":"message","text":"but this also means you're testing someone else's code :upside_down_face: (to be clear, I also had this kind of issue several times in the past and started using regex matching instead of exact matching, useful especially for whitespaces changes)","user":"UDB26738Q","ts":"1617559031.269200","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1617559058.000000"},"blocks":[{"type":"rich_text","block_id":"A5Ydz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but this also means you're testing someone else's code "},{"type":"emoji","name":"upside_down_face"},{"type":"text","text":" (to be clear, I also had this kind of issue several times in the past and started using regex matching instead of exact matching, useful especially for whitespaces changes)"}]}]}],"thread_ts":"1617557721.268800","parent_user_id":"U68UUUFPS","reactions":[{"name":"+1","users":["UE4DPAS4W"],"count":1}]},{"client_msg_id":"6ea01558-01bd-4333-88b5-fea972812afc","type":"message","text":"I mean, sure, I can find lots of ways to fix this. But that is not a good use of my time... I want to use the time I have for Julia to add features, not adjust things for cosmetic changes that in my mind add almost no value one way or another.","user":"U68UUUFPS","ts":"1617559258.269500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oNRkw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, sure, I can find lots of ways to fix this. But that is not a good use of my time... I want to use the time I have for Julia to add features, not adjust things for cosmetic changes that in my mind add almost no value one way or another."}]}]}],"thread_ts":"1617557721.268800","parent_user_id":"U68UUUFPS","reactions":[{"name":"point_up","users":["U6A936746"],"count":1}]},{"client_msg_id":"7e8174ba-00b9-4422-998d-fdda22595ffd","type":"message","text":"I'd say that's a issue with the idea of relying on doctests because it's testing the display, not the underlying data. No reason the display should be as stable as the underlying API, because display is intended for human use.","user":"U01HD5VFXJM","ts":"1617563077.269800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fh=A4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd say that's a issue with the idea of relying on doctests because it's testing the display, not the underlying data. No reason the display should be as stable as the underlying API, because display is intended for human use."}]}]}],"thread_ts":"1617557721.268800","parent_user_id":"U68UUUFPS"},{"client_msg_id":"c4720f40-beb9-40d7-a3a2-acc63bee5ce6","type":"message","text":"Yeah, sure.\nBut still I agree with David.\nEven through exact string representation shouldn't be restricted by SemVer, it also shouldn't be changed without a good reason.\nChanging `Tuple{Int,Int}` to `Tuple{Int, Int}` is not a good reason.\nChanging\n`Array{Int,2}` to `Matrix{Int}` is.","user":"U6A936746","ts":"1617563603.270000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"45kD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, sure.\nBut still I agree with David.\nEven through exact string representation shouldn't be restricted by SemVer, it also shouldn't be changed without a good reason.\nChanging "},{"type":"text","text":"Tuple{Int,Int} ","style":{"code":true}},{"type":"text","text":"to "},{"type":"text","text":"Tuple{Int, Int}","style":{"code":true}},{"type":"text","text":" is not a good reason.\nChanging\n"},{"type":"text","text":"Array{Int,2}","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"Matrix{Int} ","style":{"code":true}},{"type":"text","text":"is."}]}]}],"thread_ts":"1617557721.268800","parent_user_id":"U68UUUFPS"},{"client_msg_id":"e11f1f23-5c59-4eab-ab77-42dea0e21b15","type":"message","text":"Though this isn't the first time this happened. So I have already mostly restricted my doctests to run on a single Julia version.\n\nI'm general I am not a fan of how doctests work.\nI kind of wish they just checked that the code didn't error.\nMaybe optional a fuzzy string match threshold to see they are not totally wrong. But default to none\n\nLeave the actual testing for the actual tests, where hopefully it will be more clear and direct about what is being tested","user":"U6A936746","ts":"1617563858.270200","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1617563925.000000"},"blocks":[{"type":"rich_text","block_id":"JiZB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Though this isn't the first time this happened. So I have already mostly restricted my doctests to run on a single Julia version.\n\nI'm general I am not a fan of how doctests work.\nI kind of wish they just checked that the code didn't error.\nMaybe optional a fuzzy string match threshold to see they are not totally wrong. But default to none\n\nLeave the actual testing for the actual tests, where hopefully it will be more clear and direct about what is being tested"}]}]}],"thread_ts":"1617557721.268800","parent_user_id":"U68UUUFPS"}]