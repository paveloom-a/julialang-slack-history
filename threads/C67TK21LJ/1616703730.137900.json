[{"client_msg_id":"66dca079-437f-443a-9cf7-65ab1b32f25f","type":"message","text":":python: gripe that the <#C674ELDNX|binarybuilder> gang will enjoy: `pip install cryptography` on Alpine now requires a *Rust* toolchain :man-facepalming:","user":"U6NFPDBV1","ts":"1616703730.137900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"anHk","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"python"},{"type":"text","text":" gripe that the "},{"type":"channel","channel_id":"C674ELDNX"},{"type":"text","text":" gang will enjoy: "},{"type":"text","text":"pip install cryptography","style":{"code":true}},{"type":"text","text":" on Alpine now requires a "},{"type":"text","text":"Rust","style":{"bold":true}},{"type":"text","text":" toolchain "},{"type":"emoji","name":"man-facepalming"}]}]}],"thread_ts":"1616703730.137900","reply_count":14,"reply_users_count":7,"latest_reply":"1616736962.149300","reply_users":["U6QGE7S86","UDB26738Q","U6NFPDBV1","U6C5KSWAC","U6795JH6H","UC81ESVH6","ULD19UCPK"],"is_locked":false,"subscribed":false,"reactions":[{"name":"joy","users":["UDB26738Q","U9VG1AYSG","U7THT3TM3","U6795JH6H"],"count":4},{"name":"rubegoldberg","users":["U677NAWV8","U680THK2S","U6795JH6H"],"count":3}]},{"client_msg_id":"140a83ca-40fb-43f4-b31d-a132e543c9b0","type":"message","text":"This blew up a few weeks ago - they did it because of security guarantees they needed, and the only systems left behind are like 1993 comps or something.","user":"U6QGE7S86","ts":"1616703821.138200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r2My","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This blew up a few weeks ago - they did it because of security guarantees they needed, and the only systems left behind are like 1993 comps or something."}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"cbab22c4-202c-423d-8ea7-38b996d8a34d","type":"message","text":"to be fair, I think we still have some issues with musl: <https://julialang.slack.com/archives/C674ELDNX/p1616454931048600> :grimacing:","user":"UDB26738Q","ts":"1616703850.138500","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1616454931048600","fallback":"[March 22nd, 2021 4:15 PM] mose: soooo, some musl fun: `XML2_jll` depends on `Libiconv_jll`:\n```shell&gt; ldd /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so\n        /lib/ld-musl-x86_64.so.1 (0x7f5b8303a000)\n        libz.so.1 =&gt; /lib/libz.so.1 (0x7f5b82ca3000)\nError loading shared library libiconv.so.2: No such file or directory (needed by /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so)\n        libc.musl-x86_64.so.1 =&gt; /lib/ld-musl-x86_64.so.1 (0x7f5b8303a000)\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv: symbol not found\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv_open: symbol not found\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv_close: symbol not found```\nbut\n```julia&gt; using Libiconv_jll\n\njulia&gt; libiconv\n\"/root/.julia/artifacts/a68e58e626bcb8e54e199795c726164f206f4f06/lib/libiconv.so\"```\nit's `libiconv.so`, not `libiconv.so.2`.  with glibc we have the same relationships and names, but the loader doesn't have problems finding the soversioned library.  so, is this a limitation of musl?  not being able to load xml2 cuts out more than 500 packages: <https://juliahub.com/ui/Packages/XML2_jll/xWVg2/2.9.11+0?t=2> :grimacing:","ts":"1616454931.048600","author_id":"UDB26738Q","author_subname":"Mosè Giordano","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"text":"soooo, some musl fun: `XML2_jll` depends on `Libiconv_jll`:\n```shell&gt; ldd /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so\n        /lib/ld-musl-x86_64.so.1 (0x7f5b8303a000)\n        libz.so.1 =&gt; /lib/libz.so.1 (0x7f5b82ca3000)\nError loading shared library libiconv.so.2: No such file or directory (needed by /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so)\n        libc.musl-x86_64.so.1 =&gt; /lib/ld-musl-x86_64.so.1 (0x7f5b8303a000)\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv: symbol not found\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv_open: symbol not found\nError relocating /root/.julia/artifacts/0a291a85f151f34baf4a09d3a4c4f1c0035c3cc2/lib/libxml2.so: libiconv_close: symbol not found```\nbut\n```julia&gt; using Libiconv_jll\n\njulia&gt; libiconv\n\"/root/.julia/artifacts/a68e58e626bcb8e54e199795c726164f206f4f06/lib/libiconv.so\"```\nit's `libiconv.so`, not `libiconv.so.2`.  with glibc we have the same relationships and names, but the loader doesn't have problems finding the soversioned library.  so, is this a limitation of musl?  not being able to load xml2 cuts out more than 500 packages: <https://juliahub.com/ui/Packages/XML2_jll/xWVg2/2.9.11+0?t=2> :grimacing:","author_name":"Mosè Giordano","author_link":"https://julialang.slack.com/team/UDB26738Q","author_icon":"https://secure.gravatar.com/avatar/b1b9938790729d96af6f168d8ce0f917.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1616454931048600","footer":"Posted in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"a=qT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to be fair, I think we still have some issues with musl: "},{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1616454931048600"},{"type":"text","text":" "},{"type":"emoji","name":"grimacing"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"b0c2ac28-e163-4dd6-9b1b-533ab89d80df","type":"message","text":"Maybe I need to change my preference for Alpine-based Docker images","user":"U6NFPDBV1","ts":"1616703965.138800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jwI45","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe I need to change my preference for Alpine-based Docker images"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"f12d85ee-c346-4ca5-9cbd-7a8cf70ca7a2","type":"message","text":"<https://cryptography.io/en/latest/installation.html#building-cryptography-on-linux>\n\n&gt; On all Linux distributions you will need to have Rust installed and available.","user":"UDB26738Q","ts":"1616704134.139100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uf7","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://cryptography.io/en/latest/installation.html#building-cryptography-on-linux"},{"type":"text","text":"\n\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":"On all Linux distributions you will need to have Rust installed and available."}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"f234af18-3c00-40ee-a263-2af3ee0d83dc","type":"message","text":"this reminds me of <https://pythonspeed.com/articles/alpine-docker-python/> which is completely backwards: it's python packaging that makes building docker images 50x outside of small garden, not the other way around","user":"UDB26738Q","ts":"1616704230.139300","team":"T68168MUP","attachments":[{"service_name":"Python⇒Speed","title":"Using Alpine can make Python Docker builds 50× slower","title_link":"https://pythonspeed.com/articles/alpine-docker-python/","text":"When you’re choosing a base image for your Docker image, Alpine Linux is often recommended. Using Alpine, you’re told, will make your images smaller and speed up your builds. And if you’re using Go that’s reasonable advice. But if you’re using Python, Alpine Linux will quite often: Make your builds much slower. Make your images bigger. Waste your time. On occassion, introduce obscure runtime bugs. Let’s see why Alpine is recommended, and why you probably shouldn’t use it for your Python application.","fallback":"Python⇒Speed: Using Alpine can make Python Docker builds 50× slower","image_url":"https://pythonspeed.com/assets/titles/alpine-docker-python.png","ts":1580256000,"from_url":"https://pythonspeed.com/articles/alpine-docker-python/","image_width":499,"image_height":250,"image_bytes":39140,"service_icon":"https://pythonspeed.com/assets/icon.png","id":1,"original_url":"https://pythonspeed.com/articles/alpine-docker-python/"}],"blocks":[{"type":"rich_text","block_id":"lpVX=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this reminds me of "},{"type":"link","url":"https://pythonspeed.com/articles/alpine-docker-python/"},{"type":"text","text":" which is completely backwards: it's python packaging that makes building docker images 50x outside of small garden, not the other way around"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"cd838542-605b-4c15-bab3-c52c1de52b6e","type":"message","text":"Fun fact: This requirement caused the julia zulip archive deployment to fail like a month ago: <https://github.com/JuliaCommunity/zulip-archive/runs/1866794165?check_suite_focus=true>","user":"U6C5KSWAC","ts":"1616704916.139600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4jAm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fun fact: This requirement caused the julia zulip archive deployment to fail like a month ago: "},{"type":"link","url":"https://github.com/JuliaCommunity/zulip-archive/runs/1866794165?check_suite_focus=true"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1","reactions":[{"name":"rubegoldberg","users":["U6795JH6H"],"count":1}]},{"client_msg_id":"c156ae14-9d93-4f1e-ba7d-d4609098e4f3","type":"message","text":"<@U6NFPDBV1>: does it require you to install the Rust toolchain or does it do it for you?","user":"U6795JH6H","ts":"1616714035.142400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QkUua","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6NFPDBV1"},{"type":"text","text":": does it require you to install the Rust toolchain or does it do it for you?"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"23E8309F-0483-4033-BAC3-86544031B500","type":"message","text":"It fails if it's not installed","user":"U6NFPDBV1","ts":"1616717918.142900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WcP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It fails if it's not installed"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"CA2BEFBD-B016-445A-B0B1-D3EA036E2085","type":"message","text":"And <@UDB26738Q> on Debian it downloads precompiled stuff thankfully","user":"U6NFPDBV1","ts":"1616718047.144500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1qBJ7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" on Debian it downloads precompiled stuff thankfully"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"e146736d-fa01-4749-bc3e-97dbd559c899","type":"message","text":"which is exactly what the post is about","user":"UDB26738Q","ts":"1616718084.144700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eL1r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is exactly what the post is about"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"1af00726-8c76-4dc4-be14-b1a7ca5b25e0","type":"message","text":"This is the thread full of arguments: <https://github.com/pyca/cryptography/issues/5771|https://github.com/pyca/cryptography/issues/5771>","user":"UC81ESVH6","ts":"1616731004.145800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FNU0Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is the thread full of arguments: "},{"type":"link","url":"https://github.com/pyca/cryptography/issues/5771","text":"https://github.com/pyca/cryptography/issues/5771"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"6cdf6451-f1c1-4e9e-a311-8b5b9ba1d4b0","type":"message","text":"Yeah people started brigading it","user":"U6QGE7S86","ts":"1616731046.146000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vnv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah people started brigading it"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"939F9793-AC5B-4FCD-905B-C2F0B2CA71F7","type":"message","text":"The  guy in a very early comment who threatens to fork the package is :ok_hand:","user":"ULD19UCPK","ts":"1616736846.147100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5np3j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The  guy in a very early comment who threatens to fork the package is "},{"type":"emoji","name":"ok_hand"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"},{"client_msg_id":"CACD08E6-D0E7-45C9-9FAA-79E45E35E31E","type":"message","text":"Also the guy who is mad that the library won’t build on his Amiga anymore. Demanding volunteers to not break the library on an Amiga is just so comically entitled","user":"ULD19UCPK","ts":"1616736962.149300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"clwI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also the guy who is mad that the library won’t build on his Amiga anymore. Demanding volunteers to not break the library on an Amiga is just so comically entitled"}]}]}],"thread_ts":"1616703730.137900","parent_user_id":"U6NFPDBV1"}]