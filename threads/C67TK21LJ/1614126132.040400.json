[{"client_msg_id":"c79930f7-8038-4851-9edb-5ad803bac878","type":"message","text":"You could even combine the best of both worlds - e.g. ask for `return_type` and if it returns `Any` than use the value-based narrowing approach, otherwise use it.","user":"U66QZ3QF3","ts":"1614126132.040400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jZV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You could even combine the best of both worlds - e.g. ask for "},{"type":"text","text":"return_type","style":{"code":true}},{"type":"text","text":" and if it returns "},{"type":"text","text":"Any","style":{"code":true}},{"type":"text","text":" than use the value-based narrowing approach, otherwise use it."}]}]}],"thread_ts":"1614126132.040400","reply_count":1,"reply_users_count":1,"latest_reply":"1614126408.041900","reply_users":["UH8A351DJ"],"subscribed":false},{"client_msg_id":"675b99b1-c567-4182-90c7-89cbc0f8ebe6","type":"message","text":"```julia&gt; a\n3-element Vector{Real}:\n 1\n 2\n π = 3.1415926535897...\n\njulia&gt; eltype(map!(sin, similar(a), a))\nReal```\nmaybe this approach? Using the fact that `similar()` is less automatic than `collect` or splatting","user":"UH8A351DJ","ts":"1614126408.041900","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1614126440.000000"},"blocks":[{"type":"rich_text","block_id":"EZM","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> a\n3-element Vector{Real}:\n 1\n 2\n π = 3.1415926535897...\n\njulia> eltype(map!(sin, similar(a), a))\nReal"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"maybe this approach? Using the fact that "},{"type":"text","text":"similar()","style":{"code":true}},{"type":"text","text":" is less automatic than "},{"type":"text","text":"collect","style":{"code":true}},{"type":"text","text":" or splatting"}]}]}],"thread_ts":"1614126132.040400","parent_user_id":"U66QZ3QF3"}]