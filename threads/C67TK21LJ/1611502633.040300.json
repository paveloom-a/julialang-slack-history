[{"client_msg_id":"d2e8c3e0-101d-40e8-a392-d68ab4460eb7","type":"message","text":"Am I timing TTFP wrong?\nJulia 1.0\n```\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 23.029167 seconds (52.21 M allocations: 2.723 GiB, 5.60% gc time)```\nJulia 1.6\n```\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.384380 seconds (60.73 M allocations: 3.559 GiB, 6.93% gc time)```\nLike technically it is better.\nBut not by much?","user":"U6A936746","ts":"1611502633.040300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uE43","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Am I timing TTFP wrong?\nJulia 1.0\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 23.029167 seconds (52.21 M allocations: 2.723 GiB, 5.60% gc time)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nJulia 1.6\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.384380 seconds (60.73 M allocations: 3.559 GiB, 6.93% gc time)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nLike technically it is better.\nBut not by much?"}]}]}],"thread_ts":"1611502633.040300","reply_count":45,"reply_users_count":5,"latest_reply":"1611601983.062200","reply_users":["U67D54KS8","U6A936746","U8MPCDJAY","UDB26738Q","UGU761DU2"],"subscribed":false},{"client_msg_id":"bc646db1-0ac0-4e6a-bd1e-44ae9f619824","type":"message","text":"I get 9.6s on 1.6 and 16.8s on 1.0.5","user":"U67D54KS8","ts":"1611503168.040400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aKmP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I get 9.6s on 1.6 and 16.8s on 1.0.5"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"9439bdc2-719a-4b47-92fe-f5bfdba139fc","type":"message","text":"Cool, can you post the full timing thing, and I will just use your numbers in the blog post I am writing?\nand I can debug later what is up with my system","user":"U6A936746","ts":"1611503221.040600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/TP0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool, can you post the full timing thing, and I will just use your numbers in the blog post I am writing?\nand I can debug later what is up with my system"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"6ECE571A-8E8E-4867-8215-3C24A55FA3CC","type":"message","text":"I’m surprised your 1.6 result doesn’t include any compilation %","user":"U8MPCDJAY","ts":"1611503380.042000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E6U3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m surprised your 1.6 result doesn’t include any compilation %"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"f2fb91c9-1590-4e37-b547-337c2f47e5e9","type":"message","text":"Hmm that is suspicious.\nI should double check i am actually using 1.6…","user":"U6A936746","ts":"1611503438.042200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TvLQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm that is suspicious.\nI should double check i am actually using 1.6…"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"214e1b39-c1c2-414a-adf7-0fa06bc0335c","type":"message","text":"yep, I am\n```  | | |_| | | | (_| |  |  Version 1.6.0-beta1 (2021-01-08)\n _/ |\\__'_|_|_|\\__'_|  |\n|__/                   |\n\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.384380 seconds (60.73 M allocations: 3.559 GiB, 6.93% gc time)```","user":"U6A936746","ts":"1611503462.042400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H5P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep, I am\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"  | | |_| | | | (_| |  |  Version 1.6.0-beta1 (2021-01-08)\n _/ |\\__'_|_|_|\\__'_|  |\n|__/                   |\n\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.384380 seconds (60.73 M allocations: 3.559 GiB, 6.93% gc time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"750D9F27-46B2-4AA3-BAF4-C9E9DBF207D1","type":"message","text":"huh.. :thinking_face:","user":"U8MPCDJAY","ts":"1611503563.043600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JL4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"huh.. "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"bea1b85f-2a33-40b1-b5fd-a92627461f37","type":"message","text":"What's the slowest bit: loading the package or displaying the plot? At least package loading should have got a bit better","user":"UDB26738Q","ts":"1611503569.043800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZTCR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's the slowest bit: loading the package or displaying the plot? At least package loading should have got a bit better"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"4d4f1b5a-a626-4915-873f-a9bd4f7b6333","type":"message","text":"maybe it is a GTK on Mac thing?","user":"U6A936746","ts":"1611503593.044000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vnu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe it is a GTK on Mac thing?"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"81b13d2d-baf3-475a-acf0-f1f0722ce519","type":"message","text":"Gtk?","user":"UDB26738Q","ts":"1611503629.044200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"04P1U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Gtk?"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"f98b8d7e-05ed-44f8-ad11-1ebee24d183a","type":"message","text":"yeah isn’t that what plots uses when running from REPL?","user":"U6A936746","ts":"1611503681.044400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RDL9G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah isn’t that what plots uses when running from REPL?"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"1809339b-d1dc-4fed-8f45-f1a6d768f671","type":"message","text":"The default backend is GR, which uses Qt","user":"UDB26738Q","ts":"1611503728.045300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wFYk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The default backend is GR, which uses Qt"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"2162cee5-71f4-4e34-91d3-610d77ca0cb1","type":"message","text":"It says GKSTerm.\nis that Qt?\nI just saw that G and assumed it was a Gtk thing","user":"U6A936746","ts":"1611503762.045700","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611503790.000000"},"blocks":[{"type":"rich_text","block_id":"lzS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It says GKSTerm.\nis that Qt?\nI just saw that G and assumed it was a Gtk thing"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"4DD827F1-84C6-4427-BBDF-DEA07D41C8C7","type":"message","text":"Maybe there’s more invalidations going on on MacOS","user":"U8MPCDJAY","ts":"1611504055.046500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aS7S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe there’s more invalidations going on on MacOS"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"F2402B17-1C2E-4828-BB90-DD08C4254FFA","type":"message","text":"I believe most of the invalidation hunting has taken place on Linux","user":"U8MPCDJAY","ts":"1611504092.047200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X3+pT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe most of the invalidation hunting has taken place on Linux"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"26313CCF-A364-4DF8-A60B-6BC6C26C3453","type":"message","text":"Might be worth running it with `@snoopr`","user":"U8MPCDJAY","ts":"1611504143.047900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+huIF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Might be worth running it with "},{"type":"text","text":"@snoopr","style":{"code":true}}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"1dff3538-17a9-44a2-a627-46b67d3b451a","type":"message","text":"This is on mac:\n\n```  | | |_| | | | (_| |  |  Version 1.0.5 (2019-09-09)\n _/ |\\__'_|_|_|\\__'_|  |  Official <https://julialang.org/> release\n|__/                   |\n\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 16.780888 seconds (29.55 M allocations: 1.609 GiB, 3.79% gc time)\n\n  | | |_| | | | (_| |  |  Version 1.6.0-beta1 (2021-01-08)\n _/ |\\__'_|_|_|\\__'_|  |  Official <https://julialang.org/> release\n|__/                   |\n\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n  9.694037 seconds (18.29 M allocations: 1.164 GiB, 4.17% gc time, 0.40% compilation time)```","user":"U67D54KS8","ts":"1611504322.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yaw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is on mac:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"  | | |_| | | | (_| |  |  Version 1.0.5 (2019-09-09)\n _/ |\\__'_|_|_|\\__'_|  |  Official "},{"type":"link","url":"https://julialang.org/"},{"type":"text","text":" release\n|__/                   |\n\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 16.780888 seconds (29.55 M allocations: 1.609 GiB, 3.79% gc time)\n\n  | | |_| | | | (_| |  |  Version 1.6.0-beta1 (2021-01-08)\n _/ |\\__'_|_|_|\\__'_|  |  Official "},{"type":"link","url":"https://julialang.org/"},{"type":"text","text":" release\n|__/                   |\n\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n  9.694037 seconds (18.29 M allocations: 1.164 GiB, 4.17% gc time, 0.40% compilation time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"ty","users":["U6A936746"],"count":1}]},{"client_msg_id":"a317b82a-91c9-4d52-9fb6-ed0a76a21c49","type":"message","text":"Also, second one is fast on 1.6:\n\n```\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n  0.038959 seconds (47.46 k allocations: 1.169 MiB)```\ndo you have stuff in your `startup.jl`?","user":"U67D54KS8","ts":"1611504379.048400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uPunW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, second one is fast on 1.6:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n  0.038959 seconds (47.46 k allocations: 1.169 MiB)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\ndo you have stuff in your "},{"type":"text","text":"startup.jl","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"41cc9c24-ca9d-434d-950a-8ee1f2914eb9","type":"message","text":"I do have Revise yes","user":"U6A936746","ts":"1611504402.048600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RXVz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I do have Revise yes"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"79937d1b-bb5f-4821-804f-9bd279a99bd0","type":"message","text":"Well, try without that","user":"U67D54KS8","ts":"1611504488.048800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IhtLM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, try without that"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"2b8d63d4-6abb-4ac2-b02f-e0d91512a0de","type":"message","text":"Without that i am still getting on 1.6:\n```\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 19.170260 seconds (60.10 M allocations: 3.522 GiB, 7.42% gc time, 0.02% compilation time)```","user":"U6A936746","ts":"1611504617.049000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MoOsi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Without that i am still getting on 1.6:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 19.170260 seconds (60.10 M allocations: 3.522 GiB, 7.42% gc time, 0.02% compilation time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"2093C3CA-3640-41CE-8E02-50964F1657D1","type":"message","text":"What kind of drive is your depot on? ","user":"U8MPCDJAY","ts":"1611504705.049500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xUc9U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What kind of drive is your depot on? "}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"46fdcb3a-b99d-4e87-895b-2d0a97dd690a","type":"message","text":"I have no idea. What ever the comes with 2018 macbooks.","user":"U6A936746","ts":"1611504739.049700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EK5C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have no idea. What ever the comes with 2018 macbooks."}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"FB51E636-3AB4-4AF9-9B31-C56FF247AD26","type":"message","text":"Odd. Probably a decent SSD","user":"U8MPCDJAY","ts":"1611504804.050200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tWm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Odd. Probably a decent SSD"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"2e32c4b4-59da-4409-b011-97f25e2b7bf8","type":"message","text":"I’m on a 2018 Macbook pro and get similar numbers on 1.6.0-beta1\n```julia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.600579 seconds (59.79 M allocations: 3.485 GiB, 6.25% gc time, 0.02% compilation time)```","user":"U8MPCDJAY","ts":"1611505762.050400","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1611505808.000000"},"blocks":[{"type":"rich_text","block_id":"ULH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m on a 2018 Macbook pro and get similar numbers on 1.6.0-beta1\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n 20.600579 seconds (59.79 M allocations: 3.485 GiB, 6.25% gc time, 0.02% compilation time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"30a7bbf1-b19c-4371-afe4-024ac086bbac","type":"message","text":"I updated all packages and now I am also at ~20s :smile:","user":"U67D54KS8","ts":"1611506451.050800","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1611506455.000000"},"blocks":[{"type":"rich_text","block_id":"jv+Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I updated all packages and now I am also at ~20s "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"5022dea5-a086-4a34-9365-2b589c84e003","type":"message","text":"So something in a package update made it go from 9 to 20 seconds.","user":"U67D54KS8","ts":"1611506472.051100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CQk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So something in a package update made it go from 9 to 20 seconds."}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"scream_cat","users":["U7ZNTQFLH","UGU761DU2","U6QGE7S86","U89GY9W1J","U9MED583T"],"count":5}]},{"client_msg_id":"0fe774ad-b376-4af4-8ae1-86e4b84f30f8","type":"message","text":"Going back to\n\n```Updating `~/.julia/environments/v1.6/Project.toml`\n  [91a5bcdd] ↓ Plots v1.10.1 ⇒ v1.6.6\nUpdating `~/.julia/environments/v1.6/Manifest.toml`\n  [28b8d3ca] ↓ GR v0.53.0 ⇒ v0.52.0\n  [4d00f742] + GeometryTypes v0.8.4\n  [91a5bcdd] ↓ Plots v1.10.1 ⇒ v1.6.6\n  [01d81517] ↓ RecipesPipeline v0.2.1 ⇒ v0.1.13```\nmakes it down to 9s again","user":"U67D54KS8","ts":"1611506652.051300","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1611506742.000000"},"blocks":[{"type":"rich_text","block_id":"/n6Ts","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Going back to\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Updating `~/.julia/environments/v1.6/Project.toml`\n  [91a5bcdd] ↓ Plots v1.10.1 ⇒ v1.6.6\nUpdating `~/.julia/environments/v1.6/Manifest.toml`\n  [28b8d3ca] ↓ GR v0.53.0 ⇒ v0.52.0\n  [4d00f742] + GeometryTypes v0.8.4\n  [91a5bcdd] ↓ Plots v1.10.1 ⇒ v1.6.6\n  [01d81517] ↓ RecipesPipeline v0.2.1 ⇒ v0.1.13"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"makes it down to 9s again"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"317a194c-c99c-4f52-b61b-1b827285550c","type":"message","text":"a breakdown\n```julia&gt; begin\n       @time using Plots\n       @time p = plot(1:0.1:10, sin.(1:0.1:10))\n       @time display(p)\n       end\n  2.870104 seconds (5.57 M allocations: 396.639 MiB, 2.76% gc time, 0.12% compilation time)\n 13.779262 seconds (47.41 M allocations: 2.712 GiB, 8.31% gc time, 1.78% compilation time)\n  3.879026 seconds (6.81 M allocations: 394.333 MiB, 2.65% gc time, 47.52% compilation time)```","user":"U8MPCDJAY","ts":"1611507160.051900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y4un","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a breakdown\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> begin\n       @time using Plots\n       @time p = plot(1:0.1:10, sin.(1:0.1:10))\n       @time display(p)\n       end\n  2.870104 seconds (5.57 M allocations: 396.639 MiB, 2.76% gc time, 0.12% compilation time)\n 13.779262 seconds (47.41 M allocations: 2.712 GiB, 8.31% gc time, 1.78% compilation time)\n  3.879026 seconds (6.81 M allocations: 394.333 MiB, 2.65% gc time, 47.52% compilation time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"9490ae89-8a13-4643-9586-02f97fe85586","type":"message","text":"interesting that it reports higher compile % when timed as separate steps","user":"U8MPCDJAY","ts":"1611507217.052100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cukL4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"interesting that it reports higher compile % when timed as separate steps"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"b9dc8dbf-89b8-4a44-aeb6-fe562e5ec7b6","type":"message","text":"<https://github.com/JuliaPlots/Plots.jl/issues/3238>","user":"U67D54KS8","ts":"1611507612.052300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cm1","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPlots/Plots.jl/issues/3238"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"+1","users":["USU9FRPEU"],"count":1}]},{"client_msg_id":"ee9f7153-df0d-471e-9088-07a1b710fce1","type":"message","text":"We really need performance metrics in CI","user":"UGU761DU2","ts":"1611510365.052700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UwC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We really need performance metrics in CI"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"100","users":["U7ZNTQFLH","U7THT3TM3","URN898S15","U011LUQ182G"],"count":4}]},{"client_msg_id":"2ca7f388-fe4e-435c-a687-dc5244237596","type":"message","text":"I wonder how hard it would be to make a PR to add Julia support to something like <https://github.com/marketplace/actions/continuous-benchmark>","user":"UGU761DU2","ts":"1611510800.053100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qgO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wonder how hard it would be to make a PR to add Julia support to something like "},{"type":"link","url":"https://github.com/marketplace/actions/continuous-benchmark"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"f30db128-899e-4759-b01b-dbe66e22f969","type":"message","text":"I think this is a package-level issue, so perhaps Plots needs to add <https://github.com/JuliaCI/PkgBenchmark.jl>","user":"U8MPCDJAY","ts":"1611510979.053300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mup","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this is a package-level issue, so perhaps Plots needs to add "},{"type":"link","url":"https://github.com/JuliaCI/PkgBenchmark.jl"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"358a7602-eded-4b9e-b12f-79dac1254d01","type":"message","text":"a la <https://github.com/JuliaCI/PkgBenchmark.jl/issues/92#issuecomment-575858888>","user":"U8MPCDJAY","ts":"1611511249.053500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Gt+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a la "},{"type":"link","url":"https://github.com/JuliaCI/PkgBenchmark.jl/issues/92#issuecomment-575858888"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"21d9c8fb-a125-4eb8-8182-a8ded87f51f2","type":"message","text":"Hah, as usual tkf has already solved the problem.","user":"UGU761DU2","ts":"1611511663.053700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BKcR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hah, as usual tkf has already solved the problem."}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"b09cfa35-2024-43a5-9db6-f9bd155d8841","type":"message","text":"So I guess we just need to make a PR to plots to add  a benchmark suite following the PkgBenchmarks API and test it with BenchmarkCI?","user":"UGU761DU2","ts":"1611511742.053900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l1q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I guess we just need to make a PR to plots to add  a benchmark suite following the PkgBenchmarks API and test it with BenchmarkCI?"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"5e86657e-4e86-4013-abff-6c2d53b1d97c","type":"message","text":"yeah","user":"U8MPCDJAY","ts":"1611511750.054100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zbo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"6514ad36-b743-4038-acf0-e7987a857770","type":"message","text":"Also, I think PkgBenchmark could do with mentioning more clearly in the docs how to run it in CI","user":"U8MPCDJAY","ts":"1611511779.054300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xMtq4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, I think PkgBenchmark could do with mentioning more clearly in the docs how to run it in CI"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"+1","users":["UGU761DU2","URN898S15","U89GY9W1J"],"count":3}]},{"client_msg_id":"6adff530-5f81-4ab8-b0ae-3f06c75e3cd9","type":"message","text":"I was just about to do a PR to add that to the docs.. do you fancy doing the other PR? :slightly_smiling_face:","user":"U8MPCDJAY","ts":"1611511812.054600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bzVG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was just about to do a PR to add that to the docs.. do you fancy doing the other PR? "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"9fe4b546-3f09-4ef7-a3f2-24c608ecdf4b","type":"message","text":"<https://github.com/JuliaCI/PkgBenchmark.jl/pull/121>","user":"U8MPCDJAY","ts":"1611512887.054800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GHFU","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaCI/PkgBenchmark.jl/pull/121"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"8d2f5954-e0cf-4832-8640-48d2f7d30c84","type":"message","text":"happy to give the Plots benchmark CI PR a go if you’re not <@UGU761DU2>","user":"U8MPCDJAY","ts":"1611512979.055000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o0j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"happy to give the Plots benchmark CI PR a go if you’re not "},{"type":"user","user_id":"UGU761DU2"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"+1","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"f9960e1a-9809-4de4-b78b-efe7eadc7504","type":"message","text":"Go for it! I’m relatively new to CI overall so I should figure out how to make it work on my own packages first","user":"UGU761DU2","ts":"1611515849.055200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KhGK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Go for it! I’m relatively new to CI overall so I should figure out how to make it work on my own packages first"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"},{"client_msg_id":"62a456f6-0d84-48d3-8fb7-3c0b38b62cdf","type":"message","text":"That would be the sensible route.. I went for the _other_ route <https://github.com/JuliaPlots/Plots.jl/pull/3239>","user":"U8MPCDJAY","ts":"1611515946.055500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9CM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That would be the sensible route.. I went for the "},{"type":"text","text":"other","style":{"italic":true}},{"type":"text","text":" route "},{"type":"link","url":"https://github.com/JuliaPlots/Plots.jl/pull/3239"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"fast_parrot","users":["UGU761DU2","U89GY9W1J"],"count":2}]},{"client_msg_id":"50155716-ceef-4587-ac9b-94a3fe83dcf8","type":"message","text":"<https://github.com/JuliaPlots/Plots.jl/pull/3242>","user":"U67D54KS8","ts":"1611582725.056700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E9wW","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPlots/Plots.jl/pull/3242"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746","reactions":[{"name":"+1","users":["U8MPCDJAY","UGU761DU2"],"count":2}]},{"client_msg_id":"b9e5b1d4-47d5-425e-9ac6-1ea8ffc11916","type":"message","text":"on `master`, after Kristoffer's PR was merged, I get\n```% julia-master --project=. --startup-file=no -e '@time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))'\n 12.097181 seconds (17.86 M allocations: 1.121 GiB, 3.40% gc time, 73.65% compilation time)```","user":"UDB26738Q","ts":"1611601983.062200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RrqX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"on "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":", after Kristoffer's PR was merged, I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"% julia-master --project=. --startup-file=no -e '@time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))'\n 12.097181 seconds (17.86 M allocations: 1.121 GiB, 3.40% gc time, 73.65% compilation time)"}]}]}],"thread_ts":"1611502633.040300","parent_user_id":"U6A936746"}]