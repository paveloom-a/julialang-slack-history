[{"client_msg_id":"5e6ce30c-5539-4bdb-bb13-6726d9181b9b","type":"message","text":":grapes: Even with parallel precompilation, DataFrames still takes a long time to install. E.g. on Julia 1.6.0, `@time Pkg.add(\"DataFrames\")` gives `46.060230 seconds` (assuming that the registry has already been updated during this REPL session).","user":"U7THT3TM3","ts":"1617814308.291700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BR5r","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"grapes"},{"type":"text","text":" Even with parallel precompilation, DataFrames still takes a long time to install. E.g. on Julia 1.6.0, "},{"type":"text","text":"@time Pkg.add(\"DataFrames\")","style":{"code":true}},{"type":"text","text":" gives "},{"type":"text","text":"46.060230 seconds","style":{"code":true}},{"type":"text","text":" (assuming that the registry has already been updated during this REPL session)."}]}]}],"thread_ts":"1617814308.291700","reply_count":4,"reply_users_count":2,"latest_reply":"1617817192.294300","reply_users":["U67D54KS8","U7THT3TM3"],"is_locked":false,"subscribed":false},{"client_msg_id":"6593f055-2464-4fe9-871b-657dbf53f22b","type":"message","text":"FWIW, takes 26 seconds for me:\n\n```julia&gt; @time (Pkg.add(\"DataFrames\"); Pkg.precompile())\n   Resolving package versions...\n   Installed SortingAlgorithms ─────────── v0.3.1\n   Installed Reexport ──────────────────── v1.0.0\n   Installed TableTraits ───────────────── v1.0.1\n   Installed DataValueInterfaces ───────── v1.0.0\n   Installed Missings ──────────────────── v0.4.5\n   Installed StructTypes ───────────────── v1.5.2\n   Installed JSON ──────────────────────── v0.21.1\n   Installed DataFrames ────────────────── v0.22.7\n   Installed InvertedIndices ───────────── v1.0.0\n   Installed OrderedCollections ────────── v1.4.0\n   Installed Crayons ───────────────────── v4.0.4\n   Installed Formatting ────────────────── v0.4.2\n   Installed CategoricalArrays ─────────── v0.9.5\n   Installed PooledArrays ──────────────── v1.2.1\n   Installed Tables ────────────────────── v1.4.1\n   Installed Compat ────────────────────── v3.26.0\n   Installed IteratorInterfaceExtensions ─ v1.0.0\n   Installed DataAPI ───────────────────── v1.6.0\n   Installed Parsers ───────────────────── v1.1.0\n   Installed DataStructures ────────────── v0.18.9\n   Installed PrettyTables ──────────────── v0.11.1\n  No Changes to `/private/var/folders/26/gw1dqz6n5zsbkp72mktkhz3c0000gn/T/jl_FFMts5/Project.toml`\n  No Changes to `/private/var/folders/26/gw1dqz6n5zsbkp72mktkhz3c0000gn/T/jl_FFMts5/Manifest.toml`\n  Progress [========================================&gt;]  24/24\n24 dependencies successfully precompiled in 26 seconds\n 26.642984 seconds (507.29 k allocations: 101.190 MiB, 0.13% gc time)```","user":"U67D54KS8","ts":"1617815089.292200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PMS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW, takes 26 seconds for me:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @time (Pkg.add(\"DataFrames\"); Pkg.precompile())\n   Resolving package versions...\n   Installed SortingAlgorithms ─────────── v0.3.1\n   Installed Reexport ──────────────────── v1.0.0\n   Installed TableTraits ───────────────── v1.0.1\n   Installed DataValueInterfaces ───────── v1.0.0\n   Installed Missings ──────────────────── v0.4.5\n   Installed StructTypes ───────────────── v1.5.2\n   Installed JSON ──────────────────────── v0.21.1\n   Installed DataFrames ────────────────── v0.22.7\n   Installed InvertedIndices ───────────── v1.0.0\n   Installed OrderedCollections ────────── v1.4.0\n   Installed Crayons ───────────────────── v4.0.4\n   Installed Formatting ────────────────── v0.4.2\n   Installed CategoricalArrays ─────────── v0.9.5\n   Installed PooledArrays ──────────────── v1.2.1\n   Installed Tables ────────────────────── v1.4.1\n   Installed Compat ────────────────────── v3.26.0\n   Installed IteratorInterfaceExtensions ─ v1.0.0\n   Installed DataAPI ───────────────────── v1.6.0\n   Installed Parsers ───────────────────── v1.1.0\n   Installed DataStructures ────────────── v0.18.9\n   Installed PrettyTables ──────────────── v0.11.1\n  No Changes to `/private/var/folders/26/gw1dqz6n5zsbkp72mktkhz3c0000gn/T/jl_FFMts5/Project.toml`\n  No Changes to `/private/var/folders/26/gw1dqz6n5zsbkp72mktkhz3c0000gn/T/jl_FFMts5/Manifest.toml`\n  Progress [========================================>]  24/24\n24 dependencies successfully precompiled in 26 seconds\n 26.642984 seconds (507.29 k allocations: 101.190 MiB, 0.13% gc time)"}]}]}],"thread_ts":"1617814308.291700","parent_user_id":"U7THT3TM3"},{"client_msg_id":"440db89b-36de-459e-823b-07ae2035156e","type":"message","text":"Interesting. My timings are on a machine with only four virtual cores (two physical cores) - maybe that's making the difference?","user":"U7THT3TM3","ts":"1617815976.293300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q4ct","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Interesting. My timings are on a machine with only four virtual cores (two physical cores) - maybe that's making the difference?"}]}]}],"thread_ts":"1617814308.291700","parent_user_id":"U7THT3TM3"},{"client_msg_id":"e4df058b-879b-4312-afcc-1254d344fe86","type":"message","text":"It's even worse for on Julia master: `67.299688 seconds`","user":"U7THT3TM3","ts":"1617815990.293500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qra0F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's even worse for on Julia master: "},{"type":"text","text":"67.299688 seconds","style":{"code":true}}]}]}],"thread_ts":"1617814308.291700","parent_user_id":"U7THT3TM3"},{"client_msg_id":"09f6d0d4-0859-453b-9c86-04a8767630cb","type":"message","text":"So it is really precompile that takes all the time?","user":"U67D54KS8","ts":"1617817192.294300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UMW4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it is really precompile that takes all the time?"}]}]}],"thread_ts":"1617814308.291700","parent_user_id":"U7THT3TM3"}]