[{"client_msg_id":"DCA127EC-3B9F-4AA8-92FD-D32B53CF9084","type":"message","text":"I’ve been looking at Ferrite.jl as an option for simulating a 2D beam with material nonlinearities (hyperelasticity) and subjected to large deformations. I was wondering if it would be simple to have 2 materials/constitutive models, for example one frame of a certain hyperelastic material and an inner part having different marerial/constitutive model.","user":"U011WTFEM3Q","ts":"1618008711.006600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OMuru","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve been looking at Ferrite.jl as an option for simulating a 2D beam with material nonlinearities (hyperelasticity) and subjected to large deformations. I was wondering if it would be simple to have 2 materials/constitutive models, for example one frame of a certain hyperelastic material and an inner part having different marerial/constitutive model."}]}]}],"thread_ts":"1618008711.006600","reply_count":9,"reply_users_count":2,"latest_reply":"1618011048.015800","reply_users":["U67SCG4HG","U011WTFEM3Q"],"is_locked":false,"subscribed":false},{"client_msg_id":"9641f10f-9a18-4241-af74-be01f558dd7d","type":"message","text":"What do you mean with frame? Just like the outer elements having a different material?","user":"U67SCG4HG","ts":"1618008955.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wm4+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do you mean with frame? Just like the outer elements having a different material?"}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"2FDEC755-458B-4C17-B7AF-04E6F01E4689","type":"message","text":"Exactly","user":"U011WTFEM3Q","ts":"1618009268.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OQLpt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exactly"}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"8b78b3ac-0f9a-44ee-943c-dac034f67e44","type":"message","text":"Ok. The way I do it is to build element sets and then query the material model for each element based on that.","user":"U67SCG4HG","ts":"1618009345.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c4hQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. The way I do it is to build element sets and then query the material model for each element based on that."}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"0ABDE5B6-2C7F-48AD-996D-53AFE61DA1EF","type":"message","text":"You mean dispatching the mat model depending on the set  the element belongs to?","user":"U011WTFEM3Q","ts":"1618009656.009200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"THnv7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean dispatching the mat model depending on the set  the element belongs to?"}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"bbfd9374-e7b1-40f5-96a7-c89ef77db632","type":"message","text":"Yea so something like this pseudo-code:\n```function getmaterial(id::Int, grid)\n    if id in getcellset(grid, \"steel\")\n        return Steel()\n    else\n        return Wood()\n    end\nend\n\n\n\nfor cell in grid\n    mat = getmaterial(cellid(cell), grid)\n\n    element_routine(mat, ...)\nend```","user":"U67SCG4HG","ts":"1618010369.010300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oT8j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea so something like this pseudo-code:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function getmaterial(id::Int, grid)\n    if id in getcellset(grid, \"steel\")\n        return Steel()\n    else\n        return Wood()\n    end\nend\n\n\n\nfor cell in grid\n    mat = getmaterial(cellid(cell), grid)\n\n    element_routine(mat, ...)\nend"}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"85BBB19F-2249-4427-A41B-A3FF14A924D3","type":"message","text":"Thank you very much Fredrik, your answer is very helpful.","user":"U011WTFEM3Q","ts":"1618010672.012000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lADp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you very much Fredrik, your answer is very helpful."}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"abd33b03-7a58-4248-8307-3bb4150a2ddd","type":"message","text":"Alternatively you can do the same but query on the coordinate instead of the cell id","user":"U67SCG4HG","ts":"1618010841.012200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ppAZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alternatively you can do the same but query on the coordinate instead of the cell id"}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"a9d243e2-63f3-42ad-9032-521f08496fd1","type":"message","text":"but usually you have a mesh boundary where you have material boundaries I guess.","user":"U67SCG4HG","ts":"1618010861.012400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yJRK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but usually you have a mesh boundary where you have material boundaries I guess."}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"},{"client_msg_id":"5CB0331E-008E-4B68-8FCD-38A7C6C29374","type":"message","text":"Yes that is the case. I wanted to have a Neo-Hookean material in the elements of the contour and a different hyperelastic model in the elements inside. Your approach is a good option to have it.","user":"U011WTFEM3Q","ts":"1618011048.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VWpK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes that is the case. I wanted to have a Neo-Hookean material in the elements of the contour and a different hyperelastic model in the elements inside. Your approach is a good option to have it."}]}]}],"thread_ts":"1618008711.006600","parent_user_id":"U011WTFEM3Q"}]