[{"client_msg_id":"9a181f4f-2ac0-47b9-b264-4df5c039f009","type":"message","text":"I hope this will be useful to others!","user":"UPNRULT51","ts":"1613295046.016300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ssVFW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I hope this will be useful to others!"}]}]}],"thread_ts":"1613295046.016300","reply_count":12,"reply_users_count":3,"latest_reply":"1613397448.021800","reply_users":["U7HAYKY9X","UPNRULT51","UC2AEGPC2"],"subscribed":false,"reactions":[{"name":"+1","users":["U01J62981NK","U01BR0AKMRQ","UM4TSHKF1","UCAFZ51L3","UC7UNBJTZ","UAMA3AM6H","U7HAYKY9X"],"count":7}]},{"client_msg_id":"782ff4ed-bcec-4020-a59b-137c4224ddae","type":"message","text":"Very nice. Perhaps it could be included in the BioJulia org? There has been talks about splitting VCF out in a separate package for a long time, but noone has had the time to do it","user":"U7HAYKY9X","ts":"1613300604.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C/x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Very nice. Perhaps it could be included in the BioJulia org? There has been talks about splitting VCF out in a separate package for a long time, but noone has had the time to do it"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"8e34f451-0e26-4c65-8498-3ea0d0adfe46","type":"message","text":"FYI, in the not-so-distant future, a new version of Automa will be released, which will break your package. See this issue: <https://github.com/BioJulia/GeneticVariation.jl/issues/28>\nIt would be great if you could fix it","user":"U7HAYKY9X","ts":"1613300857.016800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XuVIA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FYI, in the not-so-distant future, a new version of Automa will be released, which will break your package. See this issue: "},{"type":"link","url":"https://github.com/BioJulia/GeneticVariation.jl/issues/28"},{"type":"text","text":"\nIt would be great if you could fix it"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"6dea54f6-e581-41b0-bce6-d91cebc7485a","type":"message","text":"Let me know if you need help fixing it :)","user":"U7HAYKY9X","ts":"1613301361.017000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Llp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me know if you need help fixing it :)"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"8e50b32c-0bbf-420f-a0cc-ed8e970dfeec","type":"message","text":"I would be happy to move the package to BioJulia at some point. It makes more sense to have it there in the long run.","user":"UPNRULT51","ts":"1613303295.017200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sP4M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would be happy to move the package to BioJulia at some point. It makes more sense to have it there in the long run."}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"a63df8c5-c040-4379-ad2b-4186cd56f79f","type":"message","text":"Thanks for the heads up on Automa. I'm definitely willing to put some work in when the new version is released. I've never used Automa myself so help will be greatly appreciated. :slightly_smiling_face:","user":"UPNRULT51","ts":"1613303509.017400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Vfi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the heads up on Automa. I'm definitely willing to put some work in when the new version is released. I've never used Automa myself so help will be greatly appreciated. "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"0125aad6-10b6-45e9-a5e4-44ff7426d8e9","type":"message","text":"Do you have any sense of the scale - minor fix or major rewrite?","user":"UPNRULT51","ts":"1613303647.017600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZQ/Il","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have any sense of the scale - minor fix or major rewrite?"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"c3781831-9579-45fb-a8ef-68e7fd9a3c09","type":"message","text":"Pinging <@UC2AEGPC2> for the incorporation into BioJulia\nFor the rewrite, it should be a minor rewrite, with just a few lines changed.\nI recommend reading this tutorial on Automa and how it works:\n<https://biojulia.net/post/automa1/>\n Basically, the change in Automa is that the new version will, when you create a Machine, check that the actions can be unambiguously resolved. And they can't be in the current version of VCF","user":"U7HAYKY9X","ts":"1613305276.017800","team":"T68168MUP","attachments":[{"service_name":"BioJulia","title":"Tutorial to Automa: Part 1 | BioJulia","title_link":"https://biojulia.net/post/automa1/","text":"Find this notebook at <https://github.com/jakobnissen/automa_tutorial> In bioinformatics, we have a saying: The first step of any bioinformatics project is to define a new file format, incompatible with all previous ones. The situation might not be quite as bad as the saying implies, but it is true that we have a lot of different file formats, representing the various kinds of data we work with. For that reason, creating file parsers is a central task in bioinformatics, and has almost become a craft in itself.","fallback":"BioJulia: Tutorial to Automa: Part 1 | BioJulia","thumb_url":"https://BioJulia.github.io/images/logo_huf2e28fc1e802707079b8e0ffee62f4dc_19447_300x300_fit_lanczos_2.png","ts":1598797689,"from_url":"https://biojulia.net/post/automa1/","thumb_width":300,"thumb_height":300,"service_icon":"https://biojulia.net/images/icon_huf2e28fc1e802707079b8e0ffee62f4dc_19447_192x192_fill_lanczos_center_2.png","id":1,"original_url":"https://biojulia.net/post/automa1/"}],"blocks":[{"type":"rich_text","block_id":"s23m9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Pinging "},{"type":"user","user_id":"UC2AEGPC2"},{"type":"text","text":" for the incorporation into BioJulia\nFor the rewrite, it should be a minor rewrite, with just a few lines changed.\nI recommend reading this tutorial on Automa and how it works:\n"},{"type":"link","url":"https://biojulia.net/post/automa1/"},{"type":"text","text":"\n Basically, the change in Automa is that the new version will, when you create a Machine, check that the actions can be unambiguously resolved. And they can't be in the current version of VCF"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"d22250db-5899-49aa-a45e-a45231aee73b","type":"message","text":"When you try to compile VCF with the latest version of Automa, you get this error\n```ERROR: LoadError: LoadError: Ambiguous DFA: Input 0x2e can lead to actions nothing or [:mark]\nStacktrace:```\nwhat it means is that there is at least one possible input where the byte `0x2e` can lead to two different actions, and it's impossible to resolve which. To fix it, go into this file <https://github.com/rasmushenningsson/VCF.jl/blob/main/src/reader.jl>, and try to see which regex pattern contains `0x2e`  where there may be an ambiguity","user":"U7HAYKY9X","ts":"1613305413.018200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B4q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When you try to compile VCF with the latest version of Automa, you get this error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: LoadError: LoadError: Ambiguous DFA: Input 0x2e can lead to actions nothing or [:mark]\nStacktrace:"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"what it means is that there is at least one possible input where the byte "},{"type":"text","text":"0x2e","style":{"code":true}},{"type":"text","text":" can lead to two different actions, and it's impossible to resolve which. To fix it, go into this file "},{"type":"link","url":"https://github.com/rasmushenningsson/VCF.jl/blob/main/src/reader.jl"},{"type":"text","text":", and try to see which regex pattern contains "},{"type":"text","text":"0x2e","style":{"code":true}},{"type":"text","text":"  where there may be an ambiguity"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"dfe91fce-0637-47cd-9d6f-ab0f4b75ec8c","type":"message","text":"Or to put it even more starkly: With the current version of Automa, there is at least one input that will cause the VCF parser to do the wrong thing, silently.","user":"U7HAYKY9X","ts":"1613305576.018400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q49","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or to put it even more starkly: With the current version of Automa, there is at least one input that will cause the VCF parser to do the wrong thing, silently."}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"41cef7f2-ca5b-4a66-9ddc-cd742331dddf","type":"message","text":"Great. Thanks for the explanation!","user":"UPNRULT51","ts":"1613305887.018600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ig=L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great. Thanks for the explanation!"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51"},{"client_msg_id":"54082f9f-b5b6-4ac9-9054-4d458f520143","type":"message","text":"To debug it, it may be useful to first figure out which exact Machine it is that raises the error, then take the regex that produces the machine and convert it to an NFA, then convert that NFA to a dot file and visualize it. Then look for places in the graph where `0x2e` leads to two distinct paths\n(I could do the PR, but I think it's more durable if you learn to debug Automa youself, and I'm happy to help) :)","user":"U7HAYKY9X","ts":"1613306178.018800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cfLeT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To debug it, it may be useful to first figure out which exact Machine it is that raises the error, then take the regex that produces the machine and convert it to an NFA, then convert that NFA to a dot file and visualize it. Then look for places in the graph where "},{"type":"text","text":"0x2e","style":{"code":true}},{"type":"text","text":" leads to two distinct paths\n(I could do the PR, but I think it's more durable if you learn to debug Automa youself, and I'm happy to help) :)"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51","reactions":[{"name":"+1","users":["UPNRULT51"],"count":1}]},{"client_msg_id":"81a645ff-1438-424e-915b-8401cd63b308","type":"message","text":"Yep, I'd be very happy for this to go into BioJulia, cutting VCF out of GeneticVariation was one of those things I began but moving job put a kibosh on, so I'm very happy that it has been done!","user":"UC2AEGPC2","ts":"1613397448.021800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E/h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, I'd be very happy for this to go into BioJulia, cutting VCF out of GeneticVariation was one of those things I began but moving job put a kibosh on, so I'm very happy that it has been done!"}]}]}],"thread_ts":"1613295046.016300","parent_user_id":"UPNRULT51","reactions":[{"name":"+1","users":["UPNRULT51","UCAFZ51L3"],"count":2}]}]