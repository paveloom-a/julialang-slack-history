[{"client_msg_id":"39a74d0f-dfa9-4517-b50a-56be26f43f19","type":"message","text":"```julia&gt; gradient(1, 2) do x, y\n         gradient(x, y) do x1, y1\n           g(x1, y1)\n         end |&gt; sum\n       end\n(4, 2)```\nworks like so","user":"UC4QQPG4A","ts":"1615901415.006400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CPg","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> gradient(1, 2) do x, y\n         gradient(x, y) do x1, y1\n           g(x1, y1)\n         end |> sum\n       end\n(4, 2)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"works like so"}]}]}],"thread_ts":"1615901415.006400","reply_count":12,"reply_users_count":2,"latest_reply":"1616157662.009100","reply_users":["U01AJUF2GEP","UC4QQPG4A"],"is_locked":false,"subscribed":false},{"client_msg_id":"00de9456-a85a-4798-9634-5f3dd399850e","type":"message","text":"Shouldn't the hessian come as\n```[4 0; 0 2]```\n??:thinking_face:","user":"U01AJUF2GEP","ts":"1615905320.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OrN9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Shouldn't the hessian come as\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[4 0; 0 2]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"??"},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"4bbd9ee6-f2b2-4367-94a7-d11562f3b5e3","type":"message","text":"For me,\n```let\n\th1(x1,x2) = gradient(g, x1, x2)[1]\n\th2(x1,x2) = gradient(g, x1, x2)[2]\n\tp1(x1,x2) = gradient(h1, x1, x2)\n\tp2(x1,x2) = gradient(h2, x1, x2)\n\tglobal p(x1,x2) = [p1(x1,x2); p2(x1,x2)]\nend```\nand to get the hessian in a readable form\n```hessian = [i[j] == nothing ? 0 : i[j] for i in p(1,1), j in 1:length(p(1,1))]```\nworks I guess....","user":"U01AJUF2GEP","ts":"1615907184.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BKc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For me,\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"let\n\th1(x1,x2) = gradient(g, x1, x2)[1]\n\th2(x1,x2) = gradient(g, x1, x2)[2]\n\tp1(x1,x2) = gradient(h1, x1, x2)\n\tp2(x1,x2) = gradient(h2, x1, x2)\n\tglobal p(x1,x2) = [p1(x1,x2); p2(x1,x2)]\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and to get the hessian in a readable form\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"hessian = [i[j] == nothing ? 0 : i[j] for i in p(1,1), j in 1:length(p(1,1))]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"works I guess...."}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"46fbd358-3b0a-4970-bc6d-ebefa7a1273f","type":"message","text":"Seems like `p` is just recreating the regular output?","user":"UC4QQPG4A","ts":"1615907619.006900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eoy9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems like "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" is just recreating the regular output?"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"c0ca8d17-b6ab-4c3c-8301-8297eea1361b","type":"message","text":"Ah i guess not","user":"UC4QQPG4A","ts":"1615907825.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"loc2m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah i guess not"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"40d4b3c5-8745-4029-84bf-3148e8114d58","type":"message","text":"you could simply not reduce the the output like I did in the example though","user":"UC4QQPG4A","ts":"1615907863.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R4jyk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could simply not reduce the the output like I did in the example though"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"c9e85f46-1695-4ecb-a739-bf191da9bb61","type":"message","text":"I turned to Calculus.jl, and its nice(and fast)\nBut still can't get results....","user":"U01AJUF2GEP","ts":"1615910429.007500","team":"T68168MUP","edited":{"user":"U01AJUF2GEP","ts":"1615910445.000000"},"blocks":[{"type":"rich_text","block_id":"Um1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I turned to Calculus.jl, and its nice(and fast)\nBut still can't get results...."}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"08236d7d-0c97-4cf2-9c37-ed1dcffe7a12","type":"message","text":"`Zygote.hessian(((x,y),) -&gt; sum(g(x,y)), [1.,2.])`","user":"UC4QQPG4A","ts":"1615911259.008200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m7k7B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Zygote.hessian(((x,y),) -> sum(g(x,y)), [1.,2.])","style":{"code":true}}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"ac5e2732-3ec0-47fb-a4d5-9e6222cf045c","type":"message","text":"hessian from Calculus.jl works alright\nBut I can't seem to perform Newton's step with it for `g = x -&gt; 2x[1]² + x[2]²`...\nI think I might be doing something wrong here","user":"U01AJUF2GEP","ts":"1615912037.008400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WHVL1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hessian from Calculus.jl works alright\nBut I can't seem to perform Newton's step with it for "},{"type":"text","text":"g = x -> 2x[1]² + x[2]²","style":{"code":true}},{"type":"text","text":"...\nI think I might be doing something wrong here"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"da779fe4-80a9-4216-9cd1-35c784692f52","type":"message","text":"Which reminds me, once Diffractor is out, will Flux fully shift to Diffractor for AD (abandoning Zygote)?","user":"U01AJUF2GEP","ts":"1615912188.008600","team":"T68168MUP","edited":{"user":"U01AJUF2GEP","ts":"1615914068.000000"},"blocks":[{"type":"rich_text","block_id":"nkEn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which reminds me, once Diffractor is out, will Flux fully shift to Diffractor for AD (abandoning Zygote)?"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"df4b6c87-9b84-467e-90ec-f52912dd59ef","type":"message","text":"Okay, either I'm applying Newton's method wrong or it takes _just one step to find the solution......_","user":"U01AJUF2GEP","ts":"1615912612.009600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hTa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay, either I'm applying Newton's method wrong or it takes "},{"type":"text","text":"just one step to find the solution......","style":{"italic":true}}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"6e0cb233-000f-43a2-b337-07f25d6f8547","type":"message","text":"We will shift (maybe as a dev branch), but not abandoning Zygote. There's critical infrastructure that's still being developed in the language to support the optimisations opaque closures can make.\n\nWe will switch though, but take it one step at a time.","user":"UC4QQPG4A","ts":"1615948117.000100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vx8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We will shift (maybe as a dev branch), but not abandoning Zygote. There's critical infrastructure that's still being developed in the language to support the optimisations opaque closures can make.\n\nWe will switch though, but take it one step at a time."}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"4ce2517d-c9c7-4264-9850-9da1fe9ef8c7","type":"message","text":"Great!:grinning:\nThanks","user":"U01AJUF2GEP","ts":"1616157662.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fzC+=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great!"},{"type":"emoji","name":"grinning"},{"type":"text","text":"\nThanks"}]}]}],"thread_ts":"1615901415.006400","parent_user_id":"UC4QQPG4A"}]