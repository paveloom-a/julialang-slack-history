[{"client_msg_id":"d37a3d0f-b85e-4b53-bd45-517efcad3685","type":"message","text":"That'd be brilliant! Although zygote by itself seems to have gotten better anecdotally. It would be a huge help if you'd gather your findings in an issue/ PR anyway to see where we can go with it. Flux still takes longer than I'd expect to precompile.","user":"UC4QQPG4A","ts":"1610227373.240800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ab9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That'd be brilliant! Although zygote by itself seems to have gotten better anecdotally. It would be a huge help if you'd gather your findings in an issue/ PR anyway to see where we can go with it. Flux still takes longer than I'd expect to precompile."}]}]}],"thread_ts":"1610227373.240800","reply_count":9,"reply_users_count":2,"latest_reply":"1610344220.244200","reply_users":["U8MPCDJAY","UC4QQPG4A"],"subscribed":false},{"client_msg_id":"e6b01aa1-dac1-4ab7-a4f9-f46a327480d0","type":"message","text":"Just a report so far <https://github.com/FluxML/Zygote.jl/issues/877>","user":"U8MPCDJAY","ts":"1610231008.241000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5HDM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just a report so far "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/issues/877"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"7e3b15ce-7860-4ac4-a91b-ce7bfc645b15","type":"message","text":"Something.. <https://github.com/JuliaDiff/ChainRulesCore.jl/pull/273>","user":"U8MPCDJAY","ts":"1610237127.241200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dW3l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Something.. "},{"type":"link","url":"https://github.com/JuliaDiff/ChainRulesCore.jl/pull/273"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"903ba028-a367-42f9-9649-c2c56f5a6ade","type":"message","text":"Ooh, this seems interesting. The trick with ad is that we would need to have a lot of oddball methods that deal with `Any and `Union{}` which can invalidate code.`\n\n`Zygote also has a bunch of (::`Any)`(::Any...)`","user":"UC4QQPG4A","ts":"1610267881.241400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tJwiO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ooh, this seems interesting. The trick with ad is that we would need to have a lot of oddball methods that deal with "},{"type":"text","text":"Any and `Union{}` which can invalidate code.\n","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Zygote also has a bunch of (::","style":{"code":true}},{"type":"text","text":"Any)"},{"type":"text","text":"(::Any...)","style":{"code":true}}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"2643838D-0342-4B03-8D66-C2D84976CDA0","type":"message","text":"I’m thinking that one maybe can’t be avoided","user":"U8MPCDJAY","ts":"1610287219.242100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gLi=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m thinking that one maybe can’t be avoided"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"190196dd-9ff9-4a69-b888-23c864a6d425","type":"message","text":"Some progress on reducing Pkg invalidations <https://github.com/JuliaLang/Pkg.jl/pull/2325>","user":"U8MPCDJAY","ts":"1610324554.242300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"37ctK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Some progress on reducing Pkg invalidations "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2325"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"2490341e-ea0e-4102-8635-6405fb0505a7","type":"message","text":"Maybe something in CUDA <https://github.com/JuliaGPU/CUDA.jl/pull/632>","user":"U8MPCDJAY","ts":"1610342227.242600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fBKR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe something in CUDA "},{"type":"link","url":"https://github.com/JuliaGPU/CUDA.jl/pull/632"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"ffe068de-5c94-4ad6-bdaf-18fd22556f0d","type":"message","text":"Thank you so much for looking into this! I'm still trying to figure out what to make of total latency drop with these changes, but this looks pretty impressive","user":"UC4QQPG4A","ts":"1610343689.242800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k5Pr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you so much for looking into this! I'm still trying to figure out what to make of total latency drop with these changes, but this looks pretty impressive"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"A7BBDF5F-1268-44B9-B83E-02734E0116DE","type":"message","text":"I haven’t done any timing, just trying to reduce things with high counts that I vaguely think I understood","user":"U8MPCDJAY","ts":"1610343970.244000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0E5/a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I haven’t done any timing, just trying to reduce things with high counts that I vaguely think I understood"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"},{"client_msg_id":"dde99c43-0a8d-4e85-8896-901e86a74ed2","type":"message","text":"That makes sense. I'm trying to figure out how to interpret the output as well","user":"UC4QQPG4A","ts":"1610344220.244200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dxMr0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That makes sense. I'm trying to figure out how to interpret the output as well"}]}]}],"thread_ts":"1610227373.240800","parent_user_id":"UC4QQPG4A"}]