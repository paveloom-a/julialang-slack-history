[{"client_msg_id":"6813c4f7-0ec9-4092-8cb0-3a45ecb0ab34","type":"message","text":"<https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941|https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941>","user":"UDGT4PM41","ts":"1612894653.084400","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"Different behaviour between Flux.jl and Pytorch","title_link":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","text":"I am trying to generate the results of this paper <https://arxiv.org/abs/1808.03856>. I have created two similar models using Flux.jl and Pytorch. There is no equivalence to pytorch.gather function in Flux.jl, so I created a custom function called gather and it returns the correct value. The problem is that my Pytorch loss decreases but my Flux.jl doesn’t decrease and my Pytorch code generates the distribution correctly but my Flux.jl code only shows a nearly uniform distribution which is wrong. ...","fallback":"JuliaLang: Different behaviour between Flux.jl and Pytorch","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1612889188,"from_url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941"}],"blocks":[{"type":"rich_text","block_id":"fu2IA","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","text":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941"}]}]}],"thread_ts":"1612894653.084400","reply_count":1,"reply_users_count":1,"latest_reply":"1612896081.084600","reply_users":["UMY1LV01G"],"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"&gt; Another question: How can I trace the behaviour of gradient?\nI'm going to shamelessly post <https://github.com/FluxML/Flux.jl/pull/1471#issuecomment-765801411> again :troll:","user":"UMY1LV01G","ts":"1612896081.084600","thread_ts":"1612894653.084400","root":{"client_msg_id":"6813c4f7-0ec9-4092-8cb0-3a45ecb0ab34","type":"message","text":"<https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941|https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941>","user":"UDGT4PM41","ts":"1612894653.084400","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"Different behaviour between Flux.jl and Pytorch","title_link":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","text":"I am trying to generate the results of this paper <https://arxiv.org/abs/1808.03856>. I have created two similar models using Flux.jl and Pytorch. There is no equivalence to pytorch.gather function in Flux.jl, so I created a custom function called gather and it returns the correct value. The problem is that my Pytorch loss decreases but my Flux.jl doesn’t decrease and my Pytorch code generates the distribution correctly but my Flux.jl code only shows a nearly uniform distribution which is wrong. ...","fallback":"JuliaLang: Different behaviour between Flux.jl and Pytorch","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1612889188,"from_url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941"}],"blocks":[{"type":"rich_text","block_id":"fu2IA","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941","text":"https://discourse.julialang.org/t/different-behaviour-between-flux-jl-and-pytorch/54941"}]}]}],"thread_ts":"1612894653.084400","reply_count":1,"reply_users_count":1,"latest_reply":"1612896081.084600","reply_users":["UMY1LV01G"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"kZYM","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Another question: How can I trace the behaviour of gradient?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI'm going to shamelessly post "},{"type":"link","url":"https://github.com/FluxML/Flux.jl/pull/1471#issuecomment-765801411"},{"type":"text","text":" again "},{"type":"emoji","name":"troll"}]}]}],"client_msg_id":"46fe3b22-6f62-46da-a0bb-f374ea53e334","edited":{"user":"UMY1LV01G","ts":"1612896119.000000"}}]