[{"client_msg_id":"da2d10e1-5b72-4272-bbe3-2af74d92ea7d","type":"message","text":"&gt; I really think it's important that we have some delay before AutoMerging a PR. It's not uncommon for someone to realize a mistake is made\nYou can setup a timer that doesn't block the queue with the new GitHub environments/deploy restrictions. (not sure how reliable in regards to time that is yet) ~I'm guessing that GH's own automerge request thing will eventually make its way into the API too. Both combined would allow for a reliable on-PR automerge.~","user":"U6C5KSWAC","ts":"1609676136.211700","team":"T68168MUP","edited":{"user":"U6C5KSWAC","ts":"1609677364.000000"},"blocks":[{"type":"rich_text","block_id":"d2lG","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"I really think it's important that we have some delay before AutoMerging a PR. It's not uncommon for someone to realize a mistake is made"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"You can setup a timer that doesn't block the queue with the new GitHub environments/deploy restrictions. (not sure how reliable in regards to time that is yet) "},{"type":"text","text":"I'm guessing that GH's own automerge request thing will eventually make its way into the API too. Both combined would allow for a reliable on-PR automerge.","style":{"strike":true}}]}]}],"thread_ts":"1609676136.211700","reply_count":6,"reply_users_count":2,"latest_reply":"1609754561.006800","reply_users":["U7THT3TM3","U6C5KSWAC"],"subscribed":false},{"client_msg_id":"4D8C539F-E252-4352-93CD-D46549730711","type":"message","text":"How does this work?","user":"U7THT3TM3","ts":"1609727496.001500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RMHE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How does this work?"}]}]}],"thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC"},{"client_msg_id":"583291EB-CE18-4C6B-8BAE-CDCB0DED8109","type":"message","text":"Could you make a PR to General to demonstrate this functionality? Just as an example, maybe something like:\n1. Run the PR job.\n2. Wait 20 minutes.\n3. Echo \"hello world.\"","user":"U7THT3TM3","ts":"1609727538.002900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"trev","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could you make a PR to General to demonstrate this functionality? Just as an example, maybe something like:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Run the PR job."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Wait 20 minutes."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Echo \"hello world.\""}]}],"style":"ordered","indent":0,"offset":0}]}],"thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC"},{"type":"message","text":"I can't because it requires config in the repo settings. But I've tested it in a repo before: <https://github.com/SaschaMann/env-tests/> (you have an invite but I'm not sure if that gives you admin access).\n\nTwo things needed to set it up:\n\n- Add an environment requirement to the job in the workflow: <https://github.com/SaschaMann/env-tests/blob/main/.github/workflows/ci.yml#L23> (I also specified the order of jobs with `needs` in L25 since the normal CI, in my use cases, is meant to run immediately)\n- Configure the environment in the repo settings (<https://github.com/SaschaMann/env-tests/settings/environments>):","files":[{"id":"F01JMKYCLQ0","created":1609753032,"timestamp":1609753032,"name":"grafik.png","title":"grafik.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U6C5KSWAC","editable":false,"size":34838,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JMKYCLQ0/grafik.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JMKYCLQ0/download/grafik.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_360.png","thumb_360_w":360,"thumb_360_h":214,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_480.png","thumb_480_w":480,"thumb_480_h":286,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_720.png","thumb_720_w":720,"thumb_720_h":429,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_800.png","thumb_800_w":800,"thumb_800_h":477,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_960.png","thumb_960_w":960,"thumb_960_h":572,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01JMKYCLQ0-d64c3dba99/grafik_1024.png","thumb_1024_w":1024,"thumb_1024_h":610,"original_w":1192,"original_h":710,"thumb_tiny":"AwAcADDR/D9aMeo/WlI56CjFAAOOxpaKKACiiigBuT707NFFABmjNFFABmiiigD/2Q==","permalink":"https://julialang.slack.com/files/U6C5KSWAC/F01JMKYCLQ0/grafik.png","permalink_public":"https://slack-files.com/T68168MUP-F01JMKYCLQ0-b655a590a6","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"FvR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can't because it requires config in the repo settings. But I've tested it in a repo before: "},{"type":"link","url":"https://github.com/SaschaMann/env-tests/"},{"type":"text","text":" (you have an invite but I'm not sure if that gives you admin access).\n\nTwo things needed to set it up:\n\n- Add an environment requirement to the job in the workflow: "},{"type":"link","url":"https://github.com/SaschaMann/env-tests/blob/main/.github/workflows/ci.yml#L23"},{"type":"text","text":" (I also specified the order of jobs with "},{"type":"text","text":"needs","style":{"code":true}},{"type":"text","text":" in L25 since the normal CI, in my use cases, is meant to run immediately)\n- Configure the environment in the repo settings ("},{"type":"link","url":"https://github.com/SaschaMann/env-tests/settings/environments"},{"type":"text","text":"):"}]}]}],"user":"U6C5KSWAC","display_as_bot":false,"ts":"1609753039.005300","thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC"},{"client_msg_id":"6408d1d5-cf33-4f86-b8c9-1e8825f85fe3","type":"message","text":"If you open a PR to that repo you can see it","user":"U6C5KSWAC","ts":"1609753060.005700","team":"T68168MUP","edited":{"user":"U6C5KSWAC","ts":"1609753084.000000"},"blocks":[{"type":"rich_text","block_id":"KTCW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you open a PR to that repo you can see it"}]}]}],"thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC"},{"client_msg_id":"df94153b-ac16-48a0-95c0-e5dc9ce4b332","type":"message","text":"<https://github.com/JuliaRegistries/General/pull/27285>","user":"U7THT3TM3","ts":"1609753810.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9L5","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaRegistries/General/pull/27285"}]}]}],"thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC","reactions":[{"name":"+1","users":["U6C5KSWAC"],"count":1}]},{"client_msg_id":"3a5232a6-7438-4d9e-909d-89bda21ff544","type":"message","text":"I haven't tested it long enough to know whether this scheduling has less variation than `cron` scheduling fwiw but at least the minimum time will be consistent","user":"U6C5KSWAC","ts":"1609754561.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u9b5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I haven't tested it long enough to know whether this scheduling has less variation than "},{"type":"text","text":"cron","style":{"code":true}},{"type":"text","text":" scheduling fwiw but at least the minimum time will be consistent"}]}]}],"thread_ts":"1609676136.211700","parent_user_id":"U6C5KSWAC"}]