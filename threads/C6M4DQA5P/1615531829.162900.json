[{"client_msg_id":"c12318e6-c9db-449e-b578-9d95648c35b0","type":"message","text":"<@UCZ7VBGUD> It seems that if the \"Pkg.add\" check fails, then an error gets thrown during the \"OSI license\" check, and AutoMerge exits with an error without posting an AutoMerge comment. For example, see this PR: <https://github.com/JuliaRegistries/General/pull/31753>","user":"U7THT3TM3","ts":"1615531829.162900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"93wgD","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UCZ7VBGUD"},{"type":"text","text":" It seems that if the \"Pkg.add\" check fails, then an error gets thrown during the \"OSI license\" check, and AutoMerge exits with an error without posting an AutoMerge comment. For example, see this PR: "},{"type":"link","url":"https://github.com/JuliaRegistries/General/pull/31753"}]}]}],"thread_ts":"1615531829.162900","reply_count":3,"reply_users_count":3,"latest_reply":"1615542367.164600","reply_users":["UBVE598BC","U7THT3TM3","UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"8968096f-c951-47bc-a29c-0bb2149616f4","type":"message","text":"It would be good if the package source could be downloaded independently rather than as a side effect of `Pkg.add`, i.e. without involving dependencies and build stuff. This would be useful for more than license checking.","user":"UBVE598BC","ts":"1615532362.163000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AAJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It would be good if the package source could be downloaded independently rather than as a side effect of "},{"type":"text","text":"Pkg.add","style":{"code":true}},{"type":"text","text":", i.e. without involving dependencies and build stuff. This would be useful for more than license checking."}]}]}],"thread_ts":"1615531829.162900","parent_user_id":"U7THT3TM3","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"898eff74-bbfc-49d3-9767-6e5e10e67523","type":"message","text":"I completely agree.\n\nIn the short term, I'm fixing this bug with <https://github.com/JuliaRegistries/RegistryCI.jl/pull/356>.\n\nBut in the long term, we should download the package source independently so that we have it available for all AutoMerge checks to use, even if `Pkg.add` fails.","user":"U7THT3TM3","ts":"1615534775.163300","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1615535738.000000"},"blocks":[{"type":"rich_text","block_id":"bMOCp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I completely agree.\n\nIn the short term, I'm fixing this bug with "},{"type":"link","url":"https://github.com/JuliaRegistries/RegistryCI.jl/pull/356"},{"type":"text","text":".\n\nBut in the long term, we should download the package source independently so that we have it available for all AutoMerge checks to use, even if "},{"type":"text","text":"Pkg.add","style":{"code":true}},{"type":"text","text":" fails."}]}]}],"thread_ts":"1615531829.162900","parent_user_id":"U7THT3TM3","reactions":[{"name":"+1","users":["UCZ7VBGUD"],"count":1}]},{"client_msg_id":"14FD059B-C8EB-46BD-90E2-74B1AEF0FC47","type":"message","text":"Whoops! Thanks for the fix. ","user":"UCZ7VBGUD","ts":"1615542367.164600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eVA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Whoops! Thanks for the fix. "}]}]}],"thread_ts":"1615531829.162900","parent_user_id":"U7THT3TM3"}]