[{"client_msg_id":"bca1b0bc-4b25-4866-b015-2ba7ea3caa33","type":"message","text":"I’ve currently updated the Transits.jl readme with some TODOs and plans. It’d be awesome to see some contributions on this. In addition, anybody with expertise in the field is more than welcome to write up some documentation that is mostly exposition rather than API reference if you don’t want to dig into the code as much.\n\n<https://github.com/JuliaAstro/Transits.jl>","user":"UN97XTLCV","ts":"1613198820.028100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+N9tT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve currently updated the Transits.jl readme with some TODOs and plans. It’d be awesome to see some contributions on this. In addition, anybody with expertise in the field is more than welcome to write up some documentation that is mostly exposition rather than API reference if you don’t want to dig into the code as much.\n\n"},{"type":"link","url":"https://github.com/JuliaAstro/Transits.jl"}]}]}],"thread_ts":"1613198820.028100","reply_count":59,"reply_users_count":4,"latest_reply":"1613342442.048700","reply_users":["UFHGN6TJ8","U015EGHQZP0","UN97XTLCV","UDB26738Q"],"subscribed":false},{"client_msg_id":"21e9f6ce-22fa-43fa-a67d-40f0b3eb784e","type":"message","text":"Awesome, Miles! I left my first question over in <https://github.com/JuliaAstro/Transits.jl/discussions|discussions> :+1::skin-tone-5:","user":"UFHGN6TJ8","ts":"1613216090.028500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KcU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Awesome, Miles! I left my first question over in "},{"type":"link","url":"https://github.com/JuliaAstro/Transits.jl/discussions","text":"discussions"},{"type":"text","text":" "},{"type":"emoji","name":"+1","skin_tone":5}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"2c2d0a95-ba79-4e07-8a41-747da2b470b2","type":"message","text":"Hi! Could you explain the \"fix numerical errors in Mn integral\" point a bit?","user":"U015EGHQZP0","ts":"1613258303.033800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"meK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi! Could you explain the \"fix numerical errors in Mn integral\" point a bit?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"e2c33a92-7924-4362-b42b-9d1cb82b7584","type":"message","text":"Oh cool, I'm taking a look at that now if you want to work together :+1::skin-tone-5:","user":"UFHGN6TJ8","ts":"1613258686.034000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pnW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh cool, I'm taking a look at that now if you want to work together "},{"type":"emoji","name":"+1","skin_tone":5}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"9e24c8c9-7ef6-4985-8aeb-05dae648d885","type":"message","text":"Think I've got the failed tests down to 10 now, but there's still a few things I want to check","user":"UFHGN6TJ8","ts":"1613258776.034200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3at3G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Think I've got the failed tests down to 10 now, but there's still a few things I want to check"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"6f7548cb-fd1b-40ce-96ad-8d00f72da4a0","type":"message","text":"In `test/Mn_integral.jl` there are tests which evaluate the series expansion of the `Mn` integral term by term and compare it to a high-precision numerical integration. The tolerances are built to a specification so we need to match these within fairly high precision. Currently there’s ~30 instances where the series term errors are &gt;1e-7ish. I feel like I’ve checekd the calculations a million times against Limbdark.jl but I can’t seem to fix it. I really don’t know what is wrong.","user":"UN97XTLCV","ts":"1613259265.034400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hFsc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In "},{"type":"text","text":"test/Mn_integral.jl","style":{"code":true}},{"type":"text","text":" there are tests which evaluate the series expansion of the "},{"type":"text","text":"Mn","style":{"code":true}},{"type":"text","text":" integral term by term and compare it to a high-precision numerical integration. The tolerances are built to a specification so we need to match these within fairly high precision. Currently there’s ~30 instances where the series term errors are >1e-7ish. I feel like I’ve checekd the calculations a million times against Limbdark.jl but I can’t seem to fix it. I really don’t know what is wrong."}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"type":"message","text":"eg here the floating point errors are plotted (ie Float64 - BigFloat) the red colors are points which are &gt; 1e-5 difference from the numerical integration","files":[{"id":"F01N7ST081J","created":1613259420,"timestamp":1613259420,"name":"Screen Shot 2021-02-13 at 5.36.58 PM.png","title":"Screen Shot 2021-02-13 at 5.36.58 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UN97XTLCV","editable":false,"size":50037,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01N7ST081J/screen_shot_2021-02-13_at_5.36.58_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01N7ST081J/download/screen_shot_2021-02-13_at_5.36.58_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01N7ST081J-a4d8f4d1e8/screen_shot_2021-02-13_at_5.36.58_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01N7ST081J-a4d8f4d1e8/screen_shot_2021-02-13_at_5.36.58_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01N7ST081J-a4d8f4d1e8/screen_shot_2021-02-13_at_5.36.58_pm_360.png","thumb_360_w":360,"thumb_360_h":240,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01N7ST081J-a4d8f4d1e8/screen_shot_2021-02-13_at_5.36.58_pm_480.png","thumb_480_w":480,"thumb_480_h":321,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01N7ST081J-a4d8f4d1e8/screen_shot_2021-02-13_at_5.36.58_pm_160.png","original_w":599,"original_h":400,"thumb_tiny":"AwAgADDSYA8EUzy0znaKfnPajFADfLT+6KXy0P8ACKWloAZ5Sf3RSqFHAFOpM47UAGMfSlFIRRz6UALRSEkDOKMn0oAWkxn6Uc88frQB3oA//9k=","permalink":"https://julialang.slack.com/files/UN97XTLCV/F01N7ST081J/screen_shot_2021-02-13_at_5.36.58_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01N7ST081J-0d2b324528","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"NyZI3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"eg here the floating point errors are plotted (ie Float64 - BigFloat) the red colors are points which are > 1e-5 difference from the numerical integration"}]}]}],"user":"UN97XTLCV","display_as_bot":false,"ts":"1613259472.034600","thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"f745711a-9bcb-4995-8a36-2262a7e17e8c","type":"message","text":"So, one quick thing I saw was that LimbDark.jl uses the `k2` from `transit_poly_g!` instead of `transit_poly_g` I think for their tests. Making that switch there and in `poly.jl` helped a little, but I still need to go back more carefully","user":"UFHGN6TJ8","ts":"1613259848.035000","team":"T68168MUP","edited":{"user":"UFHGN6TJ8","ts":"1613259924.000000"},"blocks":[{"type":"rich_text","block_id":"zhiJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So, one quick thing I saw was that LimbDark.jl uses the "},{"type":"text","text":"k2","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"transit_poly_g!","style":{"code":true}},{"type":"text","text":" instead of "},{"type":"text","text":"transit_poly_g","style":{"code":true}},{"type":"text","text":" I think for their tests. Making that switch there and in "},{"type":"text","text":"poly.jl","style":{"code":true}},{"type":"text","text":" helped a little, but I still need to go back more carefully"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"4c06072d-e954-4a50-8852-08d00046eb2a","type":"message","text":"haha thanks, that fixed 1 test :smile:","user":"UN97XTLCV","ts":"1613259998.035400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fyzx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"haha thanks, that fixed 1 test "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"f21bf28f-4bd6-42c4-9776-441988cc7e63","type":"message","text":"Sweet! I think `onembmr2` needs to switched to `(r - b + 1) * (1 -r + b)`  as well","user":"UFHGN6TJ8","ts":"1613260085.035600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hyY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sweet! I think "},{"type":"text","text":"onembmr2","style":{"code":true}},{"type":"text","text":" needs to switched to "},{"type":"text","text":"(r - b + 1) * (1 -r + b)","style":{"code":true}},{"type":"text","text":"  as well"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"2d5c871f-dcad-40db-8a9e-0a79186a4491","type":"message","text":"Also, it looks like they have a whole redundant branch, but that shouldn't affect things","user":"UFHGN6TJ8","ts":"1613260130.035800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y/o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, it looks like they have a whole redundant branch, but that shouldn't affect things"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"6cb33d89-07f1-4bf7-8cbd-305d9bda98e9","type":"message","text":"hm, the onembmr2 didn’t affect any tests","user":"UN97XTLCV","ts":"1613260153.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rnK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm, the onembmr2 didn’t affect any tests"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"5fefb987-f589-437b-83e1-f4a3d47c0dc7","type":"message","text":"For `k2 = onembmr2 * fourbrinv` ?","user":"UFHGN6TJ8","ts":"1613260194.036200","team":"T68168MUP","edited":{"user":"UFHGN6TJ8","ts":"1613260220.000000"},"blocks":[{"type":"rich_text","block_id":"hIbh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For "},{"type":"text","text":"k2 = onembmr2 * fourbrinv","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"f98cc441-f211-4b1d-8712-d26ebba34268","type":"message","text":"no rearranging `omembmr2 = (r - ….`","user":"UN97XTLCV","ts":"1613260216.036400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JUF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no rearranging "},{"type":"text","text":"omembmr2 = (r - ….","style":{"code":true}}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"3f7cec94-0984-40b8-94fc-34a1b862afb5","type":"message","text":"ugh, these var names are a struggle","user":"UFHGN6TJ8","ts":"1613260232.036700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SSIY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ugh, these var names are a struggle"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"b4db1d3b-1eb3-4f7a-b83b-932ccb824315","type":"message","text":"So, I have `onembmr2 = (r - b + 1) * (1 - r + b)`,  `k2 = max(0, onembmr2 * fourbrinv)` now instead of using `onembpr2`, is that what you are saying?","user":"UFHGN6TJ8","ts":"1613260526.036900","team":"T68168MUP","edited":{"user":"UFHGN6TJ8","ts":"1613260543.000000"},"blocks":[{"type":"rich_text","block_id":"FbDtR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So, I have "},{"type":"text","text":"onembmr2 = (r - b + 1) * (1 - r + b)","style":{"code":true}},{"type":"text","text":",  "},{"type":"text","text":"k2 = max(0, onembmr2 * fourbrinv)","style":{"code":true}},{"type":"text","text":" now instead of using "},{"type":"text","text":"onembpr2","style":{"code":true}},{"type":"text","text":", is that what you are saying?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"af2fa376-197e-4d8b-bac4-5ee3db6beba2","type":"message","text":"yeah, that only fixes one test","user":"UN97XTLCV","ts":"1613260556.037200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=hO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that only fixes one test"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"1372e911-3f35-489f-875b-4639b85984a0","type":"message","text":"Cool. I also have `k2 &gt;= 1`  instead of `&gt;` next a couple lines down","user":"UFHGN6TJ8","ts":"1613260606.037400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O3lgp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool. I also have "},{"type":"text","text":"k2 >= 1","style":{"code":true}},{"type":"text","text":"  instead of "},{"type":"text","text":">","style":{"code":true}},{"type":"text","text":" next a couple lines down"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"42a04e80-431a-41e4-8c99-f2654e0a4af0","type":"message","text":"And then just `k2 = onembmr2 * inv(4 * b * r)` in poly.jl","user":"UFHGN6TJ8","ts":"1613260697.037600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s0W46","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And then just "},{"type":"text","text":"k2 = onembmr2 * inv(4 * b * r)","style":{"code":true}},{"type":"text","text":" in poly.jl"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"702d0f2d-772e-42db-9e49-1b6f588707be","type":"message","text":"okay, i’ve got those all now, too. Still 30 failing :confused:","user":"UN97XTLCV","ts":"1613260734.037800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/TOCJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay, i’ve got those all now, too. Still 30 failing "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"98817e47-54a5-403e-9e51-d18867e314fc","type":"message","text":"I think that's it for my diff? Running again as a sanity check","user":"UFHGN6TJ8","ts":"1613260779.038000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fak","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that's it for my diff? Running again as a sanity check"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"a8ff43f1-ad00-462f-80b7-a040531ddd00","type":"message","text":"Yea, 10. I guess I'll just push what I have to my fork, haha. I was planning to write things up a bit first, but this should hopefully just be a quick thing","user":"UFHGN6TJ8","ts":"1613260853.038200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"frw0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea, 10. I guess I'll just push what I have to my fork, haha. I was planning to write things up a bit first, but this should hopefully just be a quick thing"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"281ff679-5541-4d47-ba3c-d178b19a60df","type":"message","text":"BTW I just checked and writing `2/3` and `1/3` as constants and multiplying didn’t affect anything :+1:","user":"UN97XTLCV","ts":"1613260865.038400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UD19","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"BTW I just checked and writing "},{"type":"text","text":"2/3","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"1/3","style":{"code":true}},{"type":"text","text":" as constants and multiplying didn’t affect anything "},{"type":"emoji","name":"+1"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"9ceb8765-1960-490b-9540-f8260e2a1b83","type":"message","text":"Oh, where is this?","user":"UFHGN6TJ8","ts":"1613260973.038600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hof","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, where is this?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"906a7b47-3a61-4b7a-b153-e2d64c55e8fa","type":"message","text":"It’s all over Limbdark.jl and the starry code","user":"UN97XTLCV","ts":"1613261007.038800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QgF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s all over Limbdark.jl and the starry code"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"479fda42-b670-4370-83e6-2feb8ba7c7e1","type":"message","text":"Also, here is my first pass: <https://github.com/icweaver/Transits.jl/commit/3f38caeee5ccf046bceda4895505e73fc43d139f>","user":"UFHGN6TJ8","ts":"1613261013.039000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pAC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, here is my first pass: "},{"type":"link","url":"https://github.com/icweaver/Transits.jl/commit/3f38caeee5ccf046bceda4895505e73fc43d139f"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"1bbea6ce-9249-4361-ae15-fff59c971438","type":"message","text":"`THIRD`","user":"UN97XTLCV","ts":"1613261014.039200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j1LFF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"THIRD","style":{"code":true}}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"c4d0a026-50d6-4eb2-8d5f-616444faffa5","type":"message","text":"Oh, yea gotcha.","user":"UFHGN6TJ8","ts":"1613261022.039400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mes","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, yea gotcha."}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"3062879d-8e9a-4666-a5a8-33e8206bf5d9","type":"message","text":"Ah, just realized `onembmr2`  is the same. Must have been thinking about something else","user":"UFHGN6TJ8","ts":"1613261107.039600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HsyD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, just realized "},{"type":"text","text":"onembmr2","style":{"code":true}},{"type":"text","text":"  is the same. Must have been thinking about something else"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"96d05b5e-dac1-409e-b53b-a5cc26f500c3","type":"message","text":"okay now I’ve got everything you’ve implemented and we’re down to 26 failures, so a total improvement of -5","user":"UN97XTLCV","ts":"1613261135.039800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yp5m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay now I’ve got everything you’ve implemented and we’re down to 26 failures, so a total improvement of -5"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV","reactions":[{"name":"rocket","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"1a048823-ffc9-4ff1-8285-7ea39c0b4bb5","type":"message","text":"I’m going to push a version to master that has some diagnostic plotting built in.","user":"UN97XTLCV","ts":"1613261218.040100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lsim","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m going to push a version to master that has some diagnostic plotting built in."}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"d412fe21-f8bd-4f0b-b96c-57067be5bf56","type":"message","text":"Nice! I did a few spot checks and `Mnn`  looks to match with LimbDark,jl, while `Mn` is still off, so I guess the next place to check is in `compute/upwardM!/downwardM!`","user":"UFHGN6TJ8","ts":"1613261385.040300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IQI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice! I did a few spot checks and "},{"type":"text","text":"Mnn","style":{"code":true}},{"type":"text","text":"  looks to match with LimbDark,jl, while "},{"type":"text","text":"Mn","style":{"code":true}},{"type":"text","text":" is still off, so I guess the next place to check is in "},{"type":"text","text":"compute/upwardM!/downwardM!","style":{"code":true}}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"257b6041-6134-4767-8cd2-a060d704fff8","type":"message","text":"Oh, I see I'm already a few commits behind. You've been putting in work!","user":"UFHGN6TJ8","ts":"1613261667.040500","team":"T68168MUP","edited":{"user":"UFHGN6TJ8","ts":"1613261913.000000"},"blocks":[{"type":"rich_text","block_id":"yIn0L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, I see I'm already a few commits behind. You've been putting in work!"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"dfe0c260-e03c-4e24-8e9e-c82a1f89271b","type":"message","text":"okay just pushed update, look at `test/README` for how to get plots","user":"UN97XTLCV","ts":"1613261979.040800","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1613262211.000000"},"blocks":[{"type":"rich_text","block_id":"nOh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay just pushed update, look at "},{"type":"text","text":"test/README","style":{"code":true}},{"type":"text","text":" for how to get plots"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"349d80c0-c1a3-4027-bd51-31ac200b4d52","type":"message","text":"Really neat!","user":"UFHGN6TJ8","ts":"1613262667.041100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GQ2GE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really neat!"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"48d53b74-914f-449d-a1c0-18e6b726dd81","type":"message","text":"also I can pinpoint one of the trouble areas is when `k2` is _just below_ 0.5, so that is the `downwardM!` function that needs attention","user":"UN97XTLCV","ts":"1613263503.041300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AvD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also I can pinpoint one of the trouble areas is when "},{"type":"text","text":"k2","style":{"code":true}},{"type":"text","text":" is "},{"type":"text","text":"just below","style":{"italic":true}},{"type":"text","text":" 0.5, so that is the "},{"type":"text","text":"downwardM!","style":{"code":true}},{"type":"text","text":" function that needs attention"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"type":"message","text":"so uhhhh I think some of the `Mn_coeff` are being calculated incorrectly :joy: these are the residuals of coeffs compared to Mn_coeff","files":[{"id":"F01MM0VCLLX","created":1613264538,"timestamp":1613264538,"name":"Screen Shot 2021-02-13 at 7.02.14 PM.png","title":"Screen Shot 2021-02-13 at 7.02.14 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UN97XTLCV","editable":false,"size":22433,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01MM0VCLLX/screen_shot_2021-02-13_at_7.02.14_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01MM0VCLLX/download/screen_shot_2021-02-13_at_7.02.14_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01MM0VCLLX-8f1f1b2573/screen_shot_2021-02-13_at_7.02.14_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01MM0VCLLX-8f1f1b2573/screen_shot_2021-02-13_at_7.02.14_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01MM0VCLLX-8f1f1b2573/screen_shot_2021-02-13_at_7.02.14_pm_360.png","thumb_360_w":197,"thumb_360_h":334,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01MM0VCLLX-8f1f1b2573/screen_shot_2021-02-13_at_7.02.14_pm_160.png","original_w":197,"original_h":334,"thumb_tiny":"AwAwABykPXg/hTse3+fypq4p35UwEPH8J/KmE5NPPtj86ZQA5fpT+feo1GadsHp/OgBWz2JFRnrT9g9KY3BoAVetP/KmLT/8/wCeaAA9KjbrUh6H/P8AWoz1NAH/2Q==","permalink":"https://julialang.slack.com/files/UN97XTLCV/F01MM0VCLLX/screen_shot_2021-02-13_at_7.02.14_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01MM0VCLLX-da2df4097c","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"zwu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so uhhhh I think some of the "},{"type":"text","text":"Mn_coeff","style":{"code":true}},{"type":"text","text":" are being calculated incorrectly "},{"type":"emoji","name":"joy"},{"type":"text","text":" these are the residuals of coeffs compared to Mn_coeff"}]}]}],"user":"UN97XTLCV","display_as_bot":false,"ts":"1613264620.041500","edited":{"user":"UN97XTLCV","ts":"1613264636.000000"},"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"type":"message","text":":sunglasses: (trying not to freak out im so freaking happy this is figured out)","files":[{"id":"F01NRK705LY","created":1613265353,"timestamp":1613265353,"name":"Screen Shot 2021-02-13 at 7.15.51 PM.png","title":"Screen Shot 2021-02-13 at 7.15.51 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UN97XTLCV","editable":false,"size":11670,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01NRK705LY/screen_shot_2021-02-13_at_7.15.51_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01NRK705LY/download/screen_shot_2021-02-13_at_7.15.51_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01NRK705LY-2fcfa8b3bf/screen_shot_2021-02-13_at_7.15.51_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01NRK705LY-2fcfa8b3bf/screen_shot_2021-02-13_at_7.15.51_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01NRK705LY-2fcfa8b3bf/screen_shot_2021-02-13_at_7.15.51_pm_360.png","thumb_360_w":266,"thumb_360_h":96,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01NRK705LY-2fcfa8b3bf/screen_shot_2021-02-13_at_7.15.51_pm_160.png","original_w":266,"original_h":96,"thumb_tiny":"AwARADCiAO9OB5xnjHrTVbHr+dO3HHDY/GgAzx15/wB6jPv096TnPLD86GOcc/rQApOep/WkAXHb86DyMZH50hGB1H50wEooopAFFFFABRRRQB//2Q==","permalink":"https://julialang.slack.com/files/UN97XTLCV/F01NRK705LY/screen_shot_2021-02-13_at_7.15.51_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01NRK705LY-8ddc12d29f","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"s/A8","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"sunglasses"},{"type":"text","text":" (trying not to freak out im so freaking happy this is figured out)"}]}]}],"user":"UN97XTLCV","display_as_bot":false,"ts":"1613265379.042000","thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV","reactions":[{"name":"tada","users":["UFHGN6TJ8"],"count":1}]},{"client_msg_id":"9d40f0c6-8d3c-479b-a316-2b510b0ca985","type":"message","text":"Awesome Miles!! I'll happily freak out for you. What was the major problem?\n\nJust saw the diff, what a great catch!","user":"UFHGN6TJ8","ts":"1613265919.042500","team":"T68168MUP","edited":{"user":"UFHGN6TJ8","ts":"1613266018.000000"},"blocks":[{"type":"rich_text","block_id":"aPuL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Awesome Miles!! I'll happily freak out for you. What was the major problem?\n\nJust saw the diff, what a great catch!"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"67b99c42-5ca8-4aa8-9e18-30e0f3c491cc","type":"message","text":"in `compute_Mn_coeff!` I was replacing `1:jmax - 1` with `1:size(Mn_coeff, 2) - 1`. This corresponds with the array layout of starry. Limbdark, however, uses a 3 dimensional coefficient matrix, so I needed to update it to `1:size(Mn_coeff, 3) - 1` :smiling_face_with_tear:","user":"UN97XTLCV","ts":"1613266014.042700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Th8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in "},{"type":"text","text":"compute_Mn_coeff!","style":{"code":true}},{"type":"text","text":" I was replacing "},{"type":"text","text":"1:jmax - 1","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"1:size(Mn_coeff, 2) - 1","style":{"code":true}},{"type":"text","text":". This corresponds with the array layout of starry. Limbdark, however, uses a 3 dimensional coefficient matrix, so I needed to update it to "},{"type":"text","text":"1:size(Mn_coeff, 3) - 1","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"smiling_face_with_tear"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"cc3e5e95-9343-4d4b-b8c0-96f09bcccb56","type":"message","text":"Man, I never would have thought to check that :sweat_smile:","user":"UFHGN6TJ8","ts":"1613266086.043000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2djp7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Man, I never would have thought to check that "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"146ed183-ab8c-4162-801e-cc9c465b203d","type":"message","text":"haha yeah, when I realized the coeffs were so vastly different I realized something was terribly wrong, which is way better than trying to fix things by rearranging arithmetic order","user":"UN97XTLCV","ts":"1613266128.043200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FvmpS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"haha yeah, when I realized the coeffs were so vastly different I realized something was terribly wrong, which is way better than trying to fix things by rearranging arithmetic order"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV","reactions":[{"name":"matrix","users":["UFHGN6TJ8"],"count":1}]},{"client_msg_id":"a37e0b38-3c72-4289-b955-4cc4f1b830f6","type":"message","text":"v0.1 is in the 3day waiting period right now! I’m so excited","user":"UN97XTLCV","ts":"1613271936.043500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lha","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"v0.1 is in the 3day waiting period right now! I’m so excited"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"d803574b-1fc5-4c97-b46f-efd1a08333da","type":"message","text":"So excited to see where this project goes :rocket:","user":"UFHGN6TJ8","ts":"1613278582.043700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4jcqQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So excited to see where this project goes "},{"type":"emoji","name":"rocket"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"bc3eb3c5-c7dc-49e5-b5c7-3de4f46a231d","type":"message","text":"I believe `QuadLimbDark` is faster than the ALFM implemenation. We just need some benchmarks, if someone is quite tempted :wink:","user":"UN97XTLCV","ts":"1613284162.043900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YKIEO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe "},{"type":"text","text":"QuadLimbDark","style":{"code":true}},{"type":"text","text":" is faster than the ALFM implemenation. We just need some benchmarks, if someone is quite tempted "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"cec3de89-5840-46c4-888d-719e9dfba018","type":"message","text":"both are certainly faster for the applications where the limb darkening coefficients are changed every iteration","user":"UN97XTLCV","ts":"1613284200.044100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ffKQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"both are certainly faster for the applications where the limb darkening coefficients are changed every iteration"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"7593aeb7-7eff-459f-944a-bed6fdb880c0","type":"message","text":"because I save ~3 us on an array allocaiton _because that is the level of speed luger/agol/dfm have achieved already_","user":"UN97XTLCV","ts":"1613284245.044300","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1613284273.000000"},"blocks":[{"type":"rich_text","block_id":"c3p5n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because I save ~3 us on an array allocaiton "},{"type":"text","text":"because that is the level of speed luger/agol/dfm have achieved already","style":{"italic":true}}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"f3d97c2b-a01d-449d-876c-6f721cd62d40","type":"message","text":"You mean your Julia implementation is faster than their C++ implementation in `starry`?","user":"UDB26738Q","ts":"1613287265.044600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eeEm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean your Julia implementation is faster than their C++ implementation in "},{"type":"text","text":"starry","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"AD2EEDF0-0568-49FD-AB8E-445A574AB574","type":"message","text":"Yep! Limbdark.jl already was, though (fig 16 in the ALFM paper). ","user":"UN97XTLCV","ts":"1613310476.045900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bFfM3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep! Limbdark.jl already was, though (fig 16 in the ALFM paper). "}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"type":"message","text":":sonic:","files":[{"id":"F01N2RXS35H","created":1613341866,"timestamp":1613341866,"name":"Screen Shot 2021-02-14 at 4.31.02 PM.png","title":"Screen Shot 2021-02-14 at 4.31.02 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UN97XTLCV","editable":false,"size":80739,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01N2RXS35H/screen_shot_2021-02-14_at_4.31.02_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01N2RXS35H/download/screen_shot_2021-02-14_at_4.31.02_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01N2RXS35H-4ef018fbb5/screen_shot_2021-02-14_at_4.31.02_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01N2RXS35H-4ef018fbb5/screen_shot_2021-02-14_at_4.31.02_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01N2RXS35H-4ef018fbb5/screen_shot_2021-02-14_at_4.31.02_pm_360.png","thumb_360_w":360,"thumb_360_h":237,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01N2RXS35H-4ef018fbb5/screen_shot_2021-02-14_at_4.31.02_pm_480.png","thumb_480_w":480,"thumb_480_h":316,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01N2RXS35H-4ef018fbb5/screen_shot_2021-02-14_at_4.31.02_pm_160.png","original_w":599,"original_h":394,"thumb_tiny":"AwAfADDRByeDS5GcUwAYHf8ApTuM9O1AChgc4I4pc03uef0pOSO9ADiQBmgkYpoyB1waU/WgAUdqWg9aWgAoprNt60bxnFAC/wA6COKOaDnFAH//2Q==","permalink":"https://julialang.slack.com/files/UN97XTLCV/F01N2RXS35H/screen_shot_2021-02-14_at_4.31.02_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01N2RXS35H-04128e57e0","is_starred":false,"has_rich_preview":false},{"id":"F01N8QTTVPW","created":1613341880,"timestamp":1613341880,"name":"Screen Shot 2021-02-14 at 4.31.16 PM.png","title":"Screen Shot 2021-02-14 at 4.31.16 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UN97XTLCV","editable":false,"size":77161,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01N8QTTVPW/screen_shot_2021-02-14_at_4.31.16_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01N8QTTVPW/download/screen_shot_2021-02-14_at_4.31.16_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01N8QTTVPW-64bd4a34b6/screen_shot_2021-02-14_at_4.31.16_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01N8QTTVPW-64bd4a34b6/screen_shot_2021-02-14_at_4.31.16_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01N8QTTVPW-64bd4a34b6/screen_shot_2021-02-14_at_4.31.16_pm_360.png","thumb_360_w":360,"thumb_360_h":241,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01N8QTTVPW-64bd4a34b6/screen_shot_2021-02-14_at_4.31.16_pm_480.png","thumb_480_w":480,"thumb_480_h":322,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01N8QTTVPW-64bd4a34b6/screen_shot_2021-02-14_at_4.31.16_pm_160.png","original_w":598,"original_h":401,"thumb_tiny":"AwAgADDT70U1TnmnUAFFGaaWFADs0hbke9Mwzp/dyKeFA56mgYdD0pCwBoYE4we9AUD0z60CEAYk9hTlUL0oLY60m4UAOopM/SjNAH//2Q==","permalink":"https://julialang.slack.com/files/UN97XTLCV/F01N8QTTVPW/screen_shot_2021-02-14_at_4.31.16_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01N8QTTVPW-07693b848b","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"bQ7=M","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"sonic"}]}]}],"user":"UN97XTLCV","ts":"1613341887.046100","thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV","reactions":[{"name":"rocket","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"b6623e95-5da0-4767-aa57-bc938c63bb9a","type":"message","text":"the relative is `time(Transits.jl) / time(Limbdark.jl)` so below 1 is good and lower is better. The series are arranged from linear only (len(u) = 1) to 144 terms (dark to light)","user":"UN97XTLCV","ts":"1613341952.046800","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1613342012.000000"},"blocks":[{"type":"rich_text","block_id":"h2N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the relative is "},{"type":"text","text":"time(Transits.jl) / time(Limbdark.jl)","style":{"code":true}},{"type":"text","text":" so below 1 is good and lower is better. The series are arranged from linear only (len(u) = 1) to 144 terms (dark to light)"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"74f7244f-8856-4109-86d0-8b3ace60d242","type":"message","text":"what are the different curves?","user":"UDB26738Q","ts":"1613341980.047000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=6BF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what are the different curves?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"056d05f8-eeca-4c7b-b90e-5c71c64b0766","type":"message","text":"number of coefficients. dark is 1 term, lightest is 144 terms. Not distributed uniformly","user":"UN97XTLCV","ts":"1613342040.047300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rUU4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"number of coefficients. dark is 1 term, lightest is 144 terms. Not distributed uniformly"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"aefa20a1-5354-49bc-94a0-8b4875439752","type":"message","text":"this blows my mind. The two are nearly a one-to-one rewrite","user":"UN97XTLCV","ts":"1613342076.047500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gt/k=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this blows my mind. The two are nearly a one-to-one rewrite"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"791b4645-02ec-41dc-917a-ec003f932332","type":"message","text":"I think you used StaticArrays?","user":"UDB26738Q","ts":"1613342109.047700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3/ME","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you used StaticArrays?"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"ad715e05-963a-47e9-84a7-9d39158e986f","type":"message","text":"No; that is inside `QuadLimbDark`. This is `PolynomialLimbDark`. the largest design-level difference is that they use a big mutable struct for everything while I’ve made everything a function","user":"UN97XTLCV","ts":"1613342176.047900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vTyo0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No; that is inside "},{"type":"text","text":"QuadLimbDark","style":{"code":true}},{"type":"text","text":". This is "},{"type":"text","text":"PolynomialLimbDark","style":{"code":true}},{"type":"text","text":". the largest design-level difference is that they use a big mutable struct for everything while I’ve made everything a function"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"6c07f3e7-a1de-4cc9-b0a3-a2ff36af45d0","type":"message","text":"and `LimbDark.jl` was already faster than the rest","user":"UDB26738Q","ts":"1613342261.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jYtB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and "},{"type":"text","text":"LimbDark.jl","style":{"code":true}},{"type":"text","text":" was already faster than the rest"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"3d0733b7-6cd3-4301-ae75-a58fa2d32b64","type":"message","text":"based on the relative plots, it seems like the higher order terms are being highly optimized compared to Limbdark.jl. Something in the `downwardM!` and `upwardM!`  or the for loop right after it must be a significant difference","user":"UN97XTLCV","ts":"1613342293.048300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"781v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"based on the relative plots, it seems like the higher order terms are being highly optimized compared to Limbdark.jl. Something in the "},{"type":"text","text":"downwardM!","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"upwardM!","style":{"code":true}},{"type":"text","text":"  or the for loop right after it must be a significant difference"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"833ac211-0365-4c44-9f0a-70650ea14322","type":"message","text":"I suppose one caveat is there is no code for gradients in Transits.jl yet. It shouldn’t matter because it doesn’t get called by the Limbdark.jl code anyways but maybe there are extra calculations that I’m not accurately portraying. That being said, the whole goal of tying into ChainRulesCore is to make the gradient version completely indendent of the non-gradient version using their macros","user":"UN97XTLCV","ts":"1613342418.048500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v42Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I suppose one caveat is there is no code for gradients in Transits.jl yet. It shouldn’t matter because it doesn’t get called by the Limbdark.jl code anyways but maybe there are extra calculations that I’m not accurately portraying. That being said, the whole goal of tying into ChainRulesCore is to make the gradient version completely indendent of the non-gradient version using their macros"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV"},{"client_msg_id":"ccd35946-e58c-41e1-96b4-5b4e7d62bde3","type":"message","text":"idk, we might have f**ed around and accidentally started a best-in-class library","user":"UN97XTLCV","ts":"1613342442.048700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBUYo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"idk, we might have f**ed around and accidentally started a best-in-class library"}]}]}],"thread_ts":"1613198820.028100","parent_user_id":"UN97XTLCV","reactions":[{"name":"joy","users":["UDB26738Q"],"count":1}]}]