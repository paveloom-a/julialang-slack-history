[{"client_msg_id":"5a27b184-99eb-4297-add9-da620bdd0317","type":"message","text":"AstroAngles looks really nice!  I haven't had a chance to play with it yet, but one of the tricky parts of this is how to deal with negative angles, especially ones between 0 and -1 degree.  Assuming \"-12:34:56\" get broken up into (-12, 34, 56) you don't get the right value with -12 + 34/60 + 56/3600.  At least some libraries handle this by making the sign a separate field, where sign is either +1 or -1.  So -12:34:56 would get broken up into (-1, 12, 34, 56) and -00:00:01 would get broken up into (-1, 0, 0, 1).  Sorry if you've already addressed this...","user":"U01FKQQ7J0J","ts":"1617314015.082500","team":"T68168MUP","edited":{"user":"U01FKQQ7J0J","ts":"1617314040.000000"},"blocks":[{"type":"rich_text","block_id":"S+4E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"AstroAngles looks really nice!  I haven't had a chance to play with it yet, but one of the tricky parts of this is how to deal with negative angles, especially ones between 0 and -1 degree.  Assuming \"-12:34:56\" get broken up into (-12, 34, 56) you don't get the right value with -12 + 34/60 + 56/3600.  At least some libraries handle this by making the sign a separate field, where sign is either +1 or -1.  So -12:34:56 would get broken up into (-1, 12, 34, 56) and -00:00:01 would get broken up into (-1, 0, 0, 1).  Sorry if you've already addressed this..."}]}]}],"thread_ts":"1617314015.082500","reply_count":19,"reply_users_count":2,"latest_reply":"1617317023.087100","reply_users":["UN97XTLCV","U01FKQQ7J0J"],"is_locked":false,"subscribed":false},{"client_msg_id":"f3146539-92f1-42f4-b9cc-39ded8034d0d","type":"message","text":"yeah I have (hopefully) dealth with it if you look inside the `dms2deg` (as an example) I do something roughly like\n```d, m, s = dms\nfractional = m / 60 + s / 3600\nif d &lt; 0\n    return d - fractional\nelse\n    return d + fractional\nend```\nso the parsing will take `\"-12:34:56\"` -&gt; `(-12, 34, 56)` -&gt; `-12 + sign(-12) * 0.568` -&gt; `-12.568` (didn’t actually do the math but the point still stands)\n\nSpecifically for `-0` -&gt; it seems to work!\n```julia&gt; parse_dms(\"-0:0:0\")\n(-0.0, 0.0, 0.0)\n\njulia&gt; ans |&gt; dms2deg\n-0.0```","user":"UN97XTLCV","ts":"1617314284.082700","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1617314646.000000"},"blocks":[{"type":"rich_text","block_id":"WN/g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah I have (hopefully) dealth with it if you look inside the "},{"type":"text","text":"dms2deg","style":{"code":true}},{"type":"text","text":" (as an example) I do something roughly like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"d, m, s = dms\nfractional = m / 60 + s / 3600\nif d < 0\n    return d - fractional\nelse\n    return d + fractional\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"so the parsing will take "},{"type":"text","text":"\"-12:34:56\"","style":{"code":true}},{"type":"text","text":" -> "},{"type":"text","text":"(-12, 34, 56)","style":{"code":true}},{"type":"text","text":" -> "},{"type":"text","text":"-12 + sign(-12) * 0.568","style":{"code":true}},{"type":"text","text":" -> "},{"type":"text","text":"-12.568","style":{"code":true}},{"type":"text","text":" (didn’t actually do the math but the point still stands)\n\nSpecifically for "},{"type":"text","text":"-0","style":{"code":true}},{"type":"text","text":" -> it seems to work!\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> parse_dms(\"-0:0:0\")\n(-0.0, 0.0, 0.0)\n\njulia> ans |> dms2deg\n-0.0"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"cca79e05-e2a8-4e44-88b7-9c864f4d8813","type":"message","text":"if you find an edge case that doesn’t get parsed/converted correctly I’d be eager to fix it :slightly_smiling_face:","user":"UN97XTLCV","ts":"1617314344.082900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D7o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you find an edge case that doesn’t get parsed/converted correctly I’d be eager to fix it "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"87fef623-1a6d-48a3-8966-439145e5ec5d","type":"message","text":"I think relying on -0.0 vs +0.0 might be venturing into dangerous territory:\n```julia&gt; format_angle(parse_dms(\"-00:00:01\"))\n\"0:0:1.0\"```","user":"U01FKQQ7J0J","ts":"1617314718.083500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4L7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think relying on -0.0 vs +0.0 might be venturing into dangerous territory:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> format_angle(parse_dms(\"-00:00:01\"))\n\"0:0:1.0\""}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"d9f4c272-e192-4ad8-b54b-d3f8825d5d67","type":"message","text":"those are the same angles though","user":"UN97XTLCV","ts":"1617314743.083700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qER","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"those are the same angles though"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"a651cb7f-16f4-45a5-93a7-032647929c57","type":"message","text":"oh whoops","user":"UN97XTLCV","ts":"1617314747.083900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bPXFf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh whoops"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"4ed95b42-55a2-41a8-9f50-150459367347","type":"message","text":"haha `Int(-0) -&gt; 0` , will fix!","user":"UN97XTLCV","ts":"1617314780.084100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9PKVi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"haha "},{"type":"text","text":"Int(-0) -> 0","style":{"code":true}},{"type":"text","text":" , will fix!"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"8ac8f073-8387-49bd-8eab-18f40cbb5f8f","type":"message","text":"Also whitespace between the sign and the numbers should be ignored:\n```julia&gt; parse_dms(\"- 1:00:01\")\n(1.0, 0.0, 1.0)```","user":"U01FKQQ7J0J","ts":"1617315085.084300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8NT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also whitespace between the sign and the numbers should be ignored:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> parse_dms(\"- 1:00:01\")\n(1.0, 0.0, 1.0)"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"2ef9eb3a-481b-4f4d-86e8-2f7de7fe3afb","type":"message","text":"Just trying to be constructive.  I really like what you've done and just want to help make it solid!","user":"U01FKQQ7J0J","ts":"1617315201.084500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6UXQg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just trying to be constructive.  I really like what you've done and just want to help make it solid!"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"1caeac05-4f89-4c21-81a0-9863e3a221a6","type":"message","text":"this is great! I appreciate you bringing the edge cases to my attention","user":"UN97XTLCV","ts":"1617315262.084700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Sh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is great! I appreciate you bringing the edge cases to my attention"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"8dd83fe7-846f-4dc1-bedb-2771ef366903","type":"message","text":"fixes for the above two cases are up now! Thanks again for the suggestions\n```julia&gt; format_angle(parse_dms(\"-00:00:01\"))\n\"-0:0:1.0\"\n\njulia&gt; parse_dms(\"- 1:00:01\")\n(-1.0, 0.0, 1.0)```","user":"UN97XTLCV","ts":"1617316130.084900","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1617316161.000000"},"blocks":[{"type":"rich_text","block_id":"fW4=v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fixes for the above two cases are up now! Thanks again for the suggestions\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> format_angle(parse_dms(\"-00:00:01\"))\n\"-0:0:1.0\"\n\njulia> parse_dms(\"- 1:00:01\")\n(-1.0, 0.0, 1.0)"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"b0981663-15d0-4d3f-8f54-52b068bedfd3","type":"message","text":"What about defaulting trailing components to zero?  Instead of:\n```julia&gt; parse_hms(\"12:34\")\nERROR: Could not parse \"12:34\" to hour angles```","user":"U01FKQQ7J0J","ts":"1617316181.085200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KA9v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What about defaulting trailing components to zero?  Instead of:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> parse_hms(\"12:34\")\nERROR: Could not parse \"12:34\" to hour angles"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"83e0cb9d-a19d-4d61-9715-7384c79f998e","type":"message","text":"```julia&gt; parse_hms(\"12:34\")\n(12.0, 34.0, 0.0)```","user":"U01FKQQ7J0J","ts":"1617316220.085400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1D9f","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> parse_hms(\"12:34\")\n(12.0, 34.0, 0.0)"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"75196c23-4fbb-46b1-a741-e7e1da7fe95e","type":"message","text":"is that actually common? I’ve never seen ra/dec written short like that","user":"UN97XTLCV","ts":"1617316276.085600","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1617316286.000000"},"blocks":[{"type":"rich_text","block_id":"+78OT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is that actually common? I’ve never seen ra/dec written short like that"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"404c0bb6-2345-4fdf-958c-3a70ac7bda10","type":"message","text":"Maybe not for RA/Dec, but LST can sometimes be only to the minute","user":"U01FKQQ7J0J","ts":"1617316402.085900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JtsHY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe not for RA/Dec, but LST can sometimes be only to the minute"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"46162876-cceb-4692-b58e-2a0d37047f73","type":"message","text":"ah I see- that’s probably not within the scope of the package since that’s actual time parsing instead of hour angles.","user":"UN97XTLCV","ts":"1617316441.086100","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1617316511.000000"},"blocks":[{"type":"rich_text","block_id":"0e+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah I see- that’s probably not within the scope of the package since that’s actual time parsing instead of hour angles."}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"6ddb3052-1f2e-4038-ab9a-de31f539d01d","type":"message","text":"Well, on sky hour angles might only be given to the hour.  For example, compute source position for hour angle range -6 to +6.","user":"U01FKQQ7J0J","ts":"1617316548.086400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/8hu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, on sky hour angles might only be given to the hour.  For example, compute source position for hour angle range -6 to +6."}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"f4212abe-e7b9-4c2d-96d9-f246ef519804","type":"message","text":"```has = range(-6, 6, length=10)\ndegs = has2deg.(has)\nRAs = @. format_angle(ha2hms(has))```\nfor single digits/toy problems like this it’s probably easier to use the direct conversion tools rather than the string interface","user":"UN97XTLCV","ts":"1617316640.086600","team":"T68168MUP","edited":{"user":"UN97XTLCV","ts":"1617316679.000000"},"blocks":[{"type":"rich_text","block_id":"xmrI","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"has = range(-6, 6, length=10)\ndegs = has2deg.(has)\nRAs = @. format_angle(ha2hms(has))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"for single digits/toy problems like this it’s probably easier to use the direct conversion tools rather than the string interface"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"fca6b524-c8c5-44e5-8136-86f0d688073e","type":"message","text":"Yeah, these are admittedly contrived examples, but why require that all components be given?","user":"U01FKQQ7J0J","ts":"1617316796.086900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KC9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, these are admittedly contrived examples, but why require that all components be given?"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"},{"client_msg_id":"03a79e02-199d-4b72-aff0-da69d08c8091","type":"message","text":"How about:\n```has = range(-6, 6, step=hms\"00:20\"ha)```","user":"U01FKQQ7J0J","ts":"1617317023.087100","team":"T68168MUP","edited":{"user":"U01FKQQ7J0J","ts":"1617317065.000000"},"blocks":[{"type":"rich_text","block_id":"UAA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How about:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"has = range(-6, 6, step=hms\"00:20\"ha)"}]}]}],"thread_ts":"1617314015.082500","parent_user_id":"U01FKQQ7J0J"}]