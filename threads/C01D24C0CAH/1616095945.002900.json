[{"client_msg_id":"7051a1d0-076f-41a5-98e0-b07a23f0daef","type":"message","text":"Hi all, I ma trying to turn a CPU run into a GPU run so I can do some high resolution tests and maybe, down the line, play with the Stokes drift fields. What version of CUDA is required?","user":"U01LBJ2VA9Z","ts":"1616095945.002900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"diAvI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all, I ma trying to turn a CPU run into a GPU run so I can do some high resolution tests and maybe, down the line, play with the Stokes drift fields. What version of CUDA is required?"}]}]}],"thread_ts":"1616095945.002900","reply_count":6,"reply_users_count":2,"latest_reply":"1616422056.004700","reply_users":["UEP056STX","U01LBJ2VA9Z"],"subscribed":false},{"client_msg_id":"2ee8cdc1-237f-4333-bf38-444a5275ccfa","type":"message","text":"CUDA.jl will download any necessary CUDA drivers so you generally don't have to worry about the CUDA library version","user":"UEP056STX","ts":"1616100107.003000","team":"T68168MUP","edited":{"user":"UEP056STX","ts":"1616100163.000000"},"blocks":[{"type":"rich_text","block_id":"UxCnO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"CUDA.jl will download any necessary CUDA drivers so you generally don't have to worry about the CUDA library version"}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z","reactions":[{"name":"tada","users":["U01FBLBCP7S"],"count":1}]},{"client_msg_id":"2ab5cee8-db65-4f26-b4cd-cb338b2d760b","type":"message","text":"If you have an old GPU it might be too old to support everything in CUDA.jl but a warning will be printed in this case","user":"UEP056STX","ts":"1616100145.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wMWUw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you have an old GPU it might be too old to support everything in CUDA.jl but a warning will be printed in this case"}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z"},{"client_msg_id":"0489aac1-0d5a-4672-a69c-9d80426576f8","type":"message","text":"I have tried a few different things to no avail. Each attempt below was in a new instance of Julia. I don;t know why Oceananigans can’t precompile.\n`1st attempt:`\n`julia&gt; using Pkg`\n`julia&gt; Pkg.build(\"Oceananigans\")`\n`julia&gt; using Oceananigans`\n`[ Info: Precompiling Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09]`\n`ERROR: Failed to precompile Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09] to /projects/jbrodie_1/sjc244/.julia/compiled/v1.5/Oceananigans/hU93i_frL12.ji.`\n`Stacktrace:`\n `[1] error(::String) at ./error.jl:33`\n `[2] compilecache(::Base.PkgId, ::String) at ./loading.jl:1305`\n `[3] _require(::Base.PkgId) at ./loading.jl:1030`\n `[4] require(::Base.PkgId) at ./loading.jl:928`\n `[5] require(::Module, ::Symbol) at ./loading.jl:923`\n\n`2nd attempt:`\n`using Oceananigans`\n`[ Info: Precompiling Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09]`\n`ERROR: Failed to precompile Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09] to /projects/jbrodie_1/sjc244/.julia/compiled/v1.5/Oceananigans/hU93i_frL12.ji.`\n`Stacktrace:`\n `[1] error(::String) at ./error.jl:33`\n `[2] compilecache(::Base.PkgId, ::String) at ./loading.jl:1305`\n `[3] _require(::Base.PkgId) at ./loading.jl:1030`\n `[4] require(::Base.PkgId) at ./loading.jl:928`\n `[5] require(::Module, ::Symbol) at ./loading.jl:923`\n\n`3rd attempt:`\n`using CUDA`\n`Segmentation fault`","user":"U01LBJ2VA9Z","ts":"1616417288.004000","team":"T68168MUP","edited":{"user":"U01LBJ2VA9Z","ts":"1616417364.000000"},"blocks":[{"type":"rich_text","block_id":"b=aD+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have tried a few different things to no avail. Each attempt below was in a new instance of Julia. I don;t know why Oceananigans can’t precompile.\n"},{"type":"text","text":"1st attempt:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"julia> using Pkg","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"julia> Pkg.build(\"Oceananigans\")","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"julia> using Oceananigans","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"[ Info: Precompiling Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"ERROR: Failed to precompile Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09] to /projects/jbrodie_1/sjc244/.julia/compiled/v1.5/Oceananigans/hU93i_frL12.ji.","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Stacktrace:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [1] error(::String) at ./error.jl:33","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [2] compilecache(::Base.PkgId, ::String) at ./loading.jl:1305","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [3] _require(::Base.PkgId) at ./loading.jl:1030","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [4] require(::Base.PkgId) at ./loading.jl:928","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [5] require(::Module, ::Symbol) at ./loading.jl:923","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"2nd attempt:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"using Oceananigans","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"[ Info: Precompiling Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"ERROR: Failed to precompile Oceananigans [9e8cae18-63c1-5223-a75c-80ca9d6e9a09] to /projects/jbrodie_1/sjc244/.julia/compiled/v1.5/Oceananigans/hU93i_frL12.ji.","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Stacktrace:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [1] error(::String) at ./error.jl:33","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [2] compilecache(::Base.PkgId, ::String) at ./loading.jl:1305","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [3] _require(::Base.PkgId) at ./loading.jl:1030","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [4] require(::Base.PkgId) at ./loading.jl:928","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" [5] require(::Module, ::Symbol) at ./loading.jl:923","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"3rd attempt:","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"using CUDA","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Segmentation fault","style":{"code":true}}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z"},{"client_msg_id":"21b50c75-5fe0-48c4-b7b4-a4fc90688904","type":"message","text":"Ah seems like Julia isn't being super helpful with just `ERROR: Failed to precompile Oceananigans` haha","user":"UEP056STX","ts":"1616421914.004300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gHo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah seems like Julia isn't being super helpful with just "},{"type":"text","text":"ERROR: Failed to precompile Oceananigans","style":{"code":true}},{"type":"text","text":" haha"}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z"},{"client_msg_id":"c46cb4a1-7d53-4afd-827c-254a88b695f4","type":"message","text":"Is there any more to the error message?","user":"UEP056STX","ts":"1616421919.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"437C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there any more to the error message?"}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z"},{"client_msg_id":"af7f07ba-4d63-4b70-b690-899613bd6161","type":"message","text":"Also, can you post the output of `] status` (or `using Pkg; Pkg.status()`) just to see what versions of everything is being used?","user":"UEP056STX","ts":"1616422056.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=F2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, can you post the output of "},{"type":"text","text":"] status","style":{"code":true}},{"type":"text","text":" (or "},{"type":"text","text":"using Pkg; Pkg.status()","style":{"code":true}},{"type":"text","text":") just to see what versions of everything is being used?"}]}]}],"thread_ts":"1616095945.002900","parent_user_id":"U01LBJ2VA9Z"}]