[{"client_msg_id":"a6aa1eea-6324-40b2-92e3-28345d68c369","type":"message","text":"I would personally design a type for this, something like `WindowedSpatialAverage` that allows me to specify the window along each `i, j, k`. Then making it a callable object of one argument (nominally of `model`, though its irrelevant in this case) allows it to be used with an output writer and time-averaging.","user":"UMZQBQU67","ts":"1613600717.056700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zazT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would personally design a type for this, something like "},{"type":"text","text":"WindowedSpatialAverage","style":{"code":true}},{"type":"text","text":" that allows me to specify the window along each "},{"type":"text","text":"i, j, k","style":{"code":true}},{"type":"text","text":". Then making it a callable object of one argument (nominally of "},{"type":"text","text":"model","style":{"code":true}},{"type":"text","text":", though its irrelevant in this case) allows it to be used with an output writer and time-averaging."}]}]}],"thread_ts":"1613600717.056700","reply_count":3,"reply_users_count":1,"latest_reply":"1613774548.058500","reply_users":["UEP056STX"],"subscribed":false},{"client_msg_id":"c0e31372-e3ce-4218-a224-69fe29aa9921","type":"message","text":"What do you think of adding a more flexible `WindowedField` type that can be passed to `AveragedField`?","user":"UEP056STX","ts":"1613764997.057400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AGS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do you think of adding a more flexible "},{"type":"text","text":"WindowedField","style":{"code":true}},{"type":"text","text":" type that can be passed to "},{"type":"text","text":"AveragedField","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613600717.056700","parent_user_id":"UMZQBQU67"},{"client_msg_id":"00390cab-58df-4f3d-a2ad-2554e553f162","type":"message","text":"Posted this in another thread but the main idea is that it could be created from a `Field` + a `FieldSlicer`:\n```u_window = WindowedField(model.velocities.u, field_slicer=FieldSlicer(j=20:50))```\nand we could make sure that\n```AveragedField(u_window, dims=(1, 2))```\ndoes the right thing by averaging all of x and y from j=20:50?","user":"UEP056STX","ts":"1613765033.057600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+/CG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Posted this in another thread but the main idea is that it could be created from a "},{"type":"text","text":"Field","style":{"code":true}},{"type":"text","text":" + a "},{"type":"text","text":"FieldSlicer","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"u_window = WindowedField(model.velocities.u, field_slicer=FieldSlicer(j=20:50))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and we could make sure that\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"AveragedField(u_window, dims=(1, 2))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"does the right thing by averaging all of x and y from j=20:50?"}]}]}],"thread_ts":"1613600717.056700","parent_user_id":"UMZQBQU67"},{"client_msg_id":"a8b2538e-28ee-4def-92f5-644199704e3e","type":"message","text":"Ignore my comments. I missed your post in the other thread.","user":"UEP056STX","ts":"1613774548.058500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Cfa5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ignore my comments. I missed your post in the other thread."}]}]}],"thread_ts":"1613600717.056700","parent_user_id":"UMZQBQU67"}]