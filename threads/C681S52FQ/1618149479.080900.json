[{"client_msg_id":"359f0767-aef2-42fc-895c-095f4fba8f94","type":"message","text":"I'm working on an ADMM problem and it's a complicated one... I think my augmented lagrange/dual is wrong somewhere(some of the constraints are leaky), does anyone know of any resources to help checking these things?","user":"UPUBAM63X","ts":"1618149479.080900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sYq9h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm working on an ADMM problem and it's a complicated one... I think my augmented lagrange/dual is wrong somewhere(some of the constraints are leaky), does anyone know of any resources to help checking these things?"}]}]}],"thread_ts":"1618149479.080900","reply_count":37,"reply_users_count":3,"latest_reply":"1618194613.088700","reply_users":["U85JBUGGP","UPUBAM63X","URRASSGPR"],"is_locked":false,"subscribed":false},{"client_msg_id":"58ceb95f-fc0e-4ff5-9fd3-0d336eeb2929","type":"message","text":"Are you implementing your own ADMM or using a package?","user":"U85JBUGGP","ts":"1618150242.081000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B/eo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you implementing your own ADMM or using a package?"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"adbb5396-77ab-4f26-bb21-10386111bf87","type":"message","text":"using Flux.jl and ProximalOperators.jl but open to suggestions for others.","user":"UPUBAM63X","ts":"1618150266.081200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DULc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using Flux.jl and ProximalOperators.jl but open to suggestions for others."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"98b9b103-ea79-4651-a9d2-23f842b7aad4","type":"message","text":"have you seen <https://github.com/kul-forbes/ProximalAlgorithms.jl>?","user":"U85JBUGGP","ts":"1618150333.081400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mnc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"have you seen "},{"type":"link","url":"https://github.com/kul-forbes/ProximalAlgorithms.jl"},{"type":"text","text":"?"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"24df8f51-6289-4314-9f84-502482879091","type":"message","text":"ironically no but let me check :smile:","user":"UPUBAM63X","ts":"1618150346.081600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l7q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ironically no but let me check "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b43a23c6-89f0-4ab0-9248-8c9dbbd22045","type":"message","text":"I'm not sure if this is flexible enough, trying to grok some of the examples to understand what's going on here...","user":"UPUBAM63X","ts":"1618150474.081800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4aYxS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure if this is flexible enough, trying to grok some of the examples to understand what's going on here..."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"068fcf56-16da-448c-a02b-f29738316726","type":"message","text":"no docs :sob:","user":"UPUBAM63X","ts":"1618150483.082000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"48n9d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no docs "},{"type":"emoji","name":"sob"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"e178d8ab-7d81-44a6-9b0c-ed859c19f3c5","type":"message","text":"haha ya, is your problem convex?","user":"U85JBUGGP","ts":"1618150502.082200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0j8+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"haha ya, is your problem convex?"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"75c7a294-94f6-4f5d-906c-c87f854d1123","type":"message","text":"it should be, basically I have a slew of constraints on a variety of matrices, each of which are individually convex","user":"UPUBAM63X","ts":"1618150558.082400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CVg7j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it should be, basically I have a slew of constraints on a variety of matrices, each of which are individually convex"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"7edd9246-bd33-4d34-a229-0c39f412d799","type":"message","text":"if so check out COSMO, might be easier to navigate","user":"U85JBUGGP","ts":"1618150582.082600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L586f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if so check out COSMO, might be easier to navigate"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"54d06304-7740-410c-8fb6-b208a05a4c40","type":"message","text":"<https://github.com/oxfordcontrol/COSMO.jl>","user":"U85JBUGGP","ts":"1618150589.082800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hg/S","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/oxfordcontrol/COSMO.jl"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"be67465e-5286-4914-91d1-12c004009088","type":"message","text":"I don't know if COSMO will like this there's a pretty large dense matrix in there at some point. My thought was COSMO was for like smaller optimization problems but I could be totally wrong","user":"UPUBAM63X","ts":"1618150658.083000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iu+Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know if COSMO will like this there's a pretty large dense matrix in there at some point. My thought was COSMO was for like smaller optimization problems but I could be totally wrong"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"9a2299bb-d24b-4667-b515-f93bb003ceb5","type":"message","text":"I don’t think COSMO is for small problems at all","user":"U85JBUGGP","ts":"1618150696.083200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UA2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think COSMO is for small problems at all"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X","reactions":[{"name":"+1","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"1821cf5c-5490-4876-84eb-7fc2ed742b2c","type":"message","text":"not 100% sure if my problem can be phrased as the docs say the problem should be phrased","user":"UPUBAM63X","ts":"1618150834.083500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pPoPN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not 100% sure if my problem can be phrased as the docs say the problem should be phrased"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"4673a3f9-441d-4fa5-bc17-53139f4f56b0","type":"message","text":"but I'll find out pretty quick i guess :smile:","user":"UPUBAM63X","ts":"1618150877.083700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pDWeP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I'll find out pretty quick i guess "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b02557e5-efe9-410e-9e2b-1b89b6402c97","type":"message","text":"yea tried to make the basic basic objective and it tanked my session","user":"UPUBAM63X","ts":"1618151494.083900","team":"T68168MUP","edited":{"user":"UPUBAM63X","ts":"1618151799.000000"},"blocks":[{"type":"rich_text","block_id":"DzdHG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea tried to make the basic basic objective and it tanked my session"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"12c4c04c-a40a-4bf2-8a3e-bf2cf3e388ad","type":"message","text":"was worth a shot though lol but yea doesn't seem feasible for medium sized problems","user":"UPUBAM63X","ts":"1618151508.084100","team":"T68168MUP","edited":{"user":"UPUBAM63X","ts":"1618151551.000000"},"blocks":[{"type":"rich_text","block_id":"c2K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"was worth a shot though lol but yea doesn't seem feasible for medium sized problems"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b5b1be70-5107-4ed9-95a1-90d2b292eb23","type":"message","text":"if you only need auglag but not ADMM, there is also Percival.jl","user":"U85JBUGGP","ts":"1618152038.084500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yrPv2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you only need auglag but not ADMM, there is also Percival.jl"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"209517c0-df70-4041-a538-085672e5635f","type":"message","text":"Unfortunately I think I do need ADMM, you can think of the problem I'm working on as a multiprojection regression problem with constraints on each projection. So naturally GD would be best, but GD can't be used for some of the constraints (nonnegativity, etc)","user":"UPUBAM63X","ts":"1618152151.084700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AT0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Unfortunately I think I do need ADMM, you can think of the problem I'm working on as a multiprojection regression problem with constraints on each projection. So naturally GD would be best, but GD can't be used for some of the constraints (nonnegativity, etc)"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"0e059754-3cd1-4d8d-a3ed-2339a219ace4","type":"message","text":"so either I throw a CD into a big messy GD (the other constraints require projected gradient descent et al.)","user":"UPUBAM63X","ts":"1618152180.084900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e4bFb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so either I throw a CD into a big messy GD (the other constraints require projected gradient descent et al.)"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"ea694ca2-cbb0-4bb8-82ae-c6dedfba20f9","type":"message","text":"or I factor it out into ADMM...","user":"UPUBAM63X","ts":"1618152188.085100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T3dr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or I factor it out into ADMM..."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"989b06f6-1045-4439-b978-f29097ee3e32","type":"message","text":"I'll do what the OT people do I guess and just do mixed gradient/cd/etc descents and cross my fingers that I don't need to regularize the crap out of the gradients lol","user":"UPUBAM63X","ts":"1618152702.085300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"utYV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll do what the OT people do I guess and just do mixed gradient/cd/etc descents and cross my fingers that I don't need to regularize the crap out of the gradients lol"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"6795ce29-6174-444d-9d2a-420bf6d98faa","type":"message","text":"what’s CD?","user":"U85JBUGGP","ts":"1618154701.085500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2T9v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what’s CD?"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"66000abe-b559-442f-9d9c-630756bdd685","type":"message","text":"coordinate descent sorry","user":"UPUBAM63X","ts":"1618154713.085700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KCUIF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"coordinate descent sorry"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"19055d83-52cd-481a-9e85-28227dd2f8c3","type":"message","text":"I would start with auglag. If too slow, I would explore other options.","user":"U85JBUGGP","ts":"1618154798.085900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eYHwr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would start with auglag. If too slow, I would explore other options."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X","reactions":[{"name":"+1","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"74e3237c-116e-4f3d-9fad-8f076ef33993","type":"message","text":"Percivals docs are struggling too: <https://juliahub.com/docs/Percival/lPa3N/0.1.0/>","user":"UPUBAM63X","ts":"1618158132.086200","team":"T68168MUP","edited":{"user":"UPUBAM63X","ts":"1618158141.000000"},"blocks":[{"type":"rich_text","block_id":"cN9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Percivals docs are struggling too: "},{"type":"link","url":"https://juliahub.com/docs/Percival/lPa3N/0.1.0/"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"2e885008-d1f8-4120-9061-44c38b73127f","type":"message","text":"it'll probably be easier to just troubleshoot my problem from scratch then unpack most of these packages","user":"UPUBAM63X","ts":"1618158177.086500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1h1fA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it'll probably be easier to just troubleshoot my problem from scratch then unpack most of these packages"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"bcb93eca-93b7-4fc8-b388-a93fb52050c0","type":"message","text":"thanks for your help though","user":"UPUBAM63X","ts":"1618158189.086700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3bN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks for your help though"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b2426c42-f702-4853-8ee1-8b425c313c6c","type":"message","text":"try using Percival from <https://github.com/mohamed82008/Nonconvex.jl>","user":"U85JBUGGP","ts":"1618160065.086900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6CVd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"try using Percival from "},{"type":"link","url":"https://github.com/mohamed82008/Nonconvex.jl"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"93b32f6f-d691-42cd-9c7a-7eb0b8aa0bda","type":"message","text":"scroll to the bottom of the readme","user":"U85JBUGGP","ts":"1618160079.087100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"esCE5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"scroll to the bottom of the readme"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"586cc5e7-55c1-40b4-bf89-f3cf8deee85c","type":"message","text":"I'll try and figure this one out, maybe this will work first I'll do the bare bones basic test to see if it'll explode before even adding constaints so far every Opt package I've used does","user":"UPUBAM63X","ts":"1618160419.087300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Znst","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll try and figure this one out, maybe this will work first I'll do the bare bones basic test to see if it'll explode before even adding constaints so far every Opt package I've used does"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"733f7cc3-3ef2-4488-a7fd-195261758374","type":"message","text":"How do I add a matrix variable to Nonconvex.jl? IE:\n```addvar!(m, X[1:1000, 1:5])```\ndoesn't work?\nI don't wanna sound mean or something, but again, I don't see doc's for this package.","user":"UPUBAM63X","ts":"1618160986.087500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J1vl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I add a matrix variable to Nonconvex.jl? IE:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"addvar!(m, X[1:1000, 1:5])"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"doesn't work?\nI don't wanna sound mean or something, but again, I don't see doc's for this package."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"cf30e27e-179d-4d00-9f06-39d37b5fd740","type":"message","text":"ya it’s quite new, everything you can do with it is basically in the README","user":"U85JBUGGP","ts":"1618161354.087700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+KU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ya it’s quite new, everything you can do with it is basically in the README"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"60561868-9210-465d-a471-e663dfbc33a6","type":"message","text":"you can’t currently add matrices, only vectors","user":"U85JBUGGP","ts":"1618161367.087900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AQY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can’t currently add matrices, only vectors"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b825529e-126a-4fc5-a14d-c204972583b6","type":"message","text":"you need to handle the reshaping yourself","user":"U85JBUGGP","ts":"1618161382.088100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zCPE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you need to handle the reshaping yourself"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"056a67d0-4932-4a66-9c14-dd1482c76e2b","type":"message","text":"hmmmm","user":"UPUBAM63X","ts":"1618162200.088300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Ibi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmmm"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"619b6642-1a61-42f4-a8f2-4c93ac08837f","type":"message","text":"So if I remove the dual update step IE the ADMM step things almost work... makes no sense. My dual updates have to be wrong","user":"UPUBAM63X","ts":"1618179003.088500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xYQtj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So if I remove the dual update step IE the ADMM step things almost work... makes no sense. My dual updates have to be wrong"}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"},{"client_msg_id":"62f2ec17-01cd-43c0-906f-04b2a1f88026","type":"message","text":"I usually start by implementing the augmented lagrangian function (eg main objective).  Then, once I've validated that this is correct I implement each primal variable update and will add/subtract a delta checking in each case that the lagrangian function strictly increases; this helps me find issues with my derivation/implemention/etc.\n\nFor example: f(x)=(x-5)^2 --&gt; x==5, f(5+.0001) &gt; f(5) and f(5-.0001) &gt; f(5). These checks are validated with unit tests. \n\nHope this is helpful.","user":"URRASSGPR","ts":"1618194613.088700","team":"T68168MUP","edited":{"user":"URRASSGPR","ts":"1618195763.000000"},"blocks":[{"type":"rich_text","block_id":"JYt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I usually start by implementing the augmented lagrangian function (eg main objective).  Then, once I've validated that this is correct I implement each primal variable update and will add/subtract a delta checking in each case that the lagrangian function strictly increases; this helps me find issues with my derivation/implemention/etc.\n\nFor example: f(x)=(x-5)^2 --> x==5, f(5+.0001) > f(5) and f(5-.0001) > f(5). These checks are validated with unit tests. \n\nHope this is helpful."}]}]}],"thread_ts":"1618149479.080900","parent_user_id":"UPUBAM63X"}]