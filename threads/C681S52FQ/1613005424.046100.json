[{"client_msg_id":"ca245530-efc1-487d-8f2f-8b7c934ef144","type":"message","text":"I'm trying to solve an optimization problem with an equality constraint with NLopt. The basic syntax asks for separate functions to compute the objective and the constraint, but this requires redoing the same calculation from the inputs twice. Is there any way to avoid that?","user":"U91Q3595Y","ts":"1613005424.046100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bfl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to solve an optimization problem with an equality constraint with NLopt. The basic syntax asks for separate functions to compute the objective and the constraint, but this requires redoing the same calculation from the inputs twice. Is there any way to avoid that?"}]}]}],"thread_ts":"1613005424.046100","reply_count":4,"reply_users_count":3,"latest_reply":"1613035237.050700","reply_users":["UGD4K0Z25","U91Q3595Y","U6CJRSR63"],"subscribed":false},{"client_msg_id":"abd7b06d-d0c7-489b-b5f9-84bccfa7338c","type":"message","text":"What do you mean by doing the same calculation twice?","user":"UGD4K0Z25","ts":"1613010157.046200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"egK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do you mean by doing the same calculation twice?"}]}]}],"thread_ts":"1613005424.046100","parent_user_id":"U91Q3595Y"},{"client_msg_id":"031760EA-6433-448E-94AD-152F6566D584","type":"message","text":"I mean that both the objective and constraint functions do some operation ‘f(params)’ and then take the output of ‘f’ and transform it into different objects. It seems redundant to recompute ‘f’ separately for each one","user":"U91Q3595Y","ts":"1613010240.048600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"27la5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean that both the objective and constraint functions do some operation ‘f(params)’ and then take the output of ‘f’ and transform it into different objects. It seems redundant to recompute ‘f’ separately for each one"}]}]}],"thread_ts":"1613005424.046100","parent_user_id":"U91Q3595Y"},{"client_msg_id":"7e383596-caff-4ed5-b637-8df30cd2838a","type":"message","text":"you can close over a cache and check if the input has changed","user":"U6CJRSR63","ts":"1613035099.050500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k/v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can close over a cache and check if the input has changed"}]}]}],"thread_ts":"1613005424.046100","parent_user_id":"U91Q3595Y"},{"client_msg_id":"966c7703-3e65-46c4-8d60-0444e1418164","type":"message","text":"```mysolution = rand(100)\nxlast = rand(4)\nfunction f(x)\n    if all(x.==xlast)\n        update!(mysolution, x)\n        xlast .= x\n    end\n    use_solution_for_f(mysolution, x)\nend\nfunction eqf(x)\n    if all(x.==xlast)\n        update!(mysolution, x)\n        xlast .= x\n    end\n    use_solution_for_eq(mysolution, x)\nend```","user":"U6CJRSR63","ts":"1613035237.050700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cIDHW","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"mysolution = rand(100)\nxlast = rand(4)\nfunction f(x)\n    if all(x.==xlast)\n        update!(mysolution, x)\n        xlast .= x\n    end\n    use_solution_for_f(mysolution, x)\nend\nfunction eqf(x)\n    if all(x.==xlast)\n        update!(mysolution, x)\n        xlast .= x\n    end\n    use_solution_for_eq(mysolution, x)\nend"}]}]}],"thread_ts":"1613005424.046100","parent_user_id":"U91Q3595Y"}]