[{"client_msg_id":"ccceea81-4779-4a24-a30a-c2431eb65cd5","type":"message","text":"Saw <https://discourse.julialang.org/t/optimizing-linear-algebra-code/58797/2|this> discourse post about optimizing a linear algebra computation. They are correct in that preallocating doesn't improve the speed much at all (by 0.2% or something). Why is that?","user":"U011V2YN59N","ts":"1617854377.146800","team":"T68168MUP","edited":{"user":"U011V2YN59N","ts":"1617854663.000000"},"blocks":[{"type":"rich_text","block_id":"ZW2K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Saw "},{"type":"link","url":"https://discourse.julialang.org/t/optimizing-linear-algebra-code/58797/2","text":"this"},{"type":"text","text":" discourse post about optimizing a linear algebra computation. They are correct in that preallocating doesn't improve the speed much at all (by 0.2% or something). Why is that?"}]}]}],"thread_ts":"1617854377.146800","reply_count":2,"reply_users_count":2,"latest_reply":"1617855367.150000","reply_users":["UD0NS8PDF","U011V2YN59N"],"is_locked":false,"subscribed":false},{"client_msg_id":"26BF7F3C-AB5A-4BED-9F8F-51A028902F03","type":"message","text":"Didn’t look closely, but there are big matrices... and allocation ought to grow as a lower power than operations. Could time `similar(output)` to compare. Or maybe zero(output) is more fair.","user":"UD0NS8PDF","ts":"1617854894.149800","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1617855571.000000"},"blocks":[{"type":"rich_text","block_id":"tAa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Didn’t look closely, but there are big matrices... and allocation ought to grow as a lower power than operations. Could time "},{"type":"text","text":"similar(output)","style":{"code":true}},{"type":"text","text":" to compare. Or maybe zero(output) is more fair."}]}]}],"thread_ts":"1617854377.146800","parent_user_id":"U011V2YN59N"},{"client_msg_id":"0c3ebdb5-c4e9-4ff5-912b-f056430a01bc","type":"message","text":"```julia&gt; include(\"scratch.jl\")\n  52.390 ms (5 allocations: 1.02 MiB) #initial implementation\n  52.160 ms (2 allocations: 96 bytes) #preallocated\n  91.945 ns (2 allocations: 1.00 MiB) #similar(out)```\nyeah that is what I was thinking, but your explanation is clearer, I will mention that to them. Thanks!","user":"U011V2YN59N","ts":"1617855367.150000","team":"T68168MUP","edited":{"user":"U011V2YN59N","ts":"1617855375.000000"},"blocks":[{"type":"rich_text","block_id":"Poo","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> include(\"scratch.jl\")\n  52.390 ms (5 allocations: 1.02 MiB) #initial implementation\n  52.160 ms (2 allocations: 96 bytes) #preallocated\n  91.945 ns (2 allocations: 1.00 MiB) #similar(out)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that is what I was thinking, but your explanation is clearer, I will mention that to them. Thanks!"}]}]}],"thread_ts":"1617854377.146800","parent_user_id":"U011V2YN59N"}]