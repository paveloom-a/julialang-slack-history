[{"client_msg_id":"37ef2864-5b02-45e8-8e77-c167154ac38e","type":"message","text":"where `needles` and `hay` are relatively small (0..32) tuples of symbols, to find the symbols in hay that are *not* in needles:\nCan I do better in performance (more important) / memory use than:\n```not_occurs_in(needles, hay) = \nhay[[foldl(.&amp;,map(.!,[n .== hay for n in needles]))...]]```","user":"U68QW0PUZ","ts":"1616792336.045700","team":"T68168MUP","edited":{"user":"U68QW0PUZ","ts":"1616792441.000000"},"blocks":[{"type":"rich_text","block_id":"JDfxR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where "},{"type":"text","text":"needles","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"hay","style":{"code":true}},{"type":"text","text":" are relatively small (0..32) tuples of symbols, to find the symbols in hay that are "},{"type":"text","text":"not","style":{"bold":true}},{"type":"text","text":" in needles:\nCan I do better in performance (more important) / memory use than:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"not_occurs_in(needles, hay) = \nhay[[foldl(.&,map(.!,[n .== hay for n in needles]))...]]"}]}]}],"thread_ts":"1616792336.045700","reply_count":8,"reply_users_count":3,"latest_reply":"1616800104.047800","reply_users":["U6QGE7S86","U68QW0PUZ","U7HAYKY9X"],"is_locked":false,"subscribed":false},{"client_msg_id":"749a1fd0-8abe-467f-a3d4-e5da5219291f","type":"message","text":"Do you have initial input?","user":"U6QGE7S86","ts":"1616797332.046100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HQhm=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have initial input?"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"a25fd704-3021-4f96-adbb-308a89fdcb45","type":"message","text":"for example:\n```needles = (:a, :d, :w, :k); hay = (:b, :d, :w, :r);\nnot_occurs_in(needles, hay) == (:b, :r)\n\nneedles = (:d,); hay = (:a, :b, :c, :d);\nnot_occurs_in(needles, hay) == (:a, :b, :c);\n\nneedles = (a:, :b, :z); hay = (:a, b:);\nnot_occurs_in(needles, hay) == ()```","user":"U68QW0PUZ","ts":"1616798581.046300","team":"T68168MUP","edited":{"user":"U68QW0PUZ","ts":"1616798770.000000"},"blocks":[{"type":"rich_text","block_id":"I87u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for example:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"needles = (:a, :d, :w, :k); hay = (:b, :d, :w, :r);\nnot_occurs_in(needles, hay) == (:b, :r)\n\nneedles = (:d,); hay = (:a, :b, :c, :d);\nnot_occurs_in(needles, hay) == (:a, :b, :c);\n\nneedles = (a:, :b, :z); hay = (:a, b:);\nnot_occurs_in(needles, hay) == ()"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"3a0e3b6f-fd81-4481-acb7-3880e1174233","type":"message","text":"What about just `filter(needle -&gt; !(needle in haystack), needles)`","user":"U7HAYKY9X","ts":"1616799035.046700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C8LmF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What about just "},{"type":"text","text":"filter(needle -> !(needle in haystack), needles)","style":{"code":true}}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"e3ac2b7d-dbd2-499b-8112-bd51ee143bb3","type":"message","text":"(Also, tangentially, I think you've inverted the metaphor. One usually looks for needles in haystacks, not straw in piles of needles?)","user":"U7HAYKY9X","ts":"1616799070.046900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l4f9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(Also, tangentially, I think you've inverted the metaphor. One usually looks for needles in haystacks, not straw in piles of needles?)"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"4cac1546-73fc-4e40-b5e5-0795fc8349f0","type":"message","text":"that does benchmark better\n\nI got the order from\n```  occursin(haystack)\n\n  Create a function that checks whether its argument occurs in haystack, i.e. a function equivalent to needle -&gt; occursin(needle, haystack).```","user":"U68QW0PUZ","ts":"1616799497.047100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kgu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that does benchmark better\n\nI got the order from\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"  occursin(haystack)\n\n  Create a function that checks whether its argument occurs in haystack, i.e. a function equivalent to needle -> occursin(needle, haystack)."}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"03dd4493-8de3-4931-8c10-6005972aa689","type":"message","text":"Right, but the Base function returns the needle, yours returns the haystack?","user":"U7HAYKY9X","ts":"1616800050.047300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vOD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, but the Base function returns the needle, yours returns the haystack?"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"859927e5-5f75-46b4-b758-3136c6cd765a","type":"message","text":"Nevermind, the Base function returns a Bool of course!","user":"U7HAYKY9X","ts":"1616800085.047500","team":"T68168MUP","edited":{"user":"U7HAYKY9X","ts":"1616800094.000000"},"blocks":[{"type":"rich_text","block_id":"Bosi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nevermind, the Base function returns a Bool of course!"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"},{"client_msg_id":"0f1b834b-673a-4026-b79d-f02bebcc09b1","type":"message","text":":slightly_smiling_face:","user":"U68QW0PUZ","ts":"1616800104.047800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U84x","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616792336.045700","parent_user_id":"U68QW0PUZ"}]