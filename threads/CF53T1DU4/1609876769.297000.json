[{"client_msg_id":"f8cbc126-a382-4696-8a81-ba33a7553958","type":"message","text":"I have a section of a `Vector{UInt8}` which corresponds to some text. I want to get the hash of that text - stripped from any whitespace is both ends. My current solution involves copying to a string, then calling `strip` , copying the result to another string, then using `crc32c` .\nIs there a way to do this more efficiently?","user":"U7HAYKY9X","ts":"1609876769.297000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4QrWV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a section of a "},{"type":"text","text":"Vector{UInt8}","style":{"code":true}},{"type":"text","text":" which corresponds to some text. I want to get the hash of that text - stripped from any whitespace is both ends. My current solution involves copying to a string, then calling "},{"type":"text","text":"strip","style":{"code":true}},{"type":"text","text":" , copying the result to another string, then using "},{"type":"text","text":"crc32c","style":{"code":true}},{"type":"text","text":" .\nIs there a way to do this more efficiently?"}]}]}],"thread_ts":"1609876769.297000","reply_count":9,"reply_users_count":4,"latest_reply":"1610238193.312200","reply_users":["U012XER8K4M","U7HAYKY9X","UH24GRBLL","U68QW0PUZ"],"subscribed":false},{"client_msg_id":"f4f42950-75aa-41a1-a914-9335e9ecd387","type":"message","text":"I suppose it depends on the encoding of the data. UTF8?","user":"U012XER8K4M","ts":"1609877433.297100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m1EY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I suppose it depends on the encoding of the data. UTF8?"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"590fea77-c9dd-4dff-a1f5-a614666a186a","type":"message","text":"Yeah. At least I think so!","user":"U7HAYKY9X","ts":"1609877557.297300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"foMC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah. At least I think so!"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"11f37f72-e7e8-48b2-91df-1daa06db8f0b","type":"message","text":"well, then all I could think of is to possibly skip out of the copy, and just reinterpreting the data as a string. I haven't done any of this in julia though so I'm not sure if there are some obvious pitfalls here","user":"U012XER8K4M","ts":"1609877681.297500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eJ9wE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, then all I could think of is to possibly skip out of the copy, and just reinterpreting the data as a string. I haven't done any of this in julia though so I'm not sure if there are some obvious pitfalls here"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"ce5eff25-d0cf-4215-9ad8-8dc071cd9ed1","type":"message","text":"I dont know if that is possible, or how to do it","user":"U7HAYKY9X","ts":"1609877893.297700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aU+2H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I dont know if that is possible, or how to do it"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"43d107ae-f225-4f49-aaa0-c2a63e257a62","type":"message","text":"if you `String(vec)`, it doesn't actually copy anything but consumes the vector","user":"UH24GRBLL","ts":"1609881295.297900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UilF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you "},{"type":"text","text":"String(vec)","style":{"code":true}},{"type":"text","text":", it doesn't actually copy anything but consumes the vector"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"73832352-5aa9-4fcb-8770-531a7277fdb3","type":"message","text":"then you'd do `strip`, and `transcode(UInt8, s)` afterwards","user":"UH24GRBLL","ts":"1609881331.298100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZUsko","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then you'd do "},{"type":"text","text":"strip","style":{"code":true}},{"type":"text","text":", and "},{"type":"text","text":"transcode(UInt8, s)","style":{"code":true}},{"type":"text","text":" afterwards"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"7a1c35b4-ad82-432d-ac8f-cb9fc408b9ac","type":"message","text":"that shouldn't allocate","user":"UH24GRBLL","ts":"1609881335.298300","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1609881341.000000"},"blocks":[{"type":"rich_text","block_id":"K9Mw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that shouldn't allocate"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"112b591e-74bd-4662-80e9-b1204f12ffe8","type":"message","text":"Right, but it's only a section of the vector. Also, you can't `transcode` a SubString (I think?)","user":"U7HAYKY9X","ts":"1609881502.298600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UAapc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, but it's only a section of the vector. Also, you can't "},{"type":"text","text":"transcode","style":{"code":true}},{"type":"text","text":" a SubString (I think?)"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"b10e71dd-7014-4274-8355-2986f431386a","type":"message","text":"```using CRC\ncrc32 = crc(CRC_32);\ntext = \"  The quick brown fox jumps \"\nvecui8 = Vector{UInt8}(text);\nsection = 1:12;\n# text[section] == \"  The quick \";\nstart, stop = first(section), last(section);\nwhile start &lt;= stop &amp;&amp; vecui8[start] === 0x20\n   start += 1\nend\nwhile stop &gt;= start &amp;&amp; vecui8[stop] === 0x20\n   stop -=1\nend\n# text[start:stop] == \"The quick\";\n# crc32(text[start:stop])  == 0x5f7e3064\ncrc32(vecui8[start::stop)) == 0x5f7e3064```","user":"U68QW0PUZ","ts":"1610238193.312200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bQol","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using CRC\ncrc32 = crc(CRC_32);\ntext = \"  The quick brown fox jumps \"\nvecui8 = Vector{UInt8}(text);\nsection = 1:12;\n# text[section] == \"  The quick \";\nstart, stop = first(section), last(section);\nwhile start <= stop && vecui8[start] === 0x20\n   start += 1\nend\nwhile stop >= start && vecui8[stop] === 0x20\n   stop -=1\nend\n# text[start:stop] == \"The quick\";\n# crc32(text[start:stop])  == 0x5f7e3064\ncrc32(vecui8[start::stop)) == 0x5f7e3064"}]}]}],"thread_ts":"1609876769.297000","parent_user_id":"U7HAYKY9X"}]