[{"type":"message","text":"Assuming i have a C++ code with arbitrary x86_64 instrinsic, can i translate it to Julia?","user":"U9MD78Z9N","ts":"1612828321.153800","team":"T68168MUP","thread_ts":"1612828321.153800","reply_count":9,"reply_users_count":4,"latest_reply":"1612880780.155600","reply_users":["U9MD78Z9N","U0179G7FG4F","U67BJLYCS","U7HAYKY9X"],"subscribed":false},{"type":"message","text":"```\nconst __m128 termMinX = (minX - ca.x) * rc.x;\nconst __m128 termMaxX = (minX + ca.x) * rc.x;\nconst __m128 termMinY = (minX - ca.y) * rc.y;\nconst __m128 termMaxY = (minX + ca.y) * rc.y;\nconst __m128 termMinZ = (minX - ca.z) * rc.z;\nconst __m128 termMaxZ = (minX + ca.z) * rc.z;\n\nconst __m128 tMinX = Min( termMaxX, termMinX ); \nconst __m128 tMaxX = Max( termMinX, termMaxX ); \nconst __m128 tMinY = Min( termMaxY, termMinY ); \nconst __m128 tMaxY = Max( termMinY, termMaxY ); \nconst __m128 tMinZ = Min( termMaxZ, termMinZ ); \nconst __m128 tMaxZ = Max( termMinZ, termMaxZ );\n\n const __m128 tMin = Max( tMinZ, Max( tMinY, Max( tMinX, Simd_LoadZero() ) ) );\n const __m128 tMax = Min( tMaxZ, Min( tMaxY, Min( tMaxX, earliestHitTime ) ) );\n\nconst int keepFlags = _mm_movemask_ps( _mm_cmplt_ps( tMin, tMax) ); \n\n```","user":"U9MD78Z9N","ts":"1612828930.153900","team":"T68168MUP","thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"type":"message","text":"and some shufftles, pop counts","user":"U9MD78Z9N","ts":"1612828970.154100","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1612829005.000000"},"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"1afe7088-9674-4069-9e0d-7b39c6b8caeb","type":"message","text":"I'm pretty sure VectorizationBase does this","user":"U0179G7FG4F","ts":"1612829646.154400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CmioP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm pretty sure VectorizationBase does this"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"508e7fdf-7912-4a9d-b285-c78ca557d452","type":"message","text":"but that might be using LLVM intrinsics","user":"U0179G7FG4F","ts":"1612829756.154600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xaI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but that might be using LLVM intrinsics"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"5b632fc2-ed51-48d3-b7c9-f3c05a3eb1de","type":"message","text":"Yeah use SIMD.jl","user":"U67BJLYCS","ts":"1612830234.154800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aMcR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah use SIMD.jl"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"05cd2ac1-fe6f-4619-9c23-344853091ee1","type":"message","text":"There are many intrinsics not in SIMD.jl. You can use llvmcall to call the intrinsic directly. Of course it won't be portable to systems without the intrinsic... are there any other disadvantages of LLVMcall?","user":"U7HAYKY9X","ts":"1612857294.155000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pm7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There are many intrinsics not in SIMD.jl. You can use llvmcall to call the intrinsic directly. Of course it won't be portable to systems without the intrinsic... are there any other disadvantages of LLVMcall?"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"1ae305c5-72cf-4d5f-b4d9-e0345382c895","type":"message","text":"Intrinsics are never portable, LLVM will lower generic vector code to those intrinsics if it recognizes them. But don't expect code with intrinsics to work on Apple M18 as an example","user":"U67BJLYCS","ts":"1612880726.155200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1iL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Intrinsics are never portable, LLVM will lower generic vector code to those intrinsics if it recognizes them. But don't expect code with intrinsics to work on Apple M18 as an example"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"9bf6ade4-3862-4657-8816-c966aa534b59","type":"message","text":"Llvm call is not guaranteed to be portable between llvm versions","user":"U67BJLYCS","ts":"1612880768.155400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yo8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Llvm call is not guaranteed to be portable between llvm versions"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"},{"client_msg_id":"78c05192-3937-459c-9d0c-967b5032c693","type":"message","text":"So better to go through a common vector interface","user":"U67BJLYCS","ts":"1612880780.155600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8n0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So better to go through a common vector interface"}]}]}],"thread_ts":"1612828321.153800","parent_user_id":"U9MD78Z9N"}]