[{"client_msg_id":"c0a8ec57-5608-46e5-a6d6-474f28700608","type":"message","text":"Hi, I am broadcasting a `CuArray` over a function that has some trig functions in it and I am seeing\n```┌ Warning: calls to Base intrinsics might be GPU incompatible\n│   exception =\n│    You called sin(x::T) where T&lt;:Union{Float32, Float64} in Base.Math at special/trig.jl:29, maybe you intended to call sin(x::Float32) in CUDA at /home/aleonard31/.julia/packages/CUDA/wTQsK/src/device/intrinsics/math.jl:13 instead?\n│    Stacktrace:\n│     [1] sin at special/trig.jl:29\n│     [2] broadcast_kernel at /home/aleonard31/.julia/packages/GPUArrays/WV76E/src/host/broadcast.jl:59```\nis there a way to handle this without changing the sin/cos to CUDA.sin/CUDA.cos?","user":"U0178LR5K7F","ts":"1614797995.090100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2al","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, I am broadcasting a "},{"type":"text","text":"CuArray","style":{"code":true}},{"type":"text","text":" over a function that has some trig functions in it and I am seeing\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Warning: calls to Base intrinsics might be GPU incompatible\n│   exception =\n│    You called sin(x::T) where T<:Union{Float32, Float64} in Base.Math at special/trig.jl:29, maybe you intended to call sin(x::Float32) in CUDA at /home/aleonard31/.julia/packages/CUDA/wTQsK/src/device/intrinsics/math.jl:13 instead?\n│    Stacktrace:\n│     [1] sin at special/trig.jl:29\n│     [2] broadcast_kernel at /home/aleonard31/.julia/packages/GPUArrays/WV76E/src/host/broadcast.jl:59"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is there a way to handle this without changing the sin/cos to CUDA.sin/CUDA.cos?"}]}]}],"thread_ts":"1614797995.090100","reply_count":3,"reply_users_count":2,"latest_reply":"1614798487.090800","reply_users":["U0178LR5K7F","U6A0PD8CR"],"subscribed":false},{"client_msg_id":"f3a387cb-c8a5-4e8b-a00f-868b18e6ed5c","type":"message","text":"specifically, the function being broadcasted over does not hold the sin/cos, but rather an inlined function that is called. Additionally, calling `sin.(x)` over `x` the CuArray throws no errors","user":"U0178LR5K7F","ts":"1614798148.090200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6wAW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"specifically, the function being broadcasted over does not hold the sin/cos, but rather an inlined function that is called. Additionally, calling "},{"type":"text","text":"sin.(x)","style":{"code":true}},{"type":"text","text":" over "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" the CuArray throws no errors"}]}]}],"thread_ts":"1614797995.090100","parent_user_id":"U0178LR5K7F"},{"client_msg_id":"4be35ff8-1539-4416-9b5a-988b87efb026","type":"message","text":"At the current moment, not really, without using KernelAbstractions instead","user":"U6A0PD8CR","ts":"1614798459.090600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sPSC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"At the current moment, not really, without using KernelAbstractions instead"}]}]}],"thread_ts":"1614797995.090100","parent_user_id":"U0178LR5K7F"},{"client_msg_id":"5541f91b-167c-4802-8cba-88bf3a3661f3","type":"message","text":"We're still waiting on method overwriting to work in GPUCompiler, which will allow us to do the replacement anywhere","user":"U6A0PD8CR","ts":"1614798487.090800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VD0dX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We're still waiting on method overwriting to work in GPUCompiler, which will allow us to do the replacement anywhere"}]}]}],"thread_ts":"1614797995.090100","parent_user_id":"U0178LR5K7F"}]