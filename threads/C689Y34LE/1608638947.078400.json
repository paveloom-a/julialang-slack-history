[{"client_msg_id":"8de2effa-93bc-417c-bea5-1e97810dfc90","type":"message","text":"Well, the operation I want is not just a reshape, it's rather about having a (reshaped) view as windows, typically used for simple implementation of convolutions","user":"ULDCM1P9P","ts":"1608638947.078400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yMq=v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, the operation I want is not just a reshape, it's rather about having a (reshaped) view as windows, typically used for simple implementation of convolutions"}]}]}],"thread_ts":"1608638947.078400","reply_count":14,"reply_users_count":3,"latest_reply":"1608641357.081200","reply_users":["ULDCM1P9P","UM30MT6RF","UBVE598BC"],"subscribed":false},{"client_msg_id":"a18c4a66-0848-45d2-83ca-30b6e7b89db4","type":"message","text":"like `NNlib.im2col!`, but that is not meant for `CuArrays`","user":"ULDCM1P9P","ts":"1608639021.078600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9FN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"like "},{"type":"text","text":"NNlib.im2col!","style":{"code":true}},{"type":"text","text":", but that is not meant for "},{"type":"text","text":"CuArrays","style":{"code":true}}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"5457529d-4dc8-489f-b2be-05d0979fd469","type":"message","text":"I thought those were intended to work with `CuArrays` as well. You could try wrapping the call in `@cuda`, but don't know whether that will be enough","user":"UM30MT6RF","ts":"1608639553.078800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0HDXY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought those were intended to work with "},{"type":"text","text":"CuArrays","style":{"code":true}},{"type":"text","text":" as well. You could try wrapping the call in "},{"type":"text","text":"@cuda","style":{"code":true}},{"type":"text","text":", but don't know whether that will be enough"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"320ef936-f74f-43fe-9404-a38f6704285f","type":"message","text":"Well, it works just as is, but it's extremely slow. Somewhere there must be a wrapper over cudnn that does it, but I cannot find it.","user":"ULDCM1P9P","ts":"1608640327.079000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2gO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, it works just as is, but it's extremely slow. Somewhere there must be a wrapper over cudnn that does it, but I cannot find it."}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"88e439be-6883-4e43-8771-a6f829c253b9","type":"message","text":"Ah, I see. Did you run it with `CUDA.allowscalar(false)`?","user":"UM30MT6RF","ts":"1608640377.079200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yEq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, I see. Did you run it with "},{"type":"text","text":"CUDA.allowscalar(false)","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"a93634a0-0ce0-4d99-8767-35eaf374c901","type":"message","text":"no, but what for? it wouldn't work...","user":"ULDCM1P9P","ts":"1608640721.079400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FI1Z/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, but what for? it wouldn't work..."}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"8316e964-afb9-42cb-9d47-cd2755f4d90a","type":"message","text":"Why would a wrapper over cudnn implement `im2col`?","user":"UBVE598BC","ts":"1608640794.079600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"evx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why would a wrapper over cudnn implement "},{"type":"text","text":"im2col","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"5b856bc2-73f7-4cc8-b32a-6e96296970f3","type":"message","text":"To debug why it is slow. That will show you, if the function is using scalar indexing anywhere","user":"UM30MT6RF","ts":"1608640801.079800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zS6C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To debug why it is slow. That will show you, if the function is using scalar indexing anywhere"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"43c303de-98d8-40c0-98d3-8eaf3891b0dc","type":"message","text":"yes it is","user":"ULDCM1P9P","ts":"1608640855.080000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"txmfI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes it is"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"e2564478-c883-489d-8bcd-67ad3f5ed3a0","type":"message","text":"<@UBVE598BC> I'd think cudnn has it, but I'm no expert","user":"ULDCM1P9P","ts":"1608640906.080200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tUr","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBVE598BC"},{"type":"text","text":" I'd think cudnn has it, but I'm no expert"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"e29b7420-086b-4e0e-826d-eab3797ef1fe","type":"message","text":"from the docs: Note that the `Im2Col` function is exposed as a public function in cuDNN v2, but it is intended for internal use only, and it will likely be removed from the public API in the next version.","user":"ULDCM1P9P","ts":"1608640986.080400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GZ0O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"from the docs: Note that the "},{"type":"text","text":"Im2Col","style":{"code":true}},{"type":"text","text":" function is exposed as a public function in cuDNN v2, but it is intended for internal use only, and it will likely be removed from the public API in the next version."}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"b471f2e2-8e5e-4762-bece-91b1a074c662","type":"message","text":"so maybe I won't find it wrapped here :confused:","user":"ULDCM1P9P","ts":"1608641043.080600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Ij2H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so maybe I won't find it wrapped here "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"d61bd66e-2310-4fb1-8ce7-0d30c39c67ee","type":"message","text":"There is `CUDA.CUDNN.cudnnIm2Col`","user":"UM30MT6RF","ts":"1608641175.080800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3ci","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is "},{"type":"text","text":"CUDA.CUDNN.cudnnIm2Col","style":{"code":true}}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"b0f09b4b-d429-42b5-bcf6-efed41108827","type":"message","text":"Thanks a lot!!","user":"ULDCM1P9P","ts":"1608641196.081000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J+Lz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks a lot!!"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"1eae8694-2736-47f0-8a16-b1fb25678f61","type":"message","text":"oh well, now I have to figure out how to actually use that","user":"ULDCM1P9P","ts":"1608641357.081200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lATOq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh well, now I have to figure out how to actually use that"}]}]}],"thread_ts":"1608638947.078400","parent_user_id":"ULDCM1P9P"}]