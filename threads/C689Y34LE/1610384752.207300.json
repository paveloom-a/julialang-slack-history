[{"client_msg_id":"f07fd6a4-3821-4e5c-b009-4a2635a35489","type":"message","text":"Hi, I am trying to use `CUDA.cudaDeviceGetAttribute()` on `CUDA.cudaDevAttrMaxThreadsPerBlock` but how do I feed the first argument?\n\n```function cudaDeviceGetAttribute(value, attr, device)\n    ccall(\"extern cudaDeviceGetAttribute\", llvmcall, cudaError_t,\n          (Ptr{Cint}, cudaDeviceAttr, Cint),\n          value, attr, device)\nend```\ni.e. I'm wondering how to get a pointer for the first argument:\n`CUDA.cudaDeviceGetAttribute(????, CUDA.cudaDevAttrMaxThreadsPerBlock, Cint(0))`","user":"UG1KB4NLD","ts":"1610384752.207300","team":"T68168MUP","edited":{"user":"UG1KB4NLD","ts":"1610384973.000000"},"blocks":[{"type":"rich_text","block_id":"Us7n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, I am trying to use "},{"type":"text","text":"CUDA.cudaDeviceGetAttribute()","style":{"code":true}},{"type":"text","text":" on "},{"type":"text","text":"CUDA.cudaDevAttrMaxThreadsPerBlock","style":{"code":true}},{"type":"text","text":" but how do I feed the first argument?\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function cudaDeviceGetAttribute(value, attr, device)\n    ccall(\"extern cudaDeviceGetAttribute\", llvmcall, cudaError_t,\n          (Ptr{Cint}, cudaDeviceAttr, Cint),\n          value, attr, device)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"i.e. I'm wondering how to get a pointer for the first argument:\n"},{"type":"text","text":"CUDA.cudaDeviceGetAttribute(????, CUDA.cudaDevAttrMaxThreadsPerBlock, Cint(0))","style":{"code":true}}]}]}],"thread_ts":"1610384752.207300","reply_count":15,"reply_users_count":3,"latest_reply":"1610387814.210400","reply_users":["U68A3ASP9","UG1KB4NLD","U67BJLYCS"],"subscribed":false},{"client_msg_id":"527db1a9-ff8c-4f16-b1a6-d3044a0a4c97","type":"message","text":"are you actually trying to use that on the device?","user":"U68A3ASP9","ts":"1610384964.207500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N6Rpk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you actually trying to use that on the device?"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"a6e3fda0-8c7a-4824-be42-29ff0f28ec3b","type":"message","text":"those functions aren't for regular use, they're special","user":"U68A3ASP9","ts":"1610384972.207700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gEZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"those functions aren't for regular use, they're special"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"ff96d5cf-c51a-4dd1-aef6-fc3202c94054","type":"message","text":"ah ok","user":"UG1KB4NLD","ts":"1610384990.208000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lMobG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah ok"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"b38fbcf9-1ed8-48a2-aacc-b1f56e617dc0","type":"message","text":"you should use the CUDA driver API-based wrappers in `lib/cudadrv/device.jl`","user":"U68A3ASP9","ts":"1610384991.208200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MRG0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you should use the CUDA driver API-based wrappers in "},{"type":"text","text":"lib/cudadrv/device.jl","style":{"code":true}}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"8d5dcac6-3416-4b12-87c7-e04dc5f91314","type":"message","text":"there you can very easily to `device()` and `attribute(...)`","user":"U68A3ASP9","ts":"1610385004.208400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6O8JP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there you can very easily to "},{"type":"text","text":"device()","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"attribute(...)","style":{"code":true}}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"70a16e7c-e25a-46d4-bf0f-3ffe985ba7f9","type":"message","text":"cool. i'll have a look!","user":"UG1KB4NLD","ts":"1610385022.208600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0=Gew","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool. i'll have a look!"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"41c0a68f-d16b-4fa1-9157-1a9d6af2030c","type":"message","text":"but how to get a pointer for that?","user":"UG1KB4NLD","ts":"1610385058.208800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UA3l7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but how to get a pointer for that?"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"0a1ec1b2-f58d-4063-9aa8-9b2d290106f8","type":"message","text":"Just wondering","user":"UG1KB4NLD","ts":"1610385065.209000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1EO=d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just wondering"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"ba64ec3e-9b8b-452b-9f36-b6e36700f531","type":"message","text":"Can't really find any example. I tried `Ptr(Cint)` and `pointer_from_objref` but didn't work","user":"UG1KB4NLD","ts":"1610385153.209200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cTzkr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can't really find any example. I tried "},{"type":"text","text":"Ptr(Cint)","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"pointer_from_objref","style":{"code":true}},{"type":"text","text":" but didn't work"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"17114e98-38ad-444f-bc5d-fb759d416661","type":"message","text":"Not sure I understand, why do you need a pointer?","user":"U67BJLYCS","ts":"1610385193.209400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kGWO0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure I understand, why do you need a pointer?"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"22cbae63-41ef-474b-ab83-36b2a8590a1e","type":"message","text":"it's an output pointer","user":"U68A3ASP9","ts":"1610385236.209600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1k2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's an output pointer"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"51e4538d-ad23-4ce9-9b7c-dc1ba81474e2","type":"message","text":"so `Ref{Cint}`, and that'll get converted to the pointer of that box","user":"U68A3ASP9","ts":"1610385249.209800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SEJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so "},{"type":"text","text":"Ref{Cint}","style":{"code":true}},{"type":"text","text":", and that'll get converted to the pointer of that box"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"7f66741d-ade1-47f2-9e44-b0f518632458","type":"message","text":"because I thought the first argument of `value` is a pointer of type `Ptr(Cint)`","user":"UG1KB4NLD","ts":"1610385251.210000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TMz7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because I thought the first argument of "},{"type":"text","text":"value","style":{"code":true}},{"type":"text","text":" is a pointer of type "},{"type":"text","text":"Ptr(Cint)","style":{"code":true}}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"74fcf79f-8b50-4c79-9ccf-2c745a031c47","type":"message","text":"Ah, just realised the `attribute()` is an example for host function `cuDeviceGetAttribute()` , and the use of the pointer on host and device are the same!","user":"UG1KB4NLD","ts":"1610387789.210200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yy6k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, just realised the "},{"type":"text","text":"attribute()","style":{"code":true}},{"type":"text","text":" is an example for host function "},{"type":"text","text":"cuDeviceGetAttribute()","style":{"code":true}},{"type":"text","text":" , and the use of the pointer on host and device are the same!"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"},{"client_msg_id":"08c20791-b832-4ba6-8228-d77a0e44db60","type":"message","text":"thanks Tim and Valentin","user":"UG1KB4NLD","ts":"1610387814.210400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z4PSN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks Tim and Valentin"}]}]}],"thread_ts":"1610384752.207300","parent_user_id":"UG1KB4NLD"}]