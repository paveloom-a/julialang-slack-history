[{"client_msg_id":"45baedb3-3816-4aeb-9edf-4dfb34ec653c","type":"message","text":"Hi\n\nI am looking too speed up my pde solver. Is there a good LU solver in CUDA?","user":"U7GQE9JP9","ts":"1617391937.123100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6oZCA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi\n\nI am looking too speed up my pde solver. Is there a good LU solver in CUDA?"}]}]}],"thread_ts":"1617391937.123100","reply_count":12,"reply_users_count":4,"latest_reply":"1617695531.128300","reply_users":["U01EV6GBNSK","U7GQE9JP9","U67D54KS8","UN2U72Q3F"],"is_locked":false,"subscribed":false},{"client_msg_id":"b485c6ec-8660-4194-82d8-a6a06e7bc11f","type":"message","text":"cuBLAS has cublasXgetrfBatched / getrsBatched, for doing LU factorization and solves. Not sure if/how this is exposed in Julia.","user":"U01EV6GBNSK","ts":"1617394253.123400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qWJ9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cuBLAS has cublasXgetrfBatched / getrsBatched, for doing LU factorization and solves. Not sure if/how this is exposed in Julia."}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"a6b406c8-f849-4620-8194-47de38fb2f56","type":"message","text":"docs here: <https://docs.nvidia.com/cuda/cublas/index.html#cublas-lt-t-gt-getrfbatched>","user":"U01EV6GBNSK","ts":"1617394287.123600","team":"T68168MUP","attachments":[{"title":"cuBLAS :: CUDA Toolkit Documentation","title_link":"https://docs.nvidia.com/cuda/cublas/index.html#cublas-lt-t-gt-getrfbatched","text":"The API Reference guide for cuBLAS, the CUDA Basic Linear Algebra Subroutine library.","fallback":"cuBLAS :: CUDA Toolkit Documentation","from_url":"https://docs.nvidia.com/cuda/cublas/index.html#cublas-lt-t-gt-getrfbatched","service_name":"docs.nvidia.com","id":1,"original_url":"https://docs.nvidia.com/cuda/cublas/index.html#cublas-lt-t-gt-getrfbatched"}],"blocks":[{"type":"rich_text","block_id":"XwxSK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"docs here: "},{"type":"link","url":"https://docs.nvidia.com/cuda/cublas/index.html#cublas-lt-t-gt-getrfbatched"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"5c8af261-5408-4cb6-8dae-95ca7eab12d3","type":"message","text":"I forgot to mention sparse (LU) solver","user":"U7GQE9JP9","ts":"1617394371.123900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B17W5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I forgot to mention sparse (LU) solver"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"9d9f4cb2-b9d0-4667-aeed-5bc766466e5e","type":"message","text":"<https://github.com/JuliaGPU/AMGX.jl> might be interesting (not LU though).","user":"U67D54KS8","ts":"1617394596.124100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VuWho","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaGPU/AMGX.jl"},{"type":"text","text":" might be interesting (not LU though)."}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"4b9f807b-826d-4d99-bd6d-1cee0bf843ff","type":"message","text":"interesting… thank you","user":"U7GQE9JP9","ts":"1617394976.124300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+2x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"interesting… thank you"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"15e4c593-4923-4365-b8b6-01b96869c1e1","type":"message","text":"in case you are interested, we are currently wrapping cusolverRF : <https://docs.nvidia.com/cuda/cusolver/index.html#cuSolverRF-reference>\nthe implementation is not mature yet, but you could find it here: <https://github.com/exanauts/BlockPowerFlow.jl/>","user":"UN2U72Q3F","ts":"1617395837.124500","team":"T68168MUP","edited":{"user":"UN2U72Q3F","ts":"1617395875.000000"},"blocks":[{"type":"rich_text","block_id":"tVWI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in case you are interested, we are currently wrapping cusolverRF : "},{"type":"link","url":"https://docs.nvidia.com/cuda/cusolver/index.html#cuSolverRF-reference"},{"type":"text","text":"\nthe implementation is not mature yet, but you could find it here: "},{"type":"link","url":"https://github.com/exanauts/BlockPowerFlow.jl/"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"bc5c234b-0cc0-438c-b58a-f6895101d19e","type":"message","text":"this allows to store the LU factorization, and solve sparse linear systems in batch mode","user":"UN2U72Q3F","ts":"1617395854.124700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d3b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this allows to store the LU factorization, and solve sparse linear systems in batch mode"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"97b6faad-99fa-4bd3-b0db-71b2189d18be","type":"message","text":"oh thank you!","user":"U7GQE9JP9","ts":"1617614558.125300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AsiE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh thank you!"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"ea8b859c-623e-4e98-8afa-f54dc82eaedd","type":"message","text":"there is still a bug we are tracking down (sometimes, the result is `NaN`) but it appears on only a few linear solvers. This code is critical for an article we need to submit by Friday, so we have a huge incentive to get a robust wrapper by then :slightly_smiling_face:","user":"UN2U72Q3F","ts":"1617624190.125500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JeZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there is still a bug we are tracking down (sometimes, the result is "},{"type":"text","text":"NaN","style":{"code":true}},{"type":"text","text":") but it appears on only a few linear solvers. This code is critical for an article we need to submit by Friday, so we have a huge incentive to get a robust wrapper by then "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"dbca0bf5-0d71-4386-ac8d-17edc94ae834","type":"message","text":"if you have a `CuSparseMatrixCSR` you want to factorize, it's as simple as:\n```lu_fac = lu(A)  # A is CuSparseMatrixCSR```\nthen the forward and backward solves for `Ax = b` can be run directly as\n```ldiv!(A, x) # update x inplace\n# or \nldiv!(x, A, b) ```","user":"UN2U72Q3F","ts":"1617624313.125700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nph9s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you have a "},{"type":"text","text":"CuSparseMatrixCSR","style":{"code":true}},{"type":"text","text":" you want to factorize, it's as simple as:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"lu_fac = lu(A)  # A is CuSparseMatrixCSR"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"then the forward and backward solves for "},{"type":"text","text":"Ax = b","style":{"code":true}},{"type":"text","text":" can be run directly as\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ldiv!(A, x) # update x inplace\n# or \nldiv!(x, A, b) "}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"770228bb-437e-40cb-b5fe-962fddea42ea","type":"message","text":"excellent I will see if I get speed up","user":"U7GQE9JP9","ts":"1617695508.128100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z3NS2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"excellent I will see if I get speed up"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"cd125b8f-7590-46d6-9f0e-57d7af858ed7","type":"message","text":"good luck with the code. You should then. PR to CUDA.jl your solver","user":"U7GQE9JP9","ts":"1617695531.128300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"37lDB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"good luck with the code. You should then. PR to CUDA.jl your solver"}]}]}],"thread_ts":"1617391937.123100","parent_user_id":"U7GQE9JP9","reactions":[{"name":"+1","users":["UN2U72Q3F"],"count":1}]}]