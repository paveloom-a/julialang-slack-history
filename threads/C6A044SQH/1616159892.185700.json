[{"client_msg_id":"41cb8297-48f6-4862-8373-250815b1fbb5","type":"message","text":"Is filtering a tuple unavoidably type unstable? E.g:\n```using InteractiveUtils\n\na = (1,2,3,4,5)\nb = (2,3)\n\nfunction my_filter(a,b)\n  c = filter(!in(b), a)\nend\n\n@code_warntype my_filter(a, b)```\nResults in:\n```Variables\n  #self#::Core.Const(my_filter)\n  a::NTuple{5, Int64}\n  b::Tuple{Int64, Int64}\n  c::**RED**Tuple{Vararg{Int64, N} where N}**RED**\n\nBody::**RED**Tuple{Vararg{Int64, N} where N}**RED**\n1 ─ %1 = (in)(b)::Base.Fix2{typeof(in), Tuple{Int64, Int64}}\n│   %2 = !%1::Base.var\"#76#77\"{Base.Fix2{typeof(in), Tuple{Int64, Int64}}}\n│   %3 = Main.filter(%2, a)**RED**::Tuple{Vararg{Int64, N} where N}**RED**\n│        (c = %3)\n└──      return %3```","user":"UEA5FBCRH","ts":"1616159892.185700","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1616159915.000000"},"blocks":[{"type":"rich_text","block_id":"05L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is filtering a tuple unavoidably type unstable? E.g:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using InteractiveUtils\n\na = (1,2,3,4,5)\nb = (2,3)\n\nfunction my_filter(a,b)\n  c = filter(!in(b), a)\nend\n\n@code_warntype my_filter(a, b)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Results in:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Variables\n  #self#::Core.Const(my_filter)\n  a::NTuple{5, Int64}\n  b::Tuple{Int64, Int64}\n  c::**RED**Tuple{Vararg{Int64, N} where N}**RED**\n\nBody::**RED**Tuple{Vararg{Int64, N} where N}**RED**\n1 ─ %1 = (in)(b)::Base.Fix2{typeof(in), Tuple{Int64, Int64}}\n│   %2 = !%1::Base.var\"#76#77\"{Base.Fix2{typeof(in), Tuple{Int64, Int64}}}\n│   %3 = Main.filter(%2, a)**RED**::Tuple{Vararg{Int64, N} where N}**RED**\n│        (c = %3)\n└──      return %3"}]}]}],"thread_ts":"1616159892.185700","reply_count":3,"reply_users_count":3,"latest_reply":"1616160009.186300","reply_users":["B01J9QZ4SP8","UEA5FBCRH","U7HAYKY9X"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616159893.185800","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616159892.185700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"0e9cdd0e-5a48-468a-97d7-21bf1f632d4b","type":"message","text":"Which actually makes sense if it is. So my follow-up question would be, is there a way to get around this fact? My goal is performance.","user":"UEA5FBCRH","ts":"1616159972.186100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q+lU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which actually makes sense if it is. So my follow-up question would be, is there a way to get around this fact? My goal is performance."}]}]}],"thread_ts":"1616159892.185700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"265505b2-b858-430d-9bac-d9779878882c","type":"message","text":"It is, yes. To get around it, you can perhaps \"pad\" the output tuple with sentinel values","user":"U7HAYKY9X","ts":"1616160009.186300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IYpW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is, yes. To get around it, you can perhaps \"pad\" the output tuple with sentinel values"}]}]}],"thread_ts":"1616159892.185700","parent_user_id":"UEA5FBCRH"}]