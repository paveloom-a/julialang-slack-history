[{"client_msg_id":"f585eef9-f57c-4b27-a418-589e1222af38","type":"message","text":"What `show` method should I display to make vectors abbreviated? I'm implementing a manual show method for a container - using `repr` , but if the container contains e.g. an array of 1000 numbers, they are ALL displayed in the REPL","user":"U7HAYKY9X","ts":"1614090795.198900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yc8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What "},{"type":"text","text":"show","style":{"code":true}},{"type":"text","text":" method should I display to make vectors abbreviated? I'm implementing a manual show method for a container - using "},{"type":"text","text":"repr","style":{"code":true}},{"type":"text","text":" , but if the container contains e.g. an array of 1000 numbers, they are ALL displayed in the REPL"}]}]}],"thread_ts":"1614090795.198900","reply_count":29,"reply_users_count":3,"latest_reply":"1614095311.205500","reply_users":["B01J9QZ4SP8","UBF9YRB6H","U7HAYKY9X"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614090797.199000","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"289e708e-dfb9-4d66-80c1-91ae93381cc6","type":"message","text":"`print`?","user":"UBF9YRB6H","ts":"1614091089.199400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/pFZR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"print","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"101af5d0-3a5c-49b8-9827-0194621fcb43","type":"message","text":"Nope, that doesn't return a string, and `sprint` shows e.g. `0x00`  as `0`","user":"U7HAYKY9X","ts":"1614091202.199600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"34Wu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope, that doesn't return a string, and "},{"type":"text","text":"sprint","style":{"code":true}},{"type":"text","text":" shows e.g. "},{"type":"text","text":"0x00","style":{"code":true}},{"type":"text","text":"  as "},{"type":"text","text":"0","style":{"code":true}}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"d8e813a9-7e20-4b88-a219-b13851d08f28","type":"message","text":"Wait im confused. Are you trying to print to a file?","user":"UBF9YRB6H","ts":"1614091436.200000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bCNio","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wait im confused. Are you trying to print to a file?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"0a4d4a9d-00a6-4686-b8c8-f57af763b8e4","type":"message","text":"Nope, just how it displays in the REPL","user":"U7HAYKY9X","ts":"1614091749.200200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mSC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope, just how it displays in the REPL"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"fae2a105-6888-47a4-964d-ca453b6283e9","type":"message","text":"wait then why do you want to return a string?","user":"UBF9YRB6H","ts":"1614091923.200400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xdq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait then why do you want to return a string?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"95164eda-3642-4f59-b970-aa63a8ab3051","type":"message","text":"Are you doing custom printing of a struct?","user":"UBF9YRB6H","ts":"1614091945.200600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GwX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you doing custom printing of a struct?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"cdac428e-6cd2-4efe-a817-d4e33f315fca","type":"message","text":"Yes, in the terminal. It would be fine not to get the string, actually","user":"U7HAYKY9X","ts":"1614091982.200800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wtqMe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, in the terminal. It would be fine not to get the string, actually"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"df955a83-fb5e-4ef1-b205-d2b37f50711f","type":"message","text":"hmmm I'm not sure exactly... this stuff always trips me up","user":"UBF9YRB6H","ts":"1614092154.201000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H913l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmm I'm not sure exactly... this stuff always trips me up"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"6828641d-36e7-42fc-867b-5fc6af7f73cf","type":"message","text":"I think its `display`","user":"UBF9YRB6H","ts":"1614092362.201200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gcv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think its "},{"type":"text","text":"display","style":{"code":true}}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"0e14692f-7723-45cc-a0ed-0e7c51c4fad3","type":"message","text":"I ended up just calling `show` for every object in the container. Hopefully that's good enough","user":"U7HAYKY9X","ts":"1614092455.201400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ARBj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I ended up just calling "},{"type":"text","text":"show","style":{"code":true}},{"type":"text","text":" for every object in the container. Hopefully that's good enough"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"1f5a8c5d-528a-4cfb-9ef1-404c6ead838c","type":"message","text":"That would just print the very long ones though, right?","user":"UBF9YRB6H","ts":"1614092808.201600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UEl+O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That would just print the very long ones though, right?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"6b7e22f1-a3b6-4b27-ae55-9d2e6769bc5e","type":"message","text":"Let me backtrack for a bit: My problem was basically this: I had a type `Foo{A, B, C}` with some number of parameters, and I wanted it to display regularly in the REPL - *except* don't print the type parameters","user":"U7HAYKY9X","ts":"1614093043.201800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qh+q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me backtrack for a bit: My problem was basically this: I had a type "},{"type":"text","text":"Foo{A, B, C}","style":{"code":true}},{"type":"text","text":" with some number of parameters, and I wanted it to display regularly in the REPL - "},{"type":"text","text":"except","style":{"bold":true}},{"type":"text","text":" don't print the type parameters"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"86b82790-beb8-467c-ae30-45abfdbbcaaf","type":"message","text":"So I wanted an instance `Foo{Int, Vector{UInt8}, Nothing}(15, UInt8[5, 11], nothing)` to display as `Foo(15, [0x05, 0x0b], nothing)`","user":"U7HAYKY9X","ts":"1614093095.202000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WTD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I wanted an instance "},{"type":"text","text":"Foo{Int, Vector{UInt8}, Nothing}(15, UInt8[5, 11], nothing)","style":{"code":true}},{"type":"text","text":" to display as "},{"type":"text","text":"Foo(15, [0x05, 0x0b], nothing)","style":{"code":true}}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"d61cf878-0971-41d2-a341-3a987151ec8d","type":"message","text":"yeah. i actually thought I had implemented that in a PR I made to Missings.jl. I was going to link to that as an example, but I think that isn't even working! <https://github.com/JuliaData/Missings.jl/issues/130>","user":"UBF9YRB6H","ts":"1614093141.202200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cZ1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah. i actually thought I had implemented that in a PR I made to Missings.jl. I was going to link to that as an example, but I think that isn't even working! "},{"type":"link","url":"https://github.com/JuliaData/Missings.jl/issues/130"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"2f4aef02-e7f6-42c5-b6f5-a7149440b351","type":"message","text":"wait the code is correct. maybe take inspiration from here: <https://github.com/JuliaData/Missings.jl/blob/927f794890d0111fa45fd3e2e7a225dc33a62702/src/Missings.jl#L307>","user":"UBF9YRB6H","ts":"1614093641.202800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lwN1t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait the code is correct. maybe take inspiration from here: "},{"type":"link","url":"https://github.com/JuliaData/Missings.jl/blob/927f794890d0111fa45fd3e2e7a225dc33a62702/src/Missings.jl#L307"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"40ce9237-428e-4e6b-b5a5-07cc975109b4","type":"message","text":"Unfortunately, that only works because the internal fields of a SkipMissing is always an iterator and not huge arraya, I think","user":"U7HAYKY9X","ts":"1614094043.203000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KpD9u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Unfortunately, that only works because the internal fields of a SkipMissing is always an iterator and not huge arraya, I think"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"45b24da2-4a3d-4db8-87d0-83ac3048f20b","type":"message","text":"no, they are big arrays.","user":"UBF9YRB6H","ts":"1614094164.203300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5X+F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, they are big arrays."}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"2d6e3631-8401-4256-92fd-91c1da0dd56a","type":"message","text":"Hm, that's not the method that ends up being called in the REPL though :thinking_face:","user":"U7HAYKY9X","ts":"1614094543.203500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gge","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, that's not the method that ends up being called in the REPL though "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"0b5280be-2d1c-4840-b595-2041fe024e8c","type":"message","text":"sorry, you want `sx, sy = skipmissings(rand(100), rand(100))` and then look at `sx`. The `skipmissings` function just returns a tuple of the more interesting `SkipMissings` objects.","user":"UBF9YRB6H","ts":"1614094761.203700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"djjrT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sorry, you want "},{"type":"text","text":"sx, sy = skipmissings(rand(100), rand(100))","style":{"code":true}},{"type":"text","text":" and then look at "},{"type":"text","text":"sx","style":{"code":true}},{"type":"text","text":". The "},{"type":"text","text":"skipmissings","style":{"code":true}},{"type":"text","text":" function just returns a tuple of the more interesting "},{"type":"text","text":"SkipMissings","style":{"code":true}},{"type":"text","text":" objects."}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"069d6604-44bd-4094-be25-c3eb148a9825","type":"message","text":"Right, but do you know which function is responsible for displaying it like that?","user":"U7HAYKY9X","ts":"1614094873.203900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KC3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, but do you know which function is responsible for displaying it like that?"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"f80a1609-e21c-4b0e-96d6-0d3e86a8702a","type":"message","text":"It's not this one, I think:\n```function Base.show(io::IO, mime::MIME\"text/plain\", itr::SkipMissings{V}) where V\n    print(io, SkipMissings, '{', V, '}', '(', itr.x, ')', \" comprised of \" *\n          \"$(length(itr.others) + 1) iterators\")\nend```\nbecause if you call it directly, it doesn't shorten the arrays","user":"U7HAYKY9X","ts":"1614094915.204100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"You","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's not this one, I think:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function Base.show(io::IO, mime::MIME\"text/plain\", itr::SkipMissings{V}) where V\n    print(io, SkipMissings, '{', V, '}', '(', itr.x, ')', \" comprised of \" *\n          \"$(length(itr.others) + 1) iterators\")\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"because if you call it directly, it doesn't shorten the arrays"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"e6ca0f10-264c-4c0f-8b04-3af08c02c475","type":"message","text":"```@which show(stdout, MIME(\"text/plain\"), sx)```\nIt does shorten the arrays ,you can see the `...` in there","user":"UBF9YRB6H","ts":"1614094935.204300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aeytY","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@which show(stdout, MIME(\"text/plain\"), sx)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nIt does shorten the arrays ,you can see the "},{"type":"text","text":"...","style":{"code":true}},{"type":"text","text":" in there"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"d9c03337-2d4b-4e42-8bc7-3e3a8beaaebe","type":"message","text":"```julia&gt; sx, sy = skipmissings(rand(100), rand(100));\n\njulia&gt; sx\nMissings.SkipMissings{Array{Float64,1}}([0.611900041193268, 0.5917441413282902, 0.1675354287610309, 0.5429939010556861, 0.9508339935958416, 0.6181829975238655, 0.33142900044495405, 0.28000394349860636, 0.26398001250144065, 0.8215082599992969  …  0.2949452477693213, 0.9179259045936301, 0.3819879066519749, 0.2616000301782273, 0.9192497561043937, 0.2037361853473625, 0.2002897624711919, 0.081274200894067, 0.18186280079817574, 0.6113028256055386]) comprised of 2 iterators```","user":"UBF9YRB6H","ts":"1614094974.204500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XST","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> sx, sy = skipmissings(rand(100), rand(100));\n\njulia> sx\nMissings.SkipMissings{Array{Float64,1}}([0.611900041193268, 0.5917441413282902, 0.1675354287610309, 0.5429939010556861, 0.9508339935958416, 0.6181829975238655, 0.33142900044495405, 0.28000394349860636, 0.26398001250144065, 0.8215082599992969  …  0.2949452477693213, 0.9179259045936301, 0.3819879066519749, 0.2616000301782273, 0.9192497561043937, 0.2037361853473625, 0.2002897624711919, 0.081274200894067, 0.18186280079817574, 0.6113028256055386]) comprised of 2 iterators"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"26913a94-d329-4d49-afc9-7d94384704b9","type":"message","text":"Yes, but that is not `show(stdout, MIME(\"text/plain\"), sx)`  - try running that","user":"U7HAYKY9X","ts":"1614095005.204700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YQHnV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, but that is not "},{"type":"text","text":"show(stdout, MIME(\"text/plain\"), sx)","style":{"code":true}},{"type":"text","text":"  - try running that"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"b73a5ad7-3ef0-4f4a-b479-4713de49a955","type":"message","text":"ohh you are right","user":"UBF9YRB6H","ts":"1614095064.204900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jLx09","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ohh you are right"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"9ebfb729-1577-4e92-806a-48150aaaff72","type":"message","text":"And it also has the issue of displaying `0x00`  as `0`  :(","user":"U7HAYKY9X","ts":"1614095065.205100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZmK7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And it also has the issue of displaying "},{"type":"text","text":"0x00","style":{"code":true}},{"type":"text","text":"  as "},{"type":"text","text":"0","style":{"code":true}},{"type":"text","text":"  :("}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"},{"client_msg_id":"5a549abc-2110-48d7-944a-d71c55b1afdd","type":"message","text":"This is closer\n\n```julia&gt; show(IOContext(stdout, :limit =&gt; true), MIME(\"text/plain\"), sx)\nMissings.SkipMissings{Array{Float64,1}}([0.611900041193268, 0.5917441413282902, 0.1675354287610309, 0.5429939010556861, 0.9508339935958416, 0.6181829975238655, 0.33142900044495405, 0.28000394349860636, 0.26398001250144065, 0.8215082599992969  …  0.2949452477693213, 0.9179259045936301, 0.3819879066519749, 0.2616000301782273, 0.9192497561043937, 0.2037361853473625, 0.2002897624711919, 0.081274200894067, 0.18186280079817574, 0.6113028256055386]) comprised of 2 iterators```","user":"UBF9YRB6H","ts":"1614095178.205300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FF7YM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is closer\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> show(IOContext(stdout, :limit => true), MIME(\"text/plain\"), sx)\nMissings.SkipMissings{Array{Float64,1}}([0.611900041193268, 0.5917441413282902, 0.1675354287610309, 0.5429939010556861, 0.9508339935958416, 0.6181829975238655, 0.33142900044495405, 0.28000394349860636, 0.26398001250144065, 0.8215082599992969  …  0.2949452477693213, 0.9179259045936301, 0.3819879066519749, 0.2616000301782273, 0.9192497561043937, 0.2037361853473625, 0.2002897624711919, 0.081274200894067, 0.18186280079817574, 0.6113028256055386]) comprised of 2 iterators"}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X","reactions":[{"name":"100","users":["U7HAYKY9X"],"count":1},{"name":"+1","users":["U7HAYKY9X"],"count":1}]},{"client_msg_id":"bbd55b28-49de-4f58-941c-9e0a6ceb280f","type":"message","text":"Ahh, perfect: `repr(rand(1000), context=IOContext(stdout, :limit=&gt;true))`","user":"U7HAYKY9X","ts":"1614095311.205500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VKgfb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ahh, perfect: "},{"type":"text","text":"repr(rand(1000), context=IOContext(stdout, :limit=>true))","style":{"code":true}}]}]}],"thread_ts":"1614090795.198900","parent_user_id":"U7HAYKY9X"}]