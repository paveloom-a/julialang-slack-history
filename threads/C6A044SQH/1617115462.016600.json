[{"client_msg_id":"cd0a77cb-9117-4853-9163-1c7325512d6a","type":"message","text":"I've got a weird broadcasting issue that I'm hitting. I'm working on `ITensorsGPU.jl`, which extends `ITensors.jl` to work with GPU storage. I'll post examples of what's going on in a thread.","user":"U6771NKS6","ts":"1617115462.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ciwb8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've got a weird broadcasting issue that I'm hitting. I'm working on "},{"type":"text","text":"ITensorsGPU.jl","style":{"code":true}},{"type":"text","text":", which extends "},{"type":"text","text":"ITensors.jl","style":{"code":true}},{"type":"text","text":" to work with GPU storage. I'll post examples of what's going on in a thread."}]}]}],"thread_ts":"1617115462.016600","reply_count":7,"reply_users_count":2,"latest_reply":"1617116588.023300","reply_users":["U6771NKS6","U01K0C8RG83"],"is_locked":false,"subscribed":false},{"client_msg_id":"ba1626ee-63f3-41fd-a9de-24048c22a57c","type":"message","text":"```julia&gt; using ITensors\n\njulia&gt; sites = [Index(2,\"Site\") for n in 1:10];\n\njulia&gt; psi = randomMPS(sites)\nMPS\n[1] IndexSet{2} (dim=2|id=811|\"Site\") (dim=1|id=846|\"Link,l=1\")\n[2] IndexSet{3} (dim=1|id=846|\"Link,l=1\") (dim=2|id=4|\"Site\") (dim=1|id=795|\"Link,l=2\")\n[3] IndexSet{3} (dim=1|id=795|\"Link,l=2\") (dim=2|id=604|\"Site\") (dim=1|id=491|\"Link,l=3\")\n[4] IndexSet{3} (dim=1|id=491|\"Link,l=3\") (dim=2|id=637|\"Site\") (dim=1|id=843|\"Link,l=4\")\n[5] IndexSet{3} (dim=1|id=843|\"Link,l=4\") (dim=2|id=599|\"Site\") (dim=1|id=290|\"Link,l=5\")\n[6] IndexSet{3} (dim=1|id=290|\"Link,l=5\") (dim=2|id=806|\"Site\") (dim=1|id=383|\"Link,l=6\")\n[7] IndexSet{3} (dim=1|id=383|\"Link,l=6\") (dim=2|id=42|\"Site\") (dim=1|id=21|\"Link,l=7\")\n[8] IndexSet{3} (dim=1|id=21|\"Link,l=7\") (dim=2|id=363|\"Site\") (dim=1|id=172|\"Link,l=8\")\n[9] IndexSet{3} (dim=1|id=172|\"Link,l=8\") (dim=2|id=737|\"Site\") (dim=1|id=557|\"Link,l=9\")\n[10] IndexSet{2} (dim=1|id=557|\"Link,l=9\") (dim=2|id=55|\"Site\")\n\n\njulia&gt; is = [randomITensor(s) for s in sites];\n\njulia&gt; psi .* is;```","user":"U6771NKS6","ts":"1617115561.016700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NPMj","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using ITensors\n\njulia> sites = [Index(2,\"Site\") for n in 1:10];\n\njulia> psi = randomMPS(sites)\nMPS\n[1] IndexSet{2} (dim=2|id=811|\"Site\") (dim=1|id=846|\"Link,l=1\")\n[2] IndexSet{3} (dim=1|id=846|\"Link,l=1\") (dim=2|id=4|\"Site\") (dim=1|id=795|\"Link,l=2\")\n[3] IndexSet{3} (dim=1|id=795|\"Link,l=2\") (dim=2|id=604|\"Site\") (dim=1|id=491|\"Link,l=3\")\n[4] IndexSet{3} (dim=1|id=491|\"Link,l=3\") (dim=2|id=637|\"Site\") (dim=1|id=843|\"Link,l=4\")\n[5] IndexSet{3} (dim=1|id=843|\"Link,l=4\") (dim=2|id=599|\"Site\") (dim=1|id=290|\"Link,l=5\")\n[6] IndexSet{3} (dim=1|id=290|\"Link,l=5\") (dim=2|id=806|\"Site\") (dim=1|id=383|\"Link,l=6\")\n[7] IndexSet{3} (dim=1|id=383|\"Link,l=6\") (dim=2|id=42|\"Site\") (dim=1|id=21|\"Link,l=7\")\n[8] IndexSet{3} (dim=1|id=21|\"Link,l=7\") (dim=2|id=363|\"Site\") (dim=1|id=172|\"Link,l=8\")\n[9] IndexSet{3} (dim=1|id=172|\"Link,l=8\") (dim=2|id=737|\"Site\") (dim=1|id=557|\"Link,l=9\")\n[10] IndexSet{2} (dim=1|id=557|\"Link,l=9\") (dim=2|id=55|\"Site\")\n\n\njulia> is = [randomITensor(s) for s in sites];\n\njulia> psi .* is;"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"e71b1a82-b841-4f0b-98ba-789495020713","type":"message","text":"all good!","user":"U6771NKS6","ts":"1617115563.016900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kjxU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"all good!"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"a3e5c5a2-fcee-40c6-a6c0-600a03d36c23","type":"message","text":"Hi <@U6771NKS6> I am jumping on this thread to ask you a quick ITensors question maybe ?","user":"U01K0C8RG83","ts":"1617115660.017100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jvZ3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi "},{"type":"user","user_id":"U6771NKS6"},{"type":"text","text":" I am jumping on this thread to ask you a quick ITensors question maybe ?"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"4f849ea9-b323-43e7-9440-c99589d6a7af","type":"message","text":"could you start a new thread?","user":"U6771NKS6","ts":"1617115745.017300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JTA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could you start a new thread?"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"d6ee58f3-abd9-4c8f-bba2-b104b34aaa80","type":"message","text":"```julia&gt; using ITensorsGPU\n\njulia&gt; psi .* is\nERROR: ArgumentError: broadcasting requires an assigned BroadcastStyle\nStacktrace:\n [1] copy(bc::Base.Broadcast.Broadcasted{Base.Broadcast.Unknown, Tuple{Base.OneTo{Int64}}, typeof(*), Tuple{MPS, Vector{ITensor}}})\n   @ Base.Broadcast ./broadcast.jl:899\n [2] materialize(bc::Base.Broadcast.Broadcasted{Base.Broadcast.Unknown, Nothing, typeof(*), Tuple{MPS, Vector{ITensor}}})\n   @ Base.Broadcast ./broadcast.jl:883\n [3] top-level scope\n   @ REPL[12]:1```","user":"U6771NKS6","ts":"1617115765.017500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RtaA","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using ITensorsGPU\n\njulia> psi .* is\nERROR: ArgumentError: broadcasting requires an assigned BroadcastStyle\nStacktrace:\n [1] copy(bc::Base.Broadcast.Broadcasted{Base.Broadcast.Unknown, Tuple{Base.OneTo{Int64}}, typeof(*), Tuple{MPS, Vector{ITensor}}})\n   @ Base.Broadcast ./broadcast.jl:899\n [2] materialize(bc::Base.Broadcast.Broadcasted{Base.Broadcast.Unknown, Nothing, typeof(*), Tuple{MPS, Vector{ITensor}}})\n   @ Base.Broadcast ./broadcast.jl:883\n [3] top-level scope\n   @ REPL[12]:1"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"cacc0e9c-1b04-48ea-a5a7-84708ed54774","type":"message","text":"Not sure why importing `ITensorsGPU` all of a sudden breaks broadcasting but it's very odd","user":"U6771NKS6","ts":"1617115780.017700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tD8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure why importing "},{"type":"text","text":"ITensorsGPU","style":{"code":true}},{"type":"text","text":" all of a sudden breaks broadcasting but it's very odd"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"},{"client_msg_id":"2c3ce6d9-c7f9-4274-a973-ac1872888715","type":"message","text":"the `randomMPS` has the same underlying storage type in both cases, it's very confusing to me that importing the package somehow \"unwrites\" the broadcasting info","user":"U6771NKS6","ts":"1617116588.023300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NbO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the "},{"type":"text","text":"randomMPS","style":{"code":true}},{"type":"text","text":" has the same underlying storage type in both cases, it's very confusing to me that importing the package somehow \"unwrites\" the broadcasting info"}]}]}],"thread_ts":"1617115462.016600","parent_user_id":"U6771NKS6"}]