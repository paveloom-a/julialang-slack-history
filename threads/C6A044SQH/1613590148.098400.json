[{"client_msg_id":"b84f6173-bfeb-41a7-acff-9a41e9154bcf","type":"message","text":"Is there a way to get the second to the last index of a vector, generally.  For example `for i in 2:length(vec)` works but that assumes 1-based indexing.  I'd like something like `for i in eachindex(vec, offset=1)`?","user":"U6J06TCQ0","ts":"1613590148.098400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vdZtO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to get the second to the last index of a vector, generally.  For example "},{"type":"text","text":"for i in 2:length(vec)","style":{"code":true}},{"type":"text","text":" works but that assumes 1-based indexing.  I'd like something like "},{"type":"text","text":"for i in eachindex(vec, offset=1)","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613590148.098400","reply_count":21,"reply_users_count":6,"latest_reply":"1613654585.147100","reply_users":["B01J9QZ4SP8","UH8A351DJ","U68QW0PUZ","U6J06TCQ0","UM30MT6RF","UD0NS8PDF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1613590151.098500","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"1c508c92-a5ed-4a62-9d8d-b50cd79c5e68","type":"message","text":"```julia&gt; a = OffsetArray(1:10, 3)\n1:10 with indices 4:13\n\njulia&gt; collect(firstindex(a)+1:lastindex(a))\n9-element Vector{Int64}:\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13```\nnot sure if this is optimal","user":"UH8A351DJ","ts":"1613590292.099500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N=E","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> a = OffsetArray(1:10, 3)\n1:10 with indices 4:13\n\njulia> collect(firstindex(a)+1:lastindex(a))\n9-element Vector{Int64}:\n  5\n  6\n  7\n  8\n  9\n 10\n 11\n 12\n 13"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"not sure if this is optimal"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"a2b7d9f2-09d0-4776-85e3-e734e83225d8","type":"message","text":"if you're accessing element, you can do `vec[begin+1:end]`, but it seems to me you want the index explicitly","user":"UH8A351DJ","ts":"1613590315.099700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ujz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you're accessing element, you can do "},{"type":"text","text":"vec[begin+1:end]","style":{"code":true}},{"type":"text","text":", but it seems to me you want the index explicitly"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"7cfd5a72-84e3-4213-b431-28149ef6d8c8","type":"message","text":"right.  `secondtolastindex(x) = lastindex(x) - 1`","user":"U68QW0PUZ","ts":"1613590431.099900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3M5lS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right.  "},{"type":"text","text":"secondtolastindex(x) = lastindex(x) - 1","style":{"code":true}}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"373f6deb-ea17-4e9a-92ef-6fb5a864cf26","type":"message","text":"I think OP meant second (index) to last (index), not \"second to last\" index","user":"UH8A351DJ","ts":"1613590572.100100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"niV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think OP meant second (index) to last (index), not \"second to last\" index"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"ac41f135-1ef8-447a-b358-af4a9d69d55a","type":"message","text":"Yes. From second index. To last index.","user":"U6J06TCQ0","ts":"1613590996.100300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+6S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. From second index. To last index."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"6454a515-3723-4401-93c6-5180be1347a1","type":"message","text":"I know I can do it by creating my own function but I'm trying to show how easy Julia is to use for newcomers so I was wondering if there was a built in way to do it.","user":"U6J06TCQ0","ts":"1613591530.100500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ju4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I know I can do it by creating my own function but I'm trying to show how easy Julia is to use for newcomers so I was wondering if there was a built in way to do it."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"455cfd2a-75c6-4606-995f-c32d1d78b562","type":"message","text":"I thought `firstindex(ary)+1:lastindex(ary)` is very easy to understand?","user":"UH8A351DJ","ts":"1613592454.100900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uOxNh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought "},{"type":"text","text":"firstindex(ary)+1:lastindex(ary)","style":{"code":true}},{"type":"text","text":" is very easy to understand?"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"54949d1b-aed7-45ee-88cd-377a886b07c2","type":"message","text":"Or just use `eachindex(a)[2:end]`","user":"UM30MT6RF","ts":"1613592584.101100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b9L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or just use "},{"type":"text","text":"eachindex(a)[2:end]","style":{"code":true}}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0","reactions":[{"name":"joy","users":["UH8A351DJ"],"count":1}]},{"type":"message","text":"","files":[{"id":"F01NFN2G4D9","created":1613592681,"timestamp":1613592681,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UH8A351DJ","editable":false,"size":75185,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01NFN2G4D9/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01NFN2G4D9/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_360.png","thumb_360_w":360,"thumb_360_h":88,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_480.png","thumb_480_w":480,"thumb_480_h":117,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_720.png","thumb_720_w":720,"thumb_720_h":176,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_800.png","thumb_800_w":800,"thumb_800_h":196,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_960.png","thumb_960_w":960,"thumb_960_h":235,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01NFN2G4D9-998cdbb2a5/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":250,"original_w":1141,"original_h":279,"thumb_tiny":"AwALADCp/npQfx/KlByOaCKAGYowfSlNHagBMH0opaSgD//Z","permalink":"https://julialang.slack.com/files/UH8A351DJ/F01NFN2G4D9/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01NFN2G4D9-ebfb722c73","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"UH8A351DJ","display_as_bot":false,"ts":"1613592683.101500","thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"397eee9a-5bb4-4f23-8b0d-a58ae109d4ea","type":"message","text":"snap","user":"UH8A351DJ","ts":"1613592686.101700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ofdm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"snap"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"de36d01f-01e6-4521-9135-94f7f9b02558","type":"message","text":"Then nvm:grin:","user":"UM30MT6RF","ts":"1613593020.102000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/uu5l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then nvm"},{"type":"emoji","name":"grin"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"2ed81eb8-a8b3-4d80-9956-479fcedc1a14","type":"message","text":"this looks like a bug though. I'd expect it to return a normalized `a:b` that has the correct index","user":"UH8A351DJ","ts":"1613593397.102200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4a=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this looks like a bug though. I'd expect it to return a normalized "},{"type":"text","text":"a:b","style":{"code":true}},{"type":"text","text":" that has the correct index"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"6bd16a16-caed-4739-86d9-921d01426e25","type":"message","text":"I think this is expected for `IdUnitRange`, but not quite sure why it was done this way","user":"UM30MT6RF","ts":"1613593450.102400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zwA8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this is expected for "},{"type":"text","text":"IdUnitRange","style":{"code":true}},{"type":"text","text":", but not quite sure why it was done this way"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"8e0a3d59-dac9-4fbd-a305-a119e617d37c","type":"message","text":"Offset arrays have weird axes, which are themselves offset. Edit — oh that’s what you said, I mis-read.","user":"UD0NS8PDF","ts":"1613594746.102600","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1613594785.000000"},"blocks":[{"type":"rich_text","block_id":"GHJH1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Offset arrays have weird axes, which are themselves offset. Edit — oh that’s what you said, I mis-read."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"4738b236-3977-4baa-81c3-8c8c9ba4362f","type":"message","text":"You can do `Iterators.drop(eachindex(zeros(-3:3)),1) |&gt; collect`","user":"UD0NS8PDF","ts":"1613594825.103100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8aO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can do "},{"type":"text","text":"Iterators.drop(eachindex(zeros(-3:3)),1) |> collect","style":{"code":true}}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"51cb5733-11a8-492f-97d6-e24bf44ba1b4","type":"message","text":"OK, but that is intimidating for a presentation trying to show how simple Julia is to prospective users.  I think for now I'll just use `2:length(arr)`.  Also, I don't want to `collect` and take up memory.","user":"U6J06TCQ0","ts":"1613601642.119800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YL6LF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, but that is intimidating for a presentation trying to show how simple Julia is to prospective users.  I think for now I'll just use "},{"type":"text","text":"2:length(arr)","style":{"code":true}},{"type":"text","text":".  Also, I don't want to "},{"type":"text","text":"collect","style":{"code":true}},{"type":"text","text":" and take up memory."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"464500f3-ea8c-4d89-80c6-9315652a42f0","type":"message","text":"Sorry I’m just making something which prints the answer. `for i in Iterators.drop(eachindex(x), 1)` still isn’t beautiful, perhaps… you can write `using Base.Iterators: drop` to avoid qualifying that.","user":"UD0NS8PDF","ts":"1613601843.120000","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1613601907.000000"},"blocks":[{"type":"rich_text","block_id":"ICmTp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry I’m just making something which prints the answer. "},{"type":"text","text":"for i in Iterators.drop(eachindex(x), 1)","style":{"code":true}},{"type":"text","text":" still isn’t beautiful, perhaps… you can write "},{"type":"text","text":"using Base.Iterators: drop","style":{"code":true}},{"type":"text","text":" to avoid qualifying that."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"0f1423c7-e9ae-434d-a7ee-c22e7c65a908","type":"message","text":"or `x[2:end]`","user":"U68QW0PUZ","ts":"1613601893.120200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MoqG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or "},{"type":"text","text":"x[2:end]","style":{"code":true}}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"3f6b728b-8917-43a2-ab92-f9230df68b90","type":"message","text":"if it's for perspective user, I don't understand why you need to bother them with OffsetArray.... just say you can have arbitrary-index array don't show the code","user":"UH8A351DJ","ts":"1613602950.120500","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1613602968.000000"},"blocks":[{"type":"rich_text","block_id":"e1bGT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it's for perspective user, I don't understand why you need to bother them with OffsetArray.... just say you can have arbitrary-index array don't show the code"}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"},{"client_msg_id":"55dcdd19-d8e4-4bf6-b203-de311cf86c99","type":"message","text":"That's what I'll do. I just wanted to check if I was missing some obvious way to do it that was also very simple.","user":"U6J06TCQ0","ts":"1613654585.147100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6=D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's what I'll do. I just wanted to check if I was missing some obvious way to do it that was also very simple."}]}]}],"thread_ts":"1613590148.098400","parent_user_id":"U6J06TCQ0"}]