[{"client_msg_id":"e3434088-dad5-4168-910f-229dae6a9811","type":"message","text":"I noticed a strange behavior where the presence of an additional newline inside an array changes the contents of the array. Is this a bug?\n```julia&gt; [[1, 2]\n       ]\n1-element Array{Array{Int64,1},1}:\n [1, 2]\n\njulia&gt; [[1, 2]\n\n       ]\n2-element Array{Int64,1}:\n 1\n 2```","user":"U68M6ERG8","ts":"1611352057.157300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I9Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed a strange behavior where the presence of an additional newline inside an array changes the contents of the array. Is this a bug?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [[1, 2]\n       ]\n1-element Array{Array{Int64,1},1}:\n [1, 2]\n\njulia> [[1, 2]\n\n       ]\n2-element Array{Int64,1}:\n 1\n 2"}]}]}],"thread_ts":"1611352057.157300","reply_count":17,"reply_users_count":3,"latest_reply":"1611534847.272500","reply_users":["U68M6ERG8","UH8A351DJ","U01HD5VFXJM"],"subscribed":false},{"client_msg_id":"760bff7a-7275-4dc7-99ff-7c4c716145eb","type":"message","text":"My original formatting was more symmetric and behaves the same:\n```julia&gt; [\n           [1, 2]\n       ]\n1-element Array{Array{Int64,1},1}:\n [1, 2]\n\njulia&gt; [\n           [1, 2]\n\n       ]\n2-element Array{Int64,1}:\n 1\n 2```","user":"U68M6ERG8","ts":"1611352124.157400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N1=8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My original formatting was more symmetric and behaves the same:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [\n           [1, 2]\n       ]\n1-element Array{Array{Int64,1},1}:\n [1, 2]\n\njulia> [\n           [1, 2]\n\n       ]\n2-element Array{Int64,1}:\n 1\n 2"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"8f938a00-3164-4dd3-a4e7-7e1b722695ac","type":"message","text":"I think the second one is equivalent to:\n```julia&gt; [[1, 2];\n       ]\nand\njulia&gt; [[1, 2];]```","user":"UH8A351DJ","ts":"1611352145.157600","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611352163.000000"},"blocks":[{"type":"rich_text","block_id":"bbI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the second one is equivalent to:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [[1, 2];\n       ]\nand\njulia> [[1, 2];]"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"f8642428-d399-45a1-ab55-665b1e1ff864","type":"message","text":"so it comes down to `[[1,2]]` vs. `[[1,2];]`","user":"UH8A351DJ","ts":"1611352175.157900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/eU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so it comes down to "},{"type":"text","text":"[[1,2]]","style":{"code":true}},{"type":"text","text":" vs. "},{"type":"text","text":"[[1,2];]","style":{"code":true}}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"05f913dc-2a7f-49ed-af8a-720621fa9d75","type":"message","text":"which is intended I guess:\n```julia&gt; [1:3;2;3]\n5-element Vector{Int64}:\n 1\n 2\n 3\n 2\n 3\n\njulia&gt; [1:3,2,3]\n3-element Vector{Any}:\n  1:3\n 2\n 3```","user":"UH8A351DJ","ts":"1611352180.158100","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611352217.000000"},"blocks":[{"type":"rich_text","block_id":"s281L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is intended I guess:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [1:3;2;3]\n5-element Vector{Int64}:\n 1\n 2\n 3\n 2\n 3\n\njulia> [1:3,2,3]\n3-element Vector{Any}:\n  1:3\n 2\n 3"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"f46ea79e-96d2-49d5-b42f-681d2594dcc8","type":"message","text":"Both of those return the same value for me:\n```julia&gt; [[1, 2];\n       ]\n2-element Array{Int64,1}:\n 1\n 2\n\njulia&gt; [[1, 2];]\n2-element Array{Int64,1}:\n 1\n 2```","user":"U68M6ERG8","ts":"1611352323.158500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YLW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Both of those return the same value for me:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [[1, 2];\n       ]\n2-element Array{Int64,1}:\n 1\n 2\n\njulia> [[1, 2];]\n2-element Array{Int64,1}:\n 1\n 2"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"a2f1521a-e9cd-4995-a421-aee9d25736ab","type":"message","text":"yeah exactly, I meant this is equivalent to having an extra newline","user":"UH8A351DJ","ts":"1611352382.158800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"scd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah exactly, I meant this is equivalent to having an extra newline"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"2bc1327f-38d8-47f0-829f-0c2bd2f6e7f5","type":"message","text":"<https://github.com/JuliaLang/julia/blob/master/doc/src/manual/arrays.md#concatenationid-man-array-concatenation> talks about the semicolon/newline syntax when \"arguments are separated by semicolons\", but in this case there's only one argument, so it seems like an edge case","user":"U68M6ERG8","ts":"1611352407.159000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ktP","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/doc/src/manual/arrays.md#concatenationid-man-array-concatenation"},{"type":"text","text":" talks about the semicolon/newline syntax when \"arguments are separated by semicolons\", but in this case there's only one argument, so it seems like an edge case"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"bf8805f5-08b7-4955-97f2-2a612b209535","type":"message","text":"right","user":"U68M6ERG8","ts":"1611352410.159200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kcPI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"1d945e3c-0212-4662-9fe2-4536459061ea","type":"message","text":"I ran into this by accident with OffsetArrays\n```julia&gt; using OffsetArrays\n\njulia&gt; [OffsetArray(collect(1:11), -5:5)\n\n       ]\nERROR: ArgumentError: offset arrays are not supported but got an array with index other than 1\nStacktrace:\n [1] require_one_based_indexing at ./abstractarray.jl:89 [inlined]\n [2] setindex! at ./array.jl:855 [inlined]\n [3] _typed_vcat(::Type{Int64}, ::Tuple{OffsetArray{Int64,1,Array{Int64,1}}}) at ./abstractarray.jl:1385\n [4] typed_vcat at ./abstractarray.jl:1453 [inlined]\n [5] vcat(::OffsetArray{Int64,1,Array{Int64,1}}) at ./abstractarray.jl:1368\n [6] top-level scope at REPL[2]:1```","user":"U68M6ERG8","ts":"1611352452.159400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dIot","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I ran into this by accident with OffsetArrays\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using OffsetArrays\n\njulia> [OffsetArray(collect(1:11), -5:5)\n\n       ]\nERROR: ArgumentError: offset arrays are not supported but got an array with index other than 1\nStacktrace:\n [1] require_one_based_indexing at ./abstractarray.jl:89 [inlined]\n [2] setindex! at ./array.jl:855 [inlined]\n [3] _typed_vcat(::Type{Int64}, ::Tuple{OffsetArray{Int64,1,Array{Int64,1}}}) at ./abstractarray.jl:1385\n [4] typed_vcat at ./abstractarray.jl:1453 [inlined]\n [5] vcat(::OffsetArray{Int64,1,Array{Int64,1}}) at ./abstractarray.jl:1368\n [6] top-level scope at REPL[2]:1"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"dd4b6538-9197-4332-b890-120caa9b33ae","type":"message","text":"where I meant to create an array with a single OffsetArray element","user":"U68M6ERG8","ts":"1611352470.159600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j85","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where I meant to create an array with a single OffsetArray element"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"63049599-8a3a-492f-ba67-d5b0f23648c0","type":"message","text":"I originally had a comment on the line that is empty, and initially thought the comment was causing the change in behavior, but it turned out to be the extra line","user":"U68M6ERG8","ts":"1611352526.159800","team":"T68168MUP","edited":{"user":"U68M6ERG8","ts":"1611352532.000000"},"blocks":[{"type":"rich_text","block_id":"Rbt4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I originally had a comment on the line that is empty, and initially thought the comment was causing the change in behavior, but it turned out to be the extra line"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"19d44fe5-a83d-4d2a-b449-4820d8cb5a87","type":"message","text":"Since I've been working on the parser for arrays, I took a look and think I have a fix.","user":"U01HD5VFXJM","ts":"1611529793.269600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qv+j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Since I've been working on the parser for arrays, I took a look and think I have a fix."}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"06551433-9d19-4333-b252-e177e788edae","type":"message","text":"Correction: I have a fix that will work in the PR I'm submitting, I'm not confident where it would go in the current matrix parser; it's significantly different.","user":"U01HD5VFXJM","ts":"1611530121.269800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nc20","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Correction: I have a fix that will work in the PR I'm submitting, I'm not confident where it would go in the current matrix parser; it's significantly different."}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"f0f943c2-b11a-41a0-8b21-28d3d2ad1716","type":"message","text":"Thanks <@U01HD5VFXJM>! If your PR is merged, will this issue be fixed for all arrays (not just fancier multidimensional arrays with semicolons)?","user":"U68M6ERG8","ts":"1611534762.271900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vcs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"U01HD5VFXJM"},{"type":"text","text":"! If your PR is merged, will this issue be fixed for all arrays (not just fancier multidimensional arrays with semicolons)?"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8","reactions":[{"name":"tada","users":["U68M6ERG8"],"count":1}]},{"client_msg_id":"ec007353-defe-4a0a-b06b-b04299e7259b","type":"message","text":"Yep!","user":"U01HD5VFXJM","ts":"1611534837.272100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/8pEZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep!"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"ccb64a7a-48cb-4c6e-a822-d53b682d31ca","type":"message","text":"woot","user":"U68M6ERG8","ts":"1611534841.272300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EmkWX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"woot"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"},{"client_msg_id":"d58b5a39-49dc-491f-8497-078a79cc3580","type":"message","text":"thanks again!!","user":"U68M6ERG8","ts":"1611534847.272500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BSjeN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks again!!"}]}]}],"thread_ts":"1611352057.157300","parent_user_id":"U68M6ERG8"}]