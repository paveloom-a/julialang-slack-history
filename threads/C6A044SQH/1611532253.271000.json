[{"client_msg_id":"e041fe96-2e18-42ef-9242-c43908663c16","type":"message","text":"I found the following to be unexpected, and was surprised I didn't encounter it before.  What is the correct way to specify a type alias with constraints?\n\n\n```julia&gt; Barry{A, B} = Array{A, B} where {A&lt;:Real}\nArray{A,B} where A&lt;:Real where B\n\njulia&gt; Barry{Int, 3}\nERROR: TypeError: in Type, in A, expected A&lt;:Real, got a value of type Int64\nStacktrace:\n [1] top-level scope at REPL[47]:1\n\njulia&gt; Barry{3, Int}\nArray{Int64,3}```","user":"U66G4838Q","ts":"1611532253.271000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PznGx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I found the following to be unexpected, and was surprised I didn't encounter it before.  What is the correct way to specify a type alias with constraints?\n\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Barry{A, B} = Array{A, B} where {A<:Real}\nArray{A,B} where A<:Real where B\n\njulia> Barry{Int, 3}\nERROR: TypeError: in Type, in A, expected A<:Real, got a value of type Int64\nStacktrace:\n [1] top-level scope at REPL[47]:1\n\njulia> Barry{3, Int}\nArray{Int64,3}"}]}]}],"thread_ts":"1611532253.271000","reply_count":12,"reply_users_count":3,"latest_reply":"1611573789.288000","reply_users":["UM30MT6RF","U66G4838Q","UDHCV0BHD"],"subscribed":false},{"client_msg_id":"f0149b96-ded5-43a4-b4d8-52284d9435bb","type":"message","text":"You probably want either `Barry{A&lt;:Real, B} = Array{A, B}` or `const Barry = Array{A, B} where {A&lt;:Real, B}`","user":"UM30MT6RF","ts":"1611532458.271100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FICT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You probably want either "},{"type":"text","text":"Barry{A<:Real, B} = Array{A, B}","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"const Barry = Array{A, B} where {A<:Real, B}","style":{"code":true}}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"24c71e6f-1645-43b3-8b51-58178b578818","type":"message","text":"Thanks, what's the logic behind the apparent reversal?","user":"U66G4838Q","ts":"1611532505.271300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wj7Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, what's the logic behind the apparent reversal?"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"76377760-6344-45c3-b975-84893f619daf","type":"message","text":"The problem is that `Array{A, B} where {A&lt;:Real}` already creates a typevar called `A`, but the `Barry{A, B}` is trying to introduce another typevar with the same name, so the order is switched around. This should probably throw an error during construction","user":"UM30MT6RF","ts":"1611532559.271500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xIY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The problem is that "},{"type":"text","text":"Array{A, B} where {A<:Real}","style":{"code":true}},{"type":"text","text":" already creates a typevar called "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":", but the "},{"type":"text","text":"Barry{A, B}","style":{"code":true}},{"type":"text","text":" is trying to introduce another typevar with the same name, so the order is switched around. This should probably throw an error during construction"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"744a9ea3-ddf6-480c-82d3-2fdfe8dedef6","type":"message","text":"Thanks!","user":"U66G4838Q","ts":"1611532934.271700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2MI6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"ef77713e-ceae-4b6f-afe7-fc621c855105","type":"message","text":"I think, that should be either an error during the definition of `Barry` or `Barry{Int,3}` should succeed and return `Array{Int,3}`.","user":"UDHCV0BHD","ts":"1611571357.286200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tMF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think, that should be either an error during the definition of "},{"type":"text","text":"Barry","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"Barry{Int,3}","style":{"code":true}},{"type":"text","text":" should succeed and return "},{"type":"text","text":"Array{Int,3}","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"7c2d734c-068b-4fb2-976e-e498d179aa0a","type":"message","text":"The explanation given by <@UM30MT6RF> does not cover the following variant:\n```julia&gt; Barry{A, B} = Array{C, B} where {C&lt;:Real}\nArray{C, B} where C&lt;:Real where B\n\njulia&gt; Barry{Int,3}\nERROR: TypeError: in Type, in C, expected C&lt;:Real, got a value of type Int64\nStacktrace:\n [1] top-level scope\n   @ REPL[1]:1\n\njulia&gt; Barry{3,Int}\nArray{Int64, 3}```\n","user":"UDHCV0BHD","ts":"1611571411.286400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ftHV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The explanation given by "},{"type":"user","user_id":"UM30MT6RF"},{"type":"text","text":" does not cover the following variant:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Barry{A, B} = Array{C, B} where {C<:Real}\nArray{C, B} where C<:Real where B\n\njulia> Barry{Int,3}\nERROR: TypeError: in Type, in C, expected C<:Real, got a value of type Int64\nStacktrace:\n [1] top-level scope\n   @ REPL[1]:1\n\njulia> Barry{3,Int}\nArray{Int64, 3}"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"89e4cfe3-7a18-4d19-b89f-df5a2d2298d0","type":"message","text":"The `A` in your example is just unused, so it's the same as something like `Int where A`","user":"UM30MT6RF","ts":"1611571658.286600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UpQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" in your example is just unused, so it's the same as something like "},{"type":"text","text":"Int where A","style":{"code":true}}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"f4188d69-cc03-40c3-963e-74a3d3c3383e","type":"message","text":"Yes, but that is the same as in the original example. I just wanted to point out, that the `A` of the lhs is not relevant for the rhs.","user":"UDHCV0BHD","ts":"1611571894.287000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iQwE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, but that is the same as in the original example. I just wanted to point out, that the "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" of the lhs is not relevant for the rhs."}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"77b37786-b275-43d1-9c57-e21e2ffca0ce","type":"message","text":"Yes, that's true","user":"UM30MT6RF","ts":"1611571973.287200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pe9I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that's true"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"bfd3f80d-f723-4b43-b3cb-54a3bf93c8de","type":"message","text":"Would you agree, that this is worth an issue?","user":"UDHCV0BHD","ts":"1611572470.287400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UXX03","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would you agree, that this is worth an issue?"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"d2a03eed-bc98-42e7-ac20-f77178fb9b21","type":"message","text":"I found <https://github.com/JuliaLang/julia/issues/25642>","user":"UM30MT6RF","ts":"1611572664.287600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/G=K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I found "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/25642"}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"},{"client_msg_id":"e9c20d0f-a2ce-4a7a-8c00-9d484eb40ccc","type":"message","text":"Good! I think that could be the root cause. I will bump that and add this example.","user":"UDHCV0BHD","ts":"1611573789.288000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8N=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good! I think that could be the root cause. I will bump that and add this example."}]}]}],"thread_ts":"1611532253.271000","parent_user_id":"U66G4838Q"}]