[{"client_msg_id":"be5f931a-c5a2-44c5-9965-0f25267581a4","type":"message","text":"I need some help with handling missing data in DataFrames.\nLet’s say I have a DataFrame with a column of text, some of whose values are missing, and a function that operates on that text.\n\n`f(s) = isnothing(match(r\"ext\", s)) ? \"\" : s[2:end]`\n\n`df = DataFrame(:a=&gt;[\"text\", missing, \"more text\"], :b=&gt;rand(3))`\n\nI want to get back a DataFrame with column :a modified to contain the results of f(s) where it is not missing.\nShould be easy-peasy but I  can’t figure out the syntax from the DataFrames documentation.\n\nAny ideas?","user":"ULKHN71K3","ts":"1614957990.411200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wPLNn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I need some help with handling missing data in DataFrames.\nLet’s say I have a DataFrame with a column of text, some of whose values are missing, and a function that operates on that text.\n\n"},{"type":"text","text":"f(s) = isnothing(match(r\"ext\", s)) ? \"\" : s[2:end]","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"df = DataFrame(:a=>[\"text\", missing, \"more text\"], :b=>rand(3))","style":{"code":true}},{"type":"text","text":"\n\nI want to get back a DataFrame with column :a modified to contain the results of f(s) where it is not missing.\nShould be easy-peasy but I  can’t figure out the syntax from the DataFrames documentation.\n\nAny ideas?"}]}]}],"thread_ts":"1614957990.411200","reply_count":3,"reply_users_count":2,"latest_reply":"1614961083.414400","reply_users":["B01J9QZ4SP8","U017YGFQTE3"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614957992.411300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614957990.411200","parent_user_id":"ULKHN71K3"},{"client_msg_id":"7fb95923-1514-470a-a999-06fad9b8d653","type":"message","text":"One option is multiple dispatch. If you define f(s) as `f(s::String) = isnothing(match(r\"ext\", s)) ? \"\" : s[2:end]`, and `f(m::Missing) = missing` , then you can broadcast over column a with `f.(df.a)` .","user":"U017YGFQTE3","ts":"1614960843.414200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bOG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One option is multiple dispatch. If you define f(s) as "},{"type":"text","text":"f(s::String) = isnothing(match(r\"ext\", s)) ? \"\" : s[2:end]","style":{"code":true}},{"type":"text","text":", and "},{"type":"text","text":"f(m::Missing) = missing","style":{"code":true}},{"type":"text","text":" , then you can broadcast over column a with "},{"type":"text","text":"f.(df.a)","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1614957990.411200","parent_user_id":"ULKHN71K3"},{"client_msg_id":"df0eb0bb-5961-4a5b-8d7e-342b12fac675","type":"message","text":"Alternatively, if you would like `f` to return missing -&gt; \"\" and don't want the multiple dispatch, you could coalesce the missings before passing the values to `f`, for example `f.(coalesce.(df.a,\"\"))` .","user":"U017YGFQTE3","ts":"1614961083.414400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oa9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alternatively, if you would like "},{"type":"text","text":"f","style":{"code":true}},{"type":"text","text":" to return missing -> \"\" and don't want the multiple dispatch, you could coalesce the missings before passing the values to "},{"type":"text","text":"f","style":{"code":true}},{"type":"text","text":", for example "},{"type":"text","text":"f.(coalesce.(df.a,\"\"))","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1614957990.411200","parent_user_id":"ULKHN71K3"}]