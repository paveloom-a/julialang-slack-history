[{"client_msg_id":"25cc264d-8a96-4273-83fd-73c9acb87e2f","type":"message","text":"Hey everyone, I was wondering whether there is a clever way to reduce or mitigate JIT lag as of yet?","user":"U01HKV72PKL","ts":"1611928979.100200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cTCu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey everyone, I was wondering whether there is a clever way to reduce or mitigate JIT lag as of yet?"}]}]}],"thread_ts":"1611928979.100200","reply_count":15,"reply_users_count":4,"latest_reply":"1611956735.149200","reply_users":["B01J9QZ4SP8","UH24GRBLL","U01HKV72PKL","U69BL50BF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Hey <@U01HKV72PKL>! Thanks for asking this question. It has been cross posted to discourse here: <https://discourse.julialang.org/t/hey-everyone-i-was-wondering-whether-there-is-a-clever-way-to-reduce-or-mitigate-jit-lag-as-of-yet>. Please add an answer there once you are satisfied with the solution so others can benfit as well. ","ts":"1611928982.100300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL","attachments":[{"service_name":"JuliaLang","title":"Hey everyone, I was wondering whether there is a clever way to reduce or mitigate JIT lag as of yet?","title_link":"https://discourse.julialang.org/t/hey-everyone-i-was-wondering-whether-there-is-a-clever-way-to-reduce-or-mitigate-jit-lag-as-of-yet","text":"Hey everyone, I was wondering whether there is a clever way to reduce or mitigate JIT lag as of yet? (Original message :slack:)","fallback":"JuliaLang: Hey everyone, I was wondering whether there is a clever way to reduce or mitigate JIT lag as of yet?","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1611928981,"from_url":"https://discourse.julialang.org/t/hey-everyone-i-was-wondering-whether-there-is-a-clever-way-to-reduce-or-mitigate-jit-lag-as-of-yet","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/hey-everyone-i-was-wondering-whether-there-is-a-clever-way-to-reduce-or-mitigate-jit-lag-as-of-yet"}],"edited":{"user":"B01J9QZ4SP8","ts":"1611928984.000000"}},{"client_msg_id":"37ee413d-9e18-4fd4-ba8d-6dbc3ad28a91","type":"message","text":"depends on what you compare it to nowadays?","user":"UH24GRBLL","ts":"1611930863.101200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dPAoz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"depends on what you compare it to nowadays?"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"7a109e57-a03c-44b5-8eff-8959755ac114","type":"message","text":"there's a lot of compile caching going on in 1.6","user":"UH24GRBLL","ts":"1611930907.101400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BcNl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there's a lot of compile caching going on in 1.6"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"c7fb5a00-0a48-482a-bafd-27a59e7071f4","type":"message","text":"Hey Valentin, thanks for the suggestion I actually just now compared 1.5.3 to 1.6 beta, runtime for a single GET request using HTTP is down from 8.9 seconds to 7.99 using a fairly weak machine which is great on the user end (having done nothing with the code). Using CPython the same query is 0.19s since the interpreter is quicker to spool up and there's nothing computationally intensive once it's running.  I'm aware Julia isn't a great fit for such use cases, but I was just curious if there was something I'd missed... It would be really fun if I could just use one language for everything one day","user":"U01HKV72PKL","ts":"1611933789.103000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iSD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey Valentin, thanks for the suggestion I actually just now compared 1.5.3 to 1.6 beta, runtime for a single GET request using HTTP is down from 8.9 seconds to 7.99 using a fairly weak machine which is great on the user end (having done nothing with the code). Using CPython the same query is 0.19s since the interpreter is quicker to spool up and there's nothing computationally intensive once it's running.  I'm aware Julia isn't a great fit for such use cases, but I was just curious if there was something I'd missed... It would be really fun if I could just use one language for everything one day"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"4cb7ff24-5b0b-4b84-b6fc-4d543cd7a42c","type":"message","text":"I have no idea how you're testing this","user":"UH24GRBLL","ts":"1611934002.103400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LPt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have no idea how you're testing this"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"c08a13cb-8476-4b20-a94e-7379f14f79d8","type":"message","text":"8s for a single GET sounds like you're starting julia, processing a single request and exiting again, which is not surprising to be insanely slow..","user":"UH24GRBLL","ts":"1611934063.103700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L1p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"8s for a single GET sounds like you're starting julia, processing a single request and exiting again, which is not surprising to be insanely slow.."}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"3d551406-30dc-4c61-83b5-d73c427a6565","type":"message","text":"did you PackageCompiler it?","user":"U69BL50BF","ts":"1611934105.103900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yqx2k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you PackageCompiler it?"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"ea42d1bc-88fd-4a8e-8fa7-97090bac78bb","type":"message","text":"Yeah I have a use case like that, a short-lived instance","user":"U01HKV72PKL","ts":"1611934114.104100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tJB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I have a use case like that, a short-lived instance"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"8ce6891e-4bad-4955-af1f-276180c65662","type":"message","text":"Nope I did not know about PackageCompiler - will check it out thanks","user":"U01HKV72PKL","ts":"1611934141.104300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RvLx9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope I did not know about PackageCompiler - will check it out thanks"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"084f7c7f-02e8-4255-8ce4-046a92441588","type":"message","text":"Wow I got it down to 0.54s with PackageCompiler, this is good enough to throw in serverless stuff - thanks Chris!","user":"U01HKV72PKL","ts":"1611956652.148200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2tQea","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wow I got it down to 0.54s with PackageCompiler, this is good enough to throw in serverless stuff - thanks Chris!"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"07c1ddb2-8e9f-4285-bd2b-fde4bcbc48b2","type":"message","text":"no problem","user":"U69BL50BF","ts":"1611956669.148400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"utA/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no problem"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"eaa08b7a-0a69-4e28-83c5-0b20a187ffab","type":"message","text":"there's probably more you can do too","user":"U69BL50BF","ts":"1611956694.148600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pViA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there's probably more you can do too"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"df1ce01f-8c16-4631-9842-5bbecbcbfa4a","type":"message","text":"with a lean sysimage chopping out the math parts","user":"U69BL50BF","ts":"1611956701.148800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o6S5R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with a lean sysimage chopping out the math parts"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"c9cd49f6-0b61-4680-abae-efaa14e37ae2","type":"message","text":"yeah - optimizing the code in the usual ways (minimizing allocations etc.) will also help bring this down","user":"UH24GRBLL","ts":"1611956732.149000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wPx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah - optimizing the code in the usual ways (minimizing allocations etc.) will also help bring this down"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"},{"client_msg_id":"a6b610fb-fb24-4831-93ce-c30d0711adf6","type":"message","text":"Interesting, will check it out","user":"U01HKV72PKL","ts":"1611956735.149200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X+Zt0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Interesting, will check it out"}]}]}],"thread_ts":"1611928979.100200","parent_user_id":"U01HKV72PKL"}]