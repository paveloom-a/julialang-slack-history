[{"client_msg_id":"ae373b0f-4162-448f-96a8-582791c6e996","type":"message","text":"I am having trouble with Channels (coroutines). I want to write code which generates every binary string of a given length but pauses and lets me process them one at a time before generating the next one. In Python I would use yield but following the blog post <https://erik-engheim.medium.com/generators-and-iterators-in-julia-and-python-6c9ace18fa93|here> I am trying to use Channels. However, I can’t quite figure out the correct result. Referring to the code below, if `n = length(arr)` is, say 10, then after the first `put!`it tries to access `arr[11]`. If this was a purely recursive function, a `return arr` command would work as intended, resetting the variable `i`. If I add a return after `put!` though, the function stalls. Can anybody please provide some advice on the proper way to do this? I am using the `arr = zeros(UInt8, 10); channel = generator(10, arr);` in the REPL. Thanks.\n\n`function generator(n, arr)`\n    `channel = Channel(1)`\n    `function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)`\n        `if i == n` \n           `# println(arr)`\n           `put!(channel, arr)`\n        `end`\n       \n        `arr[i] = 0x00`\n        `generate_all_binary_strings(n, arr, i + 1)`  \n     \n        `arr[i] = 0x01`\n        `generate_all_binary_strings(n, arr, i + 1)`\n    `end`\n    `task = Task(generate_all_binary_strings(n, arr, 1))`\n    `schedule(task)`\n    `return channel`\n`end`","user":"U01655DR0JZ","ts":"1608606226.209600","team":"T68168MUP","attachments":[{"service_name":"Medium","title":"Generators and Iterators in Julia and Python","title_link":"https://erik-engheim.medium.com/generators-and-iterators-in-julia-and-python-6c9ace18fa93","text":"Generators are used a lot in Python to implement iterators. Both Julia and Python implement list comprehensions with generators. Rather…","fallback":"Medium: Generators and Iterators in Julia and Python","fields":[{"title":"Reading time","value":"7 min read","short":true}],"ts":1552833665,"from_url":"https://erik-engheim.medium.com/generators-and-iterators-in-julia-and-python-6c9ace18fa93","service_icon":"https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png","id":1,"original_url":"https://erik-engheim.medium.com/generators-and-iterators-in-julia-and-python-6c9ace18fa93"}],"blocks":[{"type":"rich_text","block_id":"Mx0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am having trouble with Channels (coroutines). I want to write code which generates every binary string of a given length but pauses and lets me process them one at a time before generating the next one. In Python I would use yield but following the blog post "},{"type":"link","url":"https://erik-engheim.medium.com/generators-and-iterators-in-julia-and-python-6c9ace18fa93","text":"here"},{"type":"text","text":" I am trying to use Channels. However, I can’t quite figure out the correct result. Referring to the code below, if "},{"type":"text","text":"n = length(arr)","style":{"code":true}},{"type":"text","text":" is, say 10, then after the first "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":"it tries to access "},{"type":"text","text":"arr[11]","style":{"code":true}},{"type":"text","text":". If this was a purely recursive function, a "},{"type":"text","text":"return arr ","style":{"code":true}},{"type":"text","text":"command would work as intended, resetting the variable "},{"type":"text","text":"i","style":{"code":true}},{"type":"text","text":". If I add a return after "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":" though, the function stalls. Can anybody please provide some advice on the proper way to do this? I am using the "},{"type":"text","text":"arr = zeros(UInt8, 10); channel = generator(10, arr);","style":{"code":true}},{"type":"text","text":" in the REPL. Thanks.\n\n"},{"type":"text","text":"function generator(n, arr)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    channel = Channel(1)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        if i == n ","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"           # println(arr)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"           put!(channel, arr)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        end","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"       ","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        arr[i] = 0x00","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        generate_all_binary_strings(n, arr, i + 1)  ","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"     ","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        arr[i] = 0x01","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"        generate_all_binary_strings(n, arr, i + 1)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    end","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    task = Task(generate_all_binary_strings(n, arr, 1))","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    schedule(task)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    return channel","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"end","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","reply_count":61,"reply_users_count":2,"latest_reply":"1608612924.223200","reply_users":["USU9FRPEU","U01655DR0JZ"],"subscribed":false},{"client_msg_id":"d3906a1e-8ed8-4e6f-8395-00c1b206a8c6","type":"message","text":"Paging <@UTJT285RN>","user":"USU9FRPEU","ts":"1608607691.209900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KU5Pa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Paging "},{"type":"user","user_id":"UTJT285RN"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"715fd9e9-f243-4471-bdad-7574bdfc8d01","type":"message","text":"I'm thinking you might want to return from that if statement to terminate the recursion","user":"USU9FRPEU","ts":"1608607739.210100","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1608607747.000000"},"blocks":[{"type":"rich_text","block_id":"xH4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm thinking you might want to return from that if statement to terminate the recursion"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"da88c3cd-0926-4f6c-b2b7-c5f5635250a7","type":"message","text":"There's a lot more going on here actually","user":"USU9FRPEU","ts":"1608607864.210400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LrPZM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's a lot more going on here actually"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ","reactions":[{"name":"+1::skin-tone-3","users":["U01655DR0JZ"],"count":1}]},{"client_msg_id":"507ebf09-6a8c-4f62-9a10-c49f2ab91f36","type":"message","text":"I considered writing this as an iterator but I would have to go look that up and the internet suggested Channels instead. I also considered the ResumableFunctions pkg, but I’m sure one can do this with Base","user":"U01655DR0JZ","ts":"1608608173.210700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"enB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I considered writing this as an iterator but I would have to go look that up and the internet suggested Channels instead. I also considered the ResumableFunctions pkg, but I’m sure one can do this with Base"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"c46c0c82-a232-414d-9866-32b9f393bd3f","type":"message","text":"Can you back up and tell me what you are trying to do here? You want to generate all binary strings of length `n` ?","user":"USU9FRPEU","ts":"1608608313.210900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PP7m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you back up and tell me what you are trying to do here? You want to generate all binary strings of length "},{"type":"text","text":"n","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"b78a04d3-b4f7-4c0b-b65e-1dad6b4a9476","type":"message","text":"correct. generate one, process it with other code I’ve already written, then quit when I have enough data. I’m looking at about 2^50 binary strings but it should quit at around 2^14 which is why I want to generate them as needed","user":"U01655DR0JZ","ts":"1608608439.211100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fEjIc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"correct. generate one, process it with other code I’ve already written, then quit when I have enough data. I’m looking at about 2^50 binary strings but it should quit at around 2^14 which is why I want to generate them as needed"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"121fbfd9-1729-421d-8763-889f218f73d6","type":"message","text":"So like this, but you want to do it Python style with `Tasks` and `Channels` ?\n```julia&gt; gen(n) = (bitstring(i)[end-n+1:end] for i=0:1&lt;&lt;n-1)\ngen (generic function with 1 method)\n\njulia&gt; collect( gen(5) )\n32-element Array{String,1}:\n \"00000\"\n \"00001\"\n \"00010\"\n \"00011\"\n \"00100\"\n \"00101\"\n \"00110\"\n \"00111\"\n \"01000\"\n \"01001\"\n \"01010\"\n \"01011\"\n \"01100\"\n ⋮\n \"10100\"\n \"10101\"\n \"10110\"\n \"10111\"\n \"11000\"\n \"11001\"\n \"11010\"\n \"11011\"\n \"11100\"\n \"11101\"\n \"11110\"\n \"11111\"```","user":"USU9FRPEU","ts":"1608608476.211300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sIY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So like this, but you want to do it Python style with "},{"type":"text","text":"Tasks","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"Channels","style":{"code":true}},{"type":"text","text":" ?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> gen(n) = (bitstring(i)[end-n+1:end] for i=0:1<<n-1)\ngen (generic function with 1 method)\n\njulia> collect( gen(5) )\n32-element Array{String,1}:\n \"00000\"\n \"00001\"\n \"00010\"\n \"00011\"\n \"00100\"\n \"00101\"\n \"00110\"\n \"00111\"\n \"01000\"\n \"01001\"\n \"01010\"\n \"01011\"\n \"01100\"\n ⋮\n \"10100\"\n \"10101\"\n \"10110\"\n \"10111\"\n \"11000\"\n \"11001\"\n \"11010\"\n \"11011\"\n \"11100\"\n \"11101\"\n \"11110\"\n \"11111\""}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"3f5fe0bf-812b-4588-a4b4-7fc2a75ab9f4","type":"message","text":"well since I have 2^50 possible strings or more, I can’t call `collect`","user":"U01655DR0JZ","ts":"1608608525.211500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4rem","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well since I have 2^50 possible strings or more, I can’t call "},{"type":"text","text":"collect","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"31f00435-ab2c-43a0-af38-13ae6d0f5279","type":"message","text":"Right, I'm just making sure I got the concept for `n = 5`","user":"USU9FRPEU","ts":"1608608537.211700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"itIs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I'm just making sure I got the concept for "},{"type":"text","text":"n = 5","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"b0109a54-3c29-4c64-9f59-b3727ee2d3b7","type":"message","text":"correct","user":"U01655DR0JZ","ts":"1608608543.211900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YDx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"correct"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"39f888f2-167c-435f-99df-d73298b07afe","type":"message","text":"this should be extremely simple haha","user":"U01655DR0JZ","ts":"1608608555.212100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lzps","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this should be extremely simple haha"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ba61ba29-b9f1-4aeb-9b41-ea4a713783b4","type":"message","text":"So you schedule the `Task` and it calls `generate_all_binary_strings(50, ..., 1)` . It assigns `arr[1] = 0x00` , and then it calls `generate_all_binary_strings(50, ..., 2)` , ... and so on until `generate_all_binary_strings(50, ..., 50)`  which puts the array into the channel. Then it tries to call `generate_all_binary_strings(50, ..., 51)`  and then crashes.","user":"USU9FRPEU","ts":"1608608800.212300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HrkQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So you schedule the "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" and it calls "},{"type":"text","text":"generate_all_binary_strings(50, ..., 1)","style":{"code":true}},{"type":"text","text":" . It assigns "},{"type":"text","text":"arr[1] = 0x00","style":{"code":true}},{"type":"text","text":" , and then it calls "},{"type":"text","text":"generate_all_binary_strings(50, ..., 2)","style":{"code":true}},{"type":"text","text":" , ... and so on until "},{"type":"text","text":"generate_all_binary_strings(50, ..., 50)","style":{"code":true}},{"type":"text","text":"  which puts the array into the channel. Then it tries to call "},{"type":"text","text":"generate_all_binary_strings(50, ..., 51)","style":{"code":true}},{"type":"text","text":"  and then crashes."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"1b3220b4-8be1-4efe-a428-8a0f59d79817","type":"message","text":"So obviously, we don't want to call `generate_all_binary_strings(50, ..., 51)`.","user":"USU9FRPEU","ts":"1608608852.212500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s5q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So obviously, we don't want to call "},{"type":"text","text":"generate_all_binary_strings(50, ..., 51)","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"1e2e3122-a58f-44c5-8289-fcc81417ba2e","type":"message","text":"`julia&gt; channel = generator(22, arr)`\n`ERROR: BoundsError: attempt to access 22-element Array{UInt8,1} at index [23]`","user":"U01655DR0JZ","ts":"1608608869.212700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hPZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia> channel = generator(22, arr)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"ERROR: BoundsError: attempt to access 22-element Array{UInt8,1} at index [23]","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"c0426079-48d8-422a-898d-10f28c0552c7","type":"message","text":"Right... you tried you got `n=22, i=23` not good.","user":"USU9FRPEU","ts":"1608608895.212900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ol0=h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right... you tried you got "},{"type":"text","text":"n=22, i=23","style":{"code":true}},{"type":"text","text":" not good."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"f8df09f9-e610-4ee4-9a2f-7b4a6a4c9c3d","type":"message","text":"You need stop the recursion when `i == n` no?","user":"USU9FRPEU","ts":"1608608931.213100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZMy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You need stop the recursion when "},{"type":"text","text":"i == n","style":{"code":true}},{"type":"text","text":" no?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ","reactions":[{"name":"+1::skin-tone-3","users":["U01655DR0JZ"],"count":1}]},{"client_msg_id":"8443f5db-6705-446b-ade7-f3cf387efe04","type":"message","text":"right, so I added a `return` after `put!`and it just hangs","user":"U01655DR0JZ","ts":"1608608945.213300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3v2Dk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right, so I added a "},{"type":"text","text":"return","style":{"code":true}},{"type":"text","text":" after "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":"and it just hangs"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"56aa0ccf-adb3-41a8-87e0-05977232b20e","type":"message","text":"Ok, so you put in the return... so what happens now.","user":"USU9FRPEU","ts":"1608608978.213800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dwKiJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, so you put in the return... so what happens now."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"type":"message","text":"just sits like this","files":[{"id":"F01GZJPE347","created":1608609006,"timestamp":1608609006,"name":"Screen Shot 2020-12-21 at 22.50.02.png","title":"Screen Shot 2020-12-21 at 22.50.02.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01655DR0JZ","editable":false,"size":141018,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01GZJPE347/screen_shot_2020-12-21_at_22.50.02.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01GZJPE347/download/screen_shot_2020-12-21_at_22.50.02.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_360.png","thumb_360_w":360,"thumb_360_h":204,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_480.png","thumb_480_w":480,"thumb_480_h":272,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_720.png","thumb_720_w":720,"thumb_720_h":408,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_800.png","thumb_800_w":800,"thumb_800_h":453,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_960.png","thumb_960_w":960,"thumb_960_h":543,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01GZJPE347-55d7c47c89/screen_shot_2020-12-21_at_22.50.02_1024.png","thumb_1024_w":1024,"thumb_1024_h":580,"original_w":1134,"original_h":642,"thumb_tiny":"AwAbADCnnnpTuCOlMp2PrTAQ4o496MfX8qMUAHHvRxSUUAKOD2pcjHSkJOetGT60AH5UZpKKACiiigD/2Q==","permalink":"https://julialang.slack.com/files/U01655DR0JZ/F01GZJPE347/screen_shot_2020-12-21_at_22.50.02.png","permalink_public":"https://slack-files.com/T68168MUP-F01GZJPE347-1be6f25e86","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"/EpE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just sits like this"}]}]}],"user":"U01655DR0JZ","display_as_bot":false,"ts":"1608609011.214000","thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"e49b8fd6-9df3-41c6-9e8b-b33fd7a6f48f","type":"message","text":"Well we call `generate_all_binary_strings(50, ..., 50)`, it returns to `generate_all_binary_strings(50, ..., 49)`. So now you assign `arr[50] = 0x01`  and it calls `generate_all_binary_strings(50, ..., 50)`  again. It tries `put!` but your channel only has a buffer of size 1, so now it waits for something to take from the channel.","user":"USU9FRPEU","ts":"1608609140.214400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dHF3O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well we call "},{"type":"text","text":"generate_all_binary_strings(50, ..., 50)","style":{"code":true}},{"type":"text","text":", it returns to "},{"type":"text","text":"generate_all_binary_strings(50, ..., 49)","style":{"code":true}},{"type":"text","text":". So now you assign "},{"type":"text","text":"arr[50] = 0x01","style":{"code":true}},{"type":"text","text":"  and it calls "},{"type":"text","text":"generate_all_binary_strings(50, ..., 50)","style":{"code":true}},{"type":"text","text":"  again. It tries "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":" but your channel only has a buffer of size 1, so now it waits for something to take from the channel."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"d4c898ef-8ae0-4108-abe4-363b74de91a0","type":"message","text":"Maybe you need to `yield()`  at some point.","user":"USU9FRPEU","ts":"1608609190.214600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R9kUf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe you need to "},{"type":"text","text":"yield()","style":{"code":true}},{"type":"text","text":"  at some point."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"e3c3147b-4d82-46c0-8fff-d083dab1766c","type":"message","text":"right, but since it won’t relinquish control to the REPL, I can’t use `take`","user":"U01655DR0JZ","ts":"1608609231.214800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uup","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right, but since it won’t relinquish control to the REPL, I can’t use "},{"type":"text","text":"take","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"590893d6-dcc9-4421-b3b9-fd556f546406","type":"message","text":"Right... so you need to `yield()`","user":"USU9FRPEU","ts":"1608609286.215000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fCJHs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right... so you need to "},{"type":"text","text":"yield()","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"7f6496c8-f63a-4789-8ba2-86cb726b9ead","type":"message","text":"`yield()` is what I would use in any other language but It wasn’t clear to me from the docs how to pass an argument backwards with it in Julia","user":"U01655DR0JZ","ts":"1608609319.215200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aVl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yield()","style":{"code":true}},{"type":"text","text":" is what I would use in any other language but It wasn’t clear to me from the docs how to pass an argument backwards with it in Julia"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"9f8169e9-8575-41d2-8ce6-6f667f455b1d","type":"message","text":"simply replacing the `return` with `yield()` also runs into an out of bounds error","user":"U01655DR0JZ","ts":"1608609464.215400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q/Yv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"simply replacing the "},{"type":"text","text":"return","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"yield()","style":{"code":true}},{"type":"text","text":" also runs into an out of bounds error"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"81cbcf09-f462-4130-9a61-5521457c9d8c","type":"message","text":"oh I see... you didn't pass the function to `Task` you called it","user":"USU9FRPEU","ts":"1608609490.215600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sZBj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh I see... you didn't pass the function to "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" you called it"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"31bf6179-5a90-47b0-b613-5ee5314ea32e","type":"message","text":"`Task( ()-&gt;generate_all_binary_strings(n, arr, 1) )`","user":"USU9FRPEU","ts":"1608609538.215800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s5+Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Task( ()->generate_all_binary_strings(n, arr, 1) )","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ad4fd1d4-60c5-420d-b3d9-5f45c7617128","type":"message","text":"Or\n```Task() do\n   generate_all_binary_strings(n, arr, 1) )\nend```\n","user":"USU9FRPEU","ts":"1608609575.216000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pJKhw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Task() do\n   generate_all_binary_strings(n, arr, 1) )\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"7df41fd0-379a-4c57-af77-cad03a503183","type":"message","text":"I should have that instead of the line I have?","user":"U01655DR0JZ","ts":"1608609616.216200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q2=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I should have that instead of the line I have?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"c73a59b6-e0e7-4b28-af5a-ea9b1c1d4614","type":"message","text":"what’s interesting here is that it works for one call of `take!(channel)` but then hangs for a second call","user":"U01655DR0JZ","ts":"1608609752.216400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ex44","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what’s interesting here is that it works for one call of "},{"type":"text","text":"take!(channel)","style":{"code":true}},{"type":"text","text":" but then hangs for a second call"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ef743c1f-92a1-462c-8cc9-3c15cb5e8168","type":"message","text":"I’m referring to the new `Task` line you wrote","user":"U01655DR0JZ","ts":"1608609774.216600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RVs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m referring to the new "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" line you wrote"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"18699c57-8975-411d-9f80-b118d3dfdbbd","type":"message","text":"give me a second","user":"USU9FRPEU","ts":"1608609930.216800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9eX/2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"give me a second"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"5cab5f5c-9430-4562-8e00-dbd21af075e3","type":"message","text":"this exact code has interesting behavior. it works up until the first recursive call with a 0x00 but then hangs when it gets to the 0x01 call\n\n```function generator(n, arr)\n    channel = Channel(1)\n    function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)\n        if i == n \n           # println(arr)\n           put!(channel, arr)\n           return\n           # yield()\n        end\n       \n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n     \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -&gt; generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend```\n","user":"U01655DR0JZ","ts":"1608610092.217000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x=f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this exact code has interesting behavior. it works up until the first recursive call with a 0x00 but then hangs when it gets to the 0x01 call\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function generator(n, arr)\n    channel = Channel(1)\n    function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)\n        if i == n \n           # println(arr)\n           put!(channel, arr)\n           return\n           # yield()\n        end\n       \n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n     \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -> generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"8d462802-fadb-45a5-a154-4ddd248a68dd","type":"message","text":"I can `take!`  multiple times from the channel. You cannot?","user":"USU9FRPEU","ts":"1608610455.217200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SNl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can "},{"type":"text","text":"take!","style":{"code":true}},{"type":"text","text":"  multiple times from the channel. You cannot?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"d84699ad-487a-41a1-b64b-5a0037d44a32","type":"message","text":"Oh I see what you are saying","user":"USU9FRPEU","ts":"1608610500.217400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q6f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh I see what you are saying"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"a8689f82-ee09-4fef-9d6d-55a44f3d153b","type":"message","text":"I noticed that you don't actually assign `arr[n]` now","user":"USU9FRPEU","ts":"1608610566.217600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JwJV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed that you don't actually assign "},{"type":"text","text":"arr[n]","style":{"code":true}},{"type":"text","text":" now"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"f2016479-60b4-4dd6-a3a4-04660dfbfba9","type":"message","text":"Maybe your if statement should be `i == n + 1` ?","user":"USU9FRPEU","ts":"1608610608.217800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Wd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe your if statement should be "},{"type":"text","text":"i == n + 1","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"type":"message","text":"sure, I copied this recursive function from an index 0 based language. it then repeats in an odd manner","files":[{"id":"F01J48A9RK2","created":1608610743,"timestamp":1608610743,"name":"Screen Shot 2020-12-21 at 23.18.59.png","title":"Screen Shot 2020-12-21 at 23.18.59.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01655DR0JZ","editable":false,"size":78695,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J48A9RK2/screen_shot_2020-12-21_at_23.18.59.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J48A9RK2/download/screen_shot_2020-12-21_at_23.18.59.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J48A9RK2-6b1dd3c991/screen_shot_2020-12-21_at_23.18.59_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J48A9RK2-6b1dd3c991/screen_shot_2020-12-21_at_23.18.59_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J48A9RK2-6b1dd3c991/screen_shot_2020-12-21_at_23.18.59_360.png","thumb_360_w":172,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J48A9RK2-6b1dd3c991/screen_shot_2020-12-21_at_23.18.59_480.png","thumb_480_w":230,"thumb_480_h":480,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J48A9RK2-6b1dd3c991/screen_shot_2020-12-21_at_23.18.59_160.png","original_w":338,"original_h":706,"thumb_tiny":"AwAwABaqcAA4pMj0oJyoHNJimAHFFJRQA8khRSbjSkEgDj86TaaAEJz6UUEYpKAHt90U3J9TStgcZzik49T+VABk+tJS0lAH/9k=","permalink":"https://julialang.slack.com/files/U01655DR0JZ/F01J48A9RK2/screen_shot_2020-12-21_at_23.18.59.png","permalink_public":"https://slack-files.com/T68168MUP-F01J48A9RK2-c76b9f9e8e","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"uU4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sure, I copied this recursive function from an index 0 based language. it then repeats in an odd manner"}]}]}],"user":"U01655DR0JZ","display_as_bot":false,"ts":"1608610834.218000","thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ab7320ac-962b-4de5-bc98-9bf6bdcbf1be","type":"message","text":"I added some debug for your function:\n```function generator(n, arr = zeros(UInt8,n))\n    channel = Channel(1)\n    function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)\n        @info \"n = $n, i = $i\"\n        if i == n + 1\n            @info arr\n           put!(channel, arr)\n           return\n           # yield()\n        end\n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -&gt; generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend```","user":"USU9FRPEU","ts":"1608611045.218400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ggdI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I added some debug for your function:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function generator(n, arr = zeros(UInt8,n))\n    channel = Channel(1)\n    function generate_all_binary_strings(n::Int, arr::Array{UInt8, 1}, i::Int)\n        @info \"n = $n, i = $i\"\n        if i == n + 1\n            @info arr\n           put!(channel, arr)\n           return\n           # yield()\n        end\n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -> generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ffc25360-999b-41d6-b1a7-41d5bb142df8","type":"message","text":"So it does `n=5` and then `i = 1... 6`","user":"USU9FRPEU","ts":"1608611081.218600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xk5X3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it does "},{"type":"text","text":"n=5","style":{"code":true}},{"type":"text","text":" and then "},{"type":"text","text":"i = 1... 6","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"1a39e06c-a691-47e3-a16e-ddb3f9626e64","type":"message","text":"At `i==6` it puts `arr` in the channel, and then immediately returns. It then assigns `arr[5] = 0x01` and then tries to `put!` again, but blocks before it can do so. The problem is that the `arr` that it first put in _was_ originally all zeros, but you mutated it.","user":"USU9FRPEU","ts":"1608611205.218800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I0qab","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"At "},{"type":"text","text":"i==6","style":{"code":true}},{"type":"text","text":" it puts "},{"type":"text","text":"arr","style":{"code":true}},{"type":"text","text":" in the channel, and then immediately returns. It then assigns "},{"type":"text","text":"arr[5] = 0x01","style":{"code":true}},{"type":"text","text":" and then tries to "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":" again, but blocks before it can do so. The problem is that the "},{"type":"text","text":"arr","style":{"code":true}},{"type":"text","text":" that it first put in "},{"type":"text","text":"was","style":{"italic":true}},{"type":"text","text":" originally all zeros, but you mutated it."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"0d615ebc-2c4b-44d9-af61-fc59ad0cfc77","type":"message","text":"Ok, so this is not the behavior you want. You want to block at the first `put!` I think.","user":"USU9FRPEU","ts":"1608611274.219000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nru","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, so this is not the behavior you want. You want to block at the first "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":" I think."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"78867b2e-0892-4bbe-918a-4148c1cd180b","type":"message","text":"so you want `ch = Channel(0)`","user":"USU9FRPEU","ts":"1608611291.219200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ku=X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so you want "},{"type":"text","text":"ch = Channel(0)","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"494a4004-0c15-487e-bd36-cc4a878420c8","type":"message","text":"or `channel = Channel(0)`","user":"USU9FRPEU","ts":"1608611306.219400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gos","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or "},{"type":"text","text":"channel = Channel(0)","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"9b927122-477c-467b-8dc5-bdc848ce91de","type":"message","text":"huh…that appears to fix it. do you agree with the behavior when you run it on your end?","user":"U01655DR0JZ","ts":"1608611440.219600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yyzu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"huh…that appears to fix it. do you agree with the behavior when you run it on your end?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"4aa383d3-bd23-4bab-8c6d-33b8acdd590f","type":"message","text":"Kind of but you have to be careful.\n```julia&gt; ch = generator(5); for i=1:2^5; println(take!(ch)); end\nUInt8[0x00, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]```\n","user":"USU9FRPEU","ts":"1608611576.219800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qDc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Kind of but you have to be careful.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> ch = generator(5); for i=1:2^5; println(take!(ch)); end\nUInt8[0x00, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"26f96c52-eb54-41c3-bd3f-61cbe3742a3c","type":"message","text":"```julia&gt; ch = generator(5); for i=1:2^5; println(copy(take!(ch))); end\nUInt8[0x00, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]```","user":"USU9FRPEU","ts":"1608611623.220000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kKOoB","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> ch = generator(5); for i=1:2^5; println(copy(take!(ch))); end\nUInt8[0x00, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x00, 0x01, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x00, 0x01, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x00, 0x01, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x00, 0x01]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x00]\nUInt8[0x01, 0x01, 0x01, 0x01, 0x01]"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ff9f71e3-48d6-4e59-9095-bfcdebc6d283","type":"message","text":"careful due to the repeated thing at the end?","user":"U01655DR0JZ","ts":"1608611637.220200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JGn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"careful due to the repeated thing at the end?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"34a02d47-49c6-49e4-9139-b82442a53350","type":"message","text":"Also look at the beginning of the first output.","user":"USU9FRPEU","ts":"1608611660.220400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7A5t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also look at the beginning of the first output."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"0e9b8718-c87e-4cf6-9aec-b3eda46a138c","type":"message","text":"`UInt8[0x00, 0x00, 0x00, 0x00, 0x01]`","user":"USU9FRPEU","ts":"1608611671.220600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oSTW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"UInt8[0x00, 0x00, 0x00, 0x00, 0x01]","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"8626b18f-11a6-4004-ac7f-bccffb7d7e6b","type":"message","text":"The problem is the array that pushed through is changing as you try to print it!","user":"USU9FRPEU","ts":"1608611691.220800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cen2X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The problem is the array that pushed through is changing as you try to print it!"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"9e5db731-b651-42de-ab35-7db634c3174f","type":"message","text":"You might want to `put!`  a copy of the array rather than the array itself.","user":"USU9FRPEU","ts":"1608611711.221000","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1608611755.000000"},"blocks":[{"type":"rich_text","block_id":"xiIZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You might want to "},{"type":"text","text":"put!","style":{"code":true}},{"type":"text","text":"  a copy of the array rather than the array itself."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"9d52025a-44bc-4127-8cc0-a92a19effbbf","type":"message","text":"`put!(channel, copy( arr ) )`","user":"USU9FRPEU","ts":"1608611730.221200","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1608611736.000000"},"blocks":[{"type":"rich_text","block_id":"IR+Ss","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"put!(channel, copy( arr ) )","style":{"code":true}}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"ccf0da79-7f29-4452-9234-3119a49c7af7","type":"message","text":"makes sense, thanks. So Channel(0) creates a buffer of size 0? I thought this meant it could hold 0 objects in it?","user":"U01655DR0JZ","ts":"1608611871.221600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SLMh/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"makes sense, thanks. So Channel(0) creates a buffer of size 0? I thought this meant it could hold 0 objects in it?"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"dd58afe3-516c-4c25-843b-e6b4d23382e9","type":"message","text":"Not sure if you really need `UInt8`:\n```function generator(n, arr = zeros(Bool,n))\n    channel = Channel(0)\n    function generate_all_binary_strings(n::Int, arr::Array{Bool, 1}, i::Int)\n        # @info \"n = $n, i = $i\"\n        if i == n + 1\n           # @info arr\n           put!(channel, copy( arr ) )\n           return\n           # yield()\n        end\n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -&gt; generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend```","user":"USU9FRPEU","ts":"1608611884.221800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g2TwG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure if you really need "},{"type":"text","text":"UInt8","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function generator(n, arr = zeros(Bool,n))\n    channel = Channel(0)\n    function generate_all_binary_strings(n::Int, arr::Array{Bool, 1}, i::Int)\n        # @info \"n = $n, i = $i\"\n        if i == n + 1\n           # @info arr\n           put!(channel, copy( arr ) )\n           return\n           # yield()\n        end\n        arr[i] = 0x00\n        generate_all_binary_strings(n, arr, i + 1)  \n        arr[i] = 0x01\n        generate_all_binary_strings(n, arr, i + 1)\n    end\n    task = Task(() -> generate_all_binary_strings(n, arr, 1))\n    schedule(task)\n    return channel\nend"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"02e81bc5-019e-4a39-acaf-539374b39d48","type":"message","text":"```help?&gt; Channel\nsearch: Channel AbstractChannel\n\n  Channel{T=Any}(size::Int=0)\n\n  Constructs a Channel with an internal buffer that can hold a maximum of size objects of type T. put! calls on a full\n  channel block until an object is removed with take!.\n\n  Channel(0) constructs an unbuffered channel. put! blocks until a matching take! is called. And vice-versa.\n\n  Other constructors:\n\n    •    Channel(): default constructor, equivalent to Channel{Any}(0)\n\n    •    Channel(Inf): equivalent to Channel{Any}(typemax(Int))\n\n    •    Channel(sz): equivalent to Channel{Any}(sz)\n\n  │ Julia 1.3\n  │\n  │  The default constructor Channel() and default size=0 were added in Julia 1.3.```","user":"USU9FRPEU","ts":"1608611915.222000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K1B","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"help?> Channel\nsearch: Channel AbstractChannel\n\n  Channel{T=Any}(size::Int=0)\n\n  Constructs a Channel with an internal buffer that can hold a maximum of size objects of type T. put! calls on a full\n  channel block until an object is removed with take!.\n\n  Channel(0) constructs an unbuffered channel. put! blocks until a matching take! is called. And vice-versa.\n\n  Other constructors:\n\n    •    Channel(): default constructor, equivalent to Channel{Any}(0)\n\n    •    Channel(Inf): equivalent to Channel{Any}(typemax(Int))\n\n    •    Channel(sz): equivalent to Channel{Any}(sz)\n\n  │ Julia 1.3\n  │\n  │  The default constructor Channel() and default size=0 were added in Julia 1.3."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"775e985f-fe86-484a-929b-a9a2c387c717","type":"message","text":"Focus on the \"  Channel(0) constructs an unbuffered channel. put! blocks until a matching take! is called. And vice-versa. \"","user":"USU9FRPEU","ts":"1608611935.222200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"33RmX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Focus on the \"  Channel(0) constructs an unbuffered channel. put! blocks until a matching take! is called. And vice-versa. \""}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"265e0e48-b313-4153-98c8-01f94a71cc3c","type":"message","text":"If you copy, you might be able to get array with `Channel(1)`  actually.","user":"USU9FRPEU","ts":"1608611982.222400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ej2w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you copy, you might be able to get array with "},{"type":"text","text":"Channel(1)","style":{"code":true}},{"type":"text","text":"  actually."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"236c3142-cce1-404a-b310-3d5ddce69590","type":"message","text":"So it will copy the array, put that copy in the channel, and then immediately return. It then sets `arr[n]  = 0x01` , and then blocks when it tries to put in the next copy.","user":"USU9FRPEU","ts":"1608612076.222600","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1608612096.000000"},"blocks":[{"type":"rich_text","block_id":"j4k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it will copy the array, put that copy in the channel, and then immediately return. It then sets "},{"type":"text","text":"arr[n]  = 0x01","style":{"code":true}},{"type":"text","text":" , and then blocks when it tries to put in the next copy."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ","reactions":[{"name":"+1::skin-tone-3","users":["U01655DR0JZ"],"count":1}]},{"client_msg_id":"ac52bc86-f2d2-4fad-ba32-52bb928dfeae","type":"message","text":"ah…you know I have that docs page open right on my screen here but failed to see that. thanks for all of your help!","user":"U01655DR0JZ","ts":"1608612115.223000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xah","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah…you know I have that docs page open right on my screen here but failed to see that. thanks for all of your help!"}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ"},{"client_msg_id":"b0b053c3-a310-494d-8605-3bcc8f8e343c","type":"message","text":"No problem. It was probably the most productive thing I did in the last three hours.","user":"USU9FRPEU","ts":"1608612924.223200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6iCyt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No problem. It was probably the most productive thing I did in the last three hours."}]}]}],"thread_ts":"1608606226.209600","parent_user_id":"U01655DR0JZ","reactions":[{"name":"laughing","users":["U01655DR0JZ"],"count":1}]}]