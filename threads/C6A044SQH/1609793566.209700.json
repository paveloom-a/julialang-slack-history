[{"client_msg_id":"c66265f6-2b47-4e8d-b850-8b6a58449e4a","type":"message","text":"I am getting something really weird with `Matrix(sparse())`\nI have a vector X, which I rearrange into a Matrix using `Matrix(sparse())`\nsize makes sense: 40*40 = 1600\nmost numbers of the matrix are what I expect, but a column is completely off, see how the maximum are different, which is weird since it's supposed to be the same data, just rearranged from vector to matrix?\n```julia&gt; size(X)\n(1600,)\n\njulia&gt; Z = Matrix(sparse(x, y, X));\n\njulia&gt; size(Z)\n(40, 40)\n\njulia&gt; maximum(X)\n10.062613798887448\n\njulia&gt; maximum(Z)\n19.08816683600714```","user":"US5RA4FK4","ts":"1609793566.209700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ywd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am getting something really weird with "},{"type":"text","text":"Matrix(sparse())","style":{"code":true}},{"type":"text","text":"\nI have a vector X, which I rearrange into a Matrix using "},{"type":"text","text":"Matrix(sparse())","style":{"code":true}},{"type":"text","text":"\nsize makes sense: 40*40 = 1600\nmost numbers of the matrix are what I expect, but a column is completely off, see how the maximum are different, which is weird since it's supposed to be the same data, just rearranged from vector to matrix?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> size(X)\n(1600,)\n\njulia> Z = Matrix(sparse(x, y, X));\n\njulia> size(Z)\n(40, 40)\n\njulia> maximum(X)\n10.062613798887448\n\njulia> maximum(Z)\n19.08816683600714"}]}]}],"thread_ts":"1609793566.209700","reply_count":20,"reply_users_count":3,"latest_reply":"1609795798.213900","reply_users":["U6CFMFM2R","US5RA4FK4","U8HHPBKQR"],"subscribed":false},{"client_msg_id":"47312789-a34d-4d12-9c2e-611ebfcdbfde","type":"message","text":"what are x and y","user":"U6CFMFM2R","ts":"1609794301.209900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N2J3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what are x and y"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"24d52c06-c2fe-40c0-88b7-320fc9beb7d1","type":"message","text":"make a MWE, i'm not seeing the behavior:\n```julia&gt; X = rand(10*10);\njulia&gt; x=repeat(collect(1:10), inner=[10]);\njulia&gt; y=repeat(collect(1:10), outer=[10]);\njulia&gt; Z = sparse(x,y,X);\njulia&gt; maximum(X) == maximum(Z)\ntrue```","user":"U6CFMFM2R","ts":"1609794568.210100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hxv4f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"make a MWE, i'm not seeing the behavior:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> X = rand(10*10);\njulia> x=repeat(collect(1:10), inner=[10]);\njulia> y=repeat(collect(1:10), outer=[10]);\njulia> Z = sparse(x,y,X);\njulia> maximum(X) == maximum(Z)\ntrue"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"2e68dc19-4b09-4a82-a7cd-9086bf5c1f29","type":"message","text":"My code is ugly at the moment, but this will reproduce my x and y\n```L = 40\n\n\tx = collect(range(1, length=L, stop=1))\n\t[append!(x, collect(range(i, length=L, stop=i))) for i = 2:40]\n\tx = reduce(vcat,x)\n\ty = collect(range(0.01, length=L, stop=0.40))\n\ty = repeat(y, outer=L)\n\tx_range = hcat(x, y)\n\n\tx = Int.(x_range[:, 1])\n\ty_ax = collect(range(0.01, length=L, stop=0.40))\n\ty = Int.(floor.(x_range[:, 2]*100))\n\tx_ax = collect(range(1, length=L, stop=L))\n\t```","user":"US5RA4FK4","ts":"1609794908.210300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5D87","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My code is ugly at the moment, but this will reproduce my x and y\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"L = 40\n\n\tx = collect(range(1, length=L, stop=1))\n\t[append!(x, collect(range(i, length=L, stop=i))) for i = 2:40]\n\tx = reduce(vcat,x)\n\ty = collect(range(0.01, length=L, stop=0.40))\n\ty = repeat(y, outer=L)\n\tx_range = hcat(x, y)\n\n\tx = Int.(x_range[:, 1])\n\ty_ax = collect(range(0.01, length=L, stop=0.40))\n\ty = Int.(floor.(x_range[:, 2]*100))\n\tx_ax = collect(range(1, length=L, stop=L))\n\t"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"81db4930-72cf-49d3-b055-9904779ed2e4","type":"message","text":"I guess to test X could be replace by random numbers","user":"US5RA4FK4","ts":"1609794983.210500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W0v=g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess to test X could be replace by random numbers"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"c4f7d148-48fa-4260-ac2e-412c65068dcd","type":"message","text":"hmm I got the same max with random numbers :sweat_smile:","user":"US5RA4FK4","ts":"1609795120.210700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P7mV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm I got the same max with random numbers "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"83d11929-d478-4ae1-ac21-be87dc2a0435","type":"message","text":"```julia&gt; X = randn(1600)\n1600-element Vector{Float64}:\n\njulia&gt; Z = Matrix(sparse(x, y, X))\n40×40 Matrix{Float64}:\n\njulia&gt; maximum(Z)\n2.9729276216714315\n\njulia&gt; maximum(X)\n2.9729276216714315\n\njulia&gt; X = DAMM(x_range, p)\n1600-element Vector{Float64}:\n\njulia&gt; maximum(X)\n10.062613798887448\n\njulia&gt; Z = Matrix(sparse(x, y, X));\n\njulia&gt; maximum(Z)\n19.08816683600714```","user":"US5RA4FK4","ts":"1609795304.210900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"58RV2","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> X = randn(1600)\n1600-element Vector{Float64}:\n\njulia> Z = Matrix(sparse(x, y, X))\n40×40 Matrix{Float64}:\n\njulia> maximum(Z)\n2.9729276216714315\n\njulia> maximum(X)\n2.9729276216714315\n\njulia> X = DAMM(x_range, p)\n1600-element Vector{Float64}:\n\njulia> maximum(X)\n10.062613798887448\n\njulia> Z = Matrix(sparse(x, y, X));\n\njulia> maximum(Z)\n19.08816683600714"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"16fa15c1-1029-4213-9664-e53cb6fea1e9","type":"message","text":"you two do not get the same y","user":"U8HHPBKQR","ts":"1609795349.211100","team":"T68168MUP","edited":{"user":"U8HHPBKQR","ts":"1609795354.000000"},"blocks":[{"type":"rich_text","block_id":"Heez","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you two do not get the same y"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"72112f12-9260-4ef5-bef3-e1947f214017","type":"message","text":"from the end:\n``` 29  28\n 30  30\n 31  31\n 32  32\n 33  33\n 34  34\n 35  35\n 36  36\n 37  37\n 38  38\n 39  39\n 40  40```","user":"U8HHPBKQR","ts":"1609795414.211400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eS=1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"from the end:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":" 29  28\n 30  30\n 31  31\n 32  32\n 33  33\n 34  34\n 35  35\n 36  36\n 37  37\n 38  38\n 39  39\n 40  40"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"116a06d7-2434-4586-8e0e-79555d871bc3","type":"message","text":"alexis yours is on the right","user":"U8HHPBKQR","ts":"1609795429.211600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DY3N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"alexis yours is on the right"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"7d3f8126-1b6a-4887-9b54-b0bd50959141","type":"message","text":"uh, I have a 28 30? there must be something wrong in my code then","user":"US5RA4FK4","ts":"1609795457.211800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oYql","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"uh, I have a 28 30? there must be something wrong in my code then"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"e5a51155-0525-4caa-85f5-f884484b6ec9","type":"message","text":"oh...","user":"US5RA4FK4","ts":"1609795482.212000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bd07S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh..."}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"2f7c8c70-eaec-4ee1-8a5b-d32dbf85451b","type":"message","text":"yeah, I have to fix this","user":"US5RA4FK4","ts":"1609795486.212200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ARA/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, I have to fix this"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"043212c8-6d47-4c5c-99e3-1fae2801e916","type":"message","text":"thanks <@U8HHPBKQR>, I'll correct this and see if it fixes the issue","user":"US5RA4FK4","ts":"1609795515.212400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+c5A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks "},{"type":"user","user_id":"U8HHPBKQR"},{"type":"text","text":", I'll correct this and see if it fixes the issue"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"ce236b20-02a4-4b0f-acd8-bdad45d0abd7","type":"message","text":"thank benjamin''s mwe :slightly_smiling_face:","user":"U8HHPBKQR","ts":"1609795563.212600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=SB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank benjamin''s mwe "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"4fb38ade-6367-4c58-93ad-14084a47ea31","type":"message","text":"yeah","user":"US5RA4FK4","ts":"1609795626.212800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=RYV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"01a2bb34-321e-4ce8-964d-501155569d6b","type":"message","text":"thanks a tons <@U6CFMFM2R>","user":"US5RA4FK4","ts":"1609795632.213000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+JG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks a tons "},{"type":"user","user_id":"U6CFMFM2R"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"6a7b4eef-b2ce-4c92-902b-2738aa6b8970","type":"message","text":"also if you used something like `mean` instead of `maximum` you would have seen a difference using your `x` and `y` with the random `X`","user":"U6CFMFM2R","ts":"1609795652.213200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"inYa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also if you used something like "},{"type":"text","text":"mean","style":{"code":true}},{"type":"text","text":" instead of "},{"type":"text","text":"maximum","style":{"code":true}},{"type":"text","text":" you would have seen a difference using your "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"y","style":{"code":true}},{"type":"text","text":" with the random "},{"type":"text","text":"X","style":{"code":true}}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"a3ac1762-edd3-43bc-aeee-596a5c5465fd","type":"message","text":"looks like you just messed up your indexing variables (some off by 1 error probably)","user":"U6CFMFM2R","ts":"1609795678.213400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tyBT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"looks like you just messed up your indexing variables (some off by 1 error probably)"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4","reactions":[{"name":"heavy_check_mark","users":["US5RA4FK4"],"count":1}]},{"client_msg_id":"cdcfab34-e438-400b-a3b1-d7d6d65c275e","type":"message","text":"problem solved","user":"US5RA4FK4","ts":"1609795754.213600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dY44e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"problem solved"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"},{"client_msg_id":"dea938a0-9ca2-4a33-aba4-9d9b5617900c","type":"message","text":"I have to improve in generating those arrays... thanks again!","user":"US5RA4FK4","ts":"1609795798.213900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XS1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have to improve in generating those arrays... thanks again!"}]}]}],"thread_ts":"1609793566.209700","parent_user_id":"US5RA4FK4"}]