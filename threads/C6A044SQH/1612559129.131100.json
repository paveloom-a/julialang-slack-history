[{"client_msg_id":"8f780d0f-510b-46e5-9cbe-57a30e08344c","type":"message","text":"So if I have module A defining a struct, then with \"using\" import the struct to module B, and define a function on that struct. Then in module C \"using\" import both module A and B. When I try to run the function on the struct I get a method error. Is there any way to make the struct imported from A and methods from B apply to each other appropriately? MWE:\nexampleimport.jl\n```module ExampleImport\nmutable struct TestStruct\n    val::Int\nend\nexport TestStruct\nend```\n\nexampleimport2.jl\n```module ExampleImport2\ninclude(\"exampleimport.jl\")\nusing .ExampleImport\nfunction teststructmod!(x::TestStruct)\n    x.val = 10\nend\nexport teststructmod!\nend```\n\nexample.jl\n```include(\"exampleimport.jl\")\ninclude(\"exampleimport2.jl\")\n\nusing .ExampleImport2\nusing .ExampleImport\n\ntmp = TestStruct(2)\n\nteststructmod!(tmp)```\n","user":"U0199BYTCDP","ts":"1612559129.131100","team":"T68168MUP","edited":{"user":"U0199BYTCDP","ts":"1612559833.000000"},"blocks":[{"type":"rich_text","block_id":"8y3U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So if I have module A defining a struct, then with \"using\" import the struct to module B, and define a function on that struct. Then in module C \"using\" import both module A and B. When I try to run the function on the struct I get a method error. Is there any way to make the struct imported from A and methods from B apply to each other appropriately? MWE:\nexampleimport.jl\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"module ExampleImport\nmutable struct TestStruct\n    val::Int\nend\nexport TestStruct\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n\nexampleimport2.jl\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"module ExampleImport2\ninclude(\"exampleimport.jl\")\nusing .ExampleImport\nfunction teststructmod!(x::TestStruct)\n    x.val = 10\nend\nexport teststructmod!\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n\nexample.jl\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"include(\"exampleimport.jl\")\ninclude(\"exampleimport2.jl\")\n\nusing .ExampleImport2\nusing .ExampleImport\n\ntmp = TestStruct(2)\n\nteststructmod!(tmp)"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1612559129.131100","reply_count":13,"reply_users_count":5,"latest_reply":"1612570055.140300","reply_users":["B01J9QZ4SP8","U0199BYTCDP","U019K6Q9N15","UBF9YRB6H","U6C82JCSK"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612559130.131200","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP","reactions":[{"name":"bridge","users":["U0199BYTCDP"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/54704| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1612559251.131600","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"b9c45813-f9bc-46a1-b042-860f5f0f2d76","type":"message","text":"output:\nERROR: LoadError: MethodError: no method matching teststructmod!(::TestStruct)\nClosest candidates are:\n  teststructmod!(::Main.ExampleImport2.ExampleImport.TestStruct)","user":"U0199BYTCDP","ts":"1612559295.131800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cdIKo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"output:\nERROR: LoadError: MethodError: no method matching teststructmod!(::TestStruct)\nClosest candidates are:\n  teststructmod!(::Main.ExampleImport2.ExampleImport.TestStruct)"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"eca775dd-1eb8-415c-be32-e270bef17ded","type":"message","text":"Slack tip: Use triple backticks ``` for multi-line code-block formatting.","user":"U019K6Q9N15","ts":"1612559586.132000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SeOX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Slack tip: Use triple backticks "},{"type":"text","text":"`","style":{"code":true}},{"type":"text","text":" for multi-line code-block formatting."}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP","reactions":[{"name":"thumbsup_all","users":["U0199BYTCDP"],"count":1}]},{"client_msg_id":"0ac23dfb-cc6e-49c4-9eac-5d4cee7b79d8","type":"message","text":"You have two copies of `TestStruct` floating around since you included the `exampleimport` twice, the first time in global scope and the 2nd time inside `ExampleImport2`'s scope. You only defined a method for the 2nd module's `TestStruct` and not the second.\n\nWorkaround (1) is to export ExampleImport from `ExampleImport2`. Workaround 2, preferrable, is to make each visible to your `LOAD_PATH` by `dev`ing them and do everything via `using`.\n\nNote: I'm not 100% confident this is *exactly* your problem or *exactly* the solution, but it's on the right track. Hopefully someone more informed can answer","user":"UBF9YRB6H","ts":"1612561153.138200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"puu/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You have two copies of "},{"type":"text","text":"TestStruct","style":{"code":true}},{"type":"text","text":" floating around since you included the "},{"type":"text","text":"exampleimport","style":{"code":true}},{"type":"text","text":" twice, the first time in global scope and the 2nd time inside "},{"type":"text","text":"ExampleImport2","style":{"code":true}},{"type":"text","text":"'s scope. You only defined a method for the 2nd module's "},{"type":"text","text":"TestStruct","style":{"code":true}},{"type":"text","text":" and not the second.\n\nWorkaround (1) is to export ExampleImport from "},{"type":"text","text":"ExampleImport2","style":{"code":true}},{"type":"text","text":". Workaround 2, preferrable, is to make each visible to your "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" by `dev`ing them and do everything via "},{"type":"text","text":"using","style":{"code":true}},{"type":"text","text":".\n\nNote: I'm not 100% confident this is "},{"type":"text","text":"exactly","style":{"bold":true}},{"type":"text","text":" your problem or "},{"type":"text","text":"exactly","style":{"bold":true}},{"type":"text","text":" the solution, but it's on the right track. Hopefully someone more informed can answer"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP","reactions":[{"name":"thumbsup_all","users":["U0199BYTCDP"],"count":1}]},{"client_msg_id":"c3544f08-1a2a-4ffc-b3cf-4ecd54b3c274","type":"message","text":"You can make this exact example work by using Reexport.jl.   Keep module 1 the same.  In 2 use\n``` \nusing Reexport\n@reexport using .ExampleImport```","user":"U6C82JCSK","ts":"1612561706.138500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K3ucL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can make this exact example work by using Reexport.jl.   Keep module 1 the same.  In 2 use\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":" \nusing Reexport\n@reexport using .ExampleImport"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP","reactions":[{"name":"heart","users":["U0199BYTCDP"],"count":1}]},{"client_msg_id":"8f49f156-8336-4ef4-9929-6b95a9b154f5","type":"message","text":"then in 3 remove the the imports and using for module 1","user":"U6C82JCSK","ts":"1612561729.138800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9SW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then in 3 remove the the imports and using for module 1"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"0b79f135-653f-4363-843c-1df3c83c2746","type":"message","text":"Thanks for pointing out reexport. That definitely seems like the best option.","user":"U0199BYTCDP","ts":"1612562023.139100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iaiz6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for pointing out reexport. That definitely seems like the best option."}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"39948bc7-f287-4854-9a88-b2b145dd2032","type":"message","text":":+1:","user":"U6C82JCSK","ts":"1612562059.139300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qyVm","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"89b0efbe-3777-4b04-89a8-39477cd8e5f1","type":"message","text":"You should reply to the discourse post with your solution","user":"UBF9YRB6H","ts":"1612562512.139500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RzaXZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You should reply to the discourse post with your solution"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"b3642c1b-9ade-446b-91b4-1822b0eaecd9","type":"message","text":"Done.  I kinda thought that the thread would be cross posted.  Guess not.","user":"U6C82JCSK","ts":"1612563304.139700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Obm/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Done.  I kinda thought that the thread would be cross posted.  Guess not."}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"client_msg_id":"f29f6605-baa8-4bc9-9e77-e7c909580069","type":"message","text":"yeah its still a WIP","user":"UBF9YRB6H","ts":"1612563348.139900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Ia","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah its still a WIP"}]}]}],"thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"},{"type":"message","subtype":"bot_message","text":"Hey <@U0199BYTCDP>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1612570055.140300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612559129.131100","parent_user_id":"U0199BYTCDP"}]