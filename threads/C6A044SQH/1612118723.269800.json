[{"client_msg_id":"4e93c8ce-2e14-4d3c-b4c1-1bb07ff8791c","type":"message","text":"I made a Dockerfile (<https://github.com/StatisticalMice/julia-repo-in-jupyterlab-in-docker>) that aims to\n```This opens a directory in Jupyter lab inside Docker.\n\nGit clone this repo\nGit clone a repository to the subdirectory ./project git clone git@github.com:bkamins/Julia-DataFrames-Tutorial.git project\nBuild docker image docker build -t repo-as-notebook:latest .\nRun the docker image docker run -it -p 8888:8888 repo-as-notebook:latest .\nOpen this in the browser <http://localhost:8888/>```\nIt works otherwise, but I can’t figure out how to open the jupyter lab URL from outside the docker image. There’s an attempt to disable all auth, but it didn’t help. The Julia command prints no url. Dockerfile in reply.","user":"U01CQTKB86N","ts":"1612118723.269800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ea=e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a Dockerfile ("},{"type":"link","url":"https://github.com/StatisticalMice/julia-repo-in-jupyterlab-in-docker"},{"type":"text","text":") that aims to\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"This opens a directory in Jupyter lab inside Docker.\n\nGit clone this repo\nGit clone a repository to the subdirectory ./project git clone git@github.com:bkamins/Julia-DataFrames-Tutorial.git project\nBuild docker image docker build -t repo-as-notebook:latest .\nRun the docker image docker run -it -p 8888:8888 repo-as-notebook:latest .\nOpen this in the browser "},{"type":"link","url":"http://localhost:8888/"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It works otherwise, but I can’t figure out how to open the jupyter lab URL from outside the docker image. There’s an attempt to disable all auth, but it didn’t help. The Julia command prints no url. Dockerfile in reply."}]}]}],"thread_ts":"1612118723.269800","reply_count":32,"reply_users_count":3,"latest_reply":"1612123845.279500","reply_users":["B01J9QZ4SP8","U01CQTKB86N","U019K6Q9N15"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612118725.269900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"56f1e33d-5990-4fcc-b9d8-9f757203e9b0","type":"message","text":"```FROM julia:1.6.0-beta1-buster\n\nUSER root\nRUN useradd -ms /bin/bash arthur\nRUN apt-get update\nRUN apt-get install -y wget &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nUSER arthur\nWORKDIR /home/arthur\nENV JULIA_NUM_THREADS=4\nENV PATH=\"/home/arthur/miniconda3/bin:${PATH}\"\nARG PATH=\"/home/arthur/miniconda3/bin:${PATH}\"\nRUN wget \\\n    <https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh> \\\n    &amp;&amp; mkdir /home/arthur/.conda \\\n    &amp;&amp; bash Miniconda3-latest-Linux-x86_64.sh -b \\\n    &amp;&amp; rm -f Miniconda3-latest-Linux-x86_64.sh \nRUN conda --version\nRUN conda install -y jupyterlab\n\nCOPY --chown=arthur:arthur project .\nRUN rm -f Manifest.toml \nRUN julia --project=. -e \"using Pkg; Pkg.instantiate();\"\nRUN julia --project=. -e \"using Pkg; Pkg.precompile();\"\n\nCOPY --chown=arthur:arthur jupyter_notebook_config.py ./.jupyter/jupyter_notebook_config.py\n\nEXPOSE 8888/tcp\nCMD julia --project=. -e \"using IJulia; jupyterlab();\"\n#CMD /bin/bash```","user":"U01CQTKB86N","ts":"1612118749.270100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e+7D","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"FROM julia:1.6.0-beta1-buster\n\nUSER root\nRUN useradd -ms /bin/bash arthur\nRUN apt-get update\nRUN apt-get install -y wget && rm -rf /var/lib/apt/lists/*\n\nUSER arthur\nWORKDIR /home/arthur\nENV JULIA_NUM_THREADS=4\nENV PATH=\"/home/arthur/miniconda3/bin:${PATH}\"\nARG PATH=\"/home/arthur/miniconda3/bin:${PATH}\"\nRUN wget \\\n    "},{"type":"link","url":"https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh"},{"type":"text","text":" \\\n    && mkdir /home/arthur/.conda \\\n    && bash Miniconda3-latest-Linux-x86_64.sh -b \\\n    && rm -f Miniconda3-latest-Linux-x86_64.sh \nRUN conda --version\nRUN conda install -y jupyterlab\n\nCOPY --chown=arthur:arthur project .\nRUN rm -f Manifest.toml \nRUN julia --project=. -e \"using Pkg; Pkg.instantiate();\"\nRUN julia --project=. -e \"using Pkg; Pkg.precompile();\"\n\nCOPY --chown=arthur:arthur jupyter_notebook_config.py ./.jupyter/jupyter_notebook_config.py\n\nEXPOSE 8888/tcp\nCMD julia --project=. -e \"using IJulia; jupyterlab();\"\n#CMD /bin/bash"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"e41df667-2448-41af-8bce-1a492a649c39","type":"message","text":"When I've done this in the past, it was necessary to manually specify that jupyter listen on `0.0.0.0`, since it usually listens on the container's `localhost`.","user":"U019K6Q9N15","ts":"1612119244.271500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cI0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I've done this in the past, it was necessary to manually specify that jupyter listen on "},{"type":"text","text":"0.0.0.0","style":{"code":true}},{"type":"text","text":", since it usually listens on the container's "},{"type":"text","text":"localhost","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"c55b58bd-7bd8-4f66-8e0a-1e9cd8c7b8d0","type":"message","text":"So try that in your `CMD`","user":"U019K6Q9N15","ts":"1612119262.271700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D37W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So try that in your "},{"type":"text","text":"CMD","style":{"code":true}}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"6b950a83-f407-4c59-b676-ff720d732b92","type":"message","text":"Arthur means Arthur Dent. :smile:","user":"U01CQTKB86N","ts":"1612119284.271900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"inwSM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Arthur means Arthur Dent. "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d27dcdf9-ad81-4708-b502-1aeec51762e9","type":"message","text":"Sounds good, but how?","user":"U01CQTKB86N","ts":"1612119319.272100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SYqUW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sounds good, but how?"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"5ec0d83f-a343-4d0d-8509-41cb1253a8c0","type":"message","text":"The `jupyterlab` function should have an argument? Let's see...","user":"U019K6Q9N15","ts":"1612119367.272300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KVN3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The "},{"type":"text","text":"jupyterlab","style":{"code":true}},{"type":"text","text":" function should have an argument? Let's see..."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"923f6c64-ab3e-4de9-8c76-832e4b36642e","type":"message","text":"Hmmm, maybe not <https://github.com/JuliaLang/IJulia.jl/blob/master/src/jupyter.jl#L100>","user":"U019K6Q9N15","ts":"1612119435.272500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"meUXG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm, maybe not "},{"type":"link","url":"https://github.com/JuliaLang/IJulia.jl/blob/master/src/jupyter.jl#L100"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"013b006d-1c86-48d9-b576-86e46016bb37","type":"message","text":"I seem to recall that when I did it I invoked jupyter in the `CMD` directly","user":"U019K6Q9N15","ts":"1612119473.272700","team":"T68168MUP","edited":{"user":"U019K6Q9N15","ts":"1612119495.000000"},"blocks":[{"type":"rich_text","block_id":"y9Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I seem to recall that when I did it I invoked jupyter in the "},{"type":"text","text":"CMD","style":{"code":true}},{"type":"text","text":" directly"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"9c052482-425e-4ba0-992c-00b0859e6e88","type":"message","text":"instead of calling it from within julia","user":"U019K6Q9N15","ts":"1612119504.273100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zBQgj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"instead of calling it from within julia"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d0afcbfd-a6b2-476d-9562-05a640d5dac5","type":"message","text":"Launching from shell has other configuration things to do.","user":"U01CQTKB86N","ts":"1612119528.273300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uRR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Launching from shell has other configuration things to do."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ae6dc7d8-a883-401f-a932-550eb2087d6d","type":"message","text":"I could probably change IJulia, but what would be the best way to handle authentication?","user":"U01CQTKB86N","ts":"1612119580.273500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DeZj8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I could probably change IJulia, but what would be the best way to handle authentication?"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"1154ac0f-be63-4b44-9aeb-8324df1d1eef","type":"message","text":"Someone else has probably solved this for other languages, but I didn’t yet do googling for that.","user":"U01CQTKB86N","ts":"1612119684.273700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xm7mL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Someone else has probably solved this for other languages, but I didn’t yet do googling for that."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"3a255844-c5d6-48ee-b798-0a0ae1000a12","type":"message","text":"I think we're a little out of sync here. Are these other configuration things undesirable?","user":"U019K6Q9N15","ts":"1612119692.273900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=zXhz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think we're a little out of sync here. Are these other configuration things undesirable?"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"0fcbb417-a0ce-41cd-9340-9a7cae793235","type":"message","text":"Turning off all authentication (which might not work)? Yes.","user":"U01CQTKB86N","ts":"1612119732.274100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u5o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Turning off all authentication (which might not work)? Yes."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"c98de50c-fc1a-4e0f-8324-013980c6cd3a","type":"message","text":"Hmm, I don't remember having to do that.\n\nMy solution to building this was a little different than yours.\nLet me post my dockerfile for you.\n\n```\nFROM continuumio/miniconda3\n\n# Prereqs\nRUN apt-get update &amp;&amp; apt-get install -y \\\n  git \\\n  curl \\\n  wget\n\n# Julia\nARG VER=1.6.0-beta1\nENV VER=$VER\nCOPY ./julia-install.sh /opt/julia-install.sh\nRUN /opt/julia-install.sh\n\n# IJulia\nRUN conda install -c conda-forge jupyterlab\nENV JUPYTER=/opt/conda/bin/jupyter\nRUN julia -e \"using Pkg; Pkg.add(\\\"Conda\\\"); Pkg.add(\\\"IJulia\\\");\"\n\n# Invocation\nWORKDIR /mnt\nCMD [\"jupyter\", \"lab\", \"--ip\", \"0.0.0.0\", \"--port\", \"8888\", \"--allow-root\"]```","user":"U019K6Q9N15","ts":"1612120075.274300","team":"T68168MUP","edited":{"user":"U019K6Q9N15","ts":"1612120880.000000"},"blocks":[{"type":"rich_text","block_id":"l/+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, I don't remember having to do that.\n\nMy solution to building this was a little different than yours.\nLet me post my dockerfile for you.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nFROM continuumio/miniconda3\n\n# Prereqs\nRUN apt-get update && apt-get install -y \\\n  git \\\n  curl \\\n  wget\n\n# Julia\nARG VER=1.6.0-beta1\nENV VER=$VER\nCOPY ./julia-install.sh /opt/julia-install.sh\nRUN /opt/julia-install.sh\n\n# IJulia\nRUN conda install -c conda-forge jupyterlab\nENV JUPYTER=/opt/conda/bin/jupyter\nRUN julia -e \"using Pkg; Pkg.add(\\\"Conda\\\"); Pkg.add(\\\"IJulia\\\");\"\n\n# Invocation\nWORKDIR /mnt\nCMD [\"jupyter\", \"lab\", \"--ip\", \"0.0.0.0\", \"--port\", \"8888\", \"--allow-root\"]"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"eff0b360-7f9f-40fc-b42b-e68c2280773f","type":"message","text":"This worked, seemed to have authentication","user":"U019K6Q9N15","ts":"1612120098.274500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QkiEd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This worked, seemed to have authentication"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"2fea39fe-2808-40ee-958e-c29b29e0434a","type":"message","text":"Let me know if you want `julia-install.sh`","user":"U019K6Q9N15","ts":"1612120109.274700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QAO0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me know if you want "},{"type":"text","text":"julia-install.sh","style":{"code":true}}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"6609a99a-c497-4883-95ee-8492e056ba85","type":"message","text":"Doesn't have all that user setup that you do","user":"U019K6Q9N15","ts":"1612120189.275000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6MNmf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn't have all that user setup that you do"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7ef5cb4a-4ed1-47b9-9158-1d0e29755a74","type":"message","text":"~There might be a small error with that... let me test it out~ ","user":"U019K6Q9N15","ts":"1612120273.275300","team":"T68168MUP","edited":{"user":"U019K6Q9N15","ts":"1612120895.000000"},"blocks":[{"type":"rich_text","block_id":"3rv8C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There might be a small error with that... let me test it out ","style":{"strike":true}}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d988aef8-31f2-484c-8f33-b1a948822cf6","type":"message","text":"I’m trying this out. I don’t need that installation script as I start with an official Julia image.","user":"U01CQTKB86N","ts":"1612120972.276100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tgh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m trying this out. I don’t need that installation script as I start with an official Julia image."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"type":"message","text":"Works here! You'd def need to do a little tinkering so as to not have to run as root...","files":[{"id":"F01L97741TQ","created":1612120949,"timestamp":1612120949,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U019K6Q9N15","editable":false,"size":145160,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01L97741TQ/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01L97741TQ/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_360.png","thumb_360_w":360,"thumb_360_h":123,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_480.png","thumb_480_w":480,"thumb_480_h":164,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_720.png","thumb_720_w":720,"thumb_720_h":246,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_800.png","thumb_800_w":800,"thumb_800_h":273,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_960.png","thumb_960_w":960,"thumb_960_h":328,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01L97741TQ-9a5dd4f845/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":349,"original_w":1512,"original_h":516,"thumb_tiny":"AwAQADCnRik60vNMgTAoOKOaMmmAnFFGTQTmgD//2Q==","permalink":"https://julialang.slack.com/files/U019K6Q9N15/F01L97741TQ/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01L97741TQ-04066d510d","is_starred":false,"has_rich_preview":false},{"id":"F01LUK52FB3","created":1612121010,"timestamp":1612121010,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U019K6Q9N15","editable":false,"size":165984,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01LUK52FB3/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01LUK52FB3/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_360.png","thumb_360_w":360,"thumb_360_h":203,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_480.png","thumb_480_w":480,"thumb_480_h":270,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_720.png","thumb_720_w":720,"thumb_720_h":405,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_800.png","thumb_800_w":800,"thumb_800_h":450,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_960.png","thumb_960_w":960,"thumb_960_h":540,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01LUK52FB3-3a76381ddb/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":576,"original_w":1920,"original_h":1080,"thumb_tiny":"AwAbADC95SY/1aflR5Kf880/Kpe1IevrxQBH5Kf880/KjyU/55p+VS0UAReSn/PNPyo8lP8Anmn5VLQelAB2pCMnPNZf2ufP+s/QU37ZP/z0P5CgDWxz1payftc//PQ/kKPtc+P9YfyFAGtQelZv2mbyVbfyWI6Cm/apsj5z+QoA/9k=","permalink":"https://julialang.slack.com/files/U019K6Q9N15/F01LUK52FB3/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01LUK52FB3-b46016fe41","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"Fj22","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Works here! You'd def need to do a little tinkering so as to not have to run as root..."}]}]}],"user":"U019K6Q9N15","ts":"1612121042.276300","thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"e8259c5a-507e-4cdb-b3bb-dc95114e3591","type":"message","text":"Mine should be running as arthur.","user":"U01CQTKB86N","ts":"1612121115.276900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5/0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Mine should be running as arthur."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N","reactions":[{"name":"thumbsup_all","users":["U019K6Q9N15"],"count":1},{"name":"milky_way","users":["U019K6Q9N15"],"count":1}]},{"client_msg_id":"12e56256-18e9-4bc8-9860-091f4ed5e760","type":"message","text":"I think I started with the miniconda image because I found automating the julia install easier than miniconda.\n\nIf you're having troubles with configuring conda &amp;c I'll leave the script here:\n`julia-install.sh`\n```#!/bin/bash\necho \"Installing Julia version $VER\"\n\n# This strips the patch version from the version\nMM_VER=$(echo $VER | sed -E 's/^([0-9]+)\\.([0-9]+)\\.([0-9]+).*$/\\1.\\2/')\n\nBASE_PATH=/opt\nBINARY_PATH=/usr/local/bin/julia\nJULIA_DL_PATH=$BASE_PATH/julia-$VER-linux-x86_64.tar.gz\nJULIA_UNTAR_PATH=$BASE_PATH/julia-$VER\nJULIA_REMOTE_URL=<https://julialang-s3.julialang.org/bin/linux/x64/$MM_VER/julia-$VER-linux-x86_64.tar.gz>\n\nwget -nv --show-progress --progress=bar:force:noscroll -O $JULIA_DL_PATH $JULIA_REMOTE_URL\nmkdir -p $JULIA_UNTAR_PATH\necho \"Extracting Julia\"\ntar xf $JULIA_DL_PATH --strip-components 1 -C $JULIA_UNTAR_PATH\nrm $JULIA_DL_PATH\nln -s $JULIA_UNTAR_PATH/bin/julia $BINARY_PATH\n\necho \"Julia binary linked at $BINARY_PATH\"```","user":"U019K6Q9N15","ts":"1612121390.277300","team":"T68168MUP","edited":{"user":"U019K6Q9N15","ts":"1612121560.000000"},"blocks":[{"type":"rich_text","block_id":"8WbBJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I started with the miniconda image because I found automating the julia install easier than miniconda.\n\nIf you're having troubles with configuring conda &c I'll leave the script here:\n"},{"type":"text","text":"julia-install.sh","style":{"code":true}},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"#!/bin/bash\necho \"Installing Julia version $VER\"\n\n# This strips the patch version from the version\nMM_VER=$(echo $VER | sed -E 's/^([0-9]+)\\.([0-9]+)\\.([0-9]+).*$/\\1.\\2/')\n\nBASE_PATH=/opt\nBINARY_PATH=/usr/local/bin/julia\nJULIA_DL_PATH=$BASE_PATH/julia-$VER-linux-x86_64.tar.gz\nJULIA_UNTAR_PATH=$BASE_PATH/julia-$VER\nJULIA_REMOTE_URL="},{"type":"link","url":"https://julialang-s3.julialang.org/bin/linux/x64/$MM_VER/julia-$VER-linux-x86_64.tar.gz"},{"type":"text","text":"\n\nwget -nv --show-progress --progress=bar:force:noscroll -O $JULIA_DL_PATH $JULIA_REMOTE_URL\nmkdir -p $JULIA_UNTAR_PATH\necho \"Extracting Julia\"\ntar xf $JULIA_DL_PATH --strip-components 1 -C $JULIA_UNTAR_PATH\nrm $JULIA_DL_PATH\nln -s $JULIA_UNTAR_PATH/bin/julia $BINARY_PATH\n\necho \"Julia binary linked at $BINARY_PATH\""}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"9a853ed4-51ea-4be8-bd37-5dfbc4e7e692","type":"message","text":"It works for me now! I can start with `CMD [\"jupyter\", \"lab\", \"--ip\", \"0.0.0.0\", \"--port\", \"8888\"]` . Full Dockerfile in github.","user":"U01CQTKB86N","ts":"1612121703.277800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fB2R7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It works for me now! I can start with "},{"type":"text","text":"CMD [\"jupyter\", \"lab\", \"--ip\", \"0.0.0.0\", \"--port\", \"8888\"]","style":{"code":true}},{"type":"text","text":" . Full Dockerfile in github."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N","reactions":[{"name":"tada","users":["U019K6Q9N15"],"count":1}]},{"client_msg_id":"0e02d794-1a22-4439-80fc-db873f69443d","type":"message","text":"I’ll need to figure out this authentication so I can run it in GCP/AWS. It works locally already.","user":"U01CQTKB86N","ts":"1612121742.278100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wyX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ll need to figure out this authentication so I can run it in GCP/AWS. It works locally already."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"type":"message","text":"This is already relatively fast, but needs more compilation ahead…","files":[{"id":"F01L97K1XAS","created":1612121822,"timestamp":1612121822,"name":"Screenshot 2021-01-31 at 21.36.20.png","title":"Screenshot 2021-01-31 at 21.36.20.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01CQTKB86N","editable":false,"size":25068,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01L97K1XAS/screenshot_2021-01-31_at_21.36.20.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01L97K1XAS/download/screenshot_2021-01-31_at_21.36.20.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01L97K1XAS-3c1bbd14b4/screenshot_2021-01-31_at_21.36.20_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01L97K1XAS-3c1bbd14b4/screenshot_2021-01-31_at_21.36.20_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01L97K1XAS-3c1bbd14b4/screenshot_2021-01-31_at_21.36.20_360.png","thumb_360_w":360,"thumb_360_h":239,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01L97K1XAS-3c1bbd14b4/screenshot_2021-01-31_at_21.36.20_160.png","original_w":431,"original_h":286,"thumb_tiny":"AwAfADDSbJHBwfWmbX/56j8qeenTNNx/0zFACYf/AJ6D8qCr/wDPQflSgA9UFLtX+6PyoAaFf/nqM/SnKrg/M+R6YpQAOgAozQAN0PGaZgf3D+dPI4pFXH/680AA+mKWlxRigBKKXFGKAP/Z","permalink":"https://julialang.slack.com/files/U01CQTKB86N/F01L97K1XAS/screenshot_2021-01-31_at_21.36.20.png","permalink_public":"https://slack-files.com/T68168MUP-F01L97K1XAS-18d3796ce8","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"qol","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is already relatively fast, but needs more compilation ahead…"}]}]}],"user":"U01CQTKB86N","display_as_bot":false,"ts":"1612121838.278300","thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7d67ff04-f12b-4db2-9f42-8162ef2697ad","type":"message","text":"Oh, also, if we wanted the port to be dynamic you could leave the `\"--port\", \"8888\"` args out of the dockerfile command and have the user introducing that at the end of `docker run` , i.e. `docker run -it -p 8888:8888 repo-as-notebook:latest --port 8888`","user":"U019K6Q9N15","ts":"1612121884.278700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pYlM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, also, if we wanted the port to be dynamic you could leave the "},{"type":"text","text":"\"--port\", \"8888\"","style":{"code":true}},{"type":"text","text":" args out of the dockerfile command and have the user introducing that at the end of "},{"type":"text","text":"docker run","style":{"code":true}},{"type":"text","text":" , i.e. "},{"type":"text","text":"docker run -it -p 8888:8888 repo-as-notebook:latest --port 8888","style":{"code":true}}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"47e25479-0636-4847-a24f-bc627713b5e0","type":"message","text":"This is simpler, except for the copy&amp;paste of the URL:\n`docker run -it -p 8080:8888 repo-as-notebook:latest`","user":"U01CQTKB86N","ts":"1612122016.278900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ISS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is simpler, except for the copy&paste of the URL:\n"},{"type":"text","text":"docker run -it -p 8080:8888 repo-as-notebook:latest","style":{"code":true}}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"72bba8d2-01e6-47fe-b8cb-83d753e30c81","type":"message","text":"Hmm, I got password authentication working.\n```c.NotebookApp.token = ''\n# 'password'\nc.NotebookApp.password = 'argon2:$argon2id$v=19$m=10240,t=10,p=8$USld1y4yvNS918PKzL2cMg$T4yqdE/GJs6s9UW/aua3Tg'```\nNot ideal, it’s currently just `password`.","user":"U01CQTKB86N","ts":"1612123711.279100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RFax","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, I got password authentication working.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"c.NotebookApp.token = ''\n# 'password'\nc.NotebookApp.password = 'argon2:$argon2id$v=19$m=10240,t=10,p=8$USld1y4yvNS918PKzL2cMg$T4yqdE/GJs6s9UW/aua3Tg'"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Not ideal, it’s currently just "},{"type":"text","text":"password","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"30b91b0f-eaf7-45f2-887b-38e6dc15043f","type":"message","text":"I can create it with Python.\n```python\nPython 3.8.5 (default, Sep  4 2020, 02:22:02) \n[Clang 10.0.0 ] :: Anaconda, Inc. on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from notebook.auth import passwd\n&gt;&gt;&gt; passwd('password')\n'argon2:$argon2id$v=19$m=10240,t=10,p=8$USld1y4yvNS918PKzL2cMg$T4yqdE/GJs6s9UW/aua3Tg'```","user":"U01CQTKB86N","ts":"1612123726.279300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AJA7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can create it with Python.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"python\nPython 3.8.5 (default, Sep  4 2020, 02:22:02) \n[Clang 10.0.0 ] :: Anaconda, Inc. on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from notebook.auth import passwd\n>>> passwd('password')\n'argon2:$argon2id$v=19$m=10240,t=10,p=8$USld1y4yvNS918PKzL2cMg$T4yqdE/GJs6s9UW/aua3Tg'"}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ee39a199-2096-4512-9219-3102674334bd","type":"message","text":"Docker might need to run Python during building, unless Julia can do that.","user":"U01CQTKB86N","ts":"1612123845.279500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E8gjl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Docker might need to run Python during building, unless Julia can do that."}]}]}],"thread_ts":"1612118723.269800","parent_user_id":"U01CQTKB86N"}]