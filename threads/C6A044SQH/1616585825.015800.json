[{"client_msg_id":"ab0dc80b-ad3d-4daa-85b3-81ed6676a7a6","type":"message","text":"Hey. I have a custom graph type for which I have a function able to write a \".dot\" representation. What's the canonical path to be able to do something like `display(::MyGraph)` and have a viewer on screen with a drawing of my graph?","user":"U01MG0TN079","ts":"1616585825.015800","team":"T68168MUP","edited":{"user":"U01MG0TN079","ts":"1616585895.000000"},"blocks":[{"type":"rich_text","block_id":"0JnI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey. I have a custom graph type for which I have a function able to write a \".dot\" representation. What's the canonical path to be able to do something like "},{"type":"text","text":"display(::MyGraph)","style":{"code":true}},{"type":"text","text":" and have a viewer on screen with a drawing of my graph?"}]}]}],"thread_ts":"1616585825.015800","reply_count":9,"reply_users_count":2,"latest_reply":"1616592423.035200","reply_users":["U7HAYKY9X","U01MG0TN079"],"is_locked":false,"subscribed":false,"reactions":[{"name":"wave","users":["U01M655G9AR"],"count":1}]},{"client_msg_id":"142fc598-b2dd-407b-b018-0e86b48e36bf","type":"message","text":"You should overwrite `show(::IO, ::MIME, ::MyType)` . See the docs for `show`","user":"U7HAYKY9X","ts":"1616586296.016200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EixG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You should overwrite "},{"type":"text","text":"show(::IO, ::MIME, ::MyType)","style":{"code":true}},{"type":"text","text":" . See the docs for "},{"type":"text","text":"show","style":{"code":true}}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"9cd5696a-133d-4a4f-8983-077616491a91","type":"message","text":"Ah, good, thanks!","user":"U01MG0TN079","ts":"1616586970.017500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/e5U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, good, thanks!"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"13b97280-1f45-4995-8b38-b477159055fa","type":"message","text":"but calling `display()`  from the repl won't open a window with the image right?","user":"U01MG0TN079","ts":"1616590595.028800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z/XQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but calling "},{"type":"text","text":"display()","style":{"code":true}},{"type":"text","text":"  from the repl won't open a window with the image right?"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"df05847c-111c-459a-b466-c584a460b3bf","type":"message","text":"Not from the normal REPL, but I think if you're in e.g. VSCode, it will","user":"U7HAYKY9X","ts":"1616590705.029200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n0jaZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not from the normal REPL, but I think if you're in e.g. VSCode, it will"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"c29675c6-0fba-4672-b858-c0b2ec2e161c","type":"message","text":"```    function Base.show(io, ::MIME\"image/png\", das::DiagramAndSubs)\n        neato_io = open(`neato -Tpng`, \"r+\")\n        write(matrix_to_dot(das.D), neato_io)\n        png = read(neato_io)\n        println(\"got $png\")\n        close(neato_io)\n        write(io,png)\n    end```\n","user":"U01MG0TN079","ts":"1616591543.031500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cJU9","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    function Base.show(io, ::MIME\"image/png\", das::DiagramAndSubs)\n        neato_io = open(`neato -Tpng`, \"r+\")\n        write(matrix_to_dot(das.D), neato_io)\n        png = read(neato_io)\n        println(\"got $png\")\n        close(neato_io)\n        write(io,png)\n    end"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"1243b0ed-6d57-45cb-8a29-f8fc359cbcc5","type":"message","text":"I think this hangs because `read`  waits for `neato`  to reach `EOF` , while `neato` itself waits for `write` to end. What am I doing wrong?","user":"U01MG0TN079","ts":"1616591608.031700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p2FvV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this hangs because "},{"type":"text","text":"read","style":{"code":true}},{"type":"text","text":"  waits for "},{"type":"text","text":"neato","style":{"code":true}},{"type":"text","text":"  to reach "},{"type":"text","text":"EOF","style":{"code":true}},{"type":"text","text":" , while "},{"type":"text","text":"neato","style":{"code":true}},{"type":"text","text":" itself waits for "},{"type":"text","text":"write","style":{"code":true}},{"type":"text","text":" to end. What am I doing wrong?"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"c46e7ee9-3e49-4bd8-b4ec-69fc8dee5142","type":"message","text":"Ah, I think I should specify two iostreams","user":"U01MG0TN079","ts":"1616591723.032100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RL+OD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, I think I should specify two iostreams"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"f2ac560e-3675-40ec-8a76-9419e631e0d8","type":"message","text":"```    function Base.show(io, ::MIME\"image/png\", das::DiagramAndSubs)\n        to_neato_io = open(`neato -Tpng`, io, write=true)\n        write(to_neato_io,matrix_to_dot(das.D))\n        close(to_neato_io)\n    end```","user":"U01MG0TN079","ts":"1616592418.035000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/i18","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    function Base.show(io, ::MIME\"image/png\", das::DiagramAndSubs)\n        to_neato_io = open(`neato -Tpng`, io, write=true)\n        write(to_neato_io,matrix_to_dot(das.D))\n        close(to_neato_io)\n    end"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"},{"client_msg_id":"2b5c7a38-608a-4f6e-b803-c2ab3c8e9073","type":"message","text":"short and sweet, actually :slightly_smiling_face:","user":"U01MG0TN079","ts":"1616592423.035200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7V=h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"short and sweet, actually "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616585825.015800","parent_user_id":"U01MG0TN079"}]