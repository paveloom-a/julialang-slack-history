[{"client_msg_id":"de574a53-39f9-47ee-98ec-3f5870787b2e","type":"message","text":"Can someone tell me what the `where N,1` part of this code means?\n```Array{Float64, N} where N,1```\n(or link to the documentation of `where` as I can't find it)","user":"U01C2E6TYEM","ts":"1615382621.273000","team":"T68168MUP","edited":{"user":"U01C2E6TYEM","ts":"1615382643.000000"},"blocks":[{"type":"rich_text","block_id":"oUpb5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can someone tell me what the "},{"type":"text","text":"where N,1","style":{"code":true}},{"type":"text","text":" part of this code means?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Array{Float64, N} where N,1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"(or link to the documentation of "},{"type":"text","text":"where","style":{"code":true}},{"type":"text","text":" as I can't find it)"}]}]}],"thread_ts":"1615382621.273000","reply_count":28,"reply_users_count":5,"latest_reply":"1615384412.280300","reply_users":["B01J9QZ4SP8","UH24GRBLL","U01C2E6TYEM","UEA5FBCRH","U017LQ3A59U"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615382622.273100","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"c5b4f999-f772-4cbd-b9a9-be4595a8b04f","type":"message","text":"what's the code surrounding this?","user":"UH24GRBLL","ts":"1615382667.273400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SE4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what's the code surrounding this?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"f4d57840-7ff4-4fea-9777-48e1f39bd253","type":"message","text":"```@test function(inputs) isa Array{Array{Float64, N} where N,1}```","user":"U01C2E6TYEM","ts":"1615382695.273600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+8DL","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@test function(inputs) isa Array{Array{Float64, N} where N,1}"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"09dff2e4-4538-4b7c-a848-2ebbb7571742","type":"message","text":"<https://docs.julialang.org/en/v1/manual/types/#UnionAll-Types>  is the relevant documentation for `where`","user":"UH24GRBLL","ts":"1615382696.273800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sJiAi","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.julialang.org/en/v1/manual/types/#UnionAll-Types"},{"type":"text","text":"  is the relevant documentation for "},{"type":"text","text":"where","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"ecaa3544-36e2-4f1f-bc82-4bd584bd5ab8","type":"message","text":"I see","user":"UH24GRBLL","ts":"1615382702.274000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qSH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"dd39bcb1-526a-4610-8609-7d9662148104","type":"message","text":"the `,1` is the second type parameter of the outer `Array`","user":"UH24GRBLL","ts":"1615382716.274200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t+X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the "},{"type":"text","text":",1","style":{"code":true}},{"type":"text","text":" is the second type parameter of the outer "},{"type":"text","text":"Array","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"8b11b45f-d305-4ed8-81d3-d05de0ed5d20","type":"message","text":"so like `Array{(Array{Float64, N} where N}), 1}`","user":"UH24GRBLL","ts":"1615382740.274400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bz0n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so like "},{"type":"text","text":"Array{(Array{Float64, N} where N}), 1}","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"+1","users":["U01C2E6TYEM"],"count":1}]},{"client_msg_id":"42b8f0e5-bbce-4cfc-ac89-35b905d00e80","type":"message","text":"So it's saying the outer array is 1 dimension, and the inner array is of type Float64 and dimension N, where N is... any valid dimension size?","user":"U01C2E6TYEM","ts":"1615382819.274600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fJRi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it's saying the outer array is 1 dimension, and the inner array is of type Float64 and dimension N, where N is... any valid dimension size?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"correct_answer","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"fc1121c0-8601-49e6-9a4c-6fc5f5acb506","type":"message","text":"In words: A one-dimensional array (outer) of N-dimensional arrays of Float64 elements.","user":"UEA5FBCRH","ts":"1615382823.274800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cmr5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In words: A one-dimensional array (outer) of N-dimensional arrays of Float64 elements."}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"+1","users":["U01C2E6TYEM"],"count":1}]},{"client_msg_id":"ca572ce4-f3d5-46d6-81b9-1dc94c47e0e1","type":"message","text":"Thank you both, this has cleared it up for me :slightly_smiling_face:","user":"U01C2E6TYEM","ts":"1615382852.275000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1AV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you both, this has cleared it up for me "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"0ea77c83-85ba-4469-ae5c-8395fc87a5f0","type":"message","text":"yes, precisely","user":"UH24GRBLL","ts":"1615382873.275400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y1B2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, precisely"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"597ab385-136b-4aaa-aaf9-eeccbc291e4c","type":"message","text":"it'd be equivalent to writing `Vector{Array{Float64, N} where N}`","user":"UH24GRBLL","ts":"1615382923.275600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qzl87","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it'd be equivalent to writing "},{"type":"text","text":"Vector{Array{Float64, N} where N}","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"fast_parrot","users":["UH24GRBLL","U017LQ3A59U","U01C2E6TYEM"],"count":3}]},{"client_msg_id":"ac8e0c20-8dfd-48ec-b115-bd7d4d2573f1","type":"message","text":"A more modern (?) way of writing it would be `Vector{Array{Float64}}`","user":"U017LQ3A59U","ts":"1615382927.275800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tQNKV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A more modern (?) way of writing it would be "},{"type":"text","text":"Vector{Array{Float64}}","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"slow_parrot","users":["UH24GRBLL","U01C2E6TYEM","U0179G7FG4F"],"count":3}]},{"client_msg_id":"71e766e0-72f4-499b-93b7-41c36043db8f","type":"message","text":"But of course Valentin beat me to it &gt;P","user":"U017LQ3A59U","ts":"1615382938.276000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G7h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But of course Valentin beat me to it >P"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"ninja","users":["U7HAYKY9X","UH24GRBLL","U01C2E6TYEM"],"count":3}]},{"client_msg_id":"55770892-e1c3-45bc-bafa-b7d4a7077f6c","type":"message","text":"I'm not 100% sure, but I think that test could be replaced by some form of `@inferred` :thinking_face:","user":"UH24GRBLL","ts":"1615383133.276700","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1615383140.000000"},"blocks":[{"type":"rich_text","block_id":"8Kpu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not 100% sure, but I think that test could be replaced by some form of "},{"type":"text","text":"@inferred","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"cb695314-85ce-4ecb-aa08-18a0203c81e2","type":"message","text":"Yes, I am rejigging a package and in the original testset file it does this by using `@inferred`.  I decided I didn't know enough about tests and left it alone :')","user":"U01C2E6TYEM","ts":"1615383267.277300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q=5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I am rejigging a package and in the original testset file it does this by using "},{"type":"text","text":"@inferred","style":{"code":true}},{"type":"text","text":".  I decided I didn't know enough about tests and left it alone :')"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"7924327b-a452-4637-aadc-c0d4c73e8e6c","type":"message","text":"are you aware that the test in its current form will only match if the eltype is _not_ concrete?","user":"UH24GRBLL","ts":"1615383539.277500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FbjbG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you aware that the test in its current form will only match if the eltype is "},{"type":"text","text":"not","style":{"italic":true}},{"type":"text","text":" concrete?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"3e051a42-be68-4822-9d82-3e5ee8f13bc7","type":"message","text":"e.g.\n\n```julia&gt; [[1. 2.; 3. 4.]] isa Vector{Array{Float64,N} where N}   \nfalse                                                          \n                                                               \njulia&gt; [[1. 2.; 3. 4.]] |&gt; typeof                              \nVector{Matrix{Float64}} (alias for Array{Array{Float64, 2}, 1})```","user":"UH24GRBLL","ts":"1615383814.278200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mln","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"e.g.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> [[1. 2.; 3. 4.]] isa Vector{Array{Float64,N} where N}   \nfalse                                                          \n                                                               \njulia> [[1. 2.; 3. 4.]] |> typeof                              \nVector{Matrix{Float64}} (alias for Array{Array{Float64, 2}, 1})"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"74fa6fa3-79a7-45a7-8d53-adadf5542f8d","type":"message","text":"and\n```julia&gt; Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) |&gt; typeof                           \nVector{Array{Float64, N} where N} (alias for Array{Array{Float64, N} where N, 1})              \n                                                                                               \njulia&gt; Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) isa Vector{Array{Float64,N} where N}\ntrue                                                                                           ```","user":"UH24GRBLL","ts":"1615383943.278400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tEF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) |> typeof                           \nVector{Array{Float64, N} where N} (alias for Array{Array{Float64, N} where N, 1})              \n                                                                                               \njulia> Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) isa Vector{Array{Float64,N} where N}\ntrue                                                                                           "}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"46261211-8314-4d02-ba25-052b5d9a645a","type":"message","text":"What's going on here then? I'll admit I'm slightly lost. Does it not match because the type of the LHS is known to the compiler, and the RHS is abstract?","user":"U01C2E6TYEM","ts":"1615383966.278600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NGqa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's going on here then? I'll admit I'm slightly lost. Does it not match because the type of the LHS is known to the compiler, and the RHS is abstract?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"74c0b395-14f1-401f-ab37-abac4b04939c","type":"message","text":"if you want to allow all dimensionality to pass (if inferred), you'd have to check for `Vector{&lt;: Array{Float64,N} where N}`","user":"UH24GRBLL","ts":"1615383971.278800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ih7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to allow all dimensionality to pass (if inferred), you'd have to check for "},{"type":"text","text":"Vector{<: Array{Float64,N} where N}","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"28eeae29-6cf4-4605-af43-2e24e9e2e67e","type":"message","text":"no, it's because type parameters are invariant","user":"UH24GRBLL","ts":"1615383983.279000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ej7p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, it's because type parameters are invariant"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM","reactions":[{"name":"sponge","users":["U01C2E6TYEM"],"count":1}]},{"client_msg_id":"ba6ac759-e079-46ac-ad38-1dbbaacc8f39","type":"message","text":"so you could probably do `@inferred Vector{&lt;: Array{Float64,N} where N} f(x)`","user":"UH24GRBLL","ts":"1615384079.279300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so you could probably do "},{"type":"text","text":"@inferred Vector{<: Array{Float64,N} where N} f(x)","style":{"code":true}}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"6686eb7a-5beb-40e7-bb64-e4f2cee150f9","type":"message","text":"that still allows it to pass if `N` is not inferred, but does allow it to pass if it is","user":"UH24GRBLL","ts":"1615384113.279500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tgn2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that still allows it to pass if "},{"type":"text","text":"N","style":{"code":true}},{"type":"text","text":" is not inferred, but does allow it to pass if it is"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"8090728d-e856-4964-a59c-90d9ce7b61e1","type":"message","text":"Ah, and so as long as `@inferred` doesn't error it passes right?","user":"U01C2E6TYEM","ts":"1615384266.279700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P2Yr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, and so as long as "},{"type":"text","text":"@inferred","style":{"code":true}},{"type":"text","text":" doesn't error it passes right?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"0a06acd7-1e2a-494c-87e8-f499421da2c7","type":"message","text":"I say that because the inferred code you suggested runs fine but I wasn't sure what I was expecting.","user":"U01C2E6TYEM","ts":"1615384302.279900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qu2TI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I say that because the inferred code you suggested runs fine but I wasn't sure what I was expecting."}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"c9ca1e67-1173-4530-9b59-8c4e21ad7a4f","type":"message","text":"```julia&gt; Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) |&gt; typeof                           \nVector{Array{Float64, N} where N} (alias for Array{Array{Float64, N} where N, 1})\n              \njulia&gt; Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) isa Vector{Array{Float64,N} where N}\ntrue     ```\nIs this an example of forcing an inferred (?) type onto the Vector which then passes the test?","user":"U01C2E6TYEM","ts":"1615384396.280100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2g6oV","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) |> typeof                           \nVector{Array{Float64, N} where N} (alias for Array{Array{Float64, N} where N, 1})\n              \njulia> Vector{Array{Float64, N} where N}([[1. 2.; 3. 4.]]) isa Vector{Array{Float64,N} where N}\ntrue     "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Is this an example of forcing an inferred (?) type onto the Vector which then passes the test?"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"},{"client_msg_id":"79ca5d42-0d00-438d-a0d8-4259146fe266","type":"message","text":"(because the type is no longer concrete)","user":"U01C2E6TYEM","ts":"1615384412.280300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bXgs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(because the type is no longer concrete)"}]}]}],"thread_ts":"1615382621.273000","parent_user_id":"U01C2E6TYEM"}]