[{"client_msg_id":"768b16ce-cce3-4cb7-9a34-f1099014009f","type":"message","text":"Given a sorted vector `v` and an two elements `lb,ub` , is there a built-in method returning the subvector of `v` with elements between `lb`  and `ub` (using sortedness of the vector, obviously) ?","user":"U01MG0TN079","ts":"1616136858.147400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"syf/r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Given a sorted vector "},{"type":"text","text":"v","style":{"code":true}},{"type":"text","text":" and an two elements "},{"type":"text","text":"lb,ub","style":{"code":true}},{"type":"text","text":" , is there a built-in method returning the subvector of "},{"type":"text","text":"v","style":{"code":true}},{"type":"text","text":" with elements between "},{"type":"text","text":"lb","style":{"code":true}},{"type":"text","text":"  and "},{"type":"text","text":"ub","style":{"code":true}},{"type":"text","text":" (using sortedness of the vector, obviously) ?"}]}]}],"thread_ts":"1616136858.147400","reply_count":13,"reply_users_count":4,"latest_reply":"1616141003.152000","reply_users":["B01J9QZ4SP8","U01M655G9AR","U01MG0TN079","U01SFUPBJ9E"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616136860.147500","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"efe09070-c3bc-4bdb-8237-281a2c13c710","type":"message","text":"maybe\n```v[searchsortedfirst(v,lb):searchsortedlast(v,ub)]```","user":"U01M655G9AR","ts":"1616137210.149400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9PdJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"v[searchsortedfirst(v,lb):searchsortedlast(v,ub)]"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"cd000306-f8f3-43ed-89a4-4abd5576266a","type":"message","text":"hah, that's excellent, thank you!","user":"U01MG0TN079","ts":"1616137648.149600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VB/o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hah, that's excellent, thank you!"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079","reactions":[{"name":"+1","users":["U01M655G9AR"],"count":1}]},{"client_msg_id":"bee9c11c-ec15-4259-a039-a65dde22d0b7","type":"message","text":"```@view v[(v .&gt;= lb) .&amp; (v .&lt;= ub)]```\nshould also work. You can remove the `@view` if you want a copy of the subvector instead.","user":"U01SFUPBJ9E","ts":"1616139880.149900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LlZ5","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@view v[(v .>= lb) .& (v .<= ub)]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"should also work. You can remove the "},{"type":"text","text":"@view","style":{"code":true}},{"type":"text","text":" if you want a copy of the subvector instead."}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"0f52adfd-9cb5-473d-b188-b6e457353679","type":"message","text":"but I assume the solution involving `searchsorted{first|last}` takes advantage of sortedness, while the view one doesn't, does it?","user":"U01MG0TN079","ts":"1616139981.150100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=XC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I assume the solution involving "},{"type":"text","text":"searchsorted{first|last}","style":{"code":true}},{"type":"text","text":" takes advantage of sortedness, while the view one doesn't, does it?"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079","reactions":[{"name":"+1","users":["U01M655G9AR","U01SFUPBJ9E"],"count":2}]},{"client_msg_id":"16ea9898-20f7-41f7-a756-6fa3f147b05c","type":"message","text":"Note that `@view` is orthogonal to the issue here (you can also use it with the other solution).","user":"U01M655G9AR","ts":"1616140431.150400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m0Ie","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note that "},{"type":"text","text":"@view","style":{"code":true}},{"type":"text","text":" is orthogonal to the issue here (you can also use it with the other solution)."}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"3334b37d-8755-48e1-9f76-7626206e5a71","type":"message","text":"`@view v[…first(v,lb):…last(v,lb]` presumably?","user":"U01MG0TN079","ts":"1616140542.150700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K6kGw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@view v[…first(v,lb):…last(v,lb]","style":{"code":true}},{"type":"text","text":" presumably?"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079","reactions":[{"name":"+1","users":["U01M655G9AR"],"count":1}]},{"client_msg_id":"843d2903-38a0-4dc9-a2cf-073db996ba6c","type":"message","text":"I included `@view` since I wasn't sure if <@U01MG0TN079> wanted a copy of the subvector or access to the actual subvector itself.","user":"U01SFUPBJ9E","ts":"1616140586.150900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+ILsc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I included "},{"type":"text","text":"@view","style":{"code":true}},{"type":"text","text":" since I wasn't sure if "},{"type":"user","user_id":"U01MG0TN079"},{"type":"text","text":" wanted a copy of the subvector or access to the actual subvector itself."}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"d92878ad-1a19-4f39-8ef0-f8e14addddbe","type":"message","text":"I never really thought seriously about when copies happen and when they don't, and I think I never do such `@views` , so it's good to learn about that, thanks!","user":"U01MG0TN079","ts":"1616140710.151200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jcAX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I never really thought seriously about when copies happen and when they don't, and I think I never do such "},{"type":"text","text":"@views","style":{"code":true}},{"type":"text","text":" , so it's good to learn about that, thanks!"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"5dae7190-af97-49e0-a52d-08abab227f4e","type":"message","text":"can it be a game changer, perf-wise?","user":"U01MG0TN079","ts":"1616140727.151400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EXFIV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can it be a game changer, perf-wise?"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"9a5f6c6a-e294-40c3-a032-3a050860b146","type":"message","text":"absolutely","user":"U01M655G9AR","ts":"1616140741.151600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VdxWf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"absolutely"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"8f10c6a6-5698-499e-adf6-b50aa2c50f4e","type":"message","text":"Good to know, I'll try and be more aware of this, then","user":"U01MG0TN079","ts":"1616140839.151800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iAu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good to know, I'll try and be more aware of this, then"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079"},{"client_msg_id":"3bd59367-6de4-4c37-838c-f294391a7e1b","type":"message","text":"it will come naturally if you start benchmarking (which happens when you start worrying about performance!). For example `@btime` gives you the allocated memory, the goal is to go to `0` allocated memory in performance critical (innest) loops. In many cases a few `@view`  or a `@views` gets you there in no time. :slightly_smiling_face:","user":"U01M655G9AR","ts":"1616141003.152000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iHfQt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it will come naturally if you start benchmarking (which happens when you start worrying about performance!). For example "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" gives you the allocated memory, the goal is to go to "},{"type":"text","text":"0","style":{"code":true}},{"type":"text","text":" allocated memory in performance critical (innest) loops. In many cases a few "},{"type":"text","text":"@view","style":{"code":true}},{"type":"text","text":"  or a "},{"type":"text","text":"@views","style":{"code":true}},{"type":"text","text":" gets you there in no time. "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616136858.147400","parent_user_id":"U01MG0TN079","reactions":[{"name":"thumbsup_all","users":["U01MG0TN079"],"count":1}]}]