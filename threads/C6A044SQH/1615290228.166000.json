[{"client_msg_id":"2773a259-1fab-4ad3-8e7b-23d5ac3abce3","type":"message","text":"Anyone know a way to interpolate an `Expr` containing `SSAValue`s/`Slot`s into another expression? Something like\n```julia&gt; @eval Main ans = $(QuoteNode(code_typed(cos, (Float64, ))[1][1].code[50]))\nERROR: syntax: SSAValue objects should not occur in an AST```\nexcept without the error?","user":"U6BNE7LTZ","ts":"1615290228.166000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u7y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Anyone know a way to interpolate an "},{"type":"text","text":"Expr","style":{"code":true}},{"type":"text","text":" containing `SSAValue`s/`Slot`s into another expression? Something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @eval Main ans = $(QuoteNode(code_typed(cos, (Float64, ))[1][1].code[50]))\nERROR: syntax: SSAValue objects should not occur in an AST"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"except without the error?"}]}]}],"thread_ts":"1615290228.166000","reply_count":43,"reply_users_count":3,"latest_reply":"1615295329.176000","reply_users":["B01J9QZ4SP8","U66SGEWAC","U6BNE7LTZ"],"subscribed":false,"reactions":[{"name":"bridge","users":["U6BNE7LTZ"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615290229.166100","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/56796| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1615290596.166400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"da603390-f670-4b1e-99e3-944bb77c843e","type":"message","text":"I made an ssa replacement pass back in the days  ... maybe IRTools offers something similar ?","user":"U66SGEWAC","ts":"1615291071.166600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KRUy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made an ssa replacement pass back in the days  ... maybe IRTools offers something similar ?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"e284532f-59e6-41fe-917d-184669d87849","type":"message","text":"Should also be easy to replace them with MacroTools","user":"U66SGEWAC","ts":"1615291122.166800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7KfL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should also be easy to replace them with MacroTools"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"06dd46fc-3e54-4f82-bbd3-287f7c9245b8","type":"message","text":"I don't wanna replace them though","user":"U6BNE7LTZ","ts":"1615291137.167000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aBSa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't wanna replace them though"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"282e296d-b615-476b-ab9d-fe5d14e09c6f","type":"message","text":"I'd like to keep object identity, kind of","user":"U6BNE7LTZ","ts":"1615291156.167200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YWD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd like to keep object identity, kind of"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"33a24aaf-e65b-44b1-8866-ab3e0a64222e","type":"message","text":"if that makes sense?","user":"U6BNE7LTZ","ts":"1615291159.167400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4UBL6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if that makes sense?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"4d2d48ce-e365-4575-b5c1-235d5b57b9cd","type":"message","text":"Hm, not sure...They all have an id, which should be unique in the scope, so a variable that keeps that identity should have the same semantic, if I'm not missing something","user":"U66SGEWAC","ts":"1615291251.167600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kgxc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, not sure...They all have an id, which should be unique in the scope, so a variable that keeps that identity should have the same semantic, if I'm not missing something"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"8a298bc4-6e17-49e6-a957-44451f89f8b4","type":"message","text":"so maybe I'm x-y-ing here, but what I actually want is to assign a variable in a different module","user":"U6BNE7LTZ","ts":"1615291271.167800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WNwVe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so maybe I'm x-y-ing here, but what I actually want is to assign a variable in a different module"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"2d4e596b-d78b-404d-9297-d52c886be336","type":"message","text":"which afaik is only possible via eval","user":"U6BNE7LTZ","ts":"1615291280.168000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BQy=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which afaik is only possible via eval"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"8fdd0db5-6af1-4b37-b30c-f5246c51deac","type":"message","text":"I don't think there can be any global SSAValues","user":"U66SGEWAC","ts":"1615291348.168200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EzB8n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think there can be any global SSAValues"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"cd117dca-6e95-412d-978c-17db4295b620","type":"message","text":"right, but in the example above it's part of the `CodeInfo` object","user":"U6BNE7LTZ","ts":"1615291385.168400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bzXi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right, but in the example above it's part of the "},{"type":"text","text":"CodeInfo","style":{"code":true}},{"type":"text","text":" object"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"e8d56b23-d982-405a-ada7-5e04ee1352b6","type":"message","text":"so what I actually have is\n```julia&gt; x = include_string(Main,\"code_typed(cos, (Float64, ))[1][1].code[50]\")\n:(Base.ule_int(%49, 0x400f6a7a))\n\njulia&gt; @eval Main ans = $(QuoteNode(x))\nERROR: syntax: SSAValue objects should not occur in an AST```","user":"U6BNE7LTZ","ts":"1615291435.168600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TRb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so what I actually have is\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x = include_string(Main,\"code_typed(cos, (Float64, ))[1][1].code[50]\")\n:(Base.ule_int(%49, 0x400f6a7a))\n\njulia> @eval Main ans = $(QuoteNode(x))\nERROR: syntax: SSAValue objects should not occur in an AST"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"626f2daa-7a65-4218-a5a7-a421d2f9d8d4","type":"message","text":"Oh :smile:","user":"U66SGEWAC","ts":"1615291488.168800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rqa2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"eb1a78c5-a505-40ac-9cdf-5f5f652fe3e3","type":"message","text":"I mean, that's just invalid right? :smile: Only way to make that valid is to replace them earlier I guess, with some global variables (Maybe as part of an anon module?)","user":"U66SGEWAC","ts":"1615291575.169000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/N5o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, that's just invalid right? "},{"type":"emoji","name":"smile"},{"type":"text","text":" Only way to make that valid is to replace them earlier I guess, with some global variables (Maybe as part of an anon module?)"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"62e8bc3c-9c50-41c8-8218-f4474132cea2","type":"message","text":"hmm","user":"U6BNE7LTZ","ts":"1615291736.169200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BNg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"6b9e8c92-1849-4765-a39d-8597f52bdeb9","type":"message","text":"I mean, how can that local variable ever materialize like this?","user":"U66SGEWAC","ts":"1615291762.169400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NTcM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, how can that local variable ever materialize like this?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"054b11f8-b63c-4704-94be-596b2547f3e5","type":"message","text":"my current workaround would be something like\n```julia&gt; module Bar\n       ans = nothing\n       function exec(x)\n         global ans = include_string(Main, x)\n         @eval Main ans = Main.Bar.ans\n       end\n       end\nMain.Bar\n\njulia&gt; Bar.exec(\"33\"); ans\n33```\nwhich circumvents the interpolation","user":"U6BNE7LTZ","ts":"1615291771.169600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qVrKm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"my current workaround would be something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> module Bar\n       ans = nothing\n       function exec(x)\n         global ans = include_string(Main, x)\n         @eval Main ans = Main.Bar.ans\n       end\n       end\nMain.Bar\n\njulia> Bar.exec(\"33\"); ans\n33"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"which circumvents the interpolation"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"c1dd2267-4ce9-4557-8310-04cf2f95cafa","type":"message","text":"I don't want to materialize the SSAValue tho","user":"U6BNE7LTZ","ts":"1615291800.169800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oAf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't want to materialize the SSAValue tho"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"416345ef-09fc-404d-8da9-b988c9f4305e","type":"message","text":"and `code_typed(cos, (Float64, ))[1][1].code[50]` _is_ (returns, I mean) a valid expression, apparently","user":"U6BNE7LTZ","ts":"1615291844.170000","team":"T68168MUP","edited":{"user":"U6BNE7LTZ","ts":"1615291889.000000"},"blocks":[{"type":"rich_text","block_id":"cGw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and "},{"type":"text","text":"code_typed(cos, (Float64, ))[1][1].code[50]","style":{"code":true}},{"type":"text","text":" "},{"type":"text","text":"is","style":{"italic":true}},{"type":"text","text":" (returns, I mean) a valid expression, apparently"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"fe86053a-e840-466b-bf10-fcc349b07931","type":"message","text":"it doesn't make sense without context, but I don't care about that :D","user":"U6BNE7LTZ","ts":"1615291857.170200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TvQfc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it doesn't make sense without context, but I don't care about that :D"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"3eaaff8e-5e6e-46d0-bb31-79e7f9612127","type":"message","text":"Haha... Wait, maybe I'm forgetting what QuoteNode does... You actually just want to store the expression in `ans` ?","user":"U66SGEWAC","ts":"1615291894.170500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5LiE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Haha... Wait, maybe I'm forgetting what QuoteNode does... You actually just want to store the expression in "},{"type":"text","text":"ans","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"82113404-6e76-41b7-986e-d9858330f2fe","type":"message","text":"yup","user":"U6BNE7LTZ","ts":"1615291908.170700","team":"T68168MUP","edited":{"user":"U6BNE7LTZ","ts":"1615291910.000000"},"blocks":[{"type":"rich_text","block_id":"qDQt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yup"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"fc9dc017-6a04-467b-ad70-6a187a6109c1","type":"message","text":"ah ok :smile: jeez, because it errored I was pretty sure, that it's trying to execute it... Maybe it's quoted incorrectly?","user":"U66SGEWAC","ts":"1615292008.171000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"va4RD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah ok "},{"type":"emoji","name":"smile"},{"type":"text","text":" jeez, because it errored I was pretty sure, that it's trying to execute it... Maybe it's quoted incorrectly?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"f8eebc26-aa86-48bc-8f79-1442744af09c","type":"message","text":"```x = :($(QuoteNode( Base.SSAValue(1))))```","user":"U66SGEWAC","ts":"1615292009.171200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3/U","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"x = :($(QuoteNode( Base.SSAValue(1))))"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"a80e0c13-0a1c-4306-9fcb-9f0f438252cf","type":"message","text":"this works after all, and there shouldn't be any reason why one couldn't just have an expression object evaled somewhere.. it's just data right?","user":"U66SGEWAC","ts":"1615292037.171400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"StVNw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this works after all, and there shouldn't be any reason why one couldn't just have an expression object evaled somewhere.. it's just data right?"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"b47b8a97-1ca4-41d0-954c-ed23622418cd","type":"message","text":"```julia&gt; eval(x)\n:(%1)```","user":"U66SGEWAC","ts":"1615292079.171600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X+rA","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> eval(x)\n:(%1)"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"0b314b0f-0847-4896-9739-c2c14591121d","type":"message","text":"hmm","user":"U6BNE7LTZ","ts":"1615292110.171800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"av444","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"cea83554-c926-406d-a51b-637eaada96bd","type":"message","text":"yeah that works fine","user":"U6BNE7LTZ","ts":"1615292114.172000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZiR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that works fine"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"fc7e58ea-9333-4c63-ad39-a02a0f9a9df2","type":"message","text":"So my guess is, that something in the macro interpolation makes it end up unquoted","user":"U66SGEWAC","ts":"1615292153.172200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"efN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So my guess is, that something in the macro interpolation makes it end up unquoted"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"50740fd5-9e45-40a5-8c06-93016449cfab","type":"message","text":"hmmh","user":"U6BNE7LTZ","ts":"1615292161.172400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bfMR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmh"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"d6c3c295-ce1c-4711-af19-cc96df9e7b22","type":"message","text":"I can't get it to work with assignment even without the macro","user":"U6BNE7LTZ","ts":"1615292174.172600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ylb=g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can't get it to work with assignment even without the macro"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"f23fab90-b952-4abf-a451-b969dc2ed496","type":"message","text":"oh wait","user":"U6BNE7LTZ","ts":"1615292232.172800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nrei","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh wait"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"217413eb-358f-479d-adb3-665f43eadbfb","type":"message","text":"```julia&gt; x = code_typed(cos, (Float64, ))[1][1].code[50]\n:(Base.ule_int(%49, 0x400f6a7a))\n\njulia&gt; expr = :($(QuoteNode(x)))\n:($(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a)))))\n\njulia&gt; eval(expr)\n:(Base.ule_int(%49, 0x400f6a7a))```","user":"U66SGEWAC","ts":"1615292245.173000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uh0","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x = code_typed(cos, (Float64, ))[1][1].code[50]\n:(Base.ule_int(%49, 0x400f6a7a))\n\njulia> expr = :($(QuoteNode(x)))\n:($(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a)))))\n\njulia> eval(expr)\n:(Base.ule_int(%49, 0x400f6a7a))"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"d9bce6bf-32b8-46d8-9f3e-c36cea8b35d0","type":"message","text":"yeah I was trying\n```julia&gt; x = :(y=$(QuoteNode( Base.SSAValue(1))))\n:(y = $(QuoteNode(:(%1))))\n\njulia&gt; eval(x)\nERROR: syntax: SSAValue objects should not occur in an AST```","user":"U6BNE7LTZ","ts":"1615292278.173200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vTEn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah I was trying\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x = :(y=$(QuoteNode( Base.SSAValue(1))))\n:(y = $(QuoteNode(:(%1))))\n\njulia> eval(x)\nERROR: syntax: SSAValue objects should not occur in an AST"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"61644522-42d5-4dea-ada4-687c3d64b10c","type":"message","text":"ah yeah :smile:","user":"U66SGEWAC","ts":"1615292300.173400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ly0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah yeah "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"d5489215-9f63-40b3-9d40-7a432ef3843b","type":"message","text":"```julia&gt; evalexpr = :(setfield!(Main, :foo, $(QuoteNode(x))))\n:(setfield!(Main, :foo, $(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a))))))\n\njulia&gt; eval(evalexpr)\nERROR: syntax: SSAValue objects should not occur in an AST```\n:disappointed:","user":"U6BNE7LTZ","ts":"1615292543.173600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S19/a","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> evalexpr = :(setfield!(Main, :foo, $(QuoteNode(x))))\n:(setfield!(Main, :foo, $(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a))))))\n\njulia> eval(evalexpr)\nERROR: syntax: SSAValue objects should not occur in an AST"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"disappointed"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"1079e4a5-2e99-44d0-98b7-31342a813df4","type":"message","text":"Hm, somehow the QuoteNode gets elimanated","user":"U66SGEWAC","ts":"1615294848.175000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GCS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, somehow the QuoteNode gets elimanated"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"1af768cb-8e44-4105-bfa5-b651a2bb5b04","type":"message","text":"```julia&gt; x = code_typed(cos, (Float64, ))[1][1].code[50];\n\njulia&gt; expr = QuoteNode(x)\n:($(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a)))))\n\njulia&gt; evalexpr = :(setfield!(Main, :foo, $(x)))\n:(setfield!(Main, :foo, Base.ule_int(%49, 0x400f6a7a)))```","user":"U66SGEWAC","ts":"1615294849.175200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kc4","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x = code_typed(cos, (Float64, ))[1][1].code[50];\n\njulia> expr = QuoteNode(x)\n:($(QuoteNode(:(Base.ule_int(%49, 0x400f6a7a)))))\n\njulia> evalexpr = :(setfield!(Main, :foo, $(x)))\n:(setfield!(Main, :foo, Base.ule_int(%49, 0x400f6a7a)))"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"210eb8e6-d7d7-4dfd-80e6-36ed2697dd47","type":"message","text":"this is all so weird","user":"U6BNE7LTZ","ts":"1615295060.175400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"arP8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is all so weird"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"4490ece7-306c-4839-8ae6-c1cbdaec88a6","type":"message","text":"went with the workaround for now though (<https://github.com/julia-vscode/julia-vscode/pull/2010>)","user":"U6BNE7LTZ","ts":"1615295073.175600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H6bl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"went with the workaround for now though ("},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/2010"},{"type":"text","text":")"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"2e7ea1e7-1b22-466b-a1ad-fdc96868def3","type":"message","text":"Haha, yeah I noticed while playing around with this in vscode","user":"U66SGEWAC","ts":"1615295107.175800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wz0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Haha, yeah I noticed while playing around with this in vscode"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"abfa9ada-dec5-40bd-8b45-b41f1f6c2b12","type":"message","text":"Hm, I'd open a Julia issue .. The mwe for this looks a lot like some weird interpolation bug","user":"U66SGEWAC","ts":"1615295329.176000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dHtPH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, I'd open a Julia issue .. The mwe for this looks a lot like some weird interpolation bug"}]}]}],"thread_ts":"1615290228.166000","parent_user_id":"U6BNE7LTZ"}]