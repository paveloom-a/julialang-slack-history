[{"client_msg_id":"a03984f5-4140-4207-b4e5-566adeccb0eb","type":"message","text":"What is going on here?\nWhy is trythree faster than tryfour if it seems like it is doing one more operation (i know they don’t give the same result is the array has negatives)? (tried `@code_native` and the fastest one gives an infinite code.\n```julia&gt; trythree(a) = findall( abs.(a) .&lt; 1e-6 )\ntrythree (generic function with 1 method)\n\njulia&gt; tryfour(a) = findall( &lt;(1e-6),a)\ntryfour (generic function with 1 method)\n\njulia&gt; a = rand(100,100);\n\njulia&gt; @btime trythree($a);\n  8.520 μs (4 allocations: 5.64 KiB)\n\njulia&gt; @btime tryfour($a);\n  15.019 μs (1 allocation: 80 bytes)```","user":"UEGRU91B2","ts":"1616623042.094200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"et8mo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is going on here?\nWhy is trythree faster than tryfour if it seems like it is doing one more operation (i know they don’t give the same result is the array has negatives)? (tried "},{"type":"text","text":"@code_native","style":{"code":true}},{"type":"text","text":" and the fastest one gives an infinite code.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> trythree(a) = findall( abs.(a) .< 1e-6 )\ntrythree (generic function with 1 method)\n\njulia> tryfour(a) = findall( <(1e-6),a)\ntryfour (generic function with 1 method)\n\njulia> a = rand(100,100);\n\njulia> @btime trythree($a);\n  8.520 μs (4 allocations: 5.64 KiB)\n\njulia> @btime tryfour($a);\n  15.019 μs (1 allocation: 80 bytes)"}]}]}],"thread_ts":"1616623042.094200","reply_count":5,"reply_users_count":3,"latest_reply":"1616688745.128900","reply_users":["U012XER8K4M","U7HAYKY9X","UEGRU91B2"],"is_locked":false,"subscribed":false},{"client_msg_id":"7469300d-e93e-4d6c-b651-08745a27ece7","type":"message","text":"the broadcasts probably lend themselves being vectorized better, which happens to lead to faster code for this particular inputs","user":"U012XER8K4M","ts":"1616625244.095100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xtOt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the broadcasts probably lend themselves being vectorized better, which happens to lead to faster code for this particular inputs"}]}]}],"thread_ts":"1616623042.094200","parent_user_id":"UEGRU91B2"},{"client_msg_id":"1e4a9c60-3e18-46f6-ade3-92b67db41e50","type":"message","text":"That, and `push!` is sub-optimally implemented in Julia, so collecting unknown-length iterators is not as fast as it could be","user":"U7HAYKY9X","ts":"1616626372.095500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a40Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That, and "},{"type":"text","text":"push!","style":{"code":true}},{"type":"text","text":" is sub-optimally implemented in Julia, so collecting unknown-length iterators is not as fast as it could be"}]}]}],"thread_ts":"1616623042.094200","parent_user_id":"UEGRU91B2"},{"client_msg_id":"f3e2979a-d736-4d2d-949c-b6415092e0b6","type":"message","text":"well, with 1e-6 and rand, it seems like that nothing ever gets pushed","user":"U012XER8K4M","ts":"1616626582.095700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3iMVR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, with 1e-6 and rand, it seems like that nothing ever gets pushed"}]}]}],"thread_ts":"1616623042.094200","parent_user_id":"UEGRU91B2"},{"client_msg_id":"331731ac-505b-4939-821f-e92551fc6d45","type":"message","text":"so it's pretty specific cornercase for the benchmark","user":"U012XER8K4M","ts":"1616626595.095900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ct5l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so it's pretty specific cornercase for the benchmark"}]}]}],"thread_ts":"1616623042.094200","parent_user_id":"UEGRU91B2","reactions":[{"name":"heavy_check_mark","users":["U7HAYKY9X","UKG4WF8PJ"],"count":2}]},{"client_msg_id":"04f6d287-8bb9-424f-8567-88dc94caeef0","type":"message","text":"Thanks!","user":"UEGRU91B2","ts":"1616688745.128900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sDx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}],"thread_ts":"1616623042.094200","parent_user_id":"UEGRU91B2"}]