[{"client_msg_id":"0bace53b-4284-4e33-bd9a-4d093df51817","type":"message","text":"I’m trying to create a docker container that has some of the packages already installed for later Julia execution.\nThe idea is that the current directory is something you want to run in docker, and it has a Project.toml (and maybe Manifest.toml).\nYou have a Dockerfile like this in the same directory:\n```FROM jupyter/datascience-notebook:latest\n\n# Not strictly needed as this is already the WORKDIR\nWORKDIR /home/jovyan\n\nCOPY Project.toml .\n\nRUN julia --project=. -e \"using Pkg; Pkg.instantiate()\"```\nNow you would like to create an image from this, and when it’s later run it already has the required packages. However, it does not work.\n```docker build -t julia-notebook:latest . \nSending build context to Docker daemon  41.47kB\nStep 1/4 : FROM jupyter/datascience-notebook:latest\n ---&gt; a665c8ddeb27\nStep 2/4 : WORKDIR /home/jovyan\n ---&gt; Using cache\n ---&gt; 238e157c2ad9\nStep 3/4 : COPY Project.toml .\n ---&gt; Using cache\n ---&gt; 0a2f8af5010d\nStep 4/4 : RUN julia --project=. -e \"using Pkg; Pkg.instantiate()\"\n ---&gt; Running in 0423f039f9de\n   Updating registry at `/opt/julia/registries/General`\n######################################################################## 100.0%\n  Installed RollingFunctions ───────────── v0.6.2\n  Installed ThreadsX ───────────────────── v0.1.7\n...several lines deleted...\n  Installed IterTools ──────────────────── v1.3.0\n  Installed GR ─────────────────────────── v0.53.0\nERROR: SystemError: opening file \"/home/jovyan/Project.toml\": Permission denied\nStacktrace:\n [1] systemerror(::String, ::Int32; extrainfo::Nothing) at ./error.jl:168\n [2] #systemerror#48 at ./error.jl:167 [inlined]\n [3] systemerror at ./error.jl:167 [inlined]\n [4] open(::String; lock::Bool, read::Nothing, write::Nothing, create::Nothing, truncate::Bool, append::Nothing) at ./iostream.jl:284\n [5] open(::Pkg.Types.var\"#31#33\"{Base.GenericIOBuffer{Array{UInt8,1}}}, ::String; kwargs::Base.Iterators.Pairs{Symbol,Bool,Tuple{Symbol},NamedTuple{(:truncate,),Tuple{Bool}}}) at ./io.jl:323\n [6] write_project at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:180 [inlined]\n [7] write_project(::Pkg.Types.Project, ::String) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:175\n [8] write_project at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:173 [inlined]\n [9] write_env(::Pkg.Types.EnvCache; update_undo::Bool) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Types.jl:1366\n [10] write_env at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Types.jl:1366 [inlined]\n [11] up(::Pkg.Types.Context, ::Array{Pkg.Types.PackageSpec,1}, ::Pkg.Types.UpgradeLevel) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Operations.jl:1226\n [12] up(::Pkg.Types.Context, ::Array{Pkg.Types.PackageSpec,1}; level::Pkg.Types.UpgradeLevel, mode::Pkg.Types.PackageMode, update_registry::Bool, kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:245\n [13] #up#38 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:68 [inlined]\n [14] instantiate(::Pkg.Types.Context; manifest::Nothing, update_registry::Bool, verbose::Bool, platform::Pkg.BinaryPlatforms.Linux, kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:810\n [15] instantiate(::Pkg.Types.Context) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:795\n [16] #instantiate#169 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:791 [inlined]\n [17] instantiate() at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:791\n [18] top-level scope at none:1\nThe command '/bin/bash -o pipefail -c julia --project=. -e \"using Pkg; Pkg.instantiate()\"' returned a non-zero code: 1```\nSo instantiating it tries to write Project.toml, I think, and it does not work because it is in a read-only layer created earlier by the COPY command.\nAny ideas? Adding the packages to the default project would be fine since the image will only ever have one Julia project in it.","user":"U01CQTKB86N","ts":"1612097940.228400","team":"T68168MUP","edited":{"user":"U01CQTKB86N","ts":"1612098094.000000"},"blocks":[{"type":"rich_text","block_id":"OfaAV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m trying to create a docker container that has some of the packages already installed for later Julia execution.\nThe idea is that the current directory is something you want to run in docker, and it has a Project.toml (and maybe Manifest.toml).\nYou have a Dockerfile like this in the same directory:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"FROM jupyter/datascience-notebook:latest\n\n# Not strictly needed as this is already the WORKDIR\nWORKDIR /home/jovyan\n\nCOPY Project.toml .\n\nRUN julia --project=. -e \"using Pkg; Pkg.instantiate()\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Now you would like to create an image from this, and when it’s later run it already has the required packages. However, it does not work.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"docker build -t julia-notebook:latest . \nSending build context to Docker daemon  41.47kB\nStep 1/4 : FROM jupyter/datascience-notebook:latest\n ---> a665c8ddeb27\nStep 2/4 : WORKDIR /home/jovyan\n ---> Using cache\n ---> 238e157c2ad9\nStep 3/4 : COPY Project.toml .\n ---> Using cache\n ---> 0a2f8af5010d\nStep 4/4 : RUN julia --project=. -e \"using Pkg; Pkg.instantiate()\"\n ---> Running in 0423f039f9de\n   Updating registry at `/opt/julia/registries/General`\n######################################################################## 100.0%\n  Installed RollingFunctions ───────────── v0.6.2\n  Installed ThreadsX ───────────────────── v0.1.7\n...several lines deleted...\n  Installed IterTools ──────────────────── v1.3.0\n  Installed GR ─────────────────────────── v0.53.0\nERROR: SystemError: opening file \"/home/jovyan/Project.toml\": Permission denied\nStacktrace:\n [1] systemerror(::String, ::Int32; extrainfo::Nothing) at ./error.jl:168\n [2] #systemerror#48 at ./error.jl:167 [inlined]\n [3] systemerror at ./error.jl:167 [inlined]\n [4] open(::String; lock::Bool, read::Nothing, write::Nothing, create::Nothing, truncate::Bool, append::Nothing) at ./iostream.jl:284\n [5] open(::Pkg.Types.var\"#31#33\"{Base.GenericIOBuffer{Array{UInt8,1}}}, ::String; kwargs::Base.Iterators.Pairs{Symbol,Bool,Tuple{Symbol},NamedTuple{(:truncate,),Tuple{Bool}}}) at ./io.jl:323\n [6] write_project at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:180 [inlined]\n [7] write_project(::Pkg.Types.Project, ::String) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:175\n [8] write_project at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/project.jl:173 [inlined]\n [9] write_env(::Pkg.Types.EnvCache; update_undo::Bool) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Types.jl:1366\n [10] write_env at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Types.jl:1366 [inlined]\n [11] up(::Pkg.Types.Context, ::Array{Pkg.Types.PackageSpec,1}, ::Pkg.Types.UpgradeLevel) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Operations.jl:1226\n [12] up(::Pkg.Types.Context, ::Array{Pkg.Types.PackageSpec,1}; level::Pkg.Types.UpgradeLevel, mode::Pkg.Types.PackageMode, update_registry::Bool, kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:245\n [13] #up#38 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:68 [inlined]\n [14] instantiate(::Pkg.Types.Context; manifest::Nothing, update_registry::Bool, verbose::Bool, platform::Pkg.BinaryPlatforms.Linux, kwargs::Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}}) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:810\n [15] instantiate(::Pkg.Types.Context) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:795\n [16] #instantiate#169 at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:791 [inlined]\n [17] instantiate() at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/Pkg/src/API.jl:791\n [18] top-level scope at none:1\nThe command '/bin/bash -o pipefail -c julia --project=. -e \"using Pkg; Pkg.instantiate()\"' returned a non-zero code: 1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"So instantiating it tries to write Project.toml, I think, and it does not work because it is in a read-only layer created earlier by the COPY command.\nAny ideas? Adding the packages to the default project would be fine since the image will only ever have one Julia project in it."}]}]}],"thread_ts":"1612097940.228400","reply_count":60,"reply_users_count":5,"latest_reply":"1612109188.256200","reply_users":["B01J9QZ4SP8","UH24GRBLL","U01CQTKB86N","ULMSM9MAL","U67SCG4HG"],"subscribed":false,"reactions":[{"name":"bridge","users":["U01CQTKB86N"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612097941.228500","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/i-m-trying-to-create-a-docker-container-that-has-some-of-the-packages-already-inst|to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1612098195.228900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ecf32c91-5d94-4fc4-aedc-089d3e9a74ae","type":"message","text":"develop the project as usual and use something like this as the Dockerfile:\n\n```FROM julia:1.6.0-beta1-buster\nCOPY ./MyPkg /MyPkg\nWORKDIR /MyPkg\n# Resolve dependencies\nRUN julia --project -e \"using Pkg; Pkg.resolve();\"\n# Precompile with optimizations to GO FAST\nRUN julia --project -O3 -e \"using MyPkg\"\nENV JULIA_NUM_THREADS=4\nCMD julia --project run.jl # choose your entry point```","user":"UH24GRBLL","ts":"1612098655.229100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Eit","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"develop the project as usual and use something like this as the Dockerfile:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"FROM julia:1.6.0-beta1-buster\nCOPY ./MyPkg /MyPkg\nWORKDIR /MyPkg\n# Resolve dependencies\nRUN julia --project -e \"using Pkg; Pkg.resolve();\"\n# Precompile with optimizations to GO FAST\nRUN julia --project -O3 -e \"using MyPkg\"\nENV JULIA_NUM_THREADS=4\nCMD julia --project run.jl # choose your entry point"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"624986e3-dd72-497a-b05e-5703a5eda28e","type":"message","text":"that'll take care of installing dependencies at build time","user":"UH24GRBLL","ts":"1612098667.229300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CHY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that'll take care of installing dependencies at build time"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"27f3f630-916b-4e59-98f8-fdcf11372e1b","type":"message","text":"the Project.toml and Environment.toml is inside `./MyPkg`","user":"UH24GRBLL","ts":"1612098700.229500","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1612098707.000000"},"blocks":[{"type":"rich_text","block_id":"MLACS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the Project.toml and Environment.toml is inside "},{"type":"text","text":"./MyPkg","style":{"code":true}}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"c18be0b3-cd25-4aeb-9a7b-d70c130b6d53","type":"message","text":"I have some questions about that, but I’ll try it first a bit at a time.","user":"U01CQTKB86N","ts":"1612098997.229800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hbgb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have some questions about that, but I’ll try it first a bit at a time."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"8211ce1b-5263-4376-b778-be63d9a599c9","type":"message","text":"Is this guaranteed to make the container start up quickly? Or would explicitly creating a precompiled image of the major packages provide further speedups?","user":"ULMSM9MAL","ts":"1612099202.230000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Jari","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this guaranteed to make the container start up quickly? Or would explicitly creating a precompiled image of the major packages provide further speedups?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"850f3c55-7426-4f21-9662-880e1cedc76d","type":"message","text":"docker caches everything that happens during those `RUN` statements, so precompilation in 1.6 for all dependencies is cached","user":"UH24GRBLL","ts":"1612099237.230200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3ILKv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"docker caches everything that happens during those "},{"type":"text","text":"RUN","style":{"code":true}},{"type":"text","text":" statements, so precompilation in 1.6 for all dependencies is cached"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"f443fc7e-ae37-4ce7-ac17-6d0302c4b688","type":"message","text":"using PkgCompiler will still give a startup speedup though","user":"UH24GRBLL","ts":"1612099257.230400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wKiJY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using PkgCompiler will still give a startup speedup though"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"64f4c280-1fdb-4609-ab3b-7f9d418edca7","type":"message","text":"Any general notion of how much this remaining speedup is? Does it justify the increased Docker image size?","user":"ULMSM9MAL","ts":"1612099306.230600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ueL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any general notion of how much this remaining speedup is? Does it justify the increased Docker image size?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"98d6c941-d262-4e5c-b470-1a361e6db88c","type":"message","text":"no, the speedup depends on the application","user":"UH24GRBLL","ts":"1612099340.230800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jiDR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, the speedup depends on the application"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"a3173170-6e4d-4ba7-a73d-e7250d254e9b","type":"message","text":"you'll have to see if it's worth it in your case","user":"UH24GRBLL","ts":"1612099355.231000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QKpbq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'll have to see if it's worth it in your case"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"6f364684-7e10-48d0-bb96-838b6ae6b0e7","type":"message","text":":+1: thank you for the answers!\nDepending on the final startup delay, this could make for some pretty cool service architectures","user":"ULMSM9MAL","ts":"1612099427.231200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kg0","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1"},{"type":"text","text":" thank you for the answers!\nDepending on the final startup delay, this could make for some pretty cool service architectures"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"fd3fe90a-da20-45f6-8c19-cbf8e602000f","type":"message","text":"yeah","user":"UH24GRBLL","ts":"1612099443.231400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=ZV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"dce3287e-9df0-4f1e-9dc4-d81175368750","type":"message","text":"we used basically the exact Dockerfile I posted in a CTF event last weekend","user":"UH24GRBLL","ts":"1612099464.231600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"70Du","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we used basically the exact Dockerfile I posted in a CTF event last weekend"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"508d4c72-cf2f-46c2-9b11-64207ae53f98","type":"message","text":"startup was fine and JIT lag was only present on the first call (as usual)","user":"UH24GRBLL","ts":"1612099501.231800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TSj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"startup was fine and JIT lag was only present on the first call (as usual)"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"6e6b45de-9a13-4639-9b20-e7c0d275872a","type":"message","text":"but yeah, using PkgCompiler would reduce that further","user":"UH24GRBLL","ts":"1612099521.232000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Te/9X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but yeah, using PkgCompiler would reduce that further"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d884d022-f950-475c-a790-2e2aae02c5bf","type":"message","text":"we just were under time pressure, so that's why we didn't investigate further","user":"UH24GRBLL","ts":"1612099537.232200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lz/N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we just were under time pressure, so that's why we didn't investigate further"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"c68079ef-ed58-4728-9e8f-3be2644fc323","type":"message","text":"Good to know! How large was the startup delay (&gt; 1sec)?","user":"ULMSM9MAL","ts":"1612099546.232400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1XPXq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good to know! How large was the startup delay (> 1sec)?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7f94935b-ff4b-4c17-9644-b41f3c11d3da","type":"message","text":"while I can tell you that number, it's no use knowing it :) we used Nemo in an application that definitely wasn't suited for it","user":"UH24GRBLL","ts":"1612099602.232600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"htn31","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"while I can tell you that number, it's no use knowing it :) we used Nemo in an application that definitely wasn't suited for it"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7194178d-6657-46bc-8716-a57d2dca70a2","type":"message","text":"Nemo has a notoriously slow startup","user":"UH24GRBLL","ts":"1612099613.232800","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1612099619.000000"},"blocks":[{"type":"rich_text","block_id":"uwVi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nemo has a notoriously slow startup"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"efa600de-c844-46db-ae18-c96c056085e5","type":"message","text":"Fair point. In the end only benchmarks will matter.","user":"ULMSM9MAL","ts":"1612099663.233100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dUUtE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fair point. In the end only benchmarks will matter."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"fcdf0b89-54f0-4db8-8027-2340ddd68829","type":"message","text":"Well actually getting Julia officially allowed at my company will be the biggest hindrance :face_with_rolling_eyes:","user":"ULMSM9MAL","ts":"1612099682.233300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"At1T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well actually getting Julia officially allowed at my company will be the biggest hindrance "},{"type":"emoji","name":"face_with_rolling_eyes"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"c2d6b744-ee5c-4f61-bb2c-a03a6cde6047","type":"message","text":"I can make your Dockerfile work past the `Pkg.resolve()` line. Then it fails as there’s no actual code in the directory right now.\nHowever, I can’t make my own Dockerfile work. It currently looks like this:\n```FROM jupyter/datascience-notebook:latest\nRUN julia -e \"using Pkg; Pkg.status()\"\nWORKDIR /tmp/julia_tmp\nCOPY Project.toml .\nRUN julia --project -e \"using Pkg; Pkg.resolve();\"\nRUN ls -l```\nIt fails the line that includes  `Pkg.resolve()` .","user":"U01CQTKB86N","ts":"1612100143.233500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R2mF+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can make your Dockerfile work past the "},{"type":"text","text":"Pkg.resolve()","style":{"code":true}},{"type":"text","text":" line. Then it fails as there’s no actual code in the directory right now.\nHowever, I can’t make my own Dockerfile work. It currently looks like this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"FROM jupyter/datascience-notebook:latest\nRUN julia -e \"using Pkg; Pkg.status()\"\nWORKDIR /tmp/julia_tmp\nCOPY Project.toml .\nRUN julia --project -e \"using Pkg; Pkg.resolve();\"\nRUN ls -l"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It fails the line that includes  "},{"type":"text","text":"Pkg.resolve()","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"172482b0-35bc-4e9d-8457-903b3a41ea65","type":"message","text":"Is this because 1.5.3 vs 1.6, or something else?","user":"U01CQTKB86N","ts":"1612100193.233700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3doo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this because 1.5.3 vs 1.6, or something else?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"9346bb9a-4784-4709-a067-73b35999703d","type":"message","text":"what does it fail with?","user":"UH24GRBLL","ts":"1612100351.233900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TNx0Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does it fail with?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"f9124fd7-2efb-4275-8677-11d3de74454d","type":"message","text":"```ERROR: SystemError: opening file \"/tmp/julia_tmp/Project.toml\": Permission denied```","user":"U01CQTKB86N","ts":"1612100421.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K6nu","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: SystemError: opening file \"/tmp/julia_tmp/Project.toml\": Permission denied"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"b2567f5a-18cb-4531-a827-6e3641d01e5d","type":"message","text":"..at the end of installing packages.","user":"U01CQTKB86N","ts":"1612100441.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NZWr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"..at the end of installing packages."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"e612f7d9-f74b-4ffe-9a09-4a20e38aa85f","type":"message","text":"yeah, that might be because you're copying the Project.toml directly","user":"UH24GRBLL","ts":"1612100676.234500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"25Hb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that might be because you're copying the Project.toml directly"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"bfa8d8ba-b67f-4dc1-8488-8d50c781e427","type":"message","text":"I'm not an expert for Docker though, so I'm afraid I will only be of limited help :sweat_smile:","user":"UH24GRBLL","ts":"1612100962.234700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y4Mz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not an expert for Docker though, so I'm afraid I will only be of limited help "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"606dcba6-e74e-4fb0-95d5-aea66cb0e5b3","type":"message","text":"That was not it.\n```ls -l MyPkg \ntotal 8\n-rw-r--r--  1 arihuttunen  admin  698 Jan 31 15:24 Project.toml```\nFails similarly with Dockerfile\n```FROM jupyter/datascience-notebook:latest\nRUN julia -e \"using Pkg; Pkg.status()\"\nCOPY ./MyPkg /MyPkg\nWORKDIR /MyPkg\nRUN julia --project -e \"using Pkg; Pkg.resolve();\"```","user":"U01CQTKB86N","ts":"1612101050.234900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kp2rE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That was not it.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ls -l MyPkg \ntotal 8\n-rw-r--r--  1 arihuttunen  admin  698 Jan 31 15:24 Project.toml"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Fails similarly with Dockerfile\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"FROM jupyter/datascience-notebook:latest\nRUN julia -e \"using Pkg; Pkg.status()\"\nCOPY ./MyPkg /MyPkg\nWORKDIR /MyPkg\nRUN julia --project -e \"using Pkg; Pkg.resolve();\""}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"a658ae98-f7a8-4987-907d-0fefeb1f3689","type":"message","text":"I.e. `ERROR: SystemError: opening file \"/MyPkg/Project.toml\": Permission denied`","user":"U01CQTKB86N","ts":"1612101167.235100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XRcqn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I.e. "},{"type":"text","text":"ERROR: SystemError: opening file \"/MyPkg/Project.toml\": Permission denied","style":{"code":true}}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"44809c5d-998e-4d70-aa23-f59266b340eb","type":"message","text":"what happens if you use a different `FROM`?","user":"UH24GRBLL","ts":"1612101182.235300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zc6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what happens if you use a different "},{"type":"text","text":"FROM","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"1169806c-73ae-4373-8db3-07f8fc6b10b9","type":"message","text":"I don't know how `jupyter/datascience-notebook:latest` is set up, it may be that they disallow writing","user":"UH24GRBLL","ts":"1612101224.235500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Zl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know how "},{"type":"text","text":"jupyter/datascience-notebook:latest","style":{"code":true}},{"type":"text","text":" is set up, it may be that they disallow writing"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d14dfe78-cff0-4f4e-9ebe-72ccbe5ec92b","type":"message","text":"also, do you have a `docker-compose.yml` that you're using that disallows writing?","user":"UH24GRBLL","ts":"1612101241.235700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e2oR1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also, do you have a "},{"type":"text","text":"docker-compose.yml","style":{"code":true}},{"type":"text","text":" that you're using that disallows writing?"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7f83ad3b-206d-4e8c-98b7-a76d18c7fbc4","type":"message","text":"I’m not using docker compose.","user":"U01CQTKB86N","ts":"1612101254.235900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jq3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m not using docker compose."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7e5549d1-798f-429c-a3d4-47410cc862f1","type":"message","text":"then it may be the base image that'S different","user":"UH24GRBLL","ts":"1612101286.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kvHdr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then it may be the base image that'S different"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"d5adad1e-7bc4-4399-aa07-63225872e024","type":"message","text":"How would one disallow writing in a Dockerfile? As far as I understand, all previously created layears are read-only.","user":"U01CQTKB86N","ts":"1612101291.236300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hn5mA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How would one disallow writing in a Dockerfile? As far as I understand, all previously created layears are read-only."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"bdd12d27-c89a-4fcb-a755-8b004f51bb4c","type":"message","text":"This builds for me\n```$ cat Project.toml \n[deps]\nExample = \"7876af07-990d-54b4-ab0e-23690620f79a\"\n\n$ cat Dockerfile \nFROM jupyter/datascience-notebook:latest\nWORKDIR /tmp/tmp_julia\nCOPY Project.toml .\nRUN julia -e 'using Pkg; Pkg.instantiate()'```","user":"U67SCG4HG","ts":"1612101298.236500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RrL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This builds for me\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ cat Project.toml \n[deps]\nExample = \"7876af07-990d-54b4-ab0e-23690620f79a\"\n\n$ cat Dockerfile \nFROM jupyter/datascience-notebook:latest\nWORKDIR /tmp/tmp_julia\nCOPY Project.toml .\nRUN julia -e 'using Pkg; Pkg.instantiate()'"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"453fac3a-f08d-49c2-9c70-59f33fda85f2","type":"message","text":"Can you try with this Project.toml?\n```[deps]\nBenchmarkTools = \"6e4b80f9-dd63-53aa-95a3-0cdb28fa8baf\"\nDataFrames = \"a93c6f00-e57d-5684-b7b6-d8193f3e46c0\"\nDistributions = \"31c24e10-a181-5473-b8eb-7969acd0382f\"\nLoopVectorization = \"bdcacae8-1622-11e9-2a5c-532679323890\"\nPlots = \"91a5bcdd-55d7-5caf-9e0b-520d859cae80\"\nRandom = \"9a3f8284-a2c9-5f02-9a11-845980a1fd5c\"\nRollingFunctions = \"b0e4dd01-7b14-53d8-9b45-175a3e362653\"\nSantasLittleHelpers = \"c6e7a17c-0287-4a42-9433-7fe3bf8697c3\"\nStaticKernels = \"4c63dfa8-a427-4548-bd2f-4c19e87a7dc7\"\nStatistics = \"10745b16-79ce-11e8-11f9-7d13ad32a3b2\"\nThreadsX = \"ac1d9e8a-700a-412c-b207-f0111f4b6c0d\"\nTickTock = \"9ff05d80-102d-5586-aa04-3a8bd1a90d20\"\nTullio = \"bc48ee85-29a4-5162-ae0b-a64e1601d4bc\"```","user":"U01CQTKB86N","ts":"1612101420.236700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J0CBI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you try with this Project.toml?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[deps]\nBenchmarkTools = \"6e4b80f9-dd63-53aa-95a3-0cdb28fa8baf\"\nDataFrames = \"a93c6f00-e57d-5684-b7b6-d8193f3e46c0\"\nDistributions = \"31c24e10-a181-5473-b8eb-7969acd0382f\"\nLoopVectorization = \"bdcacae8-1622-11e9-2a5c-532679323890\"\nPlots = \"91a5bcdd-55d7-5caf-9e0b-520d859cae80\"\nRandom = \"9a3f8284-a2c9-5f02-9a11-845980a1fd5c\"\nRollingFunctions = \"b0e4dd01-7b14-53d8-9b45-175a3e362653\"\nSantasLittleHelpers = \"c6e7a17c-0287-4a42-9433-7fe3bf8697c3\"\nStaticKernels = \"4c63dfa8-a427-4548-bd2f-4c19e87a7dc7\"\nStatistics = \"10745b16-79ce-11e8-11f9-7d13ad32a3b2\"\nThreadsX = \"ac1d9e8a-700a-412c-b207-f0111f4b6c0d\"\nTickTock = \"9ff05d80-102d-5586-aa04-3a8bd1a90d20\"\nTullio = \"bc48ee85-29a4-5162-ae0b-a64e1601d4bc\""}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"17ce705a-33e4-41ef-9f1d-06794dca2348","type":"message","text":"It failed for me with just the BenchmarkTools line.","user":"U01CQTKB86N","ts":"1612102076.236900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9O+nE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It failed for me with just the BenchmarkTools line."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"b9793cf3-a4ba-4b83-b18f-399cdd3f11ec","type":"message","text":":man-facepalming:","user":"U01CQTKB86N","ts":"1612103792.237100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uCS","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"man-facepalming"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ddeb6b67-556b-476b-9b1f-9cafa16708a3","type":"message","text":"```(base) jovyan@c10d47473a48:~$ ls -l\ntotal 8\n-rw-r--r-- 1 root   root    63 Jan 31 14:03 Project.toml\ndrwsrwsr-x 2 jovyan users 4096 Jan 28 16:43 work\n(base) jovyan@c10d47473a48:~$ whoami\njovyan```","user":"U01CQTKB86N","ts":"1612103797.237300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"546","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(base) jovyan@c10d47473a48:~$ ls -l\ntotal 8\n-rw-r--r-- 1 root   root    63 Jan 31 14:03 Project.toml\ndrwsrwsr-x 2 jovyan users 4096 Jan 28 16:43 work\n(base) jovyan@c10d47473a48:~$ whoami\njovyan"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"b801f24f-3a7c-4ed6-8aea-1c938ecf5f99","type":"message","text":"So `COPY` creates the file as `root`, while `RUN` runs as `jovyan`.","user":"U01CQTKB86N","ts":"1612103877.238700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lBjbF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So "},{"type":"text","text":"COPY","style":{"code":true}},{"type":"text","text":" creates the file as "},{"type":"text","text":"root","style":{"code":true}},{"type":"text","text":", while "},{"type":"text","text":"RUN","style":{"code":true}},{"type":"text","text":" runs as "},{"type":"text","text":"jovyan","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ada10eb1-c115-4fd4-a98e-4adf2d2b25a9","type":"message","text":"ok, that explains it then","user":"UH24GRBLL","ts":"1612103951.240100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NfHjP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, that explains it then"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"96357226-7eb5-4bfe-b5a0-713c4018394f","type":"message","text":"the jupyter docker base image is probably set up like this intentionally to prevent accidental overwrites","user":"UH24GRBLL","ts":"1612103992.240800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rPT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the jupyter docker base image is probably set up like this intentionally to prevent accidental overwrites"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"3651b402-1e81-45be-9f03-12e2e1698d67","type":"message","text":"I’ll have to look through the series of them to see what’s up.","user":"U01CQTKB86N","ts":"1612104018.241400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mpc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ll have to look through the series of them to see what’s up."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"2758191d-4730-4910-9a10-e61591da3aa1","type":"message","text":"All of those parent Dockerfiles in jupyter stack use `USER root` .","user":"U01CQTKB86N","ts":"1612104307.241900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"198Dp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All of those parent Dockerfiles in jupyter stack use "},{"type":"text","text":"USER root","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"0dcee820-3be5-4062-8145-9a64e3c169bd","type":"message","text":"This problem is solved, so I’ll update discourse. I still need to figure out how I want this to work exactly, it’s not at the finish line yet.","user":"U01CQTKB86N","ts":"1612104730.242100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IBL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This problem is solved, so I’ll update discourse. I still need to figure out how I want this to work exactly, it’s not at the finish line yet."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"e6ea15cf-87bb-4a06-ba13-f5e46e8380ea","type":"message","text":"do note that using `USER root` once you start the container is not really good practice, because everything running in the ocntainer will also be running as `root`","user":"UH24GRBLL","ts":"1612104771.242300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V1Ls6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do note that using "},{"type":"text","text":"USER root","style":{"code":true}},{"type":"text","text":" once you start the container is not really good practice, because everything running in the ocntainer will also be running as "},{"type":"text","text":"root","style":{"code":true}}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"64f69c30-119f-4e7b-aa61-6c8787e4e603","type":"message","text":"and if you have `root` in a container, you can break out of the container","user":"UH24GRBLL","ts":"1612104787.242700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z28Lo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and if you have "},{"type":"text","text":"root","style":{"code":true}},{"type":"text","text":" in a container, you can break out of the container"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"74c10981-d5ea-443d-a2a4-2da19e432f84","type":"message","text":"Oh, not good.","user":"U01CQTKB86N","ts":"1612104833.242900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PYZT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, not good."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"7f72a523-9f10-430d-be5f-62451a61b5d4","type":"message","text":"The notebooks are runs as `jovyan`.","user":"U01CQTKB86N","ts":"1612106089.243100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5j26","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The notebooks are runs as "},{"type":"text","text":"jovyan","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"b7e0c936-e143-4d89-a9d4-ec35be3293a0","type":"message","text":"in that case you probably want a `USER jovyan` before the `COPY`","user":"UH24GRBLL","ts":"1612106420.243300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PHCCD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in that case you probably want a "},{"type":"text","text":"USER jovyan","style":{"code":true}},{"type":"text","text":" before the "},{"type":"text","text":"COPY","style":{"code":true}}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"e47dca51-6265-4087-a264-b74588329150","type":"message","text":"but I have no idea where that `USER` comes from, you may want to investigate further if that's right for you","user":"UH24GRBLL","ts":"1612106441.243500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XBy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I have no idea where that "},{"type":"text","text":"USER","style":{"code":true}},{"type":"text","text":" comes from, you may want to investigate further if that's right for you"}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"deb4ac48-b970-40d2-92e5-4a3f1f0bce8d","type":"message","text":"There’s an added complexity that the way this is usually run replaces the jovyan user’s home directory with a directory on the laptop so the notebooks are visible to the container.","user":"U01CQTKB86N","ts":"1612106940.243700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MAlV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There’s an added complexity that the way this is usually run replaces the jovyan user’s home directory with a directory on the laptop so the notebooks are visible to the container."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"02375707-f122-4486-ad5d-4b98f826c415","type":"message","text":"This isn’t my end-goal, however. I want to start the container in GCP or AWS.","user":"U01CQTKB86N","ts":"1612107062.243900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tzoMx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This isn’t my end-goal, however. I want to start the container in GCP or AWS."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"36bf836c-cfea-4a29-822a-58cecd0a33a7","type":"message","text":"In the beginning the notebooks and data might be on the laptop, so there’s some need to do something for that.","user":"U01CQTKB86N","ts":"1612107118.244500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Tfs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In the beginning the notebooks and data might be on the laptop, so there’s some need to do something for that."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"5ad6eb16-093a-4964-a164-ba0d55ef6ee8","type":"message","text":"<@UGR3910CQ> The two code boxes in the first post came out as one in discourse.","user":"U01CQTKB86N","ts":"1612108306.253100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1DMNu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UGR3910CQ"},{"type":"text","text":" The two code boxes in the first post came out as one in discourse."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N","reactions":[{"name":"heavy_check_mark","users":["UGR3910CQ"],"count":1}]},{"client_msg_id":"b2000abd-7726-4823-8f8c-d9197531e63e","type":"message","text":"It may be easier to start with the official julia docker image.","user":"U01CQTKB86N","ts":"1612109188.256200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z7flJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It may be easier to start with the official julia docker image."}]}]}],"thread_ts":"1612097940.228400","parent_user_id":"U01CQTKB86N"}]