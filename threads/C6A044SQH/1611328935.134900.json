[{"client_msg_id":"104da779-90e7-406f-8830-68a22a2f7942","type":"message","text":"Any clues how to debug  `ERROR: Package X errored during testing (received signal: KILL)` in CI? At first I thought this was a time cutoff but other tests in fact take longer (this is at 48m 40s most recently, some tests take more than an hour &amp; succeed).","user":"UD0NS8PDF","ts":"1611328935.134900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DkIU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any clues how to debug  "},{"type":"text","text":"ERROR: Package X errored during testing (received signal: KILL)","style":{"code":true}},{"type":"text","text":" in CI? At first I thought this was a time cutoff but other tests in fact take longer (this is at 48m 40s most recently, some tests take more than an hour & succeed)."}]}]}],"thread_ts":"1611328935.134900","reply_count":17,"reply_users_count":3,"latest_reply":"1611480377.236100","reply_users":["UDB26738Q","UD0NS8PDF","U01D42PK8KD"],"subscribed":false},{"client_msg_id":"8239cf98-ffcf-4d0c-8612-cef065f9d1d4","type":"message","text":"Travis?","user":"UDB26738Q","ts":"1611328967.135000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tJb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Travis?"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"faa86a1f-f2c6-4889-a0c1-bc4e3e113b7b","type":"message","text":"the free plan of Travis has a walltime of 50 minutes, and 48:40 is quite close tot that threshold, but you said you also have longer jos?","user":"UDB26738Q","ts":"1611329041.135300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6w8Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the free plan of Travis has a walltime of 50 minutes, and 48:40 is quite close tot that threshold, but you said you also have longer jos?"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"feb9f9a7-1dc7-4f6f-9d9a-4d9cb5eae41b","type":"message","text":"Github CI","user":"UD0NS8PDF","ts":"1611329041.135500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hfN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Github CI"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"eba96725-b749-427d-98f8-a43bfec48a7b","type":"message","text":"Not super-sure what the limit is. It’s possible the robot only checks once in a while?","user":"UD0NS8PDF","ts":"1611329075.135700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tomf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not super-sure what the limit is. It’s possible the robot only checks once in a while?"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"807708b2-fd22-49ef-b3d1-a4b16f086474","type":"message","text":"default limit is 6 hours","user":"UDB26738Q","ts":"1611329092.135900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9rnG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"default limit is 6 hours"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"bdc86fb0-7628-4d1d-bede-112e8d15ee8d","type":"message","text":"ok, thanks, I did think it was long!","user":"UD0NS8PDF","ts":"1611329119.136100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5+xn3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, thanks, I did think it was long!"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"60c460ec-cd6c-432e-b388-8e3111da7bd5","type":"message","text":"I think it's _too_ long, if you have a stray job hanging, it will keep busy the queue for quite some time (and if you have multiple rogue jobs, it's a mess)","user":"UDB26738Q","ts":"1611329189.136300","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1611329250.000000"},"blocks":[{"type":"rich_text","block_id":"WSQRC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it's "},{"type":"text","text":"too","style":{"italic":true}},{"type":"text","text":" long, if you have a stray job hanging, it will keep busy the queue for quite some time (and if you have multiple rogue jobs, it's a mess)"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"f79ce5cf-af80-49e2-ac3f-b47e694e6e96","type":"message","text":"Yes, Dilum kindly organised my test sets into fancy groups so that at least it’s easier to tell which bit is taking forever","user":"UD0NS8PDF","ts":"1611329281.136600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J9c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, Dilum kindly organised my test sets into fancy groups so that at least it’s easier to tell which bit is taking forever"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"1a142d22-90e0-4661-9608-4807bf23bc78","type":"message","text":"Do you know whether I would get this message if I caused a segfault, or something like that? Some part of Julia is sticking around to write a stack trace, but perhaps it’s a different process from the testing…","user":"UD0NS8PDF","ts":"1611329284.136800","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1611329318.000000"},"blocks":[{"type":"rich_text","block_id":"QCPO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you know whether I would get this message if I caused a segfault, or something like that? Some part of Julia is sticking around to write a stack trace, but perhaps it’s a different process from the testing…"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"96beaddf-6862-4e35-b281-fde4ffb419f2","type":"message","text":"I think a segfault would be a different signal","user":"UDB26738Q","ts":"1611329321.137100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J9Q1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think a segfault would be a different signal"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"e04676ec-f227-417c-953d-9a61bd1565b6","type":"message","text":"Could it be that the CI process is running out of memory ? Linux will defensively kill processes with excessive memory requests, this is often seen in pipelines with docker builds","user":"U01D42PK8KD","ts":"1611399880.193400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iwswW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could it be that the CI process is running out of memory ? Linux will defensively kill processes with excessive memory requests, this is often seen in pipelines with docker builds"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"dea5e69e-a617-4e88-b2ef-91df26cdae93","type":"message","text":"Oh that’s a good idea, thanks. I wonder if there’s a way to check, can I println memory status somehow in between tests?","user":"UD0NS8PDF","ts":"1611400149.193600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fNt=t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh that’s a good idea, thanks. I wonder if there’s a way to check, can I println memory status somehow in between tests?"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"08f45a7e-5d7e-4a5d-b2b1-59d9d7edbbc0","type":"message","text":"It shouldn’t be doing anything with very big arrays. The problematic test group is LoopVectorization tests of gradient calculations, so it is generating an ungodly amount of code… I would not expect gigabytes but haven’t tried to measure anything.","user":"UD0NS8PDF","ts":"1611400188.193800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AR5k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It shouldn’t be doing anything with very big arrays. The problematic test group is LoopVectorization tests of gradient calculations, so it is generating an ungodly amount of code… I would not expect gigabytes but haven’t tried to measure anything."}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"8234aa2a-3952-4aea-a050-f3e0d77f8532","type":"message","text":"the CI logs should be able to capture any OOM error messages","user":"U01D42PK8KD","ts":"1611402201.194000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pwOl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the CI logs should be able to capture any OOM error messages"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"98b249ba-0174-4e93-8cdd-4aac40b306dc","type":"message","text":"You can ssh into the runner with <https://github.com/marketplace/actions/debugging-with-tmate|https://github.com/marketplace/actions/debugging-with-tmate>, it might be easier for monitoring what's going on","user":"UDB26738Q","ts":"1611403159.194500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LdQgH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can ssh into the runner with "},{"type":"link","url":"https://github.com/marketplace/actions/debugging-with-tmate","text":"https://github.com/marketplace/actions/debugging-with-tmate"},{"type":"text","text":", it might be easier for monitoring what's going on"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"3fc2048b-63a8-43c5-843c-e1f2d3fa2f28","type":"message","text":"Thanks, that seems interesting. Amazingly I seem now to have a terminal on my first attempt…","user":"UD0NS8PDF","ts":"1611441638.226500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XNB9x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, that seems interesting. Amazingly I seem now to have a terminal on my first attempt…"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"},{"client_msg_id":"4dbd170d-f276-43dd-ae7e-fb9ea06330bd","type":"message","text":"So I’m a bit clueless, but if I run this before my tests, I seem to get a terminal but no tests. And if I run it after, it never happens — here’s the config file, going before -&gt; after:\n<https://github.com/mcabbott/Tullio.jl/pull/79/commits/575a7d9e33ce28b5ce2698ae8199772379c2301f>","user":"UD0NS8PDF","ts":"1611480377.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0SLR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I’m a bit clueless, but if I run this before my tests, I seem to get a terminal but no tests. And if I run it after, it never happens — here’s the config file, going before -> after:\n"},{"type":"link","url":"https://github.com/mcabbott/Tullio.jl/pull/79/commits/575a7d9e33ce28b5ce2698ae8199772379c2301f"}]}]}],"thread_ts":"1611328935.134900","parent_user_id":"UD0NS8PDF"}]