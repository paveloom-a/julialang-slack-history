[{"client_msg_id":"0874b336-809b-4571-9b68-8117181e9622","type":"message","text":"Why is that\n```d = Dict(\"a\"=&gt;1, \"b\"=&gt;2, \"c\"=&gt;3)\nfilter!(d) do (k, v)\n    iseven(v)\nend```\nis happy, but\n```d = Dict(\"a\"=&gt;1, \"b\"=&gt;2, \"c\"=&gt;3)\nfilter!((k,v) -&gt; iseven(v), d)```\nis sad and throws `ERROR: MethodError: no method matching (::var\"#114#115\")(::Pair{String,Int64})`? How am I doing this wrong?","user":"UCE6XE42Z","ts":"1612904404.416300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZT0po","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why is that\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"d = Dict(\"a\"=>1, \"b\"=>2, \"c\"=>3)\nfilter!(d) do (k, v)\n    iseven(v)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is happy, but\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"d = Dict(\"a\"=>1, \"b\"=>2, \"c\"=>3)\nfilter!((k,v) -> iseven(v), d)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is sad and throws "},{"type":"text","text":"ERROR: MethodError: no method matching (::var\"#114#115\")(::Pair{String,Int64})","style":{"code":true}},{"type":"text","text":"? How am I doing this wrong?"}]}]}],"thread_ts":"1612904404.416300","reply_count":28,"reply_users_count":4,"latest_reply":"1612916545.427300","reply_users":["B01J9QZ4SP8","U67SCG4HG","UCE6XE42Z","UM30MT6RF"],"subscribed":false,"reactions":[{"name":"bridge","users":["UCE6XE42Z"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612904406.416400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"3d0d98c7-d32f-437d-b2f0-aafdf70b5396","type":"message","text":"You need `filter(((k,v),) -&gt; iseven(v), d)`","user":"U67SCG4HG","ts":"1612904718.416700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eKDZE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You need "},{"type":"text","text":"filter(((k,v),) -> iseven(v), d)","style":{"code":true}}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"885029fd-d337-4437-a7b8-d55cf3a636d9","type":"message","text":"Thanks - and wow, I would not have guessed that.","user":"UCE6XE42Z","ts":"1612904988.416900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YiCM0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks - and wow, I would not have guessed that."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"6373380b-1b4b-4dd5-a954-946eef56e383","type":"message","text":"I had tried `((k,v))` but I didn't realize I needed to turn it into a tuple.","user":"UCE6XE42Z","ts":"1612905031.417100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C36i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I had tried "},{"type":"text","text":"((k,v))","style":{"code":true}},{"type":"text","text":" but I didn't realize I needed to turn it into a tuple."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"d460baa2-f28e-41c4-8e2b-3ea0db5d92b2","type":"message","text":"Usually, this kind of automatic Pair-destructuring works without needing this though. I guess I'm asking: how can I understand why it doesn't work here?","user":"UCE6XE42Z","ts":"1612905073.417300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3sW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Usually, this kind of automatic Pair-destructuring works without needing this though. I guess I'm asking: how can I understand why it doesn't work here?"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"c0f0c039-cd3c-4f30-8ab0-860ba3c0133a","type":"message","text":"`((k,v))` is just `(k,v)` just like `(1)` is just `1`.","user":"U67SCG4HG","ts":"1612905076.417500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bcg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"((k,v))","style":{"code":true}},{"type":"text","text":" is just "},{"type":"text","text":"(k,v)","style":{"code":true}},{"type":"text","text":" just like "},{"type":"text","text":"(1)","style":{"code":true}},{"type":"text","text":" is just "},{"type":"text","text":"1","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"dd3b244b-8400-4767-a24d-27cc690832c6","type":"message","text":"Right, that makes sense.","user":"UCE6XE42Z","ts":"1612905160.417700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pQnG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, that makes sense."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"77ecb779-c19c-4d4c-81bd-af77df4461e9","type":"message","text":"`filter` gives you a single pair that you need to destruct, so you need to create a function that takes a single argument","user":"U67SCG4HG","ts":"1612905161.417900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vZB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"filter","style":{"code":true}},{"type":"text","text":" gives you a single pair that you need to destruct, so you need to create a function that takes a single argument"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"ecc65594-f07f-4aeb-8e4d-fd93e8dc0875","type":"message","text":"But why don't I run into this with the `do` form?","user":"UCE6XE42Z","ts":"1612905191.418100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JBtAC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But why don't I run into this with the "},{"type":"text","text":"do","style":{"code":true}},{"type":"text","text":" form?"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"3603f5e2-db32-413a-985a-941c25a7ce6c","type":"message","text":"`do (k, v)` is a  single argument function while `do k, v` is a two argument functinon","user":"U67SCG4HG","ts":"1612905194.418300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9=PG8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do (k, v)","style":{"code":true}},{"type":"text","text":" is a  single argument function while "},{"type":"text","text":"do k, v","style":{"code":true}},{"type":"text","text":" is a two argument functinon"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"0265c124-3c56-46e1-b598-65de0aa1432b","type":"message","text":"Ah, okay...!","user":"UCE6XE42Z","ts":"1612905225.418500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rQ6M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, okay...!"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"b76f6e16-ee16-4a00-b98f-019998f3c9c2","type":"message","text":"Thanks a bunch!","user":"UCE6XE42Z","ts":"1612905233.418700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7WW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks a bunch!"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"362fe74e-0053-44f9-9fb8-56805caa5610","type":"message","text":"You would get the same error for\n```filter!(d) do k, v\n    # ..\nend```","user":"U67SCG4HG","ts":"1612905237.418900","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1612905252.000000"},"blocks":[{"type":"rich_text","block_id":"9mMgU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You would get the same error for\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"filter!(d) do k, v\n    # ..\nend"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"acce3c07-7cca-4b14-a80a-eaa251e7de07","type":"message","text":"&gt; `((k,v))` is just `(k,v)` just like `(1)` is just `1`.\n&gt; \nI have wondered before whether we should change that behavior for closures in the parser though, since it would be consistent with other forms of function definitions","user":"UM30MT6RF","ts":"1612905247.419100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IdZc","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"((k,v))","style":{"code":true}},{"type":"text","text":" is just "},{"type":"text","text":"(k,v)","style":{"code":true}},{"type":"text","text":" just like "},{"type":"text","text":"(1)","style":{"code":true}},{"type":"text","text":" is just "},{"type":"text","text":"1","style":{"code":true}},{"type":"text","text":".\n"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I have wondered before whether we should change that behavior for closures in the parser though, since it would be consistent with other forms of function definitions"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"e9ac0f7e-b64d-41f0-92ca-868f3d091b19","type":"message","text":"Yeah, the reason I tried it was because I know it is valid to do `f((a,b)) = a+b` with `f((1,2))`.","user":"UCE6XE42Z","ts":"1612905412.419600","team":"T68168MUP","edited":{"user":"UCE6XE42Z","ts":"1612905422.000000"},"blocks":[{"type":"rich_text","block_id":"mhz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, the reason I tried it was because I know it is valid to do "},{"type":"text","text":"f((a,b)) = a+b","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"f((1,2))","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"201bc33c-99b7-42dc-953b-03cec863b306","type":"message","text":"But that defines a function with one argument and you pass one argument.","user":"U67SCG4HG","ts":"1612905721.419900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hgo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But that defines a function with one argument and you pass one argument."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/54955| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1612905741.420200","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"b3f08d38-0244-4160-9788-080a52a05df9","type":"message","text":"Sure, but I guess that was why I naively thought that `((x,y)) -&gt; ...` would amount to the same as `f((x,y)) = ...`.","user":"UCE6XE42Z","ts":"1612905971.420400","team":"T68168MUP","edited":{"user":"UCE6XE42Z","ts":"1612906019.000000"},"blocks":[{"type":"rich_text","block_id":"wlEg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sure, but I guess that was why I naively thought that "},{"type":"text","text":"((x,y)) -> ...","style":{"code":true}},{"type":"text","text":" would amount to the same as "},{"type":"text","text":"f((x,y)) = ...","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"9d6a2f99-d285-44da-9d32-dba30e7adc48","type":"message","text":"I think that kind of makes sense to think though.","user":"UCE6XE42Z","ts":"1612906004.420600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"htX4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that kind of makes sense to think though."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"63640e67-72f1-4cc5-898b-f860d7c73768","type":"message","text":"Yes, I agree that the current meaning of that isn't very useful","user":"UM30MT6RF","ts":"1612906037.420900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H40nT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I agree that the current meaning of that isn't very useful"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"25e6f08d-336d-4fce-a3d6-dfb4ea682142","type":"message","text":"But isn't it necessary since you can't do `f(x, y -&gt; ...)`?","user":"U67SCG4HG","ts":"1612906231.421100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"au/z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But isn't it necessary since you can't do "},{"type":"text","text":"f(x, y -> ...)","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"16a5cdcc-98f9-4383-a663-58c070ecd82c","type":"message","text":"Ah, I think this is <https://github.com/JuliaLang/julia/issues/36595>?","user":"UCE6XE42Z","ts":"1612906259.421300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FhT7=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, I think this is "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/36595"},{"type":"text","text":"?"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"e8372211-e530-4883-8c6e-061a4920ae0c","type":"message","text":"&gt; But isn't it necessary since you can't do f(x, y -&gt; ...)?\nThere would have to be a special case, but it should be possible to support","user":"UM30MT6RF","ts":"1612906356.421500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SQD","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"But isn't it necessary since you can't do f(x, y -> ...)?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"There would have to be a special case, but it should be possible to support"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"b73c5038-7059-4b57-b655-cf3e83137c6d","type":"message","text":"To support `f(((x,y)) -&gt; ..., args...)` you mean?","user":"U67SCG4HG","ts":"1612906419.421700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iJt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To support "},{"type":"text","text":"f(((x,y)) -> ..., args...)","style":{"code":true}},{"type":"text","text":" you mean?"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"84a5aec2-e7da-4c79-97c5-1bab69c0703d","type":"message","text":"Yes, exactly. Unfortunately, this might be more breaking than I initially thought, since there do seem to be some packages relying on that behavior: <https://juliahub.com/ui/RepoSearch?q=%5C%28%5C%28.%2a%5C%29%5C%29%5Cs%2a-%3E&amp;r=true>","user":"UM30MT6RF","ts":"1612906562.421900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1WC/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, exactly. Unfortunately, this might be more breaking than I initially thought, since there do seem to be some packages relying on that behavior: "},{"type":"link","url":"https://juliahub.com/ui/RepoSearch?q=%5C%28%5C%28.%2a%5C%29%5C%29%5Cs%2a-%3E&r=true"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"e9bcc3dd-7d2e-4f89-be74-d2a7f5e10eb1","type":"message","text":"(although looking closer, it looks like there is only a couple of cases in Catlab and one case in ChainRulesCore actually affected by this)","user":"UM30MT6RF","ts":"1612906776.422100","team":"T68168MUP","edited":{"user":"UM30MT6RF","ts":"1612906790.000000"},"blocks":[{"type":"rich_text","block_id":"gJEY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(although looking closer, it looks like there is only a couple of cases in Catlab and one case in ChainRulesCore actually affected by this)"}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"client_msg_id":"7b12f0d9-b4e4-4c31-8720-8ba8e67ff4f8","type":"message","text":"Hmm, this is potentially problematic though:\n```julia&gt; x::T where T -&gt; T\nERROR: syntax: invalid variable expression in \"where\" around REPL[3]:1\nStacktrace:\n [1] top-level scope at REPL[3]:1\n\njulia&gt; (x::T where T) -&gt; T\n#3 (generic function with 1 method)```\nThis could be exempt, but seems a little ugly.","user":"UM30MT6RF","ts":"1612906945.423300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sAvCE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, this is potentially problematic though:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x::T where T -> T\nERROR: syntax: invalid variable expression in \"where\" around REPL[3]:1\nStacktrace:\n [1] top-level scope at REPL[3]:1\n\njulia> (x::T where T) -> T\n#3 (generic function with 1 method)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"This could be exempt, but seems a little ugly."}]}]}],"thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"},{"type":"message","subtype":"bot_message","text":"Hey <@UCE6XE42Z>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1612916545.427300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612904404.416300","parent_user_id":"UCE6XE42Z"}]