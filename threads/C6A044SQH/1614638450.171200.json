[{"client_msg_id":"962c270a-f449-4dd3-8aba-8a6cc7581dd5","type":"message","text":"I have programmatically generated mathematical expressions that I need to evaluate at run time, eg `:(X+1)`, where `X` is an array of numbers. How can I apply the `@.` macro to convert such an expression to `:(X +. 1)` before using `eval` to evaluate the expression? I've tried every combination and form of `@.`,  `macroexpand`, and interpolation I can think of... I've read the manual page on metaprogramming a few times... The mathematical expressions are generated by a Genetic Programming algorithm.","user":"U01PYM7HBEY","ts":"1614638450.171200","team":"T68168MUP","edited":{"user":"U01PYM7HBEY","ts":"1614639088.000000"},"blocks":[{"type":"rich_text","block_id":"H7RAZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have programmatically generated mathematical expressions that I need to evaluate at run time, eg "},{"type":"text","text":":(X+1)","style":{"code":true}},{"type":"text","text":", where "},{"type":"text","text":"X","style":{"code":true}},{"type":"text","text":" is an array of numbers. How can I apply the "},{"type":"text","text":"@.","style":{"code":true}},{"type":"text","text":" macro to convert such an expression to "},{"type":"text","text":":(X +. 1)","style":{"code":true}},{"type":"text","text":" before using "},{"type":"text","text":"eval","style":{"code":true}},{"type":"text","text":" to evaluate the expression? I've tried every combination and form of "},{"type":"text","text":"@.","style":{"code":true}},{"type":"text","text":",  "},{"type":"text","text":"macroexpand","style":{"code":true}},{"type":"text","text":", and interpolation I can think of... I've read the manual page on metaprogramming a few times... The mathematical expressions are generated by a Genetic Programming algorithm."}]}]}],"thread_ts":"1614638450.171200","reply_count":9,"reply_users_count":4,"latest_reply":"1614649357.178700","reply_users":["B01J9QZ4SP8","U01PYM7HBEY","U680THK2S","UD0NS8PDF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614638453.171300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY","reactions":[{"name":"bridge","users":["U01PYM7HBEY"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/56289| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1614638544.171600","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"client_msg_id":"017720bf-fe44-4c77-9af6-d4682817050b","type":"message","text":"I thought this should work, but I only get `:e` as the result:\n```X = [1, 2, 3]\ne = :(X+1)\ndottedExpr = @macroexpand @. $e```\n(The `$` interpolation has no effect; if I remove the `$` I get exactly the same result.)\n\nHowever if I directly insert the expression it works as expected, giving `:((+).(X, 1))`:\n```dottedExpr = @macroexpand @. X+1```\n","user":"U01PYM7HBEY","ts":"1614638803.171900","team":"T68168MUP","edited":{"user":"U01PYM7HBEY","ts":"1614638928.000000"},"blocks":[{"type":"rich_text","block_id":"FAh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought this should work, but I only get "},{"type":"text","text":":e","style":{"code":true}},{"type":"text","text":" as the result:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"X = [1, 2, 3]\ne = :(X+1)\ndottedExpr = @macroexpand @. $e"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"(The "},{"type":"text","text":"$","style":{"code":true}},{"type":"text","text":" interpolation has no effect; if I remove the "},{"type":"text","text":"$","style":{"code":true}},{"type":"text","text":" I get exactly the same result.)\n\nHowever if I directly insert the expression it works as expected, giving "},{"type":"text","text":":((+).(X, 1))","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"dottedExpr = @macroexpand @. X+1"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"client_msg_id":"245b8b07-4e0e-4d49-afbb-f8f7fbf3797d","type":"message","text":"```macroexpand(Main, :(@. $e))```\nshows the correct expansion","user":"U680THK2S","ts":"1614639256.172500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5yNlz","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"macroexpand(Main, :(@. $e))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"shows the correct expansion"}]}]}],"thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"client_msg_id":"493bbc95-f37a-47aa-9572-9056cfbf55ca","type":"message","text":"Holy moly, that was simple... Ahem... Thank you Alex!","user":"U01PYM7HBEY","ts":"1614639345.172700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r42h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Holy moly, that was simple... Ahem... Thank you Alex!"}]}]}],"thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"client_msg_id":"3b4490be-96a1-4149-b819-47cced337901","type":"message","text":"No problem!","user":"U680THK2S","ts":"1614639361.172900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OTau","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No problem!"}]}]}],"thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"client_msg_id":"72df46fc-25bf-4fc6-ab5c-cd0f15781987","type":"message","text":"You can also do `Broadcast.__dot__(e)`, which is what the macro calls: `@less @. 1 + 2` shows the defn.","user":"UD0NS8PDF","ts":"1614639873.173900","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1614639918.000000"},"blocks":[{"type":"rich_text","block_id":"B0lbM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can also do "},{"type":"text","text":"Broadcast.__dot__(e)","style":{"code":true}},{"type":"text","text":", which is what the macro calls: "},{"type":"text","text":"@less @. 1 + 2","style":{"code":true}},{"type":"text","text":" shows the defn."}]}]}],"thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"type":"message","subtype":"bot_message","text":"Hey <@U01PYM7HBEY>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1614649357.178500","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"},{"type":"message","subtype":"bot_message","text":"Hey <@U01PYM7HBEY>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1614649357.178700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614638450.171200","parent_user_id":"U01PYM7HBEY"}]