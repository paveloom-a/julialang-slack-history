[{"client_msg_id":"02AB1391-4D66-48EF-81B6-83249B88FDF0","type":"message","text":"The saga of my cheminformatic simulation continues!  The whole program now runs and no longer produces too many products, but now it produces too few.  I think the problem remains my model of the reaction of particles itself because I had to hack it together and still don’t understand how or why it works.\n\n```for (location, reagents) in collision_locations(reagent_location_dictionary))\n    while(length(reagents) &gt; 1)\n        deleteat!(\n            reagent_location_dictionary[location], ((findfirst(==(reagents[1]), reagent_location_dictionary[location]), (findfirst(==(reagents[2])), reagent_location_dictionary[location])))\n\n        if haskey(product_location_dictionary, location)\n            push!(product_location_dictionary[location], length(product_location_dictionary) + 1)\n        else\n            product_location_dictionary[location] = [length(product_location_dictionary) + 1)]\n```","user":"U01GC3N3ZJT","ts":"1609944637.387200","team":"T68168MUP","edited":{"user":"U01GC3N3ZJT","ts":"1609945801.000000"},"blocks":[{"type":"rich_text","block_id":"pXh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The saga of my cheminformatic simulation continues!  The whole program now runs and no longer produces too many products, but now it produces too few.  I think the problem remains my model of the reaction of particles itself because I had to hack it together and still don’t understand how or why it works.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for (location, reagents) in collision_locations(reagent_location_dictionary))\n    while(length(reagents) > 1)\n        deleteat!(\n            reagent_location_dictionary[location], ((findfirst(==(reagents[1]), reagent_location_dictionary[location]), (findfirst(==(reagents["},{"type":"text","text":"2])), "},{"type":"text","text":"reagent_location_dictionary[location])))\n\n        if haskey(product_location_dictionary, location)\n            push!(product_location_dictionary[location], length(product_location_dictionary) + 1)\n        else\n            product_location_dictionary[location] = [length(product_location_dictionary) + 1)]\n"}]}]}],"thread_ts":"1609944637.387200","reply_count":8,"reply_users_count":2,"latest_reply":"1609947433.400700","reply_users":["USU9FRPEU","U01GC3N3ZJT"],"subscribed":false},{"client_msg_id":"fa84d98f-db7e-4ebc-8ba7-6558e956b6ea","type":"message","text":"What is the second argument to your `deleteat!` supposed to be?","user":"USU9FRPEU","ts":"1609946410.396300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DVg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the second argument to your "},{"type":"text","text":"deleteat!","style":{"code":true}},{"type":"text","text":" supposed to be?"}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"4d93ee7a-0a48-496b-9c3a-26b7f04c5319","type":"message","text":"Isn't that always a tuple `(1,2)` ?","user":"USU9FRPEU","ts":"1609946594.396500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5k/A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Isn't that always a tuple "},{"type":"text","text":"(1,2)","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"a385570f-f3d4-4bdb-8d48-97816ebe3a69","type":"message","text":"`reagents` is the result of `reagent_location_dictionary[location]`  right?... so isn't `reagents[1]`  always at index 1 and `reagents[2]` always at index 2.","user":"USU9FRPEU","ts":"1609946669.396700","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1609946684.000000"},"blocks":[{"type":"rich_text","block_id":"gnpF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"reagents","style":{"code":true}},{"type":"text","text":" is the result of "},{"type":"text","text":"reagent_location_dictionary[location]","style":{"code":true}},{"type":"text","text":"  right?... so isn't "},{"type":"text","text":"reagents[1]","style":{"code":true}},{"type":"text","text":"  always at index 1 and "},{"type":"text","text":"reagents[2]","style":{"code":true}},{"type":"text","text":" always at index 2."}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"68cf57b2-0958-411c-aaca-7501374300b0","type":"message","text":"What is this supposed to indicate? The creation of a new particle?\n```length(product_location_dictionary) + 1```","user":"USU9FRPEU","ts":"1609946749.397000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ak7z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is this supposed to indicate? The creation of a new particle?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"length(product_location_dictionary) + 1"}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"a3794f8c-79f2-4a50-bb9f-556323984ce0","type":"message","text":"You probably want the `maximum(keys(product_location_dictionary)) + 1`","user":"USU9FRPEU","ts":"1609946783.397200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O/i1w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You probably want the "},{"type":"text","text":"maximum(keys(product_location_dictionary)) + 1","style":{"code":true}}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"c3b2ba64-1c4e-4b7c-9bd3-36e7f6fe7e7e","type":"message","text":"Actually I'm not sure what you want... but using dictionary length for this is probably not a good idea. Let's say you dictionary contains particles 1, 5, and 10. It's length is then 3. So you are adding particle 4?","user":"USU9FRPEU","ts":"1609946884.397400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iMxf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Actually I'm not sure what you want... but using dictionary length for this is probably not a good idea. Let's say you dictionary contains particles 1, 5, and 10. It's length is then 3. So you are adding particle 4?"}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"6c0b60b7-358f-4628-ae31-afda10395c4a","type":"message","text":"Also there is a <#C010T18P936|chemistry> channel you might want to check out.","user":"USU9FRPEU","ts":"1609946971.397600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j/NQY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also there is a "},{"type":"channel","channel_id":"C010T18P936"},{"type":"text","text":" channel you might want to check out."}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"},{"client_msg_id":"3A839C3F-A899-43F8-A2F0-526B0F6A965F","type":"message","text":"Thanks!  I tried your first tip, and it worked!  Your hunch about the creation of a particle was also correct, but product_location_dictionary starts empty, and I got an error that reducing over an empty set is not allowed.  Come to think of it, my particle creation code isn’t right at all, though, so maybe #chemistry could help!","user":"U01GC3N3ZJT","ts":"1609947433.400700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CdOTM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!  I tried your first tip, and it worked!  Your hunch about the creation of a particle was also correct, but product_location_dictionary starts empty, and I got an error that reducing over an empty set is not allowed.  Come to think of it, my particle creation code isn’t right at all, though, so maybe #chemistry could help!"}]}]}],"thread_ts":"1609944637.387200","parent_user_id":"U01GC3N3ZJT"}]