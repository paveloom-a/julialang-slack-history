[{"client_msg_id":"684afec7-cff8-445f-a158-89f95ba311bb","type":"message","text":"Having trouble to get julia 1.5.3 setup in my students windows computers. It seems like the General registry is not added with the installation? Moreoever, when one tries `] registry add General` they get `ERROR: SystemError: opening file \"C:\\\\Users\\\\firstname lastname\\\\.julia\\\\registries\\\\General\\\\Registry.toml\": No such file or directory`  Anybody has experienced something similar?","user":"U01JTEUPPAA","ts":"1613469330.426800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gh9O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Having trouble to get julia 1.5.3 setup in my students windows computers. It seems like the General registry is not added with the installation? Moreoever, when one tries "},{"type":"text","text":"] registry add General","style":{"code":true}},{"type":"text","text":" they get "},{"type":"text","text":"ERROR: SystemError: opening file \"C:\\\\Users\\\\firstname lastname\\\\.julia\\\\registries\\\\General\\\\Registry.toml\": No such file or directory","style":{"code":true}},{"type":"text","text":"  Anybody has experienced something similar?"}]}]}],"thread_ts":"1613469330.426800","reply_count":29,"reply_users_count":5,"latest_reply":"1613475045.433200","reply_users":["B01J9QZ4SP8","UH24GRBLL","U01JTEUPPAA","U67SCG4HG","U68QW0PUZ"],"subscribed":false,"reactions":[{"name":"bridge","users":["U01JTEUPPAA"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1613469332.426900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/55383| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1613469401.427200","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"8b919ab5-2817-40d6-a2b7-9d5a7391f58a","type":"message","text":"Were there errors during the initial setup?","user":"UH24GRBLL","ts":"1613469878.427700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2ly/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Were there errors during the initial setup?"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"0e67acd7-4bc9-4f2d-8437-e9865092edcd","type":"message","text":"the registry is installed during the initial install of any package","user":"UH24GRBLL","ts":"1613469901.427900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YOv0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the registry is installed during the initial install of any package"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"5ff7362e-81c8-4426-9863-cd67d3d47e7a","type":"message","text":"Thanks. No, no errors in the initial setup. The first thing we did was to add a 'private' registry and then trying to add a Package from that registry. The private registry was added with no problems, but when trying to add the package, it complained that it couldn't find a package with certain UUID (which I determined corresponds to the TimeZones.jl). Then I tried to add the General registry and got the error above...","user":"U01JTEUPPAA","ts":"1613470198.428100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"muX8O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks. No, no errors in the initial setup. The first thing we did was to add a 'private' registry and then trying to add a Package from that registry. The private registry was added with no problems, but when trying to add the package, it complained that it couldn't find a package with certain UUID (which I determined corresponds to the TimeZones.jl). Then I tried to add the General registry and got the error above..."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"622e197f-9e44-44c7-b118-a65498eba207","type":"message","text":"could it simply be that they need to add a package from the general registry first? maybe the problem is the first package added was one from this private registry of us??","user":"U01JTEUPPAA","ts":"1613470523.428300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X4a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could it simply be that they need to add a package from the general registry first? maybe the problem is the first package added was one from this private registry of us??"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"9f140984-de1d-4bae-9149-f8890bf929cd","type":"message","text":"the order of registry installs shouldn't matter","user":"UH24GRBLL","ts":"1613470570.428500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y1Tt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the order of registry installs shouldn't matter"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"c340a492-f060-44c8-8ad3-4ca1115e6d21","type":"message","text":"Registry installation on windows is a bit bad (but fixed in upcoming version). The easiest fix is to delete any trace of it and try again.","user":"U67SCG4HG","ts":"1613470588.428700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Aiy2W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Registry installation on windows is a bit bad (but fixed in upcoming version). The easiest fix is to delete any trace of it and try again."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"cbe6f8c8-3427-4e8c-b543-3a1b2e5559a3","type":"message","text":"thanks, so does that mean removing the `.julia` directory?","user":"U01JTEUPPAA","ts":"1613470692.428900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"up/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks, so does that mean removing the "},{"type":"text","text":".julia","style":{"code":true}},{"type":"text","text":" directory?"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"5397ffec-483e-4c1e-a3da-c6b244a14cfc","type":"message","text":"No `.julia/registries/General`","user":"U67SCG4HG","ts":"1613470933.429100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Amv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No "},{"type":"text","text":".julia/registries/General","style":{"code":true}}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"0643fe6a-a807-4664-bdc0-d18ec19d8ad2","type":"message","text":"will try, thanks","user":"U01JTEUPPAA","ts":"1613471023.429300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kMRT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"will try, thanks"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"afa15d35-67c6-4cb9-926c-8be358b69579","type":"message","text":"You can copy-paste this snippet in the REPL too\n```using Pkg\nrm(joinpath(DEPOT_PATH[1], \"registries\", \"General\"); force=true, recursive=true)\nwithenv(\"JULIA_PKG_SERVER\"=&gt;\") do\n    Pkg.Registry.add(\"General\")\nend```","user":"U67SCG4HG","ts":"1613471060.429500","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1613471453.000000"},"blocks":[{"type":"rich_text","block_id":"YEp1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can copy-paste this snippet in the REPL too\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Pkg\nrm(joinpath(DEPOT_PATH[1], \"registries\", \"General\"); force=true, recursive=true)\nwithenv(\"JULIA_PKG_SERVER\"=>\") do\n    Pkg.Registry.add(\"General\")\nend"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"5135276d-badc-4432-823c-63aedc88cf9a","type":"message","text":"nice, thanks a lot","user":"U01JTEUPPAA","ts":"1613471089.429700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lch","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nice, thanks a lot"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"59eda337-45a3-45b9-aec3-649ed1c6a889","type":"message","text":"didn't know about `JULIA_PKG_SERVER`...","user":"U01JTEUPPAA","ts":"1613471171.429900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q3akp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"didn't know about "},{"type":"text","text":"JULIA_PKG_SERVER","style":{"code":true}},{"type":"text","text":"..."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"9fed2f87-8ff1-4ce2-965b-cb35200ee44f","type":"message","text":"It's really annoying that Pkg server seems so broken :/","user":"UH24GRBLL","ts":"1613471264.430100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8dDK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's really annoying that Pkg server seems so broken :/"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"41d82b92-e171-41f8-8ba7-299986892c99","type":"message","text":"They are not; this is a case of Windows not handling unpacking of tarballs very good.","user":"U67SCG4HG","ts":"1613471424.430300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZUkus","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"They are not; this is a case of Windows not handling unpacking of tarballs very good."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"1751b52f-4c65-4529-8bcb-1fbf31c4db87","type":"message","text":"The code above is just temporarily disabling it to get the registry from git instead (which is better on windows).","user":"U67SCG4HG","ts":"1613471468.430600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QVld","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The code above is just temporarily disabling it to get the registry from git instead (which is better on windows)."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"623dddfe-f571-4b83-90ee-18541cc87cd8","type":"message","text":"I personally blame windows :grin:","user":"U01JTEUPPAA","ts":"1613471545.430800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BVI6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I personally blame windows "},{"type":"emoji","name":"grin"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"7d121e97-4e8a-4579-a00f-585658c94243","type":"message","text":"if this works, do they need to wrap their `Pkg` calls on that `withenv` call in the future?","user":"U01JTEUPPAA","ts":"1613471986.431000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"312QI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if this works, do they need to wrap their "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" calls on that "},{"type":"text","text":"withenv","style":{"code":true}},{"type":"text","text":" call in the future?"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"382cea49-0187-445f-b6a5-81f16e4a614b","type":"message","text":"No just when first installing the registry","user":"U67SCG4HG","ts":"1613472036.431200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No just when first installing the registry"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"7b38edc5-25f4-4a02-9b27-666c23ae661d","type":"message","text":"seems to work, thanks so much! awesome support","user":"U01JTEUPPAA","ts":"1613472154.431400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R7vE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"seems to work, thanks so much! awesome support"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"785d3293-a190-42a4-8b94-9b3d5087e77b","type":"message","text":"I'm not 100% sure that's the case - I'm using julia and Pkg primarily though WSL, unpacking tarballs in a directory in WSL that's explicitly excluded from Windows Defender and the like. Yet I still see these kinds of problems when I use Pkg server.","user":"UH24GRBLL","ts":"1613472487.431600","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1613472499.000000"},"blocks":[{"type":"rich_text","block_id":"YhU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not 100% sure that's the case - I'm using julia and Pkg primarily though WSL, unpacking tarballs in a directory in WSL that's explicitly excluded from Windows Defender and the like. Yet I still see these kinds of problems when I use Pkg server."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"57077b14-12c8-44d4-8bd3-37090eecfb79","type":"message","text":"What kind of problems","user":"U67SCG4HG","ts":"1613472749.431900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ann","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What kind of problems"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"c429baeb-c5c4-44ba-95f8-e61f900f1ec9","type":"message","text":"Exactly the same kinds of problems people have had with PkgServer for months. Downloads hanging/stalling, no progress during unpacking etc.","user":"UH24GRBLL","ts":"1613472976.432200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7GEG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exactly the same kinds of problems people have had with PkgServer for months. Downloads hanging/stalling, no progress during unpacking etc."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"61863d86-c1cd-49af-adf4-372d2e63db69","type":"message","text":"Sounds more like <https://github.com/JuliaLang/Downloads.jl/issues/95> <https://github.com/JuliaLang/Downloads.jl/issues/94>","user":"U67SCG4HG","ts":"1613473032.432400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sv9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sounds more like "},{"type":"link","url":"https://github.com/JuliaLang/Downloads.jl/issues/95"},{"type":"text","text":" "},{"type":"link","url":"https://github.com/JuliaLang/Downloads.jl/issues/94"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"4a79c0fd-1415-4975-b670-666802952754","type":"message","text":"possibly - I've noticed those hangs since the first time PkgServer was released, even before Downloads switched to cURL, so that would strongly imply that there's something wonky on the server side","user":"UH24GRBLL","ts":"1613473166.432600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tCW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"possibly - I've noticed those hangs since the first time PkgServer was released, even before Downloads switched to cURL, so that would strongly imply that there's something wonky on the server side"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"c908e9a2-4b08-406e-ba96-d1eb3b201e2f","type":"message","text":"the problem is if that happens during registry install, an incomplete registry will mess with all other package operations, forcing people to nuke the registry and reinstall it :/","user":"UH24GRBLL","ts":"1613473448.432800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zdt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the problem is if that happens during registry install, an incomplete registry will mess with all other package operations, forcing people to nuke the registry and reinstall it :/"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"5e35a0a3-fdb1-4bf8-987a-036c3aa49ecd","type":"message","text":"Might be a wsl specific issue then. All other kinks have been worked out afaik","user":"U67SCG4HG","ts":"1613473585.433000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6=Za","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Might be a wsl specific issue then. All other kinks have been worked out afaik"}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"},{"client_msg_id":"fa3ef1cc-de86-4c39-8f21-993d3745f7a6","type":"message","text":"copying from johnh on Discourse\n\nPlease consider using the Chocolatey package manager - I use Windows 10 on my laptop and it has been invaluable. Every Julia installation ahs been faultless.","user":"U68QW0PUZ","ts":"1613475045.433200","team":"T68168MUP","edited":{"user":"U68QW0PUZ","ts":"1613475114.000000"},"attachments":[{"service_name":"JuliaLang","title":"Having trouble to get julia 1.5.3 setup in my students windows computers. It seems","title_link":"https://discourse.julialang.org/t/having-trouble-to-get-julia-1-5-3-setup-in-my-students-windows-computers-it-seems/55383/3","text":"Please consider using the Chocolatey package manager - I use Windows 10 on my laptop and it has been invaluable. Every Julia installation ahs been faultless.","fallback":"JuliaLang: Having trouble to get julia 1.5.3 setup in my students windows computers. It seems","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1613474462,"from_url":"https://discourse.julialang.org/t/having-trouble-to-get-julia-1-5-3-setup-in-my-students-windows-computers-it-seems/55383/3","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/having-trouble-to-get-julia-1-5-3-setup-in-my-students-windows-computers-it-seems/55383/3"}],"blocks":[{"type":"rich_text","block_id":"UuKkM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"copying from johnh on Discourse\n\nPlease consider using the Chocolatey package manager - I use Windows 10 on my laptop and it has been invaluable. Every Julia installation ahs been faultless."}]}]}],"thread_ts":"1613469330.426800","parent_user_id":"U01JTEUPPAA"}]