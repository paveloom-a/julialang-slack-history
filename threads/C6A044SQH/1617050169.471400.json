[{"client_msg_id":"b23fedc8-73f1-472a-927f-1a11988d05ab","type":"message","text":"I've had some discussion <https://julialang.zulipchat.com/#narrow/stream/225542-helpdesk/topic/Package.20in.20Bare.20Git.20Repository|over on Zulip> but thought I would ask here as well as we ran out of our collective knowledge of Git/Pkg/Windows.\n\nThe primary question boils down to, can you `Pkg.add(\"mypackage\")` where you give a local filepath to a bare git repo? I am thinking more and more that Pkg doesn't handle this case but perhaps I could be doing something incorrectly.\n\nIf this is indeed impossible how do other folks add a package hosted on a shared network drive? I know I can `git -clone` the package to a local folder and add that but seems like an unnecessary step.\nMaybe the solution I'm looking for is a local registry or something...but I can't make heads or tails of the documents in localregistry.jl","user":"U9L5Y89H7","ts":"1617050169.471400","team":"T68168MUP","attachments":[{"service_name":"Zulip","title":"JuliaLang","title_link":"https://julialang.zulipchat.com/#narrow/stream/225542-helpdesk/topic/Package.20in.20Bare.20Git.20Repository","text":"This is the Zulip server for the Julia programming language community. We ask anyone joining to adhere to the Julia Code of Conduct. | To learn more about Julia, check out <https://julialang.org/>, or just come ask us here! | You can reach out to the admins of this Zulip by sending a direct message to @zulip-admins.","fallback":"Zulip: JuliaLang","thumb_url":"https://zulip-avatars.s3.amazonaws.com/7178/realm/icon.png?version=6","from_url":"https://julialang.zulipchat.com/#narrow/stream/225542-helpdesk/topic/Package.20in.20Bare.20Git.20Repository","thumb_width":100,"thumb_height":100,"id":1,"original_url":"https://julialang.zulipchat.com/#narrow/stream/225542-helpdesk/topic/Package.20in.20Bare.20Git.20Repository"}],"blocks":[{"type":"rich_text","block_id":"/Cak6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've had some discussion "},{"type":"link","url":"https://julialang.zulipchat.com/#narrow/stream/225542-helpdesk/topic/Package.20in.20Bare.20Git.20Repository","text":"over on Zulip"},{"type":"text","text":" but thought I would ask here as well as we ran out of our collective knowledge of Git/Pkg/Windows.\n\nThe primary question boils down to, can you "},{"type":"text","text":"Pkg.add(\"mypackage\")","style":{"code":true}},{"type":"text","text":" where you give a local filepath to a bare git repo? I am thinking more and more that Pkg doesn't handle this case but perhaps I could be doing something incorrectly.\n\nIf this is indeed impossible how do other folks add a package hosted on a shared network drive? I know I can "},{"type":"text","text":"git -clone","style":{"code":true}},{"type":"text","text":" the package to a local folder and add that but seems like an unnecessary step.\nMaybe the solution I'm looking for is a local registry or something...but I can't make heads or tails of the documents in localregistry.jl"}]}]}],"thread_ts":"1617050169.471400","reply_count":14,"reply_users_count":3,"latest_reply":"1617052672.485600","reply_users":["USU9FRPEU","U01FKQQ7J0J","U9L5Y89H7"],"is_locked":false,"subscribed":false},{"client_msg_id":"80eae741-2e6d-45f6-81a7-970d8ee6c982","type":"message","text":"This is from the doc for `Pkg.add`:\n```Pkg.add(url=\"/remote/mycompany/juliapackages/OurPackage\") # From path to local gitrepo```","user":"USU9FRPEU","ts":"1617050477.471800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5fU=Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is from the doc for "},{"type":"text","text":"Pkg.add","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Pkg.add(url=\"/remote/mycompany/juliapackages/OurPackage\") # From path to local gitrepo"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"0a6e647d-79c6-45fc-9099-d862c6dd7373","type":"message","text":"This also seems to work:\n```]add file:///path/to/bare/repo.git```","user":"U01FKQQ7J0J","ts":"1617050680.473300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BYVb1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This also seems to work:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"]add file:///path/to/bare/repo.git"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7","reactions":[{"name":"pray","users":["U9L5Y89H7"],"count":1}]},{"client_msg_id":"2242b8df-932b-4c76-9bbb-3beffc772e22","type":"message","text":"<@U01FKQQ7J0J> that one actually worked!!\n\nI've tried so many combinations of slashes, add, Pkg,add direct, mapped, etc. etc. and finally found one that worked!","user":"U9L5Y89H7","ts":"1617050967.476300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HgYyw","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01FKQQ7J0J"},{"type":"text","text":" that one actually worked!!\n\nI've tried so many combinations of slashes, add, Pkg,add direct, mapped, etc. etc. and finally found one that worked!"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"98ec430c-622a-46eb-98a2-ad32cba36d6b","type":"message","text":"this is the weirdest command but it works like a charm\n`add file:///\\\\grcfs5/ltv/code/git/SHPmaker.jl.git`","user":"U9L5Y89H7","ts":"1617051074.477700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Rh7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is the weirdest command but it works like a charm\n"},{"type":"text","text":"add file:///\\\\grcfs5/ltv/code/git/SHPmaker.jl.git","style":{"code":true}}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"24e02f69-f5b7-46a3-a735-c15f98db1945","type":"message","text":"It's the triple slash that always gets me.  I think it's really just the double slash of `file://` followed by the absolute path `/path/to/bare/repo.git`, but for some reason it looks weird (though not as weird as triple backslash followed by escaped backslash :scream:)","user":"U01FKQQ7J0J","ts":"1617051267.478800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pRtEj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's the triple slash that always gets me.  I think it's really just the double slash of "},{"type":"text","text":"file://","style":{"code":true}},{"type":"text","text":" followed by the absolute path "},{"type":"text","text":"/path/to/bare/repo.git","style":{"code":true}},{"type":"text","text":", but for some reason it looks weird (though not as weird as triple backslash followed by escaped backslash "},{"type":"emoji","name":"scream"},{"type":"text","text":")"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"620059fb-d58e-47b5-acd1-9b8cbf27f1ec","type":"message","text":"In Windows Explorer the path to the bare repo is `\\\\grcfs5\\ltv\\code\\git\\SHPMaker.jl.git` So I just plopped the two slashes in there. Maybe some other combinations of slashes would also work. I have no idea how it is interpreting all those slashes","user":"U9L5Y89H7","ts":"1617051420.479200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c=DI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In Windows Explorer the path to the bare repo is "},{"type":"text","text":"\\\\grcfs5\\ltv\\code\\git\\SHPMaker.jl.git","style":{"code":true}},{"type":"text","text":" So I just plopped the two slashes in there. Maybe some other combinations of slashes would also work. I have no idea how it is interpreting all those slashes"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"6719d715-bc4c-457a-84a8-0e056d06b31c","type":"message","text":"It's hard to argue with success! :slightly_smiling_face:","user":"U01FKQQ7J0J","ts":"1617051825.479400","team":"T68168MUP","edited":{"user":"U01FKQQ7J0J","ts":"1617051844.000000"},"blocks":[{"type":"rich_text","block_id":"Fsga","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's hard to argue with success! "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"95ba5933-13ab-4ae0-8081-d64b996699ca","type":"message","text":"Through trial and error I also got\n`Pkg.add(path = raw\"file:///Z:\\code\\git\\SHPMaker.jl.git\")`\nand\n`Pkg.add(path = raw\"file:///\\\\grcfs5\\ltv\\code\\git\\SHPMaker.jl.git\")`\nto both work.\n\nIs the `file:///` thing documented somewhere? I have never seen such a thing and it's a bit difficult to google.","user":"U9L5Y89H7","ts":"1617051981.479700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5LrqE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Through trial and error I also got\n"},{"type":"text","text":"Pkg.add(path = raw\"file:///Z:\\code\\git\\SHPMaker.jl.git\")","style":{"code":true}},{"type":"text","text":"\nand\n"},{"type":"text","text":"Pkg.add(path = raw\"file:///\\\\grcfs5\\ltv\\code\\git\\SHPMaker.jl.git\")","style":{"code":true}},{"type":"text","text":"\nto both work.\n\nIs the "},{"type":"text","text":"file:///","style":{"code":true}},{"type":"text","text":" thing documented somewhere? I have never seen such a thing and it's a bit difficult to google."}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"e336f79a-1f06-4f3f-a472-565374585d50","type":"message","text":"<https://en.wikipedia.org/wiki/File_URI_scheme>","user":"USU9FRPEU","ts":"1617052024.479900","team":"T68168MUP","attachments":[{"title":"File URI scheme","title_link":"https://en.wikipedia.org/wiki/File_URI_scheme","from_url":"https://en.wikipedia.org/wiki/File_URI_scheme","author_name":"Wikipedia","author_link":"https://en.wikipedia.org/","text":"The File URI Scheme is a URI scheme defined in RFC 8089, typically used to retrieve files from within one's own computer. \nPreviously the file URI scheme was specified in RFC 1630 and RFC 1738. The Internet Engineering Task Force (IETF) published RFC 8089, updating the latter RFC, with \"a syntax based on the generic syntax of RFC 3986 that is compatible with most existing usages.\"","fallback":"wikipedia: File URI scheme","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/wikipedia.png","id":1,"original_url":"https://en.wikipedia.org/wiki/File_URI_scheme"}],"blocks":[{"type":"rich_text","block_id":"xaaG","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://en.wikipedia.org/wiki/File_URI_scheme"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"3e3a97a9-5e04-42e1-a14a-961df0f670b7","type":"message","text":"Btw, if you don't want to use `raw` you can just convert all the `\\` to `/`","user":"USU9FRPEU","ts":"1617052115.480200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z=L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Btw, if you don't want to use "},{"type":"text","text":"raw","style":{"code":true}},{"type":"text","text":" you can just convert all the "},{"type":"text","text":"\\","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"/","style":{"code":true}}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"c79839eb-cee6-43b5-bdde-9c031ddbb62b","type":"message","text":"`Pkg.add(path = \"file:///\\\\\\\\grcfs5/ltv/code/git/SHPMaker.jl.git\")` works but\n`Pkg.add(path = \"file://///grcfs5/ltv/code/git/SHPMaker.jl.git\")` does not","user":"U9L5Y89H7","ts":"1617052240.480400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"spo8W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Pkg.add(path = \"file:///\\\\\\\\grcfs5/ltv/code/git/SHPMaker.jl.git\")","style":{"code":true}},{"type":"text","text":" works but\n"},{"type":"text","text":"Pkg.add(path = \"file://///grcfs5/ltv/code/git/SHPMaker.jl.git\")","style":{"code":true}},{"type":"text","text":" does not"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"fe0c16fe-a3e3-4d75-b376-a8a2e865273c","type":"message","text":"How about this?\n```\"file://\" * \"//grcfs5/ltv/code/git/SHPMaker.jl.git\"```","user":"U01FKQQ7J0J","ts":"1617052385.481700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NNPd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How about this?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\"file://\" * \"//grcfs5/ltv/code/git/SHPMaker.jl.git\""}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"329d5218-25c6-4719-9ed8-12f190e5f925","type":"message","text":"It raises a GitError stating that `file:////grcfs5/....` is not a valid URI","user":"U9L5Y89H7","ts":"1617052519.484400","team":"T68168MUP","edited":{"user":"U9L5Y89H7","ts":"1617052564.000000"},"blocks":[{"type":"rich_text","block_id":"0pVfP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It raises a GitError stating that "},{"type":"text","text":"file:////grcfs5/....","style":{"code":true}},{"type":"text","text":" is not a valid URI"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"c54d5713-0260-4c31-9da2-ac0d64c61f4e","type":"message","text":"Same thing for only two slashes?","user":"U01FKQQ7J0J","ts":"1617052672.485600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6n7U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Same thing for only two slashes?"}]}]}],"thread_ts":"1617050169.471400","parent_user_id":"U9L5Y89H7"}]