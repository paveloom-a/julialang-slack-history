[{"client_msg_id":"5bee7072-4ba3-45e2-b1b1-16fdb48e3b66","type":"message","text":"Hello everyone! How do I draw a sample each from Binomial(n=1,p=1) and Binomial(n=1,p=0). `rand(Binomial((1,1),(1,0)),2)`  doesn't work.","user":"U01HHACHU77","ts":"1608842043.492000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PwrAT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello everyone! How do I draw a sample each from Binomial(n=1,p=1) and Binomial(n=1,p=0). "},{"type":"text","text":"rand(Binomial((1,1),(1,0)),2)","style":{"code":true}},{"type":"text","text":"  doesn't work."}]}]}],"thread_ts":"1608842043.492000","reply_count":16,"reply_users_count":3,"latest_reply":"1608844286.495500","reply_users":["U012XER8K4M","U01HHACHU77","U0179G7FG4F"],"subscribed":false},{"client_msg_id":"f6e10408-34b1-427b-bad9-e771410cd6cf","type":"message","text":"You'll have to call rand twice","user":"U012XER8K4M","ts":"1608842720.492100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aEA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You'll have to call rand twice"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"3c1b96c8-a1d2-4c9e-bbbc-b94d269f485f","type":"message","text":"Also, as far as I can tell, this is always equal [1, 0]","user":"U012XER8K4M","ts":"1608842786.492300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GyJJi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, as far as I can tell, this is always equal [1, 0]"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"8372bcdf-6516-40d7-990d-9c285ceee47d","type":"message","text":"Thanks! Is there no way to vectorize this? I may have to generate a hundred of such samples with different probabilities.","user":"U01HHACHU77","ts":"1608842851.492500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x5G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks! Is there no way to vectorize this? I may have to generate a hundred of such samples with different probabilities."}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"f80eb075-6f62-41e5-9536-d749bb9f2a0a","type":"message","text":"```distributions = [Binomial(1,1), Binomial(1,0)]\nrds = rand.(distributions)```","user":"U012XER8K4M","ts":"1608843170.492700","team":"T68168MUP","edited":{"user":"U012XER8K4M","ts":"1608843183.000000"},"blocks":[{"type":"rich_text","block_id":"WGcm","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"distributions = [Binomial(1,1), Binomial(1,0)]\nrds = rand.(distributions)"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"b7c98bf1-c92e-4934-9702-cf8a0a2e0767","type":"message","text":"(i assume you wanted 1 sample per distribution here)","user":"U012XER8K4M","ts":"1608843259.493200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j6ZuL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(i assume you wanted 1 sample per distribution here)"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"196c5fd6-6f60-4580-ac3b-744a0e3d55b0","type":"message","text":"Yes, thanks for this. I have a slightly more complicated requirement. My probability vector is not [1,0] but a 100-dimensional vector. So something like\n`distributions = [Binomial(1,p1),Binomial(1,p2),...,Binomial(1,p100)]`","user":"U01HHACHU77","ts":"1608843412.493400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZOaAn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, thanks for this. I have a slightly more complicated requirement. My probability vector is not [1,0] but a 100-dimensional vector. So something like\n"},{"type":"text","text":"distributions = [Binomial(1,p1),Binomial(1,p2),...,Binomial(1,p100)]","style":{"code":true}}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"6f369c52-5d4f-488b-a23a-114557632da7","type":"message","text":"well i hope you use arrays for \"p\"","user":"U012XER8K4M","ts":"1608843454.493600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uhd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well i hope you use arrays for \"p\""}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77","reactions":[{"name":"heavy_check_mark","users":["U01HHACHU77"],"count":1}]},{"client_msg_id":"89745d98-2fb1-48e8-a2cd-7aab4891e7ab","type":"message","text":"Then it would be `Binomial.(1,p)`","user":"U0179G7FG4F","ts":"1608843603.493900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rqIu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then it would be "},{"type":"text","text":"Binomial.(1,p)","style":{"code":true}}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"22001883-3e96-4cde-926a-a3fe35526e6c","type":"message","text":"or the entire `rand.(Binomial.(1,p))`","user":"U012XER8K4M","ts":"1608843650.494100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qy09+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or the entire "},{"type":"text","text":"rand.(Binomial.(1,p))","style":{"code":true}}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"ed5bc0de-0f76-41f8-9e87-198d39b561e5","type":"message","text":"Thanks <@U012XER8K4M> and <@U0179G7FG4F>. Here's the entire code for reproducibility.\n```using LinearAlgebra, Distributions, StatsBase, Random\n\nRandom.Seed!(1234);\n\nn,p = 100,7;\nX = reshape(rand(n*p),n,p);\nβ0 = collect(Iterators.flatten([-3,5,zeros(p-2)]));\np = cdf(Normal(0,1),X*β0);```\n<@U012XER8K4M> and <@U0179G7FG4F>’s recommendation -\n`Y = rand.(Binomial.(1,p),1)`\nTo flatten it, I used\n`Y = collect(Iterators.flatten((rand.(Binomial.(1,p),1))))` \n\nThis gave me what I was looking for.","user":"U01HHACHU77","ts":"1608844116.494300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/F8x9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"U012XER8K4M"},{"type":"text","text":" and "},{"type":"user","user_id":"U0179G7FG4F"},{"type":"text","text":". Here's the entire code for reproducibility.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using LinearAlgebra, Distributions, StatsBase, Random\n\nRandom.Seed!(1234);\n\nn,p = 100,7;\nX = reshape(rand(n*p),n,p);\nβ0 = collect(Iterators.flatten([-3,5,zeros(p-2)]));\np = cdf(Normal(0,1),X*β0);"}]},{"type":"rich_text_section","elements":[{"type":"user","user_id":"U012XER8K4M"},{"type":"text","text":" and "},{"type":"user","user_id":"U0179G7FG4F"},{"type":"text","text":"’s recommendation -\n"},{"type":"text","text":"Y = rand.(Binomial.(1,p),1)","style":{"code":true}},{"type":"text","text":"\nTo flatten it, I used\n"},{"type":"text","text":"Y = collect(Iterators.flatten((rand.(Binomial.(1,p),1)))) ","style":{"code":true}},{"type":"text","text":"\n\nThis gave me what I was looking for."}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"5bdf31fc-0f26-4e54-b59b-4fbd4117ce95","type":"message","text":"Just remove the ,1 from rand","user":"U012XER8K4M","ts":"1608844154.494500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CNtlG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just remove the ,1 from rand"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"a13fa2c1-a188-4eb4-8a2b-3fb7bce450d1","type":"message","text":"`Y = rand.(Binomial.(1,p))`  &lt;-- do this","user":"U012XER8K4M","ts":"1608844176.494700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dwYt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Y = rand.(Binomial.(1,p))","style":{"code":true}},{"type":"text","text":"  <-- do this"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"2f9dd0ba-42da-44a4-bd76-5f016d544d99","type":"message","text":"instead of flattening later? Yes, makes sense. Got it!","user":"U01HHACHU77","ts":"1608844199.494900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0RPL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"instead of flattening later? Yes, makes sense. Got it!"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"2c3eec46-cafe-4136-89f0-83b81e399f24","type":"message","text":"that version of rand returns a single value directly","user":"U012XER8K4M","ts":"1608844218.495100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HMr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that version of rand returns a single value directly"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"addae4cb-c3a9-46d4-b586-c709cd6d7892","type":"message","text":"and the broadcasting gives you a 1D array","user":"U012XER8K4M","ts":"1608844228.495300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hmKKA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and the broadcasting gives you a 1D array"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77"},{"client_msg_id":"befcdae8-653b-4302-9d62-36e5814ea1fb","type":"message","text":"Not only less code, also way faster","user":"U012XER8K4M","ts":"1608844286.495500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sh2J5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not only less code, also way faster"}]}]}],"thread_ts":"1608842043.492000","parent_user_id":"U01HHACHU77","reactions":[{"name":"thumbsup_all","users":["U01HHACHU77","U0179G7FG4F"],"count":2}]}]