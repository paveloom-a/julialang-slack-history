[{"client_msg_id":"382e3c5b-0a18-49a9-9cf9-aa7756c38c0b","type":"message","text":"Is there a Julia function (or another means) to know whether an instance of a type was allocated on the stack or on the heap? I know that `@btime` reports the number of allocations on the heap, but I would like to know this info after it has been allocated.","user":"UEA5FBCRH","ts":"1616008441.039900","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1616008559.000000"},"blocks":[{"type":"rich_text","block_id":"L+Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a Julia function (or another means) to know whether an instance of a type was allocated on the stack or on the heap? I know that "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" reports the number of allocations on the heap, but I would like to know this info after it has been allocated."}]}]}],"thread_ts":"1616008441.039900","reply_count":5,"reply_users_count":4,"latest_reply":"1616011385.051600","reply_users":["B01J9QZ4SP8","UM30MT6RF","UEA5FBCRH","UCZ7VBGUD"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616008443.040000","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616008441.039900","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"d67c1f8d-a52b-422d-afb7-61a633588865","type":"message","text":"This is not really a question that is valid to ask, since the compiler is free to allocate objects on the heap or the stack as it wishes as long as it doesn't change the behavior, but this would break the validity of such optimizations. Generally, the way to debug such problems is using `@code_warntype`. If your object is immutable and your code type stable, there should not be a heap allocation.","user":"UM30MT6RF","ts":"1616008939.041900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HRB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is not really a question that is valid to ask, since the compiler is free to allocate objects on the heap or the stack as it wishes as long as it doesn't change the behavior, but this would break the validity of such optimizations. Generally, the way to debug such problems is using "},{"type":"text","text":"@code_warntype","style":{"code":true}},{"type":"text","text":". If your object is immutable and your code type stable, there should not be a heap allocation."}]}]}],"thread_ts":"1616008441.039900","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"698a69ed-ae13-48cd-aa62-c1b4640d4941","type":"message","text":"For a moment I thought that my question was not valid to ask :sweat_smile:. Thanks <@UM30MT6RF>.","user":"UEA5FBCRH","ts":"1616009025.043100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i+L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For a moment I thought that my question was not valid to ask "},{"type":"emoji","name":"sweat_smile"},{"type":"text","text":". Thanks "},{"type":"user","user_id":"UM30MT6RF"},{"type":"text","text":"."}]}]}],"thread_ts":"1616008441.039900","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"56d61173-96c8-4f67-856e-bfe590f475bf","type":"message","text":"definitely valid to ask <#C6A044SQH|helpdesk>! I guess the compiler is a bit stricter though :laughing:","user":"UCZ7VBGUD","ts":"1616011185.051200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZtZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"definitely valid to ask "},{"type":"channel","channel_id":"C6A044SQH"},{"type":"text","text":"! I guess the compiler is a bit stricter though "},{"type":"emoji","name":"laughing"}]}]}],"thread_ts":"1616008441.039900","parent_user_id":"UEA5FBCRH","reactions":[{"name":"smile","users":["UEA5FBCRH"],"count":1}]},{"client_msg_id":"04803f39-8bd8-4143-923d-42f7427ad9de","type":"message","text":"Yeah, sorry if it came off wrong, I of course didn't mean your question was not valid!","user":"UM30MT6RF","ts":"1616011385.051600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LRpj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, sorry if it came off wrong, I of course didn't mean your question was not valid!"}]}]}],"thread_ts":"1616008441.039900","parent_user_id":"UEA5FBCRH"}]