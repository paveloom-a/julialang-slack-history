[{"client_msg_id":"48d2d609-7a5b-4489-be25-135fbaf86722","type":"message","text":"problem with transpose is that it transposes everything, e.g., I have a matrix of matrices, and transpose acts on both the inner and outer indices\n\nI could write a transpose to just return a view of the outer transposed matrices, just wasn’t sure if someone else already did it","user":"U011LUQ182G","ts":"1609442244.435400","team":"T68168MUP","edited":{"user":"U011LUQ182G","ts":"1609442260.000000"},"blocks":[{"type":"rich_text","block_id":"cDa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"problem with transpose is that it transposes everything, e.g., I have a matrix of matrices, and transpose acts on both the inner and outer indices\n\nI could write a transpose to just return a view of the outer transposed matrices, just wasn’t sure if someone else already did it"}]}]}],"thread_ts":"1609442244.435400","reply_count":2,"reply_users_count":1,"latest_reply":"1609442851.436000","reply_users":["U011LUQ182G"],"subscribed":false},{"client_msg_id":"a1a3df67-02b6-4368-93ae-19903d873a52","type":"message","text":"to clarify - transpose works recursively on arrays of arrays\n```julia&gt; A = [[1 2; 3 4], [5 6; 7 8]]\n2-element Array{Array{Int64,2},1}:\n [1 2; 3 4]\n [5 6; 7 8]\n\njulia&gt; transpose(A)\n1×2 Transpose{Transpose{Int64,Array{Int64,2}},Array{Array{Int64,2},1}}:\n [1 3; 2 4]  [5 7; 6 8]```","user":"U011LUQ182G","ts":"1609442391.435700","team":"T68168MUP","edited":{"user":"U011LUQ182G","ts":"1609442436.000000"},"blocks":[{"type":"rich_text","block_id":"JoR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to clarify - transpose works recursively on arrays of arrays\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> A = [[1 2; 3 4], [5 6; 7 8]]\n2-element Array{Array{Int64,2},1}:\n [1 2; 3 4]\n [5 6; 7 8]\n\njulia> transpose(A)\n1×2 Transpose{Transpose{Int64,Array{Int64,2}},Array{Array{Int64,2},1}}:\n [1 3; 2 4]  [5 7; 6 8]"}]}]}],"thread_ts":"1609442244.435400","parent_user_id":"U011LUQ182G"},{"client_msg_id":"d15fb26e-b08a-4757-898b-41e2607a94b1","type":"message","text":"hopefully an efficient enough fix -\n\n`reverse_CartesianIndex(ij) = CartesianIndex(reverse(ij.I))`\n`transpose_blocks(A) = view(A,reverse_CartersianIndex.(CartesianIndices(A)))`\n\n```julia&gt; A = [i*reshape(1:4,2,2) for i = 1:2, j = 1:2]\n2×2 Array{Array{Int64,2},2}:\n [1 3; 2 4]  [1 3; 2 4]\n [2 6; 4 8]  [2 6; 4 8]\n\njulia&gt; transpose_blocks(A)\n2×2 view(::Array{Array{Int64,2},2}, CartesianIndex{2}[CartesianIndex(1, 1) CartesianIndex(2, 1); CartesianIndex(1, 2) CartesianIndex(2, 2)]) with eltype Array{Int64,2}:\n [1 3; 2 4]  [2 6; 4 8]\n [1 3; 2 4]  [2 6; 4 8]```","user":"U011LUQ182G","ts":"1609442851.436000","team":"T68168MUP","edited":{"user":"U011LUQ182G","ts":"1609442878.000000"},"blocks":[{"type":"rich_text","block_id":"NoULM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hopefully an efficient enough fix -\n\n"},{"type":"text","text":"reverse_CartesianIndex(ij) = CartesianIndex(reverse(ij.I))","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"transpose_blocks(A) = view(A,reverse_CartersianIndex.(CartesianIndices(A)))","style":{"code":true}},{"type":"text","text":"\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> A = [i*reshape(1:4,2,2) for i = 1:2, j = 1:2]\n2×2 Array{Array{Int64,2},2}:\n [1 3; 2 4]  [1 3; 2 4]\n [2 6; 4 8]  [2 6; 4 8]\n\njulia> transpose_blocks(A)\n2×2 view(::Array{Array{Int64,2},2}, CartesianIndex{2}[CartesianIndex(1, 1) CartesianIndex(2, 1); CartesianIndex(1, 2) CartesianIndex(2, 2)]) with eltype Array{Int64,2}:\n [1 3; 2 4]  [2 6; 4 8]\n [1 3; 2 4]  [2 6; 4 8]"}]}]}],"thread_ts":"1609442244.435400","parent_user_id":"U011LUQ182G"}]