[{"type":"message","text":"Hi Folks,\n\nI am trying to implement a simple \"nonuniform\" grid on a square, where the center of the square is sample much more densely than the rest of the square. I wrote this code as an attempt:\n\n```N=300\nkX1 = collect(range(minimum(fullK[1, :]), stop=-0.05, length=N÷3+1))\nkY1 = collect(range(minimum(fullK[2, :]), stop=-0.05, length=N÷3+1))\nkX2 = collect(range(-0.05, stop=0.05, length=N÷3))\nkY2 = collect(range(-0.05, stop=0.05, length=N÷3))\nkX3 = collect(range(0.05, stop=maximum(fullK[1,:]), length=N÷3+1))\nkY3 = collect(range(0.05, stop=maximum(fullK[2,:]), length=N÷3+1))\nkX = vcat(kX1[1:end-1], kX2, kX3[2:end])\nkY = vcat(kY1[1:end-1], kY2, kY3[2:end])\n\t\t\nKX = repeat(kX, N)[:]\nKY = repeat(kY',N)[:]\ngridPoints = [KX KY]'\n\np = scatter(gridPoints[1,:], gridPoints[2,:], label=\"Grid\", markersize=10, marker=:x)```\nAnd the result is shown in the attachment.\n\nI understand why the grid looks the way it does but can't fix it. It seems like a pretty simple problem though. Any thoughts?","files":[{"id":"F01K72A7FU3","created":1611091606,"timestamp":1611091606,"name":"grid.png","title":"grid.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01GBJA0JBC","editable":false,"size":827853,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01K72A7FU3/grid.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01K72A7FU3/download/grid.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_360.png","thumb_360_w":360,"thumb_360_h":270,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_480.png","thumb_480_w":480,"thumb_480_h":360,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_720.png","thumb_720_w":720,"thumb_720_h":540,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_800.png","thumb_800_w":800,"thumb_800_h":600,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_960.png","thumb_960_w":960,"thumb_960_h":720,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01K72A7FU3-02e869cddc/grid_1024.png","thumb_1024_w":1024,"thumb_1024_h":768,"original_w":1200,"original_h":900,"thumb_tiny":"AwAkADDTpKWosn1pDQjH5jzRn3qJmO48mk3N6mpuXYtL90U4dKhVjtHNSpytUiGhetQmpjzTcD0oYIqv98/WkqZlG48Ck2j0FTY0uKn3B9KlT7tIqjaOKcOBVIhsXrTV5FOpF6H60yRoUHJPrQqAinL0P1oXp+NAXEUcUq9KF6fjQvSgD//Z","permalink":"https://julialang.slack.com/files/U01GBJA0JBC/F01K72A7FU3/grid.png","permalink_public":"https://slack-files.com/T68168MUP-F01K72A7FU3-bff288acd0","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"XcS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi Folks,\n\nI am trying to implement a simple \"nonuniform\" grid on a square, where the center of the square is sample much more densely than the rest of the square. I wrote this code as an attempt:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"N=300\nkX1 = collect(range(minimum(fullK[1, :]), stop=-0.05, length=N÷3+1))\nkY1 = collect(range(minimum(fullK[2, :]), stop=-0.05, length=N÷3+1))\nkX2 = collect(range(-0.05, stop=0.05, length=N÷3))\nkY2 = collect(range(-0.05, stop=0.05, length=N÷3))\nkX3 = collect(range(0.05, stop=maximum(fullK[1,:]), length=N÷3+1))\nkY3 = collect(range(0.05, stop=maximum(fullK[2,:]), length=N÷3+1))\nkX = vcat(kX1[1:end-1], kX2, kX3[2:end])\nkY = vcat(kY1[1:end-1], kY2, kY3[2:end])\n\t\t\nKX = repeat(kX, N)[:]\nKY = repeat(kY',N)[:]\ngridPoints = [KX KY]'\n\np = scatter(gridPoints[1,:], gridPoints[2,:], label=\"Grid\", markersize=10, marker=:x)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd the result is shown in the attachment.\n\nI understand why the grid looks the way it does but can't fix it. It seems like a pretty simple problem though. Any thoughts?"}]}]}],"user":"U01GBJA0JBC","display_as_bot":false,"ts":"1611091648.354000","edited":{"user":"U01GBJA0JBC","ts":"1611091892.000000"},"thread_ts":"1611091648.354000","reply_count":6,"reply_users_count":2,"latest_reply":"1611094942.361700","reply_users":["U019K6Q9N15","U01GBJA0JBC"],"subscribed":false},{"client_msg_id":"55ebc99f-5542-4369-a8e7-6094a09ab9ce","type":"message","text":"As far as I can tell you're asking for help with the semantics, right? You want to get rid of the stripes of high density points outside of the center?\n\nWhat I would do is just create two squares of different densities-- one larger one with low density and one smaller one with high density. Then take the set union of the two and plot that.","user":"U019K6Q9N15","ts":"1611092574.355200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+5q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As far as I can tell you're asking for help with the semantics, right? You want to get rid of the stripes of high density points outside of the center?\n\nWhat I would do is just create two squares of different densities-- one larger one with low density and one smaller one with high density. Then take the set union of the two and plot that."}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"0364ffbd-38d6-4415-9e4e-b52f4b6054ff","type":"message","text":"The issue with your current code is that it tries to describe the objective space as a product (by virtue of using those `repeat` s), which it surely is not. Consider the slice of the space at a given _x-_coordinate. If it were a product, these would have to all be isomorphic, regardless of that coordinate. This is clearly not true-- consider _x = -0.10_ and _x = 0.00._","user":"U019K6Q9N15","ts":"1611092900.356700","team":"T68168MUP","edited":{"user":"U019K6Q9N15","ts":"1611093829.000000"},"blocks":[{"type":"rich_text","block_id":"rcePh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The issue with your current code is that it tries to describe the objective space as a product (by virtue of using those "},{"type":"text","text":"repeat","style":{"code":true}},{"type":"text","text":" s), which it surely is not. Consider the slice of the space at a given "},{"type":"text","text":"x-","style":{"italic":true}},{"type":"text","text":"coordinate. If it were a product, these would have to all be isomorphic, regardless of that coordinate. This is clearly not true-- consider "},{"type":"text","text":"x = -0.10","style":{"italic":true}},{"type":"text","text":" and "},{"type":"text","text":"x = 0.00.","style":{"italic":true}}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"9af18ab0-1349-40cb-9734-3d8d5a638c9e","type":"message","text":"Thanks, I knew why it was wrong, just not how to fix it. I did it now as you suggested, two separate patches, and it looks fine, but since there are duplicate and overlapping points I think it's throwing off my interpolation code. Ill have to figure that out as a separate issue. Thanks for the help!","user":"U01GBJA0JBC","ts":"1611093127.357400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H8do1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, I knew why it was wrong, just not how to fix it. I did it now as you suggested, two separate patches, and it looks fine, but since there are duplicate and overlapping points I think it's throwing off my interpolation code. Ill have to figure that out as a separate issue. Thanks for the help!"}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"9337488d-f560-4cfd-ae7e-e55b9c6a3c89","type":"message","text":"To remove the duplicate points, use a set union.","user":"U019K6Q9N15","ts":"1611093657.360200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+nK7t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To remove the duplicate points, use a set union."}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"7df902a5-e264-4d45-b25d-9873e2eabb2d","type":"message","text":"<https://docs.julialang.org/en/v1/base/collections/#Base.union>","user":"U019K6Q9N15","ts":"1611093726.360600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wqTg","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.julialang.org/en/v1/base/collections/#Base.union"}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"bcbb20af-5d79-4cb2-9759-6ca4f869449c","type":"message","text":"Thanks, I didn't know about that!","user":"U01GBJA0JBC","ts":"1611094942.361700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OJ72","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, I didn't know about that!"}]}]}],"thread_ts":"1611091648.354000","parent_user_id":"U01GBJA0JBC","reactions":[{"name":"+1","users":["U019K6Q9N15"],"count":1}]}]