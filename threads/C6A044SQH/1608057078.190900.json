[{"client_msg_id":"db1d40a3-9d8d-4d2e-b9b4-63585b62de27","type":"message","text":"How do I get a string representation of what the REPL would pretty-print?  E.g. if I want to get a nice capture of what `stacktrace()` in the REPL prints:\n\n```julia&gt; stacktrace()\n13-element Vector{Base.StackTraces.StackFrame}:\n top-level scope at REPL[18]:1\n eval(m::Module, e::Any) at boot.jl:360\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\n (::Base.var\"#873#875\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\n #invokelatest#2 at essentials.jl:707 [inlined]\n invokelatest at essentials.jl:706 [inlined]\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\n exec_options(opts::Base.JLOptions) at client.jl:302\n _start() at client.jl:485```\nHow do I get a `string` with all those nice linebreaks and whatnot?","user":"U66GD0880","ts":"1608057078.190900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gbJGf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I get a string representation of what the REPL would pretty-print?  E.g. if I want to get a nice capture of what "},{"type":"text","text":"stacktrace()","style":{"code":true}},{"type":"text","text":" in the REPL prints:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> stacktrace()\n13-element Vector{Base.StackTraces.StackFrame}:\n top-level scope at REPL[18]:1\n eval(m::Module, e::Any) at boot.jl:360\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\n (::Base.var\"#873#875\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\n #invokelatest#2 at essentials.jl:707 [inlined]\n invokelatest at essentials.jl:706 [inlined]\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\n exec_options(opts::Base.JLOptions) at client.jl:302\n _start() at client.jl:485"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nHow do I get a "},{"type":"text","text":"string","style":{"code":true}},{"type":"text","text":" with all those nice linebreaks and whatnot?"}]}]}],"thread_ts":"1608057078.190900","reply_count":15,"reply_users_count":3,"latest_reply":"1608057578.194900","reply_users":["UDB26738Q","U67SCG4HG","U66GD0880"],"subscribed":false},{"client_msg_id":"71ff952d-e841-48ac-a0ee-c5cacc927288","type":"message","text":"`repr`?","user":"UDB26738Q","ts":"1608057150.191200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j+y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"repr","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"f0bff8a2-49f6-4377-bc50-81598b9f80ef","type":"message","text":"Or do you mean this?\n```julia&gt; Base.show_backtrace(stdout, stacktrace())\n\nStacktrace:\n  [1] top-level scope\n    @ REPL[5]:1\n  [2] eval(m::Module, e::Any)\n    @ Core ./boot.jl:360\n  [3] eval_user_input(ast::Any, backend::REPL.REPLBackend)\n    @ REPL ~/julia16/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:139\n  [4] repl_backend_loop(backend::REPL.REPLBackend)\n    @ REPL ~/julia16/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:200```","user":"U67SCG4HG","ts":"1608057201.191600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iBu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or do you mean this?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Base.show_backtrace(stdout, stacktrace())\n\nStacktrace:\n  [1] top-level scope\n    @ REPL[5]:1\n  [2] eval(m::Module, e::Any)\n    @ Core ./boot.jl:360\n  [3] eval_user_input(ast::Any, backend::REPL.REPLBackend)\n    @ REPL ~/julia16/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:139\n  [4] repl_backend_loop(backend::REPL.REPLBackend)\n    @ REPL ~/julia16/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:200"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"6ab88c54-82eb-47e9-8f19-409426b43fd4","type":"message","text":"It’s not stacktrace-specific; I mean the nice `vector` output that is being printed here","user":"U66GD0880","ts":"1608057284.192200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sASi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s not stacktrace-specific; I mean the nice "},{"type":"text","text":"vector","style":{"code":true}},{"type":"text","text":" output that is being printed here"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"4b88d57c-758d-4996-8636-a1df71f76c94","type":"message","text":"```julia&gt; z = [1, 2,  3]\n3-element Vector{Int64}:\n 1\n 2\n 3\n\njulia&gt; string(z)\n\"[1, 2, 3]\"```","user":"U66GD0880","ts":"1608057307.192400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xYtC","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> z = [1, 2,  3]\n3-element Vector{Int64}:\n 1\n 2\n 3\n\njulia> string(z)\n\"[1, 2, 3]\""}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"d13b953f-18c1-46c1-ae29-0b221eb432b6","type":"message","text":"see how `string(z)` doesn’t have linebreaks","user":"U66GD0880","ts":"1608057313.192600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vkM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"see how "},{"type":"text","text":"string(z)","style":{"code":true}},{"type":"text","text":" doesn’t have linebreaks"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"214c1205-6ea3-4a36-9394-86b1e6ef1878","type":"message","text":"```julia&gt; repr(MIME(\"text/plain\"), stacktrace())\n\"13-element Vector{Base.StackTraces.StackFrame}:\\n top-level scope at REPL[7]:1\\n eval(m::Module, e::Any) at boot.jl:360\\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\\n (::Base.var\\\"#865#867\\\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\\n #invokelatest#2 at essentials.jl:707 [inlined]\\n invokelatest at essentials.jl:706 [inlined]\\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\\n exec_options(opts::Base.JLOptions) at client.jl:302\\n _start() at client.jl:485\"\n\njulia&gt; println(repr(MIME(\"text/plain\"), stacktrace()))\n13-element Vector{Base.StackTraces.StackFrame}:\n top-level scope at REPL[8]:1\n eval(m::Module, e::Any) at boot.jl:360\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\n (::Base.var\"#865#867\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\n #invokelatest#2 at essentials.jl:707 [inlined]\n invokelatest at essentials.jl:706 [inlined]\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\n exec_options(opts::Base.JLOptions) at client.jl:302\n _start() at client.jl:485```","user":"UDB26738Q","ts":"1608057328.192800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5R7Am","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> repr(MIME(\"text/plain\"), stacktrace())\n\"13-element Vector{Base.StackTraces.StackFrame}:\\n top-level scope at REPL[7]:1\\n eval(m::Module, e::Any) at boot.jl:360\\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\\n (::Base.var\\\"#865#867\\\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\\n #invokelatest#2 at essentials.jl:707 [inlined]\\n invokelatest at essentials.jl:706 [inlined]\\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\\n exec_options(opts::Base.JLOptions) at client.jl:302\\n _start() at client.jl:485\"\n\njulia> println(repr(MIME(\"text/plain\"), stacktrace()))\n13-element Vector{Base.StackTraces.StackFrame}:\n top-level scope at REPL[8]:1\n eval(m::Module, e::Any) at boot.jl:360\n eval_user_input(ast::Any, backend::REPL.REPLBackend) at REPL.jl:139\n repl_backend_loop(backend::REPL.REPLBackend) at REPL.jl:200\n start_repl_backend(backend::REPL.REPLBackend, consumer::Any) at REPL.jl:185\n run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool) at REPL.jl:317\n run_repl(repl::REPL.AbstractREPL, consumer::Any) at REPL.jl:305\n (::Base.var\"#865#867\"{Bool, Bool, Bool})(REPL::Module) at client.jl:387\n #invokelatest#2 at essentials.jl:707 [inlined]\n invokelatest at essentials.jl:706 [inlined]\n run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool) at client.jl:372\n exec_options(opts::Base.JLOptions) at client.jl:302\n _start() at client.jl:485"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"76e7aecb-d5f5-4a6d-8973-5eb2eaf47468","type":"message","text":"ahhhh you can pass a `MIME` into `repr`?!","user":"U66GD0880","ts":"1608057363.193300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J=OMy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ahhhh you can pass a "},{"type":"text","text":"MIME","style":{"code":true}},{"type":"text","text":" into "},{"type":"text","text":"repr","style":{"code":true}},{"type":"text","text":"?!"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"194be168-b358-41bc-b33e-2e2d3672eb1a","type":"message","text":"and also the IO context, if necessary","user":"UDB26738Q","ts":"1608057387.193500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aPGtB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and also the IO context, if necessary"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"7b9d75e9-a942-4f84-a2f7-e576dcfb8426","type":"message","text":"for example if you want the compact printing","user":"UDB26738Q","ts":"1608057424.193700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yr1d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for example if you want the compact printing"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"fd906454-8c24-44b1-aab5-d0a2f2569298","type":"message","text":"got it","user":"U66GD0880","ts":"1608057474.193900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TRP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"got it"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"53c2d529-60a0-4636-99bb-782eeb74e7b8","type":"message","text":"```io = IOBuffer()\ndisplay(TextDisplay(io), MIME(\"text/plain\"), stacktrace())\ns = String(take!(io))```","user":"U66GD0880","ts":"1608057485.194100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5vc","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"io = IOBuffer()\ndisplay(TextDisplay(io), MIME(\"text/plain\"), stacktrace())\ns = String(take!(io))"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"df34b262-8913-49cf-b70c-f114b0c3b0ba","type":"message","text":"You can probalby just `show(io, MIME, vec)` there","user":"U67SCG4HG","ts":"1608057509.194300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gkfn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can probalby just "},{"type":"text","text":"show(io, MIME, vec)","style":{"code":true}},{"type":"text","text":" there"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"7095c9c7-03d1-472b-a849-922fa1266973","type":"message","text":"I don’t understand why `repr()` is taking a MIME type though; that seems like a bug.  `repr()` should only output things that can be passed back through `Meta.parse()`.","user":"U66GD0880","ts":"1608057526.194500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nRN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t understand why "},{"type":"text","text":"repr()","style":{"code":true}},{"type":"text","text":" is taking a MIME type though; that seems like a bug.  "},{"type":"text","text":"repr()","style":{"code":true}},{"type":"text","text":" should only output things that can be passed back through "},{"type":"text","text":"Meta.parse()","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"7cfc9ec7-14e0-4361-b74f-413e593e5e11","type":"message","text":"Oh, okay.  The docstring for `repr` has changed.  :slightly_smiling_face:","user":"U66GD0880","ts":"1608057564.194700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5GLp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, okay.  The docstring for "},{"type":"text","text":"repr","style":{"code":true}},{"type":"text","text":" has changed.  "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"},{"client_msg_id":"d7632eda-fa33-44e2-add0-6901950ea677","type":"message","text":"<https://docs.julialang.org/en/v1/base/strings/#Base.repr-Tuple{Any}>","user":"U66GD0880","ts":"1608057578.194900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Wo","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.julialang.org/en/v1/base/strings/#Base.repr-Tuple{Any}"}]}]}],"thread_ts":"1608057078.190900","parent_user_id":"U66GD0880"}]