[{"client_msg_id":"47d2d27f-b916-4eac-b177-402ac6bb1fac","type":"message","text":"What's the recommended way to solve LP problems with `BigFloat` constraints and no objective function? `Tulip`+ `JuMP`? `Cosmo` + `Convex`? Something else?","user":"U0179G7FG4F","ts":"1613157449.171500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OLHY/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's the recommended way to solve LP problems with "},{"type":"text","text":"BigFloat","style":{"code":true}},{"type":"text","text":" constraints and no objective function? "},{"type":"text","text":"Tulip","style":{"code":true}},{"type":"text","text":"+ "},{"type":"text","text":"JuMP","style":{"code":true}},{"type":"text","text":"? "},{"type":"text","text":"Cosmo","style":{"code":true}},{"type":"text","text":" + "},{"type":"text","text":"Convex","style":{"code":true}},{"type":"text","text":"? Something else?"}]}]}],"thread_ts":"1613157449.171500","reply_count":18,"reply_users_count":3,"latest_reply":"1613168270.197100","reply_users":["B01J9QZ4SP8","UCZ7VBGUD","U0179G7FG4F"],"subscribed":false,"reactions":[{"name":"bridge","users":["U0179G7FG4F"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1613157451.171600","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/55167| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1613157468.171900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"F969ADFC-34A9-4732-8DF9-0A937526949D","type":"message","text":"If you want BigFloat, you can’t use JuMP, but you can use big floats with Convex.jl, or directly with the library (most have their own interface). Not sure if COSMO supports big floats (I think it didn’t used to but might now). Tulip definitely does. What kind of constraints?","user":"UCZ7VBGUD","ts":"1613159859.176100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UA2r6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you want BigFloat, you can’t use JuMP, but you can use big floats with Convex.jl, or directly with the library (most have their own interface). Not sure if COSMO supports big floats (I think it didn’t used to but might now). Tulip definitely does. What kind of constraints?"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"2809C6E5-1497-4941-A5AE-4B0BA54F0C7B","type":"message","text":"(Tulip only supports linear constraints. COSMO supports a bunch of cones. The new solver Hypatia supports a bunch too and allows bigfloats AFAIK. SDPAFamily supports mostly SDP constraints and does big floats).","user":"UCZ7VBGUD","ts":"1613159970.178500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2BBU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(Tulip only supports linear constraints. COSMO supports a bunch of cones. The new solver Hypatia supports a bunch too and allows bigfloats AFAIK. SDPAFamily supports mostly SDP constraints and does big floats)."}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"e58b8d41-4a8f-4c71-ba51-8b7fa9b42f8a","type":"message","text":"It's for <https://www.cs.rutgers.edu/~santosh.nagarakatte/papers/rlibm-popl-2021.pdf>. The constraints are `LB&lt;= A*x &lt;= UB` (constant `A`) where `LB` and `UB` differ by roughly `.0001`","user":"U0179G7FG4F","ts":"1613160022.178700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ncs0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's for "},{"type":"link","url":"https://www.cs.rutgers.edu/~santosh.nagarakatte/papers/rlibm-popl-2021.pdf"},{"type":"text","text":". The constraints are "},{"type":"text","text":"LB<= A*x <= UB","style":{"code":true}},{"type":"text","text":" (constant `A`) where "},{"type":"text","text":"LB","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"UB","style":{"code":true}},{"type":"text","text":" differ by roughly "},{"type":"text","text":".0001","style":{"code":true}}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"92A84204-9D1B-4F04-AC1C-268D6356C492","type":"message","text":"I’d go with Tulip then, and personally I’d use Convex.jl but I’m the maintainer there so I’m biased","user":"UCZ7VBGUD","ts":"1613160083.179900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FBa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’d go with Tulip then, and personally I’d use Convex.jl but I’m the maintainer there so I’m biased"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"d5131198-7d60-4227-988a-53bfe266d6da","type":"message","text":"based on a little bit of experimentation, `Convex` looks great so far","user":"U0179G7FG4F","ts":"1613160108.180100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zeV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"based on a little bit of experimentation, "},{"type":"text","text":"Convex","style":{"code":true}},{"type":"text","text":" looks great so far"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F","reactions":[{"name":"heart","users":["UCZ7VBGUD"],"count":1}]},{"client_msg_id":"54bec098-d02f-467b-9855-8ca3fe59944b","type":"message","text":"Any idea why I'm getting\n```MathOptInterface.UnsupportedConstraint{MathOptInterface.VectorAffineFunction{Float64}, MathOptInterface.Zeros}: `MathOptInterface.VectorAffineFunction{Float64}`-in-`MathOptInterface.Zeros` constraint is not supported by the model```\nFrom `solve!(problem, Tulip.Optimizer{BigFloat})`\nwith `problem = minimize(0, [0&lt;=m*x, m*x&lt;=1])`?","user":"U0179G7FG4F","ts":"1613160363.180400","team":"T68168MUP","edited":{"user":"U0179G7FG4F","ts":"1613160375.000000"},"blocks":[{"type":"rich_text","block_id":"PmrwE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any idea why I'm getting\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"MathOptInterface.UnsupportedConstraint{MathOptInterface.VectorAffineFunction{Float64}, MathOptInterface.Zeros}: `MathOptInterface.VectorAffineFunction{Float64}`-in-`MathOptInterface.Zeros` constraint is not supported by the model"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"From "},{"type":"text","text":"solve!(problem, Tulip.Optimizer{BigFloat})","style":{"code":true}},{"type":"text","text":"\nwith "},{"type":"text","text":"problem = minimize(0, [0<=m*x, m*x<=1])","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"59a4f3e9-8150-41ce-bc6e-78d67b4971e0","type":"message","text":"I think you need `problem = minimize(0, [0&lt;=m*x, m*x&lt;=1]; numeric_type = BigFloat)`, sorry","user":"UCZ7VBGUD","ts":"1613164111.185900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iPrg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you need "},{"type":"text","text":"problem = minimize(0, [0<=m*x, m*x<=1]; numeric_type = BigFloat)","style":{"code":true}},{"type":"text","text":", sorry"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"1d5afe28-5764-4db3-8585-8d0cfbd102f8","type":"message","text":"also it might be good to explictly make all the constants in the problem into `BigFloat`s. The promotion story is not very good right now","user":"UCZ7VBGUD","ts":"1613164136.186100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z5R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also it might be good to explictly make all the constants in the problem into "},{"type":"text","text":"BigFloat","style":{"code":true}},{"type":"text","text":"s. The promotion story is not very good right now"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"258e00f9-cfa5-44d1-8073-9187d15e4fe0","type":"message","text":"Thanks for the help! I'm definitely going to make a blogpost once I figure out all the details.","user":"U0179G7FG4F","ts":"1613164259.186300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fI6m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the help! I'm definitely going to make a blogpost once I figure out all the details."}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"cedbaadd-447c-4705-ab94-6206d70e012a","type":"message","text":"(basically the arbitrary precision functionality was hacked in by me to support a student's summer project, but I kinda hope to rewrite a bunch of Convex at some point to do it properly)","user":"UCZ7VBGUD","ts":"1613164273.186500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7nocd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(basically the arbitrary precision functionality was hacked in by me to support a student's summer project, but I kinda hope to rewrite a bunch of Convex at some point to do it properly)"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"107272cb-22eb-44cc-a483-fc50df3e0a65","type":"message","text":"sweet!","user":"UCZ7VBGUD","ts":"1613164275.186700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4aHu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sweet!"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"b4e7a15c-e186-48d6-88de-5403abb10ba8","type":"message","text":"also, Do I need to do anything special to set tolerances? My problem is very numerically tight","user":"U0179G7FG4F","ts":"1613164373.187000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3BuuN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also, Do I need to do anything special to set tolerances? My problem is very numerically tight"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"b4822fb6-db76-4e22-a178-95823c416261","type":"message","text":"(ie if this works correctly, some of the `x` values will be in the `10e-10` range","user":"U0179G7FG4F","ts":"1613164440.187200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bAwl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(ie if this works correctly, some of the "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" values will be in the "},{"type":"text","text":"10e-10","style":{"code":true}},{"type":"text","text":" range"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"8e6b6dbf-2857-45d7-8a9c-21a50afc7dff","type":"message","text":"and the for each of the values, a change of `10e-7` in either direction might make the result infeasible","user":"U0179G7FG4F","ts":"1613164617.187400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x=rs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and the for each of the values, a change of "},{"type":"text","text":"10e-7","style":{"code":true}},{"type":"text","text":" in either direction might make the result infeasible"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"client_msg_id":"22050C8F-C964-4966-9B0A-11F723735CB4","type":"message","text":"Those are all done via the optimizer constructor, not Convex","user":"UCZ7VBGUD","ts":"1613164947.188100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rGM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Those are all done via the optimizer constructor, not Convex"}]}]}],"thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"},{"type":"message","subtype":"bot_message","text":"Hey <@U0179G7FG4F>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1613168270.197100","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613157449.171500","parent_user_id":"U0179G7FG4F"}]