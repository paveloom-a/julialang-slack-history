[{"client_msg_id":"bb700693-97cb-49f3-aed1-d40156d15556","type":"message","text":"Is there a way to make sure a macro is only called inside another macro block?\n\n```@executor function execute!(x)\n    @schedule something()\nend```\nThe macro `schedule` will only work if it's used in an `@executor` function. Is there a way to enforce this?","user":"U014F58NBDY","ts":"1610305415.223500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yAxol","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to make sure a macro is only called inside another macro block?\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@executor function execute!(x)\n    @schedule something()\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThe macro "},{"type":"text","text":"schedule","style":{"code":true}},{"type":"text","text":" will only work if it's used in an "},{"type":"text","text":"@executor","style":{"code":true}},{"type":"text","text":" function. Is there a way to enforce this?"}]}]}],"thread_ts":"1610305415.223500","reply_count":8,"reply_users_count":4,"latest_reply":"1610306919.227200","reply_users":["UH8A351DJ","U014F58NBDY","UD0NS8PDF","U8D9768Q6"],"subscribed":false},{"client_msg_id":"9c7ec245-b7df-4d88-9df7-0ae0e07516d9","type":"message","text":"I don't think so, the same way you can't ensure `f(g(x))` g only runs inside f, the inner simply doesn't see the caller","user":"UH8A351DJ","ts":"1610305509.223600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TX8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think so, the same way you can't ensure "},{"type":"text","text":"f(g(x))","style":{"code":true}},{"type":"text","text":" g only runs inside f, the inner simply doesn't see the caller"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY"},{"client_msg_id":"14549794-d7a2-442a-907a-29b508493791","type":"message","text":"(in macro's case, at least executor can see schedule, which is an improvement in this regards","user":"UH8A351DJ","ts":"1610305539.223800","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1610305550.000000"},"blocks":[{"type":"rich_text","block_id":"Dg05I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(in macro's case, at least executor can see schedule, which is an improvement in this regards"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY"},{"client_msg_id":"9a5a7732-04b8-46ce-840e-23e1535316bb","type":"message","text":"Yeah, that was my thought too. It's a bit annoying, as the error message if I would use `@schedule` anywhere is gonna be really confusing","user":"U014F58NBDY","ts":"1610305558.224100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pDcA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that was my thought too. It's a bit annoying, as the error message if I would use "},{"type":"text","text":"@schedule","style":{"code":true}},{"type":"text","text":" anywhere is gonna be really confusing"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY"},{"client_msg_id":"f02a6b42-43da-4369-9d84-1b070945abeb","type":"message","text":"The outer macro runs first, the inner one need never be defined at all","user":"UD0NS8PDF","ts":"1610305833.224700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZjCt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The outer macro runs first, the inner one need never be defined at all"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY","reactions":[{"name":"point_up","users":["U8D9768Q6"],"count":1}]},{"client_msg_id":"5951b30e-76d3-4926-95d7-08d1ce4f6204","type":"message","text":"Yeah, you just never define `@schedule`, and have `@executor` handle it.","user":"U8D9768Q6","ts":"1610305916.225500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OWiEY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, you just never define "},{"type":"text","text":"@schedule","style":{"code":true}},{"type":"text","text":", and have "},{"type":"text","text":"@executor","style":{"code":true}},{"type":"text","text":" handle it."}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY","reactions":[{"name":"+1","users":["UH8A351DJ","U0179G7FG4F"],"count":2}]},{"client_msg_id":"69578712-8dfa-481c-8fd3-6e734f70651e","type":"message","text":"So the `macrocall` block will still be created even if the macro doesn't exist, without error?","user":"U014F58NBDY","ts":"1610306085.225900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d/jS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the "},{"type":"text","text":"macrocall","style":{"code":true}},{"type":"text","text":" block will still be created even if the macro doesn't exist, without error?"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY"},{"client_msg_id":"c125830e-2665-4173-8f47-2cdfe5f7deac","type":"message","text":"And then I can manipulate the expression?","user":"U014F58NBDY","ts":"1610306092.226100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hCG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And then I can manipulate the expression?"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY","reactions":[{"name":"heavy_check_mark","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"6a443c79-6d19-4275-9da3-8dc4671555b7","type":"message","text":"Awesome, seems like it works, can even define `schedule` for a docstring (and make it error out).\n\nThanks guys","user":"U014F58NBDY","ts":"1610306919.227200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FYS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Awesome, seems like it works, can even define "},{"type":"text","text":"schedule","style":{"code":true}},{"type":"text","text":" for a docstring (and make it error out).\n\nThanks guys"}]}]}],"thread_ts":"1610305415.223500","parent_user_id":"U014F58NBDY"}]