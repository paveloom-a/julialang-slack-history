[{"client_msg_id":"59b1f880-d947-4152-818d-ee7d8ee963a3","type":"message","text":"Is there a way to wright with (I think its called) a monadic style?\nI have a function with a complicated configuration, so I created an immutable config struct,\nand it produces a default version if you call the constructor with no arguments.\nI would love to be able to create new  config structs with different options like this\n```chain_config().T(400).Binning(3)```\nOr maby\n```chain_config().update((:T, 400),(:Binning, 3))```\nSo that the result are new config structs with the new values.\nIs there a way of doing something like this or is it a bad way of doing things anyway?","user":"U01T3H7STQR","ts":"1617545822.438400","team":"T68168MUP","edited":{"user":"U01T3H7STQR","ts":"1617545877.000000"},"blocks":[{"type":"rich_text","block_id":"DkJz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to wright with (I think its called) a monadic style?\nI have a function with a complicated configuration, so I created an immutable config struct,\nand it produces a default version if you call the constructor with no arguments.\nI would love to be able to create new  config structs with different options like this\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"chain_config().T(400).Binning(3)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Or maby\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"chain_config().update((:T, 400),(:Binning, 3))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"So that the result are new config structs with the new values.\nIs there a way of doing something like this or is it a bad way of doing things anyway?"}]}]}],"thread_ts":"1617545822.438400","reply_count":6,"reply_users_count":2,"latest_reply":"1617548185.439800","reply_users":["U01T3H7STQR","U01PLQWQXPV"],"is_locked":false,"subscribed":false},{"client_msg_id":"6db309a9-4753-4c58-a8c6-858f5089f632","type":"message","text":"I have thought about using dictionaries for the configs and then using merge for creating new versions of the config but a) it seems a heavy solution,\nb) a dict might not have all the values filled in, so i would need to wright some mechanism with in the function that checks for missing values and applies the default version","user":"U01T3H7STQR","ts":"1617546127.438600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aeg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have thought about using dictionaries for the configs and then using merge for creating new versions of the config but a) it seems a heavy solution,\nb) a dict might not have all the values filled in, so i would need to wright some mechanism with in the function that checks for missing values and applies the default version"}]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"},{"client_msg_id":"b0c9a4f7-1f5b-4058-b0a8-94f8be07b914","type":"message","text":"Would using `Lens`es work for you?\n<https://github.com/jw3126/Setfield.jl>","user":"U01PLQWQXPV","ts":"1617546427.438800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=iuj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would using "},{"type":"text","text":"Lens","style":{"code":true}},{"type":"text","text":"es work for you?\n"},{"type":"link","url":"https://github.com/jw3126/Setfield.jl"}]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"},{"client_msg_id":"0bb8d210-7bed-4170-8947-a3f4b9aa9f02","type":"message","text":"ooh this might be good. maybe seems a bit heavy ill have to play around with it. If there was more stock way of doing it might be better.","user":"U01T3H7STQR","ts":"1617546759.439000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oIPgt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ooh this might be good. maybe seems a bit heavy ill have to play around with it. If there was more stock way of doing it might be better."}]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"},{"client_msg_id":"947db9b1-99a3-468a-90bb-ee3101e5f746","type":"message","text":"Basically\n\n```using Setfield\n\ndefaul_config = MyConfig()\nnew_config = @set default_config.T = 400\nnew_config = @set new_config.Binning = 3```\n","user":"U01PLQWQXPV","ts":"1617546775.439200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pqp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Basically\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Setfield\n\ndefaul_config = MyConfig()\nnew_config = @set default_config.T = 400\nnew_config = @set new_config.Binning = 3"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"},{"client_msg_id":"8481f0ee-a1ed-489b-be49-6294802cbb87","type":"message","text":"You could as well use `Base.@kwdef`  as\n\n```Base.@kwdef struct MyConfig\n  T::Int=200\n  Binning::Int=2\nend```\nAnd then you could override the default parameters by\n```defaul_config = MyConfig()\n\nnew_config1 = MyConfig(T=400)\nnew_config2 = MyConfig(T=400, Binning=3)```\nBut I understand that what you want is to update some immutable `old_config` , so this may not not solve your problem","user":"U01PLQWQXPV","ts":"1617546954.439400","team":"T68168MUP","edited":{"user":"U01PLQWQXPV","ts":"1617547159.000000"},"blocks":[{"type":"rich_text","block_id":"H+4Wb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You could as well use "},{"type":"text","text":"Base.@kwdef","style":{"code":true}},{"type":"text","text":"  as\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Base.@kwdef struct MyConfig\n  T::Int=200\n  Binning::Int=2\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd then you could override the default parameters by\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"defaul_config = MyConfig()\n\nnew_config1 = MyConfig(T=400)\nnew_config2 = MyConfig(T=400, Binning=3)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nBut I understand that what you want is to update some immutable "},{"type":"text","text":"old_config","style":{"code":true}},{"type":"text","text":" , so this may not not solve your problem"}]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"},{"client_msg_id":"05353e49-3678-49cf-a9d6-1aecb40c8b18","type":"message","text":"kwdef seems probably more appropriate for my problem but I do like optics.\nThank you for the links","user":"U01T3H7STQR","ts":"1617548185.439800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LD9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"kwdef seems probably more appropriate for my problem but I do like optics.\nThank you for the links"}]}]}],"thread_ts":"1617545822.438400","parent_user_id":"U01T3H7STQR"}]