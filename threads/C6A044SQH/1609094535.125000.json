[{"client_msg_id":"e09118ad-3d1c-4ea2-b75e-dc48a760678d","type":"message","text":"Ok, so I created a macro `@each` that just prints out each line in an iterator:\n```macro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in $iterator\n            @info \"--&gt; $e\"\n        end\n    end\nend```\nThis works well when I run it in the same file:\n```x = 1:3\n@each x```\nresults in:\n```[ Info: x:\n[ Info: --&gt; 1\n[ Info: --&gt; 2\n[ Info: --&gt; 3```\nbut  when I do the same in the REPL I get this:\n```julia&gt; y = 1:10\n1:10\n\njulia&gt; @each y\n[ Info: y:\nERROR: UndefVarError: y not defined```\nWhat is happening here?","user":"U0176MBG29X","ts":"1609094535.125000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Swt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, so I created a macro "},{"type":"text","text":"@each","style":{"code":true}},{"type":"text","text":" that just prints out each line in an iterator:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"macro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in $iterator\n            @info \"--> $e\"\n        end\n    end\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"This works well when I run it in the same file:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"x = 1:3\n@each x"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"results in:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[ Info: x:\n[ Info: --> 1\n[ Info: --> 2\n[ Info: --> 3"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but  when I do the same in the REPL I get this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> y = 1:10\n1:10\n\njulia> @each y\n[ Info: y:\nERROR: UndefVarError: y not defined"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"What is happening here?"}]}]}],"thread_ts":"1609094535.125000","reply_count":6,"reply_users_count":2,"latest_reply":"1609095381.126100","reply_users":["UDB26738Q","U0176MBG29X"],"subscribed":false},{"client_msg_id":"f7a3c947-b34f-41a8-b308-3c126816a1e5","type":"message","text":"You need to escape the argument of the macro","user":"UDB26738Q","ts":"1609094607.125100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ON8l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You need to escape the argument of the macro"}]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"},{"client_msg_id":"786952c1-7969-4f61-ae70-9d54c5ded84d","type":"message","text":"you mean `esc(iterator)` ? I tried that and it didn't work","user":"U0176MBG29X","ts":"1609094658.125300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vJ6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you mean "},{"type":"text","text":"esc(iterator)","style":{"code":true}},{"type":"text","text":" ? I tried that and it didn't work"}]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"},{"client_msg_id":"281c125a-1764-4a75-baab-0154f12e1cdf","type":"message","text":"```macro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in esc(iterator)\n            @info \"--&gt; $e\"\n        end\n    end\nend```\n","user":"U0176MBG29X","ts":"1609094676.125500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"REv","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"macro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in esc(iterator)\n            @info \"--> $e\"\n        end\n    end\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"},{"client_msg_id":"e5b71804-4858-41cc-9c23-8380e9c1d2a6","type":"message","text":"Because you didn't use it everywhere","user":"UDB26738Q","ts":"1609095127.125700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OK5c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Because you didn't use it everywhere"}]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"},{"client_msg_id":"78cfa560-1aab-4c12-aa25-395639195ba5","type":"message","text":"ok after a bunch of fiddling it seems to work with:\n```\nmacro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in $(esc(iterator))\n            @info \"--&gt; $e\"\n        end\n    end\nend```\n","user":"U0176MBG29X","ts":"1609095377.125900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wbvvv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok after a bunch of fiddling it seems to work with:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nmacro each(iterator)\n    quote\n        @info $(sprint(Base.show_unquoted, iterator)) * \":\"\n        for e in $(esc(iterator))\n            @info \"--> $e\"\n        end\n    end\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"},{"client_msg_id":"4ff55419-a0bb-4865-bc7e-a01f8e5e45e3","type":"message","text":"thx","user":"U0176MBG29X","ts":"1609095381.126100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wxl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thx"}]}]}],"thread_ts":"1609094535.125000","parent_user_id":"U0176MBG29X"}]