[{"client_msg_id":"4c9c83af-5d7e-465b-801e-499c88bb56eb","type":"message","text":"Using `CBinding.jl` on a jll. I can `#include &lt;foo&gt;` just fine and all the correct functions and structs seem to be in my module. I can create the \"god object\" `god =c\"foo_control_t *\"` but to instantiate that object when I call `c\"foo_control_new\"(C_NULL, 0, C_NULL,20, god[])` I get `could not load symbol \"foo_control_new\"`. Am I missing something? I'll investigate but what are the possible causes of that error? Incorrect args/actually missing the symbol/incorrect syntax?","user":"U017D4RFTFC","ts":"1617063900.494800","team":"T68168MUP","edited":{"user":"U017D4RFTFC","ts":"1617066268.000000"},"blocks":[{"type":"rich_text","block_id":"4jf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Using "},{"type":"text","text":"CBinding.jl","style":{"code":true}},{"type":"text","text":" on a jll. I can "},{"type":"text","text":"#include <foo>","style":{"code":true}},{"type":"text","text":" just fine and all the correct functions and structs seem to be in my module. I can create the \"god object\" "},{"type":"text","text":"god =c\"foo_control_t *\"","style":{"code":true}},{"type":"text","text":" but to instantiate that object when I call "},{"type":"text","text":"c\"foo_control_new\"(C_NULL, 0, C_NULL,20, god[])","style":{"code":true}},{"type":"text","text":" I get "},{"type":"text","text":"could not load symbol \"foo_control_new\"","style":{"code":true}},{"type":"text","text":". Am I missing something? I'll investigate but what are the possible causes of that error? Incorrect args/actually missing the symbol/incorrect syntax?"}]}]}],"thread_ts":"1617063900.494800","reply_count":4,"reply_users_count":2,"latest_reply":"1617105113.000200","reply_users":["UDB26738Q","UKVBDU6HF"],"is_locked":false,"subscribed":false},{"client_msg_id":"35c0f323-c395-4072-a564-4a077673df7c","type":"message","text":"pinging <@UKVBDU6HF>","user":"UDB26738Q","ts":"1617064006.494900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"csN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"pinging "},{"type":"user","user_id":"UKVBDU6HF"}]}]}],"thread_ts":"1617063900.494800","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"c6089234-00f7-4e2e-8de3-23602aa27888","type":"message","text":"What you describe as creating the \"god object\" is only describing a type, so `god` is the `Cptr{c\"foo_control_t\"}` type, it is not an object.  If c\"foo_control_new\" allocates and sets the pointer, then you will want to use a `Ref`:\n```god = Ref(c\"foo_control_t *\"(C_NULL))```","user":"UKVBDU6HF","ts":"1617104847.498500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QeAN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What you describe as creating the \"god object\" is only describing a type, so "},{"type":"text","text":"god","style":{"code":true}},{"type":"text","text":" is the "},{"type":"text","text":"Cptr{c\"foo_control_t\"}","style":{"code":true}},{"type":"text","text":" type, it is not an object.  If c\"foo_control_new\" allocates and sets the pointer, then you will want to use a "},{"type":"text","text":"Ref","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"god = Ref(c\"foo_control_t *\"(C_NULL))"}]}]}],"thread_ts":"1617063900.494800","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"7daa2dd5-7474-40f9-a7e9-4fe3277b1858","type":"message","text":"If instead it populates the object that you must allocate, then you will want to use a `Ref` to an object instead of a `Ref` to a pointer:\n```god = Ref(c\"foo_control_t\"())```","user":"UKVBDU6HF","ts":"1617104925.498700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uFi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If instead it populates the object that you must allocate, then you will want to use a "},{"type":"text","text":"Ref","style":{"code":true}},{"type":"text","text":" to an object instead of a "},{"type":"text","text":"Ref","style":{"code":true}},{"type":"text","text":" to a pointer:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"god = Ref(c\"foo_control_t\"())"}]}]}],"thread_ts":"1617063900.494800","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"2410fac0-d6bd-4b34-a6aa-ea17019c0aed","type":"message","text":"In either case, you will then simply pass the `god` variable without using `[]`  on it.  Not sure if that is the reason for the error message though, but a warning should have been printed if a binding was not found in any library when they were being generated.","user":"UKVBDU6HF","ts":"1617105113.000200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Fd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In either case, you will then simply pass the "},{"type":"text","text":"god","style":{"code":true}},{"type":"text","text":" variable without using "},{"type":"text","text":"[]","style":{"code":true}},{"type":"text","text":"  on it.  Not sure if that is the reason for the error message though, but a warning should have been printed if a binding was not found in any library when they were being generated."}]}]}],"thread_ts":"1617063900.494800","parent_user_id":"U017D4RFTFC"}]