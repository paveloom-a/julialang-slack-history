[{"client_msg_id":"e3dc4240-3ad3-4624-ad76-694b3a45e49a","type":"message","text":"Hi all, I'm having an issue updating my packages on 1.6 beta. I get to\n```Downloading artifact: Qt\n    Downloading [=====================&gt;                   ]  50.8 %```\nwhere it hangs forever. Anyone know what causes this or how to fix it?","user":"U015CQ83YBD","ts":"1611081303.335900","team":"T68168MUP","edited":{"user":"U015CQ83YBD","ts":"1611081326.000000"},"blocks":[{"type":"rich_text","block_id":"SMI98","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all, I'm having an issue updating my packages on 1.6 beta. I get to\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Downloading artifact: Qt\n    Downloading [=====================>                   ]  50.8 %"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"where it hangs forever. Anyone know what causes this or how to fix it?"}]}]}],"thread_ts":"1611081303.335900","reply_count":61,"reply_users_count":4,"latest_reply":"1611139025.403800","reply_users":["U67SCG4HG","U015CQ83YBD","U66GD0880","U85R3JJ8L"],"subscribed":false},{"client_msg_id":"d449f78a-2b6c-43fa-9a5f-955341266068","type":"message","text":"Looks like <https://github.com/JuliaLang/Pkg.jl/issues/2287> or <https://github.com/JuliaLang/Pkg.jl/issues/2337> (they might be the same).","user":"U67SCG4HG","ts":"1611081544.336100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uXvs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2287"},{"type":"text","text":" or "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2337"},{"type":"text","text":" (they might be the same)."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"164fd9c4-bcfd-400a-9854-5678d264a1f2","type":"message","text":"Can you `Ctrl + C` and show the stacktrace?","user":"U67SCG4HG","ts":"1611081557.336300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ZlE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you "},{"type":"text","text":"Ctrl + C","style":{"code":true}},{"type":"text","text":" and show the stacktrace?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"8e9a8bc3-2238-455c-85ad-9a59bee6c670","type":"message","text":"yeah, here\n```signal (11): Segmentation fault\nin expression starting at none:0\nuv__io_stop at /workspace/srcdir/libuv/src/unix/core.c:914\nuv__poll_stop at /workspace/srcdir/libuv/src/unix/poll.c:97\nuv_poll_start at /workspace/srcdir/libuv/src/unix/poll.c:119\nuv_poll_start at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:29\nsocket_callback at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:183\njfptr_socket_callback_19042 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njlcapi_socket_callback_19120 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\nsinglesocket at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\nmulti_socket at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\ncurl_multi_socket_action at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\ncurl_multi_socket_action at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/LibCURL/src/lC_curl_h.jl:230 [inlined]\ncurl_multi_socket_action at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:91\njfptr_curl_multi_socket_action_19151 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\nmacro expansion at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:35 [inlined]\n#103 at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:118\nlock at ./lock.jl:187\nevent_callback at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:117\njfptr_event_callback_19020 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njlcapi_event_callback_19046 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\nuv__poll_io at /workspace/srcdir/libuv/src/unix/poll.c:64\nuv__io_poll at /workspace/srcdir/libuv/src/unix/linux-core.c:447\nuv_run at /workspace/srcdir/libuv/src/unix/core.c:379\njl_process_events at /home/archermarx/julia/src/jl_uv.c:214\nprocess_events at ./libuv.jl:104 [inlined]\nwait at ./task.jl:765 [inlined]\nwait at ./condition.jl:106\ntake_buffered at ./channels.jl:389\ntake! at ./channels.jl:383 [inlined]\niterate at ./channels.jl:465\n#12 at ./task.jl:406\nunknown function (ip: 0x7fb04092546c)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njl_apply at /home/archermarx/julia/src/julia.h:1703 [inlined]\nstart_task at /home/archermarx/julia/src/task.c:839\nunknown function (ip: (nil))\nAllocations: 6265437 (Pool: 6259066; Big: 6371); GC: 11\nSegmentation fault```","user":"U015CQ83YBD","ts":"1611081593.336500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cBLK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, here\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"signal (11): Segmentation fault\nin expression starting at none:0\nuv__io_stop at /workspace/srcdir/libuv/src/unix/core.c:914\nuv__poll_stop at /workspace/srcdir/libuv/src/unix/poll.c:97\nuv_poll_start at /workspace/srcdir/libuv/src/unix/poll.c:119\nuv_poll_start at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:29\nsocket_callback at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:183\njfptr_socket_callback_19042 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njlcapi_socket_callback_19120 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\nsinglesocket at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\nmulti_socket at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\ncurl_multi_socket_action at /home/archermarx/julia/usr/bin/../lib/libcurl.so (unknown line)\ncurl_multi_socket_action at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/LibCURL/src/lC_curl_h.jl:230 [inlined]\ncurl_multi_socket_action at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:91\njfptr_curl_multi_socket_action_19151 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\nmacro expansion at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:35 [inlined]\n#103 at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:118\nlock at ./lock.jl:187\nevent_callback at /home/archermarx/julia/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/Multi.jl:117\njfptr_event_callback_19020 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njlcapi_event_callback_19046 at /home/archermarx/julia/usr/lib/julia/sys.so (unknown line)\nuv__poll_io at /workspace/srcdir/libuv/src/unix/poll.c:64\nuv__io_poll at /workspace/srcdir/libuv/src/unix/linux-core.c:447\nuv_run at /workspace/srcdir/libuv/src/unix/core.c:379\njl_process_events at /home/archermarx/julia/src/jl_uv.c:214\nprocess_events at ./libuv.jl:104 [inlined]\nwait at ./task.jl:765 [inlined]\nwait at ./condition.jl:106\ntake_buffered at ./channels.jl:389\ntake! at ./channels.jl:383 [inlined]\niterate at ./channels.jl:465\n#12 at ./task.jl:406\nunknown function (ip: 0x7fb04092546c)\n_jl_invoke at /home/archermarx/julia/src/gf.c:2224 [inlined]\njl_apply_generic at /home/archermarx/julia/src/gf.c:2406\njl_apply at /home/archermarx/julia/src/julia.h:1703 [inlined]\nstart_task at /home/archermarx/julia/src/task.c:839\nunknown function (ip: (nil))\nAllocations: 6265437 (Pool: 6259066; Big: 6371); GC: 11\nSegmentation fault"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"b28eeef5-922e-49dc-9b51-b1a5c793fda6","type":"message","text":"Nice, looks similar to the one in the issue above","user":"U67SCG4HG","ts":"1611081615.336700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AED","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice, looks similar to the one in the issue above"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"aa1fd963-f152-4c00-a6e3-4d052174b573","type":"message","text":"Can you post it to <https://github.com/JuliaLang/Pkg.jl/issues/2287> ?","user":"U67SCG4HG","ts":"1611081632.336900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CXeBd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you post it to "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2287"},{"type":"text","text":" ?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"c76be373-b8b3-4306-b47e-f17f4348dc50","type":"message","text":"With Julia version + OS etc","user":"U67SCG4HG","ts":"1611081644.337100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J1QpI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With Julia version + OS etc"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"655adb61-8cc7-4eae-9367-8a0ae4bd898e","type":"message","text":"done. Any way I can resolve it for now?","user":"U015CQ83YBD","ts":"1611081813.337300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2gp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"done. Any way I can resolve it for now?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"7f9fbc6f-1ae8-4b80-95b1-187f7afbd2d1","type":"message","text":"Does it happen if you just try again?","user":"U67SCG4HG","ts":"1611081952.337500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Wp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does it happen if you just try again?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"f5f623d6-d121-4e37-8f9e-22fc92849739","type":"message","text":"yeah every time, also tried deleting the artifacts folder and all artifacts download successfully up until Qt, which hangs","user":"U015CQ83YBD","ts":"1611082459.337700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bBIY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah every time, also tried deleting the artifacts folder and all artifacts download successfully up until Qt, which hangs"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"ad4536e3-be58-41cd-94d2-8e8315167de0","type":"message","text":"I see.","user":"U67SCG4HG","ts":"1611082487.337900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a3jFA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"7b6e7a4d-44d6-49ef-9a79-7a3efa300e45","type":"message","text":"Can you figure out the URL that fails?","user":"U67SCG4HG","ts":"1611082526.338300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WY6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you figure out the URL that fails?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"598a4ae8-24d3-48d3-a5cf-faafabd679bd","type":"message","text":"What does `pkg&gt; status -m Qt_jll` say?","user":"U67SCG4HG","ts":"1611082552.338500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FhzR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What does "},{"type":"text","text":"pkg> status -m Qt_jll","style":{"code":true}},{"type":"text","text":" say?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"2b9a4813-fce8-42a6-ba34-6628d3e93362","type":"message","text":"<@U66GD0880> ^ could this be because it locks up somehow when trying to stream directly from a storage server?","user":"U67SCG4HG","ts":"1611082618.338700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FysWF","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" ^ could this be because it locks up somehow when trying to stream directly from a storage server?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"686e8462-6149-42b9-8137-0405dbf808c0","type":"message","text":"interesting","user":"U66GD0880","ts":"1611082675.338900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rYe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"interesting"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"c9174585-a849-49af-99ef-8aff135a0560","type":"message","text":"yeah give me a sec, i'm trying deleting the packages and compiled folders in addition to the artifacts folder","user":"U015CQ83YBD","ts":"1611082677.339100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gE6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah give me a sec, i'm trying deleting the packages and compiled folders in addition to the artifacts folder"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"d868fa91-1b32-4cca-b726-562ea3c74944","type":"message","text":"If we can figure out exactly what resource it’s trying to fetch, we can see if this is the PkgServer hanging or the client hanging","user":"U66GD0880","ts":"1611082731.339300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FgnK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If we can figure out exactly what resource it’s trying to fetch, we can see if this is the PkgServer hanging or the client hanging"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"2d55508f-e85d-40ea-beac-95099a1b0fb4","type":"message","text":"```(@v1.6) pkg&gt; status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n→ [ede63266] Qt_jll v5.15.2+0\nInfo packages marked with → not downloaded, use `instantiate` to download```","user":"U015CQ83YBD","ts":"1611082758.339500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3jzq","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(@v1.6) pkg> status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n→ [ede63266] Qt_jll v5.15.2+0\nInfo packages marked with → not downloaded, use `instantiate` to download"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"1df40087-5521-426a-8ad9-6d3596324d06","type":"message","text":"Everything reinstalls correctly up to Qt, which again hangs","user":"U015CQ83YBD","ts":"1611082774.339700","team":"T68168MUP","edited":{"user":"U015CQ83YBD","ts":"1611082782.000000"},"blocks":[{"type":"rich_text","block_id":"GUbU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Everything reinstalls correctly up to Qt, which again hangs"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"1d789680-42e8-485c-8e7e-d04b10bfabee","type":"message","text":"Elliot, client *is* behaving badly when the remote is behaving badly, it just hangs instead of falling back to gh (see my analysis here: <https://github.com/JuliaLang/Pkg.jl/issues/2337>)","user":"U67SCG4HG","ts":"1611082802.340000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vXe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Elliot, client "},{"type":"text","text":"is","style":{"bold":true}},{"type":"text","text":" behaving badly when the remote is behaving badly, it just hangs instead of falling back to gh (see my analysis here: "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2337"},{"type":"text","text":")"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"598f5fa1-cb52-40d5-8d94-930320986534","type":"message","text":"Can you show the output of\n```curl -LI <http://pkg.julialang.org|pkg.julialang.org>```\n","user":"U67SCG4HG","ts":"1611082914.340200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hTF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you show the output of\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"curl -LI pkg.julialang.org"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"b9a2624b-5fb6-450d-8ae6-2bb680db9745","type":"message","text":"Can you show the output of `Base.BinaryPlatforms.HostPlatform()`","user":"U67SCG4HG","ts":"1611083099.340400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OrKei","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you show the output of "},{"type":"text","text":"Base.BinaryPlatforms.HostPlatform()","style":{"code":true}}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"4a1c56dc-095b-45b6-a4e3-efb3a7d656d5","type":"message","text":"```julia&gt; Base.BinaryPlatforms.HostPlatform()\nLinux x86_64 {cxxstring_abi=cxx11, julia_version=1.6.0, libc=glibc, libgfortran_version=5.0.0, libstdcxx_version=3.4.26}```\n","user":"U015CQ83YBD","ts":"1611083170.340600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"voD4","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Base.BinaryPlatforms.HostPlatform()\nLinux x86_64 {cxxstring_abi=cxx11, julia_version=1.6.0, libc=glibc, libgfortran_version=5.0.0, libstdcxx_version=3.4.26}"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"055bf35b-5123-4046-838c-660108b0d86e","type":"message","text":"```curl -LI <http://pkg.julialang.org|pkg.julialang.org>\nHTTP/1.1 301 NA (east2) internal redirect trigger\nServer: Varnish\nRetry-After: 0\nLocation: <https://us-east2.pkg.julialang.org/>\nx-geo-continent: NA\nx-geo-country: US\nx-geo-region: MI\nContent-Length: 0\nAccept-Ranges: bytes\nDate: Tue, 19 Jan 2021 19:05:48 GMT\nVia: 1.1 varnish\nConnection: close\nX-Served-By: cache-mdw17331-MDW\nX-Cache: HIT\nX-Cache-Hits: 0\nX-Timer: S1611083148.293290,VS0,VE0\n\nHTTP/2 200\nserver: nginx/1.19.6\ndate: Tue, 19 Jan 2021 19:05:48 GMT\ncontent-type: text/html\ncontent-length: 401\naccept-ranges: bytes```","user":"U015CQ83YBD","ts":"1611083189.340800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y1I/J","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"curl -LI pkg.julialang.org\nHTTP/1.1 301 NA (east2) internal redirect trigger\nServer: Varnish\nRetry-After: 0\nLocation: "},{"type":"link","url":"https://us-east2.pkg.julialang.org/"},{"type":"text","text":"\nx-geo-continent: NA\nx-geo-country: US\nx-geo-region: MI\nContent-Length: 0\nAccept-Ranges: bytes\nDate: Tue, 19 Jan 2021 19:05:48 GMT\nVia: 1.1 varnish\nConnection: close\nX-Served-By: cache-mdw17331-MDW\nX-Cache: HIT\nX-Cache-Hits: 0\nX-Timer: S1611083148.293290,VS0,VE0\n\nHTTP/2 200\nserver: nginx/1.19.6\ndate: Tue, 19 Jan 2021 19:05:48 GMT\ncontent-type: text/html\ncontent-length: 401\naccept-ranges: bytes"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"01d22bd0-d71b-4000-a4e3-e339b45f0018","type":"message","text":"I believe this is the artifact <https://github.com/JuliaBinaryWrappers/Qt_jll.jl/blob/e7bedbebc4c7cb6a7b8961a4e84f4b433d90b595/Artifacts.toml#L93-L102>","user":"U67SCG4HG","ts":"1611083246.341000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lgrK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe this is the artifact "},{"type":"link","url":"https://github.com/JuliaBinaryWrappers/Qt_jll.jl/blob/e7bedbebc4c7cb6a7b8961a4e84f4b433d90b595/Artifacts.toml#L93-L102"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"59fcd3e8-7230-4774-ab15-8dcc114e45ee","type":"message","text":"So the URL should be this one I think: <http://us-east2.pkg.julialang.org/artifact/d293cd24045ea10c3c6c81ca2dddd060feca711c>","user":"U66GD0880","ts":"1611083264.341200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H1fD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the URL should be this one I think: "},{"type":"link","url":"http://us-east2.pkg.julialang.org/artifact/d293cd24045ea10c3c6c81ca2dddd060feca711c"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"ae5449c4-aa59-49b0-8044-ba0b2f386612","type":"message","text":"That one exists in the cache (since Jan 12)","user":"U67SCG4HG","ts":"1611083307.341400","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1611083332.000000"},"blocks":[{"type":"rich_text","block_id":"6tdpC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That one exists in the cache (since Jan 12)"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"02093028-0af1-436d-b17d-daff0b2709d0","type":"message","text":"My browser is downloading it just fine; <@U015CQ83YBD> can you click that link and does it download for you?","user":"U66GD0880","ts":"1611083308.341600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zfn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My browser is downloading it just fine; "},{"type":"user","user_id":"U015CQ83YBD"},{"type":"text","text":" can you click that link and does it download for you?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"5c95934b-a846-44f1-a0ce-8e06e4140e00","type":"message","text":"If it does download, are you now able to download the artifact in Julia, or does it hang again?","user":"U66GD0880","ts":"1611083329.341800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fKW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it does download, are you now able to download the artifact in Julia, or does it hang again?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"04ea903c-2fae-4bcd-b3ff-528b8a06c49f","type":"message","text":"downloading now one sec","user":"U015CQ83YBD","ts":"1611083459.342100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9TYP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"downloading now one sec"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"5f9e5450-73ad-4657-9b78-5b53911cc906","type":"message","text":"downloads fine on windows, trying wget from within WSL2 (where I'm running julia)","user":"U015CQ83YBD","ts":"1611083602.342300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fju","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"downloads fine on windows, trying wget from within WSL2 (where I'm running julia)"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD","reactions":[{"name":"+1","users":["U66GD0880"],"count":1}]},{"client_msg_id":"5f7d283a-1aff-45f6-9fb8-7f82364cbaa6","type":"message","text":"That works too, still hangs within julia. Will moving the downloaded artifact to the artifacts folder fix anything?","user":"U015CQ83YBD","ts":"1611083760.342600","team":"T68168MUP","edited":{"user":"U015CQ83YBD","ts":"1611083778.000000"},"blocks":[{"type":"rich_text","block_id":"gLxa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That works too, still hangs within julia. Will moving the downloaded artifact to the artifacts folder fix anything?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"478e62e3-8cfc-40b9-b78e-c99fdd755283","type":"message","text":"Yea you can do that, but you have to untar it","user":"U67SCG4HG","ts":"1611083789.342900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jqe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea you can do that, but you have to untar it"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"df7b9cb6-b988-49e5-bad4-c4a5c507c85b","type":"message","text":"Okay so I think this is pretty clearly a libcurl issue.  Out of curiosity, do you have a native-windows build of julia (instead of a WSL) one that you can try?  I wonder if there is a confounding factor due to the WSL2 layers","user":"U66GD0880","ts":"1611083881.343100","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1611083889.000000"},"blocks":[{"type":"rich_text","block_id":"nwpR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay so I think this is pretty clearly a libcurl issue.  Out of curiosity, do you have a native-windows build of julia (instead of a WSL) one that you can try?  I wonder if there is a confounding factor due to the WSL2 layers"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"17d1b6ee-69b2-4fec-8c37-6072c38f7818","type":"message","text":"Yeah, it's an older version though if that's fine, or i can download the 1.6 binary","user":"U015CQ83YBD","ts":"1611083905.343400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X5xz7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, it's an older version though if that's fine, or i can download the 1.6 binary"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"deecb4d3-86ef-4212-88d0-a983b0641c50","type":"message","text":"best to download the 1.6 binary so we’re comparing apples to apples","user":"U66GD0880","ts":"1611083927.343600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yCt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"best to download the 1.6 binary so we’re comparing apples to apples"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"2af91aab-2b52-45f5-ac42-bd80e86ebdc6","type":"message","text":"thanks!","user":"U66GD0880","ts":"1611083928.343800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O1i3y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks!"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"511daa65-ecde-4993-9d9e-1756b60cfa8e","type":"message","text":"Have you tried to restart Julia between retries? I am guessing so but worth checking","user":"U67SCG4HG","ts":"1611084808.344100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SbWbA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Have you tried to restart Julia between retries? I am guessing so but worth checking"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"c2a846ee-63e2-47b3-807d-569d8fad5e54","type":"message","text":"Yeah, involuntarily though bc it crashes when i control-c out of being stuck","user":"U015CQ83YBD","ts":"1611084860.344300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/5A6T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, involuntarily though bc it crashes when i control-c out of being stuck"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"3a25a595-f28c-4685-ba40-0ec0943c098c","type":"message","text":"Right.","user":"U67SCG4HG","ts":"1611084902.344500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U9fS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"dfcf6a3c-bdf4-4293-a75e-e9a8b0e0d931","type":"message","text":"Strange, I thought it might be some bad state involved but that should definitely have been cleared on restart.","user":"U67SCG4HG","ts":"1611084921.344700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iyzh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Strange, I thought it might be some bad state involved but that should definitely have been cleared on restart."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"588ec4e1-26f4-4652-af9d-20f8789e0d98","type":"message","text":"On windows with Julia 1.6 beta with a blank environment, I tried adding plots which I know depends on Qt and it appears to work properly","user":"U015CQ83YBD","ts":"1611085228.344900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/YAB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On windows with Julia 1.6 beta with a blank environment, I tried adding plots which I know depends on Qt and it appears to work properly"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"1090c4ea-2c4d-4b1b-9447-b7095b6d1960","type":"message","text":"hmmm, okay.  So this may be a WSL2-specific issue","user":"U66GD0880","ts":"1611085750.345200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eAEQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmm, okay.  So this may be a WSL2-specific issue"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"21a5869e-3487-48ea-a4d6-4ac97f724132","type":"message","text":"very strange, only happened super recently","user":"U015CQ83YBD","ts":"1611085776.345400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YkkZR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"very strange, only happened super recently"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"d032a438-3053-46d7-a960-0cb9d099789b","type":"message","text":"Did you end up with the same version of Qt_jll?","user":"U67SCG4HG","ts":"1611087193.348700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tBP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Did you end up with the same version of Qt_jll?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"f63d3fa2-bb26-42a9-9712-13619144c07e","type":"message","text":"I noticed it was pretty old so you might have gotten a newer one in your WIndows tests.","user":"U67SCG4HG","ts":"1611087213.348900","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1611087218.000000"},"blocks":[{"type":"rich_text","block_id":"NipU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed it was pretty old so you might have gotten a newer one in your WIndows tests."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"281dacd4-f127-4c1e-86b0-d84fba59795c","type":"message","text":"I have seen it on ubuntu though Elliot, and Kristoffer too.","user":"U67SCG4HG","ts":"1611087251.349500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6cTZY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have seen it on ubuntu though Elliot, and Kristoffer too."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"3bed99b1-b341-4397-b3dd-bb865fac2881","type":"message","text":"<@U67SCG4HG> are you saying you’ve seen a freeze that is repeatable through multiple Julia sessions?","user":"U66GD0880","ts":"1611087286.349700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UJVDa","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67SCG4HG"},{"type":"text","text":" are you saying you’ve seen a freeze that is repeatable through multiple Julia sessions?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"847274cc-258f-49f3-8534-fd5bd0326660","type":"message","text":"Sometimes yes","user":"U67SCG4HG","ts":"1611087296.349900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YGs0l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sometimes yes"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"34b3e0a4-1a44-4885-895b-d1fe90837d3c","type":"message","text":"I have an rr trace, but I am unsure if it actually caught this issue.","user":"U67SCG4HG","ts":"1611087402.350100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tVdd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have an rr trace, but I am unsure if it actually caught this issue."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"c542bb8c-034e-4b83-9eef-eb15899f0ab2","type":"message","text":"appears to be the same version\n```(@v1.6) pkg&gt; status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+0```","user":"U015CQ83YBD","ts":"1611087521.350300","team":"T68168MUP","edited":{"user":"U015CQ83YBD","ts":"1611087541.000000"},"blocks":[{"type":"rich_text","block_id":"Xds6Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"appears to be the same version\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(@v1.6) pkg> status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+0"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"3b0e8f77-86f0-46e5-a2cf-4235dafc02a5","type":"message","text":"Yea, unrelated to the issue, but I wonder why. Do you have an outdated registry?","user":"U67SCG4HG","ts":"1611087566.350600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jXI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea, unrelated to the issue, but I wonder why. Do you have an outdated registry?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"622006c0-2c86-4f97-80c9-2aa770346780","type":"message","text":"Doesn't appear so\n```(@v1.6) pkg&gt; registry update\n    Updating registry at `~/.julia/registries/General`\n\n(@v1.6) pkg&gt; status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+0```","user":"U015CQ83YBD","ts":"1611088091.350900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5FP4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn't appear so\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(@v1.6) pkg> registry update\n    Updating registry at `~/.julia/registries/General`\n\n(@v1.6) pkg> status -m Qt_jll\nStatus `~/.julia/environments/v1.6/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+0"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"17bd4e05-8bd4-4d09-ac49-596488390ae5","type":"message","text":"Ok. I get\n```$ pkg st -m Qt_jll\nStatus `/tmp/tmp.Q030DlyqSK/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+1```\nin a clean env. Curious.","user":"U67SCG4HG","ts":"1611089569.352100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TFUyk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ pkg st -m Qt_jll\nStatus `/tmp/tmp.Q030DlyqSK/Manifest.toml`\n  [ede63266] Qt_jll v5.15.2+1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"in a clean env. Curious."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"dbb3427f-e15e-4b12-b4d8-e0301f750ed8","type":"message","text":"Alright I just realized I'm still signed into my university VPN via Cisco AnyConnect. Disconnecting from the VPN fixed the problem!","user":"U015CQ83YBD","ts":"1611091002.352400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aVim","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alright I just realized I'm still signed into my university VPN via Cisco AnyConnect. Disconnecting from the VPN fixed the problem!"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"2b188565-d5db-4e72-8e9a-358513fdf72f","type":"message","text":"The hanging too?","user":"U67SCG4HG","ts":"1611091031.352600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HleU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The hanging too?"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"9d254932-4f0b-4c4a-8f71-7c5cfb3ec95a","type":"message","text":"Yeah! weird that it had never happened before but glad it works now","user":"U015CQ83YBD","ts":"1611091066.352800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gcyb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah! weird that it had never happened before but glad it works now"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"bot_id":"BUQUB8RBN","type":"message","text":"the internet is a scary place","user":"U66GD0880","ts":"1611092042.354700","team":"T68168MUP","bot_profile":{"id":"BUQUB8RBN","deleted":false,"name":"giphy","updated":1583162249,"app_id":"A0F827J2C","icons":{"image_36":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png","image_48":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_48.png","image_72":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png"},"team_id":"T68168MUP"},"blocks":[{"type":"image","block_id":"P/sL","image_url":"https://media1.giphy.com/media/KXco3gw03pCXJQBZe4/giphy-downsized.gif?cid=6104955ebe791fcb0f3326b88e0bdc1014fa1c96a679d2f0&rid=giphy-downsized.gif","alt_text":"the internet is a scary place","title":{"type":"plain_text","text":"the internet is a scary place","emoji":true},"fallback":"384x280px image","image_width":384,"image_height":280,"image_bytes":1492680,"is_animated":true},{"type":"context","block_id":"1BU","elements":[{"type":"image","image_url":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_32.png","alt_text":"giphy logo"},{"type":"mrkdwn","text":"Posted using /giphy | GIF by <https://giphy.com/boomerangtoons/|Boomerang Official>","verbatim":false}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"a8de0c24-07a8-4593-8588-97e3994ba34b","type":"message","text":"The VPN might be a red herring though, cause I have seen it witout any such thing too.","user":"U67SCG4HG","ts":"1611092097.354900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"==l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The VPN might be a red herring though, cause I have seen it witout any such thing too."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"928c3791-d21f-4691-b4de-38e237d4d10d","type":"message","text":"it's weird that it would only happen with one artifact too","user":"U015CQ83YBD","ts":"1611092983.357000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8eZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's weird that it would only happen with one artifact too"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"2457ee22-69c2-443b-99d5-dc7bd1bc7c3c","type":"message","text":"It’s possible that that artifact is over some size threshold beyond which we see these issues appear","user":"U66GD0880","ts":"1611096496.363500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/C=s9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s possible that that artifact is over some size threshold beyond which we see these issues appear"}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"},{"client_msg_id":"5d938fdd-0f61-4166-92bb-75a999d71740","type":"message","text":"FWIW, I have seen it happen a lot (reproducible) when running `generate_build_jl.jl` (the script from Yggdrasil).","user":"U85R3JJ8L","ts":"1611139025.403800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TKUp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW, I have seen it happen a lot (reproducible) when running "},{"type":"text","text":"generate_build_jl.jl","style":{"code":true}},{"type":"text","text":" (the script from Yggdrasil)."}]}]}],"thread_ts":"1611081303.335900","parent_user_id":"U015CQ83YBD"}]