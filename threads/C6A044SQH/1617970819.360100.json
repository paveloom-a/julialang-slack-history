[{"client_msg_id":"29e49961-5b4c-4337-a9dd-1879aef25185","type":"message","text":"Hi :slightly_smiling_face: How do I use `Interpolations.jl` for a coordinate-indexed 2D grid where each grid point has multiple values? I can give it node positions and an array with size `(m, n)` , which then interpolates a single quantity on that grid. I'd like to interpolate 3 quantities on that grid, but neither a `(m, n, 3)` array nor a 3-vector of `(m, n)` arrays seem to work with any of the constructors (throws since methods are missing).","user":"U01TU3MV8PK","ts":"1617970819.360100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cmd3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" How do I use "},{"type":"text","text":"Interpolations.jl","style":{"code":true}},{"type":"text","text":" for a coordinate-indexed 2D grid where each grid point has multiple values? I can give it node positions and an array with size "},{"type":"text","text":"(m, n)","style":{"code":true}},{"type":"text","text":" , which then interpolates a single quantity on that grid. I'd like to interpolate 3 quantities on that grid, but neither a "},{"type":"text","text":"(m, n, 3)","style":{"code":true}},{"type":"text","text":" array nor a 3-vector of "},{"type":"text","text":"(m, n)","style":{"code":true}},{"type":"text","text":" arrays seem to work with any of the constructors (throws since methods are missing)."}]}]}],"thread_ts":"1617970819.360100","reply_count":21,"reply_users_count":2,"latest_reply":"1617977639.378900","reply_users":["UB197FRCL","U01TU3MV8PK"],"is_locked":false,"subscribed":false},{"client_msg_id":"812e6499-1339-4bf5-a9a9-e98fea0d82a3","type":"message","text":"I'm not sure I understand. Are you trying to do an inteprolation from a 2D-gridded array 3 times for different things? or are you tring to take the mean of those three values and then interpolate?","user":"UB197FRCL","ts":"1617972404.362800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oBy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure I understand. Are you trying to do an inteprolation from a 2D-gridded array 3 times for different things? or are you tring to take the mean of those three values and then interpolate?"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"35cfefd0-f275-4653-92f4-ee052f2849ec","type":"message","text":"I'm trying to interpolate \"3 times\" for different things (quantities), but at the same grid points. think a precomputed grid of a fluid with the velocities and pressure stored at each point","user":"U01TU3MV8PK","ts":"1617972658.363200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ugpP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to interpolate \"3 times\" for different things (quantities), but at the same grid points. think a precomputed grid of a fluid with the velocities and pressure stored at each point"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK","reactions":[{"name":"+1","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"67773ab6-cca5-49a8-8cee-5a49f6a1c780","type":"message","text":"I'm understanding you have something like\n```x = 0:0.1:1\ny = -5:0.2:5\nz = [(rand(), rand(), rand()) for _ in x, _ in y]```\nand you'd want to interpolate that `z`?","user":"UB197FRCL","ts":"1617972663.363400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/D=+M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm understanding you have something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"x = 0:0.1:1\ny = -5:0.2:5\nz = [(rand(), rand(), rand()) for _ in x, _ in y]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and you'd want to interpolate that "},{"type":"text","text":"z","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"e5fc94c1-9ce6-4a69-9c40-474536d12ffc","type":"message","text":"Oh so you're not happy with interpolating 3 times \"manually\" and you're after some performance that would come from leveraging that you are interpolating at the same locations?","user":"UB197FRCL","ts":"1617972759.363700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7UT3u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh so you're not happy with interpolating 3 times \"manually\" and you're after some performance that would come from leveraging that you are interpolating at the same locations?"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"c13e1ea0-7f63-4ad7-9ec9-3c412bd66465","type":"message","text":"if those x, y, z together define the grid I want (not any coordinates to interpolate at), then yes :)","user":"U01TU3MV8PK","ts":"1617972766.363900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nqBNQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if those x, y, z together define the grid I want (not any coordinates to interpolate at), then yes :)"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK","reactions":[{"name":"+1","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"81a493dc-b651-483b-ac70-f8517f35ba9a","type":"message","text":"essentially I want to interpolate \"at once\" rather than 3 times, yes. I'm thinking memory access. the thing is that I will want to interpolate at some arbitrary collection of points, but at each point I always require the same quantities. So ideally I'd like to take those three quantities and put them next to each other in memory.","user":"U01TU3MV8PK","ts":"1617972841.364200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HAOt9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"essentially I want to interpolate \"at once\" rather than 3 times, yes. I'm thinking memory access. the thing is that I will want to interpolate at some arbitrary collection of points, but at each point I always require the same quantities. So ideally I'd like to take those three quantities and put them next to each other in memory."}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"c3134695-1f09-4990-9d16-43f4ab11c757","type":"message","text":"then interpolate efficiently via caching effects.","user":"U01TU3MV8PK","ts":"1617972851.364400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0arY2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then interpolate efficiently via caching effects."}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"c1a6d9dc-78b3-408a-bbe1-78747e7b356f","type":"message","text":"Maybe you could define a `struct` (instead of the `Tuple` that I used in the random example) and define the basic operations on it?","user":"UB197FRCL","ts":"1617972857.364600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q06Yp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe you could define a "},{"type":"text","text":"struct","style":{"code":true}},{"type":"text","text":" (instead of the "},{"type":"text","text":"Tuple","style":{"code":true}},{"type":"text","text":" that I used in the random example) and define the basic operations on it?"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"29205e0f-0738-41bb-a7fe-f2e3560e52b7","type":"message","text":"This might require to relax the types that Interpolations.jl functions accept though I guess","user":"UB197FRCL","ts":"1617972930.364800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Lse","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This might require to relax the types that Interpolations.jl functions accept though I guess"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"1b47fef7-f54c-4267-9ea9-700c8c77d522","type":"message","text":"which kinds of basic operations in particular? for arrays or for numerical types?","user":"U01TU3MV8PK","ts":"1617972934.365000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rgTL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which kinds of basic operations in particular? for arrays or for numerical types?"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"b945eb18-b910-46c7-96c3-e9f8a0ad4556","type":"message","text":"Not sure! I am not an expert!","user":"UB197FRCL","ts":"1617972953.365200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B4ri","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure! I am not an expert!"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"155eb25a-2ea0-42f0-8f90-29bb77ef5bc7","type":"message","text":"haha no worries, thanks :smile:","user":"U01TU3MV8PK","ts":"1617972963.365400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3aAs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"haha no worries, thanks "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"490578f8-9cf4-41be-b62a-822c445fdaff","type":"message","text":"I guess `+`, `*`, things that are used in the interpolation","user":"UB197FRCL","ts":"1617972974.365600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kyn76","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess "},{"type":"text","text":"+","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"*","style":{"code":true}},{"type":"text","text":", things that are used in the interpolation"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"e05130e1-ff4e-4034-8c0a-828c6d8f43a8","type":"message","text":"that might actually be a good idea. I somewhat expect that I will run into needing to define specific methods for some of the Interpolations.jl functions, but who knows","user":"U01TU3MV8PK","ts":"1617973013.365800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yz8Ls","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that might actually be a good idea. I somewhat expect that I will run into needing to define specific methods for some of the Interpolations.jl functions, but who knows"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"f3637b17-078c-4d4a-967d-d6062b58394f","type":"message","text":"I'll look into it, cheers :slightly_smiling_face:","user":"U01TU3MV8PK","ts":"1617973017.366000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TQiaD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll look into it, cheers "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"e0abf189-87a6-40dd-8cef-8ed723eb5e7b","type":"message","text":"Really I don't know all the details, but if you are only after `Constant` or `Linear` interpolation, then according to <http://juliamath.github.io/Interpolations.jl/latest/devdocs/> just `+`, `-`, and `*` should do for the (1 − Δx) aᵢ + Δx aᵢ₊₁ formula they give.","user":"UB197FRCL","ts":"1617973242.366200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eHbbX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really I don't know all the details, but if you are only after "},{"type":"text","text":"Constant","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"Linear","style":{"code":true}},{"type":"text","text":" interpolation, then according to "},{"type":"link","url":"http://juliamath.github.io/Interpolations.jl/latest/devdocs/"},{"type":"text","text":" just "},{"type":"text","text":"+","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"-","style":{"code":true}},{"type":"text","text":", and "},{"type":"text","text":"*","style":{"code":true}},{"type":"text","text":" should do for the (1 − Δx) aᵢ + Δx aᵢ₊₁ formula they give."}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"64b500aa-ae19-48cb-9ba2-d13bc8b6b3f2","type":"message","text":"(that's for the interpolant construction, which I think should be the hardest part)","user":"UB197FRCL","ts":"1617973352.366400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nt7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(that's for the interpolant construction, which I think should be the hardest part)"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"76e3498b-8848-4452-ab46-063cdfbee75a","type":"message","text":"(but again, maybe this is going way over my head and I'm missing something important)","user":"UB197FRCL","ts":"1617973389.366600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oct","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(but again, maybe this is going way over my head and I'm missing something important)"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"d8d6332f-a735-4df9-80cf-6082b5ece6f0","type":"message","text":"Sounds about right to me, at least it would make sense :slightly_smiling_face:","user":"U01TU3MV8PK","ts":"1617973472.366800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sGYe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sounds about right to me, at least it would make sense "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"},{"client_msg_id":"c6b4417b-166e-4bca-bc88-8a90fea7aa65","type":"message","text":"<@UB197FRCL> yup, seems to work! about performance I'll still need to see. thanks!","user":"U01TU3MV8PK","ts":"1617975498.368800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PKa","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UB197FRCL"},{"type":"text","text":" yup, seems to work! about performance I'll still need to see. thanks!"}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK","reactions":[{"name":"+1","users":["UB197FRCL"],"count":1}]},{"client_msg_id":"33bd2a67-a212-427d-aa40-0c22e22c6088","type":"message","text":"If you can make this application into a MWE, I think it would be a great addition to the Interpolations.jl package BTW. As in \"Interpolations.jl is composable with custom types that define these functions! Check this example...\"","user":"UB197FRCL","ts":"1617977639.378900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9wDW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you can make this application into a MWE, I think it would be a great addition to the Interpolations.jl package BTW. As in \"Interpolations.jl is composable with custom types that define these functions! Check this example...\""}]}]}],"thread_ts":"1617970819.360100","parent_user_id":"U01TU3MV8PK"}]