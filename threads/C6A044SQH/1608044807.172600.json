[{"client_msg_id":"43355643-c8b7-486f-bb6d-b0ccb5457448","type":"message","text":"Hi,\n\nI dont understand what is going on. I have to say that Interpolations.jl is tough to use…\n\n```agrid = cumsum(collect(prob.mesh))\nvals = [copy(xc[:, ii]) for ii=1:M]\nitp = interpolate((agrid,), vals, Interpolations.Gridded(Interpolations.Linear()))\n# workSs!\nitp(agrid[1])\n\n# does not work??????\nitp(0.014285676259896716)```\nI get the error:\n\n```ERROR: BoundsError: attempt to access 70-element interpolate((::Array{Float64,1},), ::Array{Array{Float64,1},1}, Gridded(Linear())) with element type Array{Float64,1} at index [0.014285676259896716]\nStacktrace:\n [1] throw_boundserror(::Interpolations.GriddedInterpolation{Array{Float64,1},1,Array{Float64,1},Gridded{Linear},Tuple{Array{Float64,1}}}, ::Tuple{Float64}) at ./abstractarray.jl:541\n [2] GriddedInterpolation at /Users/rveltz/.julia/packages/Interpolations/TBuvH/src/gridded/indexing.jl:3 [inlined]\n [3] macro expansion at ./show.jl:641 [inlined]```","user":"U7GQE9JP9","ts":"1608044807.172600","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1608049603.000000"},"blocks":[{"type":"rich_text","block_id":"5jq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi,\n\nI dont understand what is going on. I have to say that Interpolations.jl is tough to use…\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"agrid = cumsum(collect(prob.mesh))\nvals = [copy(xc[:, ii]) for ii=1:M]\nitp = interpolate((agrid,), vals, Interpolations.Gridded(Interpolations.Linear()))\n# workSs!\nitp(agrid[1])\n\n# does not work??????\nitp(0.014285676259896716)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I get the error:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: BoundsError: attempt to access 70-element interpolate((::Array{Float64,1},), ::Array{Array{Float64,1},1}, Gridded(Linear())) with element type Array{Float64,1} at index [0.014285676259896716]\nStacktrace:\n [1] throw_boundserror(::Interpolations.GriddedInterpolation{Array{Float64,1},1,Array{Float64,1},Gridded{Linear},Tuple{Array{Float64,1}}}, ::Tuple{Float64}) at ./abstractarray.jl:541\n [2] GriddedInterpolation at /Users/rveltz/.julia/packages/Interpolations/TBuvH/src/gridded/indexing.jl:3 [inlined]\n [3] macro expansion at ./show.jl:641 [inlined]"}]}]}],"thread_ts":"1608044807.172600","reply_count":24,"reply_users_count":2,"latest_reply":"1608051305.182100","reply_users":["U01658MJH3P","U7GQE9JP9"],"subscribed":false},{"client_msg_id":"382821b3-69a1-4f60-8b33-f40998102d72","type":"message","text":"could you please show the typeof `agrid`?","user":"U01658MJH3P","ts":"1608049683.175000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ihJd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could you please show the typeof "},{"type":"text","text":"agrid","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"82040851-d1a4-47c9-9575-48507eeaa86f","type":"message","text":"typeof(agrid) = Array{Float64,1}\ntypeof(vals) = Array{Array{Float64,1},1}","user":"U7GQE9JP9","ts":"1608050330.176800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q7c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"typeof(agrid) = Array{Float64,1}\ntypeof(vals) = Array{Array{Float64,1},1}"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"f8124d59-353f-4cbf-a39b-cf588ef5f749","type":"message","text":"`vals` is a Array of Arrays, that might be the problem, right?","user":"U01658MJH3P","ts":"1608050481.177000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ggu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"vals","style":{"code":true}},{"type":"text","text":" is a Array of Arrays, that might be the problem, right?"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"8a3a0c23-5246-4827-82f8-ee193f49aa06","type":"message","text":"I am not sure, see <https://discourse.julialang.org/t/multidimensional-linear-interpolation/35299/4>","user":"U7GQE9JP9","ts":"1608050616.177200","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1608050684.000000"},"attachments":[{"service_name":"JuliaLang","title":"Multidimensional linear interpolation","title_link":"https://discourse.julialang.org/t/multidimensional-linear-interpolation/35299/4","text":"Thanks @tbeason and @oxinabox, I added more detail (using Interpolations). Basically I have a function f: \\mathbb{R} \\to \\mathbb{R}^3 evaluated at [f(a_1), f(a_2), \\ldots, f(a_N)] and I want to interpolate linearly f(a) between the a_i.","fallback":"JuliaLang: Multidimensional linear interpolation","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1582925428,"from_url":"https://discourse.julialang.org/t/multidimensional-linear-interpolation/35299/4","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/multidimensional-linear-interpolation/35299/4"}],"blocks":[{"type":"rich_text","block_id":"NQME","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am not sure, see "},{"type":"link","url":"https://discourse.julialang.org/t/multidimensional-linear-interpolation/35299/4"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"fe905d4c-566d-4751-b989-64ba0c68d509","type":"message","text":"Also I can compute `itp(0.2), itp(0.3)` It is the specific value `0.014285676259896716` which errors. And `agrid[1] = 0.014285714285714285`","user":"U7GQE9JP9","ts":"1608050736.177700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hSh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also I can compute "},{"type":"text","text":"itp(0.2), itp(0.3)","style":{"code":true}},{"type":"text","text":" It is the specific value "},{"type":"text","text":"0.014285676259896716","style":{"code":true}},{"type":"text","text":" which errors. And "},{"type":"text","text":"agrid[1] = 0.014285714285714285","style":{"code":true}}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"b162196e-8a8e-4a92-b1d8-418dc072b0f8","type":"message","text":"oh I see!","user":"U01658MJH3P","ts":"1608050747.177900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZV+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh I see!"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"6b6accd6-29cb-4027-928d-124ca21e19dc","type":"message","text":"using extrapolation?\n```itp = extrapolate(interpolate((agrid,), vals, Interpolations.Gridded(Interpolations.Linear())), Flat())```\n","user":"U01658MJH3P","ts":"1608050817.178300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hlx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using extrapolation?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"itp = extrapolate(interpolate((agrid,), vals, Interpolations.Gridded(Interpolations.Linear())), Flat())"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"cfa2c6cf-3a45-4e57-8ae7-c373f561702b","type":"message","text":"it seems to work","user":"U7GQE9JP9","ts":"1608050999.178900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rU0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it seems to work"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"45ee4e18-ce8c-4858-93ba-2821a9649dbf","type":"message","text":"okay, so the problem is that `agrid[1] != 0.014285714285714285`, and when you use `0.014285714285714285` you are outside the domain","user":"U01658MJH3P","ts":"1608051068.179100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gnd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay, so the problem is that "},{"type":"text","text":"agrid[1] != 0.014285714285714285","style":{"code":true}},{"type":"text","text":", and when you use "},{"type":"text","text":"0.014285714285714285","style":{"code":true}},{"type":"text","text":" you are outside the domain"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"0c145ec1-ae67-4be4-9d5d-c13f686a1e1f","type":"message","text":"this is chinese to me!","user":"U7GQE9JP9","ts":"1608051109.179300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7shgj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is chinese to me!"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"8bfa24d4-f340-4aff-8359-380be1aa1041","type":"message","text":"`agrid[1]` is approximately `0.014285714285714285`","user":"U01658MJH3P","ts":"1608051110.179500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Xm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"agrid[1]","style":{"code":true}},{"type":"text","text":" is approximately "},{"type":"text","text":"0.014285714285714285","style":{"code":true}}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"12bbd938-23e9-45ed-a75b-085224918ac2","type":"message","text":"but not exactly that","user":"U01658MJH3P","ts":"1608051120.179700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+s83","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but not exactly that"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"aa45f1be-0334-4617-b85a-f52e9ffa985a","type":"message","text":"with extrapolate what you are saying is that if you are outside your mesh, use a extrapolation method","user":"U01658MJH3P","ts":"1608051144.179900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ezCVd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with extrapolate what you are saying is that if you are outside your mesh, use a extrapolation method"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"03e7e858-1861-4eeb-bb25-4f2478ffaf4f","type":"message","text":"yes but why `itp(0.03312)` returns a value?","user":"U7GQE9JP9","ts":"1608051164.180100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tKAq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes but why "},{"type":"text","text":"itp(0.03312)","style":{"code":true}},{"type":"text","text":" returns a value?"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"adddc70b-bc9b-45ab-9f2b-6658c84f25f5","type":"message","text":"one method is just to use the boundary values, i.e. `Flat`","user":"U01658MJH3P","ts":"1608051169.180300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3+mIw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"one method is just to use the boundary values, i.e. "},{"type":"text","text":"Flat","style":{"code":true}}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"58767d8f-52ce-4853-96b9-8b6d28f844d1","type":"message","text":"ah the issue is at the boundary","user":"U7GQE9JP9","ts":"1608051197.180500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lNj5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah the issue is at the boundary"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"71654a88-f09a-45c0-ae29-79d55d733284","type":"message","text":"`0.3` is in the domain.","user":"U01658MJH3P","ts":"1608051225.180700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"goUbj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"0.3","style":{"code":true}},{"type":"text","text":" is in the domain."}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"59a05f86-1bd1-400e-bcf4-ba0675741ddf","type":"message","text":"the issue is not at the boundary, is outside the boundary","user":"U01658MJH3P","ts":"1608051237.180900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"maB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the issue is not at the boundary, is outside the boundary"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"8ba16a60-be00-448f-aace-b70db4346a2e","type":"message","text":"you are close to the boundary but outside","user":"U01658MJH3P","ts":"1608051247.181100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9zMU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you are close to the boundary but outside"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"153cfa4a-398c-4ba7-9266-5bd326be029e","type":"message","text":"ah yes","user":"U7GQE9JP9","ts":"1608051251.181300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T9GjG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah yes"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"3b317480-9350-45af-9fdc-7edf39117d43","type":"message","text":"this is tricky","user":"U7GQE9JP9","ts":"1608051260.181500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jpspY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is tricky"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"0ad80185-ffdd-4ee9-b9b6-a4baaa94fc60","type":"message","text":"using a extrapolation method is convenient","user":"U01658MJH3P","ts":"1608051293.181700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"39=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"using a extrapolation method is convenient"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"153c3850-9925-4dfd-b64d-6e2d3c3992ce","type":"message","text":"thx a lot","user":"U7GQE9JP9","ts":"1608051296.181900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CDJ6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thx a lot"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"},{"client_msg_id":"6e996551-c4f2-48a9-bbd7-47a33262f2cc","type":"message","text":"you are welcome!","user":"U01658MJH3P","ts":"1608051305.182100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vYgC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you are welcome!"}]}]}],"thread_ts":"1608044807.172600","parent_user_id":"U7GQE9JP9"}]