[{"client_msg_id":"e316cb09-cdd5-406e-864f-16b0671cedec","type":"message","text":"Hello, I am trying to build Julia (1.5.1) from sources and it seems that I am struggling with getting it working. I am not sure what exactly is going on - my guess is that the stdlib is somehow broken. When I launch Julia, it seems that all the packages from stdlib is missing:\n```julia&gt; using Pkg\nERROR: ArgumentError: Package Pkg not found in current path:\n- Run `import Pkg; Pkg.add(\"Pkg\")` to install the Pkg package.```\nAnd when I try running `instantiate`, I get\n```(my_project) pkg&gt; instantiate\n   Updating registry at `~/.julia/registries/General`\nERROR: expected package `CRC32c [8bf52ea8]` to be registered```\nCould you please point me to what I am doing wrong? I have compiled Julia using `USE_BINARYBUILDER=0 make`. Thanks a lot!","user":"UTQSS9F42","ts":"1611665458.380900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n4p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello, I am trying to build Julia (1.5.1) from sources and it seems that I am struggling with getting it working. I am not sure what exactly is going on - my guess is that the stdlib is somehow broken. When I launch Julia, it seems that all the packages from stdlib is missing:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using Pkg\nERROR: ArgumentError: Package Pkg not found in current path:\n- Run `import Pkg; Pkg.add(\"Pkg\")` to install the Pkg package."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"And when I try running "},{"type":"text","text":"instantiate","style":{"code":true}},{"type":"text","text":", I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(my_project) pkg> instantiate\n   Updating registry at `~/.julia/registries/General`\nERROR: expected package `CRC32c [8bf52ea8]` to be registered"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Could you please point me to what I am doing wrong? I have compiled Julia using "},{"type":"text","text":"USE_BINARYBUILDER=0 make","style":{"code":true}},{"type":"text","text":". Thanks a lot!"}]}]}],"thread_ts":"1611665458.380900","reply_count":7,"reply_users_count":2,"latest_reply":"1611823178.473700","reply_users":["U67SCG4HG","UTQSS9F42"],"subscribed":false},{"client_msg_id":"63a2f105-ef23-4073-a4c7-5365e6273848","type":"message","text":"You probably have messed with `JULIA_LOAD_PATH`?","user":"U67SCG4HG","ts":"1611667894.382400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8CT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You probably have messed with "},{"type":"text","text":"JULIA_LOAD_PATH","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"756003aa-c89d-4449-9577-a60ff62e1c21","type":"message","text":"Alternatively the stdlibs are not installed correctly to the expected location","user":"U67SCG4HG","ts":"1611667925.382600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K7tb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alternatively the stdlibs are not installed correctly to the expected location"}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"3e6c49df-3c74-4834-a8e3-26913a4d0303","type":"message","text":"Thank you, I have managed to solve it by some trial and error. The `JULIA_LOAD_PATH` variable seemed to be alright, but there still have been some weird paths somewhere (I relocated the installation after building it which seemed to be the problem).","user":"UTQSS9F42","ts":"1611669955.385200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U6w=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you, I have managed to solve it by some trial and error. The "},{"type":"text","text":"JULIA_LOAD_PATH","style":{"code":true}},{"type":"text","text":" variable seemed to be alright, but there still have been some weird paths somewhere (I relocated the installation after building it which seemed to be the problem)."}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"e7a2cc4f-69cb-49d3-ab4a-1068054da662","type":"message","text":"I have however run into another issue. I am trying to build Julia on a relatively outdated system with old version of `libc++.so.6` (Centos 7). When I try using PyCall, I am getting\n```/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found```\nI have noticed that Julia ships with its own version of `libstdc++.so.6`. Is it possible to change the build process not to use the system-wide library please? (My apologies, I am not that familiar with the build process.)","user":"UTQSS9F42","ts":"1611670184.385400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HtD=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have however run into another issue. I am trying to build Julia on a relatively outdated system with old version of "},{"type":"text","text":"libc++.so.6","style":{"code":true}},{"type":"text","text":" (Centos 7). When I try using PyCall, I am getting\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/lib64/libstdc++.so.6: version `GLIBCXX_3.4.21' not found"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I have noticed that Julia ships with its own version of "},{"type":"text","text":"libstdc++.so.6","style":{"code":true}},{"type":"text","text":". Is it possible to change the build process not to use the system-wide library please? (My apologies, I am not that familiar with the build process.)"}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"b08e6e6d-8536-4a34-a2fb-568fbc7ff14e","type":"message","text":"I don't know, might wanna ask that in the main channel maybe since it might otherwise be buried in this thread.","user":"U67SCG4HG","ts":"1611673640.390600","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1611673892.000000"},"blocks":[{"type":"rich_text","block_id":"VFb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know, might wanna ask that in the main channel maybe since it might otherwise be buried in this thread."}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"ecab94ee-1d32-4d2d-925e-f69f0a74e22b","type":"message","text":"If you plan on relocating you should use the `binary-dist` build target which will package it up nicely in a tarball.","user":"U67SCG4HG","ts":"1611673681.390800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cuFrJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you plan on relocating you should use the "},{"type":"text","text":"binary-dist","style":{"code":true}},{"type":"text","text":" build target which will package it up nicely in a tarball."}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"},{"client_msg_id":"0010ac99-c3ed-42c4-a68a-51c14217c1c3","type":"message","text":"Thanks a lot, I will give it a try and ask again if the does not solve it.","user":"UTQSS9F42","ts":"1611823178.473700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bCqq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks a lot, I will give it a try and ask again if the does not solve it."}]}]}],"thread_ts":"1611665458.380900","parent_user_id":"UTQSS9F42"}]