[{"client_msg_id":"2aa5be05-b72d-42bf-8a2b-c6237bc0c47a","type":"message","text":"Problem invoking `--bug-report=rr` in a docker image. I have the following packages installed in the Debian image:\n```      Status `~/.julia/environments/v1.6/Project.toml`\n  [bcf9a6e7] BugReporting v0.1.3\n  [7073ff75] IJulia v1.23.2\n  [c3e4b0f8] Pluto v0.12.21```\nIt’s 1.6 RC1 as RC2 is not yet available as  a docker image. I get this:\n```arthur@767b47f0c62f:~$ julia --bug-report=rr\n[ Info: Loading BugReporting package...\n[FATAL /workspace/srcdir/rr/src/util.cc:1267:running_under_rr() errno: EPERM] Unexpected result for rrcall_check_presence: -1\n=== Start rr backtrace:\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr13dump_rr_stackEv+0x28)[0x5a0fc8]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr15notifying_abortEv+0x47)[0x5a4e57]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x5c9a12]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr16running_under_rrEb+0xb9)[0x5a1a69]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x50caca]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x50d8d9]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x5c7028]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr17GdbCommandHandler16register_commandERNS_10GdbCommandE+0x2a)[0x4f45ca]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4bdf12]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4be006]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4c0e69]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(__libc_csu_init+0x45)[0x727e75]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x7a)[0x7f7e3bccc02a]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4c19ae]\n=== End rr backtrace\n[ Info: Preparing trace directory for upload (if your trace is large this may take a few minutes)```\nRr is installed:\n```arthur@767b47f0c62f:~$ rr --version\nrr version 5.4.0```\nInstalling `BugReporting` seemed to work when run in Dockerfile, but not when I tried it just from the command line. I’ll put the stack trace as a comment as it’s rather long.","user":"U01CQTKB86N","ts":"1615734031.116600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f=P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Problem invoking "},{"type":"text","text":"--bug-report=rr","style":{"code":true}},{"type":"text","text":" in a docker image. I have the following packages installed in the Debian image:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"      Status `~/.julia/environments/v1.6/Project.toml`\n  [bcf9a6e7] BugReporting v0.1.3\n  [7073ff75] IJulia v1.23.2\n  [c3e4b0f8] Pluto v0.12.21"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It’s 1.6 RC1 as RC2 is not yet available as  a docker image. I get this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"arthur@767b47f0c62f:~$ julia --bug-report=rr\n[ Info: Loading BugReporting package...\n[FATAL /workspace/srcdir/rr/src/util.cc:1267:running_under_rr() errno: EPERM] Unexpected result for rrcall_check_presence: -1\n=== Start rr backtrace:\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr13dump_rr_stackEv+0x28)[0x5a0fc8]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr15notifying_abortEv+0x47)[0x5a4e57]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x5c9a12]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr16running_under_rrEb+0xb9)[0x5a1a69]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x50caca]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x50d8d9]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x5c7028]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(_ZN2rr17GdbCommandHandler16register_commandERNS_10GdbCommandE+0x2a)[0x4f45ca]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4bdf12]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4be006]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4c0e69]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr(__libc_csu_init+0x45)[0x727e75]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0x7a)[0x7f7e3bccc02a]\n/home/arthur/.julia/artifacts/24f3eb6277df1f22a6de3755306d033449697322/bin/rr[0x4c19ae]\n=== End rr backtrace\n[ Info: Preparing trace directory for upload (if your trace is large this may take a few minutes)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Rr is installed:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"arthur@767b47f0c62f:~$ rr --version\nrr version 5.4.0"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Installing "},{"type":"text","text":"BugReporting","style":{"code":true}},{"type":"text","text":" seemed to work when run in Dockerfile, but not when I tried it just from the command line. I’ll put the stack trace as a comment as it’s rather long."}]}]}],"thread_ts":"1615734031.116600","reply_count":4,"reply_users_count":3,"latest_reply":"1615734912.117600","reply_users":["B01J9QZ4SP8","U01CQTKB86N","UM30MT6RF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615734034.116700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615734031.116600","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ec976129-cd08-4094-ba95-9df867f7f34e","type":"message","text":"I’ll take the last sentence back as it does install from the command line normally as well. There was just the one time it failed with lots of errors.","user":"U01CQTKB86N","ts":"1615734225.117000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6fa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ll take the last sentence back as it does install from the command line normally as well. There was just the one time it failed with lots of errors."}]}]}],"thread_ts":"1615734031.116600","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"ec1fc076-33e4-48d2-8048-87bdd9d4e9bf","type":"message","text":"The image is available as `statisticalmice/julia-jupyter:1.6-buster-max` but without BugReporting.","user":"U01CQTKB86N","ts":"1615734398.117200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9ZD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The image is available as "},{"type":"text","text":"statisticalmice/julia-jupyter:1.6-buster-max","style":{"code":true}},{"type":"text","text":" but without BugReporting."}]}]}],"thread_ts":"1615734031.116600","parent_user_id":"U01CQTKB86N"},{"client_msg_id":"a96939ac-90fb-46c1-887d-e7061d80660a","type":"message","text":"Not sure rr is supported inside docker containers. <@U674T3KB3> might know more.","user":"UM30MT6RF","ts":"1615734912.117600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ChhIq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure rr is supported inside docker containers. "},{"type":"user","user_id":"U674T3KB3"},{"type":"text","text":" might know more."}]}]}],"thread_ts":"1615734031.116600","parent_user_id":"U01CQTKB86N"}]