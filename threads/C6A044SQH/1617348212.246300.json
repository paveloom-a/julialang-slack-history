[{"client_msg_id":"a5dc5f81-0e35-4553-aa79-e328f1fd0f9a","type":"message","text":"How can I find out which anonymous function errors for me? I'm using observables, so the stack traces are quite hard to read:\n```MethodError: no method matching (::AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene})(::Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}})\nStacktrace:\n  [1] #invokelatest#2\n    @ .\\essentials.jl:707 [inlined]\n  [2] invokelatest\n    @ .\\essentials.jl:706 [inlined]\n  [3] notify\n    @ ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:88 [inlined]\n  [4] setindex!(observable::Observable{Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}}, val::Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, \n16}, Vec{3, Float32}})\n    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:248\n  [5] (::Observables.MapUpdater{typeof(AbstractPlotting.MakieLayout.calculate_matrices), Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}})(::GeometryBasics.HyperRectangle{3, Float32}, ::Vararg{Any, N} where N)\n    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:372\n  [6] (::Observables.OnUpdate{Observables.MapUpdater{typeof(AbstractPlotting.MakieLayout.calculate_matrices), Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}}, Tuple{Observable{GeometryBasics.HyperRectangle{3, Float32}}, Observable{GeometryBasics.HyperRectangle{2, Int64}}, Observable{Any}, Observable{Any}, Observable{Any}, Observable{Any}, Observable{Any}}})(#unused#::GeometryBasics.HyperRectangle{2, Int64})    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:334\n  [7] #invokelatest#2\n    @ .\\essentials.jl:707 [inlined]\n  [8] invokelatest\n...```\nThe problem is that I don't know what function `AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene}` is.\n```julia&gt; AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene} |&gt; typeof\nDataType```\nSo it's a type? Can I find out somehow where this is defined in the code?","user":"UK1BNFHFV","ts":"1617348212.246300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xXvCy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can I find out which anonymous function errors for me? I'm using observables, so the stack traces are quite hard to read:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"MethodError: no method matching (::AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene})(::Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}})\nStacktrace:\n  [1] #invokelatest#2\n    @ .\\essentials.jl:707 [inlined]\n  [2] invokelatest\n    @ .\\essentials.jl:706 [inlined]\n  [3] notify\n    @ ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:88 [inlined]\n  [4] setindex!(observable::Observable{Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}}, val::Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, \n16}, Vec{3, Float32}})\n    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:248\n  [5] (::Observables.MapUpdater{typeof(AbstractPlotting.MakieLayout.calculate_matrices), Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}})(::GeometryBasics.HyperRectangle{3, Float32}, ::Vararg{Any, N} where N)\n    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:372\n  [6] (::Observables.OnUpdate{Observables.MapUpdater{typeof(AbstractPlotting.MakieLayout.calculate_matrices), Tuple{StaticArrays.SMatrix{4, 4, Float64, 16}, StaticArrays.SMatrix{4, 4, Float64, 16}, Vec{3, Float32}}}, Tuple{Observable{GeometryBasics.HyperRectangle{3, Float32}}, Observable{GeometryBasics.HyperRectangle{2, Int64}}, Observable{Any}, Observable{Any}, Observable{Any}, Observable{Any}, Observable{Any}}})(#unused#::GeometryBasics.HyperRectangle{2, Int64})    @ Observables ~\\.julia\\packages\\Observables\\OFj0u\\src\\Observables.jl:334\n  [7] #invokelatest#2\n    @ .\\essentials.jl:707 [inlined]\n  [8] invokelatest\n..."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The problem is that I don't know what function "},{"type":"text","text":"AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene}","style":{"code":true}},{"type":"text","text":" is.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene} |> typeof\nDataType"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"So it's a type? Can I find out somehow where this is defined in the code?"}]}]}],"thread_ts":"1617348212.246300","reply_count":15,"reply_users_count":3,"latest_reply":"1617354709.250100","reply_users":["UH24GRBLL","U66SGEWAC","UK1BNFHFV"],"is_locked":false,"subscribed":false},{"client_msg_id":"684a3b0c-90a1-4186-ac98-cf61bd8fd4b3","type":"message","text":"In Julia, anonymous functions are implemented as callable structs","user":"UH24GRBLL","ts":"1617348908.246600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TkI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In Julia, anonymous functions are implemented as callable structs"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"f15785b8-aa0b-4f8d-8d63-2e8545d2621f","type":"message","text":"captured variables are placed in the fields of the struct","user":"UH24GRBLL","ts":"1617348928.246800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MW44O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"captured variables are placed in the fields of the struct"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"d20a1c81-d8af-4f0b-a894-d87c25f1ada7","type":"message","text":"from the way it looks, seems like you have some anonymous function at the top level in MakieLayout?","user":"UH24GRBLL","ts":"1617349103.247000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m+tf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"from the way it looks, seems like you have some anonymous function at the top level in MakieLayout?"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"944e0c27-537f-4fa8-b887-5e353c7c79ad","type":"message","text":"if in doubt, you should be able to do `methods(&lt;the anon function&gt;)` and it should tell you roughly where it's defined, I think","user":"UH24GRBLL","ts":"1617349185.247200","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1617349206.000000"},"blocks":[{"type":"rich_text","block_id":"xOHH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if in doubt, you should be able to do "},{"type":"text","text":"methods(<the anon function>)","style":{"code":true}},{"type":"text","text":" and it should tell you roughly where it's defined, I think"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"82680095-723d-4e3c-bef3-d60d840bd409","type":"message","text":"Ive been thinking if we can make better stack traces for observables... We should have quite a lot of information at hand","user":"U66SGEWAC","ts":"1617353924.248000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JoF31","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ive been thinking if we can make better stack traces for observables... We should have quite a lot of information at hand"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"cc1b6975-8dae-4703-b66e-4094d7d9f5db","type":"message","text":"```julia&gt; AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene} |&gt; methods\n# 0 methods for type constructor:```","user":"UK1BNFHFV","ts":"1617354503.248300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9v9","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> AbstractPlotting.MakieLayout.var\"#1019#1028\"{Scene} |> methods\n# 0 methods for type constructor:"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"b8de8d14-aa23-4adb-8dd4-2bc6b357e76d","type":"message","text":"that's weird","user":"UK1BNFHFV","ts":"1617354505.248500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HryC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's weird"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"3625e2f8-1786-4038-a155-aeae190edffe","type":"message","text":"hm maybe that has something to do with the Revise bug I've been seeing, it sometimes tells me about deleted methods etc","user":"UK1BNFHFV","ts":"1617354525.248700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8Cyy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm maybe that has something to do with the Revise bug I've been seeing, it sometimes tells me about deleted methods etc"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"30e81ba5-ac34-4b41-a907-908cb34e2adc","type":"message","text":"Maybe it deletes methods from under me and then those error","user":"UK1BNFHFV","ts":"1617354537.248900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rrJf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe it deletes methods from under me and then those error"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"6783d705-be7a-476b-aedd-37968dfd4062","type":"message","text":"it's also possible that the concrete version of the anon function doesn't have methods, but the non-specific UnionAll version does","user":"UH24GRBLL","ts":"1617354619.249100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xmofV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's also possible that the concrete version of the anon function doesn't have methods, but the non-specific UnionAll version does"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"92d7c17a-896d-4719-99ca-4346c402de16","type":"message","text":"so maybe without `{Scene}`?","user":"UH24GRBLL","ts":"1617354629.249300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XXC2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so maybe without "},{"type":"text","text":"{Scene}","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"f48d4760-ba68-4055-b224-7017124c3303","type":"message","text":"hm that somehow crashed my REPL","user":"UK1BNFHFV","ts":"1617354685.249500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SgMU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm that somehow crashed my REPL"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"e5c0b22d-5839-4e27-a275-56eec7163a04","type":"message","text":"huh","user":"UH24GRBLL","ts":"1617354695.249700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6gTQv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"huh"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"5279d07c-12fc-4b58-910d-a9b9a26293eb","type":"message","text":"but it was already buggy from revise in this session, so i'm not sure if that killed it","user":"UK1BNFHFV","ts":"1617354701.249900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ooBF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it was already buggy from revise in this session, so i'm not sure if that killed it"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"c2e47e00-cbd2-4194-8281-a40d97c1be17","type":"message","text":"if it's reproducible, that'll be a good issue","user":"UH24GRBLL","ts":"1617354709.250100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r9x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it's reproducible, that'll be a good issue"}]}]}],"thread_ts":"1617348212.246300","parent_user_id":"UK1BNFHFV"}]