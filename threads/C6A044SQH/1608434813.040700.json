[{"client_msg_id":"4a4e7195-b922-40e2-89fc-8e0c74b8a9c9","type":"message","text":"Why would the lock _after_ the `@time`-ed code increase the number of allocations here? The same thing happens in 1.6 and 1.5.3\n```julia&gt; begin \n           @time 1\n       end\n  0.000000 seconds\n1\n\njulia&gt; begin \n           @time 1\n           lock(Base.ReentrantLock()) do\n           end\n       end\n  0.000001 seconds (5 allocations: 176 bytes)```","user":"U8MPCDJAY","ts":"1608434813.040700","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1608434888.000000"},"blocks":[{"type":"rich_text","block_id":"vs4vh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why would the lock "},{"type":"text","text":"after","style":{"italic":true}},{"type":"text","text":" the "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":"-ed code increase the number of allocations here? The same thing happens in 1.6 and 1.5.3\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> begin \n           @time 1\n       end\n  0.000000 seconds\n1\n\njulia> begin \n           @time 1\n           lock(Base.ReentrantLock()) do\n           end\n       end\n  0.000001 seconds (5 allocations: 176 bytes)"}]}]}],"thread_ts":"1608434813.040700","reply_count":2,"reply_users_count":2,"latest_reply":"1608435750.041300","reply_users":["U0179G7FG4F","U8MPCDJAY"],"subscribed":false},{"client_msg_id":"57cfd718-b8c8-45a3-b8fc-61d479c202d0","type":"message","text":"I think you're measuring compilation time, at which point attributing allocations to any specific line gets wonky","user":"U0179G7FG4F","ts":"1608435065.041100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bajeR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you're measuring compilation time, at which point attributing allocations to any specific line gets wonky"}]}]}],"thread_ts":"1608434813.040700","parent_user_id":"U8MPCDJAY"},{"client_msg_id":"7c06b31b-b26d-4ef6-9396-f86fb4eecdc5","type":"message","text":"ah yes! I didn’t think the lock structure would need compiling itself","user":"U8MPCDJAY","ts":"1608435750.041300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z++","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah yes! I didn’t think the lock structure would need compiling itself"}]}]}],"thread_ts":"1608434813.040700","parent_user_id":"U8MPCDJAY"}]