[{"client_msg_id":"6c6e464d-305d-4c55-9e14-6229ac7da919","type":"message","text":"That would add a field called `nothing`","user":"U687RKK0E","ts":"1616172808.215800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jShM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That would add a field called "},{"type":"text","text":"nothing","style":{"code":true}}]}]}],"thread_ts":"1616172808.215800","reply_count":13,"reply_users_count":7,"latest_reply":"1616207424.251100","reply_users":["U01PLQWQXPV","U687RKK0E","U8D9768Q6","U6788D83U","U01C3624SGJ","U6Z8377N2","U68QW0PUZ"],"subscribed":false},{"client_msg_id":"ff4e3a9e-88e3-47c0-a439-437e1cedd712","type":"message","text":"```struct _GLOBAL_RNG &lt;: AbstractRNG end\nconst GLOBAL_RNG = _GLOBAL_RNG.instance```\nJust a `singleton`, right?","user":"U01PLQWQXPV","ts":"1616173019.215900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+5NF","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"struct _GLOBAL_RNG <: AbstractRNG end\nconst GLOBAL_RNG = _GLOBAL_RNG.instance"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nJust a "},{"type":"text","text":"singleton","style":{"code":true}},{"type":"text","text":", right?"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E","reactions":[{"name":"today-i-learned","users":["U0138UTB7A4"],"count":1}]},{"client_msg_id":"6e924a28-35fd-4245-ab96-1fd9756df1f0","type":"message","text":"yes","user":"U687RKK0E","ts":"1616173068.216100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vq4G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E","reactions":[{"name":"pray","users":["U01PLQWQXPV"],"count":1}]},{"client_msg_id":"ec1696ba-bac6-4bbc-aa7c-f747656f02ba","type":"message","text":"Oh right, I forgot my trick for this involved using `return`.\n```julia&gt; struct Foo\n           return nothing\n       end\n\njulia&gt; methods(Foo)\n# 0 methods for type constructor:```","user":"U8D9768Q6","ts":"1616174134.216700","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1616174151.000000"},"blocks":[{"type":"rich_text","block_id":"4P3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh right, I forgot my trick for this involved using "},{"type":"text","text":"return","style":{"code":true}},{"type":"text","text":".\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> struct Foo\n           return nothing\n       end\n\njulia> methods(Foo)\n# 0 methods for type constructor:"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"03621d51-e3e4-4e34-ba49-7a79d117de84","type":"message","text":"what’s this magic?! :ahhhhhhh:","user":"U6788D83U","ts":"1616175149.219200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PVbu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what’s this magic?! "},{"type":"emoji","name":"ahhhhhhh"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"9ebff371-652a-4a9e-962f-d1bfc5f44a42","type":"message","text":"He's a witch","user":"U01C3624SGJ","ts":"1616175326.219500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ONeWv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"He's a witch"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"c09df906-3887-4dad-ba7e-c3a3d98b94a8","type":"message","text":"Sometimes I define a little function to make it clearer what it's for:\n```no_constructor() = nothing```\nthen\n```julia&gt; struct Bar\n           no_constructor()\n       end\n\njulia&gt; methods(Bar)\n# 0 methods for type constructor:```","user":"U8D9768Q6","ts":"1616175519.220100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cz2gO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sometimes I define a little function to make it clearer what it's for:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"no_constructor() = nothing"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"then\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> struct Bar\n           no_constructor()\n       end\n\njulia> methods(Bar)\n# 0 methods for type constructor:"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"5fa65c4d-23d3-40ea-92fa-e2e153d7898c","type":"message","text":"Just need any expression at the end that isn't a symbol, a symbol with a type assertion, or a function definition with the same name as the type, so you can stick just about anything in there to get rid of constructors","user":"U8D9768Q6","ts":"1616175600.220300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3lmF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just need any expression at the end that isn't a symbol, a symbol with a type assertion, or a function definition with the same name as the type, so you can stick just about anything in there to get rid of constructors"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"3f9f4739-6225-4c07-90ae-e864092167dc","type":"message","text":"I am actually so confused :smile:","user":"U6Z8377N2","ts":"1616184381.229800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2TeZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am actually so confused "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"fb3c5d89-55a1-413e-8d0a-daa4160cc986","type":"message","text":"whats the purpose of suppressing the generation of a default constructor? and where is the `.instance` field coming from","user":"U6Z8377N2","ts":"1616184412.230100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nm1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"whats the purpose of suppressing the generation of a default constructor? and where is the "},{"type":"text","text":".instance","style":{"code":true}},{"type":"text","text":" field coming from"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"784ab18a-c38a-4f17-bd8c-83472def684b","type":"message","text":"The usual reason to suppress a default constructor is so you can control how all instances are created, to enforce invariants.","user":"U687RKK0E","ts":"1616188319.234600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fwSN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The usual reason to suppress a default constructor is so you can control how all instances are created, to enforce invariants."}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"d6624b13-2809-4bc2-93b0-d557c3a6bcbe","type":"message","text":"In this case it doesn't matter so much, but we probably want to prevent people from writing `_GLOBAL_RNG()` thinking that it might make a \"new\" RNG.","user":"U687RKK0E","ts":"1616188348.234800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c1p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In this case it doesn't matter so much, but we probably want to prevent people from writing "},{"type":"text","text":"_GLOBAL_RNG()","style":{"code":true}},{"type":"text","text":" thinking that it might make a \"new\" RNG."}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"1343ba52-2fca-4591-ace1-1c85bc69bdc8","type":"message","text":"When a type is a \"singleton\" (has only one instance) we cache that instance in the `.instance` field inside the type. That is kind of an implementation detail being exploited here.","user":"U687RKK0E","ts":"1616188504.235400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DQc/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When a type is a \"singleton\" (has only one instance) we cache that instance in the "},{"type":"text","text":".instance","style":{"code":true}},{"type":"text","text":" field inside the type. That is kind of an implementation detail being exploited here."}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"},{"client_msg_id":"4b404e98-ecc8-42c2-b1a5-4882e7b7fabd","type":"message","text":"how letting go of nothing lets nothing go\n```# from Mason\njulia&gt; struct Foo\n           return nothing\n       end\njulia&gt; methods(Foo)\n# 0 methods for type constructor:\n\n# letting go of nothing\n\njulia&gt; struct Foo2\n           return\n       end\njulia&gt; methods(Foo2)\n# 0 methods for type constructor:\n\n# lets nothing go```","user":"U68QW0PUZ","ts":"1616207424.251100","team":"T68168MUP","edited":{"user":"U68QW0PUZ","ts":"1616207547.000000"},"blocks":[{"type":"rich_text","block_id":"j+Lz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how letting go of nothing lets nothing go\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"# from Mason\njulia> struct Foo\n           return nothing\n       end\njulia> methods(Foo)\n# 0 methods for type constructor:\n\n# letting go of nothing\n\njulia> struct Foo2\n           return\n       end\njulia> methods(Foo2)\n# 0 methods for type constructor:\n\n# lets nothing go"}]}]}],"thread_ts":"1616172808.215800","parent_user_id":"U687RKK0E"}]