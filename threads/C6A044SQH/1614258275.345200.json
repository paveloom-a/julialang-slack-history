[{"client_msg_id":"ce000d26-259e-468e-915c-c8f21e89835c","type":"message","text":"How to distinguish between \"found\" and \"not found\" in `findfirst(dict)`? E.g.:\n```d = Dict(nothing =&gt; 1, 2 =&gt; 3)\nfindfirst(==(3), d)  # == 2, ok: d[2] == 3\nfindfirst(==(1), d)  # == nothing, ok: d[nothing] == 1\nfindfirst(==(2), d)  # == nothing, but actually not found```\nFor now I do an extra check that `f(d[findfirst(f, d)]) == true`, but this doesn't look clean...","user":"UGTUKUHLN","ts":"1614258275.345200","team":"T68168MUP","edited":{"user":"UGTUKUHLN","ts":"1614258386.000000"},"blocks":[{"type":"rich_text","block_id":"X4tz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How to distinguish between \"found\" and \"not found\" in "},{"type":"text","text":"findfirst(dict)","style":{"code":true}},{"type":"text","text":"? E.g.:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"d = Dict(nothing => 1, 2 => 3)\nfindfirst(==(3), d)  # == 2, ok: d[2] == 3\nfindfirst(==(1), d)  # == nothing, ok: d[nothing] == 1\nfindfirst(==(2), d)  # == nothing, but actually not found"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"For now I do an extra check that "},{"type":"text","text":"f(d[findfirst(f, d)]) == true","style":{"code":true}},{"type":"text","text":", but this doesn't look clean..."}]}]}],"thread_ts":"1614258275.345200","reply_count":9,"reply_users_count":4,"latest_reply":"1614262428.351100","reply_users":["B01J9QZ4SP8","U7HAYKY9X","UBF9YRB6H","UGTUKUHLN"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614258279.345300","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN","reactions":[{"name":"bridge","users":["UGTUKUHLN"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/56014| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1614258297.345600","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"6c39bbb3-b01c-43e2-9642-030230f07542","type":"message","text":"I don't think you can... A better approach would be if Base had used a dedicated `Nullable` -like type for this.","user":"U7HAYKY9X","ts":"1614259703.347100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zw2N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think you can... A better approach would be if Base had used a dedicated "},{"type":"text","text":"Nullable","style":{"code":true}},{"type":"text","text":" -like type for this."}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"d758d75d-87e5-4251-9921-de680105879f","type":"message","text":"You can implement that youself, quite easily, though. Check out the implementation for `findfirst` for dicts, and copy it. Then return either `Some(k)` or `nothing` .","user":"U7HAYKY9X","ts":"1614259744.347300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rNU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can implement that youself, quite easily, though. Check out the implementation for "},{"type":"text","text":"findfirst","style":{"code":true}},{"type":"text","text":" for dicts, and copy it. Then return either "},{"type":"text","text":"Some(k)","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"a2c48ac9-54bd-4f2b-8595-fc5933fab16f","type":"message","text":"I think you should just avoid using `nothing` as a key, to be honest. Julia is a flexible language but as a consequence you get opportunities like this to do confusing things","user":"UBF9YRB6H","ts":"1614260894.349300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Mtyg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you should just avoid using "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":" as a key, to be honest. Julia is a flexible language but as a consequence you get opportunities like this to do confusing things"}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN","reactions":[{"name":"+1","users":["UPNRULT51"],"count":1}]},{"client_msg_id":"947e330f-e51b-4ab8-8784-2f9f2bcdae3e","type":"message","text":"<@U7HAYKY9X> sure, but an additional check is easier than copying findfirst :) Then why does `Some` even exist in base if it's not used in such cases?","user":"UGTUKUHLN","ts":"1614260919.349500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r1Gc","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7HAYKY9X"},{"type":"text","text":" sure, but an additional check is easier than copying findfirst :) Then why does "},{"type":"text","text":"Some","style":{"code":true}},{"type":"text","text":" even exist in base if it's not used in such cases?"}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"193eb1ed-32fb-4302-9a62-f2f86f1a9bdc","type":"message","text":"Don't know. This was discussed extensively about 3-4 years ago before I learned Julia - I haven't read those discussions. I agree the final design is not very good. One advantage of the current design is that it relieves you from having to unwrap the `Some` , but I do think the price we currently pay for it is too high.","user":"U7HAYKY9X","ts":"1614261147.350100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BhM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Don't know. This was discussed extensively about 3-4 years ago before I learned Julia - I haven't read those discussions. I agree the final design is not very good. One advantage of the current design is that it relieves you from having to unwrap the "},{"type":"text","text":"Some","style":{"code":true}},{"type":"text","text":" , but I do think the price we currently pay for it is too high."}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"3f6a2f91-10eb-466d-b2bf-428b92bac1e2","type":"message","text":"I made <https://github.com/jakobnissen/ErrorTypes.jl> recently precisely for this purpose :)","user":"U7HAYKY9X","ts":"1614261172.350300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kYj8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made "},{"type":"link","url":"https://github.com/jakobnissen/ErrorTypes.jl"},{"type":"text","text":" recently precisely for this purpose :)"}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"},{"client_msg_id":"76aa3ad7-1d56-441b-9344-2abf0fe24851","type":"message","text":"<@UBF9YRB6H> `nothing` as a Dict key was not confusing at all before I needed `findfirst` . Have been using such dicts for several months and didn't notice any issues before.","user":"UGTUKUHLN","ts":"1614262428.351100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TbQc","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":" as a Dict key was not confusing at all before I needed "},{"type":"text","text":"findfirst","style":{"code":true}},{"type":"text","text":" . Have been using such dicts for several months and didn't notice any issues before."}]}]}],"thread_ts":"1614258275.345200","parent_user_id":"UGTUKUHLN"}]