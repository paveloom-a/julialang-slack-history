[{"client_msg_id":"c8dcdcb6-9d7a-4d75-a5b8-19d364a05927","type":"message","text":"Is JuMP a good tool for finding the vector c that maximizes f(c) = c^T A c / (c^T B c) (where A and B symmetric positive definite matrices) ?","user":"UAJH2818E","ts":"1614869853.318300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IOE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is JuMP a good tool for finding the vector c that maximizes f(c) = c^T A c / (c^T B c) (where A and B symmetric positive definite matrices) ?"}]}]}],"thread_ts":"1614869853.318300","reply_count":22,"reply_users_count":4,"latest_reply":"1614873507.328900","reply_users":["B01J9QZ4SP8","UAJH2818E","U9MD78Z9N","U680T6770"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614869855.318400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"82b4f56e-bf29-466d-934b-8dbe338b647f","type":"message","text":"Is it? ~I don't think so...~  I don't see how","user":"UAJH2818E","ts":"1614870194.318900","team":"T68168MUP","edited":{"user":"UAJH2818E","ts":"1614870218.000000"},"blocks":[{"type":"rich_text","block_id":"sRR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it? "},{"type":"text","text":"I don't think so... ","style":{"strike":true}},{"type":"text","text":" I don't see how"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"I'm doing the algebra right now, as long as no component of c is zero, the term has no dependency on c","user":"U9MD78Z9N","ts":"1614870312.319200","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"It's the same as minimizing sum_ij c_i A_ij c_j 1/c_i 1/B_ij 1/c_j","user":"U9MD78Z9N","ts":"1614870423.319600","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1614870546.000000"},"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"23e1acc1-2527-462b-9b05-555538e45e70","type":"message","text":"yeah but it's actually\n(\\sum_ij c_i c_j A_ij)/(\\sum_ij c_i c_j B_ij).\nIt's two different sums, you can't collect them together","user":"UAJH2818E","ts":"1614870555.319900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8GT4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah but it's actually\n(\\sum_ij c_i c_j A_ij)/(\\sum_ij c_i c_j B_ij).\nIt's two different sums, you can't collect them together"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"I don't see why i can't collect them together if there are no 0's","user":"U9MD78Z9N","ts":"1614870590.320100","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"ab27c867-5695-4aca-ac9a-a46ec9c35d54","type":"message","text":"`julia&gt; N=3`\n`3`\n\n`julia&gt; c=randn(N); A=randn(N,N); B=randn(N,N); A=A*A'; B=B*B';`\n\n`julia&gt; c'*A*c/(c'*B*c) == c'*(A./B)*c`\n`false`","user":"UAJH2818E","ts":"1614870745.320300","team":"T68168MUP","edited":{"user":"UAJH2818E","ts":"1614870793.000000"},"blocks":[{"type":"rich_text","block_id":"LuTo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia> N=3","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"3","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"julia> c=randn(N); A=randn(N,N); B=randn(N,N); A=A*A'; B=B*B';","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"julia> c'*A*c/(c'*B*c) == c'*(A./B)*c","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"false","style":{"code":true}}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"Opps you are right","user":"U9MD78Z9N","ts":"1614870911.321100","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"Ok, you can formulate it as quadratically constrained qudratic problem","user":"U9MD78Z9N","ts":"1614871068.321900","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1614871137.000000"},"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"constraint z = c'*B*c \nconstraint y*z = c'*A*c\nobjective y","user":"U9MD78Z9N","ts":"1614871202.323400","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"30bcfe0d-e7b0-4fc6-a713-958cf0f3e85b","type":"message","text":"yeah","user":"UAJH2818E","ts":"1614871685.325400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5fku","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"1e780df9-6d18-4043-9188-997b839b7f5f","type":"message","text":"that I can do with Jump right?","user":"UAJH2818E","ts":"1614871708.325600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v+jpO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that I can do with Jump right?"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"b89e7e27-9ec8-495b-aae2-edbafe095e7f","type":"message","text":"(or Actually i'm noticing I can just diagonalize B=PDP^T, then diagonalize A'=P\\sqrt(D)A\\sqrt(D)P^T and the largest eigenvalue is the one i need","user":"UAJH2818E","ts":"1614871761.325800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x6GG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(or Actually i'm noticing I can just diagonalize B=PDP^T, then diagonalize A'=P\\sqrt(D)A\\sqrt(D)P^T and the largest eigenvalue is the one i need"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E","reactions":[{"name":"point_up_2","users":["U680T6770"],"count":1}]},{"client_msg_id":"c0997569-da81-47e7-a613-a8d19dc7bb7f","type":"message","text":"i think)","user":"UAJH2818E","ts":"1614871763.326000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d5K8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i think)"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"If you don't find an QCQP solver tied to jump (haven't looked for some time) NLP solvers such as IPOPT i have solved QCQPs with IPOPT before","user":"U9MD78Z9N","ts":"1614871803.326200","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"Does that help?","user":"U9MD78Z9N","ts":"1614872728.327300","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"Please note that IpOPT is a local optimizer and i'm not sure your problem is covex, for global optimization i had good experience with a software called Octeract which is available via AMPLNLWriter or something","user":"U9MD78Z9N","ts":"1614872812.327700","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"```\nusing JuMP, AmplNLWriter\n\nsol = AmplNLWriter.Optimizer(\"octerract-engine\")\nmodel = Model()\nset_optimizer(model,()-&gt; sol)\n```\n\nShould work with your evaluation copy of octeract","user":"U9MD78Z9N","ts":"1614872992.327900","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"(This assumes Linux and an \"octerract-engine\" being an executable in your path. For Windows maybe the path to the install location of octeract will work)","user":"U9MD78Z9N","ts":"1614873068.328100","team":"T68168MUP","thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"8eac6b0c-6adb-4c50-b1aa-67694f4ecc7e","type":"message","text":"<https://julialang.slack.com/archives/C6A044SQH/p1614871761325800?thread_ts=1614869853.318300&amp;cid=C6A044SQH> is right. The usual way to do this is with the generalized eigenvalue problem.\n```julia&gt; A\n5×5 Matrix{Float64}:\n  4.9705      2.38559   -0.0581921  -1.44487   -4.71817\n  2.38559     1.71974    0.184717   -0.489827  -3.16765\n -0.0581921   0.184717   1.43517     0.360499  -0.439947\n -1.44487    -0.489827   0.360499    1.40917    0.180241\n -4.71817    -3.16765   -0.439947    0.180241  11.6775\n\njulia&gt; B\n5×5 Matrix{Float64}:\n  5.49847   -0.62397   -0.773982   1.98699    1.56013\n -0.62397    1.93337    1.69812    0.350359  -1.3236\n -0.773982   1.69812    4.18327   -2.32652   -2.15523\n  1.98699    0.350359  -2.32652    3.7374     1.96148\n  1.56013   -1.3236    -2.15523    1.96148    3.78437\n\njulia&gt; F = eigen(A, B);\n\njulia&gt; v = F.vectors[:,end];\n\njulia&gt; (v'*A*v)/(v'*B*v)\n67.77468483779549\n\njulia&gt; (_v -&gt; (_v'*A*_v)/(_v'*B*_v))(randn(5))\n1.2922878644467355\n\njulia&gt; (_v -&gt; (_v'*A*_v)/(_v'*B*_v))(randn(5))\n0.9184020499350197\n\njulia&gt; (_v -&gt; (_v'*A*_v)/(_v'*B*_v))(randn(5))\n2.5615312834486534```","user":"U680T6770","ts":"1614873288.328400","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C6A044SQH/p1614871761325800?thread_ts=1614869853.318300&amp;cid=C6A044SQH","fallback":"[March 4th, 2021 7:29 AM] filippovicentini: (or Actually i'm noticing I can just diagonalize B=PDP^T, then diagonalize A'=P\\sqrt(D)A\\sqrt(D)P^T and the largest eigenvalue is the one i need","ts":"1614871761.325800","author_id":"UAJH2818E","author_subname":"Filippo Vicentini","channel_id":"C6A044SQH","channel_name":"helpdesk","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"(or Actually i'm noticing I can just diagonalize B=PDP^T, then diagonalize A'=P\\sqrt(D)A\\sqrt(D)P^T and the largest eigenvalue is the one i need","author_name":"Filippo Vicentini","author_link":"https://julialang.slack.com/team/UAJH2818E","author_icon":"https://avatars.slack-edge.com/2019-01-27/533547946945_95f5ca9df01e95f6c0f2_48.jpg","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C6A044SQH/p1614871761325800?thread_ts=1614869853.318300&amp;cid=C6A044SQH","footer":"From a thread in #helpdesk"}],"blocks":[{"type":"rich_text","block_id":"8yB","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://julialang.slack.com/archives/C6A044SQH/p1614871761325800?thread_ts=1614869853.318300&cid=C6A044SQH"},{"type":"text","text":" is right. The usual way to do this is with the generalized eigenvalue problem.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> A\n5×5 Matrix{Float64}:\n  4.9705      2.38559   -0.0581921  -1.44487   -4.71817\n  2.38559     1.71974    0.184717   -0.489827  -3.16765\n -0.0581921   0.184717   1.43517     0.360499  -0.439947\n -1.44487    -0.489827   0.360499    1.40917    0.180241\n -4.71817    -3.16765   -0.439947    0.180241  11.6775\n\njulia> B\n5×5 Matrix{Float64}:\n  5.49847   -0.62397   -0.773982   1.98699    1.56013\n -0.62397    1.93337    1.69812    0.350359  -1.3236\n -0.773982   1.69812    4.18327   -2.32652   -2.15523\n  1.98699    0.350359  -2.32652    3.7374     1.96148\n  1.56013   -1.3236    -2.15523    1.96148    3.78437\n\njulia> F = eigen(A, B);\n\njulia> v = F.vectors[:,end];\n\njulia> (v'*A*v)/(v'*B*v)\n67.77468483779549\n\njulia> (_v -> (_v'*A*_v)/(_v'*B*_v))(randn(5))\n1.2922878644467355\n\njulia> (_v -> (_v'*A*_v)/(_v'*B*_v))(randn(5))\n0.9184020499350197\n\njulia> (_v -> (_v'*A*_v)/(_v'*B*_v))(randn(5))\n2.5615312834486534"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"client_msg_id":"b1efad5f-def1-4588-95f6-93565dad1cb5","type":"message","text":"```julia&gt; F.values[end]\n67.77468483779614```","user":"U680T6770","ts":"1614873344.328700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eXR56","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> F.values[end]\n67.77468483779614"}]}]}],"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"},{"type":"message","text":"Damn. That's neat.","user":"U9MD78Z9N","ts":"1614873507.328900","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1614873520.000000"},"thread_ts":"1614869853.318300","parent_user_id":"UAJH2818E"}]