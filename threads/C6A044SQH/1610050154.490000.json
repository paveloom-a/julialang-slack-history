[{"client_msg_id":"1996f99c-963f-4b90-b295-5ef5ce815973","type":"message","text":"Hi, Are my doing something wrong here: using DifferentialEquations seem to take forever to load! Any way around this julians?","user":"U018K59MVSR","ts":"1610050154.490000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uoc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, Are my doing something wrong here: using DifferentialEquations seem to take forever to load! Any way around this julians?"}]}]}],"thread_ts":"1610050154.490000","reply_count":73,"reply_users_count":5,"latest_reply":"1610052998.011200","reply_users":["U0179G7FG4F","U018K59MVSR","UD0NS8PDF","U8D9768Q6","U69BL50BF"],"subscribed":false},{"client_msg_id":"e499a10d-606c-4dec-b557-4434a1238a81","type":"message","text":"1.6 brings it down to 5 seconds on my computer","user":"U0179G7FG4F","ts":"1610050195.490100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S4avk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1.6 brings it down to 5 seconds on my computer"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"519a5d71-5098-4f2e-bb2c-ec05f3ecb07f","type":"message","text":"Oh. v1.6 have been officially released? Didn't know about that","user":"U018K59MVSR","ts":"1610050232.490300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AbF2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh. v1.6 have been officially released? Didn't know about that"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"24190e26-4707-46b9-b9d5-cd4911f07131","type":"message","text":"it hasn't. By 1.6 I meant a compiled master that is very close to what 1.6 will be","user":"U0179G7FG4F","ts":"1610050262.490500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r9c9u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it hasn't. By 1.6 I meant a compiled master that is very close to what 1.6 will be"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"cfa3414f-0246-45fe-bb79-7b3ae42eec9c","type":"message","text":"By the way, when I say forever, I mean a really long time to load.","user":"U018K59MVSR","ts":"1610050279.490700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2n7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"By the way, when I say forever, I mean a really long time to load."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR","reactions":[{"name":"+1","users":["U018K59MVSR"],"count":1}]},{"client_msg_id":"d5c4f751-2187-4d9e-8c77-e36b5264fb68","type":"message","text":"are you on windows with a NAS?","user":"U0179G7FG4F","ts":"1610050299.491000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UYe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you on windows with a NAS?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"47fab41d-e529-4d7a-8602-cafeeb9384dd","type":"message","text":"Yes, I use window","user":"U018K59MVSR","ts":"1610050313.491200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zs/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I use window"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"ef94d2d4-e015-4d14-a046-7352eedc44f4","type":"message","text":"I think it’s possible to load sub-packages without loading the whole thing, ~~`using OrdinaryDifferentialEquations`~~ OrdinaryDiffEq!  is much quicker for me.","user":"UD0NS8PDF","ts":"1610050400.491500","team":"T68168MUP","edited":{"user":"UD0NS8PDF","ts":"1610050918.000000"},"blocks":[{"type":"rich_text","block_id":"FQVW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it’s possible to load sub-packages without loading the whole thing, ~~`using OrdinaryDifferentialEquations`~~ OrdinaryDiffEq!  is much quicker for me."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR","reactions":[{"name":"+1","users":["U0179G7FG4F","U8D9768Q6"],"count":2}]},{"client_msg_id":"f336f485-a4ff-4bca-92d5-f8a4409a5f74","type":"message","text":"What's the difference between both","user":"U018K59MVSR","ts":"1610050474.491800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V6S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's the difference between both"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"3ad1940d-bcb7-43d3-9d2d-0f93a9f037ca","type":"message","text":"`DifferentialEquations` supports ADE, SDE, and 1000 other kinds of equations that most people have never heard of","user":"U0179G7FG4F","ts":"1610050547.492400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oTzY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DifferentialEquations","style":{"code":true}},{"type":"text","text":" supports ADE, SDE, and 1000 other kinds of equations that most people have never heard of"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"3AC3DC35-A47C-4916-A92C-CBF7687D13A9","type":"message","text":"It’s called OrdinaryDiffEq","user":"U8D9768Q6","ts":"1610050548.492600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9hwhL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s called OrdinaryDiffEq"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"cde2e382-f378-4095-8445-b87866484029","type":"message","text":"I've heard of them","user":"U69BL50BF","ts":"1610050564.492800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mso1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've heard of them"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR","reactions":[{"name":"laughing","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"118ec689-2163-41d6-9d6e-f0781e2819ba","type":"message","text":"But yes, each solver package is separate and usable on its own","user":"U69BL50BF","ts":"1610050578.493000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QEN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But yes, each solver package is separate and usable on its own"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"ada6c996-0048-4059-8708-e19000a1d04e","type":"message","text":"OrdinaryDiffEq, StochasticDiffEq, etc.","user":"U69BL50BF","ts":"1610050584.493200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l3Ed3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OrdinaryDiffEq, StochasticDiffEq, etc."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f8e050c9-ccf4-483e-ad13-ae70e3ccd8a8","type":"message","text":"<@U69BL50BF> Hahahah","user":"U018K59MVSR","ts":"1610050591.493400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q+Mq","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Hahahah"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"556fcd43-1c76-4b39-ac75-ebad275034d4","type":"message","text":"you can cut down on the dependencies by going straight to the solver","user":"U69BL50BF","ts":"1610050599.493600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ne3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can cut down on the dependencies by going straight to the solver"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"31213aa6-815c-45ea-82fd-88e0e6907933","type":"message","text":"v1.6 is going to be a blessing though. I can't wait for it...","user":"U69BL50BF","ts":"1610050622.493800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aP+K4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"v1.6 is going to be a blessing though. I can't wait for it..."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR","reactions":[{"name":"+1","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"b7c4dddb-c5db-41c8-944d-d82e9776984f","type":"message","text":"As I write, DifferentialEquations is still compiling","user":"U018K59MVSR","ts":"1610050630.494000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P9/g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As I write, DifferentialEquations is still compiling"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"72e23ea4-94b1-4529-b430-b076f3852b2b","type":"message","text":"DifferentialEquations compile times is very good for helping you think","user":"U69BL50BF","ts":"1610050672.494200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EsN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DifferentialEquations compile times is very good for helping you think"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"d8b92a25-c108-4de3-bec1-c6d0ab6e2f7d","type":"message","text":"We will hopefully give you a lot less thinking time in about a month.","user":"U69BL50BF","ts":"1610050698.494400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xcv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We will hopefully give you a lot less thinking time in about a month."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b1e0a724-c979-4bfb-b564-42300e2dbca9","type":"message","text":"Yeah, that's one way to look at it.","user":"U018K59MVSR","ts":"1610050700.494600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9x8l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that's one way to look at it."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"5ad895a8-55d3-4c2e-a542-ffbed1dacfc9","type":"message","text":"Finger crossed on the v1.6","user":"U018K59MVSR","ts":"1610050740.494800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v9ur","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Finger crossed on the v1.6"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b50dce2b-042d-4ccb-a6df-42bc95c014ad","type":"message","text":"DifferentialEquations Compiled","user":"U018K59MVSR","ts":"1610050767.495000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yIA0S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DifferentialEquations Compiled"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"ea8c027a-ab24-41c3-9a89-afbfa77edaed","type":"message","text":"<@U69BL50BF> I notice the solver in ODE package seem to fare less in term to computing time compare to those in R or matlab. Any reason for this","user":"U018K59MVSR","ts":"1610050847.495200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lRbNd","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I notice the solver in ODE package seem to fare less in term to computing time compare to those in R or matlab. Any reason for this"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"a049e30f-3512-4f2c-9886-868d0ef2cefd","type":"message","text":"or are my doing something wrong","user":"U018K59MVSR","ts":"1610050859.495400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HKq+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or are my doing something wrong"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"dc5e3ee9-0ba1-436b-9188-aac0c03708aa","type":"message","text":"what do you mean? You mean ODE.jl?","user":"U69BL50BF","ts":"1610050872.495600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D6Ebv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you mean? You mean ODE.jl?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"56eca1eb-0bd4-454d-a7c1-37a6dfb47169","type":"message","text":"I mean using solve(prob, ...)","user":"U018K59MVSR","ts":"1610050925.495900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v/b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean using solve(prob, ...)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"e4df9961-ea21-41c7-8cca-400a87fb8beb","type":"message","text":"you mean you're having efficiency issues? If you can share your code it's probably easy to debug","user":"U69BL50BF","ts":"1610050949.496100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0urjJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you mean you're having efficiency issues? If you can share your code it's probably easy to debug"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"8b29552c-bd71-4519-92f3-f5c812358b1e","type":"message","text":"Ok. Just a minute, I will be back with the code","user":"U018K59MVSR","ts":"1610051107.496300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aWy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. Just a minute, I will be back with the code"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"c36c5955-26db-410b-8241-42d6e8087213","type":"message","text":"```\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n\n    Prodtvy = P[1]*V[1]/τ\n\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend```","user":"U018K59MVSR","ts":"1610051459.496600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NdIws","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n\n    Prodtvy = P[1]*V[1]/τ\n\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"2997f8b0-b01c-4ac9-a1fe-a050dd351565","type":"message","text":"can you share it with parameter values and all of that?","user":"U69BL50BF","ts":"1610051500.496800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HFfa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you share it with parameter values and all of that?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"1fd34835-baa8-4d67-941c-f265d983f521","type":"message","text":"and are you timing the post compile time one?","user":"U69BL50BF","ts":"1610051507.497000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XjzLW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and are you timing the post compile time one?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"6e017088-2ba7-4e6b-ab5b-397ff6367011","type":"message","text":"```Remineff = 0.01\ntau = 0.1\np = (tau, Remineff)\nP0 = [0, 0]\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)```","user":"U018K59MVSR","ts":"1610051556.497200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oJyF","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Remineff = 0.01\ntau = 0.1\np = (tau, Remineff)\nP0 = [0, 0]\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"e504f49d-078b-4175-a975-49b6a38fe5e7","type":"message","text":"```Overturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13```","user":"U018K59MVSR","ts":"1610051717.497400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wEVwG","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Overturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"01ab8da8-bf0b-4df2-a7de-69f4e91a2764","type":"message","text":"Not sure if i got your question right, but I was timing the solving part part","user":"U018K59MVSR","ts":"1610051765.497600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tVbJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure if i got your question right, but I was timing the solving part part"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"7716ac44-9bca-464e-9bfb-32213eca6aff","type":"message","text":"`V` is not defined?","user":"U69BL50BF","ts":"1610051846.497800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c/1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"V","style":{"code":true}},{"type":"text","text":" is not defined?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b1c891de-2f7f-418d-8a0f-0264140a5cb3","type":"message","text":"```using DifferentialEquations\nRemineff = 0.01\ntau = 0.1\np = (tau, Remineff)\nP0 = [0.0, 0]\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)```","user":"U69BL50BF","ts":"1610051851.498000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Vb","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using DifferentialEquations\nRemineff = 0.01\ntau = 0.1\np = (tau, Remineff)\nP0 = [0.0, 0]\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"5d35e7a5-1bbd-4192-94bc-cbc6a8718668","type":"message","text":"two of the parameters are globals?","user":"U69BL50BF","ts":"1610051863.498200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gtu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"two of the parameters are globals?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b0d29a90-20e2-4291-ae40-f5d216c61ad4","type":"message","text":"Yeah, I try to shorten the function when copy","user":"U018K59MVSR","ts":"1610051905.498400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cLfy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I try to shorten the function when copy"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"cc44f714-d337-40a6-a8c7-7eed0a216207","type":"message","text":"here is the real deal","user":"U018K59MVSR","ts":"1610051912.498600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B4xbX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"here is the real deal"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f3e057f0-14bd-4ce5-b732-d144c9958ad1","type":"message","text":"```\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n\n    Prodtvy = P[1]*V[1]/τ\n\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\n\n\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\np = (tau, Remineff)\nP0 = [0, 0]\nV = [3 100].*1e16\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)```","user":"U018K59MVSR","ts":"1610051932.498800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bNngR","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\nfunction phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n\n    Prodtvy = P[1]*V[1]/τ\n\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\n\n\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\np = (tau, Remineff)\nP0 = [0, 0]\nV = [3 100].*1e16\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"028b5da1-d0c4-4421-89a6-9a22f8139db3","type":"message","text":"your issue is most likely global variables","user":"U69BL50BF","ts":"1610051958.499000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QPhq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"your issue is most likely global variables"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f5f9e8b2-a156-41d7-a9e2-6a733b960f32","type":"message","text":"34.949925 seconds (32.54 M allocations: 1.533 GiB, 3.69% gc time)","user":"U018K59MVSR","ts":"1610051965.499200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0f=P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"34.949925 seconds (32.54 M allocations: 1.533 GiB, 3.69% gc time)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"1b3eb21c-9ff4-42d5-90a1-472a3817e9b9","type":"message","text":"is there a reason those fluxes are not in the parameters?","user":"U69BL50BF","ts":"1610051970.499400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8GuQI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a reason those fluxes are not in the parameters?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"0158f86c-ee38-4eb0-98b2-3c0ab0d0fc57","type":"message","text":"(or constants?)","user":"U69BL50BF","ts":"1610051986.499600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p2Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(or constants?)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"27646a04-8079-4d1e-a349-ae1d9f4a3a8b","type":"message","text":"wait what?","user":"U69BL50BF","ts":"1610052012.499800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nhd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait what?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"1a4c95a5-5df7-479e-a312-524914758ec6","type":"message","text":"I just copy pasted ran it","user":"U69BL50BF","ts":"1610052017.000000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w6kB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just copy pasted ran it"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"c90e620f-fd59-43ae-8742-c16daa3ff8ab","type":"message","text":"```function phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\np = (tau, Remineff)\nP0 = [0, 0]\nV = [3 100].*1e16\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)\n\n#0.000690 seconds (13.71 k allocations: 239.453 KiB)\n#0.001078 seconds (13.71 k allocations: 239.453 KiB)```","user":"U69BL50BF","ts":"1610052018.000200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rxFo","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\np = (tau, Remineff)\nP0 = [0, 0]\nV = [3 100].*1e16\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)\n\n#0.000690 seconds (13.71 k allocations: 239.453 KiB)\n#0.001078 seconds (13.71 k allocations: 239.453 KiB)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"2ad87cfd-9432-4cb3-9cd1-ace58041c8ed","type":"message","text":"it takes &lt;0.001 seconds","user":"U69BL50BF","ts":"1610052026.000400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=F6CH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it takes <0.001 seconds"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b788b923-41db-4659-b856-1f43ff3549ca","type":"message","text":"Ok. That's possible. So in that case, if you refer to them as par[1]","user":"U018K59MVSR","ts":"1610052043.000600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dje+m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. That's possible. So in that case, if you refer to them as par[1]"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"096655b1-a81c-4591-b989-06a04c7fcc45","type":"message","text":"How is that possible :eyes:. 34s on my machine","user":"U018K59MVSR","ts":"1610052070.000800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7e5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How is that possible "},{"type":"emoji","name":"eyes"},{"type":"text","text":". 34s on my machine"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"42e8e333-fce0-4762-9b58-88f755e5ab40","type":"message","text":"did you run it twice?","user":"U69BL50BF","ts":"1610052105.001000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OmCR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you run it twice?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"269492ab-e11e-4419-8fda-fafa057a70f3","type":"message","text":"are you on v1.5?","user":"U69BL50BF","ts":"1610052112.001200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lRv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you on v1.5?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"fe2a7259-7807-485d-ba5a-bee283931edf","type":"message","text":"Well for a second run, it actually run quickly","user":"U018K59MVSR","ts":"1610052119.001400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o/V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well for a second run, it actually run quickly"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"0cd7f29c-f0cc-4794-87b1-22d377f35f6e","type":"message","text":"Not sure of my version","user":"U018K59MVSR","ts":"1610052129.001600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r24","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure of my version"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"68943f55-2ec6-4b30-b504-6912238b8cb9","type":"message","text":"yeah, your 34s time is the time it compiled the whole ODE solver and all of that","user":"U69BL50BF","ts":"1610052227.001800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xZr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, your 34s time is the time it compiled the whole ODE solver and all of that"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"90d4e6c9-5cd9-4f4c-8b50-aec1b635a145","type":"message","text":"```function phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff,Overturning_Flux,River_Flux,River_P,V = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\nV = [3,100].*1e16\np = (tau, Remineff,Overturning_Flux,River_Flux,River_P,V)\nP0 = [0.0, 0.0]\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)\n\n#0.000396 seconds (1.15 k allocations: 43.234 KiB)\n#0.000394 seconds (1.15 k allocations: 43.234 KiB)\n#0.000440 seconds (1.15 k allocations: 43.234 KiB)```","user":"U69BL50BF","ts":"1610052229.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A72y","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function phosphate_ocean_model(dPdt, P, pars, t)\n    τ, Remineff,Overturning_Flux,River_Flux,River_P,V = pars\n    Prodtvy = P[1]*V[1]/τ\n    dPdt[1] = (River_Flux*River_P - Overturning_Flux*P[1] + Overturning_Flux*P[2] - Prodtvy)/V[1]\n    dPdt[2] = (Overturning_Flux*P[1] - Overturning_Flux*P[2] + Remineff * Prodtvy)/V[2]\nend\nRemineff = 0.01\ntau = 0.1\nOverturning_Flux = 6e14  # flux of water\nRiver_Flux = 3e13\nRiver_P = 1.5\nV = [3,100].*1e16\np = (tau, Remineff,Overturning_Flux,River_Flux,River_P,V)\nP0 = [0.0, 0.0]\n@time prob = ODEProblem(phosphate_ocean_model, P0, (0, 1e6), p)\n@time sol = solve(prob, save_everystep = false)\n\n#0.000396 seconds (1.15 k allocations: 43.234 KiB)\n#0.000394 seconds (1.15 k allocations: 43.234 KiB)\n#0.000440 seconds (1.15 k allocations: 43.234 KiB)"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f14f067c-d8e5-4967-bd03-28847d1a4103","type":"message","text":"that's the version I would use","user":"U69BL50BF","ts":"1610052236.002200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wKY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's the version I would use"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"39407cf7-ef5a-4a5e-a1e1-cb75cc4be890","type":"message","text":"if you're seeing 34s of compile time though on every call, something is wild.","user":"U69BL50BF","ts":"1610052312.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oEFY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you're seeing 34s of compile time though on every call, something is wild."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"2b4c3611-8c7f-4727-916f-f9efa798e510","type":"message","text":"With a second run, it run pretty quickly","user":"U018K59MVSR","ts":"1610052351.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k1zLX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With a second run, it run pretty quickly"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"0fcce9ce-6484-4815-934f-f2fd249c8c6f","type":"message","text":"```1.768447 seconds (3.90 M allocations: 169.690 MiB, 3.00% gc time)\n  0.000832 seconds (1.17 k allocations: 43.891 KiB)\n  0.000647 seconds (1.17 k allocations: 43.891 KiB)\n  0.000438 seconds (1.17 k allocations: 43.891 KiB)```\nThe recompile time for me on this example is about 1-2 seconds","user":"U69BL50BF","ts":"1610052355.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tMUU","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"1.768447 seconds (3.90 M allocations: 169.690 MiB, 3.00% gc time)\n  0.000832 seconds (1.17 k allocations: 43.891 KiB)\n  0.000647 seconds (1.17 k allocations: 43.891 KiB)\n  0.000438 seconds (1.17 k allocations: 43.891 KiB)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The recompile time for me on this example is about 1-2 seconds"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f1ce5c31-4a6d-407a-acb9-770818e4fb88","type":"message","text":"that would only happen when you change the ODE function itself","user":"U69BL50BF","ts":"1610052364.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lNQXv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would only happen when you change the ODE function itself"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"a34eff5c-5d02-40fd-8bfb-8a6a8dbf3d1a","type":"message","text":"and it should be a lot less on v1.6","user":"U69BL50BF","ts":"1610052389.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xY7Y0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and it should be a lot less on v1.6"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"f014e2b0-ed91-49c9-ba0c-b7d499f60369","type":"message","text":"Ok. Would the timing matter in case of a more complicated model because that's stuff I intend to scale the above example to","user":"U018K59MVSR","ts":"1610052464.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Dcu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. Would the timing matter in case of a more complicated model because that's stuff I intend to scale the above example to"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"e0753a11-7d24-45fd-afa9-a2e8377e4c38","type":"message","text":"And by that I mean one with longer lines of code?","user":"U018K59MVSR","ts":"1610052483.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ROU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And by that I mean one with longer lines of code?"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"e540b669-65aa-4cd3-b75d-8e4dd7bf582f","type":"message","text":"yeah, compile time is relatively constant. You'll notice it more on smaller examples","user":"U69BL50BF","ts":"1610052527.004000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fbkJo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, compile time is relatively constant. You'll notice it more on smaller examples"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b38d7603-f26a-4de8-9ddb-121fbba334df","type":"message","text":"And if you solve like 10,000 times like in parameter fitting, it just uses the same cache so it won't recompile, etc.","user":"U69BL50BF","ts":"1610052547.004600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BGH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And if you solve like 10,000 times like in parameter fitting, it just uses the same cache so it won't recompile, etc."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"bdc2f069-319e-4588-916f-ccf8bd65f832","type":"message","text":"it's as though there's that step of `gcc ...` hidden in the first call to a function, and then it knows the binary exists and reuses it.","user":"U69BL50BF","ts":"1610052574.005200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kH1q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's as though there's that step of "},{"type":"text","text":"gcc ...","style":{"code":true}},{"type":"text","text":" hidden in the first call to a function, and then it knows the binary exists and reuses it."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"b421c445-2c9c-43a8-82be-654998cc74a7","type":"message","text":"Cool. That's will be great.","user":"U018K59MVSR","ts":"1610052674.007200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1dXvy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool. That's will be great."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"ea781238-d40b-411f-8e47-3c13487838fc","type":"message","text":"What of case of the system is highly stiff or modelling discontinuous laden system","user":"U018K59MVSR","ts":"1610052724.008200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NZVtc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What of case of the system is highly stiff or modelling discontinuous laden system"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"5ac3156a-7bd8-4788-bce4-180032b4b580","type":"message","text":"still the same compile time","user":"U69BL50BF","ts":"1610052746.008700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z0k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"still the same compile time"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"6dcc9025-4bdd-4087-8eb4-83f94883f8e8","type":"message","text":"compilation is due to code, not values","user":"U69BL50BF","ts":"1610052756.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JeFI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"compilation is due to code, not values"}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"ebe49600-210f-4b78-beca-bed220ba84e7","type":"message","text":"if you have an ODE that takes 100,000 lines of code? Then sure it might get to like 10 seconds to compile. But 1000 lines of code or less are all relatively the same.","user":"U69BL50BF","ts":"1610052793.010000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fB1M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you have an ODE that takes 100,000 lines of code? Then sure it might get to like 10 seconds to compile. But 1000 lines of code or less are all relatively the same."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"},{"client_msg_id":"5fcf5ef4-8d3e-4fa2-85b2-867f84a5bcbc","type":"message","text":"Ok. I guess the take away here is that \"compilation is due to code, not values\". Thanks <@U69BL50BF> <@U0179G7FG4F> for the tips. I'll be back with my julia questions.","user":"U018K59MVSR","ts":"1610052998.011200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VzS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. I guess the take away here is that \"compilation is due to code, not values\". Thanks "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U0179G7FG4F"},{"type":"text","text":" for the tips. I'll be back with my julia questions."}]}]}],"thread_ts":"1610050154.490000","parent_user_id":"U018K59MVSR"}]