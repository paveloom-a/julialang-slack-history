[{"client_msg_id":"a8723337-8825-493c-a1b7-0c3017622732","type":"message","text":"Hi everyone,\nI'm trying to create an array of Dict of a certain size that I'm planning to fill later. The method that works for float:\n```julia&gt; B = Array{Float64}(undef, 2)\n2-element Vector{Float64}:\n 5.0e-324\n 6.92903816646464e-310\n\njulia&gt; B[1]\n5.0e-324```\ndoes not work for Dict\n```julia&gt; C = Array{Dict}(undef, 2)\n2-element Vector{Dict}:\n #undef\n #undef\n\njulia&gt; C[1]\nERROR: UndefRefError: access to undefined reference\nStacktrace:\n [1] getindex(A::Vector{Dict}, i1::Int64)\n   @ Base ./array.jl:801\n [2] top-level scope\n   @ REPL[35]:1```\nI'm not sure what would be the best way to go about it...","user":"U01RGT386HK","ts":"1618217344.068500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8uj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi everyone,\nI'm trying to create an array of Dict of a certain size that I'm planning to fill later. The method that works for float:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> B = Array{Float64}(undef, 2)\n2-element Vector{Float64}:\n 5.0e-324\n 6.92903816646464e-310\n\njulia> B[1]\n5.0e-324"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"does not work for Dict\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> C = Array{Dict}(undef, 2)\n2-element Vector{Dict}:\n #undef\n #undef\n\njulia> C[1]\nERROR: UndefRefError: access to undefined reference\nStacktrace:\n [1] getindex(A::Vector{Dict}, i1::Int64)\n   @ Base ./array.jl:801\n [2] top-level scope\n   @ REPL[35]:1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure what would be the best way to go about it..."}]}]}],"thread_ts":"1618217344.068500","reply_count":3,"reply_users_count":2,"latest_reply":"1618220088.069300","reply_users":["U7HAYKY9X","U01RGT386HK"],"is_locked":false,"subscribed":false},{"client_msg_id":"d5bd85fc-dff1-4297-873e-e1fe8acc940e","type":"message","text":"The easiest way is to do array comprehension: `[Dict() for i in 1:10]` .","user":"U7HAYKY9X","ts":"1618217515.068600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PPY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The easiest way is to do array comprehension: "},{"type":"text","text":"[Dict() for i in 1:10]","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1618217344.068500","parent_user_id":"U01RGT386HK"},{"client_msg_id":"5eb90a44-2d7a-45fe-b7e0-6adc06d676e6","type":"message","text":"The reason your approach fails is because initializing arrays with `undef`  is the syntax for creating uninitialized arrays - that is, arrays with nothing in particular in them. For heap-allocated element types (e.g. dicts), it creates an array of null pointers. For bitstypes, it just uses whatever memory was there in the first place","user":"U7HAYKY9X","ts":"1618217614.068800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7sI5Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The reason your approach fails is because initializing arrays with "},{"type":"text","text":"undef","style":{"code":true}},{"type":"text","text":"  is the syntax for creating uninitialized arrays - that is, arrays with nothing in particular in them. For heap-allocated element types (e.g. dicts), it creates an array of null pointers. For bitstypes, it just uses whatever memory was there in the first place"}]}]}],"thread_ts":"1618217344.068500","parent_user_id":"U01RGT386HK","reactions":[{"name":"pray","users":["U01RGT386HK"],"count":1}]},{"client_msg_id":"9cd275a8-844f-4d62-b209-dabb49e463f7","type":"message","text":"Oh, I see! So I can first create empty Dicts, and then replace them with what I want (or fill them). Thanks!","user":"U01RGT386HK","ts":"1618220088.069300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s=O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, I see! So I can first create empty Dicts, and then replace them with what I want (or fill them). Thanks!"}]}]}],"thread_ts":"1618217344.068500","parent_user_id":"U01RGT386HK"}]