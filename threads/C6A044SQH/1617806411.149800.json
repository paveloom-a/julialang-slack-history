[{"client_msg_id":"6dbe7980-2c25-4570-8d11-2085afd411b0","type":"message","text":"On OSX 10.15.7 I have problems with any package that evokes the FFMPEG.jl, e.g. making a recording w/ Javis.jl or Makie.jl. Any thoughts?\n```record(figure, \"f16.mkv\", 1:100; framerate = 10) do trans\n           GLMakie.translate!(obj, trans)\n       end\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0\nERROR: LoadError: IOError: write: broken pipe (EPIPE)```\nIf I `./ ffmpeg`  or the artifact directly I get\n```dyld: Library not loaded: @rpath/libass.9.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/./ffmpeg\n  Reason: image not found```","user":"UP95S4864","ts":"1617806411.149800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wSWV/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On OSX 10.15.7 I have problems with any package that evokes the FFMPEG.jl, e.g. making a recording w/ Javis.jl or Makie.jl. Any thoughts?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"record(figure, \"f16.mkv\", 1:100; framerate = 10) do trans\n           GLMakie.translate!(obj, trans)\n       end\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0\nERROR: LoadError: IOError: write: broken pipe (EPIPE)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"If I "},{"type":"text","text":"./ ffmpeg","style":{"code":true}},{"type":"text","text":"  or the artifact directly I get\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"dyld: Library not loaded: @rpath/libass.9.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/./ffmpeg\n  Reason: image not found"}]}]}],"thread_ts":"1617806411.149800","reply_count":84,"reply_users_count":4,"latest_reply":"1617845484.241700","reply_users":["US64J0NPQ","UP95S4864","UDB26738Q","U66GD0880"],"is_locked":false,"subscribed":false},{"client_msg_id":"e16d4bfa-8356-4000-ad79-ad78d6d99969","type":"message","text":"Not an answer <@UP95S4864>, but perhaps ask also in <#CB1R90P8R|image-processing> and/or <#CFLGP7EQ7|video>. If you run into more issues with Javis, let me know.  :load:","user":"US64J0NPQ","ts":"1617809688.154000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KE2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not an answer "},{"type":"user","user_id":"UP95S4864"},{"type":"text","text":", but perhaps ask also in "},{"type":"channel","channel_id":"CB1R90P8R"},{"type":"text","text":" and/or "},{"type":"channel","channel_id":"CFLGP7EQ7"},{"type":"text","text":". If you run into more issues with Javis, let me know.  "},{"type":"emoji","name":"load"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"7dbacc65-62c6-4695-ba6c-eae68afc184a","type":"message","text":"Thanks <@US64J0NPQ>. My problem is definitely upstream of Javis","user":"UP95S4864","ts":"1617810400.154300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yrAX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"US64J0NPQ"},{"type":"text","text":". My problem is definitely upstream of Javis"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864","reactions":[{"name":"+1","users":["US64J0NPQ"],"count":1}]},{"client_msg_id":"5e4e937e-0729-42f4-9db5-855be6d8fc0b","type":"message","text":"<@UP95S4864> can you please show the output of\n```using Libdl\nfilter!(lib -&gt; occursin(\"bz2\", lib), dllist())```\nafter you get the error?","user":"UDB26738Q","ts":"1617811780.162200","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1617811788.000000"},"blocks":[{"type":"rich_text","block_id":"rAb","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UP95S4864"},{"type":"text","text":" can you please show the output of\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Libdl\nfilter!(lib -> occursin(\"bz2\", lib), dllist())"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"after you get the error?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"4be26181-ed84-4c1d-a0e8-c58e41ac507b","type":"message","text":"```2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\"```","user":"UP95S4864","ts":"1617812924.170900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bDq6u","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\""}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"1dfb68ab-a250-4b39-8966-24a22510f872","type":"message","text":"so system libbz2 is being pulled by something, it shouldn't.  does the error happen also in a fresh julia session?","user":"UDB26738Q","ts":"1617813105.171500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Uq49","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so system libbz2 is being pulled by something, it shouldn't.  does the error happen also in a fresh julia session?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"8aa38909-4e48-48dc-9501-89db597bee36","type":"message","text":"In a fresh session:\n```using Libdl\nfilter!(lib -&gt; occursin(\"bz2\", lib), dllist())\n\nusing GLMakie\nfig = GLMakie.Figure()\nrecord(fig, \"mygif.gif\", 1:100;) do i\n    GLMakie.scatter(rand(5),rand(5))\nend\n\nfilter!(lib -&gt; occursin(\"bz2\", lib), dllist())```\n```1-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0\nERROR: LoadError: IOError: write: broken pipe (EPIPE)\nStacktrace:...\n\n2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\"```","user":"UP95S4864","ts":"1617813510.172300","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617813788.000000"},"blocks":[{"type":"rich_text","block_id":"66vEH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In a fresh session:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Libdl\nfilter!(lib -> occursin(\"bz2\", lib), dllist())\n\nusing GLMakie\nfig = GLMakie.Figure()\nrecord(fig, \"mygif.gif\", 1:100;) do i\n    GLMakie.scatter(rand(5),rand(5))\nend\n\nfilter!(lib -> occursin(\"bz2\", lib), dllist())"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"1-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0\nERROR: LoadError: IOError: write: broken pipe (EPIPE)\nStacktrace:...\n\n2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n\"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\""}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"5ea4cb4b-0346-46cd-ac89-71eb30cb5d1a","type":"message","text":"so `GLMakie` is pulling it?","user":"UDB26738Q","ts":"1617813558.172500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rgYD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so "},{"type":"text","text":"GLMakie","style":{"code":true}},{"type":"text","text":" is pulling it?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f4a1452e-6c55-4e54-9092-58dbdbb42dff","type":"message","text":"Dependencies look like `GLMakie &lt;- AbstractPlotting &lt;- FFMPEG`","user":"UP95S4864","ts":"1617813661.172700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mQ6JS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Dependencies look like "},{"type":"text","text":"GLMakie <- AbstractPlotting <- FFMPEG","style":{"code":true}}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"5ebc0d0e-67b4-43b5-b323-466c264f4c6d","type":"message","text":"If I do a fresh julia and call FFMEG directly I get the same","user":"UP95S4864","ts":"1617813690.172900","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617814125.000000"},"blocks":[{"type":"rich_text","block_id":"lXrYz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I do a fresh julia and call FFMEG directly I get the same"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"9b0ebf97-b214-4aab-a0e1-6e8ef9f8af83","type":"message","text":"```using FFMPEG\nFFMPEG.exe(\"-version\")\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0```","user":"UP95S4864","ts":"1617813712.173100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dmLx","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using FFMPEG\nFFMPEG.exe(\"-version\")\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"4f98b9a4-4baa-4033-ade2-3fcb6265aaad","type":"message","text":"```filter!(lib -&gt; occursin(\"bz2\", lib), dllist())\n2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n \"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\"```","user":"UP95S4864","ts":"1617813763.173500","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617813772.000000"},"blocks":[{"type":"rich_text","block_id":"FrBEX","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"filter!(lib -> occursin(\"bz2\", lib), dllist())\n2-element Vector{String}:\n \"/usr/lib/libbz2.1.0.dylib\"\n \"/Users/me/.julia/artifacts/9e6461415f744a3748a3157a0c3db6b138dbea87/lib/libbz2.1.0.6.dylib\""}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"7fb46fba-c02c-4f05-a5ee-0794fb809ec4","type":"message","text":"<@UDB26738Q> Any more thoughts on this?","user":"UP95S4864","ts":"1617825999.194400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bzg","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" Any more thoughts on this?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a1675f29-3500-49a8-9c11-04b7070eead4","type":"message","text":"something is pulling system's libbz2, and that's the issue, but can't tell why.  what's the value of the environment variable `DYLD_FALLBACK_LIBRARY_PATH`?","user":"UDB26738Q","ts":"1617828545.208100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kefO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"something is pulling system's libbz2, and that's the issue, but can't tell why.  what's the value of the environment variable "},{"type":"text","text":"DYLD_FALLBACK_LIBRARY_PATH","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"6294bf1f-b643-487b-8ebc-d263fb6a83ba","type":"message","text":"```ENV[\"DYLD_FALLBACK_LIBRARY_PATH\"]\nERROR: KeyError: key \"DYLD_FALLBACK_LIBRARY_PATH\" not found```","user":"UP95S4864","ts":"1617829493.209700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XmH","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ENV[\"DYLD_FALLBACK_LIBRARY_PATH\"]\nERROR: KeyError: key \"DYLD_FALLBACK_LIBRARY_PATH\" not found"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"c0cb5af8-d143-4308-9e2d-7c3f9ffc01a7","type":"message","text":"is `/usr/lib/libbz2.1.0.dylib` in `filter!(lib -&gt; occursin(\"bz2\", lib), dllist())` the issue?","user":"UP95S4864","ts":"1617829583.210700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k/WA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is "},{"type":"text","text":"/usr/lib/libbz2.1.0.dylib","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":"filter!(lib -> occursin(\"bz2\", lib), dllist())","style":{"code":true}},{"type":"text","text":" the issue?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f5a3567c-9a59-433e-b2d5-873f37de9c71","type":"message","text":"it is, it shouldn't be loaded","user":"UDB26738Q","ts":"1617829602.211000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"75I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it is, it shouldn't be loaded"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"2aa5b3dd-0f82-4f9f-8533-ccef2bf35235","type":"message","text":"could it be anything in my startup.jl?\n```import REPL\nBase.atreplinit() do repl\n    # make the ; shell mode sticky\n    !isdefined(repl, :interface) &amp;&amp; (repl.interface = REPL.setup_interface(repl))\n    repl.interface.modes[2].sticky=true\n\n    try\n        @eval using OhMyREPL\n    catch e\n        @warn \"error while importing OhMyREPL\" e\n    end\nend\n\ntry\n    @eval using Revise\n    # Turn on Revise's automatic-evaluation behavior\n    Revise.async_steal_repl_backend()\ncatch err\n    @warn \"Could not load Revise.\"\nend\n\nENV[\"JULIA_EDITOR\"] = \"code\"```","user":"UP95S4864","ts":"1617829867.213900","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617829886.000000"},"blocks":[{"type":"rich_text","block_id":"EG6D4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could it be anything in my startup.jl?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"import REPL\nBase.atreplinit() do repl\n    # make the ; shell mode sticky\n    !isdefined(repl, :interface) && (repl.interface = REPL.setup_interface(repl))\n    repl.interface.modes[2].sticky=true\n\n    try\n        @eval using OhMyREPL\n    catch e\n        @warn \"error while importing OhMyREPL\" e\n    end\nend\n\ntry\n    @eval using Revise\n    # Turn on Revise's automatic-evaluation behavior\n    Revise.async_steal_repl_backend()\ncatch err\n    @warn \"Could not load Revise.\"\nend\n\nENV[\"JULIA_EDITOR\"] = \"code\""}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"c7ac5d3e-9b9f-4871-a051-532c2a6e09a2","type":"message","text":"it doesn't look like it, but you can rule it out by trying to reproduce the error when running julia with `--startup-file=no`","user":"UDB26738Q","ts":"1617829935.214200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bvv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it doesn't look like it, but you can rule it out by trying to reproduce the error when running julia with "},{"type":"text","text":"--startup-file=no","style":{"code":true}}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"4fb59006-bce3-4dd0-8bfd-fbe4fcbb0784","type":"message","text":"no luck","user":"UP95S4864","ts":"1617830035.214400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ibE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no luck"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"cf1e377e-bf82-4b21-bcdc-9034994cb766","type":"message","text":"the fact that it happens in a fresh session is worrying, usually python dependencies would pull in system libraries","user":"UDB26738Q","ts":"1617830083.214900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UTl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the fact that it happens in a fresh session is worrying, usually python dependencies would pull in system libraries"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"eebf12d7-1906-4b1f-9701-e01c5a69c39e","type":"message","text":"If it matters, I am on v1.6","user":"UP95S4864","ts":"1617830358.215300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gbf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it matters, I am on v1.6"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"dc3a3a72-4485-4252-a35a-a910728a5d02","type":"message","text":"I also did `mv ~/.julia ~/.julia_obe`  so try to simulate a clean slate, also with no luck","user":"UP95S4864","ts":"1617830659.215500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MNh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I also did "},{"type":"text","text":"mv ~/.julia ~/.julia_obe","style":{"code":true}},{"type":"text","text":"  so try to simulate a clean slate, also with no luck"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"9278acf5-b15b-4d60-91af-94c8344d02e5","type":"message","text":"can you please show the output of\n```using Libdl\nprintln.(dllist());```\nas soon as you start julia and after you get the error?","user":"UDB26738Q","ts":"1617835828.225700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/2ONp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you please show the output of\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Libdl\nprintln.(dllist());"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"as soon as you start julia and after you get the error?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"9e739525-3b79-4ea4-bbb9-9cedb9a3ff80","type":"message","text":"It is too long to paste here","user":"UP95S4864","ts":"1617838997.229200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jNPeI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is too long to paste here"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"656a372c-b9f4-42c9-a50b-39f18dae9033","type":"message","text":"<https://gist.github.com/>","user":"UDB26738Q","ts":"1617839033.229400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qwh","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gist.github.com/"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"c82f97bc-b30c-462f-91c4-00838250313c","type":"message","text":"Thanks. <https://gist.github.com/agerlach/6b84e468b9b9c488fa04b26a672a2e83>","user":"UP95S4864","ts":"1617839147.229600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ghj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks. "},{"type":"link","url":"https://gist.github.com/agerlach/6b84e468b9b9c488fa04b26a672a2e83"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a91197a8-d4f3-435a-9b00-bc9eeefd658f","type":"message","text":"I take this is after you load `FFMPEG.jl`, but I don't see the one after you start Julia.  but there are a bunch of system libraries that shouldn't be loaded, like libxml2 and liblzma, in addition to libz2","user":"UDB26738Q","ts":"1617839291.229800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BoIp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I take this is after you load "},{"type":"text","text":"FFMPEG.jl","style":{"code":true}},{"type":"text","text":", but I don't see the one after you start Julia.  but there are a bunch of system libraries that shouldn't be loaded, like libxml2 and liblzma, in addition to libz2"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"129877d5-823d-4c71-89ad-178a0c93b57a","type":"message","text":"I really don't see how that could happen with just `FFMPEG.jl` in a fresh Julia session, unless you do something else","user":"UDB26738Q","ts":"1617839323.230000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BGYUV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I really don't see how that could happen with just "},{"type":"text","text":"FFMPEG.jl","style":{"code":true}},{"type":"text","text":" in a fresh Julia session, unless you do something else"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"fa5e6cdd-59a0-4987-b7af-27be43a18944","type":"message","text":"already `/usr/lib/libz.1.dylib` is wrong, and it's very strange because that's one of the first libraries that julia should load at startup","user":"UDB26738Q","ts":"1617839368.230200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lceg+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"already "},{"type":"text","text":"/usr/lib/libz.1.dylib","style":{"code":true}},{"type":"text","text":" is wrong, and it's very strange because that's one of the first libraries that julia should load at startup"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"8b374028-8392-4430-afef-b8ae2dda3a9f","type":"message","text":"Maybe I misunderstood this was","user":"UP95S4864","ts":"1617839529.230400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GDFtV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe I misunderstood this was"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"d5a4a72c-1172-49f6-857a-19c04ddd7c65","type":"message","text":"this is useful, but I wanted to see both of them :slightly_smiling_face:","user":"UDB26738Q","ts":"1617839553.230600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qy3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is useful, but I wanted to see both of them "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"ba9198b8-a86c-462e-8cdf-44020231bd76","type":"message","text":"Got it!","user":"UP95S4864","ts":"1617839563.230800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kJYkU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Got it!"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"8c665487-f6ef-4881-9184-2ccc926e2feb","type":"message","text":"also, what's the value of the environment variable `DYLD_LIBRARY_PATH`?  before I asked you about `DYLD_FALLBACK_LIBRARY_PATH`","user":"UDB26738Q","ts":"1617839623.231000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yIfA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also, what's the value of the environment variable "},{"type":"text","text":"DYLD_LIBRARY_PATH","style":{"code":true}},{"type":"text","text":"?  before I asked you about "},{"type":"text","text":"DYLD_FALLBACK_LIBRARY_PATH","style":{"code":true}}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"65d2a3e1-83b4-45f8-a6b2-1d3854713921","type":"message","text":"The gist above was after\n```using FFMPEG\nFFMPEG.exe(\"-version\")\nusing Libdl\nprintln.(dllist());```\nthis is after\n```using Libdl\nprintln.(dllist());```","user":"UP95S4864","ts":"1617839716.231200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BnsK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The gist above was after\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using FFMPEG\nFFMPEG.exe(\"-version\")\nusing Libdl\nprintln.(dllist());"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"this is after\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Libdl\nprintln.(dllist());"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"3b210de6-47d1-4d72-b8c9-bb8d055f0c39","type":"message","text":"<https://gist.github.com/agerlach/748f5d7618dde24eff7af80541d34484>","user":"UP95S4864","ts":"1617839729.231400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pk8rG","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gist.github.com/agerlach/748f5d7618dde24eff7af80541d34484"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"0577d371-3347-45ac-9d77-9a9eff5c5e97","type":"message","text":"```ENV[\"DYLD_LIBRARY_PATH\"]\n\":/Users/me/LocalInstall/lib\"```","user":"UP95S4864","ts":"1617839750.231600","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617839773.000000"},"blocks":[{"type":"rich_text","block_id":"rDE1w","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ENV[\"DYLD_LIBRARY_PATH\"]\n\":/Users/me/LocalInstall/lib\""}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"1df497d0-a07e-453a-999c-758570937194","type":"message","text":"what if you start julia with\n```DYLD_LIBRARY_PATH=\"\" julia```\n?","user":"UDB26738Q","ts":"1617839813.231900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r8w4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what if you start julia with\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"DYLD_LIBRARY_PATH=\"\" julia"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"d45eae46-5599-43df-8745-d617ee218a24","type":"message","text":"looks the same\n```julia&gt; ENV[\"DYLD_LIBRARY_PATH\"]\n\"\"\n\njulia&gt; FFMPEG.exe(\"-version\")\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0```","user":"UP95S4864","ts":"1617840041.232100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XBZwU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"looks the same\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> ENV[\"DYLD_LIBRARY_PATH\"]\n\"\"\n\njulia> FFMPEG.exe(\"-version\")\ndyld: Library not loaded: @rpath/libbz2.1.0.6.dylib\n  Referenced from: /Users/me/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg\n  Reason: Incompatible library version: ffmpeg requires version 1.0.0 or later, but libbz2.1.0.6.dylib provides version 0.0.0"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"9b555cd0-bf82-4334-92be-56a83356a70f","type":"message","text":"how are you launching julia exactly?  is `dllist()` any different at the beginning now?  it's very strange that `libz` is loaded from system libraries, that's one of the first libraries julia would load at the beginning.  also, in <https://gist.github.com/agerlach/748f5d7618dde24eff7af80541d34484> there are _many_ more libraries than what I'd expect, in a fresh session that's very strange","user":"UDB26738Q","ts":"1617840200.232300","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1617840210.000000"},"blocks":[{"type":"rich_text","block_id":"8hnvq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how are you launching julia exactly?  is "},{"type":"text","text":"dllist()","style":{"code":true}},{"type":"text","text":" any different at the beginning now?  it's very strange that "},{"type":"text","text":"libz","style":{"code":true}},{"type":"text","text":" is loaded from system libraries, that's one of the first libraries julia would load at the beginning.  also, in "},{"type":"link","url":"https://gist.github.com/agerlach/748f5d7618dde24eff7af80541d34484"},{"type":"text","text":" there are "},{"type":"text","text":"many","style":{"italic":true}},{"type":"text","text":" more libraries than what I'd expect, in a fresh session that's very strange"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"340dccb9-4ff3-4771-a225-60bc0e68b26e","type":"message","text":"`./julia`  from the terminal","user":"UP95S4864","ts":"1617842733.232600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LkZ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"./julia","style":{"code":true}},{"type":"text","text":"  from the terminal"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"856a6240-390f-4e91-9cb3-a38add6bab79","type":"message","text":"can you launch `julia` with `dtruss` and provide a trace of all loaded libraries?  I'm still very puzzled where they're coming from","user":"UDB26738Q","ts":"1617842797.232800","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1617842831.000000"},"blocks":[{"type":"rich_text","block_id":"LOG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you launch "},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"dtruss","style":{"code":true}},{"type":"text","text":" and provide a trace of all loaded libraries?  I'm still very puzzled where they're coming from"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"174f644d-f601-46dd-9df2-02b63366d61b","type":"message","text":"druss?","user":"UP95S4864","ts":"1617842817.233000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"an9tJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"druss?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"0fe5e3c8-a9ab-4b1b-bd1b-b6131e2c762b","type":"message","text":"`dtruss`, sorry, I misspelled it","user":"UDB26738Q","ts":"1617842838.233300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ebZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"dtruss","style":{"code":true}},{"type":"text","text":", sorry, I misspelled it"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"9901f871-9d91-45dc-8200-389225c4aec9","type":"message","text":"I don't think I can. I don't have root access\n```dtruss ./julia\ndtrace: system integrity protection is on, some features will not be available\ndtrace: failed to initialize dtrace: DTrace requires additional privileges```","user":"UP95S4864","ts":"1617842879.233500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xIC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think I can. I don't have root access\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"dtruss ./julia\ndtrace: system integrity protection is on, some features will not be available\ndtrace: failed to initialize dtrace: DTrace requires additional privileges"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"ec9700d9-c5dd-40ce-94ef-3a8a8cc41702","type":"message","text":"sorry, I'm not personally able to assist you further.  I know what's the error (some system libraries are being loaded, instead of those expected by julia, for example `libz`), but I don't know why and I can't offer a solution :confused:","user":"UDB26738Q","ts":"1617843132.233700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ulh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sorry, I'm not personally able to assist you further.  I know what's the error (some system libraries are being loaded, instead of those expected by julia, for example "},{"type":"text","text":"libz","style":{"code":true}},{"type":"text","text":"), but I don't know why and I can't offer a solution "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"de90e67b-3e5c-4f6c-a0cc-317cb68f403c","type":"message","text":"<@UDB26738Q> You have been extremely generous with your time. Thank you.","user":"UP95S4864","ts":"1617843336.233900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AJBuy","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" You have been extremely generous with your time. Thank you."}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"b88b35a7-8b3b-4ec0-9a6a-ba1375e52d90","type":"message","text":"You asked for the output of `dllist()`  after `DYLD_LIBRARY_PATH=\"\" ./julia`  <https://gist.github.com/agerlach/7797a45dc37c5411eb85dd971ad36032>","user":"UP95S4864","ts":"1617843433.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F3Uhk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You asked for the output of "},{"type":"text","text":"dllist()","style":{"code":true}},{"type":"text","text":"  after "},{"type":"text","text":"DYLD_LIBRARY_PATH=\"\" ./julia","style":{"code":true}},{"type":"text","text":"  "},{"type":"link","url":"https://gist.github.com/agerlach/7797a45dc37c5411eb85dd971ad36032"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"aecfa989-3bf9-4236-a30c-4598c77112cb","type":"message","text":"this is a bit weird, you seem to load `FFMPEG.jl` but there are no ffmpeg-related libraries","user":"UDB26738Q","ts":"1617843508.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AxuJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is a bit weird, you seem to load "},{"type":"text","text":"FFMPEG.jl","style":{"code":true}},{"type":"text","text":" but there are no ffmpeg-related libraries"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"1cc48716-f714-4903-b9b4-ab08e344847e","type":"message","text":"hmmmm... I think that may be a copy paste error. I'm going to rerun","user":"UP95S4864","ts":"1617843649.234500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A92qE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmmm... I think that may be a copy paste error. I'm going to rerun"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"dbd82a7d-d7a4-4636-899f-2f24dfa49596","type":"message","text":"Can you show me the output of `dllist()` without loading `FFMPEG`?","user":"U66GD0880","ts":"1617843651.234700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rJ3I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you show me the output of "},{"type":"text","text":"dllist()","style":{"code":true}},{"type":"text","text":" without loading "},{"type":"text","text":"FFMPEG","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"80dcebe7-8c74-432f-8b59-28fbed6bbb23","type":"message","text":"<https://gist.github.com/agerlach/3171814a59f0ba46ee02c56c0815dec8>","user":"UP95S4864","ts":"1617843756.234900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1eu+","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gist.github.com/agerlach/3171814a59f0ba46ee02c56c0815dec8"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"ba86cb2b-6195-46e2-b4a6-e26af5894897","type":"message","text":"Can you do `println.(sort(dllist()))` for me?","user":"U66GD0880","ts":"1617843892.235100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ja4D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you do "},{"type":"text","text":"println.(sort(dllist()))","style":{"code":true}},{"type":"text","text":" for me?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"bfb58ef1-eb51-4b74-af11-d8c0c999c090","type":"message","text":"I’m curious if there’s like some kind of antivirus or something that is linking itself in and causing `libz` to get loaded from someplace else","user":"U66GD0880","ts":"1617843929.235400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JGM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m curious if there’s like some kind of antivirus or something that is linking itself in and causing "},{"type":"text","text":"libz","style":{"code":true}},{"type":"text","text":" to get loaded from someplace else"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a2b109c9-5173-4567-b16d-9623359d524a","type":"message","text":"<https://gist.github.com/agerlach/3171814a59f0ba46ee02c56c0815dec8>","user":"UP95S4864","ts":"1617843986.235600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WFZ0X","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gist.github.com/agerlach/3171814a59f0ba46ee02c56c0815dec8"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"91427835-4211-414b-ac4b-ce080df0abb2","type":"message","text":"wait a minute","user":"U66GD0880","ts":"1617844526.235800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8k1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait a minute"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"6d605d51-27c8-4809-a42a-9643e1689c2a","type":"message","text":"you’re running an executable","user":"U66GD0880","ts":"1617844530.236000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rofNB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you’re running an executable"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"755fe41e-f1f9-4408-b30b-d7cc55e2201d","type":"message","text":"Which `libz` is loaded doesn’t actually matter","user":"U66GD0880","ts":"1617844538.236200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YSR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which "},{"type":"text","text":"libz","style":{"code":true}},{"type":"text","text":" is loaded doesn’t actually matter"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a8cb5f68-6329-4215-93d2-713002e11ab1","type":"message","text":"the only thing that matters is what the `DYLD_FALLBACK_LIBRARY_PATH` that gets used to launch `ffmpeg` is","user":"U66GD0880","ts":"1617844559.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PRf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the only thing that matters is what the "},{"type":"text","text":"DYLD_FALLBACK_LIBRARY_PATH","style":{"code":true}},{"type":"text","text":" that gets used to launch "},{"type":"text","text":"ffmpeg","style":{"code":true}},{"type":"text","text":" is"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"b307d0ac-61a1-410e-858d-3832e78189d9","type":"message","text":"but `libbz2` does matter","user":"UDB26738Q","ts":"1617844562.236600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z5+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but "},{"type":"text","text":"libbz2","style":{"code":true}},{"type":"text","text":" does matter"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"e1532d77-0dbf-4ea7-8f9c-2fbea13d6682","type":"message","text":"We can haev whatever we want linked into Julia when we launch `ffmpeg`; it doesn’t matter","user":"U66GD0880","ts":"1617844590.236800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I+N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We can haev whatever we want linked into Julia when we launch "},{"type":"text","text":"ffmpeg","style":{"code":true}},{"type":"text","text":"; it doesn’t matter"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"c7336521-a9f1-4f2a-b70f-41731938af69","type":"message","text":"because we’re not `dlopen()`’ing `ffmpeg`, we’re launching it","user":"U66GD0880","ts":"1617844599.237000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cvFY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because we’re not "},{"type":"text","text":"dlopen()","style":{"code":true}},{"type":"text","text":"’ing "},{"type":"text","text":"ffmpeg","style":{"code":true}},{"type":"text","text":", we’re launching it"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"46963483-495f-4290-9beb-c5e23856e59c","type":"message","text":"So julia can have totally different libraries loaded","user":"U66GD0880","ts":"1617844607.237200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LXE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So julia can have totally different libraries loaded"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f8729b5c-63cf-4391-aa75-e7e3915f9675","type":"message","text":"oh, right, I see what you mean","user":"UDB26738Q","ts":"1617844613.237400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3OPv0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, right, I see what you mean"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a2efae85-0f5e-4b51-9d2a-71a48c2be4e0","type":"message","text":"and which ones Julia has loaded won’t effect `ffmpeg` at all","user":"U66GD0880","ts":"1617844614.237600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3aTQ8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and which ones Julia has loaded won’t effect "},{"type":"text","text":"ffmpeg","style":{"code":true}},{"type":"text","text":" at all"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"17a33695-11c2-4b25-a2ad-1ef7137b539f","type":"message","text":"but still, the system is loading a bunch of strange libraries","user":"UDB26738Q","ts":"1617844638.237800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but still, the system is loading a bunch of strange libraries"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"19ce886a-24f0-4bbb-8a45-6d6d2322d67a","type":"message","text":"yeah it’s macOS’ fault","user":"U66GD0880","ts":"1617844690.238000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zQH2k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah it’s macOS’ fault"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"852abed5-a1c8-4ffd-b66f-b0175134778c","type":"message","text":"I actually think there’s something broken with the isolation that the loader in `cli/loader.c` is supposed  to provide","user":"U66GD0880","ts":"1617844717.238200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nPtL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I actually think there’s something broken with the isolation that the loader in "},{"type":"text","text":"cli/loader.c","style":{"code":true}},{"type":"text","text":" is supposed  to provide"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"5639ce10-6ba2-4dc5-9f94-0bde82962982","type":"message","text":"because on my machine I also get `/usr/lib/libz.1.dylib` :grimacing:","user":"U66GD0880","ts":"1617844734.238400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"twJr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because on my machine I also get "},{"type":"text","text":"/usr/lib/libz.1.dylib","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"grimacing"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"d7912dfd-f760-4bed-b25a-5792890053d8","type":"message","text":"good :grimacing:","user":"UDB26738Q","ts":"1617844750.238600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LYd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"good "},{"type":"emoji","name":"grimacing"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"a90dad2f-a001-4e6f-9265-ef77149b1b93","type":"message","text":"I actually get both","user":"U66GD0880","ts":"1617844760.238800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"69O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I actually get both"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f82eb8e0-db47-48c1-8e3c-f82253da6599","type":"message","text":"```/usr/lib/libz.1.dylib\n/Users/julia/dist/x86_64/julia-1.6.0/lib/julia/libz.1.2.11.dylib```","user":"U66GD0880","ts":"1617844771.239000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"399Y","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/usr/lib/libz.1.dylib\n/Users/julia/dist/x86_64/julia-1.6.0/lib/julia/libz.1.2.11.dylib"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"3f2195d3-1d3f-4068-8eff-f3cb4a487360","type":"message","text":"so that’s comforting :face_with_rolling_eyes:","user":"U66GD0880","ts":"1617844775.239200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C5AX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so that’s comforting "},{"type":"emoji","name":"face_with_rolling_eyes"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"934f4744-6220-4e7a-8098-21ea2dbe3330","type":"message","text":"but something linking to `libz.1.dylib` would find the former, I guess (not that for libz it makes much difference, but for other libraries it can make it)","user":"UDB26738Q","ts":"1617844809.239400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7wut","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but something linking to "},{"type":"text","text":"libz.1.dylib","style":{"code":true}},{"type":"text","text":" would find the former, I guess (not that for libz it makes much difference, but for other libraries it can make it)"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864","reactions":[{"name":"heavy_check_mark","users":["U66GD0880"],"count":1}]},{"client_msg_id":"fd5d0c2b-a533-4145-9ab6-d0c3d77b1374","type":"message","text":"<@U66GD0880> are you able to\n```using FFMPEG\nFFMPEG.exe(\"-version\")```\ni.e. is this a FFMPEG/OSX issue or a local issue","user":"UP95S4864","ts":"1617844887.239700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tWe","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" are you able to\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using FFMPEG\nFFMPEG.exe(\"-version\")"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"i.e. is this a FFMPEG/OSX issue or a local issue"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"fd274c15-78a8-4b65-b379-009775949769","type":"message","text":"Yeah, I can;\n\n```julia&gt; using FFMPEG; FFMPEG.exe(\"-version\")\nffmpeg version 4.3.1 Copyright (c) 2000-2020 the FFmpeg developers\nbuilt with clang version 9.0.1 (/home/staticfloat/.julia/dev/BinaryBuilder/deps/downloads/llvm-project.git c1a0a213378a458fbea1a5c77b315c7dce08fd05)\nconfiguration: --enable-cross-compile --cross-prefix=/opt/x86_64-apple-darwin14/bin/x86_64-apple-darwin14- --arch=x86_64 --target-os=darwin --cc=cc --cxx=c++ --dep-cc=cc --ar=ar --nm=nm --objcc=objc --sysinclude=/workspace/destdir/include --pkg-config=/usr/bin/pkg-config --pkg-config-flags=--static --prefix=/workspace/destdir --sysroot=/opt/x86_64-apple-darwin14/x86_64-apple-darwin14/sys-root --extra-libs=-lpthread --enable-gpl --enable-version3 --enable-nonfree --disable-static --enable-shared --enable-pic --disable-debug --disable-doc --enable-avresample --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libvorbis --enable-libx264 --enable-libx265 --enable-libvpx --enable-encoders --enable-decoders --enable-muxers --enable-demuxers --enable-parsers --enable-openssl --disable-schannel --extra-cflags=-I/workspace/destdir/include --extra-ldflags=-L/workspace/destdir/lib\nlibavutil      56. 51.100 / 56. 51.100\nlibavcodec     58. 91.100 / 58. 91.100\nlibavformat    58. 45.100 / 58. 45.100\nlibavdevice    58. 10.100 / 58. 10.100\nlibavfilter     7. 85.100 /  7. 85.100\nlibavresample   4.  0.  0 /  4.  0.  0\nlibswscale      5.  7.100 /  5.  7.100\nlibswresample   3.  7.100 /  3.  7.100\nlibpostproc    55.  7.100 / 55.  7.100\nProcess(`/Users/julia/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg -version`, ProcessExited(0))```","user":"U66GD0880","ts":"1617845106.239900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jIjo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I can;\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> using FFMPEG; FFMPEG.exe(\"-version\")\nffmpeg version 4.3.1 Copyright (c) 2000-2020 the FFmpeg developers\nbuilt with clang version 9.0.1 (/home/staticfloat/.julia/dev/BinaryBuilder/deps/downloads/llvm-project.git c1a0a213378a458fbea1a5c77b315c7dce08fd05)\nconfiguration: --enable-cross-compile --cross-prefix=/opt/x86_64-apple-darwin14/bin/x86_64-apple-darwin14- --arch=x86_64 --target-os=darwin --cc=cc --cxx=c++ --dep-cc=cc --ar=ar --nm=nm --objcc=objc --sysinclude=/workspace/destdir/include --pkg-config=/usr/bin/pkg-config --pkg-config-flags=--static --prefix=/workspace/destdir --sysroot=/opt/x86_64-apple-darwin14/x86_64-apple-darwin14/sys-root --extra-libs=-lpthread --enable-gpl --enable-version3 --enable-nonfree --disable-static --enable-shared --enable-pic --disable-debug --disable-doc --enable-avresample --enable-libass --enable-libfdk-aac --enable-libfreetype --enable-libmp3lame --enable-libopus --enable-libvorbis --enable-libx264 --enable-libx265 --enable-libvpx --enable-encoders --enable-decoders --enable-muxers --enable-demuxers --enable-parsers --enable-openssl --disable-schannel --extra-cflags=-I/workspace/destdir/include --extra-ldflags=-L/workspace/destdir/lib\nlibavutil      56. 51.100 / 56. 51.100\nlibavcodec     58. 91.100 / 58. 91.100\nlibavformat    58. 45.100 / 58. 45.100\nlibavdevice    58. 10.100 / 58. 10.100\nlibavfilter     7. 85.100 /  7. 85.100\nlibavresample   4.  0.  0 /  4.  0.  0\nlibswscale      5.  7.100 /  5.  7.100\nlibswresample   3.  7.100 /  3.  7.100\nlibpostproc    55.  7.100 / 55.  7.100\nProcess(`/Users/julia/.julia/artifacts/c28cdc80b48b1077c8fc57d8e94e6eb9c1a4a776/bin/ffmpeg -version`, ProcessExited(0))"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"2886e208-2c0d-4ad7-bc6b-d95feb1efbf9","type":"message","text":"I’m using the official 1.6.0 binaries just unpacked into my home directory","user":"U66GD0880","ts":"1617845116.240100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XrrKg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m using the official 1.6.0 binaries just unpacked into my home directory"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f48328ef-9c90-4032-9574-0dcc78668f83","type":"message","text":"there’s definitely something screwed up in your configuration, but I unfortunately can’t help you track it down right now","user":"U66GD0880","ts":"1617845169.240300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tHl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there’s definitely something screwed up in your configuration, but I unfortunately can’t help you track it down right now"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"3922ae27-c0c7-4906-afe2-bf4e614d9fc6","type":"message","text":"I suggest you open an issue and tag me","user":"U66GD0880","ts":"1617845174.240500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=WJN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I suggest you open an issue and tag me"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"6c8199db-285a-4f53-8f73-a7b3deb8b624","type":"message","text":"at the JuliaLang/julia repo?","user":"UP95S4864","ts":"1617845235.240700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/79EM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"at the JuliaLang/julia repo?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"fe003030-4e17-45af-8998-e448ccc8f251","type":"message","text":"Probably the Yggdrasil repo is best","user":"U66GD0880","ts":"1617845313.240900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9r=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Probably the Yggdrasil repo is best"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"5b993667-c0cb-4c93-bdaa-beadf1c82919","type":"message","text":"<https://github.com/JuliaPackaging/Yggdrasil/>","user":"U66GD0880","ts":"1617845322.241100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n97u","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"3787a0d5-8272-458e-a2f1-e0429ccb1fc1","type":"message","text":"we tend to track issues with this part of the ecosystem here","user":"U66GD0880","ts":"1617845329.241300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jJrf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we tend to track issues with this part of the ecosystem here"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"8863c529-325d-42a0-b64a-fb182a451353","type":"message","text":"Roger that. Are there particular details of what we test here that you want copied over?","user":"UP95S4864","ts":"1617845417.241500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6k3k0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Roger that. Are there particular details of what we test here that you want copied over?"}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"},{"client_msg_id":"f7a45dc8-54af-41f1-af41-f7e7e683107f","type":"message","text":"As another data point. I've been using Julia on this machine since 0.6 and FFMPEG is the only thing that has given me this type of problem.","user":"UP95S4864","ts":"1617845484.241700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/UURF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As another data point. I've been using Julia on this machine since 0.6 and FFMPEG is the only thing that has given me this type of problem."}]}]}],"thread_ts":"1617806411.149800","parent_user_id":"UP95S4864"}]