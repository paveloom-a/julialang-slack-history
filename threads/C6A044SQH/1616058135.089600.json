[{"client_msg_id":"7a05163b-fd1b-472f-85f3-01c720ce6694","type":"message","text":"I have a `HxWx3` matrix and I would like to reshape it into a `HWx3` matrix, so that each row is the new matrix corresponds to an array in the third dimension of the original one (i.e. `X[i,j,:]` is a row of the new array, sorry if my terminology is not rigorous). What's the most efficient way to do so?","user":"U012RPHRSP3","ts":"1616058135.089600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xLA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a "},{"type":"text","text":"HxWx3","style":{"code":true}},{"type":"text","text":" matrix and I would like to reshape it into a "},{"type":"text","text":"HWx3","style":{"code":true}},{"type":"text","text":" matrix, so that each row is the new matrix corresponds to an array in the third dimension of the original one (i.e. "},{"type":"text","text":"X[i,j,:]","style":{"code":true}},{"type":"text","text":" is a row of the new array, sorry if my terminology is not rigorous). What's the most efficient way to do so?"}]}]}],"thread_ts":"1616058135.089600","reply_count":4,"reply_users_count":4,"latest_reply":"1616073366.098000","reply_users":["B01J9QZ4SP8","U01PLQWQXPV","U012RPHRSP3","U0179G7FG4F"],"is_locked":false,"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616058137.089700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616058135.089600","parent_user_id":"U012RPHRSP3"},{"client_msg_id":"9e2a9bfc-a4fd-4132-8d17-b24f89b2f0ac","type":"message","text":"Julia stores the data column wise so if you were to flatten the original 3-tensor, it would be like `(a_111, a_211, a_311, ..., a_121, a221, a321, ....)` so the reshaping operation you want does not require any shuffling of elements\n\n```m = zeros(H, W, 3)\nm = reshape(m, H*W, 3)```\nThe data in memory is the same, it just changes how you access it (with 2 indices instead of 3 as before).\n\n`m[i + (j-1) * H, :]` in the new matrix then corresponds to `m[i, j, :]` on the 3-tensor","user":"U01PLQWQXPV","ts":"1616058757.090000","team":"T68168MUP","edited":{"user":"U01PLQWQXPV","ts":"1616058988.000000"},"blocks":[{"type":"rich_text","block_id":"zKlZ7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia stores the data column wise so if you were to flatten the original 3-tensor, it would be like "},{"type":"text","text":"(a_111, a_211, a_311, ..., a_121, a221, a321, ....)","style":{"code":true}},{"type":"text","text":" so the reshaping operation you want does not require any shuffling of elements\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"m = zeros(H, W, 3)\nm = reshape(m, H*W, 3)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The data in memory is the same, it just changes how you access it (with 2 indices instead of 3 as before).\n\n"},{"type":"text","text":"m[i + (j-1) * H, :]","style":{"code":true}},{"type":"text","text":" in the new matrix then corresponds to "},{"type":"text","text":"m[i, j, :]","style":{"code":true}},{"type":"text","text":" on the 3-tensor"}]}]}],"thread_ts":"1616058135.089600","parent_user_id":"U012RPHRSP3","reactions":[{"name":"+1","users":["U012RPHRSP3"],"count":1}]},{"client_msg_id":"9b4610a1-1c20-4f56-a1d4-5f7e9ff2c07e","type":"message","text":"fantastic! thank you! :smile:","user":"U012RPHRSP3","ts":"1616058882.090400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FmWYi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fantastic! thank you! "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616058135.089600","parent_user_id":"U012RPHRSP3"},{"client_msg_id":"a9f88f4a-f92f-4e7c-9a19-3290bb8a143f","type":"message","text":"You also can use `reinterpret` which will be 0 cost as it shared the same data","user":"U0179G7FG4F","ts":"1616073366.098000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qu3YC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You also can use "},{"type":"text","text":"reinterpret ","style":{"code":true}},{"type":"text","text":"which will be 0 cost as it shared the same data"}]}]}],"thread_ts":"1616058135.089600","parent_user_id":"U012RPHRSP3"}]