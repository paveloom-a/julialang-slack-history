[{"client_msg_id":"36aaba6b-f19e-4c37-85a6-61235f13350d","type":"message","text":"I want to define a function that returns a function.  Below is my attempt that doesn't work. Can someone help me in doing this correctly?\n```function return_function(pick_one)\n      if pick_one == \"sin\"\n             f(x) = sin(x)\n      elseif pick_one == \"cos\"\n             f(x) = cos(x)\n      else\n             print(\"must pick sin or cos\\n\")\n      end\n      return f(x)\nend\n\nf = return_function(\"sin\")\n\nf(1)```\nThis is not exactly what I want to do but basically return to return a function `f(x)` and not sure how to do that.","user":"U01FBLBCP7S","ts":"1618071879.462600","team":"T68168MUP","edited":{"user":"U01FBLBCP7S","ts":"1618072138.000000"},"blocks":[{"type":"rich_text","block_id":"ML8W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to define a function that returns a function.  Below is my attempt that doesn't work. Can someone help me in doing this correctly?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function return_function(pick_one)\n      if pick_one == \"sin\"\n             f(x) = sin(x)\n      elseif pick_one == \"cos\"\n             f(x) = cos(x)\n      else\n             print(\"must pick sin or cos\\n\")\n      end\n      return f(x)\nend\n\nf = return_function(\"sin\")\n\nf(1)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"This is not exactly what I want to do but basically return to return a function "},{"type":"text","text":"f(x)","style":{"code":true}},{"type":"text","text":" and not sure how to do that."}]}]}],"thread_ts":"1618071879.462600","reply_count":10,"reply_users_count":3,"latest_reply":"1618164232.024900","reply_users":["UDB26738Q","U01FBLBCP7S","UDSG73JTH"],"is_locked":false,"subscribed":false},{"client_msg_id":"59eaa491-9887-44c4-8d3a-b624779ae225","type":"message","text":"note that due to a bug in Julia you can't define functions conditionally inside a function","user":"UDB26738Q","ts":"1618071926.462700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ma7Y7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"note that due to a bug in Julia you can't define functions conditionally inside a function"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"516b72ec-ad9c-4838-b191-616a0edf3d0d","type":"message","text":"(also, your code looks incomplete :wink:)","user":"UDB26738Q","ts":"1618071943.462900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6YBkg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(also, your code looks incomplete "},{"type":"emoji","name":"wink"},{"type":"text","text":")"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"ab2a7e19-d542-4c8d-9dbe-ae9b099b8c3a","type":"message","text":"Sorry, I posted before I was done.  Now it's a bit more complete, but still doesn't work","user":"U01FBLBCP7S","ts":"1618072173.465800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nrP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry, I posted before I was done.  Now it's a bit more complete, but still doesn't work"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"9353aeb9-1b84-4897-b3ca-792a926e94c3","type":"message","text":"But it sounds like I can't do this, so I shouldn't be trying.","user":"U01FBLBCP7S","ts":"1618072193.466300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uHrB1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But it sounds like I can't do this, so I shouldn't be trying."}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"9eca3a31-674a-44c2-8b39-a3da50f3a558","type":"message","text":"Thanks <@UDB26738Q>, I appreciate the quick reply","user":"U01FBLBCP7S","ts":"1618072206.466500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eh/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":", I appreciate the quick reply"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"0b502c7f-fa89-400d-8eb1-e412eebc8882","type":"message","text":"I guess maybe instead I can dispactch on one function or another.  I will give that a try","user":"U01FBLBCP7S","ts":"1618072249.466900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g+Wl0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess maybe instead I can dispactch on one function or another.  I will give that a try"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"38e27b60-a42a-4dd7-9101-96f28c68bc19","type":"message","text":"you can do this:\n```julia&gt; function return_function(pick_one)\n           return if pick_one == \"sin\"\n               sin\n           elseif pick_one == \"cos\"\n               cos\n           else\n               error(\"must pick sin or cos\")\n           end\n       end\nreturn_function (generic function with 1 method)\n\njulia&gt; return_function(\"sin\")\nsin (generic function with 14 methods)\n\njulia&gt; return_function(\"cos\")\ncos (generic function with 14 methods)\n\njulia&gt; return_function(\"exp\")\nERROR: must pick sin or cos\nStacktrace:\n [1] error(s::String)\n   @ Base ./error.jl:33\n [2] return_function(pick_one::String)\n   @ Main ./REPL[12]:7\n [3] top-level scope\n   @ REPL[15]:1\n\njulia&gt; return_function(\"cos\")(1)\n0.5403023058681398\n\njulia&gt; return_function(\"sin\")(1)\n0.8414709848078965```","user":"UDB26738Q","ts":"1618072260.467100","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1618072317.000000"},"blocks":[{"type":"rich_text","block_id":"P0FQS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can do this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> function return_function(pick_one)\n           return if pick_one == \"sin\"\n               sin\n           elseif pick_one == \"cos\"\n               cos\n           else\n               error(\"must pick sin or cos\")\n           end\n       end\nreturn_function (generic function with 1 method)\n\njulia> return_function(\"sin\")\nsin (generic function with 14 methods)\n\njulia> return_function(\"cos\")\ncos (generic function with 14 methods)\n\njulia> return_function(\"exp\")\nERROR: must pick sin or cos\nStacktrace:\n [1] error(s::String)\n   @ Base ./error.jl:33\n [2] return_function(pick_one::String)\n   @ Main ./REPL[12]:7\n [3] top-level scope\n   @ REPL[15]:1\n\njulia> return_function(\"cos\")(1)\n0.5403023058681398\n\njulia> return_function(\"sin\")(1)\n0.8414709848078965"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"a5baa591-8388-482a-89f6-76ec6aa8492f","type":"message","text":"Very nice solution <@UDB26738Q>, thanks for sharing this with me. I think I can use this to do what I was planning to do.  Cheers!","user":"U01FBLBCP7S","ts":"1618081989.489200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CPdX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Very nice solution "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":", thanks for sharing this with me. I think I can use this to do what I was planning to do.  Cheers!"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"b7fb7a90-41bb-4a5e-bf4a-09cf34121377","type":"message","text":"```function return_function(pick_one)\n   return x -&gt; if pick_one == \"sin\"\n       sin(x)\n   elseif pick_one == \"cos\"\n       cos(x)\n   else\n       error(\"must pick sin or cos\")\n   end\nend```\ngives you type stability `@code_warntype return_function(\"cos\")`","user":"UDSG73JTH","ts":"1618085871.495000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QhW7L","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function return_function(pick_one)\n   return x -> if pick_one == \"sin\"\n       sin(x)\n   elseif pick_one == \"cos\"\n       cos(x)\n   else\n       error(\"must pick sin or cos\")\n   end\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"gives you type stability "},{"type":"text","text":"@code_warntype return_function(\"cos\")","style":{"code":true}}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"},{"client_msg_id":"a9c2e44b-2b43-496b-abaa-3b27057d327e","type":"message","text":"Thanks <@UDSG73JTH>!","user":"U01FBLBCP7S","ts":"1618164232.024900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hRY7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"UDSG73JTH"},{"type":"text","text":"!"}]}]}],"thread_ts":"1618071879.462600","parent_user_id":"U01FBLBCP7S"}]