[{"client_msg_id":"7d03b445-7ab0-4723-90c4-f09d4138caed","type":"message","text":"when doing split-apply-combine with a DataFrame is there anyway for the apply transoformations to reference previously calculated variables?\n```df = DataFrame(a=repeat([1,2],inner=[5]), b='A':'J', c=rand(10))\ngdf = groupby(df, :a)\ncombine(gdf, nrow =&gt; :n, :c =&gt; mean =&gt; :m, [:n, :m] =&gt; ((n,m)-&gt;n-m) =&gt; :y) #doesn't work :n and :m are not visible here```","user":"U6CFMFM2R","ts":"1609792995.206300","team":"T68168MUP","edited":{"user":"U6CFMFM2R","ts":"1609793325.000000"},"blocks":[{"type":"rich_text","block_id":"tr2z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when doing split-apply-combine with a DataFrame is there anyway for the apply transoformations to reference previously calculated variables?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"df = DataFrame(a=repeat([1,2],inner=[5]), b='A':'J', c=rand(10))\ngdf = groupby(df, :a)\ncombine(gdf, nrow => :n, :c => mean => :m, [:n, :m] => ((n,m)->n-m) => :y) #doesn't work :n and :m are not visible here"}]}]}],"thread_ts":"1609792995.206300","reply_count":1,"reply_users_count":1,"latest_reply":"1609796522.214100","reply_users":["U6CFMFM2R"],"subscribed":false},{"client_msg_id":"2443a8a6-330c-4616-95e0-86f9b4ae939b","type":"message","text":"I'll move this over to discourse:\n<https://discourse.julialang.org/t/how-to-reference-new-variables-in-a-combine-for-dataframes/52851>","user":"U6CFMFM2R","ts":"1609796522.214100","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"How to reference new variables in a combine for dataframes?","title_link":"https://discourse.julialang.org/t/how-to-reference-new-variables-in-a-combine-for-dataframes/52851","text":"Posted this on slack, but I think I’ll move over to using discourse more (I’ll post a cross link) when doing split-apply-combine with a DataFrame is there anyway for the apply transformations to reference previously calculated variables? df = DataFrame(a=repeat([1,2],inner=[5]), b='A':'J', c=rand(10)) gdf = groupby(df, :a) combine(gdf, nrow =&gt; :n, :c =&gt; mean =&gt; :m, [:n, :m] =&gt; ((n,m)-&gt;n-m) =&gt; :y) #doesn't work :n and :m are not visible here","fallback":"JuliaLang: How to reference new variables in a combine for dataframes?","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1609796505,"from_url":"https://discourse.julialang.org/t/how-to-reference-new-variables-in-a-combine-for-dataframes/52851","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/how-to-reference-new-variables-in-a-combine-for-dataframes/52851"}],"blocks":[{"type":"rich_text","block_id":"ylJDZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll move this over to discourse:\n"},{"type":"link","url":"https://discourse.julialang.org/t/how-to-reference-new-variables-in-a-combine-for-dataframes/52851"}]}]}],"thread_ts":"1609792995.206300","parent_user_id":"U6CFMFM2R"}]