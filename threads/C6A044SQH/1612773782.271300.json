[{"client_msg_id":"9acaa4c3-1c4e-44a1-a66f-90684a2c3996","type":"message","text":"Is there a way to use the 4-argument `@nloops` with `@generated` on Julia 1.6? Since the last argument is an anonymous function, it triggers an error about purity now. StatsBase currently uses that so it fails on nightlies: <https://github.com/JuliaStats/StatsBase.jl/blob/3b0b2da5179af9696928e5ecc72794b098c4cb53/src/hist.jl#L465>","user":"U67431ELR","ts":"1612773782.271300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SBIO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to use the 4-argument "},{"type":"text","text":"@nloops","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"@generated","style":{"code":true}},{"type":"text","text":" on Julia 1.6? Since the last argument is an anonymous function, it triggers an error about purity now. StatsBase currently uses that so it fails on nightlies: "},{"type":"link","url":"https://github.com/JuliaStats/StatsBase.jl/blob/3b0b2da5179af9696928e5ecc72794b098c4cb53/src/hist.jl#L465"}]}]}],"thread_ts":"1612773782.271300","reply_count":6,"reply_users_count":3,"latest_reply":"1612784656.276200","reply_users":["B01J9QZ4SP8","UM30MT6RF","U67431ELR"],"subscribed":false,"reactions":[{"name":"bridge","users":["U67431ELR"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612773784.271400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/54830| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1612773853.271700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"},{"client_msg_id":"ed0d1b27-d6aa-4d51-9d5c-bed31c20e5e9","type":"message","text":"Perhaps the easiest solution here would be just to use a regular for loop with `CartesianIndices` instead of `@nloops`","user":"UM30MT6RF","ts":"1612774189.271900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+LEOP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Perhaps the easiest solution here would be just to use a regular for loop with "},{"type":"text","text":"CartesianIndices","style":{"code":true}},{"type":"text","text":" instead of "},{"type":"text","text":"@nloops","style":{"code":true}}]}]}],"thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"},{"client_msg_id":"919ee35c-9e81-4821-a566-85ab371eea24","type":"message","text":"Yeah probably. Though that requires diving into the logic of that function and I don't know anything about it. :slightly_smiling_face:","user":"U67431ELR","ts":"1612774772.272100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YCM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah probably. Though that requires diving into the logic of that function and I don't know anything about it. "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"},{"client_msg_id":"9188bb3d-0d96-4bd2-bb35-27af6738da42","type":"message","text":"I'll add a mention to the docs if that particular method doesn't work with `@generated` now.","user":"U67431ELR","ts":"1612775391.273500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Pt3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll add a mention to the docs if that particular method doesn't work with "},{"type":"text","text":"@generated","style":{"code":true}},{"type":"text","text":" now."}]}]}],"thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"},{"type":"message","subtype":"bot_message","text":"Hey <@U67431ELR>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1612784656.276200","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612773782.271300","parent_user_id":"U67431ELR"}]