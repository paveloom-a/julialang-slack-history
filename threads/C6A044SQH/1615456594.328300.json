[{"client_msg_id":"acf91317-efcb-4e4a-8c1d-a9b27cc42ca2","type":"message","text":"hi, I have a problem where Julia being too smart causes it to call `LinearAlgebra._generic_matmatmul!`  and `LinearAlgebra.copy_transpose!`  from somewhere in my code. I have some custom types that are derived from `AbstractArray` , so I am pretty sure that this is the cause but I cannot see exactly how that happens. So I would like to know on which typers exactly these get called. What tools could you recommend to figure this out?","user":"U01L0RJC6FM","ts":"1615456594.328300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LzPi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hi, I have a problem where Julia being too smart causes it to call "},{"type":"text","text":"LinearAlgebra._generic_matmatmul!","style":{"code":true}},{"type":"text","text":"  and "},{"type":"text","text":"LinearAlgebra.copy_transpose!","style":{"code":true}},{"type":"text","text":"  from somewhere in my code. I have some custom types that are derived from "},{"type":"text","text":"AbstractArray","style":{"code":true}},{"type":"text","text":" , so I am pretty sure that this is the cause but I cannot see exactly how that happens. So I would like to know on which typers exactly these get called. What tools could you recommend to figure this out?"}]}]}],"thread_ts":"1615456594.328300","reply_count":10,"reply_users_count":3,"latest_reply":"1615466716.343300","reply_users":["B01J9QZ4SP8","UH24GRBLL","U01L0RJC6FM"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615456595.328400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"175ada65-eca8-4f31-a4d2-7767bd28d221","type":"message","text":"at least the first one is a fallback method for `AbstractArray` things when doing `A * B`","user":"UH24GRBLL","ts":"1615457613.328900","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1615457626.000000"},"blocks":[{"type":"rich_text","block_id":"j9oN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"at least the first one is a fallback method for "},{"type":"text","text":"AbstractArray","style":{"code":true}},{"type":"text","text":" things when doing "},{"type":"text","text":"A * B","style":{"code":true}}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"dbda5d13-f5d8-4b02-b639-85d739534405","type":"message","text":"why is those methods being called \"too smart\" in your case?","user":"UH24GRBLL","ts":"1615457663.329200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xW4I4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why is those methods being called \"too smart\" in your case?"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"9aadaf7a-a3f1-4ea4-8a9b-1cee25504711","type":"message","text":"One way to find out (if it works otherwise and it doesn't throw anywhere) is to run the profiler and check which methods get called","user":"UH24GRBLL","ts":"1615457698.329400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"noi0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One way to find out (if it works otherwise and it doesn't throw anywhere) is to run the profiler and check which methods get called"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"967470cd-4141-4f79-bba1-71a84e60ffd6","type":"message","text":"well too smart might have been a bad choice of words.... it is unexpected because I have multiple special Matrix formats such as LowRankMatrices etc., for which there should be no need to call the fallback","user":"U01L0RJC6FM","ts":"1615459875.334800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NyBr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well too smart might have been a bad choice of words.... it is unexpected because I have multiple special Matrix formats such as LowRankMatrices etc., for which there should be no need to call the fallback"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"dc5ecd5d-c519-4a47-bc63-0418d760428c","type":"message","text":"the code runs, but it is infuriatingly slow and the culprit is the fallback, which computes the matrix entry by entry which is of course not what i want","user":"U01L0RJC6FM","ts":"1615459916.335300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7D15h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the code runs, but it is infuriatingly slow and the culprit is the fallback, which computes the matrix entry by entry which is of course not what i want"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"fc9820e7-f192-4148-9617-c71e629162b4","type":"message","text":"so my problem is what would be a good way of figuring out with which arguments the fallback is called?","user":"U01L0RJC6FM","ts":"1615459960.335900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"np+/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so my problem is what would be a good way of figuring out with which arguments the fallback is called?"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"7edf07d1-9507-4e8e-936b-baf8acd56c91","type":"message","text":"yeah, probably Profile would be best - or you step through a sample code where you can observe the problem with Debugger.jl","user":"UH24GRBLL","ts":"1615461362.341100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tmg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, probably Profile would be best - or you step through a sample code where you can observe the problem with Debugger.jl"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"8932e405-0417-45e1-baa5-2aacb3d15c0a","type":"message","text":"from the sounds of it, somewhere along the way broadcasting needed a common container to fill elements into and `Array` was that fallback container","user":"UH24GRBLL","ts":"1615461589.341300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HfAJU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"from the sounds of it, somewhere along the way broadcasting needed a common container to fill elements into and "},{"type":"text","text":"Array","style":{"code":true}},{"type":"text","text":" was that fallback container"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"},{"client_msg_id":"bbd7b2d8-2fc5-4057-ab0f-f2706d6c35cf","type":"message","text":"aha interesting.. that might be the issue at hand indeed","user":"U01L0RJC6FM","ts":"1615466716.343300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3kP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"aha interesting.. that might be the issue at hand indeed"}]}]}],"thread_ts":"1615456594.328300","parent_user_id":"U01L0RJC6FM"}]