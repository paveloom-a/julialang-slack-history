[{"client_msg_id":"bab692ac-1bdb-412c-9a3e-b5a3c6fefa52","type":"message","text":"Would be great if `@btime`  printed both compilation and execution time. Is there a way to do that?","user":"UEA5FBCRH","ts":"1615496257.389400","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1615496480.000000"},"blocks":[{"type":"rich_text","block_id":"x5EOA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would be great if "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":"  printed both compilation and execution time. Is there a way to do that?"}]}]}],"thread_ts":"1615496257.389400","reply_count":41,"reply_users_count":4,"latest_reply":"1615505243.412500","reply_users":["B01J9QZ4SP8","UDB26738Q","UEA5FBCRH","U8MPCDJAY"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615496258.389500","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"7dc99dda-6476-4f6c-977c-9588e02b7394","type":"message","text":"`@time` does that in v1.6","user":"UDB26738Q","ts":"1615496713.390000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oGu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" does that in v1.6"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH","reactions":[{"name":"+1","users":["UEA5FBCRH"],"count":1}]},{"client_msg_id":"444bdd89-28f6-42c5-9db0-a499083f5826","type":"message","text":"That's awesome! Thanks. Gonna try it out.","user":"UEA5FBCRH","ts":"1615496871.390200","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1615496900.000000"},"blocks":[{"type":"rich_text","block_id":"9PG1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's awesome! Thanks. Gonna try it out."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b56a195d-b169-4a18-a150-2e70d5c4c43c","type":"message","text":"And prior to v1.6, how would people normally measure compilation time?","user":"UEA5FBCRH","ts":"1615497131.390500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YmY=U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And prior to v1.6, how would people normally measure compilation time?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"A777EE2C-10CE-4C24-AF38-B8B9F03BECEC","type":"message","text":"Run it twice and subtract the 2nd from the first, roughly","user":"U8MPCDJAY","ts":"1615497371.392200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i+y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Run it twice and subtract the 2nd from the first, roughly"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"8df6e009-66ff-4ec5-8115-a31cc711f20f","type":"message","text":"Should have thought about that... thanks <@U8MPCDJAY>","user":"UEA5FBCRH","ts":"1615497632.392700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lsU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should have thought about that... thanks "},{"type":"user","user_id":"U8MPCDJAY"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH","reactions":[{"name":"+1","users":["U8MPCDJAY"],"count":1}]},{"client_msg_id":"1b041200-d75e-4fa7-a9ba-b7d609a5d56f","type":"message","text":"<@UDB26738Q> I installed v1.6 and tried out `@time` . I don't seem to understand the compilation time output. The first time I run a block of code it outputs:\n```  0.795586 seconds (1.29 M allocations: 65.692 MiB, 4.49% gc time, 99.98% compilation time)```\nand the second time:\n```0.278332 seconds (69.04 k allocations: 2.845 MiB, 99.95% compilation time)```\nWhy is the compilation time percentage so similar in both runs? and is there a way to get actual time instead of a percentage?","user":"UEA5FBCRH","ts":"1615501872.395600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nxu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" I installed v1.6 and tried out "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" . I don't seem to understand the compilation time output. The first time I run a block of code it outputs:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"  0.795586 seconds (1.29 M allocations: 65.692 MiB, 4.49% gc time, 99.98% compilation time)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and the second time:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"0.278332 seconds (69.04 k allocations: 2.845 MiB, 99.95% compilation time)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Why is the compilation time percentage so similar in both runs? and is there a way to get actual time instead of a percentage?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"c2f80077-1150-41af-8cf5-6ab1e1e66f78","type":"message","text":"I would expect the compilation time percentage in the second run to be very small since everything was compiled in the first run already. Am I misunderstanding something?","user":"UEA5FBCRH","ts":"1615501987.395800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x5Ec2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would expect the compilation time percentage in the second run to be very small since everything was compiled in the first run already. Am I misunderstanding something?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"04f3091e-d846-4d9d-b748-c47cc909b310","type":"message","text":"is it a function that you’re testing?","user":"U8MPCDJAY","ts":"1615502007.396000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"imb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is it a function that you’re testing?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"1c6a17c0-df53-4e66-be79-2027ddcad7c2","type":"message","text":"or maybe something is being actually recompiled :slightly_smiling_face:","user":"UDB26738Q","ts":"1615502026.396300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FNn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or maybe something is being actually recompiled "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b132b110-406a-42f6-99a6-85c944417134","type":"message","text":"just checking you’re not doing something like `@time include(\"script.jl\")`","user":"U8MPCDJAY","ts":"1615502038.397000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kgXJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just checking you’re not doing something like "},{"type":"text","text":"@time include(\"script.jl\")","style":{"code":true}}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"3bed5bcf-f75e-478d-a025-4de7c2dcde69","type":"message","text":"yes:\n```using BenchmarkTools\n\nN = 12\nnelements = 2\nshape = ntuple(_ -&gt; nelements, N)\n\nnormal_array = 1:(nelements^N) |&gt; x -&gt; reshape(x, shape...) |&gt; float |&gt; collect\n\nfunction bench1(normal_array)\n  normal_array .* normal_array\nend\n\n@time bench1(normal_array)```","user":"UEA5FBCRH","ts":"1615502041.397200","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1615502079.000000"},"blocks":[{"type":"rich_text","block_id":"by=nm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using BenchmarkTools\n\nN = 12\nnelements = 2\nshape = ntuple(_ -> nelements, N)\n\nnormal_array = 1:(nelements^N) |> x -> reshape(x, shape...) |> float |> collect\n\nfunction bench1(normal_array)\n  normal_array .* normal_array\nend\n\n@time bench1(normal_array)"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"ccad298a-06b9-40fd-ad09-539865743e08","type":"message","text":"```julia&gt; @time bench1(normal_array);\n  0.426467 seconds (1.04 M allocations: 52.640 MiB, 3.85% gc time, 99.98% compilation time)\n\njulia&gt; @time bench1(normal_array);\n  0.000090 seconds (3 allocations: 32.250 KiB)\n\njulia&gt; @time bench1(normal_array);\n  0.000090 seconds (3 allocations: 32.250 KiB)```","user":"U8MPCDJAY","ts":"1615502084.398100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IuVB","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @time bench1(normal_array);\n  0.426467 seconds (1.04 M allocations: 52.640 MiB, 3.85% gc time, 99.98% compilation time)\n\njulia> @time bench1(normal_array);\n  0.000090 seconds (3 allocations: 32.250 KiB)\n\njulia> @time bench1(normal_array);\n  0.000090 seconds (3 allocations: 32.250 KiB)"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH","reactions":[{"name":"point_up","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"74e1475b-5889-4211-9d23-6f478daefb68","type":"message","text":"are you running that in the REPL line by line?","user":"U8MPCDJAY","ts":"1615502126.398900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eHy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you running that in the REPL line by line?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"a54c4875-2135-441d-80e0-e5f0392ed9bb","type":"message","text":"hmm.. I'm getting the \"compilation time\" info in every run.","user":"UEA5FBCRH","ts":"1615502129.399100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rWVG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm.. I'm getting the \"compilation time\" info in every run."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"aaf46932-b2ff-4102-b991-e37f17b23c65","type":"message","text":"I have the same as Ian","user":"UDB26738Q","ts":"1615502137.399700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zysI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have the same as Ian"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"42a49a63-1d81-4f1c-832b-83ae4fc5cda1","type":"message","text":"Yes. I use vim + tmux.. I use the `include_string(main, clpboard())` command to send the info.","user":"UEA5FBCRH","ts":"1615502167.399900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rMD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. I use vim + tmux.. I use the "},{"type":"text","text":"include_string(main, clpboard())","style":{"code":true}},{"type":"text","text":" command to send the info."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"cb2fc42c-e48f-4e28-bf16-1d475556a401","type":"message","text":"Is that a problem?","user":"UEA5FBCRH","ts":"1615502178.400100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qQMP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is that a problem?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"da65d932-2a77-4edd-8ed9-eef4d76d3d04","type":"message","text":"so you redefine the function every time?","user":"UDB26738Q","ts":"1615502185.400300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V50","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so you redefine the function every time?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"17f7f3f3-03ac-4d3e-b478-9365fc6b45d7","type":"message","text":"I guess I am.","user":"UEA5FBCRH","ts":"1615502197.400500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jQl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess I am."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"17a81ff8-e29b-44f6-b4bc-c6e2c4747860","type":"message","text":"well... :slightly_smiling_face:","user":"UDB26738Q","ts":"1615502204.400700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l40Ch","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well... "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"3d4baf3c-3bbe-4e6d-aa53-5cf03a54dcd5","type":"message","text":"hmm.. if I put it in a package and use `using` that wouldn't happen.. right?","user":"UEA5FBCRH","ts":"1615502236.400900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l+yc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm.. if I put it in a package and use "},{"type":"text","text":"using","style":{"code":true}},{"type":"text","text":" that wouldn't happen.. right?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"72263775-167a-4942-a6d7-e1db46a50fd0","type":"message","text":"just call `@time ...` again in the REPL","user":"UDB26738Q","ts":"1615502251.401100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n08","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just call "},{"type":"text","text":"@time ...","style":{"code":true}},{"type":"text","text":" again in the REPL"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"9f39ceb6-0478-45c8-8bf9-12c2f3fde62e","type":"message","text":"if you always redefine the function before `@time` the function will always need to be recompiled","user":"UDB26738Q","ts":"1615502271.401300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qF5C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you always redefine the function before "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" the function will always need to be recompiled"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"2162a184-bbe9-46c2-b372-9845ee553d16","type":"message","text":"Julia doesn't know the definition is the same as before","user":"UDB26738Q","ts":"1615502279.401500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bv60E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia doesn't know the definition is the same as before"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"07ebb87b-9a92-4839-8809-a341e507c61b","type":"message","text":"or call `@time ...` twice in your script","user":"UDB26738Q","ts":"1615502298.401700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iV7C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or call "},{"type":"text","text":"@time ...","style":{"code":true}},{"type":"text","text":" twice in your script"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"12b5d35a-23b2-4c81-9e1b-d0bbcc9eb19b","type":"message","text":"I see. Oops.","user":"UEA5FBCRH","ts":"1615502318.401900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dMmRz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see. Oops."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"1fd33454-a58e-44b9-9126-d8f114f9758a","type":"message","text":"Thanks for the help!","user":"UEA5FBCRH","ts":"1615502377.402100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S/s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the help!"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"8bbc94a7-1052-4891-a03d-6cabf9a41990","type":"message","text":"The reason why I thought that this wasn't a problem was because the time reported in the first run was actually larger thatn the second.","user":"UEA5FBCRH","ts":"1615502423.402800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LYZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The reason why I thought that this wasn't a problem was because the time reported in the first run was actually larger thatn the second."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"6bf453df-b4fe-4f06-85a1-089a5f0aa083","type":"message","text":"But now I understand that it is due to the compilation of the `@time` macro","user":"UEA5FBCRH","ts":"1615502498.403400","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1615502552.000000"},"blocks":[{"type":"rich_text","block_id":"0fYQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But now I understand that it is due to the compilation of the "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" macro"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"9be6ab8f-e114-4a47-b4d3-8b8775a2f9bd","type":"message","text":"it shouldn’t do, the `@time` macro is compiled in the julia sysimage","user":"U8MPCDJAY","ts":"1615502564.403800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j4ooy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it shouldn’t do, the "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" macro is compiled in the julia sysimage"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"16491c48-db23-4690-a532-838324d3c656","type":"message","text":"```   _       _ _(_)_     |  Documentation: <https://docs.julialang.org>\n  (_)     | (_) (_)    |\n   _ _   _| |_  __ _   |  Type \"?\" for help, \"]?\" for Pkg help.\n  | | | | | | |/ _` |  |\n  | | |_| | | | (_| |  |  Version 1.6.0-rc1 (2021-02-06)\n _/ |\\__'_|_|_|\\__'_|  |  Official <https://julialang.org/> release\n|__/                   |\n\njulia&gt; @time 1\n  0.000000 seconds\n1```","user":"U8MPCDJAY","ts":"1615502584.404200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4S5","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"   _       _ _(_)_     |  Documentation: "},{"type":"link","url":"https://docs.julialang.org"},{"type":"text","text":"\n  (_)     | (_) (_)    |\n   _ _   _| |_  __ _   |  Type \"?\" for help, \"]?\" for Pkg help.\n  | | | | | | |/ _` |  |\n  | | |_| | | | (_| |  |  Version 1.6.0-rc1 (2021-02-06)\n _/ |\\__'_|_|_|\\__'_|  |  Official "},{"type":"link","url":"https://julialang.org/"},{"type":"text","text":" release\n|__/                   |\n\njulia> @time 1\n  0.000000 seconds\n1"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"382b0939-8625-40dc-a126-9f70d207f25b","type":"message","text":"Hmm.. so any idea of why the time reported on the first run is larger?","user":"UEA5FBCRH","ts":"1615502590.404400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TB8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm.. so any idea of why the time reported on the first run is larger?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"2c1e8f35-be7d-4cd8-850a-be2b7150d40a","type":"message","text":"because the inner elements of your function are being compiled first time","user":"U8MPCDJAY","ts":"1615502607.404600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/LcPB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because the inner elements of your function are being compiled first time"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"259d781f-0bad-4758-9270-afb80e202618","type":"message","text":"you don't redefine the code paths in julia you call","user":"UDB26738Q","ts":"1615502609.404800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VWoza","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you don't redefine the code paths in julia you call"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"99b42921-978a-4785-8467-3fb64aa9f5eb","type":"message","text":"the 2nd time just the outer function is being recompiled","user":"U8MPCDJAY","ts":"1615502619.405000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gZRI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the 2nd time just the outer function is being recompiled"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b4832822-c1d1-4a4e-9678-a68f285213a4","type":"message","text":"because you redefined it","user":"U8MPCDJAY","ts":"1615502636.405200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8/3o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because you redefined it"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"ac0a379e-36fc-4ef8-8baf-02c1efe0a8ef","type":"message","text":"Makes sense. All clear now. Thanks.","user":"UEA5FBCRH","ts":"1615502687.405400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Nqj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Makes sense. All clear now. Thanks."}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH","reactions":[{"name":"+1","users":["U8MPCDJAY"],"count":1}]},{"client_msg_id":"b36f254e-6230-4a93-bf8d-5357fda1f75f","type":"message","text":"One last question with relation to the benchmark example that I posted above. I have another section in the same file where I benchmark the same operation but using StaticArrays instead:\n```function bench3(sized_array) \n  sized_array .* sized_array\nend\n\nsized_array = SizedArray{Tuple{shape...}}(normal_array)```\nI noticed that the reported times by the `@btime` and `@time` macros are quite different:\n```julia&gt; @btime bench3(sized_array);\n  2.752 μs (3 allocations: 16.30 KiB)```\n```julia&gt; @timev bench3(sized_array);\n  0.000020 seconds (3 allocations: 16.297 KiB)\nelapsed time (ns): 20189\nbytes allocated:   16688\npool allocs:       2\nnon-pool GC allocs:1```\n`@btime` reports 2.7 us while `@time` 20 us (the latter fluctuates, but it is around this value on average). Why this difference and which one should I rely on?","user":"UEA5FBCRH","ts":"1615505187.412000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mkt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One last question with relation to the benchmark example that I posted above. I have another section in the same file where I benchmark the same operation but using StaticArrays instead:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function bench3(sized_array) \n  sized_array .* sized_array\nend\n\nsized_array = SizedArray{Tuple{shape...}}(normal_array)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed that the reported times by the "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" macros are quite different:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @btime bench3(sized_array);\n  2.752 μs (3 allocations: 16.30 KiB)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @timev bench3(sized_array);\n  0.000020 seconds (3 allocations: 16.297 KiB)\nelapsed time (ns): 20189\nbytes allocated:   16688\npool allocs:       2\nnon-pool GC allocs:1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" reports 2.7 us while "},{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" 20 us (the latter fluctuates, but it is around this value on average). Why this difference and which one should I rely on?"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"9e44ebac-8590-4cd4-be9c-ed3609d5fe77","type":"message","text":"`@time` isn't really reliable for such small functions","user":"UDB26738Q","ts":"1615505227.412200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xOr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" isn't really reliable for such small functions"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH","reactions":[{"name":"point_up","users":["U8MPCDJAY"],"count":1}]},{"client_msg_id":"614c71a5-83cd-4047-9d8d-36db9a8d40df","type":"message","text":"AAhh ok. That solves everything. Thanks again!","user":"UEA5FBCRH","ts":"1615505243.412500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"AAhh ok. That solves everything. Thanks again!"}]}]}],"thread_ts":"1615496257.389400","parent_user_id":"UEA5FBCRH"}]