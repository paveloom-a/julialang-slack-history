[{"client_msg_id":"a0c8815e-1a0c-4ec9-8437-b9be70b3a084","type":"message","text":"Is it possible in startup.jl to detect if it's an interactive session or just running a script? For example, you wouldn't care for `using Revise` if called with `julia script.jl`. From what I can tell, `atreplinit` and `if isinteractive()` don't work.","user":"UC81ESVH6","ts":"1609299640.329900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KC+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it possible in startup.jl to detect if it's an interactive session or just running a script? For example, you wouldn't care for "},{"type":"text","text":"using Revise","style":{"code":true}},{"type":"text","text":" if called with "},{"type":"text","text":"julia script.jl","style":{"code":true}},{"type":"text","text":". From what I can tell, "},{"type":"text","text":"atreplinit","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"if isinteractive()","style":{"code":true}},{"type":"text","text":" don't work."}]}]}],"thread_ts":"1609299640.329900","reply_count":9,"reply_users_count":2,"latest_reply":"1609349451.365500","reply_users":["UH24GRBLL","UC81ESVH6"],"subscribed":false},{"client_msg_id":"771a795d-edd4-4695-89ba-a9d8e2fdacab","type":"message","text":"`isinteractive` is the go to for checking whether the context truly is interactive","user":"UH24GRBLL","ts":"1609315339.333400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"74R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"isinteractive","style":{"code":true}},{"type":"text","text":" is the go to for checking whether the context truly is interactive"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"50d76b1f-489b-41cc-8c00-ecb7d5ad8865","type":"message","text":"I do think that should work though, what behaviour are you observing?","user":"UH24GRBLL","ts":"1609315377.333600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CCqR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I do think that should work though, what behaviour are you observing?"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"fdfcbc9e-23b1-4e6f-86f4-3b5cae2ed162","type":"message","text":"When I put `@info isinteractive()` in my startup.jl and run `julia`, it shows false.","user":"UC81ESVH6","ts":"1609341643.357500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QBiFR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I put "},{"type":"text","text":"@info isinteractive()","style":{"code":true}},{"type":"text","text":" in my startup.jl and run "},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":", it shows false."}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"19b28911-8db2-455c-8a6d-e1548ce8cd78","type":"message","text":"Do that in an actual REPL and it shows true.","user":"UC81ESVH6","ts":"1609341660.357700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tQBw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do that in an actual REPL and it shows true."}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"605d08da-9d32-41e4-b2c2-b36ad9284646","type":"message","text":"yes, because `startup.jl` is not run interactively","user":"UH24GRBLL","ts":"1609342265.358100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5=oi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, because "},{"type":"text","text":"startup.jl","style":{"code":true}},{"type":"text","text":" is not run interactively"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"d345593d-f178-42d7-a52d-8f18f48d692e","type":"message","text":"I'm not sure why you'd expect otherwise?","user":"UH24GRBLL","ts":"1609342278.358300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IQ1YU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure why you'd expect otherwise?"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"2edceeac-295b-4601-80b6-1d898ffb0937","type":"message","text":"So this goes back to my original question of how to do something depending on if the resulting session is interactive or not","user":"UC81ESVH6","ts":"1609343456.359100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"labuK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So this goes back to my original question of how to do something depending on if the resulting session is interactive or not"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"b10f7f4a-00d0-4382-aae7-bb6babc5af3a","type":"message","text":"I don't think there's a way to detect startup.jl specifically","user":"UH24GRBLL","ts":"1609343513.359600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y53","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think there's a way to detect startup.jl specifically"}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"},{"client_msg_id":"3026929d-041f-425d-8d39-298a52577a1f","type":"message","text":"Alright, played around with this some more and it looks like `atreplinit()` is what I wanted, though imports have to go in the top level (and thus always happen).","user":"UC81ESVH6","ts":"1609349451.365500","team":"T68168MUP","edited":{"user":"UC81ESVH6","ts":"1609349522.000000"},"blocks":[{"type":"rich_text","block_id":"zCDw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alright, played around with this some more and it looks like "},{"type":"text","text":"atreplinit()","style":{"code":true}},{"type":"text","text":" is what I wanted, though imports have to go in the top level (and thus always happen)."}]}]}],"thread_ts":"1609299640.329900","parent_user_id":"UC81ESVH6"}]