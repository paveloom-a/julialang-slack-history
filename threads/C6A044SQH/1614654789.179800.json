[{"client_msg_id":"d2c161af-5681-4dd1-ae1a-3852292cc0f5","type":"message","text":"Why would an artifact work on Windows but not on Mac due to hash mismatch?","user":"UFWQ6DP0S","ts":"1614654789.179800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HTCf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why would an artifact work on Windows but not on Mac due to hash mismatch?"}]}]}],"thread_ts":"1614654789.179800","reply_count":11,"reply_users_count":3,"latest_reply":"1614744192.243400","reply_users":["B01J9QZ4SP8","UFWQ6DP0S","UM30MT6RF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1614654790.179900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"2d68e8ea-06c5-4d09-857c-688dd770344f","type":"message","text":"Specifically, the <https://github.com/JuliaActuary/LifeContingencies.jl/runs/2009515068?check_suite_focus=true|LifeContingency.jl CI tests > fail on Mac due to a hash mismatch in MortalityTables.jl’s “<http://mort.soa.org|mort.soa.org>” artifact","user":"UFWQ6DP0S","ts":"1614654924.180100","team":"T68168MUP","edited":{"user":"UFWQ6DP0S","ts":"1614655092.000000"},"blocks":[{"type":"rich_text","block_id":"Q75","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Specifically, the "},{"type":"link","url":"https://github.com/JuliaActuary/LifeContingencies.jl/runs/2009515068?check_suite_focus=true","text":"LifeContingency.jl CI tests "},{"type":"text","text":" fail on Mac due to a hash mismatch in MortalityTables.jl’s “"},{"type":"link","url":"http://mort.soa.org","text":"mort.soa.org"},{"type":"text","text":"” artifact"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"3eb08276-f154-4e63-9afe-9aaea975d3ad","type":"message","text":"```5m 30s\nRun julia-actions/julia-runtest@latest\n  with:\n    inline: yes\n    coverage: true\n    depwarn: yes\n    project: @.\n[ Info: The General registry already exists locally\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789\n    Testing LifeContingencies\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789\nStatus `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/jl_ULfcnV/Project.toml`\n  [c8f0d631] LifeContingencies v1.0.3 `~/work/LifeContingencies.jl/LifeContingencies.jl`\n→ [4780e19d] MortalityTables v2.0.0\n  [8dfed614] Test\nInfo packages marked with → not downloaded, use `instantiate` to download\nStatus `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/jl_ULfcnV/Manifest.toml`\n  [bdd23359] ActuaryUtilities v1.0.2\n  [79e6a3ab] Adapt v3.2.0\n  [dce04be8] ArgCheck v2.1.0\n  [4fba245c] ArrayInterface v3.1.2\n  [56f22d72] Artifacts v1.3.0\n  [13072b0f] AxisAlgorithms v1.0.0\n  [198e06fe] BangBang v0.3.30\n  [336ed68f] CSV v0.8.4\n  [d360d2e6] ChainRulesCore v0.9.29\n  [bbf7d656] CommonSubexpressions v0.3.0\n  [34da2185] Compat v3.25.0\n  [e66e0078] CompilerSupportLibraries_jll v0.3.4+0\n  [a33af91c] CompositionsBase v0.1.0\n  [187b0558] ConstructionBase v1.1.0\n  [9a962f9c] DataAPI v1.6.0\n  [864edb3b] DataStructures v0.18.9\n  [e2d170a0] DataValueInterfaces v1.0.0\n  [244e2a9f] DefineSingletons v0.1.1\n  [163ba53b] DiffResults v1.0.3\n  [b552c78f] DiffRules v1.0.2\n  [8f5d6c58] EzXML v1.1.0\n  [1a297f60] FillArrays v0.11.5\n  [6a86dc24] FiniteDiff v2.8.0\n  [f6369f11] ForwardDiff v0.10.16\n  [615f187c] IfElse v0.1.0\n  [22cec73e] InitialValues v0.2.10\n  [a98d9a8b] Interpolations v0.13.1\n  [c8e1da08] IterTools v1.3.0\n  [82899510] IteratorInterfaceExtensions v1.0.0\n  [692b3bcd] JLLWrappers v1.2.0\n  [94ce4f54] Libiconv_jll v1.16.0+7\n  [c8f0d631] LifeContingencies v1.0.3 `~/work/LifeContingencies.jl/LifeContingencies.jl`\n  [d3d80556] LineSearches v7.1.1\n  [1914dd2f] MacroTools v0.5.6\n  [128add7d] MicroCollections v0.1.0\n  [e1d29d7a] Missings v0.4.5\n→ [4780e19d] MortalityTables v2.0.0\n  [d41bc354] NLSolversBase v7.7.1\n  [77ba4419] NaNMath v0.3.5\n  [6fe1bfb0] OffsetArrays v1.6.1\n  [efe28fd5] OpenSpecFun_jll v0.5.3+4\n  [429524aa] Optim v1.2.4\n  [bac558e1] OrderedCollections v1.4.0\n  [d96e819e] Parameters v0.12.2\n  [69de0a69] Parsers v1.0.15\n  [2dfb63ee] PooledArrays v1.2.1\n  [85a6dd25] PositiveFactorizations v0.2.4\n  [1fd47b50] QuadGK v2.4.1\n  [c84ed2f1] Ratios v0.4.0\n  [ae029012] Requires v1.1.2\n  [91c51154] SentinelArrays v1.2.16\n  [efcf1570] Setfield v0.7.0\n  [a2af1166] SortingAlgorithms v0.3.1\n  [276daf66] SpecialFunctions v1.3.0\n  [171d559e] SplittablesBase v0.1.13\n  [aedffcd0] Static v0.1.3\n  [90137ffa] StaticArrays v1.0.1\n  [2913bbd2] StatsBase v0.33.3\n  [3783bdb8] TableTraits v1.0.0\n  [bd369af6] Tables v1.3.2\n  [28d57a85] Transducers v0.4.59\n  [3a884ed6] UnPack v1.0.2\n  [efce3f68] WoodburyMatrices v0.5.3\n  [02c8fc9c] XML2_jll v2.9.10+3\n  [228000da] XMLDict v0.4.1\n  [d7e99b2f] Yields v0.2.6\n  [83775a58] Zlib_jll v1.2.11+18\n  [700de1a5] ZygoteRules v0.2.1\n  [2a0f44e3] Base64\n  [ade2ca70] Dates\n  [8bb1440f] DelimitedFiles\n  [8ba89e20] Distributed\n  [9fa8497b] Future\n  [b77e0a4c] InteractiveUtils\n  [76f85450] LibGit2\n  [8f399da3] Libdl\n  [37e2e46d] LinearAlgebra\n  [56ddb016] Logging\n  [d6f4376e] Markdown\n  [a63ad114] Mmap\n  [44cfe95a] Pkg\n  [de0858da] Printf\n  [3fa0cd96] REPL\n  [9a3f8284] Random\n  [ea8e919c] SHA\n  [9e88b42a] Serialization\n  [1a1011a3] SharedArrays\n  [6462fe0b] Sockets\n  [2f01184e] SparseArrays\n  [10745b16] Statistics\n  [8dfed614] Test\n  [cf7118a7] UUIDs\n  [4ec0a83e] Unicode\nInfo packages marked with → not downloaded, use `instantiate` to download\nDownloading artifact: <http://mort.soa.org|mort.soa.org>\n#=#=#                                                                         \n##O#- #                                                                       \n\n                                                                           0.2%\n                                                                           1.1%\n#                                                                          1.7%\n##                                                                         3.2%\n###                                                                        4.8%\n####                                                                       6.7%\n######                                                                     8.7%\n#######                                                                   10.8%\n#########                                                                 13.2%\n###########                                                               15.6%\n#############                                                             18.6%\n###############                                                           21.6%\n##################                                                        25.7%\n#####################                                                     29.2%\n########################                                                  33.5%\n###########################                                               38.3%\n##############################                                            42.8%\n##################################                                        48.5%\n#######################################                                   55.2%\n############################################                              61.9%\n#################################################                         69.2%\n########################################################                  77.9%\n##############################################################            87.0%\n#####################################################################     97.2%\n######################################################################## 100.0%\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789```","user":"UFWQ6DP0S","ts":"1614654931.180300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LhPaE","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"5m 30s\nRun julia-actions/julia-runtest@latest\n  with:\n    inline: yes\n    coverage: true\n    depwarn: yes\n    project: @.\n[ Info: The General registry already exists locally\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789\n    Testing LifeContingencies\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789\nStatus `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/jl_ULfcnV/Project.toml`\n  [c8f0d631] LifeContingencies v1.0.3 `~/work/LifeContingencies.jl/LifeContingencies.jl`\n→ [4780e19d] MortalityTables v2.0.0\n  [8dfed614] Test\nInfo packages marked with → not downloaded, use `instantiate` to download\nStatus `/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/jl_ULfcnV/Manifest.toml`\n  [bdd23359] ActuaryUtilities v1.0.2\n  [79e6a3ab] Adapt v3.2.0\n  [dce04be8] ArgCheck v2.1.0\n  [4fba245c] ArrayInterface v3.1.2\n  [56f22d72] Artifacts v1.3.0\n  [13072b0f] AxisAlgorithms v1.0.0\n  [198e06fe] BangBang v0.3.30\n  [336ed68f] CSV v0.8.4\n  [d360d2e6] ChainRulesCore v0.9.29\n  [bbf7d656] CommonSubexpressions v0.3.0\n  [34da2185] Compat v3.25.0\n  [e66e0078] CompilerSupportLibraries_jll v0.3.4+0\n  [a33af91c] CompositionsBase v0.1.0\n  [187b0558] ConstructionBase v1.1.0\n  [9a962f9c] DataAPI v1.6.0\n  [864edb3b] DataStructures v0.18.9\n  [e2d170a0] DataValueInterfaces v1.0.0\n  [244e2a9f] DefineSingletons v0.1.1\n  [163ba53b] DiffResults v1.0.3\n  [b552c78f] DiffRules v1.0.2\n  [8f5d6c58] EzXML v1.1.0\n  [1a297f60] FillArrays v0.11.5\n  [6a86dc24] FiniteDiff v2.8.0\n  [f6369f11] ForwardDiff v0.10.16\n  [615f187c] IfElse v0.1.0\n  [22cec73e] InitialValues v0.2.10\n  [a98d9a8b] Interpolations v0.13.1\n  [c8e1da08] IterTools v1.3.0\n  [82899510] IteratorInterfaceExtensions v1.0.0\n  [692b3bcd] JLLWrappers v1.2.0\n  [94ce4f54] Libiconv_jll v1.16.0+7\n  [c8f0d631] LifeContingencies v1.0.3 `~/work/LifeContingencies.jl/LifeContingencies.jl`\n  [d3d80556] LineSearches v7.1.1\n  [1914dd2f] MacroTools v0.5.6\n  [128add7d] MicroCollections v0.1.0\n  [e1d29d7a] Missings v0.4.5\n→ [4780e19d] MortalityTables v2.0.0\n  [d41bc354] NLSolversBase v7.7.1\n  [77ba4419] NaNMath v0.3.5\n  [6fe1bfb0] OffsetArrays v1.6.1\n  [efe28fd5] OpenSpecFun_jll v0.5.3+4\n  [429524aa] Optim v1.2.4\n  [bac558e1] OrderedCollections v1.4.0\n  [d96e819e] Parameters v0.12.2\n  [69de0a69] Parsers v1.0.15\n  [2dfb63ee] PooledArrays v1.2.1\n  [85a6dd25] PositiveFactorizations v0.2.4\n  [1fd47b50] QuadGK v2.4.1\n  [c84ed2f1] Ratios v0.4.0\n  [ae029012] Requires v1.1.2\n  [91c51154] SentinelArrays v1.2.16\n  [efcf1570] Setfield v0.7.0\n  [a2af1166] SortingAlgorithms v0.3.1\n  [276daf66] SpecialFunctions v1.3.0\n  [171d559e] SplittablesBase v0.1.13\n  [aedffcd0] Static v0.1.3\n  [90137ffa] StaticArrays v1.0.1\n  [2913bbd2] StatsBase v0.33.3\n  [3783bdb8] TableTraits v1.0.0\n  [bd369af6] Tables v1.3.2\n  [28d57a85] Transducers v0.4.59\n  [3a884ed6] UnPack v1.0.2\n  [efce3f68] WoodburyMatrices v0.5.3\n  [02c8fc9c] XML2_jll v2.9.10+3\n  [228000da] XMLDict v0.4.1\n  [d7e99b2f] Yields v0.2.6\n  [83775a58] Zlib_jll v1.2.11+18\n  [700de1a5] ZygoteRules v0.2.1\n  [2a0f44e3] Base64\n  [ade2ca70] Dates\n  [8bb1440f] DelimitedFiles\n  [8ba89e20] Distributed\n  [9fa8497b] Future\n  [b77e0a4c] InteractiveUtils\n  [76f85450] LibGit2\n  [8f399da3] Libdl\n  [37e2e46d] LinearAlgebra\n  [56ddb016] Logging\n  [d6f4376e] Markdown\n  [a63ad114] Mmap\n  [44cfe95a] Pkg\n  [de0858da] Printf\n  [3fa0cd96] REPL\n  [9a3f8284] Random\n  [ea8e919c] SHA\n  [9e88b42a] Serialization\n  [1a1011a3] SharedArrays\n  [6462fe0b] Sockets\n  [2f01184e] SparseArrays\n  [10745b16] Statistics\n  [8dfed614] Test\n  [cf7118a7] UUIDs\n  [4ec0a83e] Unicode\nInfo packages marked with → not downloaded, use `instantiate` to download\nDownloading artifact: mort.soa.org\n#=#=#                                                                         \n##O#- #                                                                       \n\n                                                                           0.2%\n                                                                           1.1%\n#                                                                          1.7%\n##                                                                         3.2%\n###                                                                        4.8%\n####                                                                       6.7%\n######                                                                     8.7%\n#######                                                                   10.8%\n#########                                                                 13.2%\n###########                                                               15.6%\n#############                                                             18.6%\n###############                                                           21.6%\n##################                                                        25.7%\n#####################                                                     29.2%\n########################                                                  33.5%\n###########################                                               38.3%\n##############################                                            42.8%\n##################################                                        48.5%\n#######################################                                   55.2%\n############################################                              61.9%\n#################################################                         69.2%\n########################################################                  77.9%\n##############################################################            87.0%\n#####################################################################     97.2%\n######################################################################## 100.0%\n┌ Error: Tree Hash Mismatch!\n│   Expected git-tree-sha1:   6164a6026f108fe95828b689fcd3b992acbff7c3\n│   Calculated git-tree-sha1: f7aea8dce0250015ee3967f8cabb331b3611a0a6\n└ @ Pkg.Artifacts /Users/julia/buildbot/worker/package_macos64/build/usr/share/julia/stdlib/v1.5/Pkg/src/Artifacts.jl:789"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"0e1cf716-e413-4713-9112-47b8fb439ad8","type":"message","text":"no similar error on Windows","user":"UFWQ6DP0S","ts":"1614654937.180500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hTsN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no similar error on Windows"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"9ea45064-da10-4245-b647-a903bb64aff2","type":"message","text":"Tar was created on Mac, and Artifact.toml generated with ArtifactUtils on Julia 1.5 or 1.6","user":"UFWQ6DP0S","ts":"1614654995.180700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kQg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Tar was created on Mac, and Artifact.toml generated with ArtifactUtils on Julia 1.5 or 1.6"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"5546229e-ab59-4f40-b093-a121a4228d75","type":"message","text":"Locally, on Mac, both packages work fine","user":"UFWQ6DP0S","ts":"1614655225.181100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VHl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Locally, on Mac, both packages work fine"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"daf34f7b-f6d4-4f6c-8474-7661aa13c9dc","type":"message","text":"More troubleshooting diagnostics: the issue is present with just the MortliatyTables.jl CI, so the LifeContingencies.jl package is extraneous","user":"UFWQ6DP0S","ts":"1614657154.181300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hrSh/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"More troubleshooting diagnostics: the issue is present with just the MortliatyTables.jl CI, so the LifeContingencies.jl package is extraneous"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"cef6d2cb-4c56-4432-8cc4-3c71cc2b56ae","type":"message","text":"On MortalityTables.jl, the Mac 1.5 runner fails while nightly succeeds","user":"UFWQ6DP0S","ts":"1614657181.181500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9/lr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On MortalityTables.jl, the Mac 1.5 runner fails while nightly succeeds"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"f9b118b1-441a-4531-b30f-45ac6a96f53d","type":"message","text":"<https://github.com/JuliaActuary/MortalityTables.jl/actions/runs/612756219>","user":"UFWQ6DP0S","ts":"1614657211.181700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k1FmD","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaActuary/MortalityTables.jl/actions/runs/612756219"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"06f139ab-19d8-45f7-a845-e89b12afdc87","type":"message","text":"Is this fixed on the 1.6 rc? Otherwise, please open an issue with Pkg","user":"UM30MT6RF","ts":"1614676206.187200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V/0Su","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this fixed on the 1.6 rc? Otherwise, please open an issue with Pkg"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"},{"client_msg_id":"bf29026d-290b-4614-a5e8-7f4a22e52a39","type":"message","text":"Yes, this appears to work on 1.6rc","user":"UFWQ6DP0S","ts":"1614744192.243400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Wj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, this appears to work on 1.6rc"}]}]}],"thread_ts":"1614654789.179800","parent_user_id":"UFWQ6DP0S"}]