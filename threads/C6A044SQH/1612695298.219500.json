[{"client_msg_id":"297ca46f-519d-426b-bc04-679cef6a99b4","type":"message","text":"Any idea as to what am I doing wrong here\n```function foo!(a, samples::Int = 100)\n  println(\"Measuring time for\", typeof(a)\n  @btime for _ in 1:samples\n    bar!(a, gensym(), rand(), rand(), rand())\n  end\nend\n\nfoo!(a)\nMeasuring time for ...\nERROR: LoadError: UndefVarError: samples not defined```","user":"ULX78CTC3","ts":"1612695298.219500","team":"T68168MUP","edited":{"user":"ULX78CTC3","ts":"1612695321.000000"},"blocks":[{"type":"rich_text","block_id":"eEr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any idea as to what am I doing wrong here\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function foo!(a, samples::Int = 100)\n  println(\"Measuring time for\", typeof(a)\n  @btime for _ in 1:samples\n    bar!(a, gensym(), rand(), rand(), rand())\n  end\nend\n\nfoo!(a)\nMeasuring time for ...\nERROR: LoadError: UndefVarError: samples not defined"}]}]}],"thread_ts":"1612695298.219500","reply_count":13,"reply_users_count":3,"latest_reply":"1612697805.222300","reply_users":["B01J9QZ4SP8","ULX78CTC3","UH24GRBLL"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612695299.219600","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"12523207-da35-4afb-a033-937aa554ecb2","type":"message","text":"`@time` works fine. All other BenchmarkTools.jl macros fail\nAlso if I hardcode samples\neg : `for _ in 1:100`\nit gives an error saying a not defined","user":"ULX78CTC3","ts":"1612695408.219900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"92X2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" works fine. All other BenchmarkTools.jl macros fail\nAlso if I hardcode samples\neg : "},{"type":"text","text":"for _ in 1:100","style":{"code":true}},{"type":"text","text":"\nit gives an error saying a not defined"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"53c0f133-f71a-4af6-9a44-2525d86bb8f1","type":"message","text":"the `@btime` macro already does sampling, collecting and averaging for you","user":"UH24GRBLL","ts":"1612695933.220100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tJkc6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" macro already does sampling, collecting and averaging for you"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3","reactions":[{"name":"+1","users":["ULX78CTC3"],"count":1}]},{"client_msg_id":"a1cbf0d4-5980-4947-970b-c15d0694cb78","type":"message","text":"if you want to use variables from outside the expression, you have to interpolate them into the macro with `$`","user":"UH24GRBLL","ts":"1612695962.220300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RpW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to use variables from outside the expression, you have to interpolate them into the macro with "},{"type":"text","text":"$","style":{"code":true}}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3","reactions":[{"name":"100","users":["U017JTQFNEQ"],"count":1}]},{"client_msg_id":"f2280792-e8af-43ea-a0a9-deacef235493","type":"message","text":"e.g. `@btime bar!($a, ...)`","user":"UH24GRBLL","ts":"1612695976.220500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oi4GT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"e.g. "},{"type":"text","text":"@btime bar!($a, ...)","style":{"code":true}}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"e8d83a9c-446e-4f9e-9136-5f17291adb4c","type":"message","text":"Ah. Yeah. Got it.\nAlso I can adjust the samples using `tune!` right?","user":"ULX78CTC3","ts":"1612696049.220700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H=gv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah. Yeah. Got it.\nAlso I can adjust the samples using "},{"type":"text","text":"tune!","style":{"code":true}},{"type":"text","text":" right?"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"e6eb66c6-467c-464a-b4ba-158250fc8d1a","type":"message","text":"`@btime` already does `tune!`, since it's just the quick hacky version of `@benchmarkable`","user":"UH24GRBLL","ts":"1612696167.221000","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1612696184.000000"},"blocks":[{"type":"rich_text","block_id":"JS7vo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" already does "},{"type":"text","text":"tune!","style":{"code":true}},{"type":"text","text":", since it's just the quick hacky version of "},{"type":"text","text":"@benchmarkable","style":{"code":true}}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"c5c01b92-cbd7-475f-a3ff-aa1bafd35a61","type":"message","text":"you only need `tune!` if you create the benchmarking object directly, but it's usually not necessary to do that manually","user":"UH24GRBLL","ts":"1612696207.221300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0VXcL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you only need "},{"type":"text","text":"tune!","style":{"code":true}},{"type":"text","text":" if you create the benchmarking object directly, but it's usually not necessary to do that manually"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"5a88f83e-1a25-471c-9e10-21129bfd0772","type":"message","text":"both `@btime` and `@benchmark` already tune the benchmark for you","user":"UH24GRBLL","ts":"1612696219.221500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mrh3S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"both "},{"type":"text","text":"@btime","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"@benchmark","style":{"code":true}},{"type":"text","text":" already tune the benchmark for you"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"10f14fa6-b4c5-48a1-9cda-030a89bb70d7","type":"message","text":"if you want to adjust the samples, you can do `@btime foo() samples=9001`","user":"UH24GRBLL","ts":"1612696290.221700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Crav3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to adjust the samples, you can do "},{"type":"text","text":"@btime foo() samples=9001","style":{"code":true}}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"dab1c423-b7ea-44eb-894c-3d9db74b1e4e","type":"message","text":"be aware that there may be multiple evaluations per sample","user":"UH24GRBLL","ts":"1612696297.221900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JnXOf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"be aware that there may be multiple evaluations per sample"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"36f858f9-9c2a-4f7b-b202-6191fef4d1bf","type":"message","text":"for more info, check the manual of BenchmarkTools: <https://github.com/JuliaCI/BenchmarkTools.jl/blob/master/doc/manual.md>","user":"UH24GRBLL","ts":"1612696313.222100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dhg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for more info, check the manual of BenchmarkTools: "},{"type":"link","url":"https://github.com/JuliaCI/BenchmarkTools.jl/blob/master/doc/manual.md"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"},{"client_msg_id":"d6e01771-fbc4-4965-9e5d-f7348f56bfa2","type":"message","text":"Thanks for sharing! :slightly_smiling_face:","user":"ULX78CTC3","ts":"1612697805.222300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/lau","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for sharing! "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1612695298.219500","parent_user_id":"ULX78CTC3"}]