[{"client_msg_id":"07ed829d-6b7f-4650-9da3-aed405c2fabf","type":"message","text":"is there a universal empty initializer (~empty constructor) for mutable data types in Base? Something like`Base.zero(Int)`, but for vectors (or generally, for arbitrary mutable types)?","user":"UDLBKS4RE","ts":"1609869350.308700","team":"T68168MUP","edited":{"user":"UDLBKS4RE","ts":"1609869528.000000"},"blocks":[{"type":"rich_text","block_id":"TOH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a universal empty initializer (~empty constructor) for mutable data types in Base? Something like"},{"type":"text","text":"Base.zero(Int)","style":{"code":true}},{"type":"text","text":", but for vectors (or generally, for arbitrary mutable types)?"}]}]}],"thread_ts":"1609869350.308700","reply_count":11,"reply_users_count":4,"latest_reply":"1609895488.342500","reply_users":["UH24GRBLL","UDLBKS4RE","U8D9768Q6","U6QGE7S86"],"subscribed":false},{"client_msg_id":"061fb747-2a17-4e85-83c6-31dea6d06584","type":"message","text":"not for arbitrary mutable structs, no","user":"UH24GRBLL","ts":"1609869669.308900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P48jC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not for arbitrary mutable structs, no"}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"3af48821-abb1-4a91-b779-ba47e45cb55f","type":"message","text":"ok, thanks.","user":"UDLBKS4RE","ts":"1609869920.309100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AkT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, thanks."}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"ac9566b9-a816-45d4-9f25-e46937f89d5f","type":"message","text":"if you want to have an empty vector of a specific type `T` though, `T[]` will do","user":"UH24GRBLL","ts":"1609869938.309300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fjC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to have an empty vector of a specific type "},{"type":"text","text":"T","style":{"code":true}},{"type":"text","text":" though, "},{"type":"text","text":"T[]","style":{"code":true}},{"type":"text","text":" will do"}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"2d055b77-3621-40fa-a342-61a05b15f434","type":"message","text":"yea, but I was specifically looking for non-vector types. Closest I could find is `Base.empty(v)`, but that only takes an instantiated type as input. I'll just define something myself.","user":"UDLBKS4RE","ts":"1609873772.310000","team":"T68168MUP","edited":{"user":"UDLBKS4RE","ts":"1609873806.000000"},"blocks":[{"type":"rich_text","block_id":"wqCN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea, but I was specifically looking for non-vector types. Closest I could find is "},{"type":"text","text":"Base.empty(v)","style":{"code":true}},{"type":"text","text":", but that only takes an instantiated type as input. I'll just define something myself."}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"d6eec1d3-dd4d-440c-9bed-b0267de091bf","type":"message","text":"Well, there is one method to do this, but it's not one the Jedi would tell you about.","user":"U8D9768Q6","ts":"1609880556.330600","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1609880562.000000"},"blocks":[{"type":"rich_text","block_id":"cuI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, there is one method to do this, but it's not one the Jedi would tell you about."}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"93514955-b155-45a6-9549-db00dec00298","type":"message","text":"```julia&gt; @generated function __new__(T, args...)\n           quote\n               Base.@_inline_meta\n               $(Expr(:new, :T, [:(args[$i]) for i = 1:length(args)]...))\n           end\n       end\n__new__ (generic function with 1 method)\n\njulia&gt; mutable struct Foo\n           a::Int\n           b::Float64\n       end\n\njulia&gt; __new__(Foo)\nFoo(0, 0.0)```","user":"U8D9768Q6","ts":"1609880625.330900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mQKy","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @generated function __new__(T, args...)\n           quote\n               Base.@_inline_meta\n               $(Expr(:new, :T, [:(args[$i]) for i = 1:length(args)]...))\n           end\n       end\n__new__ (generic function with 1 method)\n\njulia> mutable struct Foo\n           a::Int\n           b::Float64\n       end\n\njulia> __new__(Foo)\nFoo(0, 0.0)"}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE","reactions":[{"name":"meta","users":["UDLBKS4RE","U6QGE7S86","UGU761DU2"],"count":3}]},{"client_msg_id":"b9294534-dffa-4da8-b872-6b6d70bad4f1","type":"message","text":"Note: it's totally up the compiler whether or not the value returned here is junk or zeros.","user":"U8D9768Q6","ts":"1609881350.332200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5y/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note: it's totally up the compiler whether or not the value returned here is junk or zeros."}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"03a77bc9-cc64-4ded-99a8-b258b61cda04","type":"message","text":"that may not work in the general case, right?","user":"UH24GRBLL","ts":"1609881672.332700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aIKdq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that may not work in the general case, right?"}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"client_msg_id":"c4f923a3-54fd-4e15-871c-7926f7a4e99c","type":"message","text":"some fields may need initialization to enforce invariants","user":"UH24GRBLL","ts":"1609881686.332900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EUXN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"some fields may need initialization to enforce invariants"}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE"},{"type":"message","text":"","files":[{"id":"F01JF2Z0MDF","created":1609890466,"timestamp":1609890466,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U8D9768Q6","editable":false,"size":1098949,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JF2Z0MDF/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JF2Z0MDF/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_360.png","thumb_360_w":360,"thumb_360_h":152,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_480.png","thumb_480_w":480,"thumb_480_h":202,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_720.png","thumb_720_w":720,"thumb_720_h":304,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_800.png","thumb_800_w":800,"thumb_800_h":337,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_960.png","thumb_960_w":960,"thumb_960_h":405,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01JF2Z0MDF-8f7bd396d4/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":432,"original_w":1914,"original_h":807,"thumb_tiny":"AwAUADCvKcVBT5G3vx0pmcGmwJI1GwsTz0FMxhqcgzH9Gpr/AHqQxDjNIcUg5NSmMFCy7iB1JFAhqDI5oIHPFKnSg96ACP74Hr1pZAPSiL760SdqQxgwMcVMBiJ8e1Q+lT/8sn/CmB//2Q==","permalink":"https://julialang.slack.com/files/U8D9768Q6/F01JF2Z0MDF/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01JF2Z0MDF-a4acd6ef43","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U8D9768Q6","display_as_bot":false,"ts":"1609890471.336200","thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE","subtype":"thread_broadcast","root":{"client_msg_id":"07ed829d-6b7f-4650-9da3-aed405c2fabf","type":"message","text":"is there a universal empty initializer (~empty constructor) for mutable data types in Base? Something like`Base.zero(Int)`, but for vectors (or generally, for arbitrary mutable types)?","user":"UDLBKS4RE","ts":"1609869350.308700","team":"T68168MUP","edited":{"user":"UDLBKS4RE","ts":"1609869528.000000"},"blocks":[{"type":"rich_text","block_id":"TOH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a universal empty initializer (~empty constructor) for mutable data types in Base? Something like"},{"type":"text","text":"Base.zero(Int)","style":{"code":true}},{"type":"text","text":", but for vectors (or generally, for arbitrary mutable types)?"}]}]}],"thread_ts":"1609869350.308700","reply_count":11,"reply_users_count":4,"latest_reply":"1609895488.342500","reply_users":["UH24GRBLL","UDLBKS4RE","U8D9768Q6","U6QGE7S86"],"subscribed":false},"reactions":[{"name":"rolling_on_the_floor_laughing","users":["UGU761DU2","UCAFZ51L3","UAUPJLBQX","UKG4WF8PJ"],"count":4}]},{"client_msg_id":"05fff26f-7e73-4159-b481-395bda0aac79","type":"message","text":"Sometimes you scare me Mason.","user":"U6QGE7S86","ts":"1609895488.342500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NmV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sometimes you scare me Mason."}]}]}],"thread_ts":"1609869350.308700","parent_user_id":"UDLBKS4RE","reactions":[{"name":"julia-bleeding-edge","users":["U8D9768Q6"],"count":1},{"name":"joy","users":["UCAFZ51L3"],"count":1}]}]