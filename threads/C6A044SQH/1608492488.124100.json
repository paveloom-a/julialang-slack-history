[{"type":"message","text":"Hi guys. I'm using 24 threads but CPU usage is extremely low. Why is this happening?","files":[{"id":"F01H4GTU6JJ","created":1608492484,"timestamp":1608492484,"name":"Screenshot from 2020-12-20 21-25-40.png","title":"Screenshot from 2020-12-20 21-25-40.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U013B4X7USX","editable":false,"size":39520,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01H4GTU6JJ/screenshot_from_2020-12-20_21-25-40.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01H4GTU6JJ/download/screenshot_from_2020-12-20_21-25-40.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_360.png","thumb_360_w":360,"thumb_360_h":88,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_480.png","thumb_480_w":480,"thumb_480_h":117,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_720.png","thumb_720_w":720,"thumb_720_h":175,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01H4GTU6JJ-533a773c69/screenshot_from_2020-12-20_21-25-40_800.png","thumb_800_w":800,"thumb_800_h":195,"original_w":924,"original_h":225,"thumb_tiny":"AwALADCmGNBY08IpAyKXy19P1qeZBdDMmkDGn7F9P1pdi+lPmQroj3GlzT/LU9qPLT0/WlzId0f/2Q==","permalink":"https://julialang.slack.com/files/U013B4X7USX/F01H4GTU6JJ/screenshot_from_2020-12-20_21-25-40.png","permalink_public":"https://slack-files.com/T68168MUP-F01H4GTU6JJ-6120023aab","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"h5f0k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi guys. I'm using 24 threads but CPU usage is extremely low. Why is this happening?"}]}]}],"user":"U013B4X7USX","display_as_bot":false,"ts":"1608492488.124100","thread_ts":"1608492488.124100","reply_count":19,"reply_users_count":4,"latest_reply":"1608493493.128400","reply_users":["UDB26738Q","U013B4X7USX","UH24GRBLL","U8D9768Q6"],"subscribed":false},{"client_msg_id":"dc321b15-507b-463d-a189-96bcbe88bda6","type":"message","text":"what are you doing? :shrug:","user":"UDB26738Q","ts":"1608492668.124400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q3r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what are you doing? "},{"type":"emoji","name":"shrug"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"973fba09-81e2-49f9-9090-29c9d18ad779","type":"message","text":"julia doesn't use multithreading by default (except external libraries like openblas) and if you want to, you must tell julia the number of threads you want to use when you start it","user":"UDB26738Q","ts":"1608492724.124600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H1aaM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia doesn't use multithreading by default (except external libraries like openblas) and if you want to, you must tell julia the number of threads you want to use when you start it"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"6bce4cf4-8d88-44df-8d7e-2554c8423394","type":"message","text":"I have huge code with massive usage of the threads. But no shared data between the threads. No locks or io.","user":"U013B4X7USX","ts":"1608492753.124800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/QR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have huge code with massive usage of the threads. But no shared data between the threads. No locks or io."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"14452bb5-0168-44db-9b9d-ad51ff26f4bd","type":"message","text":"I started Julia with 24 threads","user":"U013B4X7USX","ts":"1608492769.125000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GiDU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I started Julia with 24 threads"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"7d6b65b2-1a83-4c8b-b200-dc0a27da7501","type":"message","text":"without showing the code it's hard to say anything :shrug:","user":"UDB26738Q","ts":"1608492792.125200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XBKzM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"without showing the code it's hard to say anything "},{"type":"emoji","name":"shrug"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"8a62a12b-8198-4cd5-b38d-7f239d2cd642","type":"message","text":"It is too big","user":"U013B4X7USX","ts":"1608492801.125400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+tF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is too big"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"031bf6de-a6c2-427c-91f6-b6697e0f4e35","type":"message","text":":shrug:","user":"UDB26738Q","ts":"1608492810.125600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RyOE","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"shrug"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"00c85d69-760d-4fbb-a085-eae51da8f40a","type":"message","text":"How I can profile huge code?","user":"U013B4X7USX","ts":"1608492812.125800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e98","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How I can profile huge code?"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"118fd72f-baf8-40b1-9f2d-addcad3c9014","type":"message","text":"with profilers?","user":"UDB26738Q","ts":"1608492834.126000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wthg1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with profilers?"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"48195844-46da-4e25-af46-a1009b7dc16d","type":"message","text":"yes","user":"U013B4X7USX","ts":"1608492929.126200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rIL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"c4150543-87bd-406b-bb71-b000735b835d","type":"message","text":"Your PC is probably memory starved, as swap memory is completely full.","user":"UH24GRBLL","ts":"1608493019.126400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xs6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Your PC is probably memory starved, as swap memory is completely full."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"45ef9d4d-2664-4323-8da9-f199661f4f56","type":"message","text":"I agree with mose though, without seeing the code we can't give recommendations on what to do.","user":"UH24GRBLL","ts":"1608493042.126600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H5q2Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I agree with mose though, without seeing the code we can't give recommendations on what to do."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"ab7dbda9-4b72-4ce5-a9d1-d5b608398612","type":"message","text":"Thanks","user":"U013B4X7USX","ts":"1608493067.126800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aeEY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"f95fd488-9a5e-4e5f-a4b1-6f914ad44f79","type":"message","text":"I'd suggest trying to profile a smaller example of your full sample and using that to reduce memory usage, unnecessary allocations, and investigating bad algorithmic choices.","user":"UH24GRBLL","ts":"1608493093.127000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3cK8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd suggest trying to profile a smaller example of your full sample and using that to reduce memory usage, unnecessary allocations, and investigating bad algorithmic choices."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"958b05b2-9533-491c-af36-b44bd33fabf6","type":"message","text":"make you code fast serially first","user":"UDB26738Q","ts":"1608493123.127200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AlDp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"make you code fast serially first"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX","reactions":[{"name":"point_up","users":["UH24GRBLL","U013B4X7USX","U6QGE7S86","U7K185TUN","U7THT3TM3","UEN48T0BT","UKG4WF8PJ"],"count":7}]},{"client_msg_id":"f22e81e3-4c2f-4acc-87cb-4a277b347155","type":"message","text":"Got it . Thanks!","user":"U013B4X7USX","ts":"1608493141.127600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gh1Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Got it . Thanks!"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX"},{"client_msg_id":"0aa4cb7d-82c2-4f8f-945d-9bc37d825b00","type":"message","text":"if it's inefficient and unnecessarily allocates memory on a single thread, with 24 threads it isn't going to be any where faster....","user":"UDB26738Q","ts":"1608493177.127800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hzc5i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it's inefficient and unnecessarily allocates memory on a single thread, with 24 threads it isn't going to be any where faster...."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"54233e7b-bca9-4f17-974d-4553ad9fd9e6","type":"message","text":"in fact, it'll be worse, because the available memory doesn't grow with the number of threads. it stays the same.","user":"UH24GRBLL","ts":"1608493333.128200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Na4m=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in fact, it'll be worse, because the available memory doesn't grow with the number of threads. it stays the same."}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"22cb7f84-94e8-4100-b328-5e1cd113ad35","type":"message","text":"And memory usage goes up with more threads, and GC pauses are more destructive","user":"U8D9768Q6","ts":"1608493493.128400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0dR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And memory usage goes up with more threads, and GC pauses are more destructive"}]}]}],"thread_ts":"1608492488.124100","parent_user_id":"U013B4X7USX","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]}]