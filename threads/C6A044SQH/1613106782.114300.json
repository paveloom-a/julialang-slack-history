[{"client_msg_id":"d5094aa7-d3f0-44b1-9339-0e39abd0a2cc","type":"message","text":"Why does sum() not return Float type in this example?\n```using Distributions\nw = rand(Normal(), 10, 2000)\nϐ = vec(sum(&gt;(.0),w, dims=2))```\nThanks in advance","user":"ULKN4RKAR","ts":"1613106782.114300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5CVI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why does sum() not return Float type in this example?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Distributions\nw = rand(Normal(), 10, 2000)\nϐ = vec(sum(>(.0),w, dims=2))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks in advance"}]}]}],"thread_ts":"1613106782.114300","reply_count":8,"reply_users_count":4,"latest_reply":"1613109533.116100","reply_users":["B01J9QZ4SP8","U0179G7FG4F","ULKN4RKAR","UB197FRCL"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1613106785.114400","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"7a81c5f0-da1a-4e40-8db7-bfbf9dcf7d6e","type":"message","text":"because `w[i]&gt;0` returns a `Boolean` and the `sum` of `Boolean`s is an `Int`","user":"U0179G7FG4F","ts":"1613106972.114600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xV1x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because "},{"type":"text","text":"w[i]>0","style":{"code":true}},{"type":"text","text":" returns a "},{"type":"text","text":"Boolean","style":{"code":true}},{"type":"text","text":" and the "},{"type":"text","text":"sum","style":{"code":true}},{"type":"text","text":" of "},{"type":"text","text":"Boolean","style":{"code":true}},{"type":"text","text":"s is an "},{"type":"text","text":"Int","style":{"code":true}}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"01911ca7-d63f-4406-bec8-6c125e730f60","type":"message","text":":picard_facepalm: I see.. I'm getting the sum of positive values but not the sum of the values that are positive. Thanks!","user":"ULKN4RKAR","ts":"1613107210.114800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cXr","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"picard_facepalm"},{"type":"text","text":" I see.. I'm getting the sum of positive values but not the sum of the values that are positive. Thanks!"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"ccb8bf7f-39b4-4f15-b2d6-085ab3d3b4ff","type":"message","text":"```[sum(w[each,:][w[each,:].&gt;0.0]) for each in 1:size(w)[1]]```","user":"ULKN4RKAR","ts":"1613107523.115000","team":"T68168MUP","edited":{"user":"ULKN4RKAR","ts":"1613107533.000000"},"blocks":[{"type":"rich_text","block_id":"LQKg","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[sum(w[each,:][w[each,:].>0.0]) for each in 1:size(w)[1]]"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"e20f77d1-ccf0-4b38-9544-f28aa5b1c50e","type":"message","text":"`ϐ = vec(sum(x -&gt; x&gt;.0 ? x, 0., w, dims=2))` should be faster and is imo cleaner","user":"U0179G7FG4F","ts":"1613107718.115300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ewk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ϐ = vec(sum(x -> x>.0 ? x, 0., w, dims=2))","style":{"code":true}},{"type":"text","text":" should be faster and is imo cleaner"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"831b1453-6e92-4999-b044-e17c1d0498a2","type":"message","text":"`vec(sum(x -&gt; x &gt; 0 ? x : zero(x), w, dims=2))` maybe? (I think there was a typo in your message)","user":"UB197FRCL","ts":"1613108740.115500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MDa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"vec(sum(x -> x > 0 ? x : zero(x), w, dims=2))","style":{"code":true}},{"type":"text","text":" maybe? (I think there was a typo in your message)"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR","reactions":[{"name":"thumbsup_all","users":["U0179G7FG4F"],"count":1}]},{"client_msg_id":"8a4cf3ad-7844-4977-87b5-fbe281baeb18","type":"message","text":"Wait- not really. My list comprehension takes slightly less and half the memory","user":"ULKN4RKAR","ts":"1613109519.115900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ldD72","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wait- not really. My list comprehension takes slightly less and half the memory"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"},{"client_msg_id":"bec08dac-cbdf-4828-990d-0f20a116f05e","type":"message","text":"have you tried with the same nxm?","user":"ULKN4RKAR","ts":"1613109533.116100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RyoV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"have you tried with the same nxm?"}]}]}],"thread_ts":"1613106782.114300","parent_user_id":"ULKN4RKAR"}]