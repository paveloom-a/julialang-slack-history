[{"client_msg_id":"b9dbfa31-4b80-427e-b94b-11f4a7089892","type":"message","text":"[solved] Pro / against putting constants (i.e. variables that are global but constant) in `__init()__`? it doesn't work, you can define `const` variables in the init function.","user":"U7PGB5DU3","ts":"1609090122.117300","team":"T68168MUP","edited":{"user":"U7PGB5DU3","ts":"1609090623.000000"},"blocks":[{"type":"rich_text","block_id":"zqP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"[solved] Pro / against putting constants (i.e. variables that are global but constant) in "},{"type":"text","text":"__init()__","style":{"code":true}},{"type":"text","text":"? it doesn't work, you can define "},{"type":"text","text":"const","style":{"code":true}},{"type":"text","text":" variables in the init function."}]}]}],"thread_ts":"1609090122.117300","reply_count":26,"reply_users_count":2,"latest_reply":"1609094341.123100","reply_users":["USU9FRPEU","U7PGB5DU3"],"subscribed":false},{"client_msg_id":"3a0b8416-8508-4e0b-97bf-09b47922fb9b","type":"message","text":"I'm confused, are you declaring them as `const` ?","user":"USU9FRPEU","ts":"1609090162.117400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vSV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm confused, are you declaring them as "},{"type":"text","text":"const","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"6b38537f-7d94-4f24-8184-db120dc55ad3","type":"message","text":"if so how are you putting them in `__init__`","user":"USU9FRPEU","ts":"1609090174.117600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ee6s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if so how are you putting them in "},{"type":"text","text":"_","style":{"code":true}},{"type":"text","text":"init","style":{"italic":true,"code":true}},{"type":"text","text":"_","style":{"code":true}}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"3a3b649c-44cb-4743-b18e-1ed9cd885149","type":"message","text":"I am, yea","user":"U7PGB5DU3","ts":"1609090178.117800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e7A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am, yea"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"21150e66-7ffa-4f13-b577-33234196b5c3","type":"message","text":"(and wow, fast!!! thank you)","user":"U7PGB5DU3","ts":"1609090187.118000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2ksU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(and wow, fast!!! thank you)"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"9a8aaba3-f766-432f-893d-ec385b318099","type":"message","text":"eh, I could just do this, no?\n```function __init__()\n    const var1 = 1\nend\n\nfunction fun(x)\n    return x + var1\nend```","user":"U7PGB5DU3","ts":"1609090250.118200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Nf/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"eh, I could just do this, no?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function __init__()\n    const var1 = 1\nend\n\nfunction fun(x)\n    return x + var1\nend"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"0b591633-e44d-4719-985c-94767e9353de","type":"message","text":"I didn't realize that works","user":"USU9FRPEU","ts":"1609090271.118400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J+ms","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't realize that works"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"b0e9cdd3-0dde-4157-82e2-7f3c44ec08af","type":"message","text":"I didn't try it yet, maybe it doesn't!!","user":"U7PGB5DU3","ts":"1609090296.118600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cjr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't try it yet, maybe it doesn't!!"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"7bd2b2f9-2c4b-4ffb-a6ad-8d23cb982df3","type":"message","text":"```ERROR: LoadError: syntax: unsupported `const` declaration on local variable around C:\\Users\\kittisopikulm\\.julia\\dev\\Napari\\src\\Napari.jl:21```","user":"USU9FRPEU","ts":"1609090374.118800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T+V","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: LoadError: syntax: unsupported `const` declaration on local variable around C:\\Users\\kittisopikulm\\.julia\\dev\\Napari\\src\\Napari.jl:21"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"a7ca795e-e7e7-439c-8a8d-9baf47e32dc8","type":"message","text":"So yea, that's not legal syntax","user":"USU9FRPEU","ts":"1609090390.119000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aJxJM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So yea, that's not legal syntax"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"1c8480d8-44ef-44db-b22a-82aeb6d22a31","type":"message","text":"ok. so that's one major \"against\" :smile:","user":"U7PGB5DU3","ts":"1609090411.119200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F+9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok. so that's one major \"against\" "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"e5eebe4a-fc3e-4835-8dbd-bca1d8c96d44","type":"message","text":"I'll not do that then.","user":"U7PGB5DU3","ts":"1609090418.119400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dFWr9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll not do that then."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"f0f215e9-8c25-42a3-a442-696dc9652257","type":"message","text":"What I usually do if I need a global but I need to initialize it in a init is:\n```const my_var_ref = Ref{Type}()\nfunction __init__()\n   my_var_ref[] = get_value_of_my_var()\nend```","user":"USU9FRPEU","ts":"1609090495.119600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=cP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What I usually do if I need a global but I need to initialize it in a init is:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"const my_var_ref = Ref{Type}()\nfunction __init__()\n   my_var_ref[] = get_value_of_my_var()\nend"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"bdd55464-56bc-440d-8df4-d71f36ebfd0d","type":"message","text":"Cool, but why not\n```const my_var_ref = get_value_of_my_var()```\noutside, in the module scope?","user":"U7PGB5DU3","ts":"1609090559.119800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2rP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool, but why not\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"const my_var_ref = get_value_of_my_var()"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"outside, in the module scope?"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"f93f2298-4971-4cd7-8c63-594e84da1170","type":"message","text":"Well, I might need to do something else first","user":"USU9FRPEU","ts":"1609092202.120100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T=PK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, I might need to do something else first"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"f71146c6-c4ea-449f-991c-4cd1269838fa","type":"message","text":"For example, for `JavaCall.jl` I might need to configure the classpath environmental variable before I initialize the JVM","user":"USU9FRPEU","ts":"1609092252.120300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mu08","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For example, for "},{"type":"text","text":"JavaCall.jl","style":{"code":true}},{"type":"text","text":" I might need to configure the classpath environmental variable before I initialize the JVM"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"0100f4dc-4eab-4e34-af72-439b419941f3","type":"message","text":"I'm intrested in this becuase I have a particularly difficult out of memory error that I can't tack down. So I'mslimmingdown on all global consts, and was curious to see what your patterns were.","user":"U7PGB5DU3","ts":"1609092278.120500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hQdHN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm intrested in this becuase I have a particularly difficult out of memory error that I can't tack down. So I'mslimmingdown on all global consts, and was curious to see what your patterns were."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"a51d814a-98a5-47e6-89f9-2212d7206a70","type":"message","text":"The main issue with globals is their type can change, so making them a `Ref` keeps the type static.","user":"USU9FRPEU","ts":"1609092335.120700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t9d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The main issue with globals is their type can change, so making them a "},{"type":"text","text":"Ref","style":{"code":true}},{"type":"text","text":" keeps the type static."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"b41cba76-2e55-4b46-9a61-5ac23462728e","type":"message","text":"but, what's the point, or what is the main idea behind, having it in an init function instead of any other normal fnuction?","user":"U7PGB5DU3","ts":"1609092342.120900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Pr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but, what's the point, or what is the main idea behind, having it in an init function instead of any other normal fnuction?"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"70557217-1769-4b62-8630-339950a32292","type":"message","text":"ah cool","user":"U7PGB5DU3","ts":"1609092353.121100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8X7+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah cool"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"c56f3938-92e6-461a-9927-f8fcf78aa84a","type":"message","text":"It depends if you know the value at compile time or at runtime.","user":"USU9FRPEU","ts":"1609092373.121300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ntxzH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It depends if you know the value at compile time or at runtime."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"3515e4e7-9d3c-4b3c-9ad2-7e2693a352b5","type":"message","text":"ahhhhhhh","user":"U7PGB5DU3","ts":"1609092384.121500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gAeBe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ahhhhhhh"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"95bd9bb4-950d-4ae4-935c-a579f93e8678","type":"message","text":"ok... earlier better?","user":"U7PGB5DU3","ts":"1609092396.121700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8JhB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok... earlier better?"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"9cbd7411-b1db-426f-9e66-7a01d9b6681b","type":"message","text":"If you did `const my_var = ENV[\"something\"]`  it would save the value of the environment variable `something`  when it precompiles... not what it actually is","user":"USU9FRPEU","ts":"1609092418.121900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HmdSy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you did "},{"type":"text","text":"const my_var = ENV[\"something\"]","style":{"code":true}},{"type":"text","text":"  it would save the value of the environment variable "},{"type":"text","text":"something","style":{"code":true}},{"type":"text","text":"  when it precompiles... not what it actually is"}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"6d8f27e9-fa47-4d8a-94c2-cc51e4cd1d2d","type":"message","text":"when you invoke `using MyModule`","user":"USU9FRPEU","ts":"1609092435.122100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E5h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when you invoke "},{"type":"text","text":"using MyModule","style":{"code":true}}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"378a6ea6-0736-477c-a814-66fb26d66932","type":"message","text":"ok, that makes sense for env vars, but other than that... I'll try to implement it and see if it makes snse.","user":"U7PGB5DU3","ts":"1609092499.122300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l1p9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, that makes sense for env vars, but other than that... I'll try to implement it and see if it makes snse."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"},{"client_msg_id":"594d0831-710e-45cf-a75b-edaed038270e","type":"message","text":"It just depends if `get_value_of_my_var()` is dependent on some system state or not.","user":"USU9FRPEU","ts":"1609094341.123100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"arV4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It just depends if "},{"type":"text","text":"get_value_of_my_var()","style":{"code":true}},{"type":"text","text":" is dependent on some system state or not."}]}]}],"thread_ts":"1609090122.117300","parent_user_id":"U7PGB5DU3"}]