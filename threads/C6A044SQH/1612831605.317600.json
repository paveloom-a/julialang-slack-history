[{"client_msg_id":"0c65f074-df1d-44e9-bbb3-9743e0b5b694","type":"message","text":"Hey folks, I have a recipe as follows\n```@recipe function f(sim::T, mode=:ψ; x_res=500, t_res=500, n_lines=10, skip=1) where T &lt;: Union{Calc, Sim}```\nI am trying to write a test using `BaseRecipe.apply_recipe()`, but using something like\n```RecipesBase.apply_recipe(Dict{Symbol,Any}(), sim)```\nthrows the error\n```ERROR: MethodError: no method matching is_key_supported(::Symbol)```\nI have no idea how to debug this and have been stuck for a while. Any thoughts?\n\nThe full recipe lives here: <https://github.com/oashour/NonlinearSchrodinger.jl/blob/master/src/Recipes.jl>","user":"U01GBJA0JBC","ts":"1612831605.317600","team":"T68168MUP","edited":{"user":"U01GBJA0JBC","ts":"1612831691.000000"},"blocks":[{"type":"rich_text","block_id":"r1d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks, I have a recipe as follows\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@recipe function f(sim::T, mode=:ψ; x_res=500, t_res=500, n_lines=10, skip=1) where T <: Union{Calc, Sim}"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I am trying to write a test using "},{"type":"text","text":"BaseRecipe.apply_recipe()","style":{"code":true}},{"type":"text","text":", but using something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"RecipesBase.apply_recipe(Dict{Symbol,Any}(), sim)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"throws the error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: no method matching is_key_supported(::Symbol)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I have no idea how to debug this and have been stuck for a while. Any thoughts?\n\nThe full recipe lives here: "},{"type":"link","url":"https://github.com/oashour/NonlinearSchrodinger.jl/blob/master/src/Recipes.jl"}]}]}],"thread_ts":"1612831605.317600","reply_count":16,"reply_users_count":3,"latest_reply":"1612833080.323700","reply_users":["B01J9QZ4SP8","UDB26738Q","U01GBJA0JBC"],"subscribed":false,"reactions":[{"name":"bridge","users":["U01GBJA0JBC"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1612831607.317700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/54885| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1612831630.318100","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"525fd96d-545b-4866-83a8-a4322cd85767","type":"message","text":"sorry, I don't have the time to look into this, but I can share what I do in `Measurements.jl`:\n\n* recipe: <https://github.com/JuliaPhysics/Measurements.jl/blob/b8f57d049f43260f541ed1d099df5840828243dc/src/plot-recipes.jl>\n* tests: <https://github.com/JuliaPhysics/Measurements.jl/blob/b8f57d049f43260f541ed1d099df5840828243dc/test/plots.jl>\n\nhope this helps","user":"UDB26738Q","ts":"1612831770.319200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eGZcw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sorry, I don't have the time to look into this, but I can share what I do in "},{"type":"text","text":"Measurements.jl","style":{"code":true}},{"type":"text","text":":\n\n* recipe: "},{"type":"link","url":"https://github.com/JuliaPhysics/Measurements.jl/blob/b8f57d049f43260f541ed1d099df5840828243dc/src/plot-recipes.jl"},{"type":"text","text":"\n* tests: "},{"type":"link","url":"https://github.com/JuliaPhysics/Measurements.jl/blob/b8f57d049f43260f541ed1d099df5840828243dc/test/plots.jl"},{"type":"text","text":"\n\nhope this helps"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"2dd08e59-8bc7-4dce-a555-26f0cf611e77","type":"message","text":"I read your post (first google result) and it got me this far! Thanks a lot!","user":"U01GBJA0JBC","ts":"1612831808.319600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H/e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I read your post (first google result) and it got me this far! Thanks a lot!"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"26114c7d-2e6b-4bf4-916e-8c0608f87d13","type":"message","text":"I feel like I'm the one spreading this (absolutely unsupported!) way to test plot recipes :sweat_smile:","user":"UDB26738Q","ts":"1612831859.320300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"65m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I feel like I'm the one spreading this (absolutely unsupported!) way to test plot recipes "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"09edc0cc-eb88-48f3-bc60-94a0828501d8","type":"message","text":"I mean, if it works it works, so thank you! It's all over GitHub, I found it in a lot of other repos. I just need to figure it out, would bump my coverage by a lot","user":"U01GBJA0JBC","ts":"1612831917.320600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"clh08","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, if it works it works, so thank you! It's all over GitHub, I found it in a lot of other repos. I just need to figure it out, would bump my coverage by a lot"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"0d6182c0-45f8-489e-bf56-550e0c7d5cf1","type":"message","text":"try to pass also the `mode` argument to the test","user":"UDB26738Q","ts":"1612831969.320800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uHvw4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"try to pass also the "},{"type":"text","text":"mode","style":{"code":true}},{"type":"text","text":" argument to the test"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"8293c094-2833-4d8c-9dfb-fbe5c81683b6","type":"message","text":"(I don't know if `@recipe` works with optional positional arguments)","user":"UDB26738Q","ts":"1612832015.321200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RJy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I don't know if "},{"type":"text","text":"@recipe","style":{"code":true}},{"type":"text","text":" works with optional positional arguments)"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"bcdc1804-4afc-4ef9-9162-5b72f580c044","type":"message","text":"The recipe itself works quite well with the `mode` argument. I think the error might be related to mode and apply_recipe or something, but passing one of the supported modes to `apply_recipe` does nothing, same error","user":"U01GBJA0JBC","ts":"1612832101.321800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/bxmf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The recipe itself works quite well with the "},{"type":"text","text":"mode","style":{"code":true}},{"type":"text","text":" argument. I think the error might be related to mode and apply_recipe or something, but passing one of the supported modes to "},{"type":"text","text":"apply_recipe","style":{"code":true}},{"type":"text","text":" does nothing, same error"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"6df8c150-1f76-4e88-a5b0-7d2341b1a239","type":"message","text":"Changing the recipe to make `mode` an optional keyword argument (correct terminology? after the semicolon) makes it work! It returns an empty tuple or something but I can figure that out I guess","user":"U01GBJA0JBC","ts":"1612832200.322500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SdLp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Changing the recipe to make "},{"type":"text","text":"mode","style":{"code":true}},{"type":"text","text":" an optional keyword argument (correct terminology? after the semicolon) makes it work! It returns an empty tuple or something but I can figure that out I guess"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"440fdbf9-8bbe-4aa6-b471-400844d3a188","type":"message","text":"Hmmm it just returns () no matter what I do","user":"U01GBJA0JBC","ts":"1612832637.322700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z4tsj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm it just returns () no matter what I do"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"30881c09-42dc-4a3e-aa36-f3d4728f5498","type":"message","text":"doesn't your function return only `nothing` <https://github.com/oashour/NonlinearSchrodinger.jl/blob/6e8f54202c7da7b2175bfd0107bd7e4b90c32fc8/src/Recipes.jl#L117>?","user":"UDB26738Q","ts":"1612832759.322900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vWF4h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"doesn't your function return only "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":" "},{"type":"link","url":"https://github.com/oashour/NonlinearSchrodinger.jl/blob/6e8f54202c7da7b2175bfd0107bd7e4b90c32fc8/src/Recipes.jl#L117"},{"type":"text","text":"?"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"4447ca3f-5345-48a5-b494-bf6bcafa6df1","type":"message","text":"I just changed that to try to return anything else, but it still returns `()`. I don't know how to make it return one of the series it plots","user":"U01GBJA0JBC","ts":"1612832985.323100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F4fJI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just changed that to try to return anything else, but it still returns "},{"type":"text","text":"()","style":{"code":true}},{"type":"text","text":". I don't know how to make it return one of the series it plots"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"61986dc0-5f90-4404-bbb6-228a17db3e34","type":"message","text":"It's a fairly complicated recipe unfortunately","user":"U01GBJA0JBC","ts":"1612832994.323300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ALMON","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's a fairly complicated recipe unfortunately"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"f237e256-bf05-4771-820b-f3f0ffaa9b0a","type":"message","text":"you may have more luck asking in <#C6E4SU1D3|plotting> or <#C8JKM4JQ6|plots-bridged> (no idea which is the one specific to `Plots`), these are really internals of the package, unlikely many people will be familiar with (me definitely not)","user":"UDB26738Q","ts":"1612833052.323500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sLAD=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you may have more luck asking in "},{"type":"channel","channel_id":"C6E4SU1D3"},{"type":"text","text":" or "},{"type":"channel","channel_id":"C8JKM4JQ6"},{"type":"text","text":" (no idea which is the one specific to "},{"type":"text","text":"Plots","style":{"code":true}},{"type":"text","text":"), these are really internals of the package, unlikely many people will be familiar with (me definitely not)"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC"},{"client_msg_id":"7d00716f-547a-4b3d-88fb-501eb7bbf1e4","type":"message","text":"Thank you! I really appreciate the help!","user":"U01GBJA0JBC","ts":"1612833080.323700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lm4x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you! I really appreciate the help!"}]}]}],"thread_ts":"1612831605.317600","parent_user_id":"U01GBJA0JBC","reactions":[{"name":"+1","users":["UDB26738Q"],"count":1}]}]