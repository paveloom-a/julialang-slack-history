[{"client_msg_id":"af3aad61-da8c-4e9a-8382-a41559c56faa","type":"message","text":"I'm being an idiot, how do I do this?\n```x = [1,2,3]\nfor a in x\na = 1\nend\nprintln(x) # [1,2,3], I want [1,1,1]```\nin `c++`\n```for (auto&amp; a : x)\n  a = 1;```","user":"U01EU0XGD1D","ts":"1615932647.046700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Gny4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm being an idiot, how do I do this?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"x = [1,2,3]\nfor a in x\na = 1\nend\nprintln(x) # [1,2,3], I want [1,1,1]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"in "},{"type":"text","text":"c++","style":{"code":true}},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for (auto& a : x)\n  a = 1;"}]}]}],"thread_ts":"1615932647.046700","reply_count":21,"reply_users_count":7,"latest_reply":"1615935114.052100","reply_users":["B01J9QZ4SP8","U01M655G9AR","U680THK2S","U01EU0XGD1D","UDB26738Q","UEGRU91B2","U012XER8K4M"],"is_locked":false,"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615932649.046800","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"fc6992e2-d7fc-4871-8b66-f08244b2b982","type":"message","text":"you can do `x .= 1` or\n```for i in eachindex(x)\n    x[i]=1\nend```","user":"U01M655G9AR","ts":"1615932717.047000","team":"T68168MUP","edited":{"user":"U01M655G9AR","ts":"1615932740.000000"},"blocks":[{"type":"rich_text","block_id":"cpa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can do "},{"type":"text","text":"x .= 1","style":{"code":true}},{"type":"text","text":" or\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for i in eachindex(x)\n    x[i]=1\nend"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"4f714477-7844-4199-b184-0dde79448eb9","type":"message","text":"Or `fill!(x, 1)`","user":"U680THK2S","ts":"1615932786.047300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bc8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or "},{"type":"text","text":"fill!(x, 1)","style":{"code":true}}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"1d38e0ee-d07f-4641-bd9b-fca1c7794bd5","type":"message","text":"Ah, the usual trap of a simplifed version :sweat_smile:, I'm trying to do this:\n```filenames = [\"folder/some_file.dat\", \"folder/another_file.dat\"]\nfor file in filenames\n\n  # strip the folder and file suffix\n  if !isempty(root)\n    start_ind = findfirst(\"/\", file)[1]\n  else\n    start_ind = 0\n  end\n  end_ind = findfirst(\".dat\", file)[1]\n  file = file[start_ind+1:end_ind-1]\nend\n\nprintln(filenames)  # want some_file, another_file```","user":"U01EU0XGD1D","ts":"1615933056.047500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Du","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, the usual trap of a simplifed version "},{"type":"emoji","name":"sweat_smile"},{"type":"text","text":", I'm trying to do this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"filenames = [\"folder/some_file.dat\", \"folder/another_file.dat\"]\nfor file in filenames\n\n  # strip the folder and file suffix\n  if !isempty(root)\n    start_ind = findfirst(\"/\", file)[1]\n  else\n    start_ind = 0\n  end\n  end_ind = findfirst(\".dat\", file)[1]\n  file = file[start_ind+1:end_ind-1]\nend\n\nprintln(filenames)  # want some_file, another_file"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"e1d38de5-2611-4fc6-b267-7bd49f1030d1","type":"message","text":"The reason why what you're doing doesn't work is because you aren't changing `x` in-place","user":"UDB26738Q","ts":"1615933064.047700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qi5o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The reason why what you're doing doesn't work is because you aren't changing "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" in-place"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"3bf84931-a942-4d54-b543-b57502a3573c","type":"message","text":"You are rebinding the iterator `a` to something else","user":"UDB26738Q","ts":"1615933088.047900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XqS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You are rebinding the iterator "},{"type":"text","text":"a","style":{"code":true}},{"type":"text","text":" to something else"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"bb6ebcb6-00e6-430f-b947-3fcf4e6ee8e1","type":"message","text":"how would I modify x in place? Can that be done?","user":"U01EU0XGD1D","ts":"1615933105.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ss3Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how would I modify x in place? Can that be done?"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"49602dfb-3917-4e8e-9ca7-4516b35db01c","type":"message","text":"Alfredo modified the message above","user":"UDB26738Q","ts":"1615933129.048300","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1615933424.000000"},"blocks":[{"type":"rich_text","block_id":"/vtv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alfredo modified the message above"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"b9f277e9-9aa7-4c7d-b6f4-bf8460f482ce","type":"message","text":"Loop over the indices `i` of the iterator and do assignment as `x[i] =`","user":"U680THK2S","ts":"1615933131.048500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oK4IY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Loop over the indices "},{"type":"text","text":"i","style":{"code":true}},{"type":"text","text":" of the iterator and do assignment as "},{"type":"text","text":"x[i] =","style":{"code":true}}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"575d21db-cb53-4a76-804a-b571e5158a6b","type":"message","text":"I assume there's a good performance I shouldn't be doing this either","user":"U01EU0XGD1D","ts":"1615933136.048700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DqAN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I assume there's a good performance I shouldn't be doing this either"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"c53a9562-2404-4a46-aac8-fdd1715cd7fb","type":"message","text":"So there isn't a range based loop with modification?","user":"U01EU0XGD1D","ts":"1615933189.048900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n79","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So there isn't a range based loop with modification?"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"3b2c4fc6-5437-41a2-bf5d-535e21371aa2","type":"message","text":"_N_ot sure what you mean","user":"UDB26738Q","ts":"1615933227.049100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s3x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"N","style":{"italic":true}},{"type":"text","text":"ot sure what you mean"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"aacb844c-5705-4380-bf44-e7c2d171626e","type":"message","text":"What did you not like about Alfredo’s solution or why do you think there is a performance reason not to do it?","user":"UEGRU91B2","ts":"1615933267.049300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wW0E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What did you not like about Alfredo’s solution or why do you think there is a performance reason not to do it?"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"9391232c-23e2-4f5a-a7e3-4027f875ce87","type":"message","text":"Sorry didn't meant to sound antagonistic, I'm just still learning how to do things in Julia, I've clearly just been a bit spoiled with the range loop in `c++`. So to modify the array of strings:\n`filenames[i] = filenames[i][start_ind+1:end_ind-1]`","user":"U01EU0XGD1D","ts":"1615933433.049600","team":"T68168MUP","edited":{"user":"U01EU0XGD1D","ts":"1615933449.000000"},"blocks":[{"type":"rich_text","block_id":"dQ9s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry didn't meant to sound antagonistic, I'm just still learning how to do things in Julia, I've clearly just been a bit spoiled with the range loop in "},{"type":"text","text":"c++","style":{"code":true}},{"type":"text","text":". So to modify the array of strings:\n"},{"type":"text","text":"filenames[i] = filenames[i][start_ind+1:end_ind-1]","style":{"code":true}}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"3069dca7-46a0-4db6-8289-83fc283f35ba","type":"message","text":"well, even in c++ you'd probably get the recommentation to use a std::algorithm, and in this case, you could do\nfilenames = cleanup_filename.(filenames)","user":"U012XER8K4M","ts":"1615933509.049900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"imGpV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, even in c++ you'd probably get the recommentation to use a std::algorithm, and in this case, you could do\nfilenames = cleanup_filename.(filenames)"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"faeea7ea-e4e8-4307-846e-7008d1b3b998","type":"message","text":"Or `filenames .= cleanup_filename.(filenames)` :wink:","user":"UDB26738Q","ts":"1615933596.050100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ib49","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or "},{"type":"text","text":"filenames .= cleanup_filename.(filenames)","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D","reactions":[{"name":"point_up","users":["U012XER8K4M","U01M655G9AR"],"count":2},{"name":"+1","users":["U01EU0XGD1D","U01M655G9AR"],"count":2}]},{"client_msg_id":"2c0b93e4-3143-4715-99cf-39f8b7360d4d","type":"message","text":"That's the Julian answer I was looking for. Thank you, still scratching around over here :sweat_smile:","user":"U01EU0XGD1D","ts":"1615933611.050300","team":"T68168MUP","edited":{"user":"U01EU0XGD1D","ts":"1615933666.000000"},"blocks":[{"type":"rich_text","block_id":"umYoh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's the Julian answer I was looking for. Thank you, still scratching around over here "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"f71cf307-843a-4406-83f0-637a7b9e5e22","type":"message","text":"Write the function for a scalar and dot it away","user":"UDB26738Q","ts":"1615933659.050900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sMsfe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Write the function for a scalar and dot it away"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"7785bb46-e472-4a9d-9768-c5b4cf35da59","type":"message","text":"So given this is all wrapped in a function already, is the style to write a little function called `cleanup_filename` and dot. I.e. is this the idiomatic Julian way in the same way as the `std::algorithm` approach?","user":"U01EU0XGD1D","ts":"1615933792.051200","team":"T68168MUP","edited":{"user":"U01EU0XGD1D","ts":"1615933812.000000"},"blocks":[{"type":"rich_text","block_id":"Hohrf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So given this is all wrapped in a function already, is the style to write a little function called "},{"type":"text","text":"cleanup_filename","style":{"code":true}},{"type":"text","text":" and dot. I.e. is this the idiomatic Julian way in the same way as the "},{"type":"text","text":"std::algorithm","style":{"code":true}},{"type":"text","text":" approach?"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"c0dd177c-7599-4838-a193-390378684a9d","type":"message","text":"I'm not that familiar with C++, but this is definitely idiomatic Julia","user":"UDB26738Q","ts":"1615934376.051900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OKb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not that familiar with C++, but this is definitely idiomatic Julia"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"},{"client_msg_id":"5c9fe6d1-2f8f-4dcb-af8d-6a46448f2cf9","type":"message","text":"agreed.... although sometimes simple loops are also nice in my opinion :). Another alternative is `map!(cleanup_filename, filenames, filenames)` or even\n```map!(filenames, filenames) do fname\n     ... cleanup_filename body ...\n     return clean_fname\nend```","user":"U01M655G9AR","ts":"1615935114.052100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A5DWx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"agreed.... although sometimes simple loops are also nice in my opinion :). Another alternative is "},{"type":"text","text":"map!(cleanup_filename, filenames, filenames)","style":{"code":true}},{"type":"text","text":" or even\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"map!(filenames, filenames) do fname\n     ... cleanup_filename body ...\n     return clean_fname\nend"}]}]}],"thread_ts":"1615932647.046700","parent_user_id":"U01EU0XGD1D"}]