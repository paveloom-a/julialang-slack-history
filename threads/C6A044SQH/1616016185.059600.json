[{"client_msg_id":"b09825a5-41f4-4db7-8584-985ed04d8934","type":"message","text":"is it possible to write something like:\n```op = :(&amp;&amp;)\nset = AndSet\n@evel do_some_operation(::$set, lhs, rhs) = lhs $op $rhs```\n? The `$op` part does not get parsed as hoped. Any way to rewrite this to make it possible?","user":"U7K185TUN","ts":"1616016185.059600","team":"T68168MUP","edited":{"user":"U7K185TUN","ts":"1616017619.000000"},"blocks":[{"type":"rich_text","block_id":"OWim7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is it possible to write something like:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"op = :(&&)\nset = AndSet\n@evel do_some_operation(::$set, lhs, rhs) = lhs $op $rhs"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"? The "},{"type":"text","text":"$op","style":{"code":true}},{"type":"text","text":" part does not get parsed as hoped. Any way to rewrite this to make it possible?"}]}]}],"thread_ts":"1616016185.059600","reply_count":11,"reply_users_count":3,"latest_reply":"1616027026.072900","reply_users":["B01J9QZ4SP8","UM30MT6RF","U7K185TUN"],"is_locked":false,"subscribed":false,"reactions":[{"name":"bridge","users":["U7K185TUN"],"count":1},{"name":"thumbsup_all","users":["U01C3624SGJ"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616016186.059700","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/57417| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1616016224.060000","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"fbe96f79-aa3f-4df1-ab8f-6e3dd3bf8119","type":"message","text":"`op` is the expression head, so you need to interpolate the whole `Expr(op, :lhs, :rhs)`.","user":"UM30MT6RF","ts":"1616017133.061300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TTwtk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"op","style":{"code":true}},{"type":"text","text":" is the expression head, so you need to interpolate the whole "},{"type":"text","text":"Expr(op, :lhs, :rhs)","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"c1962fe5-caf4-4b7e-9850-ae311b4729b4","type":"message","text":"I'm not sure I follow you.\nWhen I put it into an `Expr` it's not evaluated, right?\nSo\n```@eval do_some_operation(::Type{$set}, lhs, rhs) = Expr(op, :lhs, :rhs)```\ndoesn't work","user":"U7K185TUN","ts":"1616017840.062800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c51Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure I follow you.\nWhen I put it into an "},{"type":"text","text":"Expr","style":{"code":true}},{"type":"text","text":" it's not evaluated, right?\nSo\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@eval do_some_operation(::Type{$set}, lhs, rhs) = Expr(op, :lhs, :rhs)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"doesn't work"}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"82120ef0-0c08-4409-b819-6795ecb05655","type":"message","text":"You want `$(Expr(op, :lhs, :rhs))` to interpolate","user":"UM30MT6RF","ts":"1616017868.063000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N8v+2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You want "},{"type":"text","text":"$(Expr(op, :lhs, :rhs))","style":{"code":true}},{"type":"text","text":" to interpolate"}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"60a3da7f-ba63-41b6-8cd6-a739af0741b3","type":"message","text":"Okay that works for `&amp;&amp;` which I asked for :smile: Thanks! Unfortunately it doesn't for `⊻` (\\xor)\neven though one can write `true \\xor false`","user":"U7K185TUN","ts":"1616018101.063500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vCaP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay that works for "},{"type":"text","text":"&&","style":{"code":true}},{"type":"text","text":" which I asked for "},{"type":"emoji","name":"smile"},{"type":"text","text":" Thanks! Unfortunately it doesn't for "},{"type":"text","text":"⊻","style":{"code":true}},{"type":"text","text":" (\\xor)\neven though one can write "},{"type":"text","text":"true \\xor false","style":{"code":true}}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"029de71f-b684-4abc-ad19-bca67d4d95c4","type":"message","text":"but somehow `Expr(\\xor` does not work :confused:","user":"U7K185TUN","ts":"1616018165.063700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mjLZi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but somehow `Expr(\\xor` does not work "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"8be7b270-e8b5-47f0-9b61-43c40c1a374d","type":"message","text":"Since that's not a synactic operator, it's `Expr(:call, op, a, b)`, or just interpolate directly into the call like `$op(rhs, lhs)`","user":"UM30MT6RF","ts":"1616018186.063900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wWupd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Since that's not a synactic operator, it's "},{"type":"text","text":"Expr(:call, op, a, b)","style":{"code":true}},{"type":"text","text":", or just interpolate directly into the call like "},{"type":"text","text":"$op(rhs, lhs)","style":{"code":true}}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"0040c8f4-8017-415b-aa38-a43d831f4057","type":"message","text":"Hmm okay then I have to work around that. Thanks for your help <@UM30MT6RF>","user":"U7K185TUN","ts":"1616018229.064100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TiA/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm okay then I have to work around that. Thanks for your help "},{"type":"user","user_id":"UM30MT6RF"}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"client_msg_id":"984f5eb6-8124-408f-ac7c-500d9884eb1e","type":"message","text":"You are welcome!","user":"UM30MT6RF","ts":"1616018244.064300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2At","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You are welcome!"}]}]}],"thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"},{"type":"message","subtype":"bot_message","text":"Hey <@U7K185TUN>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1616027026.072900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616016185.059600","parent_user_id":"U7K185TUN"}]