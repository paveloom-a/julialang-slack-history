[{"client_msg_id":"0cb6b9d5-f73a-4e7b-92f9-667c175d04cd","type":"message","text":"Hi all. I have a function that looks like that which I need to differentiate using ForwardDiff:\n```function f(x::Vector{T}) where T&lt;:Real\n    prealocs = Array{T}(undef, huge_array)\n    do_stuff\n    return result\nend```\nThe problem is that prealocs allocated inside function is huge and occupies a lot of execution time. Is it possible to prealocated it before differentiation and just pass it to function? I know how to use closures but in this case, the type of the prealocs would depend on type of parameters vector x and I cannot figure out a smart way to handle this. Thanks!!!","user":"U01R4PJHG2C","ts":"1615401873.292700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yWiN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all. I have a function that looks like that which I need to differentiate using ForwardDiff:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function f(x::Vector{T}) where T<:Real\n    prealocs = Array{T}(undef, huge_array)\n    do_stuff\n    return result\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The problem is that prealocs allocated inside function is huge and occupies a lot of execution time. Is it possible to prealocated it before differentiation and just pass it to function? I know how to use closures but in this case, the type of the prealocs would depend on type of parameters vector x and I cannot figure out a smart way to handle this. Thanks!!!"}]}]}],"thread_ts":"1615401873.292700","reply_count":3,"reply_users_count":1,"latest_reply":"1615413318.295900","reply_users":["B01J9QZ4SP8"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1615401874.292800","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615401873.292700","parent_user_id":"U01R4PJHG2C","reactions":[{"name":"bridge","users":["U01R4PJHG2C"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Success, it has been cross posted <https://discourse.julialang.org/t/56903| to Discourse>. Keep and eye out on Discourse for responses and please add an answer there once you are satisfied with the solution so others can benefit as well. Happy debugging!","ts":"1615402516.293100","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615401873.292700","parent_user_id":"U01R4PJHG2C"},{"type":"message","subtype":"bot_message","text":"Hey <@U01R4PJHG2C>, if you were able to find an answer here on Slack, please cross post it to Discourse via the link above. Thank you! ","ts":"1615413318.295900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1615401873.292700","parent_user_id":"U01R4PJHG2C"}]