[{"client_msg_id":"6079ABB4-040C-4D33-A444-2771F4EA72AB","type":"message","text":"I’m scraping SEC filing data in julia, and there’s a limit of 10 hits per second. Right now, I am using threading with a for loop over the file extensions. Is there a good way to limit the rate? Right now, I am careful about the number of threads so that it doesn’t exceed the threshold.","user":"U017XL92LJG","ts":"1616015584.055800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O/t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m scraping SEC filing data in julia, and there’s a limit of 10 hits per second. Right now, I am using threading with a for loop over the file extensions. Is there a good way to limit the rate? Right now, I am careful about the number of threads so that it doesn’t exceed the threshold."}]}]}],"thread_ts":"1616015584.055800","reply_count":6,"reply_users_count":4,"latest_reply":"1616016939.061100","reply_users":["B01J9QZ4SP8","UH8A351DJ","U017XL92LJG","USU9FRPEU"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Can we cross post this publicly to <https://discourse.julialang.org|Discourse> for further visibility? React with :bridge: on the message above to approve. <https://github.com/JuliaCommunity/SlackBridge/blob/main/README.md#faq|More info here>","ts":"1616015586.055900","username":"HelpDeskBot","bot_id":"B01J9QZ4SP8","thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG"},{"client_msg_id":"68417e16-2541-4a0f-91a3-ef822b648381","type":"message","text":"why would you use multiple threads if rate limit is that low","user":"UH8A351DJ","ts":"1616016065.056100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rWcYA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why would you use multiple threads if rate limit is that low"}]}]}],"thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG"},{"client_msg_id":"6C4D900F-13BD-47F6-BCC8-2DD1BC937A9D","type":"message","text":"It takes over a second to download some filings, so a single thread would likely be slower than 1 per second. Especially when dealing with large files such as 10-Ks","user":"U017XL92LJG","ts":"1616016106.058000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I0Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It takes over a second to download some filings, so a single thread would likely be slower than 1 per second. Especially when dealing with large files such as 10-Ks"}]}]}],"thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG"},{"client_msg_id":"54df090f-6ef5-4c3d-8c74-2fe15eda67ab","type":"message","text":"Would it make sense just to have a loop that launches a new `Task` and then sleeps for 100 ms before creating a new one?","user":"USU9FRPEU","ts":"1616016456.060200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2HT9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would it make sense just to have a loop that launches a new "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" and then sleeps for 100 ms before creating a new one?"}]}]}],"thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG"},{"client_msg_id":"7A10137E-8BB1-49C2-9443-99A2C9C4D10A","type":"message","text":"That’s a great idea, I will try that now. Thank you ","user":"U017XL92LJG","ts":"1616016542.060900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xnC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That’s a great idea, I will try that now. Thank you "}]}]}],"thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG"},{"client_msg_id":"5580c6d7-a518-45f6-ba05-fabe95a522e3","type":"message","text":"Something like this:\n```for idx in eachindex(items_to_download)\n   @async download_item(items_to_download[idx])\n   sleep(0.1) # Maybe add some extra time\nend```","user":"USU9FRPEU","ts":"1616016939.061100","team":"T68168MUP","edited":{"user":"USU9FRPEU","ts":"1616017158.000000"},"blocks":[{"type":"rich_text","block_id":"fd0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Something like this:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for idx in eachindex(items_to_download)\n   @async download_item(items_to_download[idx])\n   sleep(0.1) # Maybe add some extra time\nend"}]}]}],"thread_ts":"1616015584.055800","parent_user_id":"U017XL92LJG","reactions":[{"name":"juliaspinner","users":["U017XL92LJG","UGU761DU2"],"count":2}]}]