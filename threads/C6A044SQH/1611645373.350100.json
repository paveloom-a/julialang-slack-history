[{"client_msg_id":"c70dd957-6f5c-4d41-ad33-468991ce9081","type":"message","text":"I'm having some difficulty understanding how `LOAD_PATH` works. If I push a directory to it that has a `Manifest.toml`, the dependencies of that directory are accessible. If I delete the `Manifest.toml` from that directory, the dependencies are not accessible. At least I think this is what is happening...\n\nIs this expected or not? The related issue is: <https://github.com/JuliaTesting/TestReports.jl/issues/53> if anyone's interested. I'm trying to ensure that the dependencies of `TestReports` are in the sandbox environment used to generate the test reports for other packages. Cheers!","user":"U017FUJDBT7","ts":"1611645373.350100","team":"T68168MUP","edited":{"user":"U017FUJDBT7","ts":"1611646462.000000"},"blocks":[{"type":"rich_text","block_id":"sNC4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm having some difficulty understanding how "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" works. If I push a directory to it that has a "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":", the dependencies of that directory are accessible. If I delete the "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":" from that directory, the dependencies are not accessible. At least I think this is what is happening...\n\nIs this expected or not? The related issue is: "},{"type":"link","url":"https://github.com/JuliaTesting/TestReports.jl/issues/53"},{"type":"text","text":" if anyone's interested. I'm trying to ensure that the dependencies of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" are in the sandbox environment used to generate the test reports for other packages. Cheers!"}]}]}],"thread_ts":"1611645373.350100","reply_count":80,"reply_users_count":2,"latest_reply":"1611651101.368100","reply_users":["UH24GRBLL","U017FUJDBT7"],"subscribed":false},{"client_msg_id":"4e8e0575-27ae-4fd5-926d-bec5310318b7","type":"message","text":"you definitely shouldn't have to mess with LOAD_PATH to load dependencies","user":"UH24GRBLL","ts":"1611645856.350200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2qSDY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you definitely shouldn't have to mess with LOAD_PATH to load dependencies"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"516856b3-0282-4f06-a950-247c598cf650","type":"message","text":"it looks like your `test` directory doesn't have a `Project.toml` or `Manifest.toml`? It's the best way I've found to create a test environment","user":"UH24GRBLL","ts":"1611645954.351000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BmGE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it looks like your "},{"type":"text","text":"test","style":{"code":true}},{"type":"text","text":" directory doesn't have a "},{"type":"text","text":"Project.toml","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":"? It's the best way I've found to create a test environment"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"dba10b47-355a-4302-8b28-68dd830cb3e8","type":"message","text":"if those exist, the `]test` facility will just activate that environment","user":"UH24GRBLL","ts":"1611645972.351300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7pKH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if those exist, the "},{"type":"text","text":"]test","style":{"code":true}},{"type":"text","text":" facility will just activate that environment"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b09a518e-6acf-404c-be9c-546d47fb2a33","type":"message","text":"if they don't, IIRC the package dependencies will be used, but I'm not 100% sure on that","user":"UH24GRBLL","ts":"1611646161.351500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"umn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if they don't, IIRC the package dependencies will be used, but I'm not 100% sure on that"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"45660185-b44e-4fc6-85d7-71f666a77206","type":"message","text":"Sorry I wasn't clear. `TestReports` creates JUnit reports for package tests, and when I referred to the test environment I meant the testing of the package the report is being created for, not `TestReports` itself. `TestReports` replicates a lot of `Pkg` behaviour, by creating a sandbox environment in which to run package unit tests. In `Pkg.test` this works fine, as all the dependency information comes from the package itself (either the `Project.toml` or the test directory `Project.toml` as you say). In `TestReports`, we also need to add in the dependencies of `TestReports` itself to that sandbox environment","user":"U017FUJDBT7","ts":"1611646169.351700","team":"T68168MUP","edited":{"user":"U017FUJDBT7","ts":"1611646192.000000"},"blocks":[{"type":"rich_text","block_id":"muAV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry I wasn't clear. "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" creates JUnit reports for package tests, and when I referred to the test environment I meant the testing of the package the report is being created for, not "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" itself. "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" replicates a lot of "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" behaviour, by creating a sandbox environment in which to run package unit tests. In "},{"type":"text","text":"Pkg.test","style":{"code":true}},{"type":"text","text":" this works fine, as all the dependency information comes from the package itself (either the "},{"type":"text","text":"Project.toml","style":{"code":true}},{"type":"text","text":" or the test directory "},{"type":"text","text":"Project.toml","style":{"code":true}},{"type":"text","text":" as you say). In "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":", we also need to add in the dependencies of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" itself to that sandbox environment"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"61517b1b-c5a3-4a39-95fb-a5da4dd72202","type":"message","text":"So packages are supposed to be unaware of `TestReports`?","user":"UH24GRBLL","ts":"1611646484.352100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dEM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So packages are supposed to be unaware of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"290158e9-ebd8-482b-aa30-478562e0c886","type":"message","text":"Yes, the packages being tested should not need `TestReports` as a dependency, instead it is designed to be used during CI","user":"U017FUJDBT7","ts":"1611646579.352300","team":"T68168MUP","edited":{"user":"U017FUJDBT7","ts":"1611646589.000000"},"blocks":[{"type":"rich_text","block_id":"/n9P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, the packages being tested should not need "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" as a dependency, instead it is designed to be used during CI"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"92333d5b-8cc2-4365-a7f3-b45446dfa351","type":"message","text":"I see","user":"UH24GRBLL","ts":"1611646621.352600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nQTo=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2b6c6694-bdd2-495f-a642-ddd4b7361087","type":"message","text":"there used to be some functionality in the Pkg API for merging or stacking environments","user":"UH24GRBLL","ts":"1611646701.352800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ehfi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there used to be some functionality in the Pkg API for merging or stacking environments"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f0b8415b-d4e1-4cfb-bf46-56d55e8059fb","type":"message","text":"hah - in Pkg/src/Operations.jl there's a `sandbox` thing, maybe that can help you out?","user":"UH24GRBLL","ts":"1611646936.353000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HicN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hah - in Pkg/src/Operations.jl there's a "},{"type":"text","text":"sandbox","style":{"code":true}},{"type":"text","text":" thing, maybe that can help you out?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"82d66507-7364-4da3-98fb-14a5f440749e","type":"message","text":"Reading <https://docs.julialang.org/en/v1/manual/code-loading/|these docs> suggests that stacked environments can be used for this purpose. I think `LOAD_PATH` is the mechanism to do this but not sure why the `Manifest` makes a difference","user":"U017FUJDBT7","ts":"1611646979.353200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gB8O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Reading "},{"type":"link","url":"https://docs.julialang.org/en/v1/manual/code-loading/","text":"these docs"},{"type":"text","text":" suggests that stacked environments can be used for this purpose. I think "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" is the mechanism to do this but not sure why the "},{"type":"text","text":"Manifest","style":{"code":true}},{"type":"text","text":" makes a difference"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2ea86445-9785-4446-b7c4-c9d600aeab71","type":"message","text":"ah, yes, that was what I was talking about","user":"UH24GRBLL","ts":"1611647045.353400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U1Ni","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, yes, that was what I was talking about"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7","reactions":[{"name":"+1","users":["U017FUJDBT7"],"count":1}]},{"client_msg_id":"646db2b0-06fb-4bc0-8d9d-08aa44d163d2","type":"message","text":"was not aware that this was achieved by pushing to LOAD_PATH","user":"UH24GRBLL","ts":"1611647053.353600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4hw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"was not aware that this was achieved by pushing to LOAD_PATH"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"94a70770-2b43-4743-abbf-60e38e9a0ade","type":"message","text":"Yes `TestReports` uses `sandbox` from `Pkg` to create the test environment, and then I push to `LOAD_PATH` inside of that","user":"U017FUJDBT7","ts":"1611647079.353900","team":"T68168MUP","edited":{"user":"U017FUJDBT7","ts":"1611647089.000000"},"blocks":[{"type":"rich_text","block_id":"MexbW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" uses "},{"type":"text","text":"sandbox","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" to create the test environment, and then I push to "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" inside of that"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"80505f66-e77d-4ce3-9588-9bd910969430","type":"message","text":"I think it comes down to <https://docs.julialang.org/en/v1/manual/code-loading/#Environments>","user":"UH24GRBLL","ts":"1611647175.354200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"he+B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it comes down to "},{"type":"link","url":"https://docs.julialang.org/en/v1/manual/code-loading/#Environments"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b8770647-27f5-4596-a5b3-d4777f177997","type":"message","text":"From what I understood using a `Manifest.toml` in an environment pushed to LOAD_PATH was optional, but in my case it seems to be making a differene","user":"U017FUJDBT7","ts":"1611647183.354400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MrRLE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"From what I understood using a "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":" in an environment pushed to LOAD_PATH was optional, but in my case it seems to be making a differene"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"ef4079ea-f790-4441-b4f1-7e806c8b7f8f","type":"message","text":"what does the directory structure of that path look like?","user":"UH24GRBLL","ts":"1611647212.354600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SnwED","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does the directory structure of that path look like?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"3696bff1-dc58-4fc9-a8a6-089c6b5673c5","type":"message","text":"It's just the directory of `TestReports` itself","user":"U017FUJDBT7","ts":"1611647264.354800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HKFi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's just the directory of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" itself"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"c135e0ee-e4a3-49c1-9d75-c0663b5cf264","type":"message","text":"So a standard package layout","user":"U017FUJDBT7","ts":"1611647275.355000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g6gVM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So a standard package layout"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b507dfe2-a017-4fbc-9381-f9d9fbd2cd99","type":"message","text":"And inside the sandbox `LOAD_PATH` contains the directory of `TestReports` ,`@` and the temporary sandbox project in that order","user":"U017FUJDBT7","ts":"1611647330.355200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rzi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And inside the sandbox "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" contains the directory of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" ,"},{"type":"text","text":"@","style":{"code":true}},{"type":"text","text":" and the temporary sandbox project in that order"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"d7f64d1b-cfc4-4e53-a1eb-834b0875053c","type":"message","text":"I think it might have to do with the exact path you're pushing to LOAD_PATH?","user":"UH24GRBLL","ts":"1611647390.355400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lZN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it might have to do with the exact path you're pushing to LOAD_PATH?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f82e3198-9b6b-4097-9545-f3af4ca6d77c","type":"message","text":"<https://docs.julialang.org/en/v1/manual/code-loading/#Package-directories>\n\nthose path formats are kind of tricky to translate correctly to what should be pushed into LOAD_PATH","user":"UH24GRBLL","ts":"1611647448.355600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w+m9","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.julialang.org/en/v1/manual/code-loading/#Package-directories"},{"type":"text","text":"\n\nthose path formats are kind of tricky to translate correctly to what should be pushed into LOAD_PATH"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"aa6ba0ac-88e9-4b90-b5e0-369dfc5f3159","type":"message","text":"it's the parent directory of those paths that has to be pushed","user":"UH24GRBLL","ts":"1611647461.355800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hl7t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's the parent directory of those paths that has to be pushed"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"291db2a2-7e18-4344-9fce-f4c299b9e079","type":"message","text":"also:\n\n&gt; If it has a project file, it can only import those packages which are identified in the [deps] section of the project file.","user":"UH24GRBLL","ts":"1611647542.356000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZT6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also:\n\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":"If it has a project file, it can only import those packages which are identified in the [deps] section of the project file."}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"caeb33ca-e331-47d9-9284-a9ca6d4e92d5","type":"message","text":"and `TestReports` is not a dependency of `TestReports`, right?","user":"UH24GRBLL","ts":"1611647555.356200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JqN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" is not a dependency of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":", right?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"72a6e54b-61aa-45b0-87c8-00d09296946a","type":"message","text":"No it's not, but the error I'm seeing is the deps of `TestReports` not being in the environment","user":"U017FUJDBT7","ts":"1611647632.356400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GvMAP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No it's not, but the error I'm seeing is the deps of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" not being in the environment"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"53853f80-3741-4df2-8ac2-2fde41961f6a","type":"message","text":"I didn't quite follow the path format thing above! Should it be the folder above `TestReports.jl`?","user":"U017FUJDBT7","ts":"1611647698.356600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BrRO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't quite follow the path format thing above! Should it be the folder above `TestReports.jl`?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"1189c7bc-2d6d-4b66-877f-1b830c658399","type":"message","text":"When the Manifest is there it seems to be working correctly, which makes me think the stacked environment is behaving differently when there is no Manifest present","user":"U017FUJDBT7","ts":"1611647732.356800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KWU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When the Manifest is there it seems to be working correctly, which makes me think the stacked environment is behaving differently when there is no Manifest present"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"78d7cbae-1a3f-456c-b656-e28b4256b8dd","type":"message","text":"&gt; I didn't quite follow the path format thing above! Should it be the folder above `TestReports.jl`?\nI think so, yeah - that's what I do in my non-standard path for my own packages anyway","user":"UH24GRBLL","ts":"1611647812.357000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iOP8","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"I didn't quite follow the path format thing above! Should it be the folder above "},{"type":"text","text":"TestReports.jl","style":{"code":true}},{"type":"text","text":"?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI think so, yeah - that's what I do in my non-standard path for my own packages anyway"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"fca9d7f2-364d-45c9-a028-6ba8bfb75da0","type":"message","text":"I mean, I have something like `Projects/A/src/A.jl` and I push `Projects` to LOAD_PATH, not `A`","user":"UH24GRBLL","ts":"1611647844.357200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2jx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, I have something like "},{"type":"text","text":"Projects/A/src/A.jl","style":{"code":true}},{"type":"text","text":" and I push "},{"type":"text","text":"Projects","style":{"code":true}},{"type":"text","text":" to LOAD_PATH, not "},{"type":"text","text":"A","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b4b1b7df-5bc1-468d-9a73-32ef2151ca4a","type":"message","text":"same goes for `Projects/B/src/B.jl`, only `Projects` is pushed once and I have access to both `B` and `A` in the top level project","user":"UH24GRBLL","ts":"1611647873.357400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CYtd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"same goes for "},{"type":"text","text":"Projects/B/src/B.jl","style":{"code":true}},{"type":"text","text":", only "},{"type":"text","text":"Projects","style":{"code":true}},{"type":"text","text":" is pushed once and I have access to both "},{"type":"text","text":"B","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" in the top level project"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"77bac1c3-70e3-40ae-aa73-b2815f0779ee","type":"message","text":"Interesting, so that changed the behaviour. Now it can't find `TestReports` itself, rather than its dependencies","user":"U017FUJDBT7","ts":"1611647932.357600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gjj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Interesting, so that changed the behaviour. Now it can't find "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" itself, rather than its dependencies"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"984e77e3-f39d-4b5b-97c1-8e65b50a6ae0","type":"message","text":"Let's try doing both...","user":"U017FUJDBT7","ts":"1611647954.357800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7JwY7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let's try doing both..."}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"9c0fd046-6699-4006-a70b-c25561ff1a2e","type":"message","text":"Didn't seem to work. It's strange that TestReports couldn't be found when I added the directory above it","user":"U017FUJDBT7","ts":"1611648088.358000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x+6zI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Didn't seem to work. It's strange that TestReports couldn't be found when I added the directory above it"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"9289fce0-7262-42f3-8feb-2835a1951e17","type":"message","text":"OK, so in my issue above its using the version of `TestReports` that is installed by Pkg. So its path is `~/.julia/packages/TestReports/RT2ai'. I still don't think that's the problem though","user":"U017FUJDBT7","ts":"1611648342.358200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/=X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, so in my issue above its using the version of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" that is installed by Pkg. So its path is `~/.julia/packages/TestReports/RT2ai'. I still don't think that's the problem though"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"6a8aea0c-256c-4470-88d7-1f7edd61874d","type":"message","text":"`$(Base.load_path_setup_code(false))` that's right above in the test runner","user":"UH24GRBLL","ts":"1611648420.358400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EKH7+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"$(Base.load_path_setup_code(false))","style":{"code":true}},{"type":"text","text":" that's right above in the test runner"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"1e25ab30-b9b1-46c1-b753-c2d207a7f031","type":"message","text":"what order are things pushed into LOAD_PATH?","user":"UH24GRBLL","ts":"1611648579.358600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i16Xk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what order are things pushed into LOAD_PATH?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"fce62f45-dceb-4207-ab7e-8019bc6b0b5c","type":"message","text":"`Base.load_path_setup_code(true)` adds more environments to `LOAD_PATH`, but I think that removes some of the isolation of the sandbox that is needed when testing packages","user":"U017FUJDBT7","ts":"1611648604.358800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fzj5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Base.load_path_setup_code(true)","style":{"code":true}},{"type":"text","text":" adds more environments to "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":", but I think that removes some of the isolation of the sandbox that is needed when testing packages"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"70519339-fd39-4e36-8c40-82c74a87f4d3","type":"message","text":"Both of these orders don't work:\n1. `TestReports` dir\n2. `@`\n3. Sandbox project\nand\n1. `@`\n2. Sandbox project\n3. `TestReports` dir","user":"U017FUJDBT7","ts":"1611648622.359000","team":"T68168MUP","edited":{"user":"U017FUJDBT7","ts":"1611648662.000000"},"blocks":[{"type":"rich_text","block_id":"xay+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Both of these orders don't work:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" dir"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"@","style":{"code":true}}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Sandbox project"}]}],"style":"ordered","indent":0},{"type":"rich_text_section","elements":[{"type":"text","text":"and\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@","style":{"code":true}}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Sandbox project"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" dir"}]}],"style":"ordered","indent":0}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2c2e66b0-e08a-42e9-a3b3-b23e5efe0a48","type":"message","text":"what does `@` expand to here?","user":"UH24GRBLL","ts":"1611648841.359500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WYWB8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does "},{"type":"text","text":"@","style":{"code":true}},{"type":"text","text":" expand to here?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f645b089-e4ae-4cf2-a49f-24dd308551e6","type":"message","text":"I think the active project (if that's what it expands to) is the sandbox project, but could be wrong","user":"U017FUJDBT7","ts":"1611648874.359700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the active project (if that's what it expands to) is the sandbox project, but could be wrong"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f88e6c73-ea54-4e5a-9916-570834ec1041","type":"message","text":"`Base.active_project()` should tell you","user":"UH24GRBLL","ts":"1611648900.359900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bBf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Base.active_project()","style":{"code":true}},{"type":"text","text":" should tell you"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"e4846ba6-8ba7-4c60-9906-90524975bfc9","type":"message","text":"if it's the sandbox project, you have it doubly in there, I think","user":"UH24GRBLL","ts":"1611648920.360100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r1KEf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it's the sandbox project, you have it doubly in there, I think"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"e49c01aa-c22d-4d7f-afd7-81a779e96188","type":"message","text":"the question is which of those throws in the case that all three are `TestReports`","user":"UH24GRBLL","ts":"1611648979.360300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3MWd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the question is which of those throws in the case that all three are "},{"type":"text","text":"TestReports","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f71bad8a-20e5-431e-8784-8d3f31a3e658","type":"message","text":"So `Base.activae_project()` gives `/var/folders/29/f6ksj93n5dz5zwdbz89rt9kh95rtb6/T/jl_d4rhhm/Project.toml` (the sandbox env)\nand the load path is `[\"@\", \"/var/folders/29/f6ksj93n5dz5zwdbz89rt9kh95rtb6/T/jl_d4rhhm\"]` (before pushing TestReports). That duplication is done by `sandbox`  i think","user":"U017FUJDBT7","ts":"1611649158.360500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e56d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So "},{"type":"text","text":"Base.activae_project()","style":{"code":true}},{"type":"text","text":" gives "},{"type":"text","text":"/var/folders/29/f6ksj93n5dz5zwdbz89rt9kh95rtb6/T/jl_d4rhhm/Project.toml","style":{"code":true}},{"type":"text","text":" (the sandbox env)\nand the load path is "},{"type":"text","text":"[\"@\", \"/var/folders/29/f6ksj93n5dz5zwdbz89rt9kh95rtb6/T/jl_d4rhhm\"]","style":{"code":true}},{"type":"text","text":" (before pushing TestReports). That duplication is done by "},{"type":"text","text":"sandbox","style":{"code":true}},{"type":"text","text":"  i think"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"8c6145c7-aec4-47d9-846a-56cf70998071","type":"message","text":"is the active project also `TestReports` but in a temp directory?","user":"UH24GRBLL","ts":"1611649533.360700","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1611649554.000000"},"blocks":[{"type":"rich_text","block_id":"M4+G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is the active project also "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" but in a temp directory?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"92ae4ab0-473a-4098-bee8-747fd81ede4d","type":"message","text":"No, it's a the test project for the package being tested so a combination of its deps and its test deps","user":"U017FUJDBT7","ts":"1611649624.361100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kKm5u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, it's a the test project for the package being tested so a combination of its deps and its test deps"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f0ae3f31-3174-4e6c-af0a-b5cf7a042e79","type":"message","text":"but were you testing it out with `TestReports` as the test project?","user":"UH24GRBLL","ts":"1611649687.361300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FC5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but were you testing it out with "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" as the test project?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"e707a860-85e5-46e5-8924-131493fed6b5","type":"message","text":"if so, it might be that the merging there is buggy..?","user":"UH24GRBLL","ts":"1611649702.361500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1+L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if so, it might be that the merging there is buggy..?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"78fdd436-edd2-4518-b2cf-97f4831e104c","type":"message","text":"Nope I'm using `Example.jl`","user":"U017FUJDBT7","ts":"1611649710.361700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"39l=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope I'm using "},{"type":"text","text":"Example.jl","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"42090726-a66a-4b35-a67a-d3627c5e929b","type":"message","text":"Yes it might well be weird if I used `TestReports`!","user":"U017FUJDBT7","ts":"1611649728.361900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3nfyz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes it might well be weird if I used "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":"!"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b1f7f7e6-1fbd-4b92-b6c6-20ecc75c3bcf","type":"message","text":"yeah, that was my thinking","user":"UH24GRBLL","ts":"1611649748.362100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"doYVU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that was my thinking"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"107761ae-a3fa-438c-947d-101815c9b1d3","type":"message","text":"I can add a build step which will force there to be a `Manifest.toml`, and then it should work, but I don't want to do that unless i have to!","user":"U017FUJDBT7","ts":"1611649842.362300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Soy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can add a build step which will force there to be a "},{"type":"text","text":"Manifest.toml","style":{"code":true}},{"type":"text","text":", and then it should work, but I don't want to do that unless i have to!"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"a071c66f-a659-4126-9853-ff6702ff6c47","type":"message","text":"`testreportsdir = dirname(@__DIR__)`\nthis in `runner.jl` will not give the directory of `TestReports` though","user":"UH24GRBLL","ts":"1611649921.362500","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1611649938.000000"},"blocks":[{"type":"rich_text","block_id":"k5S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"testreportsdir = dirname(@__DIR__)","style":{"code":true}},{"type":"text","text":"\nthis in "},{"type":"text","text":"runner.jl","style":{"code":true}},{"type":"text","text":" will not give the directory of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" though"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"bf3c254c-082a-4fb9-97fc-02d8c1893e16","type":"message","text":"right?","user":"UH24GRBLL","ts":"1611649960.362900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bOa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f700c48b-035d-4902-b39f-2b295dcbb6ba","type":"message","text":"it's included in `TestReports.jl`, so it'll expand to `path/to/TestReports/src`","user":"UH24GRBLL","ts":"1611649998.363100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"81Zm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's included in "},{"type":"text","text":"TestReports.jl","style":{"code":true}},{"type":"text","text":", so it'll expand to "},{"type":"text","text":"path/to/TestReports/src","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"cbeccdd5-5656-418d-9d3e-782c8bea3cfc","type":"message","text":"I think you want to get `path/to` instead","user":"UH24GRBLL","ts":"1611650013.363300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fdc+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you want to get "},{"type":"text","text":"path/to","style":{"code":true}},{"type":"text","text":" instead"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"ad8204b0-7478-4e88-9a9b-3e7219667e59","type":"message","text":"I think it gives `path/to/TestReports` as `@__DIR__` gives the directory of the file its in, even if it's included (I think)","user":"U017FUJDBT7","ts":"1611650099.363500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r/R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it gives "},{"type":"text","text":"path/to/TestReports","style":{"code":true}},{"type":"text","text":" as "},{"type":"text","text":"@__DIR__","style":{"code":true}},{"type":"text","text":" gives the directory of the file its in, even if it's included (I think)"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"0396f379-4c36-4f39-aabb-8581a69f5092","type":"message","text":"yes, with the `dirname` it gives `path/to/TestReports`","user":"UH24GRBLL","ts":"1611650128.363700","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1611650135.000000"},"blocks":[{"type":"rich_text","block_id":"bTzl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, with the "},{"type":"text","text":"dirname","style":{"code":true}},{"type":"text","text":" it gives "},{"type":"text","text":"path/to/TestReports","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2c28b5d5-de72-490b-b50b-b2717b4e5dd8","type":"message","text":"Yep, that's what was intended, and what works when the `Manifest` is present","user":"U017FUJDBT7","ts":"1611650152.364000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BU0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, that's what was intended, and what works when the "},{"type":"text","text":"Manifest","style":{"code":true}},{"type":"text","text":" is present"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"46476cd7-4a37-489f-a645-a13d33eed70b","type":"message","text":"but I think you want to get `path/to` instead here, so twice the dirname","user":"UH24GRBLL","ts":"1611650161.364200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=75","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I think you want to get "},{"type":"text","text":"path/to","style":{"code":true}},{"type":"text","text":" instead here, so twice the dirname"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"8a8fd192-d164-4309-ae5c-1a159cb85a4c","type":"message","text":"Hmm I tried testing that, and it then couldn't find `TestReports` itself, possibly because `path/to` contains multiple versions of `TestReports`?","user":"U017FUJDBT7","ts":"1611650269.364400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yBowN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm I tried testing that, and it then couldn't find "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" itself, possibly because "},{"type":"text","text":"path/to","style":{"code":true}},{"type":"text","text":" contains multiple versions of "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"4cad782d-e8c0-4a98-9c4e-90465f7745f5","type":"message","text":"wait what, multiple versions?","user":"UH24GRBLL","ts":"1611650291.364600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4YJm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait what, multiple versions?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"f28f5589-5d22-4b46-8cb7-1962cfe6087f","type":"message","text":"yeah, that might be","user":"UH24GRBLL","ts":"1611650301.364800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o+vCm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that might be"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"a1dbccff-6ec1-4284-99fd-2d2fa58aa860","type":"message","text":"Its in the packages folder when installed","user":"U017FUJDBT7","ts":"1611650303.365000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MitDW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Its in the packages folder when installed"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"dec3f2d7-8f7d-430c-a9d2-9779d3b7cb18","type":"message","text":"do you have an old version that doesn't have EzXML?","user":"UH24GRBLL","ts":"1611650315.365200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KyjF9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you have an old version that doesn't have EzXML?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"8b5a4c00-ce70-43b4-9a8b-4b105e9abd6d","type":"message","text":"No unfortunately, it's always needed it","user":"U017FUJDBT7","ts":"1611650329.365400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WTaV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No unfortunately, it's always needed it"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"0f64cb31-a90e-4566-a3b0-abe99ef6de76","type":"message","text":"hm","user":"UH24GRBLL","ts":"1611650334.365600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jdv4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"07552064-219a-4ca0-ae3a-9379c2fede99","type":"message","text":"I can try deleting all the other versions in the folder, see if that helps","user":"U017FUJDBT7","ts":"1611650350.365800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wR9J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can try deleting all the other versions in the folder, see if that helps"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"fcac53a3-7d31-4162-ab15-44f55f457681","type":"message","text":"worth a try","user":"UH24GRBLL","ts":"1611650361.366000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TdKO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"worth a try"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"b52aa83d-5601-43f6-8325-d6c446981ea6","type":"message","text":"Didn't help unfortunately","user":"U017FUJDBT7","ts":"1611650423.366200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3SqrH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Didn't help unfortunately"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2cb9472c-1ef9-430f-bc61-ca3773445776","type":"message","text":"I think the key thing to solve is why it works when `TestReports` dir has a `Manifest` in it, but not otherwise","user":"U017FUJDBT7","ts":"1611650454.366400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+my","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the key thing to solve is why it works when "},{"type":"text","text":"TestReports","style":{"code":true}},{"type":"text","text":" dir has a "},{"type":"text","text":"Manifest","style":{"code":true}},{"type":"text","text":" in it, but not otherwise"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"5b414c28-bda8-4040-ae16-67de316f3000","type":"message","text":"it shouldn't matter in the first place","user":"UH24GRBLL","ts":"1611650474.366600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TafD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it shouldn't matter in the first place"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"64175181-084c-4d10-874f-6b3e98c2c8d0","type":"message","text":"Indeed. Does that suggest it's a bug?","user":"U017FUJDBT7","ts":"1611650493.366800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y+h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Indeed. Does that suggest it's a bug?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"c7b67bbb-ea61-4fd3-96af-3c2b333974b7","type":"message","text":"I can try and make a MWE maybe","user":"U017FUJDBT7","ts":"1611650528.367000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IZdtf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can try and make a MWE maybe"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"57a3b371-f64b-4b20-a87a-582fabf82575","type":"message","text":"you could follow the call stack and see what differs between with Manifest and without","user":"UH24GRBLL","ts":"1611650553.367200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1RCbS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could follow the call stack and see what differs between with Manifest and without"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"d1eb9d0e-8513-470b-836b-b4ff1de3d6d3","type":"message","text":"Not quite sure how to do that, can I examine what happens when \"using TestReports\" is called?","user":"U017FUJDBT7","ts":"1611650606.367400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gq37","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not quite sure how to do that, can I examine what happens when \"using TestReports\" is called?"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"c3f8788c-88bc-4ca9-9b46-66d9657bf5b1","type":"message","text":"I was thinking along the lines of using Debugger and doing `@enter include(\"examplethatkillsit.jl\")`","user":"UH24GRBLL","ts":"1611650648.367600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EzqKg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was thinking along the lines of using Debugger and doing "},{"type":"text","text":"@enter include(\"examplethatkillsit.jl\")","style":{"code":true}}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"2d55522e-2173-452b-806e-b9067e33d677","type":"message","text":"you could also ask in <#C67EFTEF3|pkg-usage> whether you're doing something fundamentally wrong","user":"UH24GRBLL","ts":"1611650753.367800","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1611650764.000000"},"blocks":[{"type":"rich_text","block_id":"GAA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could also ask in "},{"type":"channel","channel_id":"C67EFTEF3"},{"type":"text","text":" whether you're doing something fundamentally wrong"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"},{"client_msg_id":"7a1f3c6f-b167-4119-b5c1-c6664711cdaf","type":"message","text":"I'll give both a go, thanks for the suggestions and your help with this!","user":"U017FUJDBT7","ts":"1611651101.368100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FDY/X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll give both a go, thanks for the suggestions and your help with this!"}]}]}],"thread_ts":"1611645373.350100","parent_user_id":"U017FUJDBT7"}]