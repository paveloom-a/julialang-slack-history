[{"client_msg_id":"d8eb6159-9421-4840-8025-c760d057558d","type":"message","text":"PackageCompiler doesn't seem to precompile `@printf` calls from my module `X` when I do `create_sysimage(:X, ...)`.  I still see printf precompile calls when I run julia with `--trace-compile=stderr`. Is this a known issue or am I doing something wrong?","user":"U66N673NV","ts":"1617242959.173200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sExqt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PackageCompiler doesn't seem to precompile "},{"type":"text","text":"@printf","style":{"code":true}},{"type":"text","text":" calls from my module "},{"type":"text","text":"X","style":{"code":true}},{"type":"text","text":" when I do "},{"type":"text","text":"create_sysimage(:X, ...)","style":{"code":true}},{"type":"text","text":".  I still see printf precompile calls when I run julia with "},{"type":"text","text":"--trace-compile=stderr","style":{"code":true}},{"type":"text","text":". Is this a known issue or am I doing something wrong?"}]}]}],"thread_ts":"1617242959.173200","reply_count":2,"reply_users_count":2,"latest_reply":"1617244098.173500","reply_users":["UAUPJLBQX","U66N673NV"],"is_locked":false,"subscribed":false},{"client_msg_id":"f7d35f06-d28b-4305-aff5-a241595d0946","type":"message","text":"Does the script you give PackageCompiler just lost your module, or does it also call the functions using `@printf`?","user":"UAUPJLBQX","ts":"1617243975.173300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Flh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does the script you give PackageCompiler just lost your module, or does it also call the functions using "},{"type":"text","text":"@printf","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617242959.173200","parent_user_id":"U66N673NV"},{"client_msg_id":"2e62ebf1-9fa8-4ca1-ab3a-3be037101aaa","type":"message","text":"It looks like the issue is related to <https://github.com/JuliaLang/PackageCompiler.jl/pull/354> and linked issues. `@printf` doesn't print to a TTY when creating the sysimage, so it needs to compile when called for real. <@U67D54KS8> was this issue resolved somehow?","user":"U66N673NV","ts":"1617244098.173500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+a3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It looks like the issue is related to "},{"type":"link","url":"https://github.com/JuliaLang/PackageCompiler.jl/pull/354"},{"type":"text","text":" and linked issues. "},{"type":"text","text":"@printf","style":{"code":true}},{"type":"text","text":" doesn't print to a TTY when creating the sysimage, so it needs to compile when called for real. "},{"type":"user","user_id":"U67D54KS8"},{"type":"text","text":" was this issue resolved somehow?"}]}]}],"thread_ts":"1617242959.173200","parent_user_id":"U66N673NV"}]