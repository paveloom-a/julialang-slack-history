[{"client_msg_id":"6cda6bb0-405f-4325-99ee-25ccd753ce70","type":"message","text":"I’m about to buy a new computer, I’m interested in the general consensus regarding whether to go intel or amd?   And at what level?  My current plan is to go with a 10th gen i9, although I’m not sure what the price point of the 11th gen will be.  My reasons for going for intel over one of the ryzens is that intel is better suited for numerical computation with the MKL etc.  Is that the case?","user":"U01JHNJK3L3","ts":"1616582543.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+1pi/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m about to buy a new computer, I’m interested in the general consensus regarding whether to go intel or amd?   And at what level?  My current plan is to go with a 10th gen i9, although I’m not sure what the price point of the 11th gen will be.  My reasons for going for intel over one of the ryzens is that intel is better suited for numerical computation with the MKL etc.  Is that the case?"}]}]}],"thread_ts":"1616582543.003400","reply_count":16,"reply_users_count":5,"latest_reply":"1616838818.006500","reply_users":["U7HAYKY9X","UAEJRV3KJ","UCCUV9K0S","UDSU53PEG","UB7JS9CHF"],"is_locked":false,"subscribed":false},{"client_msg_id":"ac2f9a29-6cad-40cf-a21d-a6d8dac2658a","type":"message","text":"If you do lots of numeric operations on large arrays, Intel is better, just because it has AVX512, so its SIMD operations scale better to large arrays. I would say that's a very specific use case. In general, AMD is much better. For example, my work-laptop is a 19,000 DKK MacBook with a i9-9880H processor, and it's noticably slower than my 7,000 DKK ASUS notebook with Ryzen 4700U, even though, on paper, the Intel one is much better","user":"U7HAYKY9X","ts":"1616586170.003500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zcg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you do lots of numeric operations on large arrays, Intel is better, just because it has AVX512, so its SIMD operations scale better to large arrays. I would say that's a very specific use case. In general, AMD is much better. For example, my work-laptop is a 19,000 DKK MacBook with a i9-9880H processor, and it's noticably slower than my 7,000 DKK ASUS notebook with Ryzen 4700U, even though, on paper, the Intel one is much better"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"e8a5c097-e60e-484b-aafe-b35714734d29","type":"message","text":"So:\n• If 512-bit SIMD matters for the work you do (computations on large numeric arrays), pick Intel\n• Else, pick AMD","user":"U7HAYKY9X","ts":"1616586223.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VW7oY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If 512-bit SIMD matters for the work you do (computations on large numeric arrays), pick Intel"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Else, pick AMD"}]}],"style":"bullet","indent":0}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"f501072e-4156-4a86-935f-bfa90f972c4f","type":"message","text":"By the way, AVX512 is only if you buy the Workstation CPU's with 2 units of AVX512.","user":"UAEJRV3KJ","ts":"1616588232.003900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CKj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"By the way, AVX512 is only if you buy the Workstation CPU's with 2 units of AVX512."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"8f0c65ba-4cbb-4b37-8b71-a5ab0c40e483","type":"message","text":"Otherwise the AMD Ryzen will be faster (For desktop and workstation CPU's).\nWe still don't have Threadripper with Zen3. Once they are available than AMD will rule any workload per $.","user":"UAEJRV3KJ","ts":"1616588279.004100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s+4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Otherwise the AMD Ryzen will be faster (For desktop and workstation CPU's).\nWe still don't have Threadripper with Zen3. Once they are available than AMD will rule any workload per $."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"9860c035-f2ac-48f8-be35-2a99691c3652","type":"message","text":"There's been some benchmarks that show enabling AVX512 makes your program run slower. It's not always beneficial. So yeah, if you only run Lapack/Blas then MKL will be faster on Intel hardware. But then again, OpenBLAS is 2x as fast on AMD hardware than MKL is (because Intel cripples AMD hardware when they detect it)... So you wouldn't want to use MKL in any software you release. Only for running something fast on your own machine.","user":"UCCUV9K0S","ts":"1616591528.004300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"efnf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's been some benchmarks that show enabling AVX512 makes your program run slower. It's not always beneficial. So yeah, if you only run Lapack/Blas then MKL will be faster on Intel hardware. But then again, OpenBLAS is 2x as fast on AMD hardware than MKL is (because Intel cripples AMD hardware when they detect it)... So you wouldn't want to use MKL in any software you release. Only for running something fast on your own machine."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"0a6b674d-3c44-4554-b71e-73f4a02287d0","type":"message","text":"Intel's 10900K or 10900X is quite a lot slower than Ryzen 5900X at similar price points. For most workloads","user":"UCCUV9K0S","ts":"1616591722.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G1W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Intel's 10900K or 10900X is quite a lot slower than Ryzen 5900X at similar price points. For most workloads"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"ca4c1269-fde0-492c-af8d-34f2d9f214c6","type":"message","text":"<@UCCUV9K0S>, AVX512 is faster in numerical code. When AVX512 is heavily used it will downclock the CPU. Hence in a program with sparse AVX512 code it might be that the reduction in frequency will hurt performance more than the efficiency of AVX512.\nThe latest versions of MKL use the generic AVX2 path of MKL for Ryzen. Though it is still better to use the hack on Ryzen. MKL is faster than OpenBLAS, so I'd just use the hack and use MKL on the Ryzen.","user":"UAEJRV3KJ","ts":"1616595552.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/=co","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UCCUV9K0S"},{"type":"text","text":", AVX512 is faster in numerical code. When AVX512 is heavily used it will downclock the CPU. Hence in a program with sparse AVX512 code it might be that the reduction in frequency will hurt performance more than the efficiency of AVX512.\nThe latest versions of MKL use the generic AVX2 path of MKL for Ryzen. Though it is still better to use the hack on Ryzen. MKL is faster than OpenBLAS, so I'd just use the hack and use MKL on the Ryzen."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"610b75df-64c8-497c-8984-79727fab6f25","type":"message","text":"Yeah, but if you have multiple cores and using AVX512 on one of them (in a multi-threaded OS) and having all other programs run slower because of this... That's pretty annoying. The 11900K benchmarks only put it higher than Ryzen on single-core benchmarks that use AVX512 anyway, and always slower multi-core (at least the benchmarks I could find). For consumer-level chips with 10900K or 11900K vs 5900X or 5950X, go Ryzen if you use discrete graphics (the 11900K should be OK if you only want a CPU for work and no graphics card)... The Ryzen is a very nice general-purpose CPU. If it's threadripper vs. i9 X-series, that's another question. Because like <@UAEJRV3KJ> says there's no Zen 3 for Threadripper yet (and the EPYC CPUs with Zen 3 are epic). But I personally think Ryzen is enough and I don't really need Threadripper anymore with faster PCIe anyway :smile:","user":"UCCUV9K0S","ts":"1616597838.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XbL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, but if you have multiple cores and using AVX512 on one of them (in a multi-threaded OS) and having all other programs run slower because of this... That's pretty annoying. The 11900K benchmarks only put it higher than Ryzen on single-core benchmarks that use AVX512 anyway, and always slower multi-core (at least the benchmarks I could find). For consumer-level chips with 10900K or 11900K vs 5900X or 5950X, go Ryzen if you use discrete graphics (the 11900K should be OK if you only want a CPU for work and no graphics card)... The Ryzen is a very nice general-purpose CPU. If it's threadripper vs. i9 X-series, that's another question. Because like "},{"type":"user","user_id":"UAEJRV3KJ"},{"type":"text","text":" says there's no Zen 3 for Threadripper yet (and the EPYC CPUs with Zen 3 are epic). But I personally think Ryzen is enough and I don't really need Threadripper anymore with faster PCIe anyway "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"36482af3-ab68-466b-b863-a6ecef2fccb2","type":"message","text":"Usually the frequency governor will reduce the frequency only to the core with AVX512 thread. But it depends on the thermal headroom of the whole CPU.\nThe main thing about the ThreadRippers isn't the additional PCIe channels but having more memory channels (Sometimes also more cache).\nFor multi threaded workloads memory bandwidth is crucial. For instance, many BLAS operations are mostly bandwidth limited.","user":"UAEJRV3KJ","ts":"1616598033.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cUt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Usually the frequency governor will reduce the frequency only to the core with AVX512 thread. But it depends on the thermal headroom of the whole CPU.\nThe main thing about the ThreadRippers isn't the additional PCIe channels but having more memory channels (Sometimes also more cache).\nFor multi threaded workloads memory bandwidth is crucial. For instance, many BLAS operations are mostly bandwidth limited."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"76a59727-6346-4008-a7de-ee1fe02f5dac","type":"message","text":"And in that case you want Threadripper Pro since those have 8 memory channels :wink:","user":"UCCUV9K0S","ts":"1616598930.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4sZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And in that case you want Threadripper Pro since those have 8 memory channels "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"695dfc80-2f84-4296-8730-a8b3c1e41427","type":"message","text":"Even the regular ThreadRipper, with 4 channels, is a great boost.\nFor instance, Intel's counterparts are also 4 Channels and it has a major effect on performance.","user":"UAEJRV3KJ","ts":"1616606724.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EtH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Even the regular ThreadRipper, with 4 channels, is a great boost.\nFor instance, Intel's counterparts are also 4 Channels and it has a major effect on performance."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"29bfafcf-138a-4853-9723-75633754bb6b","type":"message","text":"why not setup a home lab at that point?","user":"UDSU53PEG","ts":"1616711442.005700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SZo1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why not setup a home lab at that point?"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"e1ae46cd-14b0-4a75-b5ff-deef8842ef14","type":"message","text":"threadripper seems excessive for threads compared to the server market","user":"UDSU53PEG","ts":"1616711470.005900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"68/H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"threadripper seems excessive for threads compared to the server market"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"3572a335-07e7-44c8-a3d2-9a07d89bc7a5","type":"message","text":"Ryzen 5950x vs ThreadRipper vs Intel?","user":"UB7JS9CHF","ts":"1616836075.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GNW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ryzen 5950x vs ThreadRipper vs Intel?"}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"12ad73de-0aa9-4876-a161-9fe101b52ba6","type":"message","text":"The two parts I need to build a killer machine both for his MS Flight Simulator 2020 + my running Julia code with lots of threads + CUDA code have been unavailable since introduction.  I’d like to get an NVidia RTX 3090 + AMD Ryzen 5950x.","user":"UB7JS9CHF","ts":"1616836188.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mNSQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The two parts I need to build a killer machine both for his MS Flight Simulator 2020 + my running Julia code with lots of threads + CUDA code have been unavailable since introduction.  I’d like to get an NVidia RTX 3090 + AMD Ryzen 5950x."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"},{"client_msg_id":"4234cab7-b765-4540-8ffa-464db3268367","type":"message","text":"For now I'd take the Ryzen 5950x. Unless you're able to wait a little for Zen 3 based ThreadRippers.","user":"UAEJRV3KJ","ts":"1616838818.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0iXo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For now I'd take the Ryzen 5950x. Unless you're able to wait a little for Zen 3 based ThreadRippers."}]}]}],"thread_ts":"1616582543.003400","parent_user_id":"U01JHNJK3L3"}]