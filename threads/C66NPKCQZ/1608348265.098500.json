[{"client_msg_id":"42A0232D-1C78-4448-BCE7-B8CFEAD55B46","type":"message","text":"I’ve done exactly that as a cassette transform","user":"U6740K1SP","ts":"1608348265.098500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SbmUg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve done exactly that as a cassette transform"}]}]}],"thread_ts":"1608348265.098500","reply_count":4,"reply_users_count":3,"latest_reply":"1608579599.104900","reply_users":["U68QW0PUZ","UM30MT6RF","U6740K1SP"],"subscribed":false},{"client_msg_id":"f89d8337-e4fd-4773-8c08-fde50f6738be","type":"message","text":"Care to share that with a simple example of its use (I have 0 experience with cassete)?","user":"U68QW0PUZ","ts":"1608369358.100100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"stx66","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Care to share that with a simple example of its use (I have 0 experience with cassete)?"}]}]}],"thread_ts":"1608348265.098500","parent_user_id":"U6740K1SP"},{"client_msg_id":"12867404-6a7b-4684-903d-8e43a0de1687","type":"message","text":"I wrote a simple example using IRTools in this thread: <https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&amp;cid=C67910KEH|https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&amp;cid=C67910KEH>. That could quute easily be modified to work for functions other than `div` as well.","user":"UM30MT6RF","ts":"1608376808.101100","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&amp;cid=C67910KEH","fallback":"[December 14th, 2020 12:30 PM] simeondavidschaub99: Something like this should do the trick:\n```julia&gt; using IRTools: @dynamo, IR, recurse!\n\njulia&gt; @dynamo function foo(x...)\n           ir = IR(x...)\n           ir === nothing &amp;&amp; return\n           recurse!(ir)\n           return ir\n       end\n\njulia&gt; foo(::typeof(/), x::AbstractFloat, y::AbstractFloat) = iszero(y) ? error(\"division by zero: $x / $y\") : x / y\nfoo (generic function with 2 methods)\n\njulia&gt; foo() do\n           1.0 / 0.0\n       end\nERROR: division by zero: 1.0 / 0.0\nStacktrace:\n [1] error(::String) at ./error.jl:33\n [2] foo(::typeof(/), ::Float64, ::Float64) at ./REPL[8]:1\n [3] #7 at ./REPL[9]:2 [inlined]\n [4] foo(::var\"#7#8\") at /home/simeon/.julia/packages/IRTools/aSVI5/src/reflection/dynamo.jl:0\n [5] top-level scope at REPL[9]:1```","ts":"1607977802.059500","author_id":"UM30MT6RF","author_subname":"Simeon Schaub","channel_id":"C67910KEH","channel_name":"general","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"Something like this should do the trick:\n```julia&gt; using IRTools: @dynamo, IR, recurse!\n\njulia&gt; @dynamo function foo(x...)\n           ir = IR(x...)\n           ir === nothing &amp;&amp; return\n           recurse!(ir)\n           return ir\n       end\n\njulia&gt; foo(::typeof(/), x::AbstractFloat, y::AbstractFloat) = iszero(y) ? error(\"division by zero: $x / $y\") : x / y\nfoo (generic function with 2 methods)\n\njulia&gt; foo() do\n           1.0 / 0.0\n       end\nERROR: division by zero: 1.0 / 0.0\nStacktrace:\n [1] error(::String) at ./error.jl:33\n [2] foo(::typeof(/), ::Float64, ::Float64) at ./REPL[8]:1\n [3] #7 at ./REPL[9]:2 [inlined]\n [4] foo(::var\"#7#8\") at /home/simeon/.julia/packages/IRTools/aSVI5/src/reflection/dynamo.jl:0\n [5] top-level scope at REPL[9]:1```","author_name":"Simeon Schaub","author_link":"https://julialang.slack.com/team/UM30MT6RF","author_icon":"https://secure.gravatar.com/avatar/699ac293da53f15cfebaa5870e72665e.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0007-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&amp;cid=C67910KEH","footer":"From a thread in #general"}],"blocks":[{"type":"rich_text","block_id":"4OO83","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wrote a simple example using IRTools in this thread: "},{"type":"link","url":"https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&cid=C67910KEH","text":"https://julialang.slack.com/archives/C67910KEH/p1607977802059500?thread_ts=1607976674.055900&cid=C67910KEH"},{"type":"text","text":". That could quute easily be modified to work for functions other than "},{"type":"text","text":"div","style":{"code":true}},{"type":"text","text":" as well."}]}]}],"thread_ts":"1608348265.098500","parent_user_id":"U6740K1SP"},{"client_msg_id":"81f1356e-f44c-4d59-b996-9ef72674a0c1","type":"message","text":"I had started a repo for the a long time ago but never finished it… just pushed whatever was the last scratch as I had played with it at the REPL","user":"U6740K1SP","ts":"1608579593.104700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F0l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I had started a repo for the a long time ago but never finished it… just pushed whatever was the last scratch as I had played with it at the REPL"}]}]}],"thread_ts":"1608348265.098500","parent_user_id":"U6740K1SP"},{"type":"message","subtype":"thread_broadcast","text":"<https://github.com/mbauman/TheNaNTrap.jl>","user":"U6740K1SP","ts":"1608579599.104900","thread_ts":"1608348265.098500","root":{"client_msg_id":"42A0232D-1C78-4448-BCE7-B8CFEAD55B46","type":"message","text":"I’ve done exactly that as a cassette transform","user":"U6740K1SP","ts":"1608348265.098500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SbmUg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve done exactly that as a cassette transform"}]}]}],"thread_ts":"1608348265.098500","reply_count":4,"reply_users_count":3,"latest_reply":"1608579599.104900","reply_users":["U68QW0PUZ","UM30MT6RF","U6740K1SP"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"nhA","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/mbauman/TheNaNTrap.jl"}]}]}],"client_msg_id":"d442b41c-5f41-43de-bceb-9ecf66a3381e","reactions":[{"name":"nan","users":["U680THK2S","UGU761DU2","U67G3QRJM","U015QHL48K0","U68QW0PUZ"],"count":5},{"name":"beaker","users":["U6N6VQE30","U015QHL48K0","U6CJRSR63"],"count":3}]}]