[{"client_msg_id":"3e66a58c-9f7c-48d6-a98b-868ea44d0913","type":"message","text":"Playing with parameterizations\n```julia&gt; @btime logdensity(Bernoulli(p = logistic(2.0)), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-0.12692801104297252\n\njulia&gt; @btime logdensity(Bernoulli(logit_p = 2.0), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-0.1269280110429727\n\njulia&gt; @btime logdensity(Bernoulli(p = logistic(20.0)), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-2.0611535832696244e-9\n\njulia&gt; @btime logdensity(Bernoulli(logit_p = 20.0), 1)\n  0.010 ns (0 allocations: 0 bytes)\n-2.061153026033935e-9```","user":"U81PB6N77","ts":"1612539545.050400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hP4h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Playing with parameterizations\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @btime logdensity(Bernoulli(p = logistic(2.0)), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-0.12692801104297252\n\njulia> @btime logdensity(Bernoulli(logit_p = 2.0), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-0.1269280110429727\n\njulia> @btime logdensity(Bernoulli(p = logistic(20.0)), 1)\n  1.152 ns (0 allocations: 0 bytes)\n-2.0611535832696244e-9\n\njulia> @btime logdensity(Bernoulli(logit_p = 20.0), 1)\n  0.010 ns (0 allocations: 0 bytes)\n-2.061153026033935e-9"}]}]}],"thread_ts":"1612539545.050400","reply_count":3,"reply_users_count":2,"latest_reply":"1612564217.051000","reply_users":["U81PB6N77","U67G3QRJM"],"subscribed":false},{"client_msg_id":"6a47d49b-2fec-4ee1-92f6-0cd5e90d1eec","type":"message","text":"This is\n```function logdensity(d::Bernoulli{(:logit_p,)}, y)\n    x = d.logit_p\n    return y * x - log1pexp(x)\nend```\nStill need to have a nice way to represent the support","user":"U81PB6N77","ts":"1612539614.050500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P4h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function logdensity(d::Bernoulli{(:logit_p,)}, y)\n    x = d.logit_p\n    return y * x - log1pexp(x)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nStill need to have a nice way to represent the support"}]}]}],"thread_ts":"1612539545.050400","parent_user_id":"U81PB6N77"},{"client_msg_id":"a8c30219-ac0a-4be0-9436-2f7fb8fdcc28","type":"message","text":"Benchmark times of 0 mean that the compiler is optimizing the whole calculation away. In that case you need to use the Ref trick","user":"U67G3QRJM","ts":"1612563258.050800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MoTy+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Benchmark times of 0 mean that the compiler is optimizing the whole calculation away. In that case you need to use the Ref trick"}]}]}],"thread_ts":"1612539545.050400","parent_user_id":"U81PB6N77"},{"client_msg_id":"23bbe43f-f275-41bb-a005-8bfa530e4727","type":"message","text":"If it optimizes away one calculation but not the other, isn't that good to know? Or maybe it doesn't generalize beyond a hard-coded example?\n\nMostly I was really happy with the flexibility","user":"U81PB6N77","ts":"1612564217.051000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5nMMQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it optimizes away one calculation but not the other, isn't that good to know? Or maybe it doesn't generalize beyond a hard-coded example?\n\nMostly I was really happy with the flexibility"}]}]}],"thread_ts":"1612539545.050400","parent_user_id":"U81PB6N77"}]