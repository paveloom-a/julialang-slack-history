[{"client_msg_id":"6a0768b5-43c4-4452-ba4c-168f8a9c2a92","type":"message","text":"An quick question, how can I solve this issue with BinaryBuilder :\n```/opt/x86_64-linux-gnu/bin/../lib/gcc/x86_64-linux-gnu/9.1.0/../../../../x86_64-linux-gnu/bin/ld: cannot find -lz```","user":"UGG8Z375L","ts":"1614966131.156300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HWz1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"An quick question, how can I solve this issue with BinaryBuilder :\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/opt/x86_64-linux-gnu/bin/../lib/gcc/x86_64-linux-gnu/9.1.0/../../../../x86_64-linux-gnu/bin/ld: cannot find -lz"}]}]}],"thread_ts":"1614966131.156300","reply_count":7,"reply_users_count":2,"latest_reply":"1614967969.157700","reply_users":["UDB26738Q","UGG8Z375L"],"subscribed":false},{"client_msg_id":"dfe8628b-bf9e-4931-9f60-da3492a18683","type":"message","text":"<https://docs.binarybuilder.org/stable/troubleshooting/#Libraries-of-the-dependencies-can't-be-found>","user":"UDB26738Q","ts":"1614966162.156400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FKy","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.binarybuilder.org/stable/troubleshooting/#Libraries-of-the-dependencies-can't-be-found"}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"fd05591d-93f1-44fa-8b9a-5cb6880acae5","type":"message","text":"actually, the answer should be a bit more elaborate and explain that this depends on the build system.  the bottom line is that you need to pass `-L${libdir}` to the compiler, but the how depends","user":"UDB26738Q","ts":"1614966239.156600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E7w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"actually, the answer should be a bit more elaborate and explain that this depends on the build system.  the bottom line is that you need to pass "},{"type":"text","text":"-L${libdir}","style":{"code":true}},{"type":"text","text":" to the compiler, but the how depends"}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"7c231b30-7589-4e0f-9653-ada3d64a6ff1","type":"message","text":"I have the following Makefile.inc :\n```EXE\t\t=\nLIB\t\t= .a\nOBJ\t\t= .o\n\nMAKE\t\t= make\nAR\t\t= ar\nARFLAGS\t\t= -ruv\nCAT\t\t= cat\nCCS\t\t= gcc\nCCP\t\t= mpicc\nCCD\t\t= gcc\nCFLAGS\t\t= -O3 -fPIC -DCOMMON_FILE_COMPRESS_GZ -DCOMMON_PTHREAD -DCOMMON_RANDOM_FIXED_SEED -DSCOTCH_RENAME -DSCOTCH_PTHREAD -Drestrict=__restrict -DIDXSIZE64\nCLIBFLAGS\t=\nLDFLAGS\t\t= -lz -lm -lrt -pthread\nCP\t\t= cp\nLEX\t\t= flex -Pscotchyy -olex.yy.c\nLN\t\t= ln\nMKDIR\t\t= mkdir -p\nMV\t\t= mv\nRANLIB\t\t= ranlib\nYACC\t\t= bison -pscotchyy -y -b y```","user":"UGG8Z375L","ts":"1614966992.156800","team":"T68168MUP","edited":{"user":"UGG8Z375L","ts":"1614967036.000000"},"blocks":[{"type":"rich_text","block_id":"gij","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have the following Makefile.inc :\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"EXE\t\t=\nLIB\t\t= .a\nOBJ\t\t= .o\n\nMAKE\t\t= make\nAR\t\t= ar\nARFLAGS\t\t= -ruv\nCAT\t\t= cat\nCCS\t\t= gcc\nCCP\t\t= mpicc\nCCD\t\t= gcc\nCFLAGS\t\t= -O3 -fPIC -DCOMMON_FILE_COMPRESS_GZ -DCOMMON_PTHREAD -DCOMMON_RANDOM_FIXED_SEED -DSCOTCH_RENAME -DSCOTCH_PTHREAD -Drestrict=__restrict -DIDXSIZE64\nCLIBFLAGS\t=\nLDFLAGS\t\t= -lz -lm -lrt -pthread\nCP\t\t= cp\nLEX\t\t= flex -Pscotchyy -olex.yy.c\nLN\t\t= ln\nMKDIR\t\t= mkdir -p\nMV\t\t= mv\nRANLIB\t\t= ranlib\nYACC\t\t= bison -pscotchyy -y -b y"}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"b8ed3483-145a-4a90-a977-88ad3bbefcad","type":"message","text":"if that's a custom build system, I don't know exactly how those variables are used.  in principle `-L${libdir}` should go to `LDFLAGS`","user":"UDB26738Q","ts":"1614967102.157100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KDtAd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if that's a custom build system, I don't know exactly how those variables are used.  in principle "},{"type":"text","text":"-L${libdir}","style":{"code":true}},{"type":"text","text":" should go to "},{"type":"text","text":"LDFLAGS","style":{"code":true}}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"fae41302-1747-4840-84ca-f047cf9802a4","type":"message","text":"I added `Zlib_jll` as a dependency and it solved everything :slightly_smiling_face:","user":"UGG8Z375L","ts":"1614967827.157300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ML00d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I added "},{"type":"text","text":"Zlib_jll","style":{"code":true}},{"type":"text","text":" as a dependency and it solved everything "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"07d31a85-a2ae-428d-980f-72e5998bbc50","type":"message","text":"oh, so you were genuinely missing the library? :slightly_smiling_face:","user":"UDB26738Q","ts":"1614967857.157500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eo/55","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, so you were genuinely missing the library? "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"},{"client_msg_id":"e23fbdb2-7463-4334-967d-fecdd767b70e","type":"message","text":"Yes, because after I encountered the error :\n```common_file_compress.c:67:10: fatal error: zlib.h: No such file or directory\n   67 | #include \"zlib.h\"\n      |          ^~~~~~~~\ncompilation terminated.```","user":"UGG8Z375L","ts":"1614967969.157700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SBoM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, because after I encountered the error :\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"common_file_compress.c:67:10: fatal error: zlib.h: No such file or directory\n   67 | #include \"zlib.h\"\n      |          ^~~~~~~~\ncompilation terminated."}]}]}],"thread_ts":"1614966131.156300","parent_user_id":"UGG8Z375L"}]