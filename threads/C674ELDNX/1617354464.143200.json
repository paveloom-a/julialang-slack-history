[{"client_msg_id":"ea8de8c0-a1cd-452f-b2c5-70b69ee22586","type":"message","text":"I would like to resuscitate TensorBoard on Yggy <https://github.com/JuliaPackaging/Yggdrasil/pull/2266> . <@UDB26738Q>,  you said there that Bazel itself is the problem... do you have suggestions or directions on what to do?","user":"UAJH2818E","ts":"1617354464.143200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yK1f0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would like to resuscitate TensorBoard on Yggy "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2266"},{"type":"text","text":" . "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":",  you said there that Bazel itself is the problem... do you have suggestions or directions on what to do?"}]}]}],"thread_ts":"1617354464.143200","reply_count":40,"reply_users_count":3,"latest_reply":"1617362214.151600","reply_users":["UDB26738Q","UAJH2818E","UCZ7VBGUD"],"is_locked":false,"subscribed":false,"reactions":[{"name":"tada","users":["UCZ7VBGUD"],"count":1}]},{"client_msg_id":"91ff21d1-3fc2-4877-94cc-e34536583a03","type":"message","text":"I wanted to get back to that, but never did it in practice. I have zero experience with bazel, even less so inside BinaryBuilder, so I can't really give you directions. I can only suggest to look at <https://github.com/JuliaPackaging/Yggdrasil/pull/2253|https://github.com/JuliaPackaging/Yggdrasil/pull/2253>","user":"UDB26738Q","ts":"1617354754.143400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6fZkE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wanted to get back to that, but never did it in practice. I have zero experience with bazel, even less so inside BinaryBuilder, so I can't really give you directions. I can only suggest to look at "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2253","text":"https://github.com/JuliaPackaging/Yggdrasil/pull/2253"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"424f2885-2b56-4266-98e1-d145ba1ba6b7","type":"message","text":"`/sbin/apk: unrecognized option: no-chown``","user":"UAJH2818E","ts":"1617357288.143600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oJKK2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"`/sbin/apk: unrecognized option: no-chown``"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"55a3407f-e171-4d5a-81dd-2675a072c38d","type":"message","text":"Are you deleting packages with `apk`?","user":"UDB26738Q","ts":"1617357415.143800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bWp+u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you deleting packages with "},{"type":"text","text":"apk","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"08285134-0973-4b7c-9b38-f3ad7cdcc5e2","type":"message","text":"any apk operation  gives me this error","user":"UAJH2818E","ts":"1617357526.144000","team":"T68168MUP","edited":{"user":"UAJH2818E","ts":"1617357561.000000"},"blocks":[{"type":"rich_text","block_id":"ZRcD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"any apk operation  gives me this error"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"d88bfc56-0be2-4d2b-af55-f235b5a8272c","type":"message","text":"I am using Julia 1.6 and the latest release of BinaryBuilder","user":"UAJH2818E","ts":"1617357552.144200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"21VF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am using Julia 1.6 and the latest release of BinaryBuilder"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"8e2945ab-8433-419c-9bac-dd0fbb84661f","type":"message","text":"Only `apk del` should fail","user":"UDB26738Q","ts":"1617357684.144500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1AcBR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Only "},{"type":"text","text":"apk del","style":{"code":true}},{"type":"text","text":" should fail"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"c2bfba1c-6c91-4a47-a847-cbac55e7d3ef","type":"message","text":"apk update was failing too","user":"UAJH2818E","ts":"1617357700.144700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6oD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"apk update was failing too"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"1b0793b3-91f5-4e05-80cf-f84e1caee72c","type":"message","text":"mais bon","user":"UAJH2818E","ts":"1617357703.144900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KNCT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"mais bon"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"373e07ed-eb0f-419c-b95c-cd0d133d9445","type":"message","text":"Uff, call directly `/sbin/apk`. It's fixed somewhere already, but the fix isn't actually live in BinaryBuilder","user":"UDB26738Q","ts":"1617357765.145100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hJj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Uff, call directly "},{"type":"text","text":"/sbin/apk","style":{"code":true}},{"type":"text","text":". It's fixed somewhere already, but the fix isn't actually live in BinaryBuilder"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"936bff47-f401-469c-a13f-532435fc0755","type":"message","text":"ok thanks","user":"UAJH2818E","ts":"1617357776.145300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CMdP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok thanks"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"3d8b9e12-27a9-4d37-83be-12bda8676f75","type":"message","text":"do you want to start a new PR <@UAJH2818E>? I don’t have much time in the next few days to work on it (and I don’t think I can give you perms to push to that PR)","user":"UCZ7VBGUD","ts":"1617357848.145500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ct=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you want to start a new PR "},{"type":"user","user_id":"UAJH2818E"},{"type":"text","text":"? I don’t have much time in the next few days to work on it (and I don’t think I can give you perms to push to that PR)"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"69f3c567-1c38-4acd-b74d-fa0291a14700","type":"message","text":"yeah i will","user":"UAJH2818E","ts":"1617357857.145700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aCUm4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah i will"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E","reactions":[{"name":"+1","users":["UCZ7VBGUD"],"count":1}]},{"client_msg_id":"aebc567c-650a-4651-b2f2-55305320060a","type":"message","text":"I'm not even sure `apk update` is needed, I have the feeling it updates automatically when you install packages","user":"UDB26738Q","ts":"1617357865.146000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kGFy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not even sure "},{"type":"text","text":"apk update","style":{"code":true}},{"type":"text","text":" is needed, I have the feeling it updates automatically when you install packages"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"296be814-609c-45fb-90e8-56713d383bf0","type":"message","text":"&gt;  (and I don't think I can give you perms to push to that PR)\n&gt; \nCan add as collaborator to your fork","user":"UDB26738Q","ts":"1617357907.146200","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1617357938.000000"},"blocks":[{"type":"rich_text","block_id":"5o6","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" (and I don't think I can give you perms to push to that PR)\n"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nCan add as collaborator to your fork"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"fa1dbd09-ae1a-42fc-ab42-2ffe68c48ae1","type":"message","text":"no","user":"UAJH2818E","ts":"1617357910.146400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rx3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"b4f55c3f-80be-450a-a21e-f14b6befa628","type":"message","text":"ERROR: openjdk8-8.252.09-r0: package mentioned in index not found (try 'apk update')\n(34/34) Installing bazel (2.2.0-r0)\nExecuting busybox-1.31.1-r19.trigger\nExecuting ca-certificates-20191127-r4.trigger\n4 errors; 307 MiB in 145 packages","user":"UAJH2818E","ts":"1617357915.146600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TXlI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ERROR: openjdk8-8.252.09-r0: package mentioned in index not found (try 'apk update')\n(34/34) Installing bazel (2.2.0-r0)\nExecuting busybox-1.31.1-r19.trigger\nExecuting ca-certificates-20191127-r4.trigger\n4 errors; 307 MiB in 145 packages"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E","reactions":[{"name":"weary","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"f9369ccc-311a-45fc-a8b9-0e808ea7f37d","type":"message","text":"so i need to update","user":"UAJH2818E","ts":"1617357950.147000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"66Hd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so i need to update"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"5b6da08b-2d05-42a1-9b06-aa07cf94d00f","type":"message","text":"Oh, it's the :beacon-biosignals: fork","user":"UDB26738Q","ts":"1617357994.147200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I9SQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, it's the "},{"type":"emoji","name":"beacon-biosignals"},{"type":"text","text":" fork"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"8e16c34e-dfa0-42dd-93c6-7f06096f8cf9","type":"message","text":"?","user":"UAJH2818E","ts":"1617358010.147400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hd0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"?"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"cc9507b6-4089-46b5-93b0-1cda372998cc","type":"message","text":"yeah, I can’t add you as a collaborator bc it’s not a fork from my personal account","user":"UCZ7VBGUD","ts":"1617358099.147600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9yZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, I can’t add you as a collaborator bc it’s not a fork from my personal account"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"de467465-b49f-44f1-83cc-1e3b0a3cb37c","type":"message","text":"Now I understand why I couldn't edit the file myself, it doesn't work with pull requests from organisations' forks","user":"UDB26738Q","ts":"1617358155.147800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2tf0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now I understand why I couldn't edit the file myself, it doesn't work with pull requests from organisations' forks"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"1aaa8df1-774c-444e-af33-91b5ff9fdf8e","type":"message","text":"Fetching @npm; Running yarn install on //:package.json 45s","user":"UAJH2818E","ts":"1617358373.148000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XaG2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fetching @npm; Running yarn install on //:package.json 45s"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"adf397dc-96ba-4b23-8799-4a5e67097540","type":"message","text":"why do i need java to build tensorboard?","user":"UAJH2818E","ts":"1617358447.148200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tva","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why do i need java to build tensorboard?"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"444bc405-bf51-4fab-8542-1c6f8c30392b","type":"message","text":"my god","user":"UAJH2818E","ts":"1617358453.148400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FYqf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"my god"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"79c6ce49-e56c-4022-8f76-3ec45599c365","type":"message","text":"Ok, so the error is...\n`/bin/bash: bazel-out/host/bin/tensorboard/logo/inline_favicon: Permission denied`","user":"UAJH2818E","ts":"1617358552.148600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8NdYY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, so the error is...\n"},{"type":"text","text":"/bin/bash: bazel-out/host/bin/tensorboard/logo/inline_favicon: Permission denied","style":{"code":true}}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"b47c4be2-7203-4480-a031-354c821171df","type":"message","text":"<@UDB26738Q> bb is running as root?","user":"UAJH2818E","ts":"1617358837.148800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5T46","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" bb is running as root?"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"2672f67d-37b8-460a-a282-c7e5505a88fd","type":"message","text":"Are you asking whether inside the build environment you're root? There is only one user in the system, root","user":"UDB26738Q","ts":"1617358906.149000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YXB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you asking whether inside the build environment you're root? There is only one user in the system, root"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"b26a9f4b-178d-4ed3-8d87-cb0df3a212eb","type":"message","text":"yes","user":"UAJH2818E","ts":"1617358912.149200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"okMWI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"3906f16b-b95c-45cd-aed7-70c61855f397","type":"message","text":"What's the problem? Bazel doesn't like root? :smile:","user":"UDB26738Q","ts":"1617358947.149400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WtF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's the problem? Bazel doesn't like root? "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"4e3869d0-eb3a-40ac-822a-85138294ccb4","type":"message","text":"also","user":"UAJH2818E","ts":"1617358991.149600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/HK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"8fe897f6-8152-4a98-9d55-d659f3e1a41e","type":"message","text":"external/remotejdk11_linux/bin/javac: error while loading shared libraries: libz.so.1: cannot open shared object file: No such file or directory","user":"UAJH2818E","ts":"1617358991.149800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=0wNY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"external/remotejdk11_linux/bin/javac: error while loading shared libraries: libz.so.1: cannot open shared object file: No such file or directory"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"f69ab112-628c-40b1-b30e-6fa05b59ce52","type":"message","text":"Uhm, there should an issue with libz somewhere","user":"UDB26738Q","ts":"1617359055.150000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWOBv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Uhm, there should an issue with libz somewhere"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"fbca947d-be22-4f69-beb1-9d0adba32a07","type":"message","text":"but if I run the same command manually it works","user":"UAJH2818E","ts":"1617359080.150200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vUH0G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if I run the same command manually it works"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"07f34b76-67de-4b6e-9f1d-0bae3bb82a2f","type":"message","text":"<https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/822|https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/822>","user":"UDB26738Q","ts":"1617359093.150400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yS+","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/822","text":"https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/822"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"979065d4-d70d-40c6-81f8-439716baddd9","type":"message","text":"so its just bazel that is not finding libz which is in /lib/libz.so.1","user":"UAJH2818E","ts":"1617359093.150600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s8sHj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so its just bazel that is not finding libz which is in /lib/libz.so.1"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"e69b21c4-c64c-42b9-9ecb-7854fde38fe1","type":"message","text":"Uh, ok, that's possible because my understanding is that bazel creates its own universe","user":"UDB26738Q","ts":"1617359121.150800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hFQ3K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Uh, ok, that's possible because my understanding is that bazel creates its own universe"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"4e38de9e-0f80-42bd-9e38-754f394a9ba3","type":"message","text":"But in a very questionable way","user":"UDB26738Q","ts":"1617359169.151000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RfvJ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But in a very questionable way"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"c331e65c-7a2f-42a6-83ca-b661e2e4edc8","type":"message","text":"ok, the only error is /bin/bash: bazel-out/host/bin/tensorboard/tools/mat_bundle_icon_svg: Permission denied","user":"UAJH2818E","ts":"1617359745.151200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tn3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, the only error is /bin/bash: bazel-out/host/bin/tensorboard/tools/mat_bundle_icon_svg: Permission denied"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"e9b18002-ed52-477f-a493-ba1775a437ee","type":"message","text":"where is the build script stored temporarily?","user":"UAJH2818E","ts":"1617360613.151400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wLj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where is the build script stored temporarily?"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"},{"client_msg_id":"e2f3148a-1649-4d30-b8f5-654df2470428","type":"message","text":"I don't remember whether it's actually written anywhere","user":"UDB26738Q","ts":"1617362214.151600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MhjJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't remember whether it's actually written anywhere"}]}]}],"thread_ts":"1617354464.143200","parent_user_id":"UAJH2818E"}]