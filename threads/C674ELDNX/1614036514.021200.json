[{"client_msg_id":"b3663d9f-e879-41d2-998b-61b87d781760","type":"message","text":"I am trying to get BinaryBuilder to run on archlinux, on Julia 1.6.0-beta1. I start Julia with `env BINARYBUILDER_RUNNER=\"privileged\" julia`  (I also tried with sudo) and then I run the BinaryBuilder wizzard. When I am droppend into this compilation shell, I get an error message:\n```mount: /tmp/jl_8QzH5I/wwbWJHvS/.mounts/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs: mount failed: Operation not permitted.\nfailed process: Process(`mount /root/.julia/scratchspaces/7f725544-6523-48cd-82d1-3fa08ff4056e/c00439a5aac2cd79e14acf22c6fd329297be0559/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs_0.squashfs /tmp/jl_8QzH5I/wwbWJHvS/.mounts/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs -o ro,loop`, ProcessExited(1)) [1]```\nAm I missing something? Do I somehow need to set certain privileges?","user":"UBEF50B7C","ts":"1614036514.021200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+e=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am trying to get BinaryBuilder to run on archlinux, on Julia 1.6.0-beta1. I start Julia with "},{"type":"text","text":"env BINARYBUILDER_RUNNER=\"privileged\" julia","style":{"code":true}},{"type":"text","text":"  (I also tried with sudo) and then I run the BinaryBuilder wizzard. When I am droppend into this compilation shell, I get an error message:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"mount: /tmp/jl_8QzH5I/wwbWJHvS/.mounts/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs: mount failed: Operation not permitted.\nfailed process: Process(`mount /root/.julia/scratchspaces/7f725544-6523-48cd-82d1-3fa08ff4056e/c00439a5aac2cd79e14acf22c6fd329297be0559/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs_0.squashfs /tmp/jl_8QzH5I/wwbWJHvS/.mounts/Rootfs.v2021.1.22.x86_64-linux-musl.squashfs -o ro,loop`, ProcessExited(1)) [1]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Am I missing something? Do I somehow need to set certain privileges?"}]}]}],"thread_ts":"1614036514.021200","reply_count":10,"reply_users_count":2,"latest_reply":"1614101109.023400","reply_users":["UDB26738Q","UBEF50B7C"],"subscribed":false},{"client_msg_id":"b3ba058a-e6ec-4aa4-ab9f-490084888d5a","type":"message","text":"&gt; I also tried with sudo\nwhat do you mean?\n\nnote that there may some issues with beta1, we test with rc1","user":"UDB26738Q","ts":"1614036762.021300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KsB21","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"I also tried with sudo"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nwhat do you mean?\n\nnote that there may some issues with beta1, we test with rc1"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"2ef9be96-5333-47f9-84e4-c4ebe96fecee","type":"message","text":"I meant that I started julia as root:\n`sudo env BINARYBUILDER_RUNNER=\"privileged\" julia`  - not that I understand what is going on but I just thought it might help :smile:","user":"UBEF50B7C","ts":"1614036941.021500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d+m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I meant that I started julia as root:\n"},{"type":"text","text":"sudo env BINARYBUILDER_RUNNER=\"privileged\" julia","style":{"code":true}},{"type":"text","text":"  - not that I understand what is going on but I just thought it might help "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"0812b706-750b-431e-8f3c-d87b1ccb6fd9","type":"message","text":"anyway, I will build rc1 then and then check again","user":"UBEF50B7C","ts":"1614036955.021700","team":"T68168MUP","edited":{"user":"UBEF50B7C","ts":"1614036964.000000"},"blocks":[{"type":"rich_text","block_id":"fQh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anyway, I will build rc1 then and then check again"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"f0b1752a-8031-4996-87e1-a7d22571b3d6","type":"message","text":"not sure that was a good idea","user":"UDB26738Q","ts":"1614036965.022000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+3k1y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not sure that was a good idea"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"395a3e13-b596-45c9-9c1c-bbbf064c3d84","type":"message","text":"(using `sudo`)","user":"UDB26738Q","ts":"1614036976.022200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WnU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(using "},{"type":"text","text":"sudo","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"78921b15-9eb9-4700-bc87-88d893db02b7","type":"message","text":"but it seems to have touched julia directory in `root`'s home, so hopefully it didn't break much in your installation.\n\nit's unlikely moving to rc1 will change anything with this error though","user":"UDB26738Q","ts":"1614037053.022400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/jQc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it seems to have touched julia directory in "},{"type":"text","text":"root","style":{"code":true}},{"type":"text","text":"'s home, so hopefully it didn't break much in your installation.\n\nit's unlikely moving to rc1 will change anything with this error though"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"dd49372c-8be2-46ca-a6da-1651c72b0785","type":"message","text":"the `mount` is failing","user":"UDB26738Q","ts":"1614037077.022600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+AL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the "},{"type":"text","text":"mount","style":{"code":true}},{"type":"text","text":" is failing"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"3aa19a58-7f31-4eb9-b397-3f572fed9704","type":"message","text":"I I think running it as sudo just somehow creates a new .julia directory in the roots homefolder - so I had to reinstall BinaryBuilder in that new environment","user":"UBEF50B7C","ts":"1614037385.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7ucTf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I I think running it as sudo just somehow creates a new .julia directory in the roots homefolder - so I had to reinstall BinaryBuilder in that new environment"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"8d7802dc-89d8-4ba7-bd0c-37d6cca0c997","type":"message","text":"So upgrading to 1.6.0-rc1 did not help, but I tried to run BinaryBuilder on  my other computer (same Julia version, also arch linux) and for some weird reason it worked there. Now I am stuck with compiling the rust code that is not working for some reason (maybe outdated compiler), but I think I will work on that another time.","user":"UBEF50B7C","ts":"1614101093.023200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"asHmo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So upgrading to 1.6.0-rc1 did not help, but I tried to run BinaryBuilder on  my other computer (same Julia version, also arch linux) and for some weird reason it worked there. Now I am stuck with compiling the rust code that is not working for some reason (maybe outdated compiler), but I think I will work on that another time."}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"},{"client_msg_id":"417a15e1-b05b-4cb1-b97f-c8d3837c4f19","type":"message","text":"Thank you very much for your help here &amp; on zulip!","user":"UBEF50B7C","ts":"1614101109.023400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UA3h/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you very much for your help here & on zulip!"}]}]}],"thread_ts":"1614036514.021200","parent_user_id":"UBEF50B7C"}]