[{"client_msg_id":"9ef1d88b-1d0c-4966-a752-f61eb22171e2","type":"message","text":"I think I'm missing something obvious. I'm making a new `build_tarball.jl and running into `fatal error: zlib.h: No such file or directory`","user":"U679T6QF7","ts":"1611777402.129900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dr5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I'm missing something obvious. I'm making a new `build_tarball.jl and running into "},{"type":"text","text":"fatal error: zlib.h: No such file or directory","style":{"code":true}}]}]}],"thread_ts":"1611777402.129900","reply_count":17,"reply_users_count":2,"latest_reply":"1611779427.133500","reply_users":["U679T6QF7","UDB26738Q"],"subscribed":false},{"client_msg_id":"d03841af-bddd-493b-a23a-df803bc7f746","type":"message","text":"I have `Dependency(\"Zlib_jll\"),`","user":"U679T6QF7","ts":"1611777417.130000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vwlx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have "},{"type":"text","text":"Dependency(\"Zlib_jll\"),","style":{"code":true}}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"fd0a9587-9de2-4e7d-b110-d564a38a3fd5","type":"message","text":"<https://docs.binarybuilder.org/latest/troubleshooting/#Header-files-of-the-dependencies-can't-be-found>","user":"UDB26738Q","ts":"1611777438.130200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WBpl","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.binarybuilder.org/latest/troubleshooting/#Header-files-of-the-dependencies-can't-be-found"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"a8b8b366-37b1-486d-904e-3ccf0d175eef","type":"message","text":"I can also get the same error building the `build_tarball.jl` for `Git`","user":"U679T6QF7","ts":"1611777463.130400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QtE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can also get the same error building the "},{"type":"text","text":"build_tarball.jl","style":{"code":true}},{"type":"text","text":" for "},{"type":"text","text":"Git","style":{"code":true}}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"88002150-84e5-4d55-a1df-5ea404c58324","type":"message","text":"I thought maybe this had something to do with it:\n```┌ Warning: Dependency Zlib_jll does not have an Artifacts.toml at /Users/omus/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/Zlib_jll/Artifacts.toml!\n└ @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:474```","user":"U679T6QF7","ts":"1611777561.130600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tpx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought maybe this had something to do with it:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Warning: Dependency Zlib_jll does not have an Artifacts.toml at /Users/omus/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/Zlib_jll/Artifacts.toml!\n└ @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:474"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"e326ecab-8242-4066-b963-b0926ea04075","type":"message","text":"<https://julialang.slack.com/archives/C674ELDNX/p1611774370123700?thread_ts=1611774291.123100&amp;cid=C674ELDNX>","user":"UDB26738Q","ts":"1611777588.130800","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1611774370123700?thread_ts=1611774291.123100&amp;cid=C674ELDNX","fallback":"[January 27th, 2021 11:06 AM] mose: the latest commit where it fully works is <https://github.com/JuliaLang/julia/commit/a178ac2cba6288d346048462eca9230dbc6a63c3>","ts":"1611774370.123700","author_id":"UDB26738Q","author_subname":"Mosè Giordano","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"the latest commit where it fully works is <https://github.com/JuliaLang/julia/commit/a178ac2cba6288d346048462eca9230dbc6a63c3>","author_name":"Mosè Giordano","author_link":"https://julialang.slack.com/team/UDB26738Q","author_icon":"https://secure.gravatar.com/avatar/b1b9938790729d96af6f168d8ce0f917.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1611774370123700?thread_ts=1611774291.123100&amp;cid=C674ELDNX","footer":"From a thread in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"FTad","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1611774370123700?thread_ts=1611774291.123100&cid=C674ELDNX"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"7054cc05-f2ad-4913-b52b-27a9c1f133cb","type":"message","text":"JLLs as stdlibs broke BinaryBuilder","user":"UDB26738Q","ts":"1611777605.131100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JPwwp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"JLLs as stdlibs broke BinaryBuilder"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"f16722d9-b696-4c1f-bc9b-0720a39e36fe","type":"message","text":"locally I still use a build from November :sweat_smile:","user":"UDB26738Q","ts":"1611777647.131300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vWMsh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"locally I still use a build from November "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"4cd8df72-e88e-4f68-b387-4ff283cf73d3","type":"message","text":"and this is related to <https://julialang.slack.com/archives/C674ELDNX/p1611674042082100>","user":"UDB26738Q","ts":"1611777675.131500","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1611674042082100","fallback":"[January 26th, 2021 7:14 AM] mose: BBB CI now is broken because the old nightly build we were using for testing now is gone.  luckily, I saved a copy last month, I'm uploading it to a release","ts":"1611674042.082100","author_id":"UDB26738Q","author_subname":"Mosè Giordano","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"BBB CI now is broken because the old nightly build we were using for testing now is gone.  luckily, I saved a copy last month, I'm uploading it to a release","author_name":"Mosè Giordano","author_link":"https://julialang.slack.com/team/UDB26738Q","author_icon":"https://secure.gravatar.com/avatar/b1b9938790729d96af6f168d8ce0f917.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1611674042082100","footer":"Thread in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"ooV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and this is related to "},{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1611674042082100"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"d802f43a-e494-41e4-9bcc-cc9175c3fbb4","type":"message","text":"Oh, ok. I guess I was just lucky with my previous builds","user":"U679T6QF7","ts":"1611777736.131800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xF9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, ok. I guess I was just lucky with my previous builds"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"36fb8a1f-4a18-4e7f-bcbf-05943c6cdb15","type":"message","text":"if they don't involve any JLL which is a dependency of julia, yes","user":"UDB26738Q","ts":"1611777764.132000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0ndxD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if they don't involve any JLL which is a dependency of julia, yes"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"073a61d4-c65f-419a-b26b-6a7fa2e8f809","type":"message","text":"I guess you're coming to the realisation that BinaryBuilder is rarely in a fully functional state :stuck_out_tongue:","user":"UDB26738Q","ts":"1611777924.132200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R7V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess you're coming to the realisation that BinaryBuilder is rarely in a fully functional state "},{"type":"emoji","name":"stuck_out_tongue"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"a1091484-29e0-46bb-9f27-2325ee0492fc","type":"message","text":"Held together by hard work and sweat","user":"U679T6QF7","ts":"1611777990.132400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jMzW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Held together by hard work and sweat"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7","reactions":[{"name":"heavy_check_mark","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"6750572a-e391-43c9-874b-ea7ef04a48b6","type":"message","text":"like, now the wizard is hanging in some tests, I have no clue where this is happening :disappointed:","user":"UDB26738Q","ts":"1611778152.132700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/At3O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"like, now the wizard is hanging in some tests, I have no clue where this is happening "},{"type":"emoji","name":"disappointed"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"80454177-dd66-4d7f-8d98-949b70feb6b0","type":"message","text":"I think something fails in a `try` :thinking_face:","user":"UDB26738Q","ts":"1611778573.132900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pTZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think something fails in a "},{"type":"text","text":"try","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"54b5941e-055b-415c-b57b-c9a5b5461c90","type":"message","text":"Probably unrelated:\n```\t\t\t# Step 4: Select build products\n\nERROR: The build has produced no binary artifacts.\n       This is generally because an error occurred during the build\n       or because you forgot to `make install` or equivalent.\n\nHow would you like to proceed? (CTRL-C to exit)\n &gt; Return to build environment\n   Retry with a clean build environment\n   Edit the script\n\nArgumentError: '/private/var/folders/j7/fwm5mtz52_xdxds4f1rnhn9c0000gn/T/jl_c5U2g4/s7UYZWFT/artifacts/53e6c375d00db870bf575afc992c03c54cba1d7e' exists. `force=true` is required to remove '/private/var/folders/j7/fwm5mtz52_xdxds4f1rnhn9c0000gn/T/jl_c5U2g4/s7UYZWFT/artifacts/53e6c375d00db870bf575afc992c03c54cba1d7e' before copying.\nStacktrace:\n  [1] checkfor_mv_cp_cptree(src::String, dst::String, txt::String; force::Bool)\n    @ Base.Filesystem ./file.jl:312\n  [2] cp(src::String, dst::String; force::Bool, follow_symlinks::Bool)\n    @ Base.Filesystem ./file.jl:349\n  [3] cp\n    @ ./file.jl:349 [inlined]\n  [4] (::BinaryBuilderBase.var\"#58#64\"{Bool, Prefix, Vector{Pkg.Types.PackageSpec}, Platform, Vector{String}})()\n    @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:495\n  [5] activate(f::BinaryBuilderBase.var\"#58#64\"{Bool, Prefix, Vector{Pkg.Types.PackageSpec}, Platform, Vector{String}}, new_project::String)\n    @ Pkg.API ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/Pkg/src/API.jl:1433\n  [6] setup_dependencies(prefix::Prefix, dependencies::Vector{Pkg.Types.PackageSpec}, platform::Platform; verbose::Bool)\n    @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:433\n  [7] setup_dependencies\n    @ ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:407 [inlined]\n  [8] step4(state::BinaryBuilder.Wizard.WizardState, ur::BinaryBuilderBase.DockerRunner, platform::Platform, build_path::String, prefix::Prefix)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:70\n  [9] step3_interactive(state::BinaryBuilder.Wizard.WizardState, prefix::Prefix, platform::Platform, ur::BinaryBuilderBase.DockerRunner, build_path::String, artifact_paths::Vector{String})\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:414\n [10] step34(state::BinaryBuilder.Wizard.WizardState)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:542\n [11] run_wizard(state::Nothing)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/Wizard.jl:104\n [12] run_wizard()\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/Wizard.jl:87\n [13] top-level scope\n    @ REPL[3]:1\n [14] eval(m::Module, e::Any)\n    @ Core ./boot.jl:360\n [15] eval_user_input(ast::Any, backend::REPL.REPLBackend)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:139\n [16] repl_backend_loop(backend::REPL.REPLBackend)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:200\n [17] start_repl_backend(backend::REPL.REPLBackend, consumer::Any)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:185\n [18] run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:317\n [19] run_repl(repl::REPL.AbstractREPL, consumer::Any)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:305\n [20] (::Base.var\"#867#869\"{Bool, Bool, Bool})(REPL::Module)\n    @ Base ./client.jl:387\n [21] #invokelatest#2\n    @ ./essentials.jl:707 [inlined]\n [22] invokelatest\n    @ ./essentials.jl:706 [inlined]\n [23] run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool)\n    @ Base ./client.jl:372\n [24] exec_options(opts::Base.JLOptions)\n    @ Base ./client.jl:302\n [25] _start()\n    @ Base ./client.jl:485\n\nWizardState [step3]```","user":"U679T6QF7","ts":"1611779349.133100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U=u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Probably unrelated:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\t\t\t# Step 4: Select build products\n\nERROR: The build has produced no binary artifacts.\n       This is generally because an error occurred during the build\n       or because you forgot to `make install` or equivalent.\n\nHow would you like to proceed? (CTRL-C to exit)\n > Return to build environment\n   Retry with a clean build environment\n   Edit the script\n\nArgumentError: '/private/var/folders/j7/fwm5mtz52_xdxds4f1rnhn9c0000gn/T/jl_c5U2g4/s7UYZWFT/artifacts/53e6c375d00db870bf575afc992c03c54cba1d7e' exists. `force=true` is required to remove '/private/var/folders/j7/fwm5mtz52_xdxds4f1rnhn9c0000gn/T/jl_c5U2g4/s7UYZWFT/artifacts/53e6c375d00db870bf575afc992c03c54cba1d7e' before copying.\nStacktrace:\n  [1] checkfor_mv_cp_cptree(src::String, dst::String, txt::String; force::Bool)\n    @ Base.Filesystem ./file.jl:312\n  [2] cp(src::String, dst::String; force::Bool, follow_symlinks::Bool)\n    @ Base.Filesystem ./file.jl:349\n  [3] cp\n    @ ./file.jl:349 [inlined]\n  [4] (::BinaryBuilderBase.var\"#58#64\"{Bool, Prefix, Vector{Pkg.Types.PackageSpec}, Platform, Vector{String}})()\n    @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:495\n  [5] activate(f::BinaryBuilderBase.var\"#58#64\"{Bool, Prefix, Vector{Pkg.Types.PackageSpec}, Platform, Vector{String}}, new_project::String)\n    @ Pkg.API ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/Pkg/src/API.jl:1433\n  [6] setup_dependencies(prefix::Prefix, dependencies::Vector{Pkg.Types.PackageSpec}, platform::Platform; verbose::Bool)\n    @ BinaryBuilderBase ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:433\n  [7] setup_dependencies\n    @ ~/.julia/dev/BinaryBuilderBase/src/Prefix.jl:407 [inlined]\n  [8] step4(state::BinaryBuilder.Wizard.WizardState, ur::BinaryBuilderBase.DockerRunner, platform::Platform, build_path::String, prefix::Prefix)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:70\n  [9] step3_interactive(state::BinaryBuilder.Wizard.WizardState, prefix::Prefix, platform::Platform, ur::BinaryBuilderBase.DockerRunner, build_path::String, artifact_paths::Vector{String})\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:414\n [10] step34(state::BinaryBuilder.Wizard.WizardState)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/wizard/interactive_build.jl:542\n [11] run_wizard(state::Nothing)\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/Wizard.jl:104\n [12] run_wizard()\n    @ BinaryBuilder.Wizard ~/.julia/packages/BinaryBuilder/vDNXJ/src/Wizard.jl:87\n [13] top-level scope\n    @ REPL[3]:1\n [14] eval(m::Module, e::Any)\n    @ Core ./boot.jl:360\n [15] eval_user_input(ast::Any, backend::REPL.REPLBackend)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:139\n [16] repl_backend_loop(backend::REPL.REPLBackend)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:200\n [17] start_repl_backend(backend::REPL.REPLBackend, consumer::Any)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:185\n [18] run_repl(repl::REPL.AbstractREPL, consumer::Any; backend_on_current_task::Bool)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:317\n [19] run_repl(repl::REPL.AbstractREPL, consumer::Any)\n    @ REPL ~/Development/Julia/x86/1.6/usr/share/julia/stdlib/v1.6/REPL/src/REPL.jl:305\n [20] (::Base.var\"#867#869\"{Bool, Bool, Bool})(REPL::Module)\n    @ Base ./client.jl:387\n [21] #invokelatest#2\n    @ ./essentials.jl:707 [inlined]\n [22] invokelatest\n    @ ./essentials.jl:706 [inlined]\n [23] run_main_repl(interactive::Bool, quiet::Bool, banner::Bool, history_file::Bool, color_set::Bool)\n    @ Base ./client.jl:372\n [24] exec_options(opts::Base.JLOptions)\n    @ Base ./client.jl:302\n [25] _start()\n    @ Base ./client.jl:485\n\nWizardState [step3]"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"a15869d5-b45e-4ad2-9cb5-d74f9130de07","type":"message","text":"this is new to me","user":"UDB26738Q","ts":"1611779395.133300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FGVd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is new to me"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7"},{"client_msg_id":"6ddcb053-a74a-439b-a9f7-d1f6d2fc52d7","type":"message","text":"I'll open an issue then","user":"U679T6QF7","ts":"1611779427.133500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4pb=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll open an issue then"}]}]}],"thread_ts":"1611777402.129900","parent_user_id":"U679T6QF7","reactions":[{"name":"+1","users":["UDB26738Q"],"count":1}]}]