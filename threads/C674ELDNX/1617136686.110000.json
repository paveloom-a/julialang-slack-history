[{"client_msg_id":"6a13094f-1c8c-441d-a712-1c04b3de9595","type":"message","text":"I am trying to build <https://github.com/cea-hpc/wi4mpi> with BinaryBuilder.  It depends on OpenMPI, both the C an Fortran libraries.  Unfortunately, it looks like OpenMPI in Yggdrasil disables the Fortran libraries , see <https://github.com/JuliaPackaging/Yggdrasil/blob/6eab6835a55e33efd760852f29b0ba9bfc9bb536/O/OpenMPI/build_tarballs.jl#L14>.  Does anyone happen to know why?","user":"UBJUA1YAV","ts":"1617136686.110000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nL8v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am trying to build "},{"type":"link","url":"https://github.com/cea-hpc/wi4mpi"},{"type":"text","text":" with BinaryBuilder.  It depends on OpenMPI, both the C an Fortran libraries.  Unfortunately, it looks like OpenMPI in Yggdrasil disables the Fortran libraries , see "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/6eab6835a55e33efd760852f29b0ba9bfc9bb536/O/OpenMPI/build_tarballs.jl#L14"},{"type":"text","text":".  Does anyone happen to know why?"}]}]}],"thread_ts":"1617136686.110000","reply_count":10,"reply_users_count":4,"latest_reply":"1617137600.112200","reply_users":["U680THK2S","U67461GUB","UBJUA1YAV","U66GD0880"],"is_locked":false,"subscribed":false},{"client_msg_id":"d45e92f6-4b4b-4a84-908f-1affbffd0048","type":"message","text":"Added in <https://github.com/JuliaPackaging/Yggdrasil/pull/308>. Viral noted that he purposefully omitted the Fortran stuff but didn't say why.","user":"U680THK2S","ts":"1617136770.110100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TgpK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Added in "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/308"},{"type":"text","text":". Viral noted that he purposefully omitted the Fortran stuff but didn't say why."}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"8bfa47fc-e479-44a0-81c6-d70d8abfd402","type":"message","text":"<@U67461GUB>?","user":"U680THK2S","ts":"1617136775.110300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qJACW","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67461GUB"},{"type":"text","text":"?"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"52f4b317-7fbf-45e9-a27d-ba28a95076fe","type":"message","text":"I don’t think there was a reason beyond just getting something building reliably first.","user":"U67461GUB","ts":"1617136911.110500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j7yBU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think there was a reason beyond just getting something building reliably first."}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV","reactions":[{"name":"+1","users":["U680THK2S"],"count":1}]},{"client_msg_id":"b63a4d2d-c366-4542-9952-288d654d8dc0","type":"message","text":"Everything takes longer when you add Fortran in the mix","user":"U680THK2S","ts":"1617136930.110800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dV1pr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Everything takes longer when you add Fortran in the mix"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"3a561cbf-4527-45c7-afd8-4354291d8ee7","type":"message","text":"Cool, I'll try to turn it on and see what breaks","user":"UBJUA1YAV","ts":"1617136939.111000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kWF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool, I'll try to turn it on and see what breaks"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV","reactions":[{"name":"+1","users":["U67461GUB","U680THK2S"],"count":2}]},{"client_msg_id":"c5f65f0e-33d4-4340-afdc-4f6c51ee722b","type":"message","text":"We should certainly enable it.","user":"U67461GUB","ts":"1617136941.111200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CGVjB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We should certainly enable it."}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"51247fc9-50b9-41e7-9d0d-b05813b2a3ba","type":"message","text":"First issue is\n```configure: error: Can not determine size of CHARACTER when cross-compiling\nPrevious command exited with 1\nchecking size of Fortran CHARACTER... ERROR: LoadError: Build for OpenMPI on aarch64-linux-gnu did not complete successfully```\n:eyes:","user":"UBJUA1YAV","ts":"1617137352.111600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"siXa3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"First issue is\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"configure: error: Can not determine size of CHARACTER when cross-compiling\nPrevious command exited with 1\nchecking size of Fortran CHARACTER... ERROR: LoadError: Build for OpenMPI on aarch64-linux-gnu did not complete successfully"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"eyes"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"5f0e7497-6248-4557-8248-9c1d75b3d3c4","type":"message","text":"Maybe that’s why I disabled it. :joy:","user":"U67461GUB","ts":"1617137539.111800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4iNG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe that’s why I disabled it. "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"},{"client_msg_id":"4134d2e8-85e9-4ada-80b2-177636d66ed3","type":"message","text":"See if there’s a way to manually provide the information it is looking for","user":"U66GD0880","ts":"1617137576.112000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uby5t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"See if there’s a way to manually provide the information it is looking for"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV","reactions":[{"name":"eyes","users":["UBJUA1YAV"],"count":1}]},{"client_msg_id":"bddecf3f-62b6-409b-8e96-3ecc64f24295","type":"message","text":"many configure scripts allow you to set variables a la `cv_fortran_char_width=1` or something","user":"U66GD0880","ts":"1617137600.112200","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1617137605.000000"},"blocks":[{"type":"rich_text","block_id":"5Cz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"many configure scripts allow you to set variables a la "},{"type":"text","text":"cv_fortran_char_width=1","style":{"code":true}},{"type":"text","text":" or something"}]}]}],"thread_ts":"1617136686.110000","parent_user_id":"UBJUA1YAV"}]