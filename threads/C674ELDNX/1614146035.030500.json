[{"client_msg_id":"468e2549-0a2a-4379-a2dc-8c2f894ca30c","type":"message","text":"The Great Apple Silicon Party is finally upon us (gasp!).  I can build Julia and try to install packages and it all works…. except for the fact that very, very few JLLs are actually built for Apple Silicon.  It’s time to figure out how to build things for apple silicon by default.\n\nThe only complicating factor is that any JLL that supports apple silicon will need to be Julia 1.6+, since it generates `Artifacts.toml` files that are illegal.  Absent a clever workaround for that issue, I think the best path forward is as follows:\n\n* Change `supported_platforms()` in BB to include `armv6l` and `aarch64-darwin` in the list by default.\n* Set BB to default `julia_compat` to `1.6+`.\n* Rebuild a lot of stuff","user":"U66GD0880","ts":"1614146035.030500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1qE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The Great Apple Silicon Party is finally upon us (gasp!).  I can build Julia and try to install packages and it all works…. except for the fact that very, very few JLLs are actually built for Apple Silicon.  It’s time to figure out how to build things for apple silicon by default.\n\nThe only complicating factor is that any JLL that supports apple silicon will need to be Julia 1.6+, since it generates "},{"type":"text","text":"Artifacts.toml","style":{"code":true}},{"type":"text","text":" files that are illegal.  Absent a clever workaround for that issue, I think the best path forward is as follows:\n\n* Change "},{"type":"text","text":"supported_platforms()","style":{"code":true}},{"type":"text","text":" in BB to include "},{"type":"text","text":"armv6l","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"aarch64-darwin","style":{"code":true}},{"type":"text","text":" in the list by default.\n* Set BB to default "},{"type":"text","text":"julia_compat","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"1.6+","style":{"code":true}},{"type":"text","text":".\n* Rebuild a lot of stuff"}]}]}],"thread_ts":"1614146035.030500","reply_count":6,"reply_users_count":3,"latest_reply":"1614174830.034000","reply_users":["UCTJ1TGBV","UDB26738Q","U012FH66MFW"],"subscribed":false,"reactions":[{"name":"apple","users":["U66GD0880","U66SR8JHX"],"count":2},{"name":"arrow_right","users":["U66GD0880","U66SR8JHX"],"count":2},{"name":"green_apple","users":["U66GD0880","U66SR8JHX"],"count":2},{"name":"clapping","users":["UCTJ1TGBV","U66SGEWAC"],"count":2},{"name":"+1","users":["U680THK2S","U66SR8JHX","U012FH66MFW"],"count":3}]},{"client_msg_id":"64be1cc1-d091-4b4d-b13b-ce53aa4318ec","type":"message","text":"How does the performance feel?","user":"UCTJ1TGBV","ts":"1614147381.031300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5UXsZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How does the performance feel?"}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"},{"client_msg_id":"c2b19f24-eabd-404b-8891-68f38bf2b690","type":"message","text":"Rebuilding is going to be complicated... The version number must change and not all users may be happy to not support older versions...","user":"UDB26738Q","ts":"1614158715.032500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b4Hds","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Rebuilding is going to be complicated... The version number must change and not all users may be happy to not support older versions..."}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"},{"client_msg_id":"f90f9f7c-2ba5-446f-ba9d-d0ef2932367e","type":"message","text":"perhaps we can for a time using something similar to what I did for the CxxWrap using JLLs: offer two versions, one which has compat Julia &lt; 1.6 and no Apple Silion, and another which has compat Julia &gt;= 1.6 and has it?","user":"U012FH66MFW","ts":"1614174764.033400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ULRK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perhaps we can for a time using something similar to what I did for the CxxWrap using JLLs: offer two versions, one which has compat Julia < 1.6 and no Apple Silion, and another which has compat Julia >= 1.6 and has it?"}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"},{"client_msg_id":"f5b9c4b1-2b8a-4bad-bc7b-5d9da0e0c1ed","type":"message","text":"perhaps one can add even some infrastructure (somewhere?!?) to make this less work / less painful ...","user":"U012FH66MFW","ts":"1614174811.033600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oGK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perhaps one can add even some infrastructure (somewhere?!?) to make this less work / less painful ..."}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"},{"client_msg_id":"edb81560-eee8-4736-b8ae-dc89921f063b","type":"message","text":"might not be worth it, though, just waned to mentionit","user":"U012FH66MFW","ts":"1614174820.033800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iWGif","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"might not be worth it, though, just waned to mentionit"}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"},{"client_msg_id":"db752900-b183-41c4-99d4-76b9602636da","type":"message","text":"I'll switch to Julia 1.6 ASAP (but not all my users will be able to do so)","user":"U012FH66MFW","ts":"1614174830.034000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oSBFB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll switch to Julia 1.6 ASAP (but not all my users will be able to do so)"}]}]}],"thread_ts":"1614146035.030500","parent_user_id":"U66GD0880"}]