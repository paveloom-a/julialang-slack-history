[{"client_msg_id":"3ac08609-8748-4c52-8c39-3ba779d0d454","type":"message","text":"Sorry if this is a stupid question, but I'm trying to use BinaryBuilder for the first time, but during the build process I'm running into an error that I've boiled down to being solved by this comment:\n```You tried to run 'cc' which requires the 'c' shard; add 'compilers=[:c]' to your invocation!```\nWhich invocation is this talking about though? I feel like I'm missing something.","user":"U01C67AS6F7","ts":"1613514209.452100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cm0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry if this is a stupid question, but I'm trying to use BinaryBuilder for the first time, but during the build process I'm running into an error that I've boiled down to being solved by this comment:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"You tried to run 'cc' which requires the 'c' shard; add 'compilers=[:c]' to your invocation!"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Which invocation is this talking about though? I feel like I'm missing something."}]}]}],"thread_ts":"1613514209.452100","reply_count":16,"reply_users_count":2,"latest_reply":"1613521124.456900","reply_users":["UDB26738Q","U01C67AS6F7"],"subscribed":false},{"client_msg_id":"b2092d96-8f3a-4f3d-b1ac-d46b7450b049","type":"message","text":"how are you running BinaryBuilder?  with the `build_tarballs.jl` script?","user":"UDB26738Q","ts":"1613514302.452200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i/ikE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how are you running BinaryBuilder?  with the "},{"type":"text","text":"build_tarballs.jl","style":{"code":true}},{"type":"text","text":" script?"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"878cc709-33f0-4dd9-8469-ef3dc6e4b091","type":"message","text":"With the wizard.","user":"U01C67AS6F7","ts":"1613514494.452400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=tPgi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"With the wizard."}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"feee761c-3bd3-43d9-8fce-f82db84cde56","type":"message","text":"that's... bizarre","user":"UDB26738Q","ts":"1613514513.452600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8t+8z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's... bizarre"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"c39510d2-05e8-474b-845e-c16d5a1838f3","type":"message","text":"version of Julia and BinaryBuilder?","user":"UDB26738Q","ts":"1613514902.454200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sSG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"version of Julia and BinaryBuilder?"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"26060da2-82e9-441d-828b-62dd4888d44f","type":"message","text":"did you customise the set of compilers in the wizard?","user":"UDB26738Q","ts":"1613514950.454400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hGB5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you customise the set of compilers in the wizard?"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"2efe2f71-fca6-4436-b910-76d872e22422","type":"message","text":"Julia 1.5.3 and BinaryBuilder.jl version: 0.2.6-tree-3154601f82\n[ Info: Kernel version: 4.15.0-99-generic\n\nNo. I didn't customize the compilers.","user":"U01C67AS6F7","ts":"1613514998.454600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DNu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia 1.5.3 and BinaryBuilder.jl version: 0.2.6-tree-3154601f82\n[ Info: Kernel version: 4.15.0-99-generic\n\nNo. I didn't customize the compilers."}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"68ac0c1f-256b-44d1-9ee6-93580bb0d203","type":"message","text":"in BinaryBuilder you can choose different set of compilers.  the command `cc` will make sense only if you have the C compiler, which apparently isn't the case for you :confused:","user":"UDB26738Q","ts":"1613515054.454800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vm65","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in BinaryBuilder you can choose different set of compilers.  the command "},{"type":"text","text":"cc","style":{"code":true}},{"type":"text","text":" will make sense only if you have the C compiler, which apparently isn't the case for you "},{"type":"emoji","name":"confused"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"86d38710-dd6c-4d14-862c-9ea43590fda8","type":"message","text":"that could happen if when the wizard asks you whether you want a different set of compilers, you deselect C","user":"UDB26738Q","ts":"1613515082.455000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"As3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that could happen if when the wizard asks you whether you want a different set of compilers, you deselect C"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"e6aae6cd-130b-4ceb-9b33-6de93e67414a","type":"message","text":"but otherwise C is always used","user":"UDB26738Q","ts":"1613515099.455200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bbfub","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but otherwise C is always used"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"be914ca9-6a7c-44d8-b72e-c7bf8482ad9d","type":"message","text":"I didn't deselect C, and now when I try to customize the compilers to ensure C/C++/Fortran is selected, instead of entering the compile stage, I get this error:\n`You will now be dropped into the cross-compilation environment.`\nPlease compile the package. Your initial compilation target is x86_64-linux-gnu\nThe $prefix environment variable contains the target directory.\nOnce you are done, exit by typing `exit` or `^D`\n\nArgumentError: '/tmp/jl_6JniCL/BN60ioir/srcdir' exists. `force=true` is required to remove '/tmp/jl_6JniCL/BN60ioir/srcdir' before copying.\nStacktrace:\n [1] checkfor_mv_cp_cptree(::String, ::String, ::String; force::Bool) at ./file.jl:308\n [2] cp(::String, ::String; force::Bool, follow_symlinks::Bool) at ./file.jl:345\n [3] cp at ./file.jl:345 [inlined]\n [4] setup(::BinaryBuilderBase.SetupSource{FileSource}, ::String, ::Bool) at /home/mhawkins/.julia/packages/BinaryBuilderBase/fylAz/src/Prefix.jl:295\n [5] setup_workspace(::String, ::Array{Any,1}; verbose::Bool) at /home/mhawkins/.julia/packages/BinaryBuilderBase/fylAz/src/Prefix.jl:353\n [6] step34(::BinaryBuilder.Wizard.WizardState) at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/wizard/interactive_build.jl:512\n [7] run_wizard(::Nothing) at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/Wizard.jl:103\n [8] run_wizard() at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/Wizard.jl:86\n [9] top-level scope at REPL[3]:1\n [10] eval(::Module, ::Any) at ./boot.jl:331\n [11] eval_user_input(::Any, ::REPL.REPLBackend) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:134\n [12] repl_backend_loop(::REPL.REPLBackend) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:195\n [13] start_repl_backend(::REPL.REPLBackend, ::Any) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:180\n [14] run_repl(::REPL.AbstractREPL, ::Any; backend_on_current_task::Bool) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:292\n [15] run_repl(::REPL.AbstractREPL, ::Any) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:288\n [16] (::Base.var\"#807#809\"{Bool,Bool,Bool,Bool})(::Module) at ./client.jl:399\n [17] #invokelatest#1 at ./essentials.jl:710 [inlined]\n [18] invokelatest at ./essentials.jl:709 [inlined]\n [19] run_main_repl(::Bool, ::Bool, ::Bool, ::Bool, ::Bool) at ./client.jl:383\n [20] exec_options(::Base.JLOptions) at ./client.jl:313\n [21] _start() at ./client.jl:506","user":"U01C67AS6F7","ts":"1613515961.455400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"enOoU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't deselect C, and now when I try to customize the compilers to ensure C/C++/Fortran is selected, instead of entering the compile stage, I get this error:\n"},{"type":"text","text":"You will now be dropped into the cross-compilation environment.","style":{"code":true}},{"type":"text","text":"\nPlease compile the package. Your initial compilation target is x86_64-linux-gnu\nThe $prefix environment variable contains the target directory.\nOnce you are done, exit by typing `exit` or `^D`\n\nArgumentError: '/tmp/jl_6JniCL/BN60ioir/srcdir' exists. `force=true` is required to remove '/tmp/jl_6JniCL/BN60ioir/srcdir' before copying.\nStacktrace:\n [1] checkfor_mv_cp_cptree(::String, ::String, ::String; force::Bool) at ./file.jl:308\n [2] cp(::String, ::String; force::Bool, follow_symlinks::Bool) at ./file.jl:345\n [3] cp at ./file.jl:345 [inlined]\n [4] setup(::BinaryBuilderBase.SetupSource{FileSource}, ::String, ::Bool) at /home/mhawkins/.julia/packages/BinaryBuilderBase/fylAz/src/Prefix.jl:295\n [5] setup_workspace(::String, ::Array{Any,1}; verbose::Bool) at /home/mhawkins/.julia/packages/BinaryBuilderBase/fylAz/src/Prefix.jl:353\n [6] step34(::BinaryBuilder.Wizard.WizardState) at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/wizard/interactive_build.jl:512\n [7] run_wizard(::Nothing) at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/Wizard.jl:103\n [8] run_wizard() at /home/mhawkins/.julia/packages/BinaryBuilder/OMMHj/src/Wizard.jl:86\n [9] top-level scope at REPL[3]:1\n [10] eval(::Module, ::Any) at ./boot.jl:331\n [11] eval_user_input(::Any, ::REPL.REPLBackend) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:134\n [12] repl_backend_loop(::REPL.REPLBackend) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:195\n [13] start_repl_backend(::REPL.REPLBackend, ::Any) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:180\n [14] run_repl(::REPL.AbstractREPL, ::Any; backend_on_current_task::Bool) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:292\n [15] run_repl(::REPL.AbstractREPL, ::Any) at /buildworker/worker/package_linux64/build/usr/share/julia/stdlib/v1.5/REPL/src/REPL.jl:288\n [16] (::Base.var\"#807#809\"{Bool,Bool,Bool,Bool})(::Module) at ./client.jl:399\n [17] #invokelatest#1 at ./essentials.jl:710 [inlined]\n [18] invokelatest at ./essentials.jl:709 [inlined]\n [19] run_main_repl(::Bool, ::Bool, ::Bool, ::Bool, ::Bool) at ./client.jl:383\n [20] exec_options(::Base.JLOptions) at ./client.jl:313\n [21] _start() at ./client.jl:506"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"450c5fdd-033d-4a2c-90fd-bfb999300a04","type":"message","text":"Try to restart Julia","user":"UDB26738Q","ts":"1613516038.455900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u1L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try to restart Julia"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"d99d6414-87ac-4697-9232-77b8b276333e","type":"message","text":"I have multiple times and in new environments.","user":"U01C67AS6F7","ts":"1613516065.456100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eXpd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have multiple times and in new environments."}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"7cf56289-2243-4a61-a2c5-61f1f17e85d9","type":"message","text":"and it always tries to build in `/tmp/jl_6JniCL`? :thinking_face:","user":"UDB26738Q","ts":"1613516122.456300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MOx3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and it always tries to build in "},{"type":"text","text":"/tmp/jl_6JniCL","style":{"code":true}},{"type":"text","text":"? "},{"type":"emoji","name":"thinking_face"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"64f00667-a38d-47d8-8c5d-f6aedd2d8a36","type":"message","text":"No. Now it's trying in  `'/tmp/jl_vYvVJZ/Z78vEW5H/srcdir'`","user":"U01C67AS6F7","ts":"1613516296.456500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tKZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No. Now it's trying in "},{"type":"text","text":" '/tmp/jl_vYvVJZ/Z78vEW5H/srcdir'","style":{"code":true}}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"da7e28a3-6be6-4a89-936e-6c6b3df071eb","type":"message","text":"And I just verified that the compile process works outside the sandbox.","user":"U01C67AS6F7","ts":"1613516895.456700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZV9v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And I just verified that the compile process works outside the sandbox."}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"},{"client_msg_id":"878529a4-e779-4ed4-b8fb-5232530de216","type":"message","text":"frankly, the wizard is cool and everything, but I'm not a huge fan of it because it isn't super easy to maintain and it isn't simple to reproduce what it does, given its interactive nature.  I just recommend using a plain `build_tarballs.jl` script: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/5a88b728fc16b7061c1d14de2f0b726bc492f3e6/docs/src/index.md#manually-create-or-edit-build_tarballsjl>","user":"UDB26738Q","ts":"1613521124.456900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vbWF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"frankly, the wizard is cool and everything, but I'm not a huge fan of it because it isn't super easy to maintain and it isn't simple to reproduce what it does, given its interactive nature.  I just recommend using a plain "},{"type":"text","text":"build_tarballs.jl","style":{"code":true}},{"type":"text","text":" script: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/5a88b728fc16b7061c1d14de2f0b726bc492f3e6/docs/src/index.md#manually-create-or-edit-build_tarballsjl"}]}]}],"thread_ts":"1613514209.452100","parent_user_id":"U01C67AS6F7"}]