[{"client_msg_id":"16c6ed41-3f5b-42c5-adb1-1e237ea0cd59","type":"message","text":"Building gnupg I've got a dependency on gnutls. when I `make` I get a bunch of undefined references from `warning: libhogweed.so.4, needed by /workspace/destdir/lib//libgnutls.so` . And the same for libnettle. I _do_ have versions `.so.5` vs `.so.4` and `.so.7` vs `.so.6` for libhogweed and libnettle respectively. I tried symlinks to no avail","user":"U017D4RFTFC","ts":"1618177684.308600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=OqHm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Building gnupg I've got a dependency on gnutls. when I "},{"type":"text","text":"make","style":{"code":true}},{"type":"text","text":" I get a bunch of undefined references from "},{"type":"text","text":"warning: libhogweed.so.4, needed by /workspace/destdir/lib//libgnutls.so","style":{"code":true}},{"type":"text","text":" . And the same for libnettle. I "},{"type":"text","text":"do","style":{"italic":true}},{"type":"text","text":" have versions "},{"type":"text","text":".so.5","style":{"code":true}},{"type":"text","text":" vs "},{"type":"text","text":".so.4","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":".so.7","style":{"code":true}},{"type":"text","text":" vs "},{"type":"text","text":".so.6","style":{"code":true}},{"type":"text","text":" for libhogweed and libnettle respectively. I tried symlinks to no avail"}]}]}],"thread_ts":"1618177684.308600","reply_count":11,"reply_users_count":2,"latest_reply":"1618180739.310800","reply_users":["UDB26738Q","U017D4RFTFC"],"is_locked":false,"subscribed":false},{"client_msg_id":"cc836d32-3c13-4d08-a690-96a45b268933","type":"message","text":"wait, not sure what you mean exactly.  at some point it's better to open a pull request so we can see what's going on\n\nalso, doing symlink tricks isn't a good idea :wink: (the reason is because at runtime nothing will work)","user":"UDB26738Q","ts":"1618179811.308700","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1618179827.000000"},"blocks":[{"type":"rich_text","block_id":"EBk4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait, not sure what you mean exactly.  at some point it's better to open a pull request so we can see what's going on\n\nalso, doing symlink tricks isn't a good idea "},{"type":"emoji","name":"wink"},{"type":"text","text":" (the reason is because at runtime nothing will work)"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"154a8f3f-e73b-4952-a2e9-3c19a72d1321","type":"message","text":"I tried some deep googling this time before asking haha. Making PR now.","user":"U017D4RFTFC","ts":"1618179876.309000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZR/Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I tried some deep googling this time before asking haha. Making PR now."}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"b301c398-a712-4dfb-b2c5-0b830ac60cc7","type":"message","text":"when you get those error, you should check the compiler invocation","user":"UDB26738Q","ts":"1618179990.309200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Nx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when you get those error, you should check the compiler invocation"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"f6fe1141-dc98-47ca-a866-37fde5bd323c","type":"message","text":"`cc -std=gnu99 -I/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/include  -I/workspace/destdir/include  -Wall -Wno-pointer-sign -Wpointer-arith -g -O2  -Wl,-rpath-link=/workspace/destdir -o dirmngr dirmngr.o server.o crlcache.o crlfetch.o certcache.o domaininfo.o workqueue.o loadswdb.o cdblib.o misc.o ocsp.o validate.o dns-stuff.o http.o http-common.o http-ntbtls.o ks-action.o ks-engine-hkp.o ks-engine-http.o ks-engine-finger.o ks-engine-kdns.o dns.o ldapserver.o ldap.o ldap-parse-uri.o ks-engine-ldap.o  ldap-wrapper.o ../common/libcommonpth.a -lresolv  -L/workspace/destdir/lib -lassuan -L/workspace/destdir/workspace/destdir/lib -lgpg-error -L/workspace/destdir/lib -lgcrypt -lgpg-error -L/workspace/destdir/lib -lksba -L/workspace/destdir/workspace/destdir/lib -lgpg-error -L/workspace/destdir/lib -lnpth -lpthread  -L/workspace/destdir/lib -lgnutls      -lldap`","user":"U017D4RFTFC","ts":"1618180035.309400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Z=a0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cc -std=gnu99 -I/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/workspace/destdir/include -I/workspace/destdir/include -I/workspace/destdir/include  -I/workspace/destdir/include  -Wall -Wno-pointer-sign -Wpointer-arith -g -O2  -Wl,-rpath-link=/workspace/destdir -o dirmngr dirmngr.o server.o crlcache.o crlfetch.o certcache.o domaininfo.o workqueue.o loadswdb.o cdblib.o misc.o ocsp.o validate.o dns-stuff.o http.o http-common.o http-ntbtls.o ks-action.o ks-engine-hkp.o ks-engine-http.o ks-engine-finger.o ks-engine-kdns.o dns.o ldapserver.o ldap.o ldap-parse-uri.o ks-engine-ldap.o  ldap-wrapper.o ../common/libcommonpth.a -lresolv  -L/workspace/destdir/lib -lassuan -L/workspace/destdir/workspace/destdir/lib -lgpg-error -L/workspace/destdir/lib -lgcrypt -lgpg-error -L/workspace/destdir/lib -lksba -L/workspace/destdir/workspace/destdir/lib -lgpg-error -L/workspace/destdir/lib -lnpth -lpthread  -L/workspace/destdir/lib -lgnutls      -lldap","style":{"code":true}}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"9e47ba8c-5994-4d10-a550-38bdbc7cb317","type":"message","text":"you also need to figure out where the undefined symbols should be defined and make sure that library is passed to the compiler.  note also that order in compiler invocation is usually important","user":"UDB26738Q","ts":"1618180037.309600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wi4+6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you also need to figure out where the undefined symbols should be defined and make sure that library is passed to the compiler.  note also that order in compiler invocation is usually important"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"734fd4c8-d362-4cce-bfbc-b73343f33e84","type":"message","text":"so there is no `-lnettle` or whatever library defined those symbolse?","user":"UDB26738Q","ts":"1618180083.309800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tOdG=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so there is no "},{"type":"text","text":"-lnettle","style":{"code":true}},{"type":"text","text":" or whatever library defined those symbolse?"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"55a66408-578e-478e-9676-5ccc63f9fa02","type":"message","text":"I would think it's because I have the wrong .so.x version numbers right? They're both one higher. I tried adding LDFLAGS=-lnettle earlier. It does the same thing.","user":"U017D4RFTFC","ts":"1618180302.310000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K+JDo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would think it's because I have the wrong .so.x version numbers right? They're both one higher. I tried adding LDFLAGS=-lnettle earlier. It does the same thing."}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"fd8fc3df-f2c9-4054-b37a-0f9b3ebc28bd","type":"message","text":"but I don't see the error you mention","user":"UDB26738Q","ts":"1618180646.310200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1i7s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I don't see the error you mention"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"d58f8543-7284-4284-ba62-d44b71689722","type":"message","text":"`/opt/aarch64-linux-gnu/bin/../lib/gcc/aarch64-linux-gnu/4.8.5/../../../../aarch64-linux-gnu/bin/ld: warning: libhogweed.so.4, needed by /workspace/destdir/lib/libgnutls.so, not found (try using -rpath or -rpath-link)`","user":"U017D4RFTFC","ts":"1618180694.310400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V=jL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"/opt/aarch64-linux-gnu/bin/../lib/gcc/aarch64-linux-gnu/4.8.5/../../../../aarch64-linux-gnu/bin/ld: warning: libhogweed.so.4, needed by /workspace/destdir/lib/libgnutls.so, not found (try using -rpath or -rpath-link)","style":{"code":true}}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"aff5d01b-4c02-49d9-b5b2-526016f0f316","type":"message","text":"ok, I was looking to x86_64-linux-gnu, it's a different error","user":"UDB26738Q","ts":"1618180727.310600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=2X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, I was looking to x86_64-linux-gnu, it's a different error"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"},{"client_msg_id":"3ba28014-9a01-4d8e-81c1-068a68adf8b1","type":"message","text":"Same error for libnettle. I _have_ libhogweed.so.5 in the correct directory","user":"U017D4RFTFC","ts":"1618180739.310800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ln8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Same error for libnettle. I "},{"type":"text","text":"have","style":{"italic":true}},{"type":"text","text":" libhogweed.so.5 in the correct directory"}]}]}],"thread_ts":"1618177684.308600","parent_user_id":"U017D4RFTFC"}]