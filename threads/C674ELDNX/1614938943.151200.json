[{"client_msg_id":"3f7493cd-164b-4d92-ad28-8d173a3437ed","type":"message","text":"<@UDB26738Q> <@U66GD0880> so I've revised <https://github.com/JuliaPackaging/BinaryBuilder.jl/pull/1023> and <https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/123> -- they now pass all tests for me, and I successsfully used them together to build some JLLs (with `--deploy=local` and after changing the recipe to use `compat`. Any other things you'd like addressed, or tests you think I should run?)","user":"U012FH66MFW","ts":"1614938943.151200","team":"T68168MUP","edited":{"user":"U012FH66MFW","ts":"1614939118.000000"},"blocks":[{"type":"rich_text","block_id":"661Q","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" so I've revised "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/pull/1023"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/123"},{"type":"text","text":" -- they now pass all tests for me, and I successsfully used them together to build some JLLs (with "},{"type":"text","text":"--deploy=local","style":{"code":true}},{"type":"text","text":" and after changing the recipe to use "},{"type":"text","text":"compat","style":{"code":true}},{"type":"text","text":". Any other things you'd like addressed, or tests you think I should run?)"}]}]}],"thread_ts":"1614938943.151200","reply_count":12,"reply_users_count":2,"latest_reply":"1614948211.154400","reply_users":["UDB26738Q","U012FH66MFW"],"subscribed":false},{"client_msg_id":"a130934e-8efb-48e6-96e4-e19c9fc4fad1","type":"message","text":"Awesome. Did you try do the round-trip on llvm <https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/98#issuecomment-757079767|https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/98#issuecomment-757079767>?","user":"UDB26738Q","ts":"1614939155.151600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DGcIf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Awesome. Did you try do the round-trip on llvm "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/98#issuecomment-757079767","text":"https://github.com/JuliaPackaging/BinaryBuilderBase.jl/pull/98#issuecomment-757079767"},{"type":"text","text":"?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"d0e3af4d-4f73-4157-8fcb-ed2aa0c4454b","type":"message","text":"nope. I am not sure how to do that, though. But I know (now -- not back then) that with that old PR, any and all package would have been broken :disappointed:. I didn't test it well enough back then, relied too much on the naive believe that the CI would test it well enough...","user":"U012FH66MFW","ts":"1614939304.151800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2kzx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nope. I am not sure how to do that, though. But I know (now -- not back then) that with that old PR, any and all package would have been broken "},{"type":"emoji","name":"disappointed"},{"type":"text","text":". I didn't test it well enough back then, relied too much on the naive believe that the CI would test it well enough..."}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"ab29ee95-c1aa-4a4b-a84f-a9bdf4b06174","type":"message","text":"I am happy to try that round-trip, I know how to do the first step (produce meta.json file), but how to continue from there?","user":"U012FH66MFW","ts":"1614939326.152000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K77cC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am happy to try that round-trip, I know how to do the first step (produce meta.json file), but how to continue from there?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"12cbba5b-3a4d-488f-83b5-ad4ad0400991","type":"message","text":"Or is it sufficient to just try and build that file?","user":"U012FH66MFW","ts":"1614939333.152200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sU5Ug","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or is it sufficient to just try and build that file?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"9c5bb86e-519f-462d-a1d4-38c81ce8209b","type":"message","text":"Building llvm may take a while :sweat_smile: but I think you're mostly interested in checking the compat is serialised-deserialed correctly and the round-trip gives you back your input","user":"UDB26738Q","ts":"1614939453.152400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y07k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Building llvm may take a while "},{"type":"emoji","name":"sweat_smile"},{"type":"text","text":" but I think you're mostly interested in checking the compat is serialised-deserialed correctly and the round-trip gives you back your input"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"c22fdc7c-a78b-4421-8205-cdcfe134fd0d","type":"message","text":"yeah but libLLVM should not be that bad, as it \"just\" extracts parts of the full LLVM tarball, right?","user":"U012FH66MFW","ts":"1614939575.152600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2BP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah but libLLVM should not be that bad, as it \"just\" extracts parts of the full LLVM tarball, right?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"99ba700b-c422-43b1-a62f-ea8772d6f9cc","type":"message","text":"thing is: how can I manually take a meta.json file and let BB use that as input?","user":"U012FH66MFW","ts":"1614939589.152800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Kz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thing is: how can I manually take a meta.json file and let BB use that as input?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"59d9264d-9a68-4d33-becc-53c66eb0fd1a","type":"message","text":"hrm... would it work to make a dummy PR for Yggdrasil, with a hacked `.ci/Manifest.toml` which points to \"my\" copies of BB/BBB? But even then, I am not sure it'd test everything unless one actually merges the PR?","user":"U012FH66MFW","ts":"1614939807.153000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wP4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hrm... would it work to make a dummy PR for Yggdrasil, with a hacked "},{"type":"text","text":".ci/Manifest.toml","style":{"code":true}},{"type":"text","text":" which points to \"my\" copies of BB/BBB? But even then, I am not sure it'd test everything unless one actually merges the PR?"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"2673766e-c2be-467f-834d-8fbd3cf55b2a","type":"message","text":"Yeah, the issue arises on building the jll, which happens only on master","user":"UDB26738Q","ts":"1614941778.153200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9tDG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, the issue arises on building the jll, which happens only on master"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"8ef7643b-98b5-46ef-a045-b9d2c701ad6d","type":"message","text":"<https://github.com/JuliaPackaging/Yggdrasil/blob/master/.ci/register_package.jl|https://github.com/JuliaPackaging/Yggdrasil/blob/master/.ci/register_package.jl> this is how the json file is used","user":"UDB26738Q","ts":"1614941825.153400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"afp5C","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/master/.ci/register_package.jl","text":"https://github.com/JuliaPackaging/Yggdrasil/blob/master/.ci/register_package.jl"},{"type":"text","text":" this is how the json file is used"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"60b533f5-17a9-44da-b2c1-cf75d461780a","type":"message","text":"When I want to test building of packages locally I run that script line by line (I have to skip some of them though, especially those uploading files remotely or touching the remote repository)","user":"UDB26738Q","ts":"1614942231.153600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LvNM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I want to test building of packages locally I run that script line by line (I have to skip some of them though, especially those uploading files remotely or touching the remote repository)"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"},{"client_msg_id":"4ed354b8-16ca-42ae-ba42-3b8234b18302","type":"message","text":"OK I'll try to do that (once I find some spare cycles)","user":"U012FH66MFW","ts":"1614948211.154400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V0fxv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK I'll try to do that (once I find some spare cycles)"}]}]}],"thread_ts":"1614938943.151200","parent_user_id":"U012FH66MFW"}]