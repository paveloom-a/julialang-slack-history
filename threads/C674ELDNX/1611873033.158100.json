[{"client_msg_id":"3c0d8613-47eb-4a52-b1e3-7432127196d9","type":"message","text":"CI of BinaryBuilderBase is failing because download of some compiler shards hangs forever.  but we even disabled PkgServer, this seems to be GitHub having troubles downloading stuff from GitHub","user":"UDB26738Q","ts":"1611873033.158100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V9+x9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"CI of BinaryBuilderBase is failing because download of some compiler shards hangs forever.  but we even disabled PkgServer, this seems to be GitHub having troubles downloading stuff from GitHub"}]}]}],"thread_ts":"1611873033.158100","reply_count":16,"reply_users_count":3,"latest_reply":"1611875316.161200","reply_users":["U6795JH6H","UDB26738Q","U67SCG4HG"],"subscribed":false},{"client_msg_id":"7377290d-ce21-4fc7-9f7d-dc57502d6759","type":"message","text":"is it the concurrent HTTP/2 403 issue?","user":"U6795JH6H","ts":"1611873226.158200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lsmx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is it the concurrent HTTP/2 403 issue?"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"7f1a1d8a-2c8f-4515-b304-95edc67765f1","type":"message","text":"I don't think so, I didn't see any error, just the log stopping forever after starting a download.  the log however is gone now, GitHub doesn't seem to save logs of previous attempts :expressionless:","user":"UDB26738Q","ts":"1611873358.158400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CbsNm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think so, I didn't see any error, just the log stopping forever after starting a download.  the log however is gone now, GitHub doesn't seem to save logs of previous attempts "},{"type":"emoji","name":"expressionless"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"d8c10754-d331-4e32-aa25-aa28343e6666","type":"message","text":"In <https://github.com/JuliaLang/Pkg.jl/issues/2337> I showed that the downloader sometimes get stuck completely if something wrong happens","user":"U67SCG4HG","ts":"1611873441.158600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"umg0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2337"},{"type":"text","text":" I showed that the downloader sometimes get stuck completely if something wrong happens"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"b952f34e-1840-4bbe-a6ee-9f5e03e59093","type":"message","text":"should <https://github.com/JuliaLang/Downloads.jl/pull/85> help here?","user":"UDB26738Q","ts":"1611873731.158800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZvMT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should "},{"type":"link","url":"https://github.com/JuliaLang/Downloads.jl/pull/85"},{"type":"text","text":" help here?"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"3a0a7f55-e6c1-420f-8cd3-ced2ffb30d4f","type":"message","text":"Probably","user":"U67SCG4HG","ts":"1611873809.159000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tGCq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Probably"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"fd8b050e-612e-415a-88f9-675b1d255b01","type":"message","text":"good!\n\nthird attempt of the build like a charm","user":"UDB26738Q","ts":"1611873848.159200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Lg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"good!\n\nthird attempt of the build like a charm"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"2ff14ba1-0d94-406f-863c-987937fd754c","type":"message","text":"If the problem was indeed that libcurl kept trying and trying. I would have thought that after the connection completely died libcurl would give up but maybe not.","user":"U67SCG4HG","ts":"1611873958.159400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qfo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If the problem was indeed that libcurl kept trying and trying. I would have thought that after the connection completely died libcurl would give up but maybe not."}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"ea41b3a5-bb1e-42f0-a702-03b3363ebb56","type":"message","text":"it’s not that it’s retrying failed attempts, it’s just that by default it will wait forever for a server to reply","user":"U6795JH6H","ts":"1611874083.159600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YHs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s not that it’s retrying failed attempts, it’s just that by default it will wait forever for a server to reply"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"ca01896c-6ae7-45d4-928e-f8eb6f7ff00e","type":"message","text":"Right, but even after connection has died?","user":"U67SCG4HG","ts":"1611874115.159800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o+ZH+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, but even after connection has died?"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"87cd041a-3a00-48e8-a559-c87fa66fec77","type":"message","text":"if the connection has died then it should stop but if the server just stops sending anything the client doesn’t know that the connection has died","user":"U6795JH6H","ts":"1611874153.160000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6DJE+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if the connection has died then it should stop but if the server just stops sending anything the client doesn’t know that the connection has died"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"873fdc8e-8a7e-4f43-ae84-a653d2a6bcfc","type":"message","text":"so if there’s a RST package then I’m pretty sure it stops","user":"U6795JH6H","ts":"1611874180.160200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MZ6V1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so if there’s a RST package then I’m pretty sure it stops"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"48c98722-a10d-4f08-9db8-adae6bf25ace","type":"message","text":"Yea okay","user":"U67SCG4HG","ts":"1611874187.160400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xi4/9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea okay"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"b1be22fc-c5b3-4a44-ab64-b0bdfc731da8","type":"message","text":"if there’s just no packets then unless you set some kind of option it will just keep waiting","user":"U6795JH6H","ts":"1611874203.160600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/sv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if there’s just no packets then unless you set some kind of option it will just keep waiting"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"5a242ce0-ffc8-460e-b8af-80c2fe156e03","type":"message","text":"that’s probably a fine default for the `curl` command since the user will terminate it but for programatic use it’s not great","user":"U6795JH6H","ts":"1611874236.160800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sXGJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’s probably a fine default for the "},{"type":"text","text":"curl","style":{"code":true}},{"type":"text","text":" command since the user will terminate it but for programatic use it’s not great"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"bbedacc3-719e-443e-af95-1f6e11618600","type":"message","text":"Yea","user":"U67SCG4HG","ts":"1611874472.161000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XTXP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yea"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q"},{"client_msg_id":"6afd8ce2-2da5-4db7-8442-63d242b539b9","type":"message","text":"so anyway, now we give up if the server doesn’t send anything for 20s","user":"U6795JH6H","ts":"1611875316.161200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fne","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so anyway, now we give up if the server doesn’t send anything for 20s"}]}]}],"thread_ts":"1611873033.158100","parent_user_id":"UDB26738Q","reactions":[{"name":"+1","users":["U67SCG4HG","UDB26738Q","U66GD0880"],"count":3}]}]