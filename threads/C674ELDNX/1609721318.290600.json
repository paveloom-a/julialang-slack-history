[{"client_msg_id":"a532c4cf-76bc-427e-a378-cb12d4122dc0","type":"message","text":"I'm trying to build a <https://github.com/jstrube/Minuit2_Julia_Wrapper|new package> and deploy some Windows jlls. `--deploy=local` works fine, but trying to deploy to my github repo fails with the following error. Somehow, the wrong thing is being passed to LibGit2, but I failed to google the error.\n```julia Minuit2_Julia_Wrapper/.ci/build_tarballs.jl x86_64-w64-mingw32-cxx11,x86_64-linux-gnu-cxx11 --deploy=jstrube/Minuit2_Julia_Wrapper_jll.jl --verbose\n[ Info: Building and deploying version 0.1.1+0 to jstrube/Minuit2_Julia_Wrapper_jll.jl\nERROR: LoadError: MethodError: no method matching LibGit2.GitHash(::Nothing)\nClosest candidates are:\n  LibGit2.GitHash() at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:23\n  LibGit2.GitHash(::NTuple{20,UInt8}) at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:21\n  LibGit2.GitHash(::LibGit2.GitHash) at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:24\n  ...\nStacktrace:\n [1] init_jll_package(::String, ::String, ::SubString{String}; gh_auth::GitHub.OAuth2, gh_username::String) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:895\n [2] init_jll_package(::String, ::String, ::SubString{String}) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:860\n [3] build_tarballs(::Any, ::Any, ::Any, ::Any, ::Any, ::Any, ::Any, ::Any; kwargs::Any) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:211\n [4] top-level scope at /media/jstrube/24988e98-7094-4b00-aeb9-5c98c5b52a901/Data/Minuit2_Julia_Wrapper/.ci/build_tarballs.jl:41\n [5] include(::Function, ::Module, ::String) at ./Base.jl:380\n [6] include(::Module, ::String) at ./Base.jl:368\n [7] exec_options(::Base.JLOptions) at ./client.jl:296\n [8] _start() at ./client.jl:506\nin expression starting at /media/jstrube/24988e98-7094-4b00-aeb9-5c98c5b52a901/Data/Minuit2_Julia_Wrapper/.ci/build_tarballs.jl:41```\nThe build script I'm running is this: <https://github.com/jstrube/Minuit2_Julia_Wrapper/blob/main/.ci/build_tarballs.jl>","user":"UDFRYRTBL","ts":"1609721318.290600","team":"T68168MUP","edited":{"user":"UDFRYRTBL","ts":"1609721446.000000"},"blocks":[{"type":"rich_text","block_id":"=ZHQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to build a "},{"type":"link","url":"https://github.com/jstrube/Minuit2_Julia_Wrapper","text":"new package"},{"type":"text","text":" and deploy some Windows jlls. "},{"type":"text","text":"--deploy=local","style":{"code":true}},{"type":"text","text":" works fine, but trying to deploy to my github repo fails with the following error. Somehow, the wrong thing is being passed to LibGit2, but I failed to google the error.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia Minuit2_Julia_Wrapper/.ci/build_tarballs.jl x86_64-w64-mingw32-cxx11,x86_64-linux-gnu-cxx11 --deploy=jstrube/Minuit2_Julia_Wrapper_jll.jl --verbose\n[ Info: Building and deploying version 0.1.1+0 to jstrube/Minuit2_Julia_Wrapper_jll.jl\nERROR: LoadError: MethodError: no method matching LibGit2.GitHash(::Nothing)\nClosest candidates are:\n  LibGit2.GitHash() at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:23\n  LibGit2.GitHash(::NTuple{20,UInt8}) at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:21\n  LibGit2.GitHash(::LibGit2.GitHash) at /home/jstrube/Applications/julia-stable/usr/share/julia/stdlib/v1.5/LibGit2/src/types.jl:24\n  ...\nStacktrace:\n [1] init_jll_package(::String, ::String, ::SubString{String}; gh_auth::GitHub.OAuth2, gh_username::String) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:895\n [2] init_jll_package(::String, ::String, ::SubString{String}) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:860\n [3] build_tarballs(::Any, ::Any, ::Any, ::Any, ::Any, ::Any, ::Any, ::Any; kwargs::Any) at /home/jstrube/.julia/packages/BinaryBuilder/OMMHj/src/AutoBuild.jl:211\n [4] top-level scope at /media/jstrube/24988e98-7094-4b00-aeb9-5c98c5b52a901/Data/Minuit2_Julia_Wrapper/.ci/build_tarballs.jl:41\n [5] include(::Function, ::Module, ::String) at ./Base.jl:380\n [6] include(::Module, ::String) at ./Base.jl:368\n [7] exec_options(::Base.JLOptions) at ./client.jl:296\n [8] _start() at ./client.jl:506\nin expression starting at /media/jstrube/24988e98-7094-4b00-aeb9-5c98c5b52a901/Data/Minuit2_Julia_Wrapper/.ci/build_tarballs.jl:41"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The build script I'm running is this: "},{"type":"link","url":"https://github.com/jstrube/Minuit2_Julia_Wrapper/blob/main/.ci/build_tarballs.jl"}]}]}],"thread_ts":"1609721318.290600","reply_count":5,"reply_users_count":2,"latest_reply":"1609721642.291600","reply_users":["UDB26738Q","UDFRYRTBL"],"subscribed":false},{"client_msg_id":"f8b64d6a-c48b-4e28-ba51-40d9bf81ae5d","type":"message","text":"I think that's because the default branch is called `main`.  it's fixed in the `master` version of `BB`, which however requires `BinaryBuilderBase#master` and a not too recent version of Julia master","user":"UDB26738Q","ts":"1609721554.290800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ff","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that's because the default branch is called "},{"type":"text","text":"main","style":{"code":true}},{"type":"text","text":".  it's fixed in the "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":" version of "},{"type":"text","text":"BB","style":{"code":true}},{"type":"text","text":", which however requires "},{"type":"text","text":"BinaryBuilderBase#master","style":{"code":true}},{"type":"text","text":" and a not too recent version of Julia master"}]}]}],"thread_ts":"1609721318.290600","parent_user_id":"UDFRYRTBL"},{"client_msg_id":"7906cb38-113c-412a-bb16-2e2a045ba093","type":"message","text":"ah.","user":"UDFRYRTBL","ts":"1609721573.291000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ig36","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah."}]}]}],"thread_ts":"1609721318.290600","parent_user_id":"UDFRYRTBL"},{"client_msg_id":"0cc92249-0775-4240-b43d-eda0917d2410","type":"message","text":"thanks!","user":"UDFRYRTBL","ts":"1609721583.291200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rRCD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks!"}]}]}],"thread_ts":"1609721318.290600","parent_user_id":"UDFRYRTBL"},{"client_msg_id":"7e7663ca-8444-440b-bd19-dcf341f82a9b","type":"message","text":"I've tried with a julia-1.6 version, but that had some issues with PCRE","user":"UDFRYRTBL","ts":"1609721623.291400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BQB/R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've tried with a julia-1.6 version, but that had some issues with PCRE"}]}]}],"thread_ts":"1609721318.290600","parent_user_id":"UDFRYRTBL"},{"client_msg_id":"3a8130dd-f975-404b-a0dc-1fa8b50efb41","type":"message","text":"I'll just stay on master for now.","user":"UDFRYRTBL","ts":"1609721642.291600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jBVfV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll just stay on master for now."}]}]}],"thread_ts":"1609721318.290600","parent_user_id":"UDFRYRTBL"}]