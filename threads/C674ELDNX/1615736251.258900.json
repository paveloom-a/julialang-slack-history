[{"client_msg_id":"365f5b8b-82cb-4e97-8c67-0ecdcf9a16ce","type":"message","text":"<@UG72VPD9A>, who had a successful project on Julia/OpenCV bindings during last year's GSoC, is preparing to apply again to tackle the other half: integration with BB. Wondering if there would be someone who'd be willing to co-mentor him? I can help with the image side of it but I have negligible expertise when it comes to binaries.","user":"UC8821DPY","ts":"1615736251.258900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QQ8y","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UG72VPD9A"},{"type":"text","text":", who had a successful project on Julia/OpenCV bindings during last year's GSoC, is preparing to apply again to tackle the other half: integration with BB. Wondering if there would be someone who'd be willing to co-mentor him? I can help with the image side of it but I have negligible expertise when it comes to binaries."}]}]}],"thread_ts":"1615736251.258900","reply_count":19,"reply_users_count":4,"latest_reply":"1615870402.000100","reply_users":["UDB26738Q","UG72VPD9A","U012FH66MFW","U01LHFZRHDF"],"subscribed":false},{"client_msg_id":"ae07a5bc-a26d-467a-896f-0235da6b97ab","type":"message","text":"I can probably help with that.  there is also a previous attempt which failed only on some platform, that could be a good starting point: <https://github.com/JuliaPackaging/Yggdrasil/pull/1497>","user":"UDB26738Q","ts":"1615736408.259000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s4M6d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can probably help with that.  there is also a previous attempt which failed only on some platform, that could be a good starting point: "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/1497"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY","reactions":[{"name":"heart","users":["UC8821DPY"],"count":1}]},{"client_msg_id":"adcaaf77-36c0-4241-ac82-0ee5b57889b8","type":"message","text":"Hi <@UDB26738Q>, would you be willing to co-mentor this project? I did go through that pull request and while it does build OpenCV binaries it doesn't build the Julia binding. There are some challenges involved in building the OpenCV binaries with Julia binding that might make it different from usual BB integrations that I'd like to discuss with you.","user":"UG72VPD9A","ts":"1615737967.259400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"atv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":", would you be willing to co-mentor this project? I did go through that pull request and while it does build OpenCV binaries it doesn't build the Julia binding. There are some challenges involved in building the OpenCV binaries with Julia binding that might make it different from usual BB integrations that I'd like to discuss with you."}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"48819b39-41ec-460c-8e24-40bb84d14b67","type":"message","text":"how do you build the julia bindings?","user":"UDB26738Q","ts":"1615738008.259600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B7CB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how do you build the julia bindings?"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"5ad45b4c-7895-4e5e-8c9a-7471d125dcf0","type":"message","text":"do you need to build against libjulia?","user":"UDB26738Q","ts":"1615738025.259800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ol+Ph","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you need to build against libjulia?"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"3f330acc-1f94-44ce-92fd-dde87b991915","type":"message","text":"Yeah it depends on libcxxwrap. Also, and this is the bigger issue, the build process spits out another julia package (which uses the binaries) that would usually be installed by calling the julia executable from the build script","user":"UG72VPD9A","ts":"1615741953.260000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kx/D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah it depends on libcxxwrap. Also, and this is the bigger issue, the build process spits out another julia package (which uses the binaries) that would usually be installed by calling the julia executable from the build script"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"1fd5777c-9bd8-4137-950a-fadc05f334f9","type":"message","text":"ok, we have plenty of examples of packages linking to libcxxwrap, but why does it need to generate also a julia package?","user":"UDB26738Q","ts":"1615742015.260200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"17E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, we have plenty of examples of packages linking to libcxxwrap, but why does it need to generate also a julia package?"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"630a2711-724b-4fc0-a984-cf6e65ee6ec1","type":"message","text":"that's rather unconventional","user":"UDB26738Q","ts":"1615742025.260400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JvRL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's rather unconventional"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"86826d45-a0e7-46d6-a5ab-ffdbca0e42ee","type":"message","text":"Yes the package does a lot of data type conversion and other niceties which improve the overall experience compared to directly using a library through CxxWrap. The reason it generates the package is because the package is auto-generated by python code that goes through header files figuring out exactly what function and class definitions are available given whatever build options were selected.","user":"UG72VPD9A","ts":"1615742146.260600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PlBp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes the package does a lot of data type conversion and other niceties which improve the overall experience compared to directly using a library through CxxWrap. The reason it generates the package is because the package is auto-generated by python code that goes through header files figuring out exactly what function and class definitions are available given whatever build options were selected."}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"ad8e3825-ad6f-4e16-a3f9-5a44b6350d07","type":"message","text":"I think it's kinda doable, albeit unconventional","user":"UDB26738Q","ts":"1615742529.260800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Us","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it's kinda doable, albeit unconventional"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"0ef60223-68e3-4dbb-a33e-1a0ef5068b60","type":"message","text":"Do you have any suggestions about what might be the best way to do this?","user":"UG72VPD9A","ts":"1615742599.261000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bfZm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have any suggestions about what might be the best way to do this?"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"db8dc137-6e58-4691-9192-c58f6c3a3b2f","type":"message","text":"Ideally I would want to be able to generate the julia package through BB aswell but I could copy it from say another installation that targets the same source version and build config.","user":"UG72VPD9A","ts":"1615742668.261200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BbNWk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ideally I would want to be able to generate the julia package through BB aswell but I could copy it from say another installation that targets the same source version and build config."}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"b461af72-66de-4a8e-ad4d-569d0f9c823a","type":"message","text":"rather than a full julia package, maybe a thin Julia wrapper with the bindings which can then be included by the real package?","user":"UDB26738Q","ts":"1615742838.261500","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1615742849.000000"},"blocks":[{"type":"rich_text","block_id":"xbR8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"rather than a full julia package, maybe a thin Julia wrapper with the bindings which can then be included by the real package?"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"67e26bb5-d3d8-4e52-826e-9a4e4e19c929","type":"message","text":"I believe <https://github.com/JuliaPackaging/Yggdrasil/blob/0b49be014829838560b1cae493568e0de1e1b7a3/G/gmsh/build_tarballs.jl> does something similar","user":"UDB26738Q","ts":"1615742893.261800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KkZk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/0b49be014829838560b1cae493568e0de1e1b7a3/G/gmsh/build_tarballs.jl"},{"type":"text","text":" does something similar"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"f85d0671-ec30-4adf-a24f-a56b06b21840","type":"message","text":"which seems to be used here: <https://github.com/gridap/GridapGmsh.jl>","user":"UDB26738Q","ts":"1615742927.262000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PRG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which seems to be used here: "},{"type":"link","url":"https://github.com/gridap/GridapGmsh.jl"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"20f35e01-9a20-4467-94dd-40d5b1ae22f4","type":"message","text":"having a single file instead of an entire package would require me to significantly rework the first part of the project and I want to avoid doing that","user":"UG72VPD9A","ts":"1615788715.262700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qzF2u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"having a single file instead of an entire package would require me to significantly rework the first part of the project and I want to avoid doing that"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"73374d1a-e6cf-4b22-9f7e-380603838062","type":"message","text":"but you could still have an \"entire package\" -- which as part of its execution, reads that single file generated by the binary builder script","user":"U012FH66MFW","ts":"1615807766.263000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MTTb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but you could still have an \"entire package\" -- which as part of its execution, reads that single file generated by the binary builder script"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"79e10978-8d00-42f3-944a-83ca7fa26a3d","type":"message","text":"maybe I am not understanding what the problem is, exactly, though :slightly_smiling_face:","user":"U012FH66MFW","ts":"1615807794.263200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5pATZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe I am not understanding what the problem is, exactly, though "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"},{"client_msg_id":"1f85ffd4-6f7c-4c16-8f97-d18501a809af","type":"message","text":"yes, I don't understand the constraints you have. a standard package can't really live inside the artifact, it won't be possible to register it for once","user":"UDB26738Q","ts":"1615808099.263400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"97M5J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, I don't understand the constraints you have. a standard package can't really live inside the artifact, it won't be possible to register it for once"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY","reactions":[{"name":"julia-plus-one","users":["U012FH66MFW"],"count":1}]},{"client_msg_id":"7f3b6874-38be-4908-b266-fb59f77b47a7","type":"message","text":"If you want to tackle opencv, pls bring it with CUDA support :smile:","user":"U01LHFZRHDF","ts":"1615870402.000100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cerX2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you want to tackle opencv, pls bring it with CUDA support "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1615736251.258900","parent_user_id":"UC8821DPY"}]