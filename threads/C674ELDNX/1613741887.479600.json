[{"client_msg_id":"e0e38ffb-cb2f-469f-8b2b-d01b83847248","type":"message","text":"Hej hej! I am trying to update the SEAL `build_tarballs.jl` in <https://github.com/JuliaPackaging/Yggdrasil/tree/master/S/SEAL|Yggdrasil> for the new v3.6 release of the SEAL library. Since 3.6 they do not bundle the dependencies with SEAL anymore but use CMake's `FetchContent` <https://cmake.org/cmake/help/latest/module/FetchContent.html|feature> to get and build them. However, this does not work in BB since there does not seem to be internet access from within a build environment. What's the recommended way to handle this in a sane way?","user":"UTKCH2WFL","ts":"1613741887.479600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eNz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hej hej! I am trying to update the SEAL "},{"type":"text","text":"build_tarballs.jl","style":{"code":true}},{"type":"text","text":" in "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/tree/master/S/SEAL","text":"Yggdrasil"},{"type":"text","text":" for the new v3.6 release of the SEAL library. Since 3.6 they do not bundle the dependencies with SEAL anymore but use CMake's "},{"type":"text","text":"FetchContent","style":{"code":true}},{"type":"text","text":" "},{"type":"link","url":"https://cmake.org/cmake/help/latest/module/FetchContent.html","text":"feature"},{"type":"text","text":" to get and build them. However, this does not work in BB since there does not seem to be internet access from within a build environment. What's the recommended way to handle this in a sane way?"}]}]}],"thread_ts":"1613741887.479600","reply_count":60,"reply_users_count":4,"latest_reply":"1613773026.499300","reply_users":["UDB26738Q","UTKCH2WFL","UH24GRBLL","U66GD0880"],"subscribed":false},{"client_msg_id":"7637b199-cb73-497a-bff1-35906295479b","type":"message","text":"&gt; there does not seem to be internet access from within a build environment.\nuh?","user":"UDB26738Q","ts":"1613741923.479700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9eLR","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"there does not seem to be internet access from within a build environment."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nuh?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"559a17c0-7813-4f45-8bfc-4322a18f79ed","type":"message","text":"_Should_ there be internet access? I cannot ping <http://google.com|google.com>, and git cannot connect to <http://github.com|github.com> from within the build","user":"UTKCH2WFL","ts":"1613741966.479900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3ao","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should","style":{"italic":true}},{"type":"text","text":" there be internet access? I cannot ping "},{"type":"link","url":"http://google.com","text":"google.com"},{"type":"text","text":", and git cannot connect to "},{"type":"link","url":"http://github.com","text":"github.com"},{"type":"text","text":" from within the build"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"0078659b-1df5-411d-b5b2-e132da8c1f77","type":"message","text":"(I just assumed it was a feature, not a bug)","user":"UTKCH2WFL","ts":"1613741973.480100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DL7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I just assumed it was a feature, not a bug)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"7924b308-8030-4d93-b91f-8f5a9840fb57","type":"message","text":"```sandbox:${WORKSPACE} # ping -c3 <http://google.com|google.com>\nPING <http://google.com|google.com> (172.217.169.78): 56 data bytes\n64 bytes from 172.217.169.78: seq=0 ttl=42 time=6.236 ms\n64 bytes from 172.217.169.78: seq=1 ttl=42 time=6.243 ms\n64 bytes from 172.217.169.78: seq=2 ttl=42 time=6.810 ms\n\n--- <http://google.com|google.com> ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 6.236/6.429/6.810 ms\nsandbox:${WORKSPACE} # git clone <https://github.com/JuliaPackaging/BinaryBuilder.jl>\nCloning into 'BinaryBuilder.jl'...\nremote: Enumerating objects: 15944, done.\nremote: Total 15944 (delta 0), reused 0 (delta 0), pack-reused 15944\nReceiving objects: 100% (15944/15944), 4.39 MiB | 3.32 MiB/s, done.\nResolving deltas: 100% (9874/9874), done.```","user":"UDB26738Q","ts":"1613742032.480300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uyu","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"sandbox:${WORKSPACE} # ping -c3 google.com\nPING google.com (172.217.169.78): 56 data bytes\n64 bytes from 172.217.169.78: seq=0 ttl=42 time=6.236 ms\n64 bytes from 172.217.169.78: seq=1 ttl=42 time=6.243 ms\n64 bytes from 172.217.169.78: seq=2 ttl=42 time=6.810 ms\n\n--- google.com ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 6.236/6.429/6.810 ms\nsandbox:${WORKSPACE} # git clone "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl"},{"type":"text","text":"\nCloning into 'BinaryBuilder.jl'...\nremote: Enumerating objects: 15944, done.\nremote: Total 15944 (delta 0), reused 0 (delta 0), pack-reused 15944\nReceiving objects: 100% (15944/15944), 4.39 MiB | 3.32 MiB/s, done.\nResolving deltas: 100% (9874/9874), done."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"6b3df7df-8701-4e83-989d-42e01323f0a5","type":"message","text":"Argh!\n```sandbox:${WORKSPACE}/srcdir/SEAL-3.6.2 # ping -c3 <http://google.com|google.com>\nping: bad address '<http://google.com|google.com>'```\n","user":"UTKCH2WFL","ts":"1613742101.480500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CK3Jb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Argh!\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"sandbox:${WORKSPACE}/srcdir/SEAL-3.6.2 # ping -c3 google.com\nping: bad address 'google.com'"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"3468d707-0afe-40d5-9187-08715602e4ed","type":"message","text":"Any idea how I managed to break this? I am using the infamous wizard - could it be related to that?","user":"UTKCH2WFL","ts":"1613742129.480700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L4l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any idea how I managed to break this? I am using the infamous wizard - could it be related to that?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"5aa186b1-1054-4407-8ea1-f35df85d260c","type":"message","text":"I don't think so, the environment shouldn't be much different from the regular shell","user":"UDB26738Q","ts":"1613742155.480900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uoL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think so, the environment shouldn't be much different from the regular shell"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"4648f5eb-e8a0-406f-b57b-a9a27117db5d","type":"message","text":"Then I don't get how this is (reproducibly) not working. If I run the `ping` from a regular terminal, everything works as usual, it's just inside the build env that it doesn't work","user":"UTKCH2WFL","ts":"1613742290.481100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1VXJD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then I don't get how this is (reproducibly) not working. If I run the "},{"type":"text","text":"ping","style":{"code":true}},{"type":"text","text":" from a regular terminal, everything works as usual, it's just inside the build env that it doesn't work"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"282abcf8-5e70-470d-9b70-734c6064fa8f","type":"message","text":"I'll try a different machine to see if I can reproduce it there","user":"UTKCH2WFL","ts":"1613742341.481300","team":"T68168MUP","edited":{"user":"UTKCH2WFL","ts":"1613742353.000000"},"blocks":[{"type":"rich_text","block_id":"suOUN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll try a different machine to see if I can reproduce it there"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"19b5b320-ba5e-4507-87af-2f3f12b46482","type":"message","text":"can you ping the ip directly?","user":"UH24GRBLL","ts":"1613742395.481600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"554u0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you ping the ip directly?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"3d931759-2741-440b-bcd1-9a42781007b6","type":"message","text":"&gt; can you ping the ip directly?\nIndeed I can :+1:\n```sandbox:${WORKSPACE}/srcdir/SEAL-3.6.2 # ping -c3 142.250.186.142\nPING 142.250.186.142 (142.250.186.142): 56 data bytes\n64 bytes from 142.250.186.142: seq=0 ttl=42 time=4.042 ms\n64 bytes from 142.250.186.142: seq=1 ttl=42 time=4.540 ms\n64 bytes from 142.250.186.142: seq=2 ttl=42 time=4.704 ms\n\n--- 142.250.186.142 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 4.042/4.428/4.704 ms```","user":"UTKCH2WFL","ts":"1613742583.481800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eJh","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"can you ping the ip directly?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Indeed I can "},{"type":"emoji","name":"+1"},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"sandbox:${WORKSPACE}/srcdir/SEAL-3.6.2 # ping -c3 142.250.186.142\nPING 142.250.186.142 (142.250.186.142): 56 data bytes\n64 bytes from 142.250.186.142: seq=0 ttl=42 time=4.042 ms\n64 bytes from 142.250.186.142: seq=1 ttl=42 time=4.540 ms\n64 bytes from 142.250.186.142: seq=2 ttl=42 time=4.704 ms\n\n--- 142.250.186.142 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 4.042/4.428/4.704 ms"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"bb57d888-7f42-4a67-9d94-9fd900d22007","type":"message","text":"Nice intuition. So it seems like it cannot resolve the name, but it does have access to the internet.","user":"UTKCH2WFL","ts":"1613742620.482000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tf07","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice intuition. So it seems like it cannot resolve the name, but it does have access to the internet."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"53a9a72c-6354-4064-80fe-383ea8edb1fb","type":"message","text":"then I guess the container has a broken DNS setup","user":"UH24GRBLL","ts":"1613742658.482200","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1613742671.000000"},"blocks":[{"type":"rich_text","block_id":"N8wL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then I guess the container has a broken DNS setup"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"tombstone","users":["UDB26738Q","UGU761DU2"],"count":2}]},{"client_msg_id":"8f48cdbe-96be-46b3-b1cf-9902b4daca20","type":"message","text":"Any idea how I can test this? And is it \"my\" container or \"the\" container?","user":"UTKCH2WFL","ts":"1613742695.482700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wnT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any idea how I can test this? And is it \"my\" container or \"the\" container?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"2644619d-23cc-4680-a77e-278be5b3241b","type":"message","text":"if someone else can reproduce the problem in their setup, it's \"your\" container/environment that's broken","user":"UH24GRBLL","ts":"1613742775.482900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DqMrm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if someone else can reproduce the problem in their setup, it's \"your\" container/environment that's broken"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"8ee2e979-59e2-4dba-b01c-58c6cdbfd785","type":"message","text":"Is there a way to find out which specific container I am looking at?","user":"UTKCH2WFL","ts":"1613742951.483100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JLo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to find out which specific container I am looking at?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"60e1bb6f-161d-4153-ba62-a0870a89d00a","type":"message","text":"version of julia/BB/BBB?","user":"UDB26738Q","ts":"1613742979.483300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Rr8z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"version of julia/BB/BBB?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"b31e9b94-f4b1-421f-9e28-138caea269a9","type":"message","text":"Sorry if I'm asking not the right (or outright dumb) questions, but I am really at a loss here about what to do","user":"UTKCH2WFL","ts":"1613742987.483500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ufSF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry if I'm asking not the right (or outright dumb) questions, but I am really at a loss here about what to do"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"36650387-435e-42d7-9f17-243d8686f442","type":"message","text":"What's BBB?","user":"UTKCH2WFL","ts":"1613742995.483700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FG3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's BBB?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"6fcf0399-250f-4d94-9684-44dd19237609","type":"message","text":"BinaryBuilderBase (we split it out of BinaryBuilder, just to complicate our lives)","user":"UDB26738Q","ts":"1613743015.483900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mxV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"BinaryBuilderBase (we split it out of BinaryBuilder, just to complicate our lives)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"53378398-e2cf-4ceb-b642-80d03e4e85cc","type":"message","text":"Julia/BB/BBB: 1.5.3/0.2.6/0.4.1","user":"UTKCH2WFL","ts":"1613743077.484100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KFS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia/BB/BBB: 1.5.3/0.2.6/0.4.1"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"bb3a4b2b-3f88-4cb1-8a85-4138c4340545","type":"message","text":"ok, so the latest stable version of everything","user":"UDB26738Q","ts":"1613743102.484300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XDY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, so the latest stable version of everything"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"8385e2c7-e146-4113-b189-19627780a3f1","type":"message","text":"<https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/a89a35921963ad00df07d677979b430621c7c5b3/Artifacts.toml#L2113> this is the container image you're using, from August last year (which is like a couple of ice ages ago, in terms of BinaryBuilder timescale)","user":"UDB26738Q","ts":"1613743207.484900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xpb","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilderBase.jl/blob/a89a35921963ad00df07d677979b430621c7c5b3/Artifacts.toml#L2113"},{"type":"text","text":" this is the container image you're using, from August last year (which is like a couple of ice ages ago, in terms of BinaryBuilder timescale)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"24554fb9-707a-42a6-9be2-be6c39af8377","type":"message","text":"but honestly I don't remember any change about network settings","user":"UDB26738Q","ts":"1613743233.485100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZE/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but honestly I don't remember any change about network settings"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"fd4e9b4e-14c7-4d10-ab4c-829ea7120e2e","type":"message","text":"Yep, that seems to be the one","user":"UTKCH2WFL","ts":"1613743289.485300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O9ly","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, that seems to be the one"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"308281ab-beff-4197-be46-7d600fff916e","type":"message","text":"I believe we use Google DNS: <https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L61-L72> and <https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L126-L131>","user":"UDB26738Q","ts":"1613743310.485500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kW+v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe we use Google DNS: "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L61-L72"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L126-L131"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"40b9be4d-d54a-407d-9674-3197a47a1029","type":"message","text":"is that somewhat blocked for you?","user":"UDB26738Q","ts":"1613743320.485700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VqN/d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is that somewhat blocked for you?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"a040651b-56ef-4eaa-8921-33a16fef3637","type":"message","text":"I just went to a different machine, renamed my `~/.julia` folder, added BinaryBuilder, fired up the wizard and could again not ping <http://google.com|google.com>","user":"UTKCH2WFL","ts":"1613743426.485900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Aa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just went to a different machine, renamed my "},{"type":"text","text":"~/.julia","style":{"code":true}},{"type":"text","text":" folder, added BinaryBuilder, fired up the wizard and could again not ping "},{"type":"link","url":"http://google.com","text":"google.com"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"a46cbcbe-8146-4739-b83f-8ec366ad2d8b","type":"message","text":"(those lines have been there for 2/3 years, so nothing really new","user":"UDB26738Q","ts":"1613743429.486100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3HBn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(those lines have been there for 2/3 years, so nothing really new"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"34e6ba7b-fd77-4d8e-9876-fc84e2116e17","type":"message","text":"Hm","user":"UTKCH2WFL","ts":"1613743436.486300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0fFme","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"6e9d05d3-52dc-4d27-a7cb-48871da82b3c","type":"message","text":"do you have access to github codespaces?","user":"UDB26738Q","ts":"1613743471.486500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2BnS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you have access to github codespaces?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"56810ca7-153a-4ab1-aa4e-7ab6a7b7aaba","type":"message","text":"(not yet)","user":"UTKCH2WFL","ts":"1613743479.486700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WI8d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(not yet)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"522cded7-14b0-4c32-9162-7809fa2c9680","type":"message","text":"I will try a different machine on another network, see if that fixes the problem","user":"UTKCH2WFL","ts":"1613743518.486900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2TLjQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I will try a different machine on another network, see if that fixes the problem"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"f2641d1b-14b7-40c4-9b12-73e4d974a678","type":"message","text":"can you try to use google DNS on your machine, outside of BinaryBuilder shell?  maybe it's blocked in your network?","user":"UDB26738Q","ts":"1613743573.487100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"48JBl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you try to use google DNS on your machine, outside of BinaryBuilder shell?  maybe it's blocked in your network?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"c4c38871-0000-4946-967d-63e8b6cf7357","type":"message","text":"Any idea how I can do this from the Linux command line?","user":"UTKCH2WFL","ts":"1613743622.487300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hjW/a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any idea how I can do this from the Linux command line?"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"400754f6-55e0-4dcf-b7f5-f0b574a68019","type":"message","text":"<https://developers.google.com/speed/public-dns/docs/using#linux>","user":"UDB26738Q","ts":"1613743661.487500","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1613743666.000000"},"blocks":[{"type":"rich_text","block_id":"PHvpR","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://developers.google.com/speed/public-dns/docs/using#linux"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"97442944-9fe0-4ca6-a218-9f3ec3f18549","type":"message","text":"By the way:\n```    \"nameserver 4.4.4.4\"```\nfrom <https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L130>\n\n--&gt; 4.4.4.4 is not a valid DNS server anymore, I believe. At least if I ping it, I get nothing","user":"UTKCH2WFL","ts":"1613743706.487900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M6Ojn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"By the way:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    \"nameserver 4.4.4.4\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"from "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/c460f2267e1c83bf53e7a799d12452010274254f/0_RootFS/Rootfs/build_tarballs.jl#L130"},{"type":"text","text":"\n\n--> 4.4.4.4 is not a valid DNS server anymore, I believe. At least if I ping it, I get nothing"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"d5bf8662-4197-47fd-b487-1212ba2fe6e3","type":"message","text":"(from any machine)","user":"UTKCH2WFL","ts":"1613743718.488100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B2Yx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(from any machine)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"48e411de-d081-4d65-93bf-a0f892c02826","type":"message","text":"I can ping the other 3 though, so this shouldn't be an issue either","user":"UTKCH2WFL","ts":"1613743904.488300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8EZ5F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can ping the other 3 though, so this shouldn't be an issue either"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"05c5b131-2dfb-4c2d-8967-67027fe69c45","type":"message","text":"can confirm","user":"UH24GRBLL","ts":"1613743905.488500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ud+x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can confirm"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"ab56b8a3-0cf9-4418-9ba7-b162b7d49d8d","type":"message","text":"4.4.4.4 does not answer","user":"UH24GRBLL","ts":"1613743912.488700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"COK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"4.4.4.4 does not answer"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"d5fb0b81-b988-4875-97fe-2cf47afad5f2","type":"message","text":"well, maybe after 3 years those lines need to be updated.  I guess this is the time I'd ping Elliot, but he's sleeping anyway","user":"UDB26738Q","ts":"1613743915.488900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rZbj5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, maybe after 3 years those lines need to be updated.  I guess this is the time I'd ping Elliot, but he's sleeping anyway"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"22415478-63fb-46bc-a7f1-211295d5c01c","type":"message","text":"Your hunch was right. If I change the nameserver settings in `/etc/resolve.conf` to the Google DNS servers, I cannot ping <http://google.com|google.com> anymore either. Once I change it back to the previous setting (some locally running DNS server), it works again","user":"UTKCH2WFL","ts":"1613744235.489100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GIhK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Your hunch was right. If I change the nameserver settings in "},{"type":"text","text":"/etc/resolve.conf","style":{"code":true}},{"type":"text","text":" to the Google DNS servers, I cannot ping "},{"type":"link","url":"http://google.com","text":"google.com"},{"type":"text","text":" anymore either. Once I change it back to the previous setting (some locally running DNS server), it works again"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"c1250bf6-159c-4871-b192-2416daf64b76","type":"message","text":"Alas... why oh why did they decide do block Google's DNS, the everyman's go-to DNS server? :excel:","user":"UTKCH2WFL","ts":"1613744270.489300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HOLL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alas... why oh why did they decide do block Google's DNS, the everyman's go-to DNS server? "},{"type":"emoji","name":"excel"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"disappointed","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"13984425-2cbf-43f2-b4ee-fac9aa44902d","type":"message","text":"Argh, I didn't mean the Excel emoji, I mean this one :exploding_head:","user":"UTKCH2WFL","ts":"1613744286.489600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SbI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Argh, I didn't mean the Excel emoji, I mean this one "},{"type":"emoji","name":"exploding_head"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"joy","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"f4c890ef-ba85-43c7-a3bc-34739026fa0a","type":"message","text":"(though they related I guess)","user":"UTKCH2WFL","ts":"1613744311.489900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AOwK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(though they related I guess)"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"heavy_check_mark","users":["UDB26738Q","UGU761DU2"],"count":2}]},{"client_msg_id":"3f99d688-b3fd-439c-ab02-03b726dec1d5","type":"message","text":"Thanks <@UDB26738Q> <@UH24GRBLL> for your help. I guess there's nothing else I can do now but ask the admins to open up the Google DNS again... it used to work just a few months back, so this must be a new thing they came up with","user":"UTKCH2WFL","ts":"1613744360.490100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wv5v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" "},{"type":"user","user_id":"UH24GRBLL"},{"type":"text","text":" for your help. I guess there's nothing else I can do now but ask the admins to open up the Google DNS again... it used to work just a few months back, so this must be a new thing they came up with"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"+1","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"28f0f9fa-e718-4d49-9f20-333e8062997f","type":"message","text":"I presume they want to prevent internal domain names leaking outside","user":"UH24GRBLL","ts":"1613744493.490500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DumpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I presume they want to prevent internal domain names leaking outside"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"13384ce3-02cb-4de6-a6da-e72e6d096801","type":"message","text":"in my previous job we didn't even have internet connection in the office, problem solved :rolling_on_the_floor_laughing:","user":"UDB26738Q","ts":"1613744560.490700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CHXG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in my previous job we didn't even have internet connection in the office, problem solved "},{"type":"emoji","name":"rolling_on_the_floor_laughing"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"4a4f430f-bf22-4daa-90fa-2fe5ff5236a8","type":"message","text":"Yeah, I know the feeling. Back when management assumed the internet is only a distraction, not a productivity tool","user":"UTKCH2WFL","ts":"1613744747.490900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U3pk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I know the feeling. Back when management assumed the internet is only a distraction, not a productivity tool"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"6568ed3b-68c0-48ff-9dd7-8b7ae4c7943c","type":"message","text":"for us it was more for security reasons :eyes: :female-detective:","user":"UDB26738Q","ts":"1613744802.491100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HIKI2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for us it was more for security reasons "},{"type":"emoji","name":"eyes"},{"type":"text","text":" "},{"type":"emoji","name":"female-detective"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"0612fc77-0f8f-4194-9670-5fa05900a68a","type":"message","text":"we worked on classified projects","user":"UDB26738Q","ts":"1613744856.491300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i=L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we worked on classified projects"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"f95a05d3-abd4-458c-a249-0faeddce1ab8","type":"message","text":"Yes yes, I had the same issue working for a large corp a few years back. It resulted in misusing email as a real-time chat program. Security was improved, but producitvity not so much...","user":"UTKCH2WFL","ts":"1613744871.491500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GV9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes yes, I had the same issue working for a large corp a few years back. It resulted in misusing email as a real-time chat program. Security was improved, but producitvity not so much..."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"eba510ad-7d9a-4b5c-b396-c87a467f2cf4","type":"message","text":"yeah, not having the possibility to search stuff on stackoverflow was a pain :joy:","user":"UDB26738Q","ts":"1613744908.491700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UehPF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, not having the possibility to search stuff on stackoverflow was a pain "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"f747033e-1c81-4935-bb69-4a3dd1760955","type":"message","text":"FYI, when I manually add the same nameserver that is the default in `/etc/resolv.conf` on my host machine to `/etc/resolv.conf` in the BB build environment, it automagically works again :party_wizard:","user":"UTKCH2WFL","ts":"1613744933.491900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HiV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FYI, when I manually add the same nameserver that is the default in "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":" on my host machine to "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":" in the BB build environment, it automagically works again "},{"type":"emoji","name":"party_wizard"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"party_wizard","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"ec97a175-e51a-4197-b8e8-caefa3915f85","type":"message","text":"(I just have to remember to scrap those lines from the resulting `build_tarballs.jl`)","user":"UTKCH2WFL","ts":"1613744953.492200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Qp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I just have to remember to scrap those lines from the resulting "},{"type":"text","text":"build_tarballs.jl","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"+1","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"4820c0a5-2f2a-4bfd-a808-24d7b83892cb","type":"message","text":"The 4.4.4.4 should probably still be removed from the containers at some point...","user":"UTKCH2WFL","ts":"1613745076.492500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DTdWO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The 4.4.4.4 should probably still be removed from the containers at some point..."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"5fa41e45-2840-4334-bb03-59090d2cfc60","type":"message","text":"<@UTKCH2WFL> if you’re feeling adventurous, I can guide you through making a PR that will mount the host `/etc/resolv.conf` into the container.","user":"U66GD0880","ts":"1613756360.497200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C+7=","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTKCH2WFL"},{"type":"text","text":" if you’re feeling adventurous, I can guide you through making a PR that will mount the host "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":" into the container."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL","reactions":[{"name":"mind_blown","users":["UDB26738Q","U9V8ZQVEY"],"count":2}]},{"client_msg_id":"5f7420e6-07f8-4a99-8186-eafd39c3f19c","type":"message","text":"That sounds intriguing... but honestly, isn't this going to cause more problems than it might fix? Apparently I am the only person who has encountered this issue so far, and I found a workaround fast enough. What about those machines where `/etc/resolv.conf` does not exist? Or where it exists but isn't used? My gut feeling says that this is an issue that should rather be fixed with an appropriate FAQ entry (or in my case, a SAQ) than with more code that needs to be maintained, tested etc.","user":"UTKCH2WFL","ts":"1613761847.498900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GWZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That sounds intriguing... but honestly, isn't this going to cause more problems than it might fix? Apparently I am the only person who has encountered this issue so far, and I found a workaround fast enough. What about those machines where "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":" does not exist? Or where it exists but isn't used? My gut feeling says that this is an issue that should rather be fixed with an appropriate FAQ entry (or in my case, a SAQ) than with more code that needs to be maintained, tested etc."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"},{"client_msg_id":"185f1276-2d81-4463-b473-a43815a1d5ce","type":"message","text":"If `/etc/resolv.conf` exists, we should use it.  I don’t think it’s possible for a working system to have a broken `/etc/resolv.conf`.  Network connectivity is not a one-size-fits-all solution, as you can tell.  Docker does something even more complex than us, which is to run a `dnsmasq` proxy, but I don’t think we need to do that.","user":"U66GD0880","ts":"1613773026.499300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dXF2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":" exists, we should use it.  I don’t think it’s possible for a working system to have a broken "},{"type":"text","text":"/etc/resolv.conf","style":{"code":true}},{"type":"text","text":".  Network connectivity is not a one-size-fits-all solution, as you can tell.  Docker does something even more complex than us, which is to run a "},{"type":"text","text":"dnsmasq","style":{"code":true}},{"type":"text","text":" proxy, but I don’t think we need to do that."}]}]}],"thread_ts":"1613741887.479600","parent_user_id":"UTKCH2WFL"}]