[{"client_msg_id":"2a5d0041-b1de-4fb9-8e34-d00f405d0c92","type":"message","text":"Hi folks! I'm trying to bootstrap BinaryBuilder's RootFS from (Intel) macOS and I'm running into some issues (not sure if this is even supported officially). \n\nFirst of all, I'm getting errors when extracting the `base` artifact, which seem to be related to the use of bsdtar on MacOS. I was able to work around these by installing gnutar and using that instead. Since BB's archive extraction step isn't specific to the bootstrap process, I wanted to ask if this is a known issue\n\nSecondly, I'm trying to build for the experimental platforms (on master) and I run into a \"Tree Hash Mismatch\" when downloading `PlatformSupport-aarch64-apple-darwin20.v2021.1.28.x86_64-linux-musl.unpacked` Is this expected for the moment?","user":"U019Q90KW6P","ts":"1615180120.207500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yLp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi folks! I'm trying to bootstrap BinaryBuilder's RootFS from (Intel) macOS and I'm running into some issues (not sure if this is even supported officially). \n\nFirst of all, I'm getting errors when extracting the "},{"type":"text","text":"base","style":{"code":true}},{"type":"text","text":" artifact, which seem to be related to the use of bsdtar on MacOS. I was able to work around these by installing gnutar and using that instead. Since BB's archive extraction step isn't specific to the bootstrap process, I wanted to ask if this is a known issue\n\nSecondly, I'm trying to build for the experimental platforms (on master) and I run into a \"Tree Hash Mismatch\" when downloading "},{"type":"text","text":"PlatformSupport-aarch64-apple-darwin20.v2021.1.28.x86_64-linux-musl.unpacked","style":{"code":true}},{"type":"text","text":" Is this expected for the moment?"}]}]}],"thread_ts":"1615180120.207500","reply_count":12,"reply_users_count":3,"latest_reply":"1615211552.221700","reply_users":["U019Q90KW6P","UDB26738Q","U01QBF4PHKP"],"subscribed":false},{"client_msg_id":"b2b3717a-05ec-4b76-97c1-242a475b3dc9","type":"message","text":"If I shouldn't be trying to bootstrap RootFS from macOS in the first place, is there a supported linux distro I can work from instead?","user":"U019Q90KW6P","ts":"1615180201.207600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SnJh=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I shouldn't be trying to bootstrap RootFS from macOS in the first place, is there a supported linux distro I can work from instead?"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"982593c1-6aa9-4ffd-aa5d-fd5124c26f2b","type":"message","text":"Version of Julia? What filesystem are you using? You're using the docker runner, right?\n\nMost common Linux distributions would work, Debian, Ubuntu, Archlinux, etc....","user":"UDB26738Q","ts":"1615182190.207800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rm2y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Version of Julia? What filesystem are you using? You're using the docker runner, right?\n\nMost common Linux distributions would work, Debian, Ubuntu, Archlinux, etc...."}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"d551c575-4a4c-4656-8891-b6241669c487","type":"message","text":"I'm running on latest Julia compiled locally from master. For the RootFS bootstrapping, I've been trying to build straight within macOS using the build_tarballs.jl, like I would for a normal BinaryBuilder package.\n\nIIUC, that means that BinaryBuilder.jl should have me using the automatic docker runner","user":"U019Q90KW6P","ts":"1615184151.208000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n4X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm running on latest Julia compiled locally from master. For the RootFS bootstrapping, I've been trying to build straight within macOS using the build_tarballs.jl, like I would for a normal BinaryBuilder package.\n\nIIUC, that means that BinaryBuilder.jl should have me using the automatic docker runner"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"338b96bc-4ee7-457e-8392-d7c060d660eb","type":"message","text":"If you have docker installed, I think it should be used automatically on macos, as it's the only runner available there.\n\nRootFS is a special build recipe, but I believe <@U66GD0880> builds it on macos","user":"UDB26738Q","ts":"1615184630.208200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ha3=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you have docker installed, I think it should be used automatically on macos, as it's the only runner available there.\n\nRootFS is a special build recipe, but I believe "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" builds it on macos"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"0f0b7103-daac-498d-805c-4b0e7b1e6f43","type":"message","text":"I'm surprised by (and don't completely understand) your issues with tar on macos, I never heard anything like that before (but perhaps we don't have too many users on macos)","user":"UDB26738Q","ts":"1615184700.208400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bMvA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm surprised by (and don't completely understand) your issues with tar on macos, I never heard anything like that before (but perhaps we don't have too many users on macos)"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"28c7fa52-cbfc-4d72-9f0a-db7ed2dff7e6","type":"message","text":"I have a M1 MacBook and Rmath_jll is broken. How do I compile it with BinaryBuilder and help Julia users that are also struggling with a Mac M1?","user":"U01QBF4PHKP","ts":"1615190486.208800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Lpp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a M1 MacBook and Rmath_jll is broken. How do I compile it with BinaryBuilder and help Julia users that are also struggling with a Mac M1?"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"43e671bf-97f9-4c7d-ace8-056b2303a315","type":"message","text":"unfortunately that's not something that is going to happen anytime soon","user":"UDB26738Q","ts":"1615202375.220000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JsAy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"unfortunately that's not something that is going to happen anytime soon"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"04236964-9e31-40dc-b3d5-8639bc3e84f1","type":"message","text":"or at least not massively, perhaps only for some packages","user":"UDB26738Q","ts":"1615202410.220200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bQn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or at least not massively, perhaps only for some packages"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"68f57eda-60a4-4d08-94bd-9ae73dcf7652","type":"message","text":"But how can I help? Can’t I compile it and submit to Yggdrasil?","user":"U01QBF4PHKP","ts":"1615206170.220900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Lxf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But how can I help? Can’t I compile it and submit to Yggdrasil?"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"4cc67579-fa36-49dc-bbd6-7badf323118b","type":"message","text":"the point is that there isn't much to help :pensive:  you don't need to compile anything, you'd only need to change a couple of lines in build recipes in Yggdrasil.  but JLLs compatible with aarch64-apple-darwin _require_ Julia v1.6, we can't simply cut out all other versions of Julia, especially since the latest stable one is v1.5","user":"UDB26738Q","ts":"1615206437.221100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GTOI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the point is that there isn't much to help "},{"type":"emoji","name":"pensive"},{"type":"text","text":"  you don't need to compile anything, you'd only need to change a couple of lines in build recipes in Yggdrasil.  but JLLs compatible with aarch64-apple-darwin "},{"type":"text","text":"require","style":{"italic":true}},{"type":"text","text":" Julia v1.6, we can't simply cut out all other versions of Julia, especially since the latest stable one is v1.5"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"a9234fe3-c2f3-4bc4-a00a-bd9b0d828815","type":"message","text":"Can't we make JLLs targeted to other versions and leave the 1.5 version intact?","user":"U01QBF4PHKP","ts":"1615211480.221500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jC7o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can't we make JLLs targeted to other versions and leave the 1.5 version intact?"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"},{"client_msg_id":"309fa13f-97b5-4e3d-93cf-5326a538a914","type":"message","text":"You need to change the version number and most package developers won't be happy about dropping support for a stable version of Julia","user":"UDB26738Q","ts":"1615211552.221700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vJZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You need to change the version number and most package developers won't be happy about dropping support for a stable version of Julia"}]}]}],"thread_ts":"1615180120.207500","parent_user_id":"U019Q90KW6P"}]