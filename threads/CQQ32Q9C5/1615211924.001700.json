[{"client_msg_id":"f8caae85-c5e9-4fb8-8d72-1e6bba7ecfa1","type":"message","text":"can anyone recommend a succinct way of writing the equivalent of:\n```dt %&gt;%\n  .[,`:=`(value_prop = value / sum(value)), by = category] ```\nusing DataFrames.jl?\n\nI know with DataFramesMeta there is...\n```...\n@transform(df, value_prop = value / sum(value))```\nbut is there a straight forward way of using the base DataFrames?","user":"UUYRZ3LU8","ts":"1615211924.001700","team":"T68168MUP","edited":{"user":"UUYRZ3LU8","ts":"1615212281.000000"},"blocks":[{"type":"rich_text","block_id":"htSX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can anyone recommend a succinct way of writing the equivalent of:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"dt %>%\n  .[,`:=`(value_prop = value / sum(value)), by = category] "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"using DataFrames.jl?\n\nI know with DataFramesMeta there is...\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"...\n@transform(df, value_prop = value / sum(value))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but is there a straight forward way of using the base DataFrames?"}]}]}],"thread_ts":"1615211924.001700","reply_count":4,"reply_users_count":2,"latest_reply":"1615212631.002700","reply_users":["U8JAMQGQY","UUYRZ3LU8"],"subscribed":false},{"client_msg_id":"9f54f7e4-7eb8-492c-81cd-12b4062afec6","type":"message","text":"Do you want:\n```transform(groupby(df, :category), :value =&gt; (x -&gt; x / sum(x)) =&gt; :value_prop)```","user":"U8JAMQGQY","ts":"1615212379.002100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lu4CP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you want:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"transform(groupby(df, :category), :value => (x -> x / sum(x)) => :value_prop)"}]}]}],"thread_ts":"1615211924.001700","parent_user_id":"UUYRZ3LU8"},{"client_msg_id":"4a3a40e7-d8fa-49fa-ba36-c8a41880a611","type":"message","text":"What you have written using DataFramesMeta.jl uses a data frame not a `GroupedDataFrame` in your example.","user":"U8JAMQGQY","ts":"1615212400.002300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Soq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What you have written using DataFramesMeta.jl uses a data frame not a "},{"type":"text","text":"GroupedDataFrame","style":{"code":true}},{"type":"text","text":" in your example."}]}]}],"thread_ts":"1615211924.001700","parent_user_id":"UUYRZ3LU8"},{"client_msg_id":"b7221dcf-3380-4b74-b885-c6a6b4f60e01","type":"message","text":"thanks <@U8JAMQGQY>, ah, I couldn't find an example of the grouped variant with DataFramesMeta.","user":"UUYRZ3LU8","ts":"1615212602.002500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ar4L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks "},{"type":"user","user_id":"U8JAMQGQY"},{"type":"text","text":", ah, I couldn't find an example of the grouped variant with DataFramesMeta."}]}]}],"thread_ts":"1615211924.001700","parent_user_id":"UUYRZ3LU8"},{"client_msg_id":"f1884a82-cf89-45b8-b737-f6f65ee56d67","type":"message","text":"<@UBF9YRB6H> should know - maybe it is the same - just with `GroupedDataFrame` passed?","user":"U8JAMQGQY","ts":"1615212631.002700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lMP","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" should know - maybe it is the same - just with "},{"type":"text","text":"GroupedDataFrame","style":{"code":true}},{"type":"text","text":" passed?"}]}]}],"thread_ts":"1615211924.001700","parent_user_id":"UUYRZ3LU8"}]