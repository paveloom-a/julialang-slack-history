[{"client_msg_id":"84f28d72-aa4e-4ec7-a513-c2dde7bc223a","type":"message","text":"Um, <@U66GD0880> you broke macos last week. I tried to ping your PR, but realize it was also moving into the weekend","user":"U67BXBF99","ts":"1617041245.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DcAw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Um, "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" you broke macos last week. I tried to ping your PR, but realize it was also moving into the weekend"}]}]}],"thread_ts":"1617041245.015800","reply_count":15,"reply_users_count":3,"latest_reply":"1617117782.021200","reply_users":["U66GD0880","U67BXBF99","U7THT3TM3"],"is_locked":false,"subscribed":false},{"client_msg_id":"12ec1d06-09aa-4fe6-b6d5-fb5523dd20a1","type":"message","text":"well that’s unfortunate","user":"U66GD0880","ts":"1617041279.015900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WNyMk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well that’s unfortunate"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"bc9cac5b-4ea3-4ccb-a418-dc504387bad0","type":"message","text":"We need buildkite, haha","user":"U67BXBF99","ts":"1617041310.016100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BOnGZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We need buildkite, haha"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99","reactions":[{"name":"soon","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"73d7217d-9728-4554-aac0-47cd2c804b91","type":"message","text":"which PR did I break it with?","user":"U66GD0880","ts":"1617041382.016300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tcu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which PR did I break it with?"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"11b13855-0397-4178-a0c4-2bce3b5a0cc5","type":"message","text":"ahhh it was my RTLD_NOLOAD one I bet","user":"U66GD0880","ts":"1617041583.016500","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1617042564.000000"},"blocks":[{"type":"rich_text","block_id":"m+S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ahhh it was my RTLD_NOLOAD one I bet"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"85559e2f-d309-4105-8eb5-2124d974f728","type":"message","text":"and of course I can’t reproduce the failure locally","user":"U66GD0880","ts":"1617043419.017000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ND=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and of course I can’t reproduce the failure locally"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"67644415-5b94-45c3-a41f-914f05daba05","type":"message","text":"ahhh, haha","user":"U67BXBF99","ts":"1617043943.017300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SJtIg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ahhh, haha"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"645a1ecd-e7c6-4d7e-90bf-4d126c122cf9","type":"message","text":"okay I found it","user":"U66GD0880","ts":"1617045446.017500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sP9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay I found it"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"eb3f2bf4-9c32-4730-9211-d39d6d5d398c","type":"message","text":"The fundamental issue is that `dlopen(name, RTLD_NOLOAD)` is quite strict on MacOS","user":"U66GD0880","ts":"1617045463.017700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0tp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The fundamental issue is that "},{"type":"text","text":"dlopen(name, RTLD_NOLOAD)","style":{"code":true}},{"type":"text","text":" is quite strict on MacOS"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"87db6d18-0f2b-459d-a9c6-6630a89ac5fc","type":"message","text":"We rename the DYLIB_ID of `libjulia` to `@rpath/libjulia.dylib`","user":"U66GD0880","ts":"1617045478.017900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t+h/j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We rename the DYLIB_ID of "},{"type":"text","text":"libjulia","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"@rpath/libjulia.dylib","style":{"code":true}}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"0131e4a7-74d4-46f3-9d85-0456025ee13d","type":"message","text":"and if we do that, `dlopen(\"libjulia\", RTLD_NOLOAD)` fails.  We must provide `\"@rpath/libjulia.dylib\"` in its entirety as the name to `dlopen()`","user":"U66GD0880","ts":"1617045506.018100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=2l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and if we do that, "},{"type":"text","text":"dlopen(\"libjulia\", RTLD_NOLOAD)","style":{"code":true}},{"type":"text","text":" fails.  We must provide "},{"type":"text","text":"\"@rpath/libjulia.dylib\"","style":{"code":true}},{"type":"text","text":" in its entirety as the name to "},{"type":"text","text":"dlopen()","style":{"code":true}}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"e6ee6322-9eae-4274-86f8-3a71f25bd58c","type":"message","text":"or at least `@rpath/libjulia` (the `.dylib` seems to be unnecessary)","user":"U66GD0880","ts":"1617045524.018300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fWRJF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or at least "},{"type":"text","text":"@rpath/libjulia","style":{"code":true}},{"type":"text","text":" (the "},{"type":"text","text":".dylib","style":{"code":true}},{"type":"text","text":" seems to be unnecessary)"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"4cdbb307-5707-428f-acd2-eb275a1d1b1d","type":"message","text":"Proposed fix here: <https://github.com/JuliaLang/julia/pull/40262>","user":"U66GD0880","ts":"1617048543.018500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZNo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Proposed fix here: "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/40262"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"532178C5-2809-473E-9DD0-38443C5B7C21","type":"message","text":"<@U67BXBF99> <@U66GD0880> would it be possible to merge #40262?","user":"U7THT3TM3","ts":"1617116620.020800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YQ7EV","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67BXBF99"},{"type":"text","text":" "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" would it be possible to merge #40262?"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"0c7448a6-39ea-4edb-93fb-e95ef435ab7d","type":"message","text":"I think that PR looks probably wrong","user":"U67BXBF99","ts":"1617117772.021000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WpTwx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that PR looks probably wrong"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"},{"client_msg_id":"c7ab5f61-c352-4277-b87a-74af8e4b3c68","type":"message","text":"We may want to revert the original PR","user":"U67BXBF99","ts":"1617117782.021200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6KYl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We may want to revert the original PR"}]}]}],"thread_ts":"1617041245.015800","parent_user_id":"U67BXBF99"}]