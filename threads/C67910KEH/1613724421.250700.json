[{"client_msg_id":"f7269e0c-fa8a-4d43-aa86-7b1b36d84ec8","type":"message","text":"what do people use for summing and dropping dimensions? Is `dropdims(sum(a; dims=2); dims=2)` really the best we have?","user":"UMDEUKM29","ts":"1613724421.250700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rlBWe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do people use for summing and dropping dimensions? Is "},{"type":"text","text":"dropdims(sum(a; dims=2); dims=2)","style":{"code":true}},{"type":"text","text":" really the best we have?"}]}]}],"thread_ts":"1613724421.250700","reply_count":5,"reply_users_count":4,"latest_reply":"1613730340.255800","reply_users":["U7QLM6E2E","UDXST8ARK","U66QZ3QF3","UMDEUKM29"],"subscribed":false},{"client_msg_id":"555957ad-3664-433d-9dfe-3f624e538321","type":"message","text":"`vec(sum(a; dims=2))`","user":"U7QLM6E2E","ts":"1613726487.253200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bnZ2r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"vec(sum(a; dims=2))","style":{"code":true}}]}]}],"thread_ts":"1613724421.250700","parent_user_id":"UMDEUKM29"},{"client_msg_id":"1545005a-b1f0-4685-89f7-d7f1c0715708","type":"message","text":"Yes. Not having to specify the 'dims' twice is a long-wanted feature, but I believe Base is holding out for a more general solution.\nBut the code in this PR is one line, so you could implement it in the package where you need it, if that makes your code nicer\n<https://github.com/JuliaLang/julia/pull/33130#issuecomment-562309110|https://github.com/JuliaLang/julia/pull/33130#issuecomment-562309110>\n\nE.g. \n```\n_dropdims(f, args...; dims, kwargs...) = Base._dropdims(f(args...; kwargs..., dims=dims), dims)\n```","user":"UDXST8ARK","ts":"1613727660.253400","team":"T68168MUP","edited":{"user":"UDXST8ARK","ts":"1613727747.000000"},"blocks":[{"type":"rich_text","block_id":"uHB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes. Not having to specify the 'dims' twice is a long-wanted feature, but I believe Base is holding out for a more general solution.\nBut the code in this PR is one line, so you could implement it in the package where you need it, if that makes your code nicer\n"},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/33130#issuecomment-562309110","text":"https://github.com/JuliaLang/julia/pull/33130#issuecomment-562309110"},{"type":"text","text":"\n\nE.g. \n```\n_dropdims(f, args...; dims, kwargs...) = Base._dropdims(f(args...; kwargs..., dims=dims), dims)\n```"}]}]}],"thread_ts":"1613724421.250700","parent_user_id":"UMDEUKM29"},{"client_msg_id":"02ECFE75-96DF-4839-A552-66D187BD5B1E","type":"message","text":"I think the best abstraction is `sum.(eachrow(matrix))`","user":"U66QZ3QF3","ts":"1613728534.254900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D3bWI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the best abstraction is "},{"type":"text","text":"sum.(eachrow(matrix))","style":{"code":true}}]}]}],"thread_ts":"1613724421.250700","parent_user_id":"UMDEUKM29"},{"client_msg_id":"84abf420-c534-4144-a821-7b7080d23d5b","type":"message","text":"pretty tough to understand if you're not too used to it, and it doesn't generalize to arbitrary dims","user":"UMDEUKM29","ts":"1613730046.255600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ceG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"pretty tough to understand if you're not too used to it, and it doesn't generalize to arbitrary dims"}]}]}],"thread_ts":"1613724421.250700","parent_user_id":"UMDEUKM29"},{"client_msg_id":"751d0746-e18f-4513-a0a9-4870fc0ad413","type":"message","text":"`sum(eachslice(matrix; dims=2))`","user":"U7QLM6E2E","ts":"1613730340.255800","team":"T68168MUP","edited":{"user":"U7QLM6E2E","ts":"1613730349.000000"},"blocks":[{"type":"rich_text","block_id":"gX/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sum(eachslice(matrix; dims=2))","style":{"code":true}}]}]}],"thread_ts":"1613724421.250700","parent_user_id":"UMDEUKM29"}]