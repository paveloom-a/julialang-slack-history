[{"client_msg_id":"b151b0f2-b48d-4af6-a027-aa14abca9940","type":"message","text":"Is there a way to limit the maximum memory used by a Julia process? Like I want it to expands its heap to at most 6 GB (and abort if that's not sufficient). To stop a stray Julia from crashing my machine due to being out of memory","user":"U012FH66MFW","ts":"1610543410.296600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XG7i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to limit the maximum memory used by a Julia process? Like I want it to expands its heap to at most 6 GB (and abort if that's not sufficient). To stop a stray Julia from crashing my machine due to being out of memory"}]}]}],"thread_ts":"1610543410.296600","reply_count":13,"reply_users_count":5,"latest_reply":"1610545981.299500","reply_users":["U7PGB5DU3","UCCUV9K0S","U012FH66MFW","UAUPJLBQX","UUYRZ3LU8"],"subscribed":false},{"client_msg_id":"22a689df-936b-4840-a3c6-d748666a0c72","type":"message","text":"Ooo, please let me know if you find that out","user":"U7PGB5DU3","ts":"1610543510.296700","team":"T68168MUP","edited":{"user":"U7PGB5DU3","ts":"1610543518.000000"},"blocks":[{"type":"rich_text","block_id":"nWP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ooo, please let me know if you find that out"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"15baa9db-3de2-4938-91a5-2f8f66c23627","type":"message","text":"`ulimit -v 6000000`\n`julia`\nWon't that work? I haven't tried it on julia though. I'm unsure if it handles ulimit gracefully","user":"UCCUV9K0S","ts":"1610543808.297000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vmRL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ulimit -v 6000000","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":"\nWon't that work? I haven't tried it on julia though. I'm unsure if it handles ulimit gracefully"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"e7981768-1365-4d21-a2d1-70c7edd8fa65","type":"message","text":"From limited testing, it seems to handle it sort of fine. I mean, it refuses to compile expressions because it's out of memory. But that's what it should do","user":"UCCUV9K0S","ts":"1610544015.297200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qTY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"From limited testing, it seems to handle it sort of fine. I mean, it refuses to compile expressions because it's out of memory. But that's what it should do"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"8427d739-68ae-46a6-9e86-9c4cd299bb1a","type":"message","text":"heh","user":"U012FH66MFW","ts":"1610544451.297400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uCbW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"heh"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"0d063167-14a5-44b3-91af-e5f504fbc341","type":"message","text":"OK, should have thought of `ulimit`! Thank you, will try that","user":"U012FH66MFW","ts":"1610544462.297600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A=De","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, should have thought of "},{"type":"text","text":"ulimit","style":{"code":true}},{"type":"text","text":"! Thank you, will try that"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"e51c187e-e2d1-4c3d-ac66-a9d990f4b374","type":"message","text":"Shouldn't the OOM Killer be able to kill the process?","user":"UAUPJLBQX","ts":"1610544497.297800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jvvJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Shouldn't the OOM Killer be able to kill the process?"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"a24844ab-6e7c-40e9-b647-f51178cc283b","type":"message","text":"In all my recent problems of running out of memory, the OS just killed the process. Which while not great was certainly better than grinding the computer to a hault and forcing me to reboot.","user":"UAUPJLBQX","ts":"1610544545.298000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b4z1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In all my recent problems of running out of memory, the OS just killed the process. Which while not great was certainly better than grinding the computer to a hault and forcing me to reboot."}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"40ac373c-265a-4230-9b65-c96c82ba326a","type":"message","text":"If you're running the daemon, maybe. It usually kills important services instead of the bad process for me too frequently as well :smile:","user":"UCCUV9K0S","ts":"1610545064.298300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w18b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you're running the daemon, maybe. It usually kills important services instead of the bad process for me too frequently as well "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"552f407d-43e8-4098-9c9e-99bf988821be","type":"message","text":"When Julia is eating 120 GIB of RAM, it has a target on its head. At least, it's the only process I've noticed get killed.","user":"UAUPJLBQX","ts":"1610545226.298700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S9g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When Julia is eating 120 GIB of RAM, it has a target on its head. At least, it's the only process I've noticed get killed."}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"758e8d4f-4dab-489e-aef2-71426f0952b3","type":"message","text":"&gt;  120GIB of RAM...\n:sob:","user":"UUYRZ3LU8","ts":"1610545576.298900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"90d","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" 120GIB of RAM..."}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"sob"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"ee668576-ec43-4a04-bba5-bb2818200dc6","type":"message","text":"```$ ssh xeon1 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128881       10538       21675           1       96667      117409\nSwap:          8191          10        8181\n$ ssh threadripper1 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128850        3046       49449           1       76354      124646\nSwap:          2047           7        2040\n$ ssh threadripper2 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128850       20309       16639           0       91901      107431\nSwap:          8191          20        8171```","user":"UCCUV9K0S","ts":"1610545777.299100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZpXAk","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ ssh xeon1 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128881       10538       21675           1       96667      117409\nSwap:          8191          10        8181\n$ ssh threadripper1 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128850        3046       49449           1       76354      124646\nSwap:          2047           7        2040\n$ ssh threadripper2 free -m\n              total        used        free      shared  buff/cache   available\nMem:         128850       20309       16639           0       91901      107431\nSwap:          8191          20        8171"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"506f1cd6-3f7d-486d-83d3-d6eb681d95ac","type":"message","text":"perhaps it should, but that's not my experience. moreover, I also need this on macOS","user":"U012FH66MFW","ts":"1610545855.299300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KnyLw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perhaps it should, but that's not my experience. moreover, I also need this on macOS"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"},{"client_msg_id":"2da58186-69ed-4846-b12a-2654b259a5b5","type":"message","text":"Anyway, ulimit is pretty good when it works (most things except Java). I might not want to use 100GB on Julia because I want to develop for low-RAM systems, too","user":"UCCUV9K0S","ts":"1610545981.299500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YvP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Anyway, ulimit is pretty good when it works (most things except Java). I might not want to use 100GB on Julia because I want to develop for low-RAM systems, too"}]}]}],"thread_ts":"1610543410.296600","parent_user_id":"U012FH66MFW"}]