[{"client_msg_id":"1f9d52b8-bb47-4305-989a-6955bf137f1a","type":"message","text":"Hi, the documentation about integer div contains a very confusing phase `Computes x/y, truncated to an integer.` - <https://docs.julialang.org/en/v1/base/math/#Base.div>\n\nBut x/y is a floating-point operation only and the documentation explicitly says it. So, despite - \"The quotient from Euclidean division\" - the mentioned phase really looks like referring that it is the same as `trunc(Int, x/y)`. It would be good to clarify it to avoid confusion.","user":"U013KHU2XC1","ts":"1616924545.001400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mhoT9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, the documentation about integer div contains a very confusing phase `Computes x/y, truncated to an integer.` - "},{"type":"link","url":"https://docs.julialang.org/en/v1/base/math/#Base.div"},{"type":"text","text":"\n\nBut x/y is a floating-point operation only and the documentation explicitly says it. So, despite - \"The quotient from Euclidean division\" - the mentioned phase really looks like referring that it is the same as `trunc(Int, x/y)`. It would be good to clarify it to avoid confusion."}]}]}],"thread_ts":"1616924545.001400","reply_count":30,"reply_users_count":6,"latest_reply":"1616997399.022900","reply_users":["UH24GRBLL","U7WB5HSBH","U013KHU2XC1","U6C937ENB","U01HD5VFXJM","UCTJ1TGBV"],"is_locked":false,"subscribed":false},{"client_msg_id":"5fbbcec4-18ac-4005-8391-5c338269b28b","type":"message","text":"`div` is not `/`, it's `÷`, which is integer division","user":"UH24GRBLL","ts":"1616925321.001500","team":"T68168MUP","edited":{"user":"UH24GRBLL","ts":"1616925361.000000"},"blocks":[{"type":"rich_text","block_id":"cWW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"div","style":{"code":true}},{"type":"text","text":" is not "},{"type":"text","text":"/","style":{"code":true}},{"type":"text","text":", it's "},{"type":"text","text":"÷","style":{"code":true}},{"type":"text","text":", which is integer division"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"14ac1d37-3c95-49e1-bdf9-dd63bc0e7fdb","type":"message","text":"in that sense, saying \"calculates x/y, truncated to an integer\" is equivalent","user":"UH24GRBLL","ts":"1616925377.001800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SVG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in that sense, saying \"calculates x/y, truncated to an integer\" is equivalent"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"d8643626-9513-4a3d-8d66-d41ea6a73474","type":"message","text":"If it's is an integer division, what's the meaning of \"truncated to an integer\"? It is already integer, you can't truncated it further.","user":"U7WB5HSBH","ts":"1616925479.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kCb5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it's is an integer division, what's the meaning of \"truncated to an integer\"? It is already integer, you can't truncated it further."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"799985d0-5f89-4f21-96da-21446bed334e","type":"message","text":"the result of `x/y` is not an integer, it's a float","user":"UH24GRBLL","ts":"1616925514.002200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h/cSC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the result of "},{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":" is not an integer, it's a float"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"5b068aa0-b584-4913-9a21-dccc067784d9","type":"message","text":"that's why I said that `x/y` is not the same as `x÷y`","user":"UH24GRBLL","ts":"1616925532.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HG/m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's why I said that "},{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":" is not the same as "},{"type":"text","text":"x÷y","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"f63867a2-a803-421e-b4f5-69ee9462788e","type":"message","text":"`(x÷y) === div(x,y) === trunc(Int, x/y)`","user":"UH24GRBLL","ts":"1616925554.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5/bA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(x÷y) === div(x,y) === trunc(Int, x/y)","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"4bc18cc6-35ca-4b31-b1fc-52c1afc5c9f5","type":"message","text":"Yes, it's not, that is why this docstring is so confusing.","user":"U7WB5HSBH","ts":"1616925572.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oNT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, it's not, that is why this docstring is so confusing."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"a949280d-2db2-48c8-8a60-c6211a06978d","type":"message","text":"I don't understand why you're confused.","user":"UH24GRBLL","ts":"1616925610.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fT/53","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't understand why you're confused."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"9293517d-cea5-4a5d-967d-1e92030a277e","type":"message","text":"The docstring explicitly uses `x/y`, _not_ `x÷y`","user":"UH24GRBLL","ts":"1616925633.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lR/6l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The docstring explicitly uses "},{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"not","style":{"italic":true}},{"type":"text","text":" "},{"type":"text","text":"x÷y","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"e1f5e996-e2aa-49f0-a9eb-607f2f98b57f","type":"message","text":"these are different operations","user":"UH24GRBLL","ts":"1616925641.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QVe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"these are different operations"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"897556e9-3f6b-4bdd-9b3b-8e50e8e1821f","type":"message","text":"Why mention totally different operation with different meaning?","user":"U7WB5HSBH","ts":"1616925642.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HuL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why mention totally different operation with different meaning?"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"83127665-a807-4517-b224-ef3fa0743eab","type":"message","text":"Yes, they are different.","user":"U7WB5HSBH","ts":"1616925649.003800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HsFqY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, they are different."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"ab9207d4-28a7-4d1d-9ec8-5b6c7e39b7e5","type":"message","text":"precisely because people are often familiar with fractions and the floating point result of them?","user":"UH24GRBLL","ts":"1616925687.004000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bA1Sa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"precisely because people are often familiar with fractions and the floating point result of them?"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"04a3a1ff-f374-44c8-8fc0-2ba2759dc409","type":"message","text":"Now it looks that the actual implementation of div is  `div(x,` y) = trunc(Int, x/y)","user":"U7WB5HSBH","ts":"1616925704.004200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vicV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now it looks that the actual implementation of div is  "},{"type":"text","text":"div(x,","style":{"code":true}},{"type":"text","text":" y) = trunc(Int, x/y)"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"ce727f26-653c-4405-8030-ff388880e746","type":"message","text":"`x/y` is expected to have numbers after the dot, truncating that makes sense to me?","user":"UH24GRBLL","ts":"1616925707.004400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xfev","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":" is expected to have numbers after the dot, truncating that makes sense to me?"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"b2437350-a1ce-4a19-a1a6-6bb27ee27fcb","type":"message","text":"But it's not.","user":"U7WB5HSBH","ts":"1616925717.004600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hdhCx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But it's not."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"226ba676-c8a8-44de-88ca-9fb6e6ce96e4","type":"message","text":"so? It's a docstring, not a specification for how the function is implemented..?","user":"UH24GRBLL","ts":"1616925770.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Tz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so? It's a docstring, not a specification for how the function is implemented..?"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"7663a622-091c-4559-a2bc-887b15e0e1c7","type":"message","text":"May be is better to say something like `result of the calculation equals to `trunc(Int, x/y)`","user":"U7WB5HSBH","ts":"1616925779.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"By13","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"May be is better to say something like"},{"type":"text","text":" result of the calculation equals to `trunc(Int, x/y)","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"0ec7bee2-4d36-4d18-b822-a259fee1c18d","type":"message","text":"hmm, I think I see what you mean","user":"UH24GRBLL","ts":"1616925959.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EZL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm, I think I see what you mean"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"017ecbb9-f9cb-4f44-9629-a8c5f4f79df9","type":"message","text":"that also wouldn't be correct for e.g. `x = typemax(Int)` and `y = -1`","user":"UH24GRBLL","ts":"1616926017.005500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dax","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that also wouldn't be correct for e.g. "},{"type":"text","text":"x = typemax(Int)","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"y = -1","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"d8fabf5d-216f-4fe9-a673-90f36567b421","type":"message","text":"`in that sense, saying \"calculates x/y, truncated to an integer\" is equivalent` that phrase is confusing in terms of \"equivalent\" doesn't mean \"the same result but other implementation\". Sometimes the implementation might be also the same. Not sure, but maybe <https://docs.julialang.org/en/v1/manual/performance-tips/#Tweaks> with \"Use `div(x,y)` for truncating division of integers\" is a result of this confusion. So, it would be good to clearly say something like \"The quotient from Euclidean division. It is equivalent by a result to `x/y`, truncated to an integer, but performed on integers computation processing unit only.\"","user":"U013KHU2XC1","ts":"1616927883.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9dC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in that sense, saying \"calculates x/y, truncated to an integer\" is equivalent","style":{"code":true}},{"type":"text","text":" that phrase is confusing in terms of \"equivalent\" doesn't mean \"the same result but other implementation\". Sometimes the implementation might be also the same. Not sure, but maybe "},{"type":"link","url":"https://docs.julialang.org/en/v1/manual/performance-tips/#Tweaks"},{"type":"text","text":" with \"Use "},{"type":"text","text":"div(x,y)","style":{"code":true}},{"type":"text","text":" for truncating division of integers\" is a result of this confusion. So, it would be good to clearly say something like \"The quotient from Euclidean division. It is equivalent by a result to "},{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":", truncated to an integer, but performed on integers computation processing unit only.\""}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"0c8987a1-0136-4ecb-b421-b094c8f9287a","type":"message","text":"To be honest, few months I was really sure that Julia performs div as `Computes x/y, truncated to an integer.` literally as written in the doc. I changed that opinion when colleagues showed me the result of `@code_llvm div(1, 2)`","user":"U013KHU2XC1","ts":"1616928163.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q/d2n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To be honest, few months I was really sure that Julia performs div as "},{"type":"text","text":"Computes x/y, truncated to an integer.","style":{"code":true}},{"type":"text","text":" literally as written in the doc. I changed that opinion when colleagues showed me the result of "},{"type":"text","text":"@code_llvm div(1, 2)","style":{"code":true}}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"c6b1a5c3-f166-4a94-aa99-0d0db5e6987e","type":"message","text":"Taking into account that the real implementation of integer division never truncates something to an integer because it is just breaking calculation instead.","user":"U013KHU2XC1","ts":"1616928403.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jj4/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Taking into account that the real implementation of integer division never truncates something to an integer because it is just breaking calculation instead."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"AD2AF80F-68A5-4E4C-9601-BB5C8F2ACFA7","type":"message","text":"It should perhaps say “Computes the ratio  `x` / `y`, truncated to an integer” (and not `x/y`)","user":"U6C937ENB","ts":"1616935389.009600","team":"T68168MUP","edited":{"user":"U6C937ENB","ts":"1616936160.000000"},"blocks":[{"type":"rich_text","block_id":"/1p1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It should perhaps say “Computes the ratio  "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" / "},{"type":"text","text":"y","style":{"code":true}},{"type":"text","text":", truncated to an integer” (and not "},{"type":"text","text":"x/y","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"25b90a04-0231-48d4-945e-49a6b77384f8","type":"message","text":"it does say that already, but apparently that's confusing","user":"UH24GRBLL","ts":"1616935543.009800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y1M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it does say that already, but apparently that's confusing"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"CCBE5F7F-DFC1-4F40-8A0E-A76319CD3C84","type":"message","text":"The difference is between / and `/`, division and floating point division ","user":"U6C937ENB","ts":"1616935609.011200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WY0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The difference is between / and "},{"type":"text","text":"/","style":{"code":true}},{"type":"text","text":", division and floating point division "}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"510fb371-b5d3-4947-8fc3-c0b99e44c8cc","type":"message","text":"not sure that difference would be obvious in the markdown","user":"UH24GRBLL","ts":"1616936095.011400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ryr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not sure that difference would be obvious in the markdown"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"F48395F8-1B15-4276-A25A-E70E09A8C5CB","type":"message","text":"You can add “the ratio”","user":"U6C937ENB","ts":"1616936169.012100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bTZy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can add “the ratio”"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"171209c2-586b-4d18-8fc7-0e98214fa2a5","type":"message","text":"How about this: \"The quotient from Euclidean (integer) division. Generally equivalent to ...\"\n\nPerhaps the confusion is just not using the term \"integer division\"? I'm not sure I ever learned the term \"Euclidean division\" to refer to quotient/remainder division, but CS courses used \"integer division\" a lot.","user":"U01HD5VFXJM","ts":"1616944784.014000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5yBr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How about this: \"The quotient from Euclidean (integer) division. Generally equivalent to ...\"\n\nPerhaps the confusion is just not using the term \"integer division\"? I'm not sure I ever learned the term \"Euclidean division\" to refer to quotient/remainder division, but CS courses used \"integer division\" a lot."}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"},{"client_msg_id":"18c96f62-5f4a-4850-b635-dc1a94ee96d4","type":"message","text":"\"Generally equivalent...\" sounds good!","user":"UCTJ1TGBV","ts":"1616997399.022900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t9p46","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\"Generally equivalent...\" sounds good!"}]}]}],"thread_ts":"1616924545.001400","parent_user_id":"U013KHU2XC1"}]