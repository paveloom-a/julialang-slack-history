[{"client_msg_id":"924570e4-84cc-4a85-b53f-6c9eca6e0c45","type":"message","text":"```julia&gt; joinpath(homedir(), \"/example.jl\")\n\"/example.jl\"```\nShouldn't this output an error, or a warning at least?","user":"UEA5FBCRH","ts":"1614210511.233700","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1614210623.000000"},"blocks":[{"type":"rich_text","block_id":"Ugv","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> joinpath(homedir(), \"/example.jl\")\n\"/example.jl\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Shouldn't this output an error, or a warning at least?"}]}]}],"thread_ts":"1614210511.233700","reply_count":22,"reply_users_count":7,"latest_reply":"1614268897.252700","reply_users":["UEGRU91B2","U9VG1AYSG","UEA5FBCRH","UDB26738Q","UGTUKUHLN","UCTJ1TGBV","U6N6VQE30"],"subscribed":false},{"client_msg_id":"7735dc50-c747-4c53-b3b5-f0f0455fadfa","type":"message","text":"Well, it is the expected result, see:\n```help?&gt; joinpath\nsearch: joinpath\n\n  joinpath(parts::AbstractString...) -&gt; String\n\n  Join path components into a full path. If some argument is an absolute path or (on Windows) has a drive\n  specification that doesn't match the drive computed for the join of the preceding paths, then prior\n  components are dropped.\n...```\nAlthough I must admit I am perpetually confused and have to read it every time. In your case, the second argument is an absolute path, since `/` is the root directory.","user":"UEGRU91B2","ts":"1614210719.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KcDdY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, it is the expected result, see:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"help?> joinpath\nsearch: joinpath\n\n  joinpath(parts::AbstractString...) -> String\n\n  Join path components into a full path. If some argument is an absolute path or (on Windows) has a drive\n  specification that doesn't match the drive computed for the join of the preceding paths, then prior\n  components are dropped.\n..."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Although I must admit I am perpetually confused and have to read it every time. In your case, the second argument is an absolute path, since "},{"type":"text","text":"/","style":{"code":true}},{"type":"text","text":" is the root directory."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"991183db-2caf-4bd7-bd11-dc2204b66c99","type":"message","text":"I have gotten burned by this once or twice","user":"U9VG1AYSG","ts":"1614210908.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jXP=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have gotten burned by this once or twice"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH","reactions":[{"name":"julia-plus-one-1","users":["UEGRU91B2"],"count":1}]},{"client_msg_id":"d047226a-dc67-4e4d-9426-9953de20db24","type":"message","text":"I see. Thanks for pointing this out.","user":"UEA5FBCRH","ts":"1614210913.234500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LeTN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see. Thanks for pointing this out."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"ab458da3-3cbd-48e0-bd9c-e33e1015fdbd","type":"message","text":"There must be a strong reason behind this because it seems very unintuitive to me.","user":"UEA5FBCRH","ts":"1614211831.234800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R=1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There must be a strong reason behind this because it seems very unintuitive to me."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"cb1e8f5e-d031-4c0d-8bfb-95b00c9c91a4","type":"message","text":"I think it's pretty common?","user":"UDB26738Q","ts":"1614211853.235000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Cq4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it's pretty common?"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"c7b24fec-e155-4de8-8c2b-d2376954a087","type":"message","text":"Is it? Just dropping the first argument(s) silently? Maybe it's because I don't know the use case. And even if it is common, still unintuitive to me. Might be just me though.","user":"UEA5FBCRH","ts":"1614212008.235200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tl8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it? Just dropping the first argument(s) silently? Maybe it's because I don't know the use case. And even if it is common, still unintuitive to me. Might be just me though."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"f3070ddf-c182-4222-ac9e-7fe1d7edfba2","type":"message","text":"for sure in Emacs `/home/user//foo/bar` means `/foo/bar`, the double slash becomes the root and everything before is ignored (and since this is in Emacs, it's totally natural for me)","user":"UDB26738Q","ts":"1614212008.235400","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1614212020.000000"},"blocks":[{"type":"rich_text","block_id":"fPJ6+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for sure in Emacs "},{"type":"text","text":"/home/user//foo/bar","style":{"code":true}},{"type":"text","text":" means "},{"type":"text","text":"/foo/bar","style":{"code":true}},{"type":"text","text":", the double slash becomes the root and everything before is ignored (and since this is in Emacs, it's totally natural for me)"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b6567f2f-084d-447e-9516-71f40fac3dc0","type":"message","text":"and it's consistent with Python, too:\n```In [1]: import os\n\nIn [2]: os.path.join('/home', 'user', '/example.jl')\nOut[2]: '/example.jl'```","user":"UDB26738Q","ts":"1614212280.235700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cD/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and it's consistent with Python, too:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"In [1]: import os\n\nIn [2]: os.path.join('/home', 'user', '/example.jl')\nOut[2]: '/example.jl'"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"d3d1627c-b7a7-4e40-b9f3-43ee300dd382","type":"message","text":"Hmm I see. I wonder what is the rationale or the use case for this.","user":"UEA5FBCRH","ts":"1614212316.235900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7x6nE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm I see. I wonder what is the rationale or the use case for this."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"a182e4b9-914f-4979-8b66-55b0bb6191b3","type":"message","text":"Apparently, it is quite useful (since it is so common)","user":"UEA5FBCRH","ts":"1614212339.236100","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1614212397.000000"},"blocks":[{"type":"rich_text","block_id":"LTVeN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Apparently, it is quite useful (since it is so common)"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b14ed18d-0388-4893-93c7-e53bcc7fb373","type":"message","text":"It's like: hey, could you please join these two things. And the function is like, hmm, I can't. But here is the last bit!","user":"UEA5FBCRH","ts":"1614212523.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B1XGe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's like: hey, could you please join these two things. And the function is like, hmm, I can't. But here is the last bit!"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"0c819cee-8a66-41f3-a88e-dcdeef68b6fc","type":"message","text":"I think I agree with you.","user":"UEGRU91B2","ts":"1614213789.236700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t0IP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I agree with you."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"d4c4a7f4-1fd7-41aa-a927-fc0b91830ade","type":"message","text":"lol that's a funny way of putting it","user":"U9VG1AYSG","ts":"1614214695.236900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XlVhh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"lol that's a funny way of putting it"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b4851a88-6956-49f6-b002-22872dfdc0fd","type":"message","text":"Current behaviour is consistent with common shell operations as well:\n```cd ~\ncat /example.jl```\nprints content of file `example.jl` in the root directory. Same with directories instead of files:\n```cd /home  # current dir = /home\ncd user   # /home/user\ncd /abc   # /abc```\nSo it's hard to motivate any other semantics of `joinpath`","user":"UGTUKUHLN","ts":"1614237905.237600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KeaV+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Current behaviour is consistent with common shell operations as well:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"cd ~\ncat /example.jl"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"prints content of file "},{"type":"text","text":"example.jl","style":{"code":true}},{"type":"text","text":" in the root directory. Same with directories instead of files:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"cd /home  # current dir = /home\ncd user   # /home/user\ncd /abc   # /abc"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"So it's hard to motivate any other semantics of "},{"type":"text","text":"joinpath","style":{"code":true}}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"ca752935-8fbb-454a-8397-46ed082de263","type":"message","text":"but joining paths is something different than navigating to exactly one?","user":"UCTJ1TGBV","ts":"1614238061.237800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FwwQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but joining paths is something different than navigating to exactly one?"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"7f55a7fd-871a-4318-ac4c-81d51a86de40","type":"message","text":"Not sure what you mean here. `joinpath(a, b, c)` behaves exactly the same as sequential `cd a; cd b; cd c` (for directories). Both take a sequence of \"path parts\" and result in a single path in the end.","user":"UGTUKUHLN","ts":"1614238400.241400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"09lq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not sure what you mean here. "},{"type":"text","text":"joinpath(a, b, c)","style":{"code":true}},{"type":"text","text":" behaves exactly the same as sequential "},{"type":"text","text":"cd a; cd b; cd c","style":{"code":true}},{"type":"text","text":" (for directories). Both take a sequence of \"path parts\" and result in a single path in the end."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"36c9895f-9cc6-460b-a824-90b8acd9ddae","type":"message","text":"Well, but I feel that navigation with `cd` is something different than joining stuff together. e.g. there is no meaning in `cd a b c` .","user":"UCTJ1TGBV","ts":"1614238566.241800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mu=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, but I feel that navigation with "},{"type":"text","text":"cd","style":{"code":true}},{"type":"text","text":" is something different than joining stuff together. e.g. there is no meaning in "},{"type":"text","text":"cd a b c","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"b2a668c9-ae40-4e1a-9b2e-708a3ad35fd7","type":"message","text":"Another indication of `joinpath` being different than `cd` is that `cd` is also a Julia command.","user":"UCTJ1TGBV","ts":"1614238638.242000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1pSl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Another indication of "},{"type":"text","text":"joinpath","style":{"code":true}},{"type":"text","text":" being different than "},{"type":"text","text":"cd","style":{"code":true}},{"type":"text","text":" is that "},{"type":"text","text":"cd","style":{"code":true}},{"type":"text","text":" is also a Julia command."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"c7a61921-1730-41dc-8a72-657462d4056b","type":"message","text":"(To be clear: I don't think `joinpath` should return something different, but it might be okay to emit a warning if the input is nonsensical)","user":"UCTJ1TGBV","ts":"1614238770.242200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ak=m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(To be clear: I don't think "},{"type":"text","text":"joinpath","style":{"code":true}},{"type":"text","text":" should return something different, but it might be okay to emit a warning if the input is nonsensical)"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"6740992f-c8a6-457c-bbfb-5a340922047c","type":"message","text":"I still don't get why is it \"nonsensical\". Suppose you have a function like `f(path) = read(joinpath(BASEDIR, path))`that reads a file given its path. It makes total sense to call `f(\"abc.txt\")` with `abc.txt` interpreted relative to `BASEDIR` directory, or `f(\"/home/user/abc.txt\")` interpreted as absolute path. I would be very surprised to get a warning here.","user":"UGTUKUHLN","ts":"1614239031.242400","team":"T68168MUP","edited":{"user":"UGTUKUHLN","ts":"1614239637.000000"},"blocks":[{"type":"rich_text","block_id":"Gym","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I still don't get why is it \"nonsensical\". Suppose you have a function like "},{"type":"text","text":"f(path) = read(joinpath(BASEDIR, path))","style":{"code":true}},{"type":"text","text":"that reads a file given its path. It makes total sense to call "},{"type":"text","text":"f(\"abc.txt\")","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"abc.txt","style":{"code":true}},{"type":"text","text":" interpreted relative to "},{"type":"text","text":"BASEDIR","style":{"code":true}},{"type":"text","text":" directory, or "},{"type":"text","text":"f(\"/home/user/abc.txt\")","style":{"code":true}},{"type":"text","text":" interpreted as absolute path. I would be very surprised to get a warning here."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"ceb59924-ea5e-4493-af10-2cfb90d80191","type":"message","text":"It's the same in c++ std::filesystem too","user":"U6N6VQE30","ts":"1614240425.244500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VAC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's the same in c++ std::filesystem too"}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"},{"client_msg_id":"f6d0c5f2-7678-4f11-a49e-78268728b2ce","type":"message","text":"I don’t think this is a hill to die on, but I don’t agree with you Alexander. I think you are making sense in the basis of how it is used, but really it does not make much sense regarding the way it is named. If the function is is expected to join two things and it cannot, it could very well warn you. Because its name says that it should join two things together, which is not what it would do in that case.","user":"UEGRU91B2","ts":"1614268897.252700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IQwO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think this is a hill to die on, but I don’t agree with you Alexander. I think you are making sense in the basis of how it is used, but really it does not make much sense regarding the way it is named. If the function is is expected to join two things and it cannot, it could very well warn you. Because its name says that it should join two things together, which is not what it would do in that case."}]}]}],"thread_ts":"1614210511.233700","parent_user_id":"UEA5FBCRH"}]