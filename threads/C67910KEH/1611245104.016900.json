[{"client_msg_id":"7e7f7922-9875-4ca8-8a33-5e1ef76532c2","type":"message","text":"I once asked on discourse about interaction between `map` and `pairs`: <https://discourse.julialang.org/t/map-over-namedtuple-keys-and-values-confusing-error/26866/5>. Then the reaction was not really conclusive whether this should work or not.\nNow I noticed another similar case where there is even less ambiguity possible: `map(p -&gt; p[1] =&gt; p[2], pairs(1:3) |&gt; collect)` gives `[1 =&gt; 1, 2 =&gt; 2, 3 =&gt; 3]` , while `map(p -&gt; p[1] =&gt; p[2], pairs(1:3))` results in error *`map is not defined on dictionaries`.*\nWhat do you think: should the second line without collect also work?","user":"UGTUKUHLN","ts":"1611245104.016900","team":"T68168MUP","edited":{"user":"UGTUKUHLN","ts":"1611245139.000000"},"attachments":[{"service_name":"JuliaLang","title":"Map over namedtuple keys and values: confusing error","title_link":"https://discourse.julialang.org/t/map-over-namedtuple-keys-and-values-confusing-error/26866/5","text":"Bumping this thread - so there is indeed no way to map or broadcast over pairs(...) (iterable of pairs) without collecting this iterable into an array?","fallback":"JuliaLang: Map over namedtuple keys and values: confusing error","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1569218230,"from_url":"https://discourse.julialang.org/t/map-over-namedtuple-keys-and-values-confusing-error/26866/5","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/map-over-namedtuple-keys-and-values-confusing-error/26866/5"}],"blocks":[{"type":"rich_text","block_id":"+B8v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I once asked on discourse about interaction between "},{"type":"text","text":"map","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"pairs","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://discourse.julialang.org/t/map-over-namedtuple-keys-and-values-confusing-error/26866/5"},{"type":"text","text":". Then the reaction was not really conclusive whether this should work or not.\nNow I noticed another similar case where there is even less ambiguity possible: "},{"type":"text","text":"map(p -> p[1] => p[2], pairs(1:3) |> collect)","style":{"code":true}},{"type":"text","text":" gives "},{"type":"text","text":"[1 => 1, 2 => 2, 3 => 3]","style":{"code":true}},{"type":"text","text":" , while "},{"type":"text","text":"map(p -> p[1] => p[2], pairs(1:3))","style":{"code":true}},{"type":"text","text":" results in error "},{"type":"text","text":"map is not defined on dictionaries","style":{"bold":true,"code":true}},{"type":"text","text":".","style":{"bold":true}},{"type":"text","text":"\nWhat do you think: should the second line without collect also work?"}]}]}],"thread_ts":"1611245104.016900","reply_count":1,"reply_users_count":1,"latest_reply":"1611248496.018000","reply_users":["U6A936746"],"subscribed":false},{"client_msg_id":"1b77340f-6e9e-4596-9fad-0c1b9c92abbc","type":"message","text":"it was a mistake to make `Pairs` type that is returned by `pairs`) subtype `AbstractDict`\nI feel like it's whole purpose was to be the thing that that allowed you to iterate a dictionary by pairs.\nSurely that is what a function called `pairs` does it matches to `values` and `keys`\nSince you can't allowed to map it otherwise.\n\nBut some how it itself ended up also being an `AbstractDict` and breaking it.\nSomewhere I have an issue that says we should solve that","user":"U6A936746","ts":"1611248496.018000","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611272376.000000"},"blocks":[{"type":"rich_text","block_id":"KPTnA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it was a mistake to make "},{"type":"text","text":"Pairs","style":{"code":true}},{"type":"text","text":" type that is returned by `pairs`) subtype "},{"type":"text","text":"AbstractDict","style":{"code":true}},{"type":"text","text":"\nI feel like it's whole purpose was to be the thing that that allowed you to iterate a dictionary by pairs.\nSurely that is what a function called "},{"type":"text","text":"pairs ","style":{"code":true}},{"type":"text","text":"does it matches to "},{"type":"text","text":"values ","style":{"code":true}},{"type":"text","text":"and "},{"type":"text","text":"keys","style":{"code":true}},{"type":"text","text":"\nSince you can't allowed to map it otherwise.\n\nBut some how it itself ended up also being an "},{"type":"text","text":"AbstractDict","style":{"code":true}},{"type":"text","text":" and breaking it.\nSomewhere I have an issue that says we should solve that"}]}]}],"thread_ts":"1611245104.016900","parent_user_id":"UGTUKUHLN","reactions":[{"name":"+1","users":["UDXST8ARK"],"count":1}]}]