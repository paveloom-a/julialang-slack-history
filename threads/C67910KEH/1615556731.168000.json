[{"client_msg_id":"29c376b3-0d9f-40c1-9a89-cb9005c4c4e6","type":"message","text":"Is there an in-place method for rotl90(A), e.g. there is no rotl90!(A) in the documentation?   Maybe a clever way to do it with mapslice?","user":"U8JKUP8DV","ts":"1615556731.168000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y6Ns","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there an in-place method for rotl90(A), e.g. there is no rotl90!(A) in the documentation?   Maybe a clever way to do it with mapslice?"}]}]}],"thread_ts":"1615556731.168000","reply_count":14,"reply_users_count":5,"latest_reply":"1615565658.181700","reply_users":["U67G3QRJM","UH8A351DJ","U8JKUP8DV","USU9FRPEU","UD0NS8PDF"],"subscribed":false},{"client_msg_id":"dc85f17d-fa0f-4f7a-85d3-1059bbc43fc1","type":"message","text":"What is A? And what should the result be?","user":"U67G3QRJM","ts":"1615557880.168200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y1mxg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is A? And what should the result be?"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"81e80c89-be39-4eba-9a88-c1b1a8d4489c","type":"message","text":"there's none because `A` may not be square matrix and the algorithms is written generally. (we don't have a type for square matrix)","user":"UH8A351DJ","ts":"1615558185.168400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/U+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there's none because "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" may not be square matrix and the algorithms is written generally. (we don't have a type for square matrix)"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"1bd17c3b-dfe7-4165-8419-dcc9f67dd61e","type":"message","text":"Aha!  Thanks.   Yes, A is a square matrix, say 2000x2000 of Float64.   So perhaps I can write my own rotr90!(squareA) that allocates no memory and efficiently moves the data.  I'll give that a try.   I'm open to suggestions as to the best ways to do this.","user":"U8JKUP8DV","ts":"1615559615.168600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7ccy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Aha!  Thanks.   Yes, A is a square matrix, say 2000x2000 of Float64.   So perhaps I can write my own rotr90!(squareA) that allocates no memory and efficiently moves the data.  I'll give that a try.   I'm open to suggestions as to the best ways to do this."}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"fe961e22-005f-44a3-9786-690b9c57b6eb","type":"message","text":"You can just write a function that takes in x and y coordinates and returns the correct element in the rotated version","user":"U67G3QRJM","ts":"1615560038.170100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bL8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can just write a function that takes in x and y coordinates and returns the correct element in the rotated version"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"f1340f09-fc6d-4d4e-9f67-ca7f959a4510","type":"message","text":"Why do you need to do this? As in what will you use the result for?","user":"U67G3QRJM","ts":"1615560056.170300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fy0k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why do you need to do this? As in what will you use the result for?"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"2e7d86d0-494a-4cc1-a77b-be9694b689ce","type":"message","text":"Hmm... one could store the information back in the same memory though, and maybe just return the array after `reshape` ?","user":"USU9FRPEU","ts":"1615560181.170800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b=B3Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm... one could store the information back in the same memory though, and maybe just return the array after "},{"type":"text","text":"reshape","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"698cf31f-0c76-45c2-8d93-121464cb1ed2","type":"message","text":"Basically you would need to do a cyclic permutation of each four corresponding rotated locations by extracting them all first then putting them all back. There's no reshape here?","user":"U67G3QRJM","ts":"1615561001.177500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B2j4I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Basically you would need to do a cyclic permutation of each four corresponding rotated locations by extracting them all first then putting them all back. There's no reshape here?"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"f023dfb3-aff2-4732-9886-5bef43f3a142","type":"message","text":"thanks David and Mark.   I was starting to think that there would be a x4 swap.   There is no reshape, array starts and ends square.  The data is from an experiment, and the classic issue of displaying an image of the data is that the x and y axes seem to be swapped (or in my case, rotated).","user":"U8JKUP8DV","ts":"1615562889.180300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s2uCr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks David and Mark.   I was starting to think that there would be a x4 swap.   There is no reshape, array starts and ends square.  The data is from an experiment, and the classic issue of displaying an image of the data is that the x and y axes seem to be swapped (or in my case, rotated)."}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"1f673426-968f-4c5b-bf4f-71f712d0e536","type":"message","text":"Wait, so could transpose or `permutedims!` work?","user":"USU9FRPEU","ts":"1615562984.180500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qWc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wait, so could transpose or "},{"type":"text","text":"permutedims!","style":{"code":true}},{"type":"text","text":" work?"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"0b85053f-1b8c-411f-9f63-c7aac7f07b94","type":"message","text":"rotate is different, I think you should probably try `transpose` . That's what I usually use for images.","user":"USU9FRPEU","ts":"1615563136.180700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"143","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"rotate is different, I think you should probably try "},{"type":"text","text":"transpose","style":{"code":true}},{"type":"text","text":" . That's what I usually use for images."}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"37bc76ba-b74a-4798-b7f3-f8b2abdd0da5","type":"message","text":"```julia&gt; A = reshape(1:9,3,3)\n3×3 reshape(::UnitRange{Int64}, 3, 3) with eltype Int64:\n 1  4  7\n 2  5  8\n 3  6  9\n\njulia&gt; transpose(A)\n3×3 LinearAlgebra.Transpose{Int64,Base.ReshapedArray{Int64,2,UnitRange{Int64},Tuple{}}}:\n 1  2  3\n 4  5  6\n 7  8  9\n\njulia&gt; rotr90(A)\n3×3 Array{Int64,2}:\n 3  2  1\n 6  5  4\n 9  8  7```","user":"USU9FRPEU","ts":"1615563138.180900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NXFY","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> A = reshape(1:9,3,3)\n3×3 reshape(::UnitRange{Int64}, 3, 3) with eltype Int64:\n 1  4  7\n 2  5  8\n 3  6  9\n\njulia> transpose(A)\n3×3 LinearAlgebra.Transpose{Int64,Base.ReshapedArray{Int64,2,UnitRange{Int64},Tuple{}}}:\n 1  2  3\n 4  5  6\n 7  8  9\n\njulia> rotr90(A)\n3×3 Array{Int64,2}:\n 3  2  1\n 6  5  4\n 9  8  7"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"149dddfe-8c18-403d-86e0-a80e8db5c907","type":"message","text":"Maybe?   I have lots of these 16MB datasets, I need to avoid any memory allocation.  I'll try that and <@U01EYVBUZRA> it!","user":"U8JKUP8DV","ts":"1615563409.181100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a6ZG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe?   I have lots of these 16MB datasets, I need to avoid any memory allocation.  I'll try that and "},{"type":"user","user_id":"U01EYVBUZRA"},{"type":"text","text":" it!"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"},{"client_msg_id":"51323ead-e9e1-46d0-accd-162ed8fe8d21","type":"message","text":"It’s a reverse and a transpose, right? So you could do…\n```julia&gt; m = reshape(1:9,3,3) .+ 0\n3×3 Matrix{Int64}:\n 1  4  7\n 2  5  8\n 3  6  9\n\njulia&gt; out = zeros(3,3);\n\njulia&gt; permutedims!(out, @view(m[:, end:-1:begin]), (2,1))\n3×3 Matrix{Float64}:\n 7.0  8.0  9.0\n 4.0  5.0  6.0\n 1.0  2.0  3.0\n\njulia&gt; @cast out[i,j] = m[j,-i] # using TensorCast\n3×3 Matrix{Float64}:\n 7.0  8.0  9.0\n 4.0  5.0  6.0\n 1.0  2.0  3.0```","user":"UD0NS8PDF","ts":"1615563671.181300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bzaW8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s a reverse and a transpose, right? So you could do…\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> m = reshape(1:9,3,3) .+ 0\n3×3 Matrix{Int64}:\n 1  4  7\n 2  5  8\n 3  6  9\n\njulia> out = zeros(3,3);\n\njulia> permutedims!(out, @view(m[:, end:-1:begin]), (2,1))\n3×3 Matrix{Float64}:\n 7.0  8.0  9.0\n 4.0  5.0  6.0\n 1.0  2.0  3.0\n\njulia> @cast out[i,j] = m[j,-i] # using TensorCast\n3×3 Matrix{Float64}:\n 7.0  8.0  9.0\n 4.0  5.0  6.0\n 1.0  2.0  3.0"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV","reactions":[{"name":"+1","users":["U67G3QRJM"],"count":1}]},{"client_msg_id":"cbc726e1-c4cb-4533-a093-33becdfff65a","type":"message","text":"(sorry, that was supposed to be @ t i m e above","user":"U8JKUP8DV","ts":"1615565658.181700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x6U5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(sorry, that was supposed to be @ t i m e above"}]}]}],"thread_ts":"1615556731.168000","parent_user_id":"U8JKUP8DV"}]