[{"client_msg_id":"d8f7ef9f-1f4b-4b12-a4f0-e8c2b9abc7ce","type":"message","text":"is there a way to add intermediate calculations into ModelingToolkit.jl problems for a very basic example:\n```using ModelingToolkit, DifferentialEquations, Plots\n\n@parameters t kf\n@variables x1(t) \nD = Differential(t)\n\neqs = [D(x1) ~ kf[1]*x1]\n\nsys = ODESystem(eqs)\n\nu0 = [x1 =&gt; 10.0]\n\np = [kf =&gt; [-2.0]]\n\ntspan = (0.0,1.0)\nprob = ODEProblem(sys,u0,tspan,p,jac=true)\nsol = solve(prob,Tsit5())```\nbut say I wanted an intermediate variable\n```r1 = kf[1] * x1```\nwould I just do this all above before I specify eqs? Where and how would I put this. I have one that's more along 500 lines of code that I want to convert to this.","user":"U01G3BG7AFR","ts":"1614566903.339300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L9Yd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a way to add intermediate calculations into ModelingToolkit.jl problems for a very basic example:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using ModelingToolkit, DifferentialEquations, Plots\n\n@parameters t kf\n@variables x1(t) \nD = Differential(t)\n\neqs = [D(x1) ~ kf[1]*x1]\n\nsys = ODESystem(eqs)\n\nu0 = [x1 => 10.0]\n\np = [kf => [-2.0]]\n\ntspan = (0.0,1.0)\nprob = ODEProblem(sys,u0,tspan,p,jac=true)\nsol = solve(prob,Tsit5())"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but say I wanted an intermediate variable\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"r1 = kf[1] * x1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"would I just do this all above before I specify eqs? Where and how would I put this. I have one that's more along 500 lines of code that I want to convert to this."}]}]}],"thread_ts":"1614566903.339300","reply_count":4,"reply_users_count":2,"latest_reply":"1614568550.340000","reply_users":["U69BL50BF","U01G3BG7AFR"],"subscribed":false},{"client_msg_id":"0d36660f-65f2-424e-9067-e6d1e24c82f0","type":"message","text":"See the new tutorial: <https://mtk.sciml.ai/dev/tutorials/acausal_components/>","user":"U69BL50BF","ts":"1614567953.339400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CXv2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"See the new tutorial: "},{"type":"link","url":"https://mtk.sciml.ai/dev/tutorials/acausal_components/"}]}]}],"thread_ts":"1614566903.339300","parent_user_id":"U01G3BG7AFR"},{"client_msg_id":"23f3c72f-37f6-4417-a315-93974b5c57ad","type":"message","text":"if you just add a bunch of equations and then use `structural_simplify`, it'll remove them and make them lazy","user":"U69BL50BF","ts":"1614567971.339600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q8Ce","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you just add a bunch of equations and then use "},{"type":"text","text":"structural_simplify","style":{"code":true}},{"type":"text","text":", it'll remove them and make them lazy"}]}]}],"thread_ts":"1614566903.339300","parent_user_id":"U01G3BG7AFR"},{"client_msg_id":"ec365adc-1026-4435-9ec0-5755c0bc92d9","type":"message","text":"```using ModelingToolkit, DifferentialEquations, Plots\n@parameters t kf\n@variables x1(t) r1(t) \nD = Differential(t)\neqs = [r1 ~ kf[1]*x1\n       D(x1) ~ r1]\nsys = structural_simplify(ODESystem(eqs))\nu0 = [x1 =&gt; 10.0]\np = [kf =&gt; [-2.0]]\ntspan = (0.0,1.0)\nprob = ODEProblem(sys,u0,tspan,p,jac=true)\nsol = solve(prob,Tsit5())```\nshould still be optimal, but `sol[r1]` exists","user":"U69BL50BF","ts":"1614568020.339800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y7v","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using ModelingToolkit, DifferentialEquations, Plots\n@parameters t kf\n@variables x1(t) r1(t) \nD = Differential(t)\neqs = [r1 ~ kf[1]*x1\n       D(x1) ~ r1]\nsys = structural_simplify(ODESystem(eqs))\nu0 = [x1 => 10.0]\np = [kf => [-2.0]]\ntspan = (0.0,1.0)\nprob = ODEProblem(sys,u0,tspan,p,jac=true)\nsol = solve(prob,Tsit5())"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"should still be optimal, but "},{"type":"text","text":"sol[r1]","style":{"code":true}},{"type":"text","text":" exists"}]}]}],"thread_ts":"1614566903.339300","parent_user_id":"U01G3BG7AFR"},{"client_msg_id":"d342b289-66f6-44d4-b0bd-c13aa5a6a016","type":"message","text":"thank you for the help","user":"U01G3BG7AFR","ts":"1614568550.340000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eoVN1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you for the help"}]}]}],"thread_ts":"1614566903.339300","parent_user_id":"U01G3BG7AFR"}]