[{"client_msg_id":"91d26360-c015-4a4d-b81e-7bf9fb9e81cf","type":"message","text":"Would it be a good suggestion to distribute Julia _with_ Makie via PackageCompiler.jl in the future?","user":"U01AJUF2GEP","ts":"1617835101.409600","team":"T68168MUP","edited":{"user":"U01AJUF2GEP","ts":"1617835130.000000"},"blocks":[{"type":"rich_text","block_id":"h3DVx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would it be a good suggestion to distribute Julia "},{"type":"text","text":"with ","style":{"italic":true}},{"type":"text","text":"Makie via PackageCompiler.jl in the future?"}]}]}],"thread_ts":"1617835101.409600","reply_count":30,"reply_users_count":14,"latest_reply":"1617869447.438600","reply_users":["U01AJUF2GEP","UGU761DU2","U695B1S2X","U9VG1AYSG","U8D9768Q6","U6QGE7S86","U0179G7FG4F","USU9FRPEU","UA3UH56HL","U01CQTKB86N","U6795JH6H","UMDEUKM29","U6SHSF4R0","UAUPJLBQX"],"is_locked":false,"subscribed":false,"reactions":[{"name":"-1","users":["U695B1S2X","UMY1LV01G","U8HHPBKQR","U7QLM6E2E","U6BNE7LTZ","UAUPJLBQX"],"count":6}]},{"client_msg_id":"ee80680e-f5d5-41b7-97c4-66dc3ccc61df","type":"message","text":"I mean, as an alternative on the Julia downloads page","user":"U01AJUF2GEP","ts":"1617835198.410800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f=R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, as an alternative on the Julia downloads page"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"5d28cf17-ae00-4d20-a19e-fb9507e0bb66","type":"message","text":"Possibly if there were a single accepted plotting package?","user":"UGU761DU2","ts":"1617835260.411000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xLrL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly if there were a single accepted plotting package?"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"a0b8143b-e8d8-435e-9756-f228adb8aa7f","type":"message","text":"That seems like an overly opinionated thing to bundle. Lots of folks still prefer using Plots.jl (with various backends). I could see an argument for having a stats bundle though that includes things like Tables, StatsBase, Distributions, Distances, DataFrames, etc.","user":"U695B1S2X","ts":"1617835264.411200","team":"T68168MUP","edited":{"user":"U695B1S2X","ts":"1617835334.000000"},"blocks":[{"type":"rich_text","block_id":"HhP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That seems like an overly opinionated thing to bundle. Lots of folks still prefer using Plots.jl (with various backends). I could see an argument for having a stats bundle though that includes things like Tables, StatsBase, Distributions, Distances, DataFrames, etc."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"f87dd7ab-cb80-4adb-a795-20d4d5747a7b","type":"message","text":"But... Makie will be easier to use that way for those folks\nPlots takes 7secs for first plot which is good enough\nMakie might take 7secs after we distribute it with Julia","user":"U01AJUF2GEP","ts":"1617835645.411800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u58cY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But... Makie will be easier to use that way for those folks\nPlots takes 7secs for first plot which is good enough\nMakie might take 7secs after we distribute it with Julia"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"69d9115a-6519-4a0e-a938-ec7435a3a01b","type":"message","text":"I think what we really need is just a somewhat more user-friendly way of managing sys-images, that would solve this problem without bundling in arbitrary packages","user":"U9VG1AYSG","ts":"1617836735.413200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RrVF5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think what we really need is just a somewhat more user-friendly way of managing sys-images, that would solve this problem without bundling in arbitrary packages"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U695B1S2X","UMY1LV01G","U7THT3TM3","U01AJUF2GEP","U680THK2S","U0179G7FG4F","U9MED583T","U01C15GH58B","U9L5Y89H7"],"count":9},{"name":"+1::skin-tone-4","users":["UAREE2NMD"],"count":1}]},{"client_msg_id":"521c1257-255b-4daa-91c9-4d382de6de65","type":"message","text":"While I disagree with this specific idea, I do think it'd be cool to have a site that has a collection of useful sysimages that people can share and download without building locally. Probably not for the default julia downloads page","user":"U8D9768Q6","ts":"1617836739.413400","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1617836764.000000"},"blocks":[{"type":"rich_text","block_id":"YI55z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"While I disagree with this specific idea, I do think it'd be cool to have a site that has a collection of useful sysimages that people can share and download without building locally. Probably not for the default julia downloads page"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U6BJXUZHR","UGU761DU2","U695B1S2X","U7THT3TM3","U01AJUF2GEP","U0179G7FG4F","USU9FRPEU","U9MED583T","U01C15GH58B","U011V2YN59N","UV98QAPFW","UMQME35EV"],"count":12},{"name":"+1::skin-tone-4","users":["UAREE2NMD"],"count":1}]},{"client_msg_id":"8e9ae3bb-d017-4ecd-b2b8-494691e51e7a","type":"message","text":"PackageCompiler for sys images works quite well now, but it would be nice to have something as easy to manage as Pkg environments currnetly are","user":"U9VG1AYSG","ts":"1617836769.413800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y1U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PackageCompiler for sys images works quite well now, but it would be nice to have something as easy to manage as Pkg environments currnetly are"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"9147d1d4-0b9d-4b45-9f05-4077fe362e5b","type":"message","text":"(I've experimented with making a package, but was never totally satisfied with my experiments)","user":"U9VG1AYSG","ts":"1617836786.414000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fwx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I've experimented with making a package, but was never totally satisfied with my experiments)"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"da033d41-c414-4a92-b6af-e399bd20e44a","type":"message","text":"having something that automatically invalidates sys images for you would be really nice and I think that feature is where most of the work would be","user":"U9VG1AYSG","ts":"1617836838.414200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rnFkF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"having something that automatically invalidates sys images for you would be really nice and I think that feature is where most of the work would be"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"de093067-38b7-4b37-9541-306fb9d7fcab","type":"message","text":"<@U8D9768Q6> <@U9VG1AYSG>\nThank you for your fantastic opinions!\n\nI doubt that there's already some initiative for that, but I think it'd make a lot of sense in the future!\n(People can't say that the plotting time is slower or library A takes forever to compile and stuff. People can then just choose how to make their sysimages according to their workflow:slightly_smiling_face:)","user":"U01AJUF2GEP","ts":"1617838272.415400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BhXqt","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U8D9768Q6"},{"type":"text","text":" "},{"type":"user","user_id":"U9VG1AYSG"},{"type":"text","text":"\nThank you for your fantastic opinions!\n\nI doubt that there's already some initiative for that, but I think it'd make a lot of sense in the future!\n(People can't say that the plotting time is slower or library A takes forever to compile and stuff. People can then just choose how to make their sysimages according to their workflow"},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":")"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"13afc769-2dec-47b1-b42d-49fbd15d0bde","type":"message","text":"I advocated Makie specifically as thats the one I see the need for, but being able to choose your sysimage according to workflow is an awesome idea","user":"U01AJUF2GEP","ts":"1617838414.415600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EfVX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I advocated Makie specifically as thats the one I see the need for, but being able to choose your sysimage according to workflow is an awesome idea"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"95a3ea2d-a3fa-49d0-beec-d1a7ea0164c4","type":"message","text":"Sounds like someone could build a bare-bones version of that with TerminalMenus.jl (now in base)","user":"U6QGE7S86","ts":"1617840570.416200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JHk8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sounds like someone could build a bare-bones version of that with TerminalMenus.jl (now in base)"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"c3c610ea-e0e6-4f9d-abd3-ef2046230fac","type":"message","text":"The other thing to consider is it is vaguely plausible that within a year or so, StaticCompiler may lesson a lot of the need for this. If Julia gets native code static compiles, that would fix TTFP within the regular package system","user":"U0179G7FG4F","ts":"1617842449.417500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V3Ci","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The other thing to consider is it is vaguely plausible that within a year or so, StaticCompiler may lesson a lot of the need for this. If Julia gets native code static compiles, that would fix TTFP within the regular package system"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"2359eab9-8c61-4bf6-81ca-b6642ebaa8f3","type":"message","text":"Do we have a PackageCrossCompiler.jl ?","user":"USU9FRPEU","ts":"1617842699.417800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7QvvF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do we have a PackageCrossCompiler.jl ?"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"B4DDAEB3-633D-444E-B4F7-11E84B1BC109","type":"message","text":"Nope ","user":"U8D9768Q6","ts":"1617843372.418100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VWM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope "}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1af8b2ab-2772-42dc-9a3f-235320fa8b6d","type":"message","text":"I would just be careful to not create all the entropy we see in the Anaconda world where no one can reproduce the results of anyone else online due to different packaging of the language. You no longer download Julia v1.6 you download a beast with a lot of stuff baked in with fixed versions. I personally find such a website more harmful than helpful in the long run. A solution that is local and easy with the package manager itself seems more useful. Like activating an environment and calling a sysimg command or something.","user":"UA3UH56HL","ts":"1617847078.422800","team":"T68168MUP","edited":{"user":"UA3UH56HL","ts":"1617847124.000000"},"blocks":[{"type":"rich_text","block_id":"Yk=M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would just be careful to not create all the entropy we see in the Anaconda world where no one can reproduce the results of anyone else online due to different packaging of the language. You no longer download Julia v1.6 you download a beast with a lot of stuff baked in with fixed versions. I personally find such a website more harmful than helpful in the long run. A solution that is local and easy with the package manager itself seems more useful. Like activating an environment and calling a sysimg command or something."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U8D9768Q6","U695B1S2X","UH24GRBLL","UC3SSCQRZ"],"count":4}]},{"client_msg_id":"5862432B-4903-407F-999C-7DEC7414B0B8","type":"message","text":"I would be more interested in useful recipes for building those, although with 1.6, there’s less need.","user":"U01CQTKB86N","ts":"1617848157.425000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EeMBq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would be more interested in useful recipes for building those, although with 1.6, there’s less need."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"afb3de98-2489-4820-b442-e5ac48d49bbb","type":"message","text":"I would point out that not very long ago people were saying that the only possible way that we could make it possible to reliably get a fully working graphics stack everywhere was if we picked one and bundled it with Julia","user":"U6795JH6H","ts":"1617851312.426600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BDG0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would point out that not very long ago people were saying that the only possible way that we could make it possible to reliably get a fully working graphics stack everywhere was if we picked one and bundled it with Julia"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"87615e84-bf87-4067-911f-7e6323e9a83b","type":"message","text":"Now that problem is solved for all the graphics stacks and all the other binary dependencies — they just work on everywhere","user":"U6795JH6H","ts":"1617851348.426800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QOJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now that problem is solved for all the graphics stacks and all the other binary dependencies — they just work on everywhere"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"juliaspinner","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"e4b07db8-67b8-4a2f-b8e3-acc83db4f6cf","type":"message","text":"Shipping Julia (or a version of it) with Makie built in is a far worse solution than making it fast and easy for people to generate and use custom system images for the set of packages they’re using","user":"U6795JH6H","ts":"1617851419.427000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tC0nl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Shipping Julia (or a version of it) with Makie built in is a far worse solution than making it fast and easy for people to generate and use custom system images for the set of packages they’re using"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U8D9768Q6","U695B1S2X","U9L5Y89H7","UH24GRBLL","UAUPJLBQX"],"count":5},{"name":"+1::skin-tone-5","users":["U6QGE7S86"],"count":1}]},{"client_msg_id":"1a4a6354-aeac-463d-9c8f-32ec6e44335c","type":"message","text":"There's a good post ~~book~~ to be written on all the decisions in Julia that weren't made in the name of patience and holding out for a nicer design over time. Not bolting in a default plotting library sounds like one of those.","user":"U6QGE7S86","ts":"1617857602.429600","team":"T68168MUP","edited":{"user":"U6QGE7S86","ts":"1617857826.000000"},"blocks":[{"type":"rich_text","block_id":"T1BhR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's a good post ~~book~~ to be written on all the decisions in Julia that weren't made in the name of patience and holding out for a nicer design over time. Not bolting in a default plotting library sounds like one of those."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U01CQTKB86N","U6795JH6H"],"count":2}]},{"client_msg_id":"32824188-b04f-4946-a5a6-64343a4159c3","type":"message","text":"That said, there's also a post (or more) on places where we made the right decision for the compiler at the time (eg slicing returns copies), that if we could re-make the decisions, we'd go the other way (probably). And then, because you really can't win, there are the places where we didn't make a decision in hopes that a nicer design would appear and none has (as of yet).  As the saying goes: \"Predictions are hard. Especially ones about the future\"","user":"U0179G7FG4F","ts":"1617858974.430000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+=Fui","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That said, there's also a post (or more) on places where we made the right decision for the compiler at the time (eg slicing returns copies), that if we could re-make the decisions, we'd go the other way (probably). And then, because you really can't win, there are the places where we didn't make a decision in hopes that a nicer design would appear and none has (as of yet).  As the saying goes: \"Predictions are hard. Especially ones about the future\""}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"heavy_check_mark","users":["U6795JH6H"],"count":1}]},{"client_msg_id":"9e85c54e-8ea2-46e2-bb13-790ca5fc86ce","type":"message","text":"Yup, Julia's idealism is both admirable and frustrating","user":"UMDEUKM29","ts":"1617866578.431300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UGVt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yup, Julia's idealism is both admirable and frustrating"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"2b6de1d0-32cc-42aa-81cb-ab87eed07f43","type":"message","text":"I hope the views thing can be changed in 2.0","user":"UMDEUKM29","ts":"1617866637.431500","team":"T68168MUP","edited":{"user":"UMDEUKM29","ts":"1617866650.000000"},"blocks":[{"type":"rich_text","block_id":"Xrw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I hope the views thing can be changed in 2.0"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1FE89E73-D99E-4F39-B739-19189C27E0BB","type":"message","text":"What views thing?","user":"U6795JH6H","ts":"1617867425.432600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dCY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What views thing?"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"c1116b7b-7362-4e60-896d-2a7f3080fb97","type":"message","text":"Slices making views by default","user":"UMDEUKM29","ts":"1617867455.432800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vzx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Slices making views by default"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"4FD7A069-81C4-440F-AD08-BEF19F5E4BCA","type":"message","text":"maybe copy on write so that slices in views avoid allocations for read-only stuffs  and  allocates only when you write. ","user":"U6SHSF4R0","ts":"1617867715.436500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wz8b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe copy on write so that slices in views avoid allocations for read-only stuffs  and  allocates only when you write. "}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"b12539b7-18d7-4f21-9ab4-089b555eed35","type":"message","text":"Isn't Makie still broken with AMD GPUs on Linux? I could test, but it's been broken for years.","user":"UAUPJLBQX","ts":"1617869159.437900","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1617869182.000000"},"blocks":[{"type":"rich_text","block_id":"QMtn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Isn't Makie still broken with AMD GPUs on Linux? I could test, but it's been broken for years."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"edb37ef7-e79e-49f4-811f-0a0578f657f0","type":"message","text":"Yes, still broken:\n```(makie) pkg&gt; st\n      Status `~/Documents/progwork/julia/env/makie/Project.toml`\n  [ee78f7c6] Makie v0.12.0\n\njulia&gt; using Makie\n[ Info: Precompiling Makie [ee78f7c6-11fb-53f2-987a-cfe4a2b5a57a]\n\nsignal (11): Segmentation fault\nin expression starting at /home/chriselrod/.julia/packages/GLMakie/AHGzN/src/gl_backend.jl:1```","user":"UAUPJLBQX","ts":"1617869407.438400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FQngy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, still broken:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(makie) pkg> st\n      Status `~/Documents/progwork/julia/env/makie/Project.toml`\n  [ee78f7c6] Makie v0.12.0\n\njulia> using Makie\n[ Info: Precompiling Makie [ee78f7c6-11fb-53f2-987a-cfe4a2b5a57a]\n\nsignal (11): Segmentation fault\nin expression starting at /home/chriselrod/.julia/packages/GLMakie/AHGzN/src/gl_backend.jl:1"}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1b397601-598f-4e0b-86d7-47f5b451e632","type":"message","text":"Other backends work, but if you write code intending other people to be able to use it, I'd suggest avoiding the GL backend.","user":"UAUPJLBQX","ts":"1617869447.438600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W8k5d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Other backends work, but if you write code intending other people to be able to use it, I'd suggest avoiding the GL backend."}]}]}],"thread_ts":"1617835101.409600","parent_user_id":"U01AJUF2GEP"}]