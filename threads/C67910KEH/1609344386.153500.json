[{"client_msg_id":"2c9dd8f1-bf85-412f-ae07-a7a6ab31efe5","type":"message","text":"I really like 1-based indexing, but there was this was one time when It forced my hand in a way I didn't appreciate: <https://github.com/JuliaIO/PNGFiles.jl/blob/master/src/io.jl#L211>\nPaletted PNGs contain a vector of colors with up to 256 entries, the palette, and the image itself consists of indices to the palette -- so instead of 3 numbers for RGB, you can store just one UInt8 per pixel, yay! But If the palette contains 256 colors, and you use 1-based indexing, the largest index has value 256 which is not representable with UInt8.  So I had to switch to OffsetArrays for the pallet. Not a big deal, but it increased the complexity a little.","user":"U9YTNSWCA","ts":"1609344386.153500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZmI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I really like 1-based indexing, but there was this was one time when It forced my hand in a way I didn't appreciate: "},{"type":"link","url":"https://github.com/JuliaIO/PNGFiles.jl/blob/master/src/io.jl#L211"},{"type":"text","text":"\nPaletted PNGs contain a vector of colors with up to 256 entries, the palette, and the image itself consists of indices to the palette -- so instead of 3 numbers for RGB, you can store just one UInt8 per pixel, yay! But If the palette contains 256 colors, and you use 1-based indexing, the largest index has value 256 which is not representable with UInt8.  So I had to switch to OffsetArrays for the pallet. Not a big deal, but it increased the complexity a little."}]}]}],"thread_ts":"1609344386.153500","reply_count":4,"reply_users_count":3,"latest_reply":"1609353123.156400","reply_users":["UCCUV9K0S","U9YTNSWCA","U8D9768Q6"],"subscribed":false},{"client_msg_id":"c74ac7f0-43ff-4bd9-bb02-516037ad199a","type":"message","text":"Well. 256 entries is obviously indexable by UInt8. You just have to add a constant 1 of type UInt16 or so to it... So it's just not as convenient.","user":"UCCUV9K0S","ts":"1609344614.153600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4=t=R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well. 256 entries is obviously indexable by UInt8. You just have to add a constant 1 of type UInt16 or so to it... So it's just not as convenient."}]}]}],"thread_ts":"1609344386.153500","parent_user_id":"U9YTNSWCA"},{"client_msg_id":"69ec72de-4227-4656-96bc-d263b5ca3d49","type":"message","text":"Yes, this is how it ended up","user":"U9YTNSWCA","ts":"1609344677.153800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vLM+6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, this is how it ended up"}]}]}],"thread_ts":"1609344386.153500","parent_user_id":"U9YTNSWCA"},{"client_msg_id":"ed7835ab-b4ae-4460-83f2-e7bf13fa6ff7","type":"message","text":"Using UInt16 would double the size of the image, so OffsetArrays was well worth it, I think","user":"U9YTNSWCA","ts":"1609344734.154000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8eT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Using UInt16 would double the size of the image, so OffsetArrays was well worth it, I think"}]}]}],"thread_ts":"1609344386.153500","parent_user_id":"U9YTNSWCA","reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"E5D449FE-2EA0-4B2C-8B1F-1E1CC93FB4D5","type":"message","text":"IMO, no indexing style is going to be perfect for every situation and we shouldn’t expect that. Instead, we should pick a good default and then make tools so that other styles are well supported when needed ","user":"U8D9768Q6","ts":"1609353123.156400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6yQpy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IMO, no indexing style is going to be perfect for every situation and we shouldn’t expect that. Instead, we should pick a good default and then make tools so that other styles are well supported when needed "}]}]}],"thread_ts":"1609344386.153500","parent_user_id":"U9YTNSWCA"}]