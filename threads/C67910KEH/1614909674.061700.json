[{"client_msg_id":"ccc80a95-9764-4eae-99aa-a34358223eed","type":"message","text":"in Julia 1.5 is it possible to return multiple expressions with a single macro?","user":"UPUBAM63X","ts":"1614909674.061700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jdo2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in Julia 1.5 is it possible to return multiple expressions with a single macro?"}]}]}],"thread_ts":"1614909674.061700","reply_count":11,"reply_users_count":3,"latest_reply":"1614910525.063800","reply_users":["U67G3QRJM","UPUBAM63X","U8D9768Q6"],"subscribed":false},{"client_msg_id":"2dd4f3d2-fee2-420a-88f2-b59f1e5b6953","type":"message","text":"You can define multiple things in a single expression. What are you trying to do?","user":"U67G3QRJM","ts":"1614909844.061800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GjMx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can define multiple things in a single expression. What are you trying to do?"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"e6e2f7c5-1a0f-4854-9e3b-e113b4a8e578","type":"message","text":"```macro data_str(v)\n    struc = \"struct \" * v * \"\\n end\"\n    parse = split(v, \"\\n\")\n    type = strip(parse[1])\n    vars = parse[2:end]\n    fns = []\n    for var in vars\n        v,t = split(var, \"::\")\n        push!(fns, \"$v(x::$type)::$t = x.$v\\n\")\n    end\n    strucfns = Meta.parse.([struc, fns...])\n    return strucfns\nend\n\ndata\"\"\"cookies\n    a::Any\n    b::Int16\"\"\"```\n","user":"UPUBAM63X","ts":"1614909913.062000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OS5z2","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"macro data_str(v)\n    struc = \"struct \" * v * \"\\n end\"\n    parse = split(v, \"\\n\")\n    type = strip(parse[1])\n    vars = parse[2:end]\n    fns = []\n    for var in vars\n        v,t = split(var, \"::\")\n        push!(fns, \"$v(x::$type)::$t = x.$v\\n\")\n    end\n    strucfns = Meta.parse.([struc, fns...])\n    return strucfns\nend\n\ndata\"\"\"cookies\n    a::Any\n    b::Int16\"\"\""}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"38df1d12-e263-48eb-810a-c44c77df0f56","type":"message","text":"I want to have the string macro make a struct and predefine some accessor methods","user":"UPUBAM63X","ts":"1614909942.062200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uxk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to have the string macro make a struct and predefine some accessor methods"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"ea48a323-76c3-4fc5-80f6-46e16c50ac3a","type":"message","text":"You can only return one expression","user":"U8D9768Q6","ts":"1614910205.062400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R0A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can only return one expression"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"e35c9f0a-5b19-4b4e-b6d0-3e1bb05c321f","type":"message","text":"But expressions can contain expressions, so that never matters","user":"U8D9768Q6","ts":"1614910217.062600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xJNA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But expressions can contain expressions, so that never matters"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"b93a6900-0db5-4382-afaa-092761154e1b","type":"message","text":"Just return\n```quote\n   $struc\n   $constructor1\n   $constructor2\n   ...\nend```","user":"U8D9768Q6","ts":"1614910255.062800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eF7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just return\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"quote\n   $struc\n   $constructor1\n   $constructor2\n   ...\nend"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"4e331874-88b1-4c1e-a61e-706990fe27cc","type":"message","text":"yea but the constructors are in a list, do I need a macro to unpack those?","user":"UPUBAM63X","ts":"1614910274.063000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"flmNa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea but the constructors are in a list, do I need a macro to unpack those?"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"bc3446dc-bae8-457a-9064-afa287de9050","type":"message","text":"```Expr(:block, struc, strucfns...)```","user":"U8D9768Q6","ts":"1614910338.063200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1G9HE","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Expr(:block, struc, strucfns...)"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"bd9170d4-a9ec-45a9-b8e1-d924c97f0dbc","type":"message","text":"```julia&gt; macro data_str(v)\n           struc = \"struct \" * v * \"\\n end\"\n           parse = split(v, \"\\n\")\n           type = strip(parse[1])\n           vars = parse[2:end]\n           fns = []\n           for var in vars\n               v,t = split(var, \"::\")\n               push!(fns, \"$v(x::$type)::$t = x.$v\\n\")\n           end\n           strucfns = Meta.parse.([struc, fns...])\n           esc(Expr(:block, strucfns...))\n       end\n@data_str (macro with 1 method)\n\njulia&gt; @macroexpand data\"\"\"cookies\n           a::Any\n           b::Int16\"\"\"\nquote\n    struct cookies\n        #= none:2 =#\n        a::Any\n        #= none:3 =#\n        b::Int16\n    end\n    a(x::cookies)::Any = begin\n            #= none:1 =#\n            x.a\n        end\n    b(x::cookies)::Int16 = begin\n            #= none:1 =#\n            x.b\n        end\nend```","user":"U8D9768Q6","ts":"1614910442.063400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8CW","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> macro data_str(v)\n           struc = \"struct \" * v * \"\\n end\"\n           parse = split(v, \"\\n\")\n           type = strip(parse[1])\n           vars = parse[2:end]\n           fns = []\n           for var in vars\n               v,t = split(var, \"::\")\n               push!(fns, \"$v(x::$type)::$t = x.$v\\n\")\n           end\n           strucfns = Meta.parse.([struc, fns...])\n           esc(Expr(:block, strucfns...))\n       end\n@data_str (macro with 1 method)\n\njulia> @macroexpand data\"\"\"cookies\n           a::Any\n           b::Int16\"\"\"\nquote\n    struct cookies\n        #= none:2 =#\n        a::Any\n        #= none:3 =#\n        b::Int16\n    end\n    a(x::cookies)::Any = begin\n            #= none:1 =#\n            x.a\n        end\n    b(x::cookies)::Int16 = begin\n            #= none:1 =#\n            x.b\n        end\nend"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"374bdc3e-2ef9-4e94-b040-e03df5dde679","type":"message","text":"you are a sorcerer thank you!","user":"UPUBAM63X","ts":"1614910485.063600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jttG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you are a sorcerer thank you!"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X"},{"client_msg_id":"fdab1fd2-70b9-4b54-9547-710b27cbd552","type":"message","text":"Happy to help!","user":"U8D9768Q6","ts":"1614910525.063800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MXDgE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Happy to help!"}]}]}],"thread_ts":"1614909674.061700","parent_user_id":"UPUBAM63X","reactions":[{"name":"dancingunicorn","users":["UPUBAM63X"],"count":1},{"name":"party_wizard","users":["UPUBAM63X"],"count":1},{"name":"gopher_dance","users":["UPUBAM63X"],"count":1}]}]