[{"client_msg_id":"6c9f60a2-0e1c-4205-ac99-5391ee611a31","type":"message","text":"I have been pair programming Julia with a colleague, with Python background using a very TDD oriented approach. But my Julia habits are very REPL oriented in contrast. This does not seems to mesh well. The frequent test running he wants to do, does not seem to mesh well with Julia. This makes me wonder, how does the average Julia developer work? How many do TDD? Who does more REPL style development like me? Or something else? And if you do TDD, then how to you make that work well with Julia?","user":"UTJT285RN","ts":"1611174703.219700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7fdW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have been pair programming Julia with a colleague, with Python background using a very TDD oriented approach. But my Julia habits are very REPL oriented in contrast. This does not seems to mesh well. The frequent test running he wants to do, does not seem to mesh well with Julia. This makes me wonder, how does the average Julia developer work? How many do TDD? Who does more REPL style development like me? Or something else? And if you do TDD, then how to you make that work well with Julia?"}]}]}],"thread_ts":"1611174703.219700","reply_count":55,"reply_users_count":10,"latest_reply":"1611311115.067400","reply_users":["U6795JH6H","UDB26738Q","UDGT4PM41","UTJT285RN","U019K6Q9N15","U0179G7FG4F","USU9FRPEU","U66SGEWAC","U68UUUFPS","UQG7Y0XCP"],"subscribed":false},{"client_msg_id":"dc505901-55ec-4295-9e69-540cb777305a","type":"message","text":"I do TDD in the REPL","user":"U6795JH6H","ts":"1611174783.220200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q6ql","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I do TDD in the REPL"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"3a12ae08-13e8-4058-9689-4c76ae48a18b","type":"message","text":"as described here: <https://julialang.slack.com/archives/C67910KEH/p1611174522215400?thread_ts=1611173896.212100&amp;cid=C67910KEH>","user":"U6795JH6H","ts":"1611174801.220400","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C67910KEH/p1611174522215400?thread_ts=1611173896.212100&amp;cid=C67910KEH","fallback":"[January 20th, 2021 12:28 PM] stefan: the way I do this is that I split my tests into `test/setup.jl` with all the things that are needed by tests and `test/runtests.jl` that includes that and then the tests themselves","ts":"1611174522.215400","author_id":"U6795JH6H","author_subname":"Stefan Karpinski","channel_id":"C67910KEH","channel_name":"general","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"the way I do this is that I split my tests into `test/setup.jl` with all the things that are needed by tests and `test/runtests.jl` that includes that and then the tests themselves","author_name":"Stefan Karpinski","author_link":"https://julialang.slack.com/team/U6795JH6H","author_icon":"https://avatars.slack-edge.com/2019-01-16/525522202114_0b4296a67c6f8fd4c522_48.jpg","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C67910KEH/p1611174522215400?thread_ts=1611173896.212100&amp;cid=C67910KEH","footer":"From a thread in #general"}],"blocks":[{"type":"rich_text","block_id":"0aUnA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"as described here: "},{"type":"link","url":"https://julialang.slack.com/archives/C67910KEH/p1611174522215400?thread_ts=1611173896.212100&cid=C67910KEH"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"a2ecc898-fcfb-4a41-b8c4-5e10c15fb6b3","type":"message","text":"it’s not strictly TDD since I don’t sit down and write all the tests first, but that’s always struck me as a strange way to work","user":"U6795JH6H","ts":"1611174844.220700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q3fcZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s not strictly TDD since I don’t sit down and write all the tests first, but that’s always struck me as a strange way to work"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"f19cd0db-40f7-42e8-90e8-86912d5d43f6","type":"message","text":"<@UTJT285RN> do you know the guy above by any chance? :sweat_smile:","user":"UDB26738Q","ts":"1611174897.220900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EpG5Q","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTJT285RN"},{"type":"text","text":" do you know the guy above by any chance? "},{"type":"emoji","name":"sweat_smile"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"f78fb7ea-af83-4c40-9f5b-a4b37c00537a","type":"message","text":"Yes sounds like the same guy","user":"UDGT4PM41","ts":"1611174955.221200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"90GH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes sounds like the same guy"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"88f43c0b-fe1b-407a-abd2-aad19ed50c48","type":"message","text":"Hahaha that was pretty funny. I didn't even notice his tweet was being referenced when I wrote the question","user":"UTJT285RN","ts":"1611175009.221400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ieY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hahaha that was pretty funny. I didn't even notice his tweet was being referenced when I wrote the question"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"939ef550-33be-4da7-ac24-ee95f02f935f","type":"message","text":"I do TDD. I have a containerized process that runs my units on code-change.","user":"U019K6Q9N15","ts":"1611175041.221800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bgJ1f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I do TDD. I have a containerized process that runs my units on code-change."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"2403a4b1-b820-4e5a-8210-374782fd5699","type":"message","text":"Does he know Revise?","user":"UDB26738Q","ts":"1611175041.222000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fG6C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does he know Revise?"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"2585bde5-3417-4bc6-b4b4-33025a181e14","type":"message","text":"Yeah we are pair programming so I am able to give advice on stuff like Revise. The problem for me is giving good advice on TDD best practices in Julia, since that is not how I program. I use the REPL to evolve my code and then write tests after that. I don't run tests really frequently.","user":"UTJT285RN","ts":"1611175229.222600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZwS6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah we are pair programming so I am able to give advice on stuff like Revise. The problem for me is giving good advice on TDD best practices in Julia, since that is not how I program. I use the REPL to evolve my code and then write tests after that. I don't run tests really frequently."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"22e4ef5b-e800-4497-8804-44742da8862e","type":"message","text":"<@U6795JH6H> Thanks for the suggestions. I write tests after a number of iterations in the REPL, but my colleague likes to write a test first for a function, run test, see that it fails. Implement most basic version of function. Run test to see that it passes. Then add more tests to test more aspects of the function. Then run test again. It causes a lot iterations. Especially doing `pkg&gt; test` is way too slow for such an approach to development.","user":"UTJT285RN","ts":"1611175421.223700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BpI","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" Thanks for the suggestions. I write tests after a number of iterations in the REPL, but my colleague likes to write a test first for a function, run test, see that it fails. Implement most basic version of function. Run test to see that it passes. Then add more tests to test more aspects of the function. Then run test again. It causes a lot iterations. Especially doing "},{"type":"text","text":"pkg> test","style":{"code":true}},{"type":"text","text":" is way too slow for such an approach to development."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"28fb8cc1-baf2-43f4-9f57-97b3f7db4ec5","type":"message","text":"doing `using Revise; include(\"test/setup.jl\")` and then editing the function definition and iteratively evaluating individual tests is very painless","user":"U6795JH6H","ts":"1611175490.223900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TON","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"doing "},{"type":"text","text":"using Revise; include(\"test/setup.jl\")","style":{"code":true}},{"type":"text","text":" and then editing the function definition and iteratively evaluating individual tests is very painless"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"2c52c8c5-e4e6-497c-b48d-daac4ae8547f","type":"message","text":"<@U019K6Q9N15> Could you explain this a bit more? Not sure I get how you pull that off.","user":"UTJT285RN","ts":"1611175516.224100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Shhf","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U019K6Q9N15"},{"type":"text","text":" Could you explain this a bit more? Not sure I get how you pull that off."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"ad396d74-9323-499d-86f7-2d21f1e23992","type":"message","text":"I thought test-driven development would always involve a few iterations. I'm not sure I understand what are the expectations here","user":"UDB26738Q","ts":"1611175591.224700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vIO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought test-driven development would always involve a few iterations. I'm not sure I understand what are the expectations here"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"f3af94ef-3f96-4748-93ff-a2481fb84ba3","type":"message","text":"<@U6795JH6H> I did suggest copy pasting the test into the REPL, as that is what I typically do, but he found this a bit primitive. But I saw a suggestion in your thread about putting each test in a function which you can run from the REPL. That looked like an approach he may like.","user":"UTJT285RN","ts":"1611175633.225000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hj3jO","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" I did suggest copy pasting the test into the REPL, as that is what I typically do, but he found this a bit primitive. But I saw a suggestion in your thread about putting each test in a function which you can run from the REPL. That looked like an approach he may like."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"type":"message","text":"¯\\_(ツ)_/¯","user":"U6795JH6H","ts":"1611175663.225300","team":"T68168MUP","thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"0607ae99-88d5-4b6b-944b-b6566bfa10a2","type":"message","text":"some people say “primitive”, I say “maximally flexible with minimal annoyance”","user":"U6795JH6H","ts":"1611175688.225500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UrF8z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"some people say “primitive”, I say “maximally flexible with minimal annoyance”"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"10197a2e-3588-4aee-b384-c95f279d7f1f","type":"message","text":"<@UTJT285RN> My workflow isn't particularly fast-- just saves me from having to manually invoke my tests. I've always thought that this might be accomplish-able with Revise, but I've never given it much thought (also seemed like apparently Revise has some fundamental limitations on what code it can detect changed?). Anyways, just use a file-watching service like watchman on the source directory and hook it up to your test-runner.","user":"U019K6Q9N15","ts":"1611175722.225900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B6+b","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTJT285RN"},{"type":"text","text":" My workflow isn't particularly fast-- just saves me from having to manually invoke my tests. I've always thought that this might be accomplish-able with Revise, but I've never given it much thought (also seemed like apparently Revise has some fundamental limitations on what code it can detect changed?). Anyways, just use a file-watching service like watchman on the source directory and hook it up to your test-runner."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"a3c387e4-8da8-4bde-a94a-e6f49f92dc9a","type":"message","text":"<@U6795JH6H> Hehehe yeah... it is difficult with the different mindset and expectations one comes into these things.  But it is a useful lesson for me as I try to find good ways of teaching people Julia. Often people have such different expectations of how things should work from me.","user":"UTJT285RN","ts":"1611175842.226400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r2Jm","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" Hehehe yeah... it is difficult with the different mindset and expectations one comes into these things.  But it is a useful lesson for me as I try to find good ways of teaching people Julia. Often people have such different expectations of how things should work from me."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"ebf02c43-2507-47a9-8990-8e2449d53ec6","type":"message","text":"I generally have two modes of interacting with tests:\n1. run them all and make sure they all work; for this `] test` is perfect\n2. debugging why one particular test is failing; for this `using Revise; include(\"test/setup.jl\")` followed by using the REPL is perfect","user":"U6795JH6H","ts":"1611175940.226600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8gCu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I generally have two modes of interacting with tests:\n1. run them all and make sure they all work; for this "},{"type":"text","text":"] test","style":{"code":true}},{"type":"text","text":" is perfect\n2. debugging why one particular test is failing; for this "},{"type":"text","text":"using Revise; include(\"test/setup.jl\")","style":{"code":true}},{"type":"text","text":" followed by using the REPL is perfect"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"5ffaeac8-80ed-4d49-a833-31ed85eab5f9","type":"message","text":"<@U019K6Q9N15> ok so you just use watchman to run `julia test/runtests.jl?` Thanks for the tip. That sounds like a kind of cool idea. Although I personally don't feel much need to personally run stuff all the time. But others may see this as a useful way of doing it.","user":"UTJT285RN","ts":"1611176174.227100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oshla","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U019K6Q9N15"},{"type":"text","text":" ok so you just use watchman to run "},{"type":"text","text":"julia test/runtests.jl?","style":{"code":true}},{"type":"text","text":" Thanks for the tip. That sounds like a kind of cool idea. Although I personally don't feel much need to personally run stuff all the time. But others may see this as a useful way of doing it."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN","reactions":[{"name":"ok_hand","users":["U019K6Q9N15"],"count":1}]},{"client_msg_id":"74a9e963-83b5-4c2b-b7ce-d5e82de757be","type":"message","text":"I think what really tripped us up was creating unit tests for a rest server based on HTTP.jl. Spinning up a server on each test seemed to make the whole thing even slower.","user":"UTJT285RN","ts":"1611176339.227600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Yp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think what really tripped us up was creating unit tests for a rest server based on HTTP.jl. Spinning up a server on each test seemed to make the whole thing even slower."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"55d6482e-2bf4-4e33-88a2-28d28e1d9c6e","type":"message","text":"One other highly interactive test workflow that might be worth considering is a pluto notebook. If you have both your tests and functions in one, updating your function should cause the test to realize that a dependency has changed and re-run the test automatically","user":"U0179G7FG4F","ts":"1611176398.227800","team":"T68168MUP","edited":{"user":"U0179G7FG4F","ts":"1611176413.000000"},"blocks":[{"type":"rich_text","block_id":"Q2F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One other highly interactive test workflow that might be worth considering is a pluto notebook. If you have both your tests and functions in one, updating your function should cause the test to realize that a dependency has changed and re-run the test automatically"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"fcb78f36-1d3d-446f-ab9b-ff71a3e5ea2e","type":"message","text":"what does into `test/setup.jl`  Stefan? Is that like fixtures, or helper functions? My friend seemed to prefer getting stuff re-initialized per test. I guess I am not that strict about this.","user":"UTJT285RN","ts":"1611176451.228100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h9BQk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does into "},{"type":"text","text":"test/setup.jl ","style":{"code":true}},{"type":"text","text":" Stefan? Is that like fixtures, or helper functions? My friend seemed to prefer getting stuff re-initialized per test. I guess I am not that strict about this."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"8eb4c759-403f-46fa-ad4e-6ddfc8fac32a","type":"message","text":"If I'm doing unit testing in Java, it's all about the IDE. Trying to use junit from the console is a pain.\n\nIn Julia, I just highlight the `@testset` in VSCode and press \"Ctrl + Enter\". That makes the \"copy and paste\" thing a bit easier. It looks like <@U68UUUFPS> may have also starting think about this using \"Alt + Enter\" for `@testset` block execution:\n<https://github.com/julia-vscode/julia-vscode/issues/1869>","user":"USU9FRPEU","ts":"1611176461.228300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U8p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I'm doing unit testing in Java, it's all about the IDE. Trying to use junit from the console is a pain.\n\nIn Julia, I just highlight the "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":" in VSCode and press \"Ctrl + Enter\". That makes the \"copy and paste\" thing a bit easier. It looks like "},{"type":"user","user_id":"U68UUUFPS"},{"type":"text","text":" may have also starting think about this using \"Alt + Enter\" for "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":" block execution:\n"},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/issues/1869"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"6694e343-ac02-4db6-97b7-857b8681cf63","type":"message","text":"Yeah I was thinking about maybe doing this as we are using VSCode. I am just not in the habit as I use TextMate and don't mind copy-pasting into the REPL. But this may appeal more to people with a more IDE mindset.","user":"UTJT285RN","ts":"1611176606.228700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s9K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I was thinking about maybe doing this as we are using VSCode. I am just not in the habit as I use TextMate and don't mind copy-pasting into the REPL. But this may appeal more to people with a more IDE mindset."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"965dc4a6-9084-4222-88bd-5c83f7e0c5c2","type":"message","text":"I'm always using VSCode, which makes it super easy to run single testsets... Just put the cursor inside it and `run block` and BOOM :wink: Then just edit the failing functions interactively... It's a pretty smooth workflow that makes it hard to justify putting work into anything more magical / automatic :smile:","user":"U66SGEWAC","ts":"1611176841.230000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NFIJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm always using VSCode, which makes it super easy to run single testsets... Just put the cursor inside it and "},{"type":"text","text":"run block","style":{"code":true}},{"type":"text","text":" and BOOM "},{"type":"emoji","name":"wink"},{"type":"text","text":" Then just edit the failing functions interactively... It's a pretty smooth workflow that makes it hard to justify putting work into anything more magical / automatic "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"8a2f0eda-0e71-409c-ac73-d34515f5a7d1","type":"message","text":"Ok, so I'm realizing now that some folks _like_ it that Alt+Enter runs the entire `@testset`, whereas I was proposing to stop that behavior and have Alt+Enter in VS Code step through `@testset` s line by line :slightly_smiling_face:","user":"U68UUUFPS","ts":"1611178093.235800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8gFn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, so I'm realizing now that some folks "},{"type":"text","text":"like","style":{"italic":true}},{"type":"text","text":" it that Alt+Enter runs the entire "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":", whereas I was proposing to stop that behavior and have Alt+Enter in VS Code step through "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":" s line by line "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"5595e98f-976d-4196-b9a9-1ca5479fc473","type":"message","text":"So we might need an option...","user":"U68UUUFPS","ts":"1611178105.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qlq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So we might need an option..."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"29ee31bc-3ff0-42eb-8e18-70c9ab143983","type":"message","text":"<@U68UUUFPS> I am not sure I understand why one would want to step through the test set line by line. For debugging purposes? To see what specifically is going wrong?","user":"UTJT285RN","ts":"1611178177.237600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sKiq","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68UUUFPS"},{"type":"text","text":" I am not sure I understand why one would want to step through the test set line by line. For debugging purposes? To see what specifically is going wrong?"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"3f702139-5d7d-4a27-ad6d-93909209507c","type":"message","text":"Yes, essentially debugging","user":"U68UUUFPS","ts":"1611178197.237800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qkGyx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, essentially debugging"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"961c6edd-38b8-4f2c-9c85-d604cf64a6cb","type":"message","text":"<@U66SGEWAC> I'll try your approach that sound smooth. What is the key combo for that? I don't use VSCode much.","user":"UTJT285RN","ts":"1611178215.238000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X9O","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66SGEWAC"},{"type":"text","text":" I'll try your approach that sound smooth. What is the key combo for that? I don't use VSCode much."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"d1ee121a-3e12-4e09-9023-116752a0f54b","type":"message","text":"Or rather, actually, I guess for running subsets of tests... I always put one gigantic `@testset` around everything, so for me Alt+Enter just always runs all tests.","user":"U68UUUFPS","ts":"1611178244.238400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kFe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or rather, actually, I guess for running subsets of tests... I always put one gigantic "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":" around everything, so for me Alt+Enter just always runs all tests."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"b16cb539-e274-4d75-a281-8b092dcd1241","type":"message","text":"ah... I usually have:\n```@testset \"Test for my Pkg\" begin\ninclude(\"test1.jl\")\ninclude(\"test2.jl\")\nend```","user":"U66SGEWAC","ts":"1611178295.239100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Iq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah... I usually have:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@testset \"Test for my Pkg\" begin\ninclude(\"test1.jl\")\ninclude(\"test2.jl\")\nend"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"a4f26bab-d408-481f-9cb1-8ab1ad7b250d","type":"message","text":"with `test1.jl`  containing lots of small testsets","user":"U66SGEWAC","ts":"1611178310.239500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QIGb9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with "},{"type":"text","text":"test1.jl","style":{"code":true}},{"type":"text","text":"  containing lots of small testsets"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"0357eb95-d44d-4de1-ac60-50c538a2d680","type":"message","text":"What if you nest `@testset` ? Will it run everything even if you put cursor inside a nested subset?","user":"UTJT285RN","ts":"1611178320.239700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YUjcB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What if you nest "},{"type":"text","text":"@testset","style":{"code":true}},{"type":"text","text":" ? Will it run everything even if you put cursor inside a nested subset?"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"02de6418-e36d-4f2e-b706-f681cddeab4b","type":"message","text":"Yes, that is the current behavior. Find the most outer block, run that.","user":"U68UUUFPS","ts":"1611178338.239900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"syHcT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that is the current behavior. Find the most outer block, run that."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"f0964dc0-a798-4dbd-a3c4-8b2862e05845","type":"message","text":"yeah... in that case I just select parts of the testset... but I usually keep my testsets pretty small inside the modular files, so it's mostly fine :smile:","user":"U66SGEWAC","ts":"1611178360.240100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d8O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah... in that case I just select parts of the testset... but I usually keep my testsets pretty small inside the modular files, so it's mostly fine "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"73235ea0-e73a-41ff-82e5-15b0ed3a8211","type":"message","text":"The other thing that we should really add is easy support for debugging tests. Say a command \"Run tests in the debugger\". And then it just automatically runs everything properly set up in the debugger.","user":"U68UUUFPS","ts":"1611178429.240600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"waA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The other thing that we should really add is easy support for debugging tests. Say a command \"Run tests in the debugger\". And then it just automatically runs everything properly set up in the debugger."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN","reactions":[{"name":"+1","users":["USU9FRPEU","UTJT285RN"],"count":2}]},{"client_msg_id":"57f465bc-9155-4f6d-bc28-0fd8db8e9ae2","type":"message","text":"How do I make Revise apply to the module I am testing when using VSCode? Usually in the REPL, I load Revise first and then the module I want to watch changes to. Is it the same in VSCode? Or does it have some extra tricks up its sleeve to automate this?","user":"UTJT285RN","ts":"1611178928.241100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8d=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I make Revise apply to the module I am testing when using VSCode? Usually in the REPL, I load Revise first and then the module I want to watch changes to. Is it the same in VSCode? Or does it have some extra tricks up its sleeve to automate this?"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"99fcf297-9b8b-4594-8118-a2a35690693a","type":"message","text":"The VSCode REPL loads Revise by default.","user":"USU9FRPEU","ts":"1611178983.241400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YtT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The VSCode REPL loads Revise by default."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"1e3f4e47-90e0-4748-ac5e-2cd94a248968","type":"message","text":"The next question then is how do you like to load the module you are working on.","user":"USU9FRPEU","ts":"1611179062.241600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f/Rj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The next question then is how do you like to load the module you are working on."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"e6955ab0-7dcd-4243-84ee-f5173d254d73","type":"message","text":"<@U66SGEWAC> I tried your approach now with our tests using your Alt-Right key combo. This works really well! I think this is the way to sell testing in Julia to beginners.","user":"UTJT285RN","ts":"1611179148.241800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LgC","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66SGEWAC"},{"type":"text","text":" I tried your approach now with our tests using your Alt-Right key combo. This works really well! I think this is the way to sell testing in Julia to beginners."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN","reactions":[{"name":"heart","users":["U66SGEWAC","USU9FRPEU"],"count":2}]},{"client_msg_id":"85895b06-0c1d-428f-94a2-ab27af5def54","type":"message","text":"<@USU9FRPEU> Yeah so how do you typically do that? `using MyModule` in the REPL ?","user":"UTJT285RN","ts":"1611179230.242200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"un5Cy","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"USU9FRPEU"},{"type":"text","text":" Yeah so how do you typically do that? "},{"type":"text","text":"using MyModule","style":{"code":true}},{"type":"text","text":" in the REPL ?"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"6ab9e2ee-ec69-4c92-8c28-62a11c4a2088","type":"message","text":"I actually have revise disabled in VSCode and just directly eval the code inside the modules (also with `run block` ) ... It seems more complicated, but I just can't get used to the magic of Revise just picking up all changes on save :smile:","user":"U66SGEWAC","ts":"1611179285.242400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0D=xt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I actually have revise disabled in VSCode and just directly eval the code inside the modules (also with "},{"type":"text","text":"run block","style":{"code":true}},{"type":"text","text":" ) ... It seems more complicated, but I just can't get used to the magic of Revise just picking up all changes on save "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"a793da43-d5d6-44ea-bd2c-879ec5719937","type":"message","text":"My workflow is non-canonical because I add the VSCode workspace to Julia's `LOAD_PATH` via this in my Julia extension's settings.json:\n\n```    \"terminal.integrated.env.windows\": {\n        \"JULIA_LOAD_PATH\":\"${workspaceFolder};\"\n    },```","user":"USU9FRPEU","ts":"1611179344.242600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AFMt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My workflow is non-canonical because I add the VSCode workspace to Julia's "},{"type":"text","text":"LOAD_PATH","style":{"code":true}},{"type":"text","text":" via this in my Julia extension's settings.json:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    \"terminal.integrated.env.windows\": {\n        \"JULIA_LOAD_PATH\":\"${workspaceFolder};\"\n    },"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"858231b7-4acf-402f-8185-62f6a0866526","type":"message","text":"and then do `using MyModule` . That helps for more casual usage if you're not developing a full package.","user":"USU9FRPEU","ts":"1611179407.242800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rnL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and then do "},{"type":"text","text":"using MyModule","style":{"code":true}},{"type":"text","text":" . That helps for more casual usage if you're not developing a full package."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"545443e0-9d6d-44b1-a799-291987ee0e8b","type":"message","text":"Otherwise if you have a Project.toml configured, I think VSCode initializes the workspace folder as the current project. ( as in `julia --project .` )","user":"USU9FRPEU","ts":"1611179482.243000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZUI5Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Otherwise if you have a Project.toml configured, I think VSCode initializes the workspace folder as the current project. ( as in "},{"type":"text","text":"julia --project .","style":{"code":true}},{"type":"text","text":" )"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"8c0a5f10-aa98-4634-a45f-a8889eda3bbf","type":"message","text":"That worked well for doing something like Advent of Code where I wanted to keep each day's code in a module, but didn't want to create a full blown project for each day. <https://github.com/mkitti/advent_of_code_2020>","user":"USU9FRPEU","ts":"1611179586.243300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=s0=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That worked well for doing something like Advent of Code where I wanted to keep each day's code in a module, but didn't want to create a full blown project for each day. "},{"type":"link","url":"https://github.com/mkitti/advent_of_code_2020"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"35ff9923-3c7b-4a3b-89db-104999aca9b5","type":"message","text":"The more canonical thing for using modules like that would be  `includet(\"MyModule.jl\")` and then `using .MyModule` . `includet` is from Revise.","user":"USU9FRPEU","ts":"1611180055.244400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FM1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The more canonical thing for using modules like that would be  "},{"type":"text","text":"includet(\"MyModule.jl\")","style":{"code":true}},{"type":"text","text":" and then "},{"type":"text","text":"using .MyModule","style":{"code":true}},{"type":"text","text":" . "},{"type":"text","text":"includet","style":{"code":true}},{"type":"text","text":" is from Revise."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"58ee5fe8-37a9-432b-9669-780926d5ffd8","type":"message","text":"<@USU9FRPEU> Thanks for a  lot of useful tips. I don't understand how `julia --project .` works though.  When I do that inside one of my modules I get:\n```ERROR: could not open file ~/Development/LittleManComputer/\nStacktrace:\n [1] include(::Function, ::Module, ::String) at ./Base.jl:380\n [2] include(::Module, ::String) at ./Base.jl:368\n [3] exec_options(::Base.JLOptions) at ./client.jl:296\n [4] _start() at ./client.jl:506```\n","user":"UTJT285RN","ts":"1611212375.002800","team":"T68168MUP","edited":{"user":"UTJT285RN","ts":"1611212442.000000"},"blocks":[{"type":"rich_text","block_id":"0FhLm","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"USU9FRPEU"},{"type":"text","text":" Thanks for a  lot of useful tips. I don't understand how "},{"type":"text","text":"julia --project . ","style":{"code":true}},{"type":"text","text":"works though.  When I do that inside one of my modules I get:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: could not open file ~/Development/LittleManComputer/\nStacktrace:\n [1] include(::Function, ::Module, ::String) at ./Base.jl:380\n [2] include(::Module, ::String) at ./Base.jl:368\n [3] exec_options(::Base.JLOptions) at ./client.jl:296\n [4] _start() at ./client.jl:506"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"d66c8749-eebe-42a4-9540-76ee11a50bb9","type":"message","text":"Well you need a Project.toml ... so `]generate` or `Pkg.generate`","user":"USU9FRPEU","ts":"1611214123.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i/M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well you need a Project.toml ... so "},{"type":"text","text":"]generate","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"Pkg.generate","style":{"code":true}}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"bdefc6f3-ecd7-40fb-8859-645f0c0a3b21","type":"message","text":"oh and you need `julia --project=.`","user":"USU9FRPEU","ts":"1611214206.003900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uQrd9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh and you need "},{"type":"text","text":"julia --project=.","style":{"code":true}}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"1e920049-11d0-4743-805a-abf16f53d6b9","type":"message","text":"Yeah the `=` symbol was the missing secret sauce. I got it working. Thanks <@USU9FRPEU>","user":"UTJT285RN","ts":"1611267942.037300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"83D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah the "},{"type":"text","text":"=","style":{"code":true}},{"type":"text","text":" symbol was the missing secret sauce. I got it working. Thanks "},{"type":"user","user_id":"USU9FRPEU"}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN","reactions":[{"name":"+1","users":["USU9FRPEU"],"count":1}]},{"client_msg_id":"4135af2a-ccc3-4fb7-afcf-aeabd897de2a","type":"message","text":"What I do is to create a file for each testset and then conditionally include the tests in `runtests.jl` based on some variable like `TESTALL`, `TESTUNIT`, `TESTE2E`, and more. Before running `] test` I set properly the variables. Needs some extra effort but it just works. I guess anyone can write a bunch of `if`s.","user":"UQG7Y0XCP","ts":"1611310744.067200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IRfMe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What I do is to create a file for each testset and then conditionally include the tests in "},{"type":"text","text":"runtests.jl","style":{"code":true}},{"type":"text","text":" based on some variable like "},{"type":"text","text":"TESTALL","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"TESTUNIT","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"TESTE2E","style":{"code":true}},{"type":"text","text":", and more. Before running "},{"type":"text","text":"] test","style":{"code":true}},{"type":"text","text":" I set properly the variables. Needs some extra effort but it just works. I guess anyone can write a bunch of "},{"type":"text","text":"if","style":{"code":true}},{"type":"text","text":"s."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"},{"client_msg_id":"6098e1f8-8014-4256-9848-28753a603785","type":"message","text":"An issue with <@U6795JH6H>'s workflow above may happen when you deactivate logging before testing and reactivate it after.","user":"UQG7Y0XCP","ts":"1611311115.067400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uQ1Gs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"An issue with "},{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":"'s workflow above may happen when you deactivate logging before testing and reactivate it after."}]}]}],"thread_ts":"1611174703.219700","parent_user_id":"UTJT285RN"}]