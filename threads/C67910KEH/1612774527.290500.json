[{"client_msg_id":"d7b773a6-42b2-4df4-9e18-8ee778717d83","type":"message","text":"Does julia have any plans (even in the long run) to build its own compiler？\n\nEdit：No, I guess","user":"U01AJUF2GEP","ts":"1612774527.290500","team":"T68168MUP","edited":{"user":"U01AJUF2GEP","ts":"1612784217.000000"},"blocks":[{"type":"rich_text","block_id":"AL1GT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does julia have any plans (even in the long run) to build its own compiler？\n\nEdit：No, I guess"}]}]}],"thread_ts":"1612774527.290500","reply_count":35,"reply_users_count":4,"latest_reply":"1612809204.310000","reply_users":["UH24GRBLL","U6CJRSR63","UDD5Z7FLZ","UKA81L34J"],"subscribed":false},{"client_msg_id":"c66655eb-631e-47df-98de-afd329ee13f1","type":"message","text":"what do you mean by that?","user":"UH24GRBLL","ts":"1612774606.290600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tjIP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you mean by that?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"c3a36f1d-540b-481e-b29b-2ff296e4b43d","type":"message","text":"julia already has a compiler..?","user":"UH24GRBLL","ts":"1612774615.290800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pmi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia already has a compiler..?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"e0022064-f14d-449a-a913-24011d67d31b","type":"message","text":"There's a significant chance op is talking about bootstrapping Julia","user":"U6CJRSR63","ts":"1612775527.291100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HXU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's a significant chance op is talking about bootstrapping Julia"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP","reactions":[{"name":"+1","users":["U01AJUF2GEP"],"count":1}]},{"client_msg_id":"cdcf5f83-9be3-4933-b385-f4bfb8ff7f33","type":"message","text":"Yeah... that's probably not going to happen","user":"UH24GRBLL","ts":"1612775561.291400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7H6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah... that's probably not going to happen"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"870c4ce0-69b0-4a47-a613-ddc6480fecef","type":"message","text":"I was confused because julia already has a compiler, it just targets LLVM instead of a specific CPU architecture","user":"UH24GRBLL","ts":"1612775598.291600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vrx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was confused because julia already has a compiler, it just targets LLVM instead of a specific CPU architecture"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"5d91d468-22fd-4625-bbbd-0cac3d60ab41","type":"message","text":"No.","user":"UDD5Z7FLZ","ts":"1612775663.291800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"57K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No."}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"bb2d7fbb-353a-4743-b114-b6b33c53be9b","type":"message","text":"How could Julia build its own compiler? It can’t compile to binary?\n\n(not standoff-ish, just curious)","user":"UKA81L34J","ts":"1612806042.296300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Juc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How could Julia build its own compiler? It can’t compile to binary?\n\n(not standoff-ish, just curious)"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"226baf98-110e-4a7b-ba35-72c5a4cfad1a","type":"message","text":"sure it can","user":"UH24GRBLL","ts":"1612806194.296500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NTFad","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sure it can"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"9289d703-47de-41af-95f5-b8ff657974aa","type":"message","text":"have you heard of PackageCompiler.jl?","user":"UH24GRBLL","ts":"1612806229.296700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8NaY4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"have you heard of PackageCompiler.jl?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"ab75add2-e6f0-40cc-abb4-6c4db797e0d8","type":"message","text":"that basically invokes existing compiler infrastructure to spit out a standalone binary (or a new sysimage)","user":"UH24GRBLL","ts":"1612806257.296900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9B30/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that basically invokes existing compiler infrastructure to spit out a standalone binary (or a new sysimage)"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"76006587-3fbc-479a-8fbd-6c7c84f39046","type":"message","text":"the problem with building a e.g. julia -&gt; x86 compiler instead of a julia -&gt; LLVM IR (and subsequently -&gt; x86) compiler is that LLVM has so many useful optimizations and CPU architecture specific tricks that not using it would (primarily) lead to huge regressions in execution speed. there's also the problem that a (very small) part of julia is not written in julia, so you'd have to bootstrap that as well","user":"UH24GRBLL","ts":"1612806375.297100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sxsMU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the problem with building a e.g. julia -> x86 compiler instead of a julia -> LLVM IR (and subsequently -> x86) compiler is that LLVM has so many useful optimizations and CPU architecture specific tricks that not using it would (primarily) lead to huge regressions in execution speed. there's also the problem that a (very small) part of julia is not written in julia, so you'd have to bootstrap that as well"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"75453d90-c1e4-46fd-beb7-c44ed474c838","type":"message","text":"it’s not a binary — it’s a new Julia sysimage with the package baked in?","user":"UKA81L34J","ts":"1612808359.302200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KY8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s not a binary — it’s a new Julia sysimage with the package baked in?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"deed2766-5b64-4dd1-b411-447dfa4cef8d","type":"message","text":"Using PackageCompiler, you’d get Julia baked into … Julia ?","user":"UKA81L34J","ts":"1612808373.302400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xf6qV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Using PackageCompiler, you’d get Julia baked into … Julia ?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"4522f67b-4cbd-4857-8e68-3462e4ebfd33","type":"message","text":"if you wrote the compiler in Julia","user":"UKA81L34J","ts":"1612808382.302700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VpPVb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you wrote the compiler in Julia"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"a8413234-85c3-4d8e-9eaa-2234a79340e9","type":"message","text":"Unless you mean the “app” functionality","user":"UKA81L34J","ts":"1612808410.303100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f0PK3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Unless you mean the “app” functionality"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1d58f0e5-81ee-4c95-abe4-18b25d7fbda7","type":"message","text":"I am indeed talking about the `app` functionality","user":"UH24GRBLL","ts":"1612808515.304800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aXOF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am indeed talking about the "},{"type":"text","text":"app","style":{"code":true}},{"type":"text","text":" functionality"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1907f41b-99db-4060-a53f-c36a082797bd","type":"message","text":"ah, right","user":"UKA81L34J","ts":"1612808525.305000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PDHQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, right"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"288c37ec-ddcb-4103-bddb-35d91dd80ebf","type":"message","text":"the sysimage is one part of what makes an \"app\" - the natively compiled julia runtime","user":"UH24GRBLL","ts":"1612808551.305200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ef+so","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the sysimage is one part of what makes an \"app\" - the natively compiled julia runtime"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"04871da1-7817-43e5-ae1b-9b7812e75f6f","type":"message","text":"a large part of the julia compiler already _is_ written in julia: <https://github.com/JuliaLang/julia/tree/master/base/compiler>","user":"UH24GRBLL","ts":"1612808668.306200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n1sgd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a large part of the julia compiler already "},{"type":"text","text":"is","style":{"italic":true}},{"type":"text","text":" written in julia: "},{"type":"link","url":"https://github.com/JuliaLang/julia/tree/master/base/compiler"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"6d980ab3-1caf-4f7c-9c4c-4d3be11dde11","type":"message","text":"I think almost all of it in fact, but I never remember which parts exactly aren't","user":"UH24GRBLL","ts":"1612808687.306700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EOrO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think almost all of it in fact, but I never remember which parts exactly aren't"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"7e361abf-69b8-4d99-ac16-f8566bbc1db1","type":"message","text":"I know the GC isn't, as are the Array and String types. The parser is Scheme.","user":"UH24GRBLL","ts":"1612808755.307000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rwjD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I know the GC isn't, as are the Array and String types. The parser is Scheme."}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1b360638-fe1b-498d-b591-6ff23aab562d","type":"message","text":"you could replace all those parts with pure julia, but iirc there wouldn't be too much to be gained here","user":"UH24GRBLL","ts":"1612808793.307300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bg=en","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could replace all those parts with pure julia, but iirc there wouldn't be too much to be gained here"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"19fdc7bd-3784-4e20-9aba-1949b793824f","type":"message","text":"LLVM passes aren’t applied via Julia calls right now (by e.g. using the C API)","user":"UKA81L34J","ts":"1612808794.307500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VnqdW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"LLVM passes aren’t applied via Julia calls right now (by e.g. using the C API)"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"b55e0773-1435-43a8-a590-a15189d3f262","type":"message","text":"I think that’s all C++","user":"UKA81L34J","ts":"1612808799.307700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kY1oO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that’s all C++"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"fa06b61e-cec3-4f43-bfb4-136f1200cd9b","type":"message","text":"still","user":"UKA81L34J","ts":"1612808800.307900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1xn6Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"still"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"712c595b-e52d-4026-b530-34c674cd7564","type":"message","text":"yeah","user":"UH24GRBLL","ts":"1612808804.308100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tjm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"27bbad45-c8ea-4a90-ad48-1624e3334351","type":"message","text":"although you can apply passes in Julia","user":"UKA81L34J","ts":"1612808805.308300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eCjy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"although you can apply passes in Julia"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"b86fda16-dcec-4be3-ba84-42af50392c32","type":"message","text":"I feel like replacing the GC with a Julia native version seems hard ?","user":"UKA81L34J","ts":"1612808827.308500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lmz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I feel like replacing the GC with a Julia native version seems hard ?"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"1c3ccebb-ef40-4607-9839-e85c48f83619","type":"message","text":"not sure","user":"UKA81L34J","ts":"1612808828.308700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YzS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not sure"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"7be7edde-2a67-4350-96bd-2e60df256c5f","type":"message","text":"well.. it would require having a stable julia array","user":"UH24GRBLL","ts":"1612808850.308900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ONR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well.. it would require having a stable julia array"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"9bc0598f-f443-40fb-a428-f8ed12341ddb","type":"message","text":"it's not impossible to do that, just.. there's no real reason to do that in the first place :man-shrugging:","user":"UH24GRBLL","ts":"1612808874.309100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ywlk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's not impossible to do that, just.. there's no real reason to do that in the first place "},{"type":"emoji","name":"man-shrugging"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"103aa7c4-87ca-41f1-b370-e6771746ce55","type":"message","text":"just getting rid of LLVM wouldn't be all that good anyway","user":"UH24GRBLL","ts":"1612808897.309300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Ma2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just getting rid of LLVM wouldn't be all that good anyway"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"e076c372-d389-4b57-9732-4e05b7135d3e","type":"message","text":"I don’t mean re-write the passes for a Julia-made IR — I mean controlling passes through Julia","user":"UKA81L34J","ts":"1612809093.309500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"27u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t mean re-write the passes for a Julia-made IR — I mean controlling passes through Julia"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"c06de3fc-a3bb-4c4c-b9b0-d64eb6039aa0","type":"message","text":"yeah, not getting rid of LLVM","user":"UKA81L34J","ts":"1612809102.309700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PMz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, not getting rid of LLVM"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"},{"client_msg_id":"786f86fe-6f65-4638-bee0-39886021fb7d","type":"message","text":"I think this was (to a limited extent) possible with the `-On` flags and in the upcoming 1.6 will be possible with the per-module optimization level","user":"UH24GRBLL","ts":"1612809204.310000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TpnXs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this was (to a limited extent) possible with the "},{"type":"text","text":"-On","style":{"code":true}},{"type":"text","text":" flags and in the upcoming 1.6 will be possible with the per-module optimization level"}]}]}],"thread_ts":"1612774527.290500","parent_user_id":"U01AJUF2GEP"}]