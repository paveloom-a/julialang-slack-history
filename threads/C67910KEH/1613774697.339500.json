[{"client_msg_id":"937ae4df-372b-4ff5-9c89-214c72605dbe","type":"message","text":"A question about using Dict to organize a JSON file content. The JSON file I need at the end of the program looks like the following:\n```{\"file_name\" : \"2017-01-01.1.final.mps\",\n\"ic8742\": {\n\"x1\": 345,\n\"x2\": 433,\n\"x3\": 123,\n\"rhs\": 0}\n}```\nMy data are mostly in dictionaries. I’m trying to use dict to get a JSON-like data structure and then save it as a JSON file. Here is my code, for example,\n```ib_json_dict = Dict(\"file name\" =&gt; file_name) \ndict = Dict(name(key)=&gt; val for (key,val) in c.func.terms)\ndict[\"rhs\"] = c.func.constant\ncut_name = name(conRef)\nib_json_dict[cut_name] = dict\nwrite(ib_cut_file, ib_json_dict);  ```\nBut the following code does not work\n```ib_json_dict[cut_name] = dict```\nsaying the following error\n```ERROR: MethodError: Cannot `convert` an object of type Dict{String,Float64} to an object of type String```\nI know this is wrong, but I don’t know how to fix it. Any inputs are appreciated!","user":"U014ABSBL3A","ts":"1613774697.339500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oEzJV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A question about using Dict to organize a JSON file content. The JSON file I need at the end of the program looks like the following:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"{\"file_name\" : \"2017-01-01.1.final.mps\",\n\"ic8742\": {\n\"x1\": 345,\n\"x2\": 433,\n\"x3\": 123,\n\"rhs\": 0}\n}"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"My data are mostly in dictionaries. I’m trying to use dict to get a JSON-like data structure and then save it as a JSON file. Here is my code, for example,\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ib_json_dict = Dict(\"file name\" => file_name) \ndict = Dict(name(key)=> val for (key,val) in c.func.terms)\ndict[\"rhs\"] = c.func.constant\ncut_name = name(conRef)\nib_json_dict[cut_name] = dict\nwrite(ib_cut_file, ib_json_dict);  "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"But the following code does not work\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ib_json_dict[cut_name] = dict"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"saying the following error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: Cannot `convert` an object of type Dict{String,Float64} to an object of type String"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I know this is wrong, but I don’t know how to fix it. Any inputs are appreciated!"}]}]}],"thread_ts":"1613774697.339500","reply_count":8,"reply_users_count":2,"latest_reply":"1613776701.341500","reply_users":["UH8A351DJ","U014ABSBL3A"],"subscribed":false},{"client_msg_id":"9cca0add-91e7-4db2-bec6-f51015b53faf","type":"message","text":"one way is to relax the Dict type at the beginning:\n```ib_json_dict = Dict{String, Any}(\"file name\" =&gt; file_name) ```","user":"UH8A351DJ","ts":"1613774848.339600","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1613775085.000000"},"blocks":[{"type":"rich_text","block_id":"cztU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"one way is to relax the Dict type at the beginning:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ib_json_dict = Dict{String, Any}(\"file name\" => file_name) "}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"1a04baa5-79e2-46b2-ab2a-e07634ff88f7","type":"message","text":"Thanks, <@UH8A351DJ> it seems to work. Let me try a bit more to confirm.","user":"U014ABSBL3A","ts":"1613775205.340100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oyd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, "},{"type":"user","user_id":"UH8A351DJ"},{"type":"text","text":" it seems to work. Let me try a bit more to confirm."}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"8db489bb-5644-442a-8e93-4a1708916e2f","type":"message","text":"The code seems to run fine. A follow up question. an error occurs when trying to write to a file. here is the code\n```ib_cut_file = open(string(dir_name,file_name,\"_ib.json\"), \"a\"); \nwrite(ib_cut_file, ib_json_dict);   ```\nThe error message is\n```ERROR: MethodError: no method matching write(::IOStream, ::Dict{String,Any})\nClosest candidates are:\n write(::IO, ::Any) at io.jl:611\n write(::IO, ::Any, ::Any...) at io.jl:612\n write(::IOStream, ::UInt8) at iostream.jl:357```\n","user":"U014ABSBL3A","ts":"1613775921.340300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dlHz+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The code seems to run fine. A follow up question. an error occurs when trying to write to a file. here is the code\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ib_cut_file = open(string(dir_name,file_name,\"_ib.json\"), \"a\"); \nwrite(ib_cut_file, ib_json_dict);   "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The error message is\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: no method matching write(::IOStream, ::Dict{String,Any})\nClosest candidates are:\n write(::IO, ::Any) at io.jl:611\n write(::IO, ::Any, ::Any...) at io.jl:612\n write(::IOStream, ::UInt8) at iostream.jl:357"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"4b1accfa-269d-4e51-9140-868ce0156697","type":"message","text":"Should I turn the `dict`  into a `string`  or anything like that?","user":"U014ABSBL3A","ts":"1613776002.340500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VB8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should I turn the "},{"type":"text","text":"dict","style":{"code":true}},{"type":"text","text":"  into a "},{"type":"text","text":"string","style":{"code":true}},{"type":"text","text":"  or anything like that?"}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"c90b08d3-ea6c-473c-9141-8556eff93ba3","type":"message","text":"`JSON3.jl` should come handy here","user":"UH8A351DJ","ts":"1613776073.340700","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1613776104.000000"},"blocks":[{"type":"rich_text","block_id":"0tRc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"JSON3.jl","style":{"code":true}},{"type":"text","text":" should come handy here"}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"fa5b338b-4418-4ca9-b28c-30d049ddedc0","type":"message","text":"Thanks! Do you recommend `JSON3`  over `JSON` ?","user":"U014ABSBL3A","ts":"1613776165.341000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dzt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks! Do you recommend "},{"type":"text","text":"JSON3","style":{"code":true}},{"type":"text","text":"  over "},{"type":"text","text":"JSON","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"},{"client_msg_id":"90173390-c0cb-4aa0-ac57-bdd1ddf432e9","type":"message","text":"both are fine tbh, JSON3 is supposed to be faster, and can handle costume type parsing etc.","user":"UH8A351DJ","ts":"1613776342.341200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dd4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"both are fine tbh, JSON3 is supposed to be faster, and can handle costume type parsing etc."}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A","reactions":[{"name":"+1","users":["U014ABSBL3A"],"count":1}]},{"client_msg_id":"00efe836-2f4c-4dc7-8e0a-fafb0c84d6c1","type":"message","text":"Thanks!","user":"U014ABSBL3A","ts":"1613776701.341500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MJfY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}],"thread_ts":"1613774697.339500","parent_user_id":"U014ABSBL3A"}]