[{"client_msg_id":"56803ba0-b0fb-464b-944c-79c614c0222f","type":"message","text":"Can't use `a(end-1)` etc with round brackets.","user":"U6A936746","ts":"1608410581.199800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Isv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can't use "},{"type":"text","text":"a(end-1)","style":{"code":true}},{"type":"text","text":" etc with round brackets."}]}]}],"thread_ts":"1608410581.199800","reply_count":15,"reply_users_count":3,"latest_reply":"1608413991.211500","reply_users":["UAUPJLBQX","UD0NS8PDF","U6A936746"],"subscribed":false},{"client_msg_id":"c848d833-6040-4e7a-bc68-5556f9d06117","type":"message","text":"True, that's a problem.","user":"UAUPJLBQX","ts":"1608411124.205700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HMR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"True, that's a problem."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"a862cec3-9e5a-4f8c-a41b-e7efd42b7848","type":"message","text":"Given that's syntax, I don't think there's a way to make that work, aside from macros.\n\nMaking indexing like collections is okay, because LoopVectorization is already handling all indexing it can see.\nThe concern would be if someone writes\n```myexp(x) = exp(x[1])```","user":"UAUPJLBQX","ts":"1608411267.205900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xzN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Given that's syntax, I don't think there's a way to make that work, aside from macros.\n\nMaking indexing like collections is okay, because LoopVectorization is already handling all indexing it can see.\nThe concern would be if someone writes\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"myexp(x) = exp(x[1])"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"a7d6dba1-b911-41e0-96f8-e7098dfe7002","type":"message","text":"Then I need the current behavior -- that `vx[1]` returns the entire vector, not the first element.","user":"UAUPJLBQX","ts":"1608411304.206100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then I need the current behavior -- that "},{"type":"text","text":"vx[1]","style":{"code":true}},{"type":"text","text":" returns the entire vector, not the first element."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"21b6c994-9325-4384-a639-0ec593517e71","type":"message","text":"So until I actually use the new compiler tools to let LoopVectorization inspect the bodies of functions being called, `getindex`/I'm stuck with square brackets don't really working.","user":"UAUPJLBQX","ts":"1608411418.206900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Rn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So until I actually use the new compiler tools to let LoopVectorization inspect the bodies of functions being called, "},{"type":"text","text":"getindex","style":{"code":true}},{"type":"text","text":"/I'm stuck with square brackets don't really working."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"dc8d7fbf-0b1f-43ff-81ec-ab6b374efb7b","type":"message","text":"I don't know why anyone would write a function like `myexp` though, so maybe I'm just being too defensive.","user":"UAUPJLBQX","ts":"1608411438.207100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CKmfQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know why anyone would write a function like "},{"type":"text","text":"myexp","style":{"code":true}},{"type":"text","text":" though, so maybe I'm just being too defensive."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"8ff2c847-92aa-404e-b7aa-e89dbe11f148","type":"message","text":"I guess it’s possible they may want some function to accept numbers and collections, isn’t that why numbers are iterable?","user":"UD0NS8PDF","ts":"1608411642.208100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sP38","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess it’s possible they may want some function to accept numbers and collections, isn’t that why numbers are iterable?"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"88d149aa-15b7-4449-b469-8cccd3407ef8","type":"message","text":"Yeah. I'll stick with the current square bracket behavior to make that work. There a lot more useful examples than `myexp` of why someone may write code like that.","user":"UAUPJLBQX","ts":"1608411773.208300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y1Ci","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah. I'll stick with the current square bracket behavior to make that work. There a lot more useful examples than "},{"type":"text","text":"myexp","style":{"code":true}},{"type":"text","text":" of why someone may write code like that."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"565894a1-d4d3-4828-8e9b-b486a20382ba","type":"message","text":"My guess is that anyone indexing into a Vec is doing something quite low-level, and won’t mind convenience things like `x[end-1]` not working.","user":"UD0NS8PDF","ts":"1608411777.208500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RsUa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My guess is that anyone indexing into a Vec is doing something quite low-level, and won’t mind convenience things like "},{"type":"text","text":"x[end-1]","style":{"code":true}},{"type":"text","text":" not working."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746","reactions":[{"name":"+1","users":["UAUPJLBQX","UGU761DU2"],"count":2}]},{"client_msg_id":"1c5b0a73-1485-4009-a56b-49064f2009d8","type":"message","text":"A bit like indexing `CartesianIndex` objects, you are free to open the box but it’s clearly off piste","user":"UD0NS8PDF","ts":"1608411889.208800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2sa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A bit like indexing "},{"type":"text","text":"CartesianIndex","style":{"code":true}},{"type":"text","text":" objects, you are free to open the box but it’s clearly off piste"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"f80138df-e27c-482d-a27c-a1f9526c23c9","type":"message","text":"You mean, those that aren't `StrideArray`s?","user":"UAUPJLBQX","ts":"1608411963.209000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iu6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You mean, those that aren't "},{"type":"text","text":"StrideArray","style":{"code":true}},{"type":"text","text":"s?"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"a15cc64e-e3bd-4df4-9cb4-34edcfcc7b9b","type":"message","text":"I just realized `length(::Vec)` doesn't return 1 =/","user":"UAUPJLBQX","ts":"1608411974.209200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a0sO+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just realized "},{"type":"text","text":"length(::Vec)","style":{"code":true}},{"type":"text","text":" doesn't return 1 =/"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"ff0387ae-4a0d-461c-96e5-9f861c2a26af","type":"message","text":"I think I need to fix that.","user":"UAUPJLBQX","ts":"1608411982.209500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Irj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I need to fix that."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"7e6dbb6a-de66-4c40-a0f5-8e8d8dce0ab0","type":"message","text":"Oh it turns out CartesianIndex does have indexing, I mis-remembered… I thought it pretended to be a scalar in almost all ways.","user":"UD0NS8PDF","ts":"1608412556.211000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T7ew","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh it turns out CartesianIndex does have indexing, I mis-remembered… I thought it pretended to be a scalar in almost all ways."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"3e48e051-5426-470d-bbb5-d5f753069f39","type":"message","text":"Hmm, okay, I vaguely remember having to call `Tuple(I)` on it first, but that doesn't seem to be the case now.","user":"UAUPJLBQX","ts":"1608412615.211200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BNJH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, okay, I vaguely remember having to call "},{"type":"text","text":"Tuple(I)","style":{"code":true}},{"type":"text","text":" on it first, but that doesn't seem to be the case now."}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"},{"client_msg_id":"cdde9277-0a11-436e-a6b0-2593686c5145","type":"message","text":"I think maybe bit us iteration and thus destructuring assignment that it doesn't have","user":"U6A936746","ts":"1608413991.211500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o6=8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think maybe bit us iteration and thus destructuring assignment that it doesn't have"}]}]}],"thread_ts":"1608410581.199800","parent_user_id":"U6A936746"}]