[{"client_msg_id":"b363dbc4-b439-4b7f-9b30-b85445e68212","type":"message","text":"`DF.transform!(df, [:lat, :lon, :lat_1, :lon_1] =&gt; DF.ByRow((lat, lon, lat_1, lon_1) -&gt; DIST.haversine((lon, lat), (lon_1, lat_1), EARTH_R)) =&gt; :dd1);`\nIs this syntax correct for applying a function on all rows of the dataframe DF ?\nI am getting incorrect value in the dd1 column compared to what is expected","user":"U01GZQ6B0JU","ts":"1610551095.306800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3C1Ts","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DF.transform!(df, [:lat, :lon, :lat_1, :lon_1] => DF.ByRow((lat, lon, lat_1, lon_1) -> DIST.haversine((lon, lat), (lon_1, lat_1), EARTH_R)) => :dd1);","style":{"code":true}},{"type":"text","text":"\nIs this syntax correct for applying a function on all rows of the dataframe DF ?\nI am getting incorrect value in the dd1 column compared to what is expected"}]}]}],"thread_ts":"1610551095.306800","reply_count":3,"reply_users_count":2,"latest_reply":"1610554231.307800","reply_users":["UBF9YRB6H","U7JQGPGCQ"],"subscribed":false},{"client_msg_id":"c9a315de-d7fb-43fe-9fde-b6f3c6ebab35","type":"message","text":"That seems... right? What does the error say exactly?","user":"UBF9YRB6H","ts":"1610553134.307400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5dYU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That seems... right? What does the error say exactly?"}]}]}],"thread_ts":"1610551095.306800","parent_user_id":"U01GZQ6B0JU"},{"client_msg_id":"6c2fcfbf-9625-4eb3-a80e-e9fe128f265f","type":"message","text":"if the syntax seems too much you can also use DataFramesMeta, it will look simpler with that","user":"UBF9YRB6H","ts":"1610553174.307600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p5GJI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if the syntax seems too much you can also use DataFramesMeta, it will look simpler with that"}]}]}],"thread_ts":"1610551095.306800","parent_user_id":"U01GZQ6B0JU"},{"client_msg_id":"881677ac-339d-4ff2-ba3f-571f095f973d","type":"message","text":"Yeah, doesn't seem like a DataFrames issue - does `DIST.haversine((df.lon[1], df.lat[1]), (df.lon_1[1], df.lat_1[1]), EARTH_R)` give what you expect? Also double check that your `haversine` function takes `lon, lat` in that order (when you select the columns you order them as `lat, lon`)","user":"U7JQGPGCQ","ts":"1610554231.307800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CBV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, doesn't seem like a DataFrames issue - does "},{"type":"text","text":"DIST.haversine((df.lon[1], df.lat[1]), (df.lon_1[1], df.lat_1[1]), EARTH_R)","style":{"code":true}},{"type":"text","text":" give what you expect? Also double check that your "},{"type":"text","text":"haversine","style":{"code":true}},{"type":"text","text":" function takes "},{"type":"text","text":"lon, lat","style":{"code":true}},{"type":"text","text":" in that order (when you select the columns you order them as "},{"type":"text","text":"lat, lon","style":{"code":true}},{"type":"text","text":")"}]}]}],"thread_ts":"1610551095.306800","parent_user_id":"U01GZQ6B0JU"}]