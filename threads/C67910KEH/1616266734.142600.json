[{"client_msg_id":"7e7a47c5-3769-48f4-9e8c-1f2990e962f3","type":"message","text":"so I just did `]add` on a package that has literally zero dependences, and julia decided it needed to install Qt (and hanged in the middle of it), what's going on in the package manager's mind?","user":"UMDEUKM29","ts":"1616266734.142600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H5u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I just did "},{"type":"text","text":"]add","style":{"code":true}},{"type":"text","text":" on a package that has literally zero dependences, and julia decided it needed to install Qt (and hanged in the middle of it), what's going on in the package manager's mind?"}]}]}],"thread_ts":"1616266734.142600","reply_count":20,"reply_users_count":6,"latest_reply":"1616271878.163000","reply_users":["USU9FRPEU","U01C3624SGJ","U7HAYKY9X","UMDEUKM29","U67D54KS8","U01FKQQ7J0J"],"subscribed":false},{"client_msg_id":"c6f1b999-93a6-4b36-8d3e-db0a7f782e9c","type":"message","text":"Maybe it updated the registry and something in the registry said an upgrade was required for the packages in your current environment","user":"USU9FRPEU","ts":"1616266853.142700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4t9eH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe it updated the registry and something in the registry said an upgrade was required for the packages in your current environment"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"d3227b29-7ab2-4171-8059-fe9c16a5e5b6","type":"message","text":"What version are you on? About why it installed Qt I dont know but 1.6.0 -rc1 had some download issues that sometimes caused hanging on big artifacts like Qt.","user":"U01C3624SGJ","ts":"1616266863.142900","team":"T68168MUP","edited":{"user":"U01C3624SGJ","ts":"1616266877.000000"},"blocks":[{"type":"rich_text","block_id":"5WYV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What version are you on? About why it installed Qt I dont know but 1.6.0 -rc1 had some download issues that sometimes caused hanging on big artifacts like Qt."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"aa56697c-bd88-42c0-934c-a71a866f48d5","type":"message","text":"AFAIK Julia automatically upgrades all your packages when you do a pkg operation","user":"U7HAYKY9X","ts":"1616266924.143200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vpl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"AFAIK Julia automatically upgrades all your packages when you do a pkg operation"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"d90bc03e-7097-4094-8afd-77e7f425e759","type":"message","text":"yes I figured it might be the problem, I'm on beta1 and upgrading to rc3","user":"UMDEUKM29","ts":"1616266940.143400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SLM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes I figured it might be the problem, I'm on beta1 and upgrading to rc3"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"ee8e2d43-c37e-4d7e-b5e7-c3c401a754bb","type":"message","text":"oh really? feels weird it's doing that","user":"UMDEUKM29","ts":"1616266979.143600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nW6vn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh really? feels weird it's doing that"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"a913b1bb-b6cd-433c-b197-02c5c7d33042","type":"message","text":"Yep. I find it weird, too","user":"U7HAYKY9X","ts":"1616267048.143800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h7U5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep. I find it weird, too"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"cba7e2f2-fa1d-4176-8683-2b4acb612ec4","type":"message","text":"You can do\n```using Pkg\nPkg.UPDATED_REGISTRY_THIS_SESSION[] = true```\nto disable updating the registry","user":"U7HAYKY9X","ts":"1616267097.144000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pIx6y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can do\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Pkg\nPkg.UPDATED_REGISTRY_THIS_SESSION[] = true"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"to disable updating the registry"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"be1adab4-b372-4416-8e2a-4e36e5137620","type":"message","text":"&gt; AFAIK Julia automatically upgrades all your packages when you do a pkg operation\nNot really. It tries to not do that.","user":"U67D54KS8","ts":"1616267272.144200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5cAJ","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"AFAIK Julia automatically upgrades all your packages when you do a pkg operation"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nNot really. It tries to not do that."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"7c04c18c-4abe-4354-9f8c-15e28ad68d11","type":"message","text":"Really? I added package today and also got a new version of QT installed, even if it was not a dependency. Is that a bug?","user":"U7HAYKY9X","ts":"1616267334.144400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DS/O7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really? I added package today and also got a new version of QT installed, even if it was not a dependency. Is that a bug?"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"487a317c-681e-4496-a8aa-3645b65a3ecf","type":"message","text":"I think this is an issue with jll packages specifically since they use a bit of a custom version scheme (with build numbers) that makes Pkg upgrade them regardless.","user":"U67D54KS8","ts":"1616267394.145300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mv7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think this is an issue with jll packages specifically since they use a bit of a custom version scheme (with build numbers) that makes Pkg upgrade them regardless."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"e4e75f3b-d267-40a9-89e6-c2826be4017f","type":"message","text":"Huh, maybe QT was an indirect dep. Let me check","user":"U7HAYKY9X","ts":"1616267400.145700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6cE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Huh, maybe QT was an indirect dep. Let me check"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"d9a0b2ee-7228-4822-8b80-7367114dd234","type":"message","text":"But it shouldn't be true for packages in general","user":"U67D54KS8","ts":"1616267401.146000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NNQym","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But it shouldn't be true for packages in general"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29","reactions":[{"name":"point_up","users":["U6A936746"],"count":1}]},{"client_msg_id":"21d822fe-8c00-4812-b478-59281b9aaf70","type":"message","text":"so is that a bug that it's doing that for jlls?","user":"UMDEUKM29","ts":"1616267563.149200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8apg0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so is that a bug that it's doing that for jlls?"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"597203a7-c3c3-49ff-af55-44915e6a0366","type":"message","text":"Kind of. The bug is arguably with the jlls since they use build number versions which isn't supported well in Pkg.","user":"U67D54KS8","ts":"1616267633.150200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MPAg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Kind of. The bug is arguably with the jlls since they use build number versions which isn't supported well in Pkg."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"DF1149A7-94D8-45EE-8906-49D532AF4899","type":"message","text":"Is there a way to show a preview of what `]up` would do (but without actually doing it)? I’m imagining something like `]up -n` or `]up --dry-run`. It would also be nice to be able to see which dependencies led to any ancillary upgrades/downgrades (maybe with `-v`). Just curious because sometimes it’s nice to know what will happen without having to do it and then undo it (which is the only way I know to do this now)","user":"U01FKQQ7J0J","ts":"1616267952.154700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nmuv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to show a preview of what "},{"type":"text","text":"]up","style":{"code":true}},{"type":"text","text":" would do (but without actually doing it)? I’m imagining something like "},{"type":"text","text":"]up -n","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"]up --dry-run","style":{"code":true}},{"type":"text","text":". It would also be nice to be able to see which dependencies led to any ancillary upgrades/downgrades (maybe with "},{"type":"text","text":"-v","style":{"code":true}},{"type":"text","text":"). Just curious because sometimes it’s nice to know what will happen without having to do it and then undo it (which is the only way I know to do this now)"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"c153404c-3b68-4978-ad4a-14eca93b6621","type":"message","text":"There was a `--preview` option. It was removed in favour of `pkg&gt; undo`","user":"U67D54KS8","ts":"1616268112.155100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zbh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There was a "},{"type":"text","text":"--preview","style":{"code":true}},{"type":"text","text":" option. It was removed in favour of "},{"type":"text","text":"pkg> undo","style":{"code":true}}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"87DBA09B-DC60-4873-BD7F-DD58FFC45460","type":"message","text":"Is there something about the `]up` process that makes the result unknowable in advance? Why force the user to actually do the update (and potentially download a bunch of new artifacts) just to see what updates are available?","user":"U01FKQQ7J0J","ts":"1616270225.162400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OKF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there something about the "},{"type":"text","text":"]up","style":{"code":true}},{"type":"text","text":" process that makes the result unknowable in advance? Why force the user to actually do the update (and potentially download a bunch of new artifacts) just to see what updates are available?"}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"2ab83232-97f1-4377-859c-9ed672c3ab12","type":"message","text":"If you have added anything via branch, or if you have anything \"developed\" (tracking via path) then yes.","user":"U67D54KS8","ts":"1616270557.162600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+q6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you have added anything via branch, or if you have anything \"developed\" (tracking via path) then yes."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"7ec5dd6e-c508-463a-b43e-7a8d07ed8ada","type":"message","text":"But if everything is tracking the registry, then it is fairly straight forward, yes. Could maybe be brought back for that case.","user":"U67D54KS8","ts":"1616270646.162800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fTn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But if everything is tracking the registry, then it is fairly straight forward, yes. Could maybe be brought back for that case."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"},{"client_msg_id":"a0856a42-c6e8-49f7-88c8-c6b00ac87497","type":"message","text":"Ah, that makes sense.  If you've stepped out of the sphere of knowledge that is the registry(ies), even a little bit, then I guess all bets are off.  Adding back `--preview` would be nice, but probably catering to a small audience.  I would guess that those happily living completely within the sphere of knowledge probably won't care to know ahead of time what an `]up` will do and those who would care are probably not living completely inside the sphere of knowledge.  I do still think it would be a \"nice to have\" feature for those accustomed to `make -n` or `apt install -s` etc. even if it only serves a small (but curious!) audience.","user":"U01FKQQ7J0J","ts":"1616271878.163000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6aZN0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, that makes sense.  If you've stepped out of the sphere of knowledge that is the registry(ies), even a little bit, then I guess all bets are off.  Adding back "},{"type":"text","text":"--preview","style":{"code":true}},{"type":"text","text":" would be nice, but probably catering to a small audience.  I would guess that those happily living completely within the sphere of knowledge probably won't care to know ahead of time what an "},{"type":"text","text":"]up","style":{"code":true}},{"type":"text","text":" will do and those who would care are probably not living completely inside the sphere of knowledge.  I do still think it would be a \"nice to have\" feature for those accustomed to "},{"type":"text","text":"make -n","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"apt install -s","style":{"code":true}},{"type":"text","text":" etc. even if it only serves a small (but curious!) audience."}]}]}],"thread_ts":"1616266734.142600","parent_user_id":"UMDEUKM29"}]