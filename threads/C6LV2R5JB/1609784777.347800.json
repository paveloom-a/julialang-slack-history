[{"client_msg_id":"4f06d46f-3f4a-4027-8d3e-dce3f8a76db9","type":"message","text":"Thanks! There are a bunch of colours defined by themes (<https://code.visualstudio.com/api/references/theme-color>), but I haven't found one I was happy with for all themes. Worst case we could just add an opacity setting (or even a colour picker/text box) to configure this. Hasn't been a particularly high priority though.","user":"U6BNE7LTZ","ts":"1609784777.347800","team":"T68168MUP","attachments":[{"title":"Theme Color","title_link":"https://code.visualstudio.com/api/references/theme-color","text":"Theme Color reference that lists all themable colors in Visual Studio Code.","fallback":"Theme Color","image_url":"https://code.visualstudio.com/opengraphimg/opengraph-docs.png","from_url":"https://code.visualstudio.com/api/references/theme-color","image_width":500,"image_height":250,"image_bytes":23847,"service_icon":"https://code.visualstudio.com/apple-touch-icon.png","service_name":"code.visualstudio.com","id":1,"original_url":"https://code.visualstudio.com/api/references/theme-color"}],"blocks":[{"type":"rich_text","block_id":"2gryj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks! There are a bunch of colours defined by themes ("},{"type":"link","url":"https://code.visualstudio.com/api/references/theme-color"},{"type":"text","text":"), but I haven't found one I was happy with for all themes. Worst case we could just add an opacity setting (or even a colour picker/text box) to configure this. Hasn't been a particularly high priority though."}]}]}],"thread_ts":"1609784777.347800","reply_count":5,"reply_users_count":2,"latest_reply":"1609837359.355200","reply_users":["U01G14RTVM2","U6BNE7LTZ"],"subscribed":false},{"client_msg_id":"b1f47ad9-d73f-4292-8a19-f838d462de5f","type":"message","text":"Thank you!","user":"U01G14RTVM2","ts":"1609785107.348000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Vt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you!"}]}]}],"thread_ts":"1609784777.347800","parent_user_id":"U6BNE7LTZ"},{"type":"message","text":"So these are the colors I'm using for now, which work in the themes I care about (but definitely not universally, notable high contrast).\n\nUsing my own hooks :\n\n```    \"julia.execution.resultType\": \"both\",\n    \"julia.execution.customizedInlineResults.Colors\": {\n        \"border\": \"#9558B2\", // Julia purple\n        \"foreground-dark\": \"vscode.editor.selectionHighlightBackground\",\n        \"foreground-light\": \"vscode.scrollbarSlider.background\",\n        \"background-dark\": \"vscode.breadcrumbPicker.background\",\n        \"background-light\": \"vscode.sideBar.background\"\n    },```\n","files":[{"id":"F01JPMV87LG","created":1609821552,"timestamp":1609821552,"name":"Screen Shot 2021-01-05 at 1.37.21 PM.png","title":"Screen Shot 2021-01-05 at 1.37.21 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01G14RTVM2","editable":false,"size":30695,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JPMV87LG/screen_shot_2021-01-05_at_1.37.21_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JPMV87LG/download/screen_shot_2021-01-05_at_1.37.21_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01JPMV87LG-a283568dd7/screen_shot_2021-01-05_at_1.37.21_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01JPMV87LG-a283568dd7/screen_shot_2021-01-05_at_1.37.21_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01JPMV87LG-a283568dd7/screen_shot_2021-01-05_at_1.37.21_pm_360.png","thumb_360_w":360,"thumb_360_h":268,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01JPMV87LG-a283568dd7/screen_shot_2021-01-05_at_1.37.21_pm_160.png","original_w":464,"original_h":345,"thumb_tiny":"AwAjADCnnjt+VIRmlo496YDcUYp3HvSH2oATFGKWigBaUfUflSDqMnFBC9iSfpQAE/Q/hSUUUAFFFFAC9hSUvYUlABRRRQAUUUUAf//Z","permalink":"https://julialang.slack.com/files/U01G14RTVM2/F01JPMV87LG/screen_shot_2021-01-05_at_1.37.21_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01JPMV87LG-6778dc3598","is_starred":false,"has_rich_preview":false},{"id":"F01J0352TNF","created":1609821554,"timestamp":1609821554,"name":"Screen Shot 2021-01-05 at 1.37.47 PM.png","title":"Screen Shot 2021-01-05 at 1.37.47 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01G14RTVM2","editable":false,"size":29691,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J0352TNF/screen_shot_2021-01-05_at_1.37.47_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J0352TNF/download/screen_shot_2021-01-05_at_1.37.47_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J0352TNF-b2cb5257be/screen_shot_2021-01-05_at_1.37.47_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J0352TNF-b2cb5257be/screen_shot_2021-01-05_at_1.37.47_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J0352TNF-b2cb5257be/screen_shot_2021-01-05_at_1.37.47_pm_360.png","thumb_360_w":360,"thumb_360_h":266,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J0352TNF-b2cb5257be/screen_shot_2021-01-05_at_1.37.47_pm_160.png","original_w":467,"original_h":345,"thumb_tiny":"AwAjADCkCMdvypKKMD3oAM0ZowPejj3oAM0Zo4ooAKUH3H5Ug7Upx2JP4UAIT9PypKX8aPxoASil/GigA7UlL2FJQAUUUUAFFFFAH//Z","permalink":"https://julialang.slack.com/files/U01G14RTVM2/F01J0352TNF/screen_shot_2021-01-05_at_1.37.47_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01J0352TNF-3c09a02db9","is_starred":false,"has_rich_preview":false},{"id":"F01HT3NCNCW","created":1609821557,"timestamp":1609821557,"name":"Screen Shot 2021-01-05 at 1.38.06 PM.png","title":"Screen Shot 2021-01-05 at 1.38.06 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01G14RTVM2","editable":false,"size":29696,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HT3NCNCW/screen_shot_2021-01-05_at_1.38.06_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HT3NCNCW/download/screen_shot_2021-01-05_at_1.38.06_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HT3NCNCW-97c568d43d/screen_shot_2021-01-05_at_1.38.06_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HT3NCNCW-97c568d43d/screen_shot_2021-01-05_at_1.38.06_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HT3NCNCW-97c568d43d/screen_shot_2021-01-05_at_1.38.06_pm_360.png","thumb_360_w":360,"thumb_360_h":263,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HT3NCNCW-97c568d43d/screen_shot_2021-01-05_at_1.38.06_pm_160.png","original_w":473,"original_h":346,"thumb_tiny":"AwAjADDQI57/AJ0tHejn2oAWik59qOfagBaKTmjmgA70mPY/nSnv9KaN390fnQAoH1/OnUn4UfhQAtFJ+FHPpQAd/wAKWk7/AIUtABRRRQAUUUUAf//Z","permalink":"https://julialang.slack.com/files/U01G14RTVM2/F01HT3NCNCW/screen_shot_2021-01-05_at_1.38.06_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01HT3NCNCW-b4f97cc6c3","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"ZB3E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So these are the colors I'm using for now, which work in the themes I care about (but definitely not universally, notable high contrast).\n\nUsing my own hooks :\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    \"julia.execution.resultType\": \"both\",\n    \"julia.execution.customizedInlineResults.Colors\": {\n        \"border\": \"#9558B2\", // Julia purple\n        \"foreground-dark\": \"vscode.editor.selectionHighlightBackground\",\n        \"foreground-light\": \"vscode.scrollbarSlider.background\",\n        \"background-dark\": \"vscode.breadcrumbPicker.background\",\n        \"background-light\": \"vscode.sideBar.background\"\n    },"}]},{"type":"rich_text_section","elements":[]}]}],"user":"U01G14RTVM2","ts":"1609821680.353300","edited":{"user":"U01G14RTVM2","ts":"1609821727.000000"},"thread_ts":"1609784777.347800","parent_user_id":"U6BNE7LTZ"},{"type":"message","text":"Here is the version of settings I came up with (again, for myself, but I'm happy to edit and share). The hardest part with providing options to the user is that there doesn't seem to be a way to programmatically check that a string is a valid Theme Color. Making people prefix `vscode.` is clunky, but the alternative would be to only allow CSS, or to use an additional dependency like [validate-color](<https://www.npmjs.com/package/validate-color>).","files":[{"id":"F01HT40F8NS","created":1609822264,"timestamp":1609822264,"name":"Screen Shot 2021-01-05 at 1.43.53 PM.png","title":"Screen Shot 2021-01-05 at 1.43.53 PM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01G14RTVM2","editable":false,"size":83780,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HT40F8NS/screen_shot_2021-01-05_at_1.43.53_pm.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HT40F8NS/download/screen_shot_2021-01-05_at_1.43.53_pm.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_360.png","thumb_360_w":360,"thumb_360_h":199,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_480.png","thumb_480_w":480,"thumb_480_h":265,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01HT40F8NS-7c9eb33891/screen_shot_2021-01-05_at_1.43.53_pm_720.png","thumb_720_w":720,"thumb_720_h":398,"original_w":769,"original_h":425,"thumb_tiny":"AwAaADC+cjnNJuPrSt92mgUgHA+9KDnvTcGnCmAUUUUgE/E0DHpSjvS0wEwKNopaWgBu0UuKWigD/9k=","permalink":"https://julialang.slack.com/files/U01G14RTVM2/F01HT40F8NS/screen_shot_2021-01-05_at_1.43.53_pm.png","permalink_public":"https://slack-files.com/T68168MUP-F01HT40F8NS-6de63a8a30","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"Erw5a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is the version of settings I came up with (again, for myself, but I'm happy to edit and share). The hardest part with providing options to the user is that there doesn't seem to be a way to programmatically check that a string is a valid Theme Color. Making people prefix "},{"type":"text","text":"vscode.","style":{"code":true}},{"type":"text","text":" is clunky, but the alternative would be to only allow CSS, or to use an additional dependency like [validate-color]("},{"type":"link","url":"https://www.npmjs.com/package/validate-color"},{"type":"text","text":")."}]}]}],"user":"U01G14RTVM2","display_as_bot":false,"ts":"1609822272.354500","thread_ts":"1609784777.347800","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"cdf4c3b1-5334-4d50-8073-c8ab027d846b","type":"message","text":"And my edits. (TS is not my forte)\n```createResultDecoration(): vscode.DecorationRenderOptions {\n\n        const section = vscode.workspace.getConfiguration('julia')\n        const colorConfig = section.get&lt;object&gt;(\"execution.customizedInlineResults.Colors\")\n\n        let colorFor = function (candidates: string[], defaultCallBack: () =&gt; string | vscode.ThemeColor): string | vscode.ThemeColor {\n            if (candidates.length) {\n                if (colorConfig[candidates[0]]) {\n                    let color: string = colorConfig[candidates[0]]\n                    return color.startsWith('vscode.') ? new vscode.ThemeColor(color.replace(/^(vscode\\.)/, \"\")) : color\n                } else {\n                    return colorFor(candidates.slice(1), defaultCallBack)\n                }\n            } else {\n                return defaultCallBack()\n            }\n        }\n\n        const borderColor = this.content.isError\n            ? colorFor(['border-error'], () =&gt; '#CB3C33') // julia red, was previously #d11111\n            : colorFor(['border'], () =&gt; '#4063D8') // julia blue, was previously #159eed\n\n        return {\n            before: {\n                contentIconPath: undefined,\n                contentText: undefined,\n                color: colorFor(['foreground'], () =&gt; new vscode.ThemeColor('editor.foreground')),\n                backgroundColor: colorFor(['background'], () =&gt; '#ffffff22'),\n                margin: '0 0 0 10px',\n                // HACK: CSS injection to get custom styling in:\n                textDecoration: `none; white-space: pre; border-left: 2px ${borderColor} solid; border-radius: 2px`\n            },\n            dark: {\n                before: {\n                    color: colorFor(['foreground-dark', 'foreground'], () =&gt; new vscode.ThemeColor('editor.foreground')),\n                    backgroundColor: colorFor(['background-dark', 'background'], () =&gt; '#ffffff22')\n                }\n            },\n            light: {\n                before: {\n                    color: colorFor(['foreground-light', 'foreground'], () =&gt; new vscode.ThemeColor('editor.foreground')),\n                    backgroundColor: colorFor(['background-light', 'background'], () =&gt; '#00000011')\n                }\n            },\n            rangeBehavior: vscode.DecorationRangeBehavior.OpenClosed,\n        }\n    }```","user":"U01G14RTVM2","ts":"1609822594.354900","team":"T68168MUP","edited":{"user":"U01G14RTVM2","ts":"1609824425.000000"},"blocks":[{"type":"rich_text","block_id":"mMQt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And my edits. (TS is not my forte)\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"createResultDecoration(): vscode.DecorationRenderOptions {\n\n        const section = vscode.workspace.getConfiguration('julia')\n        const colorConfig = section.get<object>(\"execution.customizedInlineResults.Colors\")\n\n        let colorFor = function (candidates: string[], defaultCallBack: () => string | vscode.ThemeColor): string | vscode.ThemeColor {\n            if (candidates.length) {\n                if (colorConfig[candidates[0]]) {\n                    let color: string = colorConfig[candidates[0]]\n                    return color.startsWith('vscode.') ? new vscode.ThemeColor(color.replace(/^(vscode\\.)/, \"\")) : color\n                } else {\n                    return colorFor(candidates.slice(1), defaultCallBack)\n                }\n            } else {\n                return defaultCallBack()\n            }\n        }\n\n        const borderColor = this.content.isError\n            ? colorFor(['border-error'], () => '#CB3C33') // julia red, was previously #d11111\n            : colorFor(['border'], () => '#4063D8') // julia blue, was previously #159eed\n\n        return {\n            before: {\n                contentIconPath: undefined,\n                contentText: undefined,\n                color: colorFor(['foreground'], () => new vscode.ThemeColor('editor.foreground')),\n                backgroundColor: colorFor(['background'], () => '#ffffff22'),\n                margin: '0 0 0 10px',\n                // HACK: CSS injection to get custom styling in:\n                textDecoration: `none; white-space: pre; border-left: 2px ${borderColor} solid; border-radius: 2px`\n            },\n            dark: {\n                before: {\n                    color: colorFor(['foreground-dark', 'foreground'], () => new vscode.ThemeColor('editor.foreground')),\n                    backgroundColor: colorFor(['background-dark', 'background'], () => '#ffffff22')\n                }\n            },\n            light: {\n                before: {\n                    color: colorFor(['foreground-light', 'foreground'], () => new vscode.ThemeColor('editor.foreground')),\n                    backgroundColor: colorFor(['background-light', 'background'], () => '#00000011')\n                }\n            },\n            rangeBehavior: vscode.DecorationRangeBehavior.OpenClosed,\n        }\n    }"}]}]}],"thread_ts":"1609784777.347800","parent_user_id":"U6BNE7LTZ"},{"client_msg_id":"11aba900-6164-47b0-946d-4e5236e45120","type":"message","text":"Cool! Wanna open a PR for this? I'm not sure if I want to change the defaults, but making results customisable is great","user":"U6BNE7LTZ","ts":"1609837359.355200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jm0b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool! Wanna open a PR for this? I'm not sure if I want to change the defaults, but making results customisable is great"}]}]}],"thread_ts":"1609784777.347800","parent_user_id":"U6BNE7LTZ"}]