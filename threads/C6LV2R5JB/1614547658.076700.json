[{"client_msg_id":"1e72b79c-aab8-4207-b2d2-b6796839893f","type":"message","text":"I am getting an error that only happens in the REPL spawned by VSCode, not in the usual REPL. I am trying out some Luxor.jl code to create animations. This one, for instance:\n```# Adapted from [Cormullian's Slackmojiv's post](<https://cormullion.github.io/pages/2019-06-23-slackmojif/>)\nusing Luxor\n\nfunction frame(scene, framenumber)\n    nfn = rescale(framenumber, scene.framerange.start, scene.framerange.stop)\n    rotate(π*sin(nfn * 2π))\n    juliacircles(18)\nend\n\nsize = 64\nmymovie = Movie(size, size, \"mymovie\")\nanimate(mymovie, [Scene(mymovie, frame, 1:60)],\n    creategif=true, pathname=\"juliafullrocker$(size)x$(size).gif\")```\nIn the REPL, there is no problem, and the animated gif is created. But when I run it from inside vscode, I get the error\n```┌ Info: Frames for animation \"mymovie\" are being stored in directory: \n└        /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB\n┌ Warning: Movie framerange is longer than scene frame range: \n│        1:250 &gt; 60\n└ @ Luxor ~/.julia/packages/Luxor/XSNgj/src/animate.jl:185\n┌ Info: ... 60 frames saved in directory:\n└        /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB\nERROR: LoadError: IOError: could not spawn `ffmpeg -loglevel panic -framerate 30 -f image2 -i /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB/%10d.png -filter_complex '[0:v] split [a][b]; [a] palettegen=stats_mode=full:reserve_transparent=on:transparency_color=FFFFFF [p]; [b][p] paletteuse=new=1:alpha_threshold=128' -y /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB/mymovie.gif`: no such file or directory (ENOENT)\nStacktrace:\n [1] _spawn_primitive(::String, ::Cmd, ::Array{Any,1}) at ./process.jl:99\n [2] #585 at ./process.jl:112 [inlined]\n [3] setup_stdios(::Base.var\"#585#586\"{Cmd}, ::Array{Any,1}) at ./process.jl:196\n [4] _spawn at ./process.jl:111 [inlined]\n [5] run(::Cmd; wait::Bool) at ./process.jl:439\n [6] run at ./process.jl:438 [inlined]\n [7] animate(::Movie, ::Array{Scene,1}; creategif::Bool, framerate::Int64, pathname::String, tempdirectory::String, usenewffmpeg::Bool) at /Users/rrosa/.julia/packages/Luxor/XSNgj/src/animate.jl:211\n [8] top-level scope at /Users/rrosa/Documents/git_repositories/julia/julia_random_stuff/src/julia_rocker.jl:16\nin expression starting at /Users/rrosa/Documents/git_repositories/julia/julia_random_stuff/src/julia_rocker.jl:16```\nWhen I copy the ffmpeg command and run it directly in the shell, it works too.\n\nIs that due to how the VSCode Julia extension handles this or is it something else?","user":"U01CR62LAAD","ts":"1614547658.076700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k9iRS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am getting an error that only happens in the REPL spawned by VSCode, not in the usual REPL. I am trying out some Luxor.jl code to create animations. This one, for instance:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"# Adapted from [Cormullian's Slackmojiv's post]("},{"type":"link","url":"https://cormullion.github.io/pages/2019-06-23-slackmojif/"},{"type":"text","text":")\nusing Luxor\n\nfunction frame(scene, framenumber)\n    nfn = rescale(framenumber, scene.framerange.start, scene.framerange.stop)\n    rotate(π*sin(nfn * 2π))\n    juliacircles(18)\nend\n\nsize = 64\nmymovie = Movie(size, size, \"mymovie\")\nanimate(mymovie, [Scene(mymovie, frame, 1:60)],\n    creategif=true, pathname=\"juliafullrocker$(size)x$(size).gif\")"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"In the REPL, there is no problem, and the animated gif is created. But when I run it from inside vscode, I get the error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Info: Frames for animation \"mymovie\" are being stored in directory: \n└        /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB\n┌ Warning: Movie framerange is longer than scene frame range: \n│        1:250 > 60\n└ @ Luxor ~/.julia/packages/Luxor/XSNgj/src/animate.jl:185\n┌ Info: ... 60 frames saved in directory:\n└        /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB\nERROR: LoadError: IOError: could not spawn `ffmpeg -loglevel panic -framerate 30 -f image2 -i /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB/%10d.png -filter_complex '[0:v] split [a][b]; [a] palettegen=stats_mode=full:reserve_transparent=on:transparency_color=FFFFFF [p]; [b][p] paletteuse=new=1:alpha_threshold=128' -y /var/folders/yj/2q95f5rd57n7_6_q2jym158w0000gn/T/jl_zbLIzB/mymovie.gif`: no such file or directory (ENOENT)\nStacktrace:\n [1] _spawn_primitive(::String, ::Cmd, ::Array{Any,1}) at ./process.jl:99\n [2] #585 at ./process.jl:112 [inlined]\n [3] setup_stdios(::Base.var\"#585#586\"{Cmd}, ::Array{Any,1}) at ./process.jl:196\n [4] _spawn at ./process.jl:111 [inlined]\n [5] run(::Cmd; wait::Bool) at ./process.jl:439\n [6] run at ./process.jl:438 [inlined]\n [7] animate(::Movie, ::Array{Scene,1}; creategif::Bool, framerate::Int64, pathname::String, tempdirectory::String, usenewffmpeg::Bool) at /Users/rrosa/.julia/packages/Luxor/XSNgj/src/animate.jl:211\n [8] top-level scope at /Users/rrosa/Documents/git_repositories/julia/julia_random_stuff/src/julia_rocker.jl:16\nin expression starting at /Users/rrosa/Documents/git_repositories/julia/julia_random_stuff/src/julia_rocker.jl:16"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"When I copy the ffmpeg command and run it directly in the shell, it works too.\n\nIs that due to how the VSCode Julia extension handles this or is it something else?"}]}]}],"thread_ts":"1614547658.076700","reply_count":7,"reply_users_count":2,"latest_reply":"1614550102.087900","reply_users":["U69EQD0CD","U01CR62LAAD"],"subscribed":false},{"client_msg_id":"7E3ECCD8-54B9-4102-BA4A-CFD9A0E11D31","type":"message","text":"Hi - I'd love to help out but I've yet to move from Atom to VSCode. It might be that it can't find the `ffmpeg` program from a new terminal environment.","user":"U69EQD0CD","ts":"1614547899.079700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Od1U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi - I'd love to help out but I've yet to move from Atom to VSCode. It might be that it can't find the "},{"type":"text","text":"ffmpeg","style":{"code":true}},{"type":"text","text":" program from a new terminal environment."}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"C33D0CA0-B0CD-4EE1-A953-015BA980E804","type":"message","text":"I've also not switched to using the new FFMPEG.jl package... :scream: Perhaps you could avoid creating  a gif directly, and create it in a separate step...?","user":"U69EQD0CD","ts":"1614548010.082300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5dGi9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've also not switched to using the new FFMPEG.jl package... "},{"type":"emoji","name":"scream"},{"type":"text","text":" Perhaps you could avoid creating  a gif directly, and create it in a separate step...?"}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"cb133a93-d0f8-4ab7-86c6-6d9e90f19c40","type":"message","text":"Hmm, I don’t know anything about FFMPEG.jl, but the shell code it tries to run is fine, so it might not be this problem. And the error says “no such file or directory” instead of “no command found”, so I assume it does find ffmpeg.","user":"U01CR62LAAD","ts":"1614548366.082500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"05lF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, I don’t know anything about FFMPEG.jl, but the shell code it tries to run is fine, so it might not be this problem. And the error says “no such file or directory” instead of “no command found”, so I assume it does find ffmpeg."}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"feec336f-1555-4e2f-9dd9-095cce5b60af","type":"message","text":"But I can look up how to create the gif in a separate step. It is not actually a necessity, though, as I can just copy and paste the code to the REPL and make it work. It was more to report a possible bug. But it is still not clear to me whether it something due to Luxor.jl or to the Julia VS code extension.","user":"U01CR62LAAD","ts":"1614548502.082700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IRi+j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I can look up how to create the gif in a separate step. It is not actually a necessity, though, as I can just copy and paste the code to the REPL and make it work. It was more to report a possible bug. But it is still not clear to me whether it something due to Luxor.jl or to the Julia VS code extension."}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"6FBD54F4-F100-46E6-816C-E3F2CA895A11","type":"message","text":"Well I don't really understand what I'm doing half the time, so it's more likely something I'm (not) doing correctly. Those VSCode guys are good.... :grinning: If you open an issue on Luxor and add a few deatails about versions I'll have a look and see what I can find.","user":"U69EQD0CD","ts":"1614549588.087500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RmKV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I don't really understand what I'm doing half the time, so it's more likely something I'm (not) doing correctly. Those VSCode guys are good.... "},{"type":"emoji","name":"grinning"},{"type":"text","text":" If you open an issue on Luxor and add a few deatails about versions I'll have a look and see what I can find."}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"1733f88e-03aa-408d-a417-a705d7b12242","type":"message","text":"Hahaha. Ok, I’ll do that.","user":"U01CR62LAAD","ts":"1614550096.087700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ya3v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hahaha. Ok, I’ll do that."}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD"},{"client_msg_id":"4a694f3c-0dd1-41c6-9b42-0ab74274d989","type":"message","text":"Thanks","user":"U01CR62LAAD","ts":"1614550102.087900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3glY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks"}]}]}],"thread_ts":"1614547658.076700","parent_user_id":"U01CR62LAAD","reactions":[{"name":"beers","users":["U69EQD0CD"],"count":1}]}]