[{"client_msg_id":"c1e6ed5b-583f-48f2-b5eb-273a634261d2","type":"message","text":"I have a shapefile and some metadata/attributes for each polygon, and I would like to plot each of them with the color specified by the attribute. I guess I was expecting something like\n```using Shapefile, Plots\ntable = Shapefile.Table(path_to_a_shapefile) # the shapefile\ngeoms = Shapefile.shapes(table)   # the polygons\nplot(geoms, zcolor=table.a_field) # a_field is a given column of the table```\nto work, but it doesn't for me. (It does not error, but the colors are not the `zcolor`.) How should one do that?","user":"UB197FRCL","ts":"1612925710.028000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XvyE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a shapefile and some metadata/attributes for each polygon, and I would like to plot each of them with the color specified by the attribute. I guess I was expecting something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Shapefile, Plots\ntable = Shapefile.Table(path_to_a_shapefile) # the shapefile\ngeoms = Shapefile.shapes(table)   # the polygons\nplot(geoms, zcolor=table.a_field) # a_field is a given column of the table"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"to work, but it doesn't for me. (It does not error, but the colors are not the "},{"type":"text","text":"zcolor","style":{"code":true}},{"type":"text","text":".) How should one do that?"}]}]}],"thread_ts":"1612925710.028000","reply_count":5,"reply_users_count":3,"latest_reply":"1612982621.028900","reply_users":["UB197FRCL","U74AERMNF","U73KENNG4"],"subscribed":false},{"client_msg_id":"b1855c00-a79e-4885-8f80-3ec9e3cdca03","type":"message","text":"FWIW, I think I have tried all the series attributes that made sense (`color`, `fillcolor`, `marker_color`?) but maybe the only way is to build the colormap and attribute the colors of each shape \"by hand\"?","user":"UB197FRCL","ts":"1612926166.028100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6+4+X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW, I think I have tried all the series attributes that made sense ("},{"type":"text","text":"color","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"fillcolor","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"marker_color","style":{"code":true}},{"type":"text","text":"?) but maybe the only way is to build the colormap and attribute the colors of each shape \"by hand\"?"}]}]}],"thread_ts":"1612925710.028000","parent_user_id":"UB197FRCL"},{"client_msg_id":"4daba963-5715-4f5f-a0a9-b6d286893db3","type":"message","text":"I know there are some issues about doing similar things on GitHub, but I could not find a simple solution there.","user":"UB197FRCL","ts":"1612926191.028300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"paVp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I know there are some issues about doing similar things on GitHub, but I could not find a simple solution there."}]}]}],"thread_ts":"1612925710.028000","parent_user_id":"UB197FRCL"},{"client_msg_id":"400004cd-d2f8-4326-a529-129ff7fb7d09","type":"message","text":"The issue seems to be this recipe (<https://github.com/JuliaGeo/GeoInterface.jl/blob/master/src/plotrecipes.jl#L129-L147>) which splits the vector of polygons (and possibly other Geo types) into different series.\nYou can workaround using a MultiPolygon instead. This should work:\n```using GeoInterface\nusing Plots\nusing Shapefile\n\nusing Shapefile, Plots\ntable = Shapefile.Table(path_to_a_shapefile) # the shapefile\ngeoms = Shapefile.shapes(table)   # the polygons\n\nmpoly = MultiPolygon(first.(coordinates.(geoms))) # convert polygons to a multipolygon\n\nplot(mpoly, fill_z=table.a_field) # a_field is a given column of the table```","user":"U74AERMNF","ts":"1612951006.028500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"55p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The issue seems to be this recipe ("},{"type":"link","url":"https://github.com/JuliaGeo/GeoInterface.jl/blob/master/src/plotrecipes.jl#L129-L147"},{"type":"text","text":") which splits the vector of polygons (and possibly other Geo types) into different series.\nYou can workaround using a MultiPolygon instead. This should work:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using GeoInterface\nusing Plots\nusing Shapefile\n\nusing Shapefile, Plots\ntable = Shapefile.Table(path_to_a_shapefile) # the shapefile\ngeoms = Shapefile.shapes(table)   # the polygons\n\nmpoly = MultiPolygon(first.(coordinates.(geoms))) # convert polygons to a multipolygon\n\nplot(mpoly, fill_z=table.a_field) # a_field is a given column of the table"}]}]}],"thread_ts":"1612925710.028000","parent_user_id":"UB197FRCL"},{"client_msg_id":"1c91b43e-d229-439a-9be3-c2779df6d02f","type":"message","text":"I think the issue is simply that it should be `fill_z`. `z_color` is a very unclear alias for `marker_z`","user":"U73KENNG4","ts":"1612982543.028700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S1b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the issue is simply that it should be "},{"type":"text","text":"fill_z","style":{"code":true}},{"type":"text","text":". "},{"type":"text","text":"z_color","style":{"code":true}},{"type":"text","text":" is a very unclear alias for "},{"type":"text","text":"marker_z","style":{"code":true}}]}]}],"thread_ts":"1612925710.028000","parent_user_id":"UB197FRCL"},{"client_msg_id":"e1c6dc1a-edb0-4891-8527-c70fadf4b335","type":"message","text":"but so does\n```plot(geoms, fill_z = table.a_field')```\nnot work?","user":"U73KENNG4","ts":"1612982621.028900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VmIb7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but so does\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"plot(geoms, fill_z = table.a_field')"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"not work?"}]}]}],"thread_ts":"1612925710.028000","parent_user_id":"UB197FRCL"}]