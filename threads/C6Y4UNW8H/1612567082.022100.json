[{"client_msg_id":"c8d52eda-e1e4-4062-a094-ecb3f76bb6ee","type":"message","text":"okay so the issue is that we’re grabbing the wrong `libgcc_s.so`","user":"U66GD0880","ts":"1612567082.022100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zk1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay so the issue is that we’re grabbing the wrong "},{"type":"text","text":"libgcc_s.so","style":{"code":true}}]}]}],"thread_ts":"1612567082.022100","reply_count":19,"reply_users_count":2,"latest_reply":"1612568129.025900","reply_users":["U680THK2S","U66GD0880"],"subscribed":false},{"client_msg_id":"1240b8a0-3ff5-477b-a69f-bb017611e9ae","type":"message","text":"That is the classic Fortran problem on FreeBSD","user":"U680THK2S","ts":"1612567892.022200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kg3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That is the classic Fortran problem on FreeBSD"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"47629288-9e5d-45bc-846e-928db6ba8913","type":"message","text":"Thou shalt not link to `/lib/libgcc_s.so`.","user":"U680THK2S","ts":"1612567911.022400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6FGt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thou shalt not link to "},{"type":"text","text":"/lib/libgcc_s.so","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"c9ee3209-ac90-440a-8817-c9d550683da7","type":"message","text":"yeah","user":"U66GD0880","ts":"1612567922.022600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c8Gul","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"42b3eb99-28b3-44ea-ac65-fca8fcc311af","type":"message","text":"yeah","user":"U680THK2S","ts":"1612567933.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fQLB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"88f97679-3699-4199-b43a-2e9a31b684ad","type":"message","text":"but the compiler seems to _always_ search `/usr/lib` before it searches anything I put in via `-L` or `-Wl,-rpath`","user":"U66GD0880","ts":"1612567975.023000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i=nD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but the compiler seems to "},{"type":"text","text":"always","style":{"italic":true}},{"type":"text","text":" search "},{"type":"text","text":"/usr/lib","style":{"code":true}},{"type":"text","text":" before it searches anything I put in via "},{"type":"text","text":"-L","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"-Wl,-rpath","style":{"code":true}}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"7e9094d2-1432-4aff-8755-cfbdafcc02bd","type":"message","text":"hmmm","user":"U66GD0880","ts":"1612567977.023200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2GcH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmm"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"cb4fabfa-48d8-4f5c-bddf-f37c23ce76a8","type":"message","text":"well","user":"U66GD0880","ts":"1612567978.023400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C2kg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"4956f1c7-2f53-458d-b348-dee2921a6d63","type":"message","text":"How do we get around it in Julia itself?","user":"U680THK2S","ts":"1612567995.023600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9exZG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do we get around it in Julia itself?"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"789c2f38-4a54-453e-8702-68d1d1ab827d","type":"message","text":"we don’t link against libopenblas with `clang`; we `dlopen()` it","user":"U66GD0880","ts":"1612568013.023800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dzTEu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we don’t link against libopenblas with "},{"type":"text","text":"clang","style":{"code":true}},{"type":"text","text":"; we "},{"type":"text","text":"dlopen()","style":{"code":true}},{"type":"text","text":" it"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"a4988f56-1598-4151-b336-e5e54ac6ca53","type":"message","text":"Oh, rip","user":"U680THK2S","ts":"1612568024.024000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GiM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, rip"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"796aaac8-6055-49cc-865a-e64c31e52e38","type":"message","text":"and we build libopenblas via BB","user":"U66GD0880","ts":"1612568029.024200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L3W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and we build libopenblas via BB"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"7c4a76d1-55d1-4c11-9620-e407ba99792c","type":"message","text":"where we don’t haev this problem, I don’t think","user":"U66GD0880","ts":"1612568033.024400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zNjy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where we don’t haev this problem, I don’t think"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"67c03913-2389-4c79-8580-d17ceefe37df","type":"message","text":"hilariously, this isn’t a problem when linking against `libtrampolineblas` itself; only when I link against `libopenblas` directly as a sanity check","user":"U66GD0880","ts":"1612568059.024600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rehp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hilariously, this isn’t a problem when linking against "},{"type":"text","text":"libtrampolineblas","style":{"code":true}},{"type":"text","text":" itself; only when I link against "},{"type":"text","text":"libopenblas","style":{"code":true}},{"type":"text","text":" directly as a sanity check"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"f7c8b6bd-592c-42e5-a0af-5b8777e848ca","type":"message","text":"so…… the sanity check doesn’t work, but the thing under test itself works","user":"U66GD0880","ts":"1612568066.024800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a9E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so…… the sanity check doesn’t work, but the thing under test itself works"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"27b533a3-0842-4972-b7bf-97b754dea4aa","type":"message","text":"perfect","user":"U66GD0880","ts":"1612568067.025000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/lpx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perfect"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"70fbd45f-364f-428f-aee0-04dccbfe81d0","type":"message","text":"oh hey it all works if I just export `CC=gcc`","user":"U66GD0880","ts":"1612568110.025200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"52C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh hey it all works if I just export "},{"type":"text","text":"CC=gcc","style":{"code":true}}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880","reactions":[{"name":"thinking_face","users":["U680THK2S"],"count":1}]},{"client_msg_id":"f92078e5-52d7-4e49-beb1-f4a1a397d934","type":"message","text":"fantastic","user":"U66GD0880","ts":"1612568113.025400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mmV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fantastic"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"client_msg_id":"4a97e579-7d10-4ff9-b55c-34c62d11d7fc","type":"message","text":"FULLY PASSING","user":"U66GD0880","ts":"1612568116.025600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"veM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FULLY PASSING"}]}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"},{"bot_id":"BUQUB8RBN","type":"message","text":"flawless victory","user":"U66GD0880","ts":"1612568129.025900","team":"T68168MUP","bot_profile":{"id":"BUQUB8RBN","deleted":false,"name":"giphy","updated":1583162249,"app_id":"A0F827J2C","icons":{"image_36":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png","image_48":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_48.png","image_72":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_72.png"},"team_id":"T68168MUP"},"blocks":[{"type":"image","block_id":"KGX","image_url":"https://media1.giphy.com/media/J2ySBEBOMOmtUVCboM/giphy.gif?cid=6104955e6f11e9eac0fece7ffb0b015d31cdea02261363af&rid=giphy.gif","alt_text":"flawless victory","title":{"type":"plain_text","text":"flawless victory","emoji":true},"fallback":"480x270px image","image_width":480,"image_height":270,"image_bytes":1148342,"is_animated":true},{"type":"context","block_id":"RL8","elements":[{"type":"image","image_url":"https://a.slack-edge.com/dc483/img/plugins/giphy/service_32.png","alt_text":"giphy logo"},{"type":"mrkdwn","text":"Posted using /giphy","verbatim":false}]}],"thread_ts":"1612567082.022100","parent_user_id":"U66GD0880"}]