[{"client_msg_id":"64311dc9-4a0a-4a94-9294-23be3950d7e4","type":"message","text":"Hey folks. I was trying the tutorial on Bayesian Differential equations in a Pluto notebook. I am getting an MCMCChains method error -- Failed to show value. Here is the code and the message. I am not sure how I should read the error, like what is the cause of the issue. Any suggestions are appreciated.\n```Turing.setadbackend(:forwarddiff)\n\n@model function fitlv(data, prob1)\n    σ ~ InverseGamma(2, 3) # ~ is the tilde character\n    α ~ truncated(Normal(1.5,0.5),0.5,2.5)\n    β ~ truncated(Normal(1.2,0.5),0,2)\n    γ ~ truncated(Normal(3.0,0.5),1,4)\n    δ ~ truncated(Normal(1.0,0.5),0,2)\n\n    p = [α,β,γ,δ]\n    prob = remake(prob1, p=p)\n    predicted = solve(prob,Tsit5(),saveat=0.1)\n\n    for i = 1:length(predicted)\n        data[:,i] ~ MvNormal(predicted[i], σ)\n    end\nend\n\nmodel = fitlv(odedata, prob1)\n\n# This next command runs 3 independent chains without using multithreading. \nchain = mapreduce(c -&gt; sample(model, NUTS(.65),1000), chainscat, 1:3)```\nHere is the message.\n```Failed to show value:\n\nMethodError: no method matching iterate(::MCMCChains.Chains{Float64,AxisArrays.AxisArray{Float64,3,Array{Float64,3},Tuple{AxisArrays.Axis{:iter,StepRange{Int64,Int64}},AxisArrays.Axis{:var,Array{Symbol,1}},AxisArrays.Axis{:chain,UnitRange{Int64}}}},Missing,NamedTuple{(:parameters, :internals),Tuple{Array{Symbol,1},Array{Symbol,1}}},NamedTuple{(),Tuple{}}})\n\nClosest candidates are:\n\niterate(!Matched::Base.RegexMatchIterator) at regex.jl:552\n\niterate(!Matched::Base.RegexMatchIterator, !Matched::Any) at regex.jl:552\n\niterate(!Matched::Libtask.TRef, !Matched::Any...) at /home/krishnab/.julia/packages/Libtask/00Il9/src/tref.jl:86\n\n...```","user":"UDDSTBX19","ts":"1612292883.038900","team":"T68168MUP","edited":{"user":"UDDSTBX19","ts":"1612293101.000000"},"blocks":[{"type":"rich_text","block_id":"niA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks. I was trying the tutorial on Bayesian Differential equations in a Pluto notebook. I am getting an MCMCChains method error -- Failed to show value. Here is the code and the message. I am not sure how I should read the error, like what is the cause of the issue. Any suggestions are appreciated.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Turing.setadbackend(:forwarddiff)\n\n@model function fitlv(data, prob1)\n    σ ~ InverseGamma(2, 3) # ~ is the tilde character\n    α ~ truncated(Normal(1.5,0.5),0.5,2.5)\n    β ~ truncated(Normal(1.2,0.5),0,2)\n    γ ~ truncated(Normal(3.0,0.5),1,4)\n    δ ~ truncated(Normal(1.0,0.5),0,2)\n\n    p = [α,β,γ,δ]\n    prob = remake(prob1, p=p)\n    predicted = solve(prob,Tsit5(),saveat=0.1)\n\n    for i = 1:length(predicted)\n        data[:,i] ~ MvNormal(predicted[i], σ)\n    end\nend\n\nmodel = fitlv(odedata, prob1)\n\n# This next command runs 3 independent chains without using multithreading. \nchain = mapreduce(c -> sample(model, NUTS(.65),1000), chainscat, 1:3)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nHere is the message.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Failed to show value:\n\nMethodError: no method matching iterate(::MCMCChains.Chains{Float64,AxisArrays.AxisArray{Float64,3,Array{Float64,3},Tuple{AxisArrays.Axis{:iter,StepRange{Int64,Int64}},AxisArrays.Axis{:var,Array{Symbol,1}},AxisArrays.Axis{:chain,UnitRange{Int64}}}},Missing,NamedTuple{(:parameters, :internals),Tuple{Array{Symbol,1},Array{Symbol,1}}},NamedTuple{(),Tuple{}}})\n\nClosest candidates are:\n\niterate(!Matched::Base.RegexMatchIterator) at regex.jl:552\n\niterate(!Matched::Base.RegexMatchIterator, !Matched::Any) at regex.jl:552\n\niterate(!Matched::Libtask.TRef, !Matched::Any...) at /home/krishnab/.julia/packages/Libtask/00Il9/src/tref.jl:86\n\n..."}]}]}],"thread_ts":"1612292883.038900","reply_count":15,"reply_users_count":2,"latest_reply":"1612369526.042200","reply_users":["UDDSTBX19","U01H36BUDJB"],"subscribed":false,"reactions":[{"name":"face_with_monocle","users":["UC0SY9JFP"],"count":1}]},{"client_msg_id":"540fb4bb-a0b7-4218-b6eb-4ec943c72396","type":"message","text":"Could this be a datatype error for Float64?","user":"UDDSTBX19","ts":"1612292945.039000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lag9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could this be a datatype error for Float64?"}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"d5a3a646-518f-47d9-9883-761acac082d8","type":"message","text":"Can you check what version you are using?","user":"U01H36BUDJB","ts":"1612295252.039400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D=Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you check what version you are using?"}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"7ef6783e-9e06-4a11-a4fa-d90a8633a08d","type":"message","text":"and make sure MCMCChains is installed. should be in the dependencies, but still good to check.","user":"U01H36BUDJB","ts":"1612295292.039600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3wr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and make sure MCMCChains is installed. should be in the dependencies, but still good to check."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"246333b9-ea1c-45b1-b91b-b2390c22497d","type":"message","text":"It seems to be installed. The version is [c7f686f2] MCMCChains v4.6.0","user":"UDDSTBX19","ts":"1612295590.039800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tgm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It seems to be installed. The version is [c7f686f2] MCMCChains v4.6.0"}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"1f078661-b94e-449b-99bf-d2eee1f3b484","type":"message","text":"<@U01H36BUDJB> you are correct though, the problem seems to be in this line `chain = mapreduce(c -&gt; sample(model, NUTS(.65),1000), chainscat, 1:3)` . But I have to figure out where or if there is some dependency missing.","user":"UDDSTBX19","ts":"1612296009.040000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p+Pa","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" you are correct though, the problem seems to be in this line "},{"type":"text","text":"chain = mapreduce(c -> sample(model, NUTS(.65),1000), chainscat, 1:3)","style":{"code":true}},{"type":"text","text":" . But I have to figure out where or if there is some dependency missing."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"ee2b6230-04b6-4a24-8b6d-0ffb146a8f39","type":"message","text":"Can you try temporarily removing the map reduce? As a workaround, you can convert to a DataFrame and perform the transformation on that.","user":"U01H36BUDJB","ts":"1612296108.040200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qjhUs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you try temporarily removing the map reduce? As a workaround, you can convert to a DataFrame and perform the transformation on that."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"0527f6c5-6c92-44ec-ac75-53567641d805","type":"message","text":"Okay let me give that a shot. I am still a julia beginner, so I will have to figure out what the alternative code should look like, but this will be good practice.","user":"UDDSTBX19","ts":"1612299478.040400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eoNqc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay let me give that a shot. I am still a julia beginner, so I will have to figure out what the alternative code should look like, but this will be good practice."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"8172f907-cc5c-4c0e-96a3-b0a726a3147e","type":"message","text":"Thank again for helping me with this. At least I know where to look in the code for that error.","user":"UDDSTBX19","ts":"1612299499.040600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xUEF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank again for helping me with this. At least I know where to look in the code for that error."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"ed51c94f-a7ed-4408-99fe-0326724f5c59","type":"message","text":"`DataFrame(sample(model,NUTS(.65),1000))` then look at the structure of the `DataFrame` and hopefully it's not too hard to figure out the rest.","user":"U01H36BUDJB","ts":"1612299647.040800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3gb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DataFrame(sample(model,NUTS(.65),1000))","style":{"code":true}},{"type":"text","text":" then look at the structure of the "},{"type":"text","text":"DataFrame","style":{"code":true}},{"type":"text","text":" and hopefully it's not too hard to figure out the rest."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"b83370d1-fdd1-4b2a-b166-8eab441c9d8f","type":"message","text":"Though I suppose you won't be able to use `chainscat` anymore so you'll have to do that bit yourself. I think it should just be a simple reshape operation but I can't recall the exact structure of the DataFrame.","user":"U01H36BUDJB","ts":"1612299715.041000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CP8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Though I suppose you won't be able to use "},{"type":"text","text":"chainscat","style":{"code":true}},{"type":"text","text":" anymore so you'll have to do that bit yourself. I think it should just be a simple reshape operation but I can't recall the exact structure of the DataFrame."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"6a609540-fc85-4040-9125-9757d9a0f14b","type":"message","text":"Oh that code did work. So I got the dataframe and it seems to have worked. Is that just the mcmc chain samples. great.","user":"UDDSTBX19","ts":"1612300135.041200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q8F7e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh that code did work. So I got the dataframe and it seems to have worked. Is that just the mcmc chain samples. great."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19","reactions":[{"name":"+1","users":["U01H36BUDJB"],"count":1}]},{"client_msg_id":"c682c5b6-3b1a-4de4-88f4-bfcba320ac1f","type":"message","text":"Cool. So the issue must be with the `chainscat` or something. Perhaps it is not getting imported properly or I need to prefix the namespace.","user":"UDDSTBX19","ts":"1612300268.041500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pz2E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool. So the issue must be with the "},{"type":"text","text":"chainscat","style":{"code":true}},{"type":"text","text":" or something. Perhaps it is not getting imported properly or I need to prefix the namespace."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"aa5cbc54-2238-440d-84b4-5d2fe35212d2","type":"message","text":"Might still be worth creating an issue on GitHub because it does look like MCMCChains is just missing a dispatch for `Base.iterate` .","user":"U01H36BUDJB","ts":"1612300981.041700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NKP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Might still be worth creating an issue on GitHub because it does look like MCMCChains is just missing a dispatch for "},{"type":"text","text":"Base.iterate","style":{"code":true}},{"type":"text","text":" ."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"2a9a033c-b3c0-4052-98e0-a5e52d407a0b","type":"message","text":"Oh okay. I can post an issue for that. No problem.","user":"UDDSTBX19","ts":"1612302765.041900","team":"T68168MUP","edited":{"user":"UDDSTBX19","ts":"1612302803.000000"},"blocks":[{"type":"rich_text","block_id":"2DW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh okay. I can post an issue for that. No problem."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"},{"client_msg_id":"f8e818d0-17cb-471d-80db-88a784d30813","type":"message","text":"<@U01H36BUDJB> I opened an issue <https://github.com/TuringLang/Turing.jl/issues/1536> under Turing. Hopefully someone can route the issue to MCMCChains if that is the proper assignment.","user":"UDDSTBX19","ts":"1612369526.042200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yMd","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" I opened an issue "},{"type":"link","url":"https://github.com/TuringLang/Turing.jl/issues/1536"},{"type":"text","text":" under Turing. Hopefully someone can route the issue to MCMCChains if that is the proper assignment."}]}]}],"thread_ts":"1612292883.038900","parent_user_id":"UDDSTBX19"}]