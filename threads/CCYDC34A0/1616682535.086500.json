[{"client_msg_id":"c5a36426-4fb4-4f35-a50f-8cd96a2d0398","type":"message","text":"Are there any examples of performing stacking with model weights in Turing as described in <https://arxiv.org/pdf/2006.12335.pdf|Stacking for Non-mixing Bayesian Computations>?","user":"U01C1H3GLLU","ts":"1616682535.086500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cXAmG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are there any examples of performing stacking with model weights in Turing as described in "},{"type":"link","url":"https://arxiv.org/pdf/2006.12335.pdf","text":"Stacking for Non-mixing Bayesian Computations"},{"type":"text","text":"?"}]}]}],"thread_ts":"1616682535.086500","reply_count":7,"reply_users_count":2,"latest_reply":"1616886565.096700","reply_users":["UHDQQ4GN6","U01C1H3GLLU"],"is_locked":false,"subscribed":false},{"client_msg_id":"81c9ba8b-6e95-4187-be58-3525e750f633","type":"message","text":"It's possible to get the stacking weights using `ArviZ.compare` I believe, though it takes some boilerplate code. I'll write up an example.","user":"UHDQQ4GN6","ts":"1616713368.091300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/i6t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's possible to get the stacking weights using "},{"type":"text","text":"ArviZ.compare","style":{"code":true}},{"type":"text","text":" I believe, though it takes some boilerplate code. I'll write up an example."}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"bcdf7712-d86b-4028-8af1-527ace517596","type":"message","text":"Ah, actually, I believe that only computes stacking weights for predictive distributions from <https://arxiv.org/pdf/1704.02030.pdf>. Not certain how it relates to that paper.","user":"UHDQQ4GN6","ts":"1616726906.092000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0OW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, actually, I believe that only computes stacking weights for predictive distributions from "},{"type":"link","url":"https://arxiv.org/pdf/1704.02030.pdf"},{"type":"text","text":". Not certain how it relates to that paper."}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"1670a29e-c295-4494-9fae-dee8792554e2","type":"message","text":"Hmm, I think I should be able to work it out using arviz as a starting point. Thank you!","user":"U01C1H3GLLU","ts":"1616744618.092500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qwnTE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, I think I should be able to work it out using arviz as a starting point. Thank you!"}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"af91aab7-06b9-4f5f-8863-d64c4e358f6e","type":"message","text":"This might be helpful: <https://gist.github.com/sethaxen/0fd03cec283e5f42cc6a257fd9fd6445>. `compare` was written with the paper I linked to in mind, though, so it might not do the same thing. But the example in the gist estimates component weights as `[0.62, 0.38]` when the data-generating process was a mixture with weights `[0.6, 0.4]`.","user":"UHDQQ4GN6","ts":"1616745249.092700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q03","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This might be helpful: "},{"type":"link","url":"https://gist.github.com/sethaxen/0fd03cec283e5f42cc6a257fd9fd6445"},{"type":"text","text":". "},{"type":"text","text":"compare","style":{"code":true}},{"type":"text","text":" was written with the paper I linked to in mind, though, so it might not do the same thing. But the example in the gist estimates component weights as "},{"type":"text","text":"[0.62, 0.38]","style":{"code":true}},{"type":"text","text":" when the data-generating process was a mixture with weights "},{"type":"text","text":"[0.6, 0.4]","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU","reactions":[{"name":"pray","users":["U01C1H3GLLU"],"count":1}]},{"client_msg_id":"5f093598-b33b-48c5-ba89-15184dcd9c6f","type":"message","text":"great, this will help :smile:","user":"U01C1H3GLLU","ts":"1616751607.094100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wM3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"great, this will help "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"cb0632a2-8c96-428e-8921-5941054d836f","type":"message","text":"Hi Seth, I get an error when running that example, did you mean\n`function cluster_by_rhat(idata, nchains; rhat_cutoff=1.01)`\n `clusters = [[0]]`\n    `for i in 1:nchains-1`\n?\nIt works with this change :slightly_smiling_face:","user":"U01C1H3GLLU","ts":"1616762634.094700","team":"T68168MUP","edited":{"user":"U01C1H3GLLU","ts":"1616762656.000000"},"blocks":[{"type":"rich_text","block_id":"mMy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi Seth, I get an error when running that example, did you mean\n"},{"type":"text","text":"function cluster_by_rhat(idata, nchains; rhat_cutoff=1.01)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":" clusters = [[0]]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"    for i in 1:nchains-1","style":{"code":true}},{"type":"text","text":"\n?\nIt works with this change "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"56ca3649-ac2c-4624-8b8a-ed5ae9b1177d","type":"message","text":"Oh, you know, I might be running the master version of the underlying Python package, which now indexes like Julia when wrapped. So yeah, on the latest release, your change is probably correct.","user":"UHDQQ4GN6","ts":"1616886565.096700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8319","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, you know, I might be running the master version of the underlying Python package, which now indexes like Julia when wrapped. So yeah, on the latest release, your change is probably correct."}]}]}],"thread_ts":"1616682535.086500","parent_user_id":"U01C1H3GLLU","reactions":[{"name":"+1","users":["U01C1H3GLLU"],"count":1}]}]