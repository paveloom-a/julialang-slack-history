[{"type":"message","text":"It appears that there is something wrong with plotting sample values (there is a distinctly positive density for negative values which are not present in the chain, nor allowed by the priors). Is this because of some smoothing kernel used for making that plot? Can that be improved somehow?","files":[{"id":"F01S93VFYR0","created":1616580126,"timestamp":1616580126,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U9AHT3YM7","editable":false,"size":175615,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01S93VFYR0/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01S93VFYR0/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_360.png","thumb_360_w":360,"thumb_360_h":179,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_480.png","thumb_480_w":480,"thumb_480_h":239,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_720.png","thumb_720_w":720,"thumb_720_h":358,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_800.png","thumb_800_w":800,"thumb_800_h":398,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_960.png","thumb_960_w":960,"thumb_960_h":477,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01S93VFYR0-f4ac8344ff/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":509,"original_w":1322,"original_h":657,"thumb_tiny":"AwAXADDS7UgBoOPXmmPGZBw5XnPFAmSZPpRk+n61X+zNn/WtUscZQEFi3Pem0u4k32H5PpQScdKDRSKGnrQQ/wDBjOe9B+9TxQBF++6fJ+tPXfj58Z9qX+L8KWncVhCcUUj9qcaQz//Z","permalink":"https://julialang.slack.com/files/U9AHT3YM7/F01S93VFYR0/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01S93VFYR0-cba01e3789","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"yTA7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It appears that there is something wrong with plotting sample values (there is a distinctly positive density for negative values which are not present in the chain, nor allowed by the priors). Is this because of some smoothing kernel used for making that plot? Can that be improved somehow?"}]}]}],"user":"U9AHT3YM7","display_as_bot":false,"ts":"1616580193.061500","thread_ts":"1616580193.061500","reply_count":10,"reply_users_count":4,"latest_reply":"1616599730.065500","reply_users":["U8T9JUA5R","UC0SY9JFP","U9AHT3YM7","UHDQQ4GN6"],"is_locked":false,"subscribed":false},{"client_msg_id":"4ad21053-2ecb-4586-8162-47f78d598201","type":"message","text":"It just uses the density recipe in StatsPlots. One can set the `bandwidth` there and `trim` the data: <https://github.com/JuliaPlots/StatsPlots.jl/blob/3c63b5a01d6b95ed667a227ef4a6c6477fb834c0/src/hist.jl#L5> You can adjust these parameters when you call `density` (or `mixeddensity`) directly. However, the default `plot` call just uses the default keyword arguments. Can you try `plot(chain; trim=true)`?","user":"U8T9JUA5R","ts":"1616580616.062000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cJX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It just uses the density recipe in StatsPlots. One can set the "},{"type":"text","text":"bandwidth","style":{"code":true}},{"type":"text","text":" there and "},{"type":"text","text":"trim","style":{"code":true}},{"type":"text","text":" the data: "},{"type":"link","url":"https://github.com/JuliaPlots/StatsPlots.jl/blob/3c63b5a01d6b95ed667a227ef4a6c6477fb834c0/src/hist.jl#L5"},{"type":"text","text":" You can adjust these parameters when you call "},{"type":"text","text":"density","style":{"code":true}},{"type":"text","text":" (or "},{"type":"text","text":"mixeddensity","style":{"code":true}},{"type":"text","text":") directly. However, the default "},{"type":"text","text":"plot","style":{"code":true}},{"type":"text","text":" call just uses the default keyword arguments. Can you try "},{"type":"text","text":"plot(chain; trim=true)","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7","reactions":[{"name":"+1","users":["U9AHT3YM7"],"count":1}]},{"client_msg_id":"7f1e8e03-8b24-4745-8cc8-6413ba5aa11a","type":"message","text":"David was faster…","user":"UC0SY9JFP","ts":"1616580644.062200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LwvE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"David was faster…"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"94a4de18-beb8-4db8-ae19-a3e1b93f84b8","type":"message","text":"Thanks, trimming did the trick :slightly_smiling_face:","user":"U9AHT3YM7","ts":"1616580749.062400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d09HC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, trimming did the trick "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"a0956813-c436-4082-ad32-92c0245e6a56","type":"message","text":"I guess it would be a reasonable default setting","user":"U8T9JUA5R","ts":"1616581613.063200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NC9+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess it would be a reasonable default setting"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"4cf1e7b2-afd9-4f19-b642-a26ed3eaf264","type":"message","text":"For Chains, not in StatsPlots, I mean","user":"U8T9JUA5R","ts":"1616581632.063400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HEE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For Chains, not in StatsPlots, I mean"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"3c820937-f47c-4991-8d93-bba8e18e0c19","type":"message","text":"Hmm well, on a second thought maybe it's not a good idea - I guess if the variable is not constrained it would look less \"natural\" than the current setting :smile:","user":"U8T9JUA5R","ts":"1616581724.063600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FVPe3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm well, on a second thought maybe it's not a good idea - I guess if the variable is not constrained it would look less \"natural\" than the current setting "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"a396bd31-cb70-4d40-a613-0c130cc0678e","type":"message","text":"ArviZ defaults to trimmed.","user":"UHDQQ4GN6","ts":"1616582213.063800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YVbCW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ArviZ defaults to trimmed."}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"904185ae-e2d2-4f65-bc34-0bb82285f514","type":"message","text":"<https://github.com/TuringLang/MCMCChains.jl/pull/280>","user":"U8T9JUA5R","ts":"1616584134.064000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ukzf","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/TuringLang/MCMCChains.jl/pull/280"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"385769d6-a77c-4975-bee0-c047e0fd0755","type":"message","text":"Thanks for a quick PR :slightly_smiling_face:","user":"U9AHT3YM7","ts":"1616596726.065300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ilaI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for a quick PR "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"},{"client_msg_id":"eca7231d-f85b-4457-8696-361c4a606b55","type":"message","text":"`trim = true` is the default in MCMCChains 4.7.3. It was just released, so your problem should be fixed if you update MCMCChains.","user":"U8T9JUA5R","ts":"1616599730.065500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"44Oj+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"trim = true","style":{"code":true}},{"type":"text","text":" is the default in MCMCChains 4.7.3. It was just released, so your problem should be fixed if you update MCMCChains."}]}]}],"thread_ts":"1616580193.061500","parent_user_id":"U9AHT3YM7"}]