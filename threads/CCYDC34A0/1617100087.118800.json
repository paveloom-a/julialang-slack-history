[{"client_msg_id":"02060d4e-1b5c-4c1e-8771-9fb328c8529a","type":"message","text":"Hi -- just some confusion. I was told earlier on this channel that `sample` expects to be passed the total number of steps (warmup + samples), and you pass the number of warmup steps to NUTS i.e. `sample(rng, model, NUTS(nwarmup, 0.8), MCMCThreads(), nwarmup + nsamples, nchains)` . On github I see <https://github.com/TuringLang/Turing.jl/issues/1537|an issue> which seems to say something contradictory - that you don't pass Nwarmup to sample, only to NUTS, i.e. in the below code block there are 2 000 total samples for each chain and the first 1 000 are removed.\n\n```nsamples = 1000\nnwarmup = 1000\nspecs = NUTS(nwarmup, .65)\nn_chains = 4\nchain = sample(model(y), specs, MCMCThreads(), nsamples, n_chains) ```\n What is the correct behaviour?","user":"U01C1H3GLLU","ts":"1617100087.118800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g8k0z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi -- just some confusion. I was told earlier on this channel that "},{"type":"text","text":"sample","style":{"code":true}},{"type":"text","text":" expects to be passed the total number of steps (warmup + samples), and you pass the number of warmup steps to NUTS i.e. "},{"type":"text","text":"sample(rng, model, NUTS(nwarmup, 0.8), MCMCThreads(), nwarmup + nsamples, nchains)","style":{"code":true}},{"type":"text","text":" . On github I see "},{"type":"link","url":"https://github.com/TuringLang/Turing.jl/issues/1537","text":"an issue"},{"type":"text","text":" which seems to say something contradictory - that you don't pass Nwarmup to sample, only to NUTS, i.e. in the below code block there are 2 000 total samples for each chain and the first 1 000 are removed.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"nsamples = 1000\nnwarmup = 1000\nspecs = NUTS(nwarmup, .65)\nn_chains = 4\nchain = sample(model(y), specs, MCMCThreads(), nsamples, n_chains) "}]},{"type":"rich_text_section","elements":[{"type":"text","text":" What is the correct behaviour?"}]}]}],"thread_ts":"1617100087.118800","reply_count":3,"reply_users_count":3,"latest_reply":"1617122943.123000","reply_users":["U01C2AJ9F63","U01C1H3GLLU","UHDQQ4GN6"],"is_locked":false,"subscribed":false},{"client_msg_id":"d653bd42-93f0-47f2-99b8-ca7d35fb9004","type":"message","text":"I was equally confused, as you can perhaps read in that very topic you linked on github. So the expected and correct behavior is that you pass the number of samples (non-warmup) to sample, and the number of warmup steps to NUTS. It indeed used to be different apparently, hence some tutorials might have the outdated method.","user":"U01C2AJ9F63","ts":"1617105338.119800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=oV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was equally confused, as you can perhaps read in that very topic you linked on github. So the expected and correct behavior is that you pass the number of samples (non-warmup) to sample, and the number of warmup steps to NUTS. It indeed used to be different apparently, hence some tutorials might have the outdated method."}]}]}],"thread_ts":"1617100087.118800","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"bc64f7bb-65ee-43e1-a8be-72fabf85b0a1","type":"message","text":"thank you. Did not recognise that you were also there!","user":"U01C1H3GLLU","ts":"1617113136.121000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D4B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you. Did not recognise that you were also there!"}]}]}],"thread_ts":"1617100087.118800","parent_user_id":"U01C1H3GLLU"},{"client_msg_id":"8ab6af2e-a148-4943-b006-03b8cd0b3395","type":"message","text":"Oh good to know.","user":"UHDQQ4GN6","ts":"1617122943.123000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wGyT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh good to know."}]}]}],"thread_ts":"1617100087.118800","parent_user_id":"U01C1H3GLLU"}]