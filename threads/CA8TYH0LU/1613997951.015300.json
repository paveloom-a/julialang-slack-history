[{"client_msg_id":"8eed6401-b7a6-4d8f-8c31-69a595b0be06","type":"message","text":"You would need to figure out the correct command line invocation to do the opening and then add a callback to <https://github.com/JuliaLang/julia/blob/909c7f3505ef4fe7c7aec83ac58af18eb5536f1b/stdlib/InteractiveUtils/src/editless.jl#L7-L15> that executes this.","user":"U67D54KS8","ts":"1613997951.015300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K1D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You would need to figure out the correct command line invocation to do the opening and then add a callback to "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/909c7f3505ef4fe7c7aec83ac58af18eb5536f1b/stdlib/InteractiveUtils/src/editless.jl#L7-L15"},{"type":"text","text":" that executes this."}]}]}],"thread_ts":"1613997951.015300","reply_count":10,"reply_users_count":3,"latest_reply":"1614003538.018100","reply_users":["UEA5FBCRH","U67D54KS8","U6BNE7LTZ"],"subscribed":false},{"client_msg_id":"4066a9bd-c2c3-4ffb-96fc-3e0aff3bc553","type":"message","text":"Thanks! I will try this out.","user":"UEA5FBCRH","ts":"1613998174.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8EU0N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks! I will try this out."}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"87c858e0-9244-4718-a555-f916f65099f8","type":"message","text":"Actually, the correct way is to use the `define_editor` function in the InteractiveUtils module, not directly add it to that vector I linked.","user":"U67D54KS8","ts":"1613998683.015600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Yo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Actually, the correct way is to use the "},{"type":"text","text":"define_editor","style":{"code":true}},{"type":"text","text":" function in the InteractiveUtils module, not directly add it to that vector I linked."}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"d0df7366-6702-4ea2-a10a-26055a85d249","type":"message","text":"<https://docs.julialang.org/en/v1/stdlib/InteractiveUtils/#InteractiveUtils.define_editor>","user":"U67D54KS8","ts":"1613998723.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W=tF","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.julialang.org/en/v1/stdlib/InteractiveUtils/#InteractiveUtils.define_editor"}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"81362d07-03a0-46a4-8ad1-11765958f87b","type":"message","text":"I found a command that when run from the REPL tmux pane, opens `~/scratch/eraseme.jl` in the left pane (in the existing vim instance) with the cursor on line 20:\n```tmux send-keys -t {left-of} Escape ':e +20 ~/scratch/eraseme.jl' C-m```\nI'm trying to understand this Example to see if I can adapt it to my needs:\n```define_editor(\n    r\"\\bemacs\\b.*\\s(-nw|--no-window-system)\\b\", wait=true) do cmd, path, line\n    `$cmd +$line $path`\nend```\nBut haven't managed so far.\nI don't understand the need for a regular expression in the example.","user":"UEA5FBCRH","ts":"1614000768.016000","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1614001022.000000"},"blocks":[{"type":"rich_text","block_id":"gUM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I found a command that when run from the REPL tmux pane, opens "},{"type":"text","text":"~/scratch/eraseme.jl","style":{"code":true}},{"type":"text","text":" in the left pane (in the existing vim instance) with the cursor on line 20:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"tmux send-keys -t {left-of} Escape ':e +20 ~/scratch/eraseme.jl' C-m"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to understand this Example to see if I can adapt it to my needs:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"define_editor(\n    r\"\\bemacs\\b.*\\s(-nw|--no-window-system)\\b\", wait=true) do cmd, path, line\n    `$cmd +$line $path`\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"But haven't managed so far.\nI don't understand the need for a regular expression in the example."}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"657e2e57-fd29-466b-9725-0c8ff86b76ca","type":"message","text":"&gt; It is possible to add more\n&gt;  general editing hooks that need not spawn external commands by pushing a callback directly to the vector EDITOR_CALLBACKS.\nMaybe that is easier...","user":"U67D54KS8","ts":"1614001015.016900","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1614001020.000000"},"blocks":[{"type":"rich_text","block_id":"qM/","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"It is possible to add more\n general editing hooks that need not spawn external commands by pushing a callback directly to the vector EDITOR_CALLBACKS."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nMaybe that is easier..."}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"725b5743-b396-4ed6-9da5-10367c82375a","type":"message","text":"<https://gist.github.com/pfitzseb/a6529654c1d6faf2ba144aa8616a31aa>","user":"U6BNE7LTZ","ts":"1614003336.017300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8Lv29","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gist.github.com/pfitzseb/a6529654c1d6faf2ba144aa8616a31aa"}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"d5b276ce-dc95-47ea-8993-2fb56bacd12d","type":"message","text":"the `define_editor`/`EDITOR_CALLBACKS` stuff is very new, I think","user":"U6BNE7LTZ","ts":"1614003354.017500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U92","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the "},{"type":"text","text":"define_editor","style":{"code":true}},{"type":"text","text":"/"},{"type":"text","text":"EDITOR_CALLBACKS","style":{"code":true}},{"type":"text","text":" stuff is very new, I think"}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"d034313b-09a2-4af8-8909-54a9b6e31004","type":"message","text":"Ah, but it is in 1.5","user":"U6BNE7LTZ","ts":"1614003388.017700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S0N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, but it is in 1.5"}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"79ec3ce1-018b-4054-9b09-11ab93aadaa2","type":"message","text":"Got it working with:\n\n```# in startup.jl\nusing InteractiveUtils\nInteractiveUtils.define_editor(\n    \"nvim\", wait=false) do cmd, path, line\n    `tmux send-keys -t '{'left-of'}' Escape \":e +$line $path\" C-m`\nend```\nThanks <@U67D54KS8> and <@U6BNE7LTZ>","user":"UEA5FBCRH","ts":"1614003422.017900","team":"T68168MUP","edited":{"user":"UEA5FBCRH","ts":"1614004809.000000"},"blocks":[{"type":"rich_text","block_id":"D4D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Got it working with:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"# in startup.jl\nusing InteractiveUtils\nInteractiveUtils.define_editor(\n    \"nvim\", wait=false) do cmd, path, line\n    `tmux send-keys -t '{'left-of'}' Escape \":e +$line $path\" C-m`\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThanks "},{"type":"user","user_id":"U67D54KS8"},{"type":"text","text":" and "},{"type":"user","user_id":"U6BNE7LTZ"}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"},{"client_msg_id":"5c0ae032-e7e7-4947-a30b-fd16cc9981a7","type":"message","text":"The only thing missing is to switch the focus, but that shouldn't be too hard.","user":"UEA5FBCRH","ts":"1614003538.018100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"76C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The only thing missing is to switch the focus, but that shouldn't be too hard."}]}]}],"thread_ts":"1613997951.015300","parent_user_id":"U67D54KS8"}]