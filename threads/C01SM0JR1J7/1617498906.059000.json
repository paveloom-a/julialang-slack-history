[{"client_msg_id":"158bc378-3c11-421b-a308-c2d77905e799","type":"message","text":"<@UC81ESVH6> How did you handle say the version checks in the test suite by the way? Just curious since I am currently squirming a bit over the idea of either disabling them or swapping in the version numbers provided by Nixpkgs.","user":"U677R5Q5A","ts":"1617498906.059000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gz0","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UC81ESVH6"},{"type":"text","text":" How did you handle say the version checks in the test suite by the way? Just curious since I am currently squirming a bit over the idea of either disabling them or swapping in the version numbers provided by Nixpkgs."}]}]}],"thread_ts":"1617498906.059000","reply_count":9,"reply_users_count":2,"latest_reply":"1617511180.061200","reply_users":["UC81ESVH6","U677R5Q5A"],"is_locked":false,"subscribed":false},{"client_msg_id":"a29a56aa-611b-4592-9a7f-4e794baf92cb","type":"message","text":"Yes, I also found it a bit odd that they would enforce exact version numbers. I will probably not handle them at all since I don't think anyone (or any automated process) will be running the test suite since it takes too long. My only concern is the blas linalg tests failing since that indicates an actual problem users might hit.","user":"UC81ESVH6","ts":"1617502169.059300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ALrq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I also found it a bit odd that they would enforce exact version numbers. I will probably not handle them at all since I don't think anyone (or any automated process) will be running the test suite since it takes too long. My only concern is the blas linalg tests failing since that indicates an actual problem users might hit."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"fb5e4a0f-0636-4f9f-94be-d1845dd3ad34","type":"message","text":"Yeah, I will probably patch them to be skipped as I do want the test suite to run when building. It really is not that slow if you change it to run in parallel. Here is a dirty hack to enable it in the non-networed Nix  sandbox: `sed -i -e 's/if net_on/if true/' test/runtests.jl`.","user":"U677R5Q5A","ts":"1617506877.059800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Avzq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I will probably patch them to be skipped as I do want the test suite to run when building. It really is not that slow if you change it to run in parallel. Here is a dirty hack to enable it in the non-networed Nix  sandbox: "},{"type":"text","text":"sed -i -e 's/if net_on/if true/' test/runtests.jl","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"7ecd345d-b2c1-4873-92f6-43668aa2b2e2","type":"message","text":"All of my current issues – from what I can tell – stem from issues symlinking system libraries and I have no bleedin’ clue how you do not fall victim to the same thing as I see no workaround for say `libnghttp2` that I would need for example.","user":"U677R5Q5A","ts":"1617506984.060000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vIS0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All of my current issues – from what I can tell – stem from issues symlinking system libraries and I have no bleedin’ clue how you do not fall victim to the same thing as I see no workaround for say "},{"type":"text","text":"libnghttp2","style":{"code":true}},{"type":"text","text":" that I would need for example."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"0ab4fa31-bc8d-464c-987c-43f700c8882d","type":"message","text":"I don't think http2 is actually a direct dependency, it is only used by curl.","user":"UC81ESVH6","ts":"1617510757.060200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2ruw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think http2 is actually a direct dependency, it is only used by curl."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"9a430b15-ffc2-40e9-a8f0-d83df2a475d5","type":"message","text":"Also that PR you linked above is missing `USE_SYSTEM_CSL` and possibly a few others.","user":"UC81ESVH6","ts":"1617510903.060400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JYm2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also that PR you linked above is missing "},{"type":"text","text":"USE_SYSTEM_CSL","style":{"code":true}},{"type":"text","text":" and possibly a few others."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"b0002a32-3f71-422b-a58c-7f89e71a1566","type":"message","text":"Yeah, that expression really has some bad lineage. I am trying to base my current one one my clean v1.0.5 version. I mean, the expression in the PR even has flags that do not exist and one that is misspelt I think.","user":"U677R5Q5A","ts":"1617511038.060600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CWRL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that expression really has some bad lineage. I am trying to base my current one one my clean v1.0.5 version. I mean, the expression in the PR even has flags that do not exist and one that is misspelt I think."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"e1397ad5-b0c9-4181-ba90-ea632d111086","type":"message","text":"I think the issue is that the JLLs expect a certain naming that clashes with what Nixpkgs uses. So I will just try to patch the JLLs and see if that gets rid of the last few issues.","user":"U677R5Q5A","ts":"1617511086.060800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"29t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the issue is that the JLLs expect a certain naming that clashes with what Nixpkgs uses. So I will just try to patch the JLLs and see if that gets rid of the last few issues."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"bb291f2b-8682-4c2b-a4b7-dc6d4c56a720","type":"message","text":"Building LLVM from scratch over and over is sooo bloody painful though.","user":"U677R5Q5A","ts":"1617511118.061000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4cZS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Building LLVM from scratch over and over is sooo bloody painful though."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"},{"client_msg_id":"ac05a0be-e586-46da-aabe-456e64214427","type":"message","text":"Wish I could help you with BLAS, but I have PTSD from ATLAS, GotoBLAS, and OpenBLAS back when I was a PhD student and all the errors I had.","user":"U677R5Q5A","ts":"1617511180.061200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b8t=J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wish I could help you with BLAS, but I have PTSD from ATLAS, GotoBLAS, and OpenBLAS back when I was a PhD student and all the errors I had."}]}]}],"thread_ts":"1617498906.059000","parent_user_id":"U677R5Q5A"}]