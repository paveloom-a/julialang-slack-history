[{"client_msg_id":"c72ca1fb-782a-42f6-8ffb-da1cd559ef24","type":"message","text":"I'm having troubles differentiating with `Zygote` through some code I've written involving a custom array, and some experimentation shows that (at least part of it) is the need for a custom `getindex` adjoint. Now, I've defined it, but by putting a `print(\"hi there\")` in the backward pass I see that the code is not being called, and instead an error involving some `literal_getindex` function shows up. Now, I've tried a similar thing with a simpler custom array and what I did in the more complex case actually works, so I don't know what else to try now... Should I define an adjoint for this `literal_getindex` too, or what?","user":"ULDCM1P9P","ts":"1617982710.160600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4AfF6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm having troubles differentiating with "},{"type":"text","text":"Zygote","style":{"code":true}},{"type":"text","text":" through some code I've written involving a custom array, and some experimentation shows that (at least part of it) is the need for a custom "},{"type":"text","text":"getindex","style":{"code":true}},{"type":"text","text":" adjoint. Now, I've defined it, but by putting a "},{"type":"text","text":"print(\"hi there\")","style":{"code":true}},{"type":"text","text":" in the backward pass I see that the code is not being called, and instead an error involving some "},{"type":"text","text":"literal_getindex","style":{"code":true}},{"type":"text","text":" function shows up. Now, I've tried a similar thing with a simpler custom array and what I did in the more complex case actually works, so I don't know what else to try now... Should I define an adjoint for this "},{"type":"text","text":"literal_getindex","style":{"code":true}},{"type":"text","text":" too, or what?"}]}]}],"thread_ts":"1617982710.160600","reply_count":2,"reply_users_count":2,"latest_reply":"1617982960.160900","reply_users":["UM30MT6RF","ULDCM1P9P"],"is_locked":false,"subscribed":false},{"client_msg_id":"33a69dfa-b309-41a5-988f-7d7ad699fa81","type":"message","text":"Yeah, you will need to define an adjoint for `literal_getindex`. I am not a big fan of that design either...","user":"UM30MT6RF","ts":"1617982923.160700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bLY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, you will need to define an adjoint for "},{"type":"text","text":"literal_getindex","style":{"code":true}},{"type":"text","text":". I am not a big fan of that design either..."}]}]}],"thread_ts":"1617982710.160600","parent_user_id":"ULDCM1P9P"},{"client_msg_id":"ed7b45b1-5db7-42cc-89fb-d89cdcefe684","type":"message","text":"OK, I'll try that, thanks!","user":"ULDCM1P9P","ts":"1617982960.160900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lxWF=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, I'll try that, thanks!"}]}]}],"thread_ts":"1617982710.160600","parent_user_id":"ULDCM1P9P"}]