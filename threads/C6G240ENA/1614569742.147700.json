[{"client_msg_id":"b76f3d37-83e7-458e-84bb-d588f8c11790","type":"message","text":"Can zygote calculate gradients of functions that internally use `Dual` types from `ForwardDiff` ? The two AD systems are not calculating derivatives toward the same parameters. Any suggestions for other (combinations of) AD systems, this would work with?","user":"UQEDP1Q5V","ts":"1614569742.147700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vK5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can zygote calculate gradients of functions that internally use "},{"type":"text","text":"Dual","style":{"code":true}},{"type":"text","text":" types from "},{"type":"text","text":"ForwardDiff","style":{"code":true}},{"type":"text","text":" ? The two AD systems are not calculating derivatives toward the same parameters. Any suggestions for other (combinations of) AD systems, this would work with?"}]}]}],"thread_ts":"1614569742.147700","reply_count":5,"reply_users_count":3,"latest_reply":"1614709979.158400","reply_users":["U69BL50BF","UQEDP1Q5V","U01HK5WRVJT"],"subscribed":false},{"client_msg_id":"28241a63-9940-48fd-b435-1aa8efcd975d","type":"message","text":"use the adjoints I keep posting","user":"U69BL50BF","ts":"1614572086.148100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n=r1m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"use the adjoints I keep posting"}]}]}],"thread_ts":"1614569742.147700","parent_user_id":"UQEDP1Q5V"},{"client_msg_id":"513f8382-ad4b-4804-85ac-8540f347ca67","type":"message","text":"Are you talking about the different backsolves in DiffEqSensitivity?\nThis question is not for an ODE model.","user":"UQEDP1Q5V","ts":"1614574167.148300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xL2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you talking about the different backsolves in DiffEqSensitivity?\nThis question is not for an ODE model."}]}]}],"thread_ts":"1614569742.147700","parent_user_id":"UQEDP1Q5V"},{"client_msg_id":"98c8e4c5-2d73-4637-bb4e-670d8cca5ecb","type":"message","text":"no","user":"U69BL50BF","ts":"1614574984.148500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pG/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}],"thread_ts":"1614569742.147700","parent_user_id":"UQEDP1Q5V"},{"client_msg_id":"c59a66f4-738f-4bfa-b89e-ae03fbc46cc7","type":"message","text":"Are you referencing <https://github.com/SciML/DiffEqFlux.jl/blob/master/src/DiffEqFlux.jl#L57-L68> ? Sorry I missed the previous posts. I also want to reverse-mode AD through a big (many paramaters -&gt; scalar output)  calculation that would ideally make internal use of ForwardDiff internally to differentiate a scalar-to-scalar function. I see a lot of discussion about using ForwardDiff-over-Zygote for nested AD, but this seems like a use case for Zygote-over-ForwardDiff. Is that what these Dual constructor adjoints are for? I'll try catch up on previous discussions.\n\nConcretely I'm calculating first and second derivatives of PDE eigenvalues wrt. a single parameter (eg. frequency), then trying to optimize those eigenvalue derivatives using a large number of other parameters (eg. geometry, materials).","user":"U01HK5WRVJT","ts":"1614703811.158200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yWY8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you referencing "},{"type":"link","url":"https://github.com/SciML/DiffEqFlux.jl/blob/master/src/DiffEqFlux.jl#L57-L68"},{"type":"text","text":" ? Sorry I missed the previous posts. I also want to reverse-mode AD through a big (many paramaters -> scalar output)  calculation that would ideally make internal use of ForwardDiff internally to differentiate a scalar-to-scalar function. I see a lot of discussion about using ForwardDiff-over-Zygote for nested AD, but this seems like a use case for Zygote-over-ForwardDiff. Is that what these Dual constructor adjoints are for? I'll try catch up on previous discussions.\n\nConcretely I'm calculating first and second derivatives of PDE eigenvalues wrt. a single parameter (eg. frequency), then trying to optimize those eigenvalue derivatives using a large number of other parameters (eg. geometry, materials)."}]}]}],"thread_ts":"1614569742.147700","parent_user_id":"UQEDP1Q5V"},{"client_msg_id":"c69bc2c7-0650-42b8-95be-6073acb52da7","type":"message","text":"&gt; Is that what these Dual constructor adjoints are for?\nYes","user":"U69BL50BF","ts":"1614709979.158400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lfN","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Is that what these Dual constructor adjoints are for?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Yes"}]}]}],"thread_ts":"1614569742.147700","parent_user_id":"UQEDP1Q5V"}]