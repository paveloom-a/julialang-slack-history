[{"client_msg_id":"8e7533ed-d447-4eec-b07a-f35c7b531722","type":"message","text":"Yeah, that’s kind of unfortunate. When computing `float` ForwardDiff tries to promote it with `Float16` to get the coarsest float to avoid adding precision when promoting","user":"U6788D83U","ts":"1609965513.352300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9SSU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that’s kind of unfortunate. When computing "},{"type":"text","text":"float","style":{"code":true}},{"type":"text","text":" ForwardDiff tries to promote it with "},{"type":"text","text":"Float16","style":{"code":true}},{"type":"text","text":" to get the coarsest float to avoid adding precision when promoting"}]}]}],"thread_ts":"1609965513.352300","reply_count":2,"reply_users_count":2,"latest_reply":"1609965972.353200","reply_users":["U6A936746","U6788D83U"],"subscribed":false},{"client_msg_id":"ad48f885-6076-4fb6-aefa-da9dee3df54f","type":"message","text":"Can you explain a bit more what you mean by  adding precision when promoting?\n`Float64` is a loss of precision relative to `Int64`.\nthough it isn’t relative to `Int32`\n```julia&gt; typemax(Int64) &gt; maxintfloat(Float64)\ntrue\n\njulia&gt; typemax(Int32) &gt; maxintfloat(Float64)\nfalse```\n","user":"U6A936746","ts":"1609965866.352900","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1609965890.000000"},"blocks":[{"type":"rich_text","block_id":"8UX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you explain a bit more what you mean by  adding precision when promoting?\n"},{"type":"text","text":"Float64","style":{"code":true}},{"type":"text","text":" is a loss of precision relative to "},{"type":"text","text":"Int64","style":{"code":true}},{"type":"text","text":".\nthough it isn’t relative to "},{"type":"text","text":"Int32","style":{"code":true}},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> typemax(Int64) > maxintfloat(Float64)\ntrue\n\njulia> typemax(Int32) > maxintfloat(Float64)\nfalse"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1609965513.352300","parent_user_id":"U6788D83U"},{"client_msg_id":"1608769d-6593-4166-a19b-1b497ca4b329","type":"message","text":"```julia&gt; float(Real)\nFloat64\n\njulia&gt; promote_type(Real, Float16)\nReal```","user":"U6788D83U","ts":"1609965972.353200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Oo","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> float(Real)\nFloat64\n\njulia> promote_type(Real, Float16)\nReal"}]}]}],"thread_ts":"1609965513.352300","parent_user_id":"U6788D83U"}]