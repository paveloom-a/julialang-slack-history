[{"client_msg_id":"178b1b3e-5388-4d34-ae2a-afb10ef7b269","type":"message","text":"Looks like a doctest failure caused by the 2D+ array printing changes in 1.6: <https://github.com/FluxML/Zygote.jl/runs/2212195976>","user":"UMY1LV01G","ts":"1617033324.123000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Ldg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like a doctest failure caused by the 2D+ array printing changes in 1.6: "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/runs/2212195976"}]}]}],"thread_ts":"1617033324.123000","reply_count":9,"reply_users_count":3,"latest_reply":"1617039791.124900","reply_users":["UD0NS8PDF","UMY1LV01G","UM30MT6RF"],"is_locked":false,"subscribed":false},{"client_msg_id":"bf9bc37f-d5bd-468a-bef0-c88469cef8e7","type":"message","text":"Looks like docs are set to run on 1, not a particular 1.x: <https://github.com/FluxML/Zygote.jl/blob/master/.github/workflows/ci.yml#L72>  Although that would only explain failures since 1.6 was released, I think.","user":"UD0NS8PDF","ts":"1617034266.123200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pe/k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like docs are set to run on 1, not a particular 1.x: "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/blob/master/.github/workflows/ci.yml#L72"},{"type":"text","text":"  Although that would only explain failures since 1.6 was released, I think."}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"2dc387fb-39ca-44d9-b9c3-b57c88a6c435","type":"message","text":"Is there an automated way to update all doctests, and check the diff by hand, instead of the reverse?","user":"UD0NS8PDF","ts":"1617034339.123400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8HLx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there an automated way to update all doctests, and check the diff by hand, instead of the reverse?"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"be2fa18c-a237-492b-965f-ecbd61155934","type":"message","text":"Looks like the failures were happening because of a bad Documenter deployment config up until recently? Which coincidentally correlates with the release of 1.6. So two distinct issues","user":"UMY1LV01G","ts":"1617034487.123600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dEMj9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like the failures were happening because of a bad Documenter deployment config up until recently? Which coincidentally correlates with the release of 1.6. So two distinct issues"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"1e0039c1-a7f1-4000-ac70-066f3ba34a3d","type":"message","text":"I used the diffs reported in <https://github.com/FluxML/Zygote.jl/runs/2212337459> and <https://github.com/FluxML/Zygote.jl/runs/2212195976> to file a quick PR: <https://github.com/FluxML/Zygote.jl/pull/935>. For whatever reason, it appears that Documenter can't be loaded at all now? <https://github.com/FluxML/Zygote.jl/runs/2220239937>","user":"UMY1LV01G","ts":"1617034867.123800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q7ac","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I used the diffs reported in "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/runs/2212337459"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/runs/2212195976"},{"type":"text","text":" to file a quick PR: "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/pull/935"},{"type":"text","text":". For whatever reason, it appears that Documenter can't be loaded at all now? "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/runs/2220239937"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"type":"message","subtype":"thread_broadcast","text":"Ah, so the output diff failures were obscuring a bigger issue: `julia --project=docs docs/make.jl` doesn't work at all on CI right now! Double-checked the deps and I've no idea why this is happening, so another pair of eyes would be appreciated.","user":"UMY1LV01G","ts":"1617035059.124000","thread_ts":"1617033324.123000","root":{"client_msg_id":"178b1b3e-5388-4d34-ae2a-afb10ef7b269","type":"message","text":"Looks like a doctest failure caused by the 2D+ array printing changes in 1.6: <https://github.com/FluxML/Zygote.jl/runs/2212195976>","user":"UMY1LV01G","ts":"1617033324.123000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Ldg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like a doctest failure caused by the 2D+ array printing changes in 1.6: "},{"type":"link","url":"https://github.com/FluxML/Zygote.jl/runs/2212195976"}]}]}],"thread_ts":"1617033324.123000","reply_count":9,"reply_users_count":3,"latest_reply":"1617039791.124900","reply_users":["UD0NS8PDF","UMY1LV01G","UM30MT6RF"],"is_locked":false,"subscribed":false},"blocks":[{"type":"rich_text","block_id":"vDu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, so the output diff failures were obscuring a bigger issue: "},{"type":"text","text":"julia --project=docs docs/make.jl","style":{"code":true}},{"type":"text","text":" doesn't work at all on CI right now! Double-checked the deps and I've no idea why this is happening, so another pair of eyes would be appreciated."}]}]}],"client_msg_id":"a1469a94-710a-4584-9451-5378babfb46c"},{"client_msg_id":"614dbae0-2305-4e16-af7e-32a9a1801ea7","type":"message","text":"Can you try updating the Manifest.toml in docs?","user":"UM30MT6RF","ts":"1617035563.124300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bwR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you try updating the Manifest.toml in docs?"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"22fe363e-b9ac-4f77-ab26-c4b845ef03e5","type":"message","text":"I'm loathe to do so on my own for fear of bumping up the wrong thing inadvertently and needing to update compat bounds. Was hoping someone more knowledgeable would see this thread :smile:","user":"UMY1LV01G","ts":"1617035735.124500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DyxyO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm loathe to do so on my own for fear of bumping up the wrong thing inadvertently and needing to update compat bounds. Was hoping someone more knowledgeable would see this thread "},{"type":"emoji","name":"smile"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"6ea72ea1-a773-4d18-a82d-ff2332ba1d89","type":"message","text":"You don't have to update any compat bounds, you can just activate `docs` and do `up`in the pkg REPL. Perhaps good to check `st` as well to see whether some dependencies might have been pinned, but there's really not much to go wrong here","user":"UM30MT6RF","ts":"1617035954.124700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBGKn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You don't have to update any compat bounds, you can just activate "},{"type":"text","text":"docs","style":{"code":true}},{"type":"text","text":" and do "},{"type":"text","text":"up","style":{"code":true}},{"type":"text","text":"in the pkg REPL. Perhaps good to check "},{"type":"text","text":"st","style":{"code":true}},{"type":"text","text":" as well to see whether some dependencies might have been pinned, but there's really not much to go wrong here"}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"},{"client_msg_id":"d982cb6b-04f2-48e7-bad7-e985fa4e18ab","type":"message","text":"No luck, Documenter is plainly in both but can't be found by the script. Comparing to the `make.jl` in the Flux repo, the Zygote one appears to do a bunch of extra jiggery-pokery with load paths. Also Flux has Documenter as an `extra` dep at the top level, whereas Zygote does not. I have no idea how or if these contribute to the error though.","user":"UMY1LV01G","ts":"1617039791.124900","team":"T68168MUP","edited":{"user":"UMY1LV01G","ts":"1617039811.000000"},"blocks":[{"type":"rich_text","block_id":"=Oo+E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No luck, Documenter is plainly in both but can't be found by the script. Comparing to the "},{"type":"text","text":"make.jl","style":{"code":true}},{"type":"text","text":" in the Flux repo, the Zygote one appears to do a bunch of extra jiggery-pokery with load paths. Also Flux has Documenter as an "},{"type":"text","text":"extra","style":{"code":true}},{"type":"text","text":" dep at the top level, whereas Zygote does not. I have no idea how or if these contribute to the error though."}]}]}],"thread_ts":"1617033324.123000","parent_user_id":"UMY1LV01G"}]