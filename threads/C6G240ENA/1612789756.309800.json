[{"client_msg_id":"531f23e7-de7b-4e8e-b827-f8e2ff459534","type":"message","text":"Regarding the method overwrite warning when loading ChainRules, is that somthing that was intentionally done to support overloading-based ADs or is that an unrelated problem?","user":"UM30MT6RF","ts":"1612789756.309800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vQp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Regarding the method overwrite warning when loading ChainRules, is that somthing that was intentionally done to support overloading-based ADs or is that an unrelated problem?"}]}]}],"thread_ts":"1612789756.309800","reply_count":12,"reply_users_count":2,"latest_reply":"1612793489.312200","reply_users":["U6A936746","UM30MT6RF"],"subscribed":false},{"client_msg_id":"b3b29129-69e3-4334-9fab-bda95ca4a0b8","type":"message","text":"What method overwrite wanting?\nI haven’t seen that before.\nSounds like a bug","user":"U6A936746","ts":"1612790842.309900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tYQUX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What method overwrite wanting?\nI haven’t seen that before.\nSounds like a bug"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"9713f12a-a3eb-49d5-a67c-056d7bce8dda","type":"message","text":"I don’t get one on my system on a fresh install of ChainRules v0.7.49","user":"U6A936746","ts":"1612790909.310100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n1l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t get one on my system on a fresh install of ChainRules v0.7.49"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"a82c504d-5f27-4201-9dc3-5a949372d8fc","type":"message","text":"I get these when I load ChainRules:\n```WARNING: Method definition frule##kw(Any, typeof(ChainRulesCore.frule), Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule##kw(Any, typeof(ChainRulesCore.frule), Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule##kw(Any, typeof(ChainRulesCore.rrule), Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule##kw(Any, typeof(ChainRulesCore.rrule), Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule(Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule(Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule(Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule(Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **```\nI just vaguely remembered we were doing some sketchy things to support overloading-based AD, but it is likely that this is just a bug.","user":"UM30MT6RF","ts":"1612790985.310300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vSLB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I get these when I load ChainRules:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"WARNING: Method definition frule##kw(Any, typeof(ChainRulesCore.frule), Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule##kw(Any, typeof(ChainRulesCore.frule), Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule##kw(Any, typeof(ChainRulesCore.rrule), Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule##kw(Any, typeof(ChainRulesCore.rrule), Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule(Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition rrule(Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:352 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule(Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **\n\nWARNING: Method definition frule(Any, Base.redirect_stdio, Union{Base.IOStream, Base.LibuvStream}) in module ChainRules at /local/scratch/ssd/sschaub/.julia/packages/ChainRulesCore/eBwSt/src/rule_definition_tools.jl:324 overwritten on the same line (check for duplicate calls to `include`).\n  ** incremental compilation may be fatally broken for this module **"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I just vaguely remembered we were doing some sketchy things to support overloading-based AD, but it is likely that this is just a bug."}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"6c248779-be89-4719-9e5b-d0b1add916f3","type":"message","text":"```(script) pkg&gt; st --manifest ChainRules\n      Status `~/Documents/JuliaForHEP/script/Manifest.toml`\n  [082447d4] ChainRules v0.7.49```","user":"UM30MT6RF","ts":"1612791002.310500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7+d+v","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(script) pkg> st --manifest ChainRules\n      Status `~/Documents/JuliaForHEP/script/Manifest.toml`\n  [082447d4] ChainRules v0.7.49"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"5de29058-448e-4bff-9515-ba4facbbe9c9","type":"message","text":"I can’t reproduce on julia 1.0, 1.5, or 1.6\n\n```(13) pkg&gt; st --manifest\n    Status `~/temp/13/Manifest.toml`\n  [082447d4] ChainRules v0.7.49\n  [d360d2e6] ChainRulesCore v0.9.27\n  [34da2185] Compat v3.25.0\n  [189a3867] Reexport v1.0.0\n  [ae029012] Requires v1.1.2```\n","user":"U6A936746","ts":"1612791155.310700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bj=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can’t reproduce on julia 1.0, 1.5, or 1.6\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(13) pkg> st --manifest\n    Status `~/temp/13/Manifest.toml`\n  [082447d4] ChainRules v0.7.49\n  [d360d2e6] ChainRulesCore v0.9.27\n  [34da2185] Compat v3.25.0\n  [189a3867] Reexport v1.0.0\n  [ae029012] Requires v1.1.2"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"9b676b95-87c4-4bc0-a9b2-cd8f4539e91f","type":"message","text":"(Ah, and I am on nightly, perhaps that's relevant)","user":"UM30MT6RF","ts":"1612791162.310900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vym","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(Ah, and I am on nightly, perhaps that's relevant)"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"8794b1c0-14bc-416c-9740-ba7db3b29a12","type":"message","text":"I can look into it, I just wanted to check whether that's not already known","user":"UM30MT6RF","ts":"1612791213.311100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QhM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can look into it, I just wanted to check whether that's not already known"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF","reactions":[{"name":"ty","users":["U6A936746"],"count":1}]},{"client_msg_id":"16129f67-49cc-4132-b056-c57676974acf","type":"message","text":"I also can’t reproduce on a freshly built version of master","user":"U6A936746","ts":"1612792345.311400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cDZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I also can’t reproduce on a freshly built version of master"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"52941cf9-28de-4424-a931-f265160f5da4","type":"message","text":"Yes, I am not 100% sure when these warnings are suppressed, but I actually found the culprit <https://github.com/JuliaLang/julia/pull/39132/>. `redirect_std...` are now functors of type `redirect_stdio`.","user":"UM30MT6RF","ts":"1612792513.311600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Au1P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I am not 100% sure when these warnings are suppressed, but I actually found the culprit "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39132/"},{"type":"text","text":". "},{"type":"text","text":"redirect_std...","style":{"code":true}},{"type":"text","text":" are now functors of type "},{"type":"text","text":"redirect_stdio","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"820ae16b-d7be-4220-a6d4-edc78ea56877","type":"message","text":"Hmm I would have thought that `Core.Typeof` would handle that. (`typeof` won’t)","user":"U6A936746","ts":"1612792625.311800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wGQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm I would have thought that "},{"type":"text","text":"Core.Typeof","style":{"code":true}},{"type":"text","text":" would handle that. ("},{"type":"text","text":"typeof","style":{"code":true}},{"type":"text","text":" won’t)"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"821b9208-c544-4488-b201-5ed4577f5440","type":"message","text":"It does the right thing, but `Core.Typeof(redirect_std[in/out/err])` is now just always `Base.redirect_stdio`, since they are all implemented as instances of that type","user":"UM30MT6RF","ts":"1612792732.312000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CW/Ut","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It does the right thing, but "},{"type":"text","text":"Core.Typeof(redirect_std[in/out/err])","style":{"code":true}},{"type":"text","text":" is now just always "},{"type":"text","text":"Base.redirect_stdio","style":{"code":true}},{"type":"text","text":", since they are all implemented as instances of that type"}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"},{"client_msg_id":"5f3afb76-c069-49ad-9b6b-5e59696020f5","type":"message","text":"ah I see.\ncan just add guards I guess\nchecking it the later 2 this `isa Function`","user":"U6A936746","ts":"1612793489.312200","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1612793537.000000"},"blocks":[{"type":"rich_text","block_id":"ZuA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah I see.\ncan just add guards I guess\nchecking it the later 2 this "},{"type":"text","text":"isa Function","style":{"code":true}}]}]}],"thread_ts":"1612789756.309800","parent_user_id":"UM30MT6RF"}]