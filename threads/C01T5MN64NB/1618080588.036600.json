[{"client_msg_id":"7D5BE7A3-D37D-46FE-9755-72D597AD75A7","type":"message","text":"What is the idea behind StaticCompiler? Does it emit bitcode and compile with llc ?","user":"UKA81L34J","ts":"1618080588.036600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lr2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the idea behind StaticCompiler? Does it emit bitcode and compile with llc ?"}]}]}],"thread_ts":"1618080588.036600","reply_count":6,"reply_users_count":3,"latest_reply":"1618169193.038100","reply_users":["UDGT4PM41","U69BK8S74","UKA81L34J"],"is_locked":false,"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"<@U69BK8S74> would know best, but I think it's a wrapper around GPUCompiler mostly now?","user":"UDGT4PM41","ts":"1618101443.036700","thread_ts":"1618080588.036600","root":{"client_msg_id":"7D5BE7A3-D37D-46FE-9755-72D597AD75A7","type":"message","text":"What is the idea behind StaticCompiler? Does it emit bitcode and compile with llc ?","user":"UKA81L34J","ts":"1618080588.036600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lr2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the idea behind StaticCompiler? Does it emit bitcode and compile with llc ?"}]}]}],"thread_ts":"1618080588.036600","reply_count":6,"reply_users_count":3,"latest_reply":"1618169193.038100","reply_users":["UDGT4PM41","U69BK8S74","UKA81L34J"],"is_locked":false,"subscribed":false},"blocks":[{"type":"rich_text","block_id":"8NM","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BK8S74"},{"type":"text","text":" would know best, but I think it's a wrapper around GPUCompiler mostly now?"}]}]}],"client_msg_id":"33f3a38c-c438-4271-83f5-58f76a8c75fb"},{"client_msg_id":"57d57e56-b715-4294-95e3-3d1894a14118","type":"message","text":"Yes, it emits bitcode and uses LLVM's linker. See <https://github.com/tshort/StaticCompiler.jl/pull/46|https://github.com/tshort/StaticCompiler.jl/pull/46>. <@U6A0PD8CR>'s work is the basis for the latest WIP updates.  There might be good synergy with Mixtape. Older versions of StaticCompiler used Cassette for some manipulations, but that never worked great.","user":"U69BK8S74","ts":"1618107217.037300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gjWPI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, it emits bitcode and uses LLVM's linker. See "},{"type":"link","url":"https://github.com/tshort/StaticCompiler.jl/pull/46","text":"https://github.com/tshort/StaticCompiler.jl/pull/46"},{"type":"text","text":". "},{"type":"user","user_id":"U6A0PD8CR"},{"type":"text","text":"'s work is the basis for the latest WIP updates.  There might be good synergy with Mixtape. Older versions of StaticCompiler used Cassette for some manipulations, but that never worked great."}]}]}],"thread_ts":"1618080588.036600","parent_user_id":"UKA81L34J"},{"client_msg_id":"65ad035a-e6b3-4b7c-aef7-c393826f2397","type":"message","text":"<@U6A0PD8CR> can we chat sometime about this?","user":"UKA81L34J","ts":"1618168459.037500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fVLO","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6A0PD8CR"},{"type":"text","text":" can we chat sometime about this?"}]}]}],"thread_ts":"1618080588.036600","parent_user_id":"UKA81L34J"},{"client_msg_id":"4da69a69-dfe9-4270-8ebc-035b6a56cbbc","type":"message","text":"I did a few experiments with a version of `generate_shlib` — but I’m not sure I set it up correctly. It seems that the emitted code is not compatible with the ELF format (e.g. `lld` complains)\n```ld.lld: error: lto.tmp: not an ELF file\nERROR: LoadError: failed process: Process(`/Users/mccoybecker/.julia/artifacts/fc1c98713634afbdcb341a882d7e9b34d04fb4a3/tools/ld.lld -shared -o libf.dylib libf`, ProcessExited(1)) [1]```","user":"UKA81L34J","ts":"1618168507.037700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xfY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I did a few experiments with a version of "},{"type":"text","text":"generate_shlib","style":{"code":true}},{"type":"text","text":" — but I’m not sure I set it up correctly. It seems that the emitted code is not compatible with the ELF format (e.g. "},{"type":"text","text":"lld","style":{"code":true}},{"type":"text","text":" complains)\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ld.lld: error: lto.tmp: not an ELF file\nERROR: LoadError: failed process: Process(`/Users/mccoybecker/.julia/artifacts/fc1c98713634afbdcb341a882d7e9b34d04fb4a3/tools/ld.lld -shared -o libf.dylib libf`, ProcessExited(1)) [1]"}]}]}],"thread_ts":"1618080588.036600","parent_user_id":"UKA81L34J"},{"client_msg_id":"4c5731d6-e956-4f71-93e7-fb20a10cf2eb","type":"message","text":"<@UKA81L34J> see also: <https://docs.google.com/document/d/1rLpZf-HK6b9uYPDT_piUza4LUhtIrLbUftGa_YaXGKQ/edit?usp=sharing>","user":"UDGT4PM41","ts":"1618169121.037900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ALhGu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UKA81L34J"},{"type":"text","text":" see also: "},{"type":"link","url":"https://docs.google.com/document/d/1rLpZf-HK6b9uYPDT_piUza4LUhtIrLbUftGa_YaXGKQ/edit?usp=sharing"}]}]}],"thread_ts":"1618080588.036600","parent_user_id":"UKA81L34J"},{"client_msg_id":"d4170637-7ce6-4d20-bef5-579356b4f9ac","type":"message","text":"<@UM30MT6RF> if you're looking for more compiler stuff to tinker with, there are some pointers in the above doc related to static compilation","user":"UDGT4PM41","ts":"1618169193.038100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xDy","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UM30MT6RF"},{"type":"text","text":" if you're looking for more compiler stuff to tinker with, there are some pointers in the above doc related to static compilation"}]}]}],"thread_ts":"1618080588.036600","parent_user_id":"UKA81L34J"}]