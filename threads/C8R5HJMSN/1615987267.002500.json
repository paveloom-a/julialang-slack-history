[{"client_msg_id":"0cd78c7d-b819-4aeb-9673-d62b3b2d5dc0","type":"message","text":"In SymPy I can get C-code for a simple expression by `sp.ccode(ex)`. I'm aware of the `build_function(..., target=CTarget)`, but it assumes that I want to generate a whole function rather than a single expression. I assume that `build_function` internally uses something like `latexify(ex)` but for C-code, can I access this lower-level interface somehow?","user":"UJ7DVTVQ8","ts":"1615987267.002500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JUMP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In SymPy I can get C-code for a simple expression by "},{"type":"text","text":"sp.ccode(ex)","style":{"code":true}},{"type":"text","text":". I'm aware of the "},{"type":"text","text":"build_function(..., target=CTarget)","style":{"code":true}},{"type":"text","text":", but it assumes that I want to generate a whole function rather than a single expression. I assume that "},{"type":"text","text":"build_function","style":{"code":true}},{"type":"text","text":" internally uses something like "},{"type":"text","text":"latexify(ex)","style":{"code":true}},{"type":"text","text":" but for C-code, can I access this lower-level interface somehow?"}]}]}],"thread_ts":"1615987267.002500","reply_count":6,"reply_users_count":2,"latest_reply":"1615988864.003700","reply_users":["UJ7DVTVQ8","U01C3624SGJ"],"is_locked":false,"subscribed":false},{"client_msg_id":"bf173f6d-95b3-4e54-9c3a-828fdc51e918","type":"message","text":"For example\n```julia&gt; ex\nc + sin(b)*(a^2)\n\njulia&gt; build_function(ex, [a,b,c], target=Symbolics.CTarget())\n\"#include &lt;math.h&gt;\\nvoid diffeqf(double* du, double* RHS1) {\\n  du[0] = RHS1[2] + sin(RHS1[1]) * pow(RHS1[0], 2);\\n}\\n\"```\nis much more complicated than something like\n```c + sin(b)*pow(a,2)```","user":"UJ7DVTVQ8","ts":"1615987863.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A7P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For example\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> ex\nc + sin(b)*(a^2)\n\njulia> build_function(ex, [a,b,c], target=Symbolics.CTarget())\n\"#include <math.h>\\nvoid diffeqf(double* du, double* RHS1) {\\n  du[0] = RHS1[2] + sin(RHS1[1]) * pow(RHS1[0], 2);\\n}\\n\""}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is much more complicated than something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"c + sin(b)*pow(a,2)"}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"},{"client_msg_id":"9f9ee66e-05bb-439d-9416-16c2c8a2d87f","type":"message","text":"From what I am seeing the only difference is that it is expecting  an array of inputs, array of outputs and they have weird names","user":"U01C3624SGJ","ts":"1615988094.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"REO/8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"From what I am seeing the only difference is that it is expecting  an array of inputs, array of outputs and they have weird names"}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"},{"client_msg_id":"0528289e-58d4-485d-9fa6-f79aa098c055","type":"message","text":"yep, so the functionality is certainly there somewhere","user":"UJ7DVTVQ8","ts":"1615988166.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QJWRY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep, so the functionality is certainly there somewhere"}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"},{"client_msg_id":"760187ea-18df-419d-9704-aa85cbdcef1d","type":"message","text":"A quick search on github shows <https://github.com/JuliaSymbolics/Symbolics.jl/blob/master/src/build_function.jl> at line 505","user":"U01C3624SGJ","ts":"1615988449.003200","team":"T68168MUP","edited":{"user":"U01C3624SGJ","ts":"1615988475.000000"},"blocks":[{"type":"rich_text","block_id":"Z89+H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A quick search on github shows "},{"type":"link","url":"https://github.com/JuliaSymbolics/Symbolics.jl/blob/master/src/build_function.jl"},{"type":"text","text":" at line 505"}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"},{"client_msg_id":"f5cfd040-556d-40a0-b71a-20984b31a29b","type":"message","text":"I have been studying the implementation, but it remains unclear to me how to accomplish what I want","user":"UJ7DVTVQ8","ts":"1615988745.003500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+mS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have been studying the implementation, but it remains unclear to me how to accomplish what I want"}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"},{"client_msg_id":"abe334fd-94c2-436e-a049-f1a06b8af4fa","type":"message","text":"About the implementation you might have to ask the developers, I dont really understand the code in this function.","user":"U01C3624SGJ","ts":"1615988864.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wkFz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"About the implementation you might have to ask the developers, I dont really understand the code in this function."}]}]}],"thread_ts":"1615987267.002500","parent_user_id":"UJ7DVTVQ8"}]