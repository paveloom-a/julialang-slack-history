[{"client_msg_id":"affb3832-d195-419e-a8f5-7b7ac2aca98b","type":"message","text":"is there a reason why JSONTables doesn't integrate into JSON3/StructTypes for DataFrame parsing?","user":"UMWFZF5DW","ts":"1609724278.324500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fbij","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a reason why JSONTables doesn't integrate into JSON3/StructTypes for DataFrame parsing?"}]}]}],"thread_ts":"1609724278.324500","reply_count":9,"reply_users_count":2,"latest_reply":"1609781187.328500","reply_users":["U681ELA87","UMWFZF5DW"],"subscribed":false},{"client_msg_id":"C2E18FDE-8AA5-4814-BBD9-D74CFD279D49","type":"message","text":"What do you mean? It’s meant to be used like `DataFrame(jsontable(json))`. So it integrates with DataFrames via the Tables.jl interface instead of via parsing","user":"U681ELA87","ts":"1609725223.326300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7eX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do you mean? It’s meant to be used like "},{"type":"text","text":"DataFrame(jsontable(json))","style":{"code":true}},{"type":"text","text":". So it integrates with DataFrames via the Tables.jl interface instead of via parsing"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"29cf27ef-d4b0-4922-afa2-38f24bacc564","type":"message","text":"hmm would the following struct be realised:","user":"UMWFZF5DW","ts":"1609725284.326500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UDR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm would the following struct be realised:"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"52baf18b-223e-4e3a-8dbe-87d5d96d1ff2","type":"message","text":"```\nstruct MyStruct\nx::String\ndf::DataFrame\nend\n```","user":"UMWFZF5DW","ts":"1609725319.326700","team":"T68168MUP","edited":{"user":"UMWFZF5DW","ts":"1609725336.000000"},"blocks":[{"type":"rich_text","block_id":"PaSBu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"```\nstruct MyStruct\nx::String\ndf::DataFrame\nend\n```"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"56bb6169-42c1-40f2-b9a0-42e2bc8ebbc3","type":"message","text":"*how","user":"UMWFZF5DW","ts":"1609725915.327000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z0y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"*how"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"92f48503-d381-422b-928e-2494cf018a0b","type":"message","text":"that's a question which recently came up on discord","user":"UMWFZF5DW","ts":"1609725936.327200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p0w+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's a question which recently came up on discord"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"0243ba2a-7ba7-4733-ac57-d920d1962f41","type":"message","text":"Ah yes, that's more difficult. The problem is there isn't really a \"standard\" way to represent a DataFrame in JSON; you either have to use an object of arrays or array of objects. In any case, this would be something where DataFrames would need to take a dependency on StructTypes.jl and define the StructType trait. But that's also why JSONTables exists; to facilitate interop between json &amp; DataFrames (or any tables format really).","user":"U681ELA87","ts":"1609738661.327600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"evN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah yes, that's more difficult. The problem is there isn't really a \"standard\" way to represent a DataFrame in JSON; you either have to use an object of arrays or array of objects. In any case, this would be something where DataFrames would need to take a dependency on StructTypes.jl and define the StructType trait. But that's also why JSONTables exists; to facilitate interop between json & DataFrames (or any tables format really)."}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"024531e3-2896-48f8-a84a-5ecfb35f52d4","type":"message","text":"is it possible to hook into export/import of individual fields of MyStruct, i. e. that I can define \n```\nfunction read(::Type{MyStruct}, ::Val{:df}, io)\nreturn jsontable(io)\nend\n#similar for write, just with one of the writetable functions\n```","user":"UMWFZF5DW","ts":"1609769652.328100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xt1K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is it possible to hook into export/import of individual fields of MyStruct, i. e. that I can define \n```\nfunction read(::Type{MyStruct}, ::Val{:df}, io)\nreturn jsontable(io)\nend\n#similar for write, just with one of the writetable functions\n```"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"302dbe75-a3f0-41f0-871b-ad96702d3c37","type":"message","text":"i. e. registering a transformation function for individual fields","user":"UMWFZF5DW","ts":"1609769699.328300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jVP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i. e. registering a transformation function for individual fields"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"},{"client_msg_id":"ff5687aa-04c1-469a-8f5e-4c52f836b134","type":"message","text":"Not currently; but that's something we could maybe consider putting in StructTypes; we have some hooks and things already for like `StructTypes.construct` for the various StructType types","user":"U681ELA87","ts":"1609781187.328500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jLi9W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not currently; but that's something we could maybe consider putting in StructTypes; we have some hooks and things already for like "},{"type":"text","text":"StructTypes.construct","style":{"code":true}},{"type":"text","text":" for the various StructType types"}]}]}],"thread_ts":"1609724278.324500","parent_user_id":"UMWFZF5DW"}]