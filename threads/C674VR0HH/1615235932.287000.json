[{"client_msg_id":"43bb6b95-9440-496a-977a-b6ab3ac37f68","type":"message","text":"arrow related:\nwhen reading a feather file (~3.3G) compressed with lz4, after `Arrow.Table()` , I see the `RES` in `top` goes up to 21G, I thought the file is mmaped, but maybe it's not if there's compression?\n\nalso, is there a way to only read a few columns of the Arrow?","user":"UH8A351DJ","ts":"1615235932.287000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m4tt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"arrow related:\nwhen reading a feather file (~3.3G) compressed with lz4, after "},{"type":"text","text":"Arrow.Table()","style":{"code":true}},{"type":"text","text":" , I see the "},{"type":"text","text":"RES","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":"top","style":{"code":true}},{"type":"text","text":" goes up to 21G, I thought the file is mmaped, but maybe it's not if there's compression?\n\nalso, is there a way to only read a few columns of the Arrow?"}]}]}],"thread_ts":"1615235932.287000","reply_count":2,"reply_users_count":2,"latest_reply":"1615236893.287600","reply_users":["U681ELA87","UH8A351DJ"],"subscribed":false},{"client_msg_id":"89cd6091-ed8c-48c7-9676-d460bc0f380a","type":"message","text":"When the file is compressed, each column is uncompressed from the mmapped data, so it indeed will increase memory use. We should provide some kind of functionality to subselect columns or not uncompress until accessed","user":"U681ELA87","ts":"1615236800.287400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i=nsF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When the file is compressed, each column is uncompressed from the mmapped data, so it indeed will increase memory use. We should provide some kind of functionality to subselect columns or not uncompress until accessed"}]}]}],"thread_ts":"1615235932.287000","parent_user_id":"UH8A351DJ"},{"client_msg_id":"f4515671-9f42-4113-a0bb-12ea0ec0ee70","type":"message","text":"I see, 21G fits in my memory but I'm wondering if there's a way to do a post-hoc workaround just keeping the a few columns now?","user":"UH8A351DJ","ts":"1615236893.287600","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1615236920.000000"},"blocks":[{"type":"rich_text","block_id":"s9tkG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see, 21G fits in my memory but I'm wondering if there's a way to do a post-hoc workaround just keeping the a few columns now?"}]}]}],"thread_ts":"1615235932.287000","parent_user_id":"UH8A351DJ"}]