[{"client_msg_id":"2563e67e-c56e-401e-88c5-d2c327e6ac31","type":"message","text":"In Julia do changes on a copy of a variable get applied to the original automatically?\nIn python I would generally assign data to a new variable in case I was going to experiment so as to not affect the original.\n\nI just tried doing that in Julia and I now see that my original is showing up just as my copy.\nFor reference, I was trying to remove the \"T\" from the DateTime Format and my column's data changed from datetime to Any.","user":"U01QJ915TFD","ts":"1615574484.366100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AE6mV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In Julia do changes on a copy of a variable get applied to the original automatically?\nIn python I would generally assign data to a new variable in case I was going to experiment so as to not affect the original.\n\nI just tried doing that in Julia and I now see that my original is showing up just as my copy.\nFor reference, I was trying to remove the \"T\" from the DateTime Format and my column's data changed from datetime to Any."}]}]}],"thread_ts":"1615574484.366100","reply_count":37,"reply_users_count":4,"latest_reply":"1615577198.374000","reply_users":["UBF9YRB6H","U01QJ915TFD","USU9FRPEU","UH24GRBLL"],"subscribed":false},{"client_msg_id":"ca926d45-82e3-4ce0-b599-ce685db945c2","type":"message","text":"Not entirely sure what you mean but you can try out\n\n```x = [1, 2]\ny = x\ny[1] = 1000```\nAssignment doesn't copy.","user":"UBF9YRB6H","ts":"1615574542.366200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pxVD7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not entirely sure what you mean but you can try out\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"x = [1, 2]\ny = x\ny[1] = 1000"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAssignment doesn't copy."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"type":"message","text":"<@UBF9YRB6H> When I try it on my end it is copying for some reason look.","files":[{"id":"F01RGKMS5MF","created":1615574682,"timestamp":1615574682,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01QJ915TFD","editable":false,"size":25000,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01RGKMS5MF/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01RGKMS5MF/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01RGKMS5MF-50bd56006a/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01RGKMS5MF-50bd56006a/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01RGKMS5MF-50bd56006a/image_360.png","thumb_360_w":360,"thumb_360_h":236,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01RGKMS5MF-50bd56006a/image_480.png","thumb_480_w":480,"thumb_480_h":315,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01RGKMS5MF-50bd56006a/image_160.png","original_w":634,"original_h":416,"thumb_tiny":"AwAfADCn+FBBx0oA96Xbgc5/KmA2inYHrRgetADaKdgetNoAUU7HGe30ptGaBC8etFJmjNAxfxptLmkoA//Z","permalink":"https://julialang.slack.com/files/U01QJ915TFD/F01RGKMS5MF/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01RGKMS5MF-e8a407cdfa","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"87X/","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" When I try it on my end it is copying for some reason look."}]}]}],"user":"U01QJ915TFD","display_as_bot":false,"ts":"1615574685.366400","edited":{"user":"U01QJ915TFD","ts":"1615574725.000000"},"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"0fc6ad57-77c8-4b22-b168-bd7bef8051a8","type":"message","text":"I think you might be confused by the term `copy`. if `y = x` copied, then you wouldn't see `x[1] == 1000`","user":"UBF9YRB6H","ts":"1615574828.366900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y4fid","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you might be confused by the term "},{"type":"text","text":"copy","style":{"code":true}},{"type":"text","text":". if "},{"type":"text","text":"y = x","style":{"code":true}},{"type":"text","text":" copied, then you wouldn't see "},{"type":"text","text":"x[1] == 1000","style":{"code":true}}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"597dcfac-c7d2-4881-902a-2460d5d2ff0c","type":"message","text":"<@UBF9YRB6H> Yeah I think I'm confused too but should x not retain the originall 1,2? Why is it now changing from 1 to 1000 if the change was only applied on y?","user":"U01QJ915TFD","ts":"1615574898.367100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"48ZG","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Yeah I think I'm confused too but should x not retain the originall 1,2? Why is it now changing from 1 to 1000 if the change was only applied on y?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"f881c905-d82e-4ca0-87b0-15aa25fba34e","type":"message","text":"because in Julia, `y = x` is just \"make a new name and point it to the same object (in memory) that `x` points to\"","user":"UBF9YRB6H","ts":"1615574938.367300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bCiQ7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because in Julia, "},{"type":"text","text":"y = x","style":{"code":true}},{"type":"text","text":" is just \"make a new name and point it to the same object (in memory) that "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" points to\""}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"fea68fba-ba9d-44ed-947f-12d0bd84735b","type":"message","text":"this is a common, but not universal, behavior. It's key to why julia is fast","user":"UBF9YRB6H","ts":"1615574950.367500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KqY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is a common, but not universal, behavior. It's key to why julia is fast"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"83596ac0-d093-4fb6-b45e-bb8c5ad6778f","type":"message","text":"<@UBF9YRB6H> Wow I was unaware of this. This makes sense. But I see how this confused me so much because in python and javascript I don't remember seeing this behavior.","user":"U01QJ915TFD","ts":"1615574996.367700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bLv/o","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Wow I was unaware of this. This makes sense. But I see how this confused me so much because in python and javascript I don't remember seeing this behavior."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"2d92976e-01f8-4678-8928-9ee9757366f8","type":"message","text":"Python works the same\n\n```&gt;&gt;&gt; x = [1, 2, 3]\n&gt;&gt;&gt; y = x\n&gt;&gt;&gt; y[1] = 1000\n&gt;&gt;&gt; x\n[1, 1000, 3]```","user":"UBF9YRB6H","ts":"1615575033.367900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rVQXb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Python works the same\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":">>> x = [1, 2, 3]\n>>> y = x\n>>> y[1] = 1000\n>>> x\n[1, 1000, 3]"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"f7bd6692-dbed-41ba-b0d2-6271034ba57f","type":"message","text":"If you want a distinct copy, you could do `y = copy(x)`\n\n```julia&gt; x = [1,2,3]\n3-element Array{Int64,1}:\n 1\n 2\n 3\n\njulia&gt; y = copy(x)\n3-element Array{Int64,1}:\n 1\n 2\n 3\n\njulia&gt; y[1] = 1000\n1000\n\njulia&gt; x\n3-element Array{Int64,1}:\n 1\n 2\n 3```\n","user":"USU9FRPEU","ts":"1615575093.368100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WWWD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you want a distinct copy, you could do "},{"type":"text","text":"y = copy(x)","style":{"code":true}},{"type":"text","text":"\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> x = [1,2,3]\n3-element Array{Int64,1}:\n 1\n 2\n 3\n\njulia> y = copy(x)\n3-element Array{Int64,1}:\n 1\n 2\n 3\n\njulia> y[1] = 1000\n1000\n\njulia> x\n3-element Array{Int64,1}:\n 1\n 2\n 3"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"d746393a-ef38-4502-a64b-77097153c776","type":"message","text":"<@UBF9YRB6H> Hmm then maybe just javascript it's been a while since I work with python. I remember that in python when working with pandas dataframes I would assign any new breaking change to a new variable and it would not affect the older or original df.","user":"U01QJ915TFD","ts":"1615575198.368300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X204m","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Hmm then maybe just javascript it's been a while since I work with python. I remember that in python when working with pandas dataframes I would assign any new breaking change to a new variable and it would not affect the older or original df."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"f72c562f-a2b0-439d-bbaf-843c75f7c384","type":"message","text":"<@USU9FRPEU> Awesome. Thank you. I'll definitely be making use of that as my intention is to create distinct copies to not alter the original when testing something new.","user":"U01QJ915TFD","ts":"1615575304.368700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Opw","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"USU9FRPEU"},{"type":"text","text":" Awesome. Thank you. I'll definitely be making use of that as my intention is to create distinct copies to not alter the original when testing something new."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"7d94aad1-60e0-4e93-9fa6-811c727c05ad","type":"message","text":"be aware that those old copies will linger","user":"UH24GRBLL","ts":"1615575378.368900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wk/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"be aware that those old copies will linger"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"72e734ce-7ac9-4c29-a3ba-9320dbb6cde5","type":"message","text":"so if you have a lot of large copies, you may run out of memory","user":"UH24GRBLL","ts":"1615575399.369100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CcD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so if you have a lot of large copies, you may run out of memory"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"a6c5e80d-385f-4ca1-8539-2a765261e912","type":"message","text":"it's recommended to use functions to process whatever you need","user":"UH24GRBLL","ts":"1615575419.369300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AIpF6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's recommended to use functions to process whatever you need"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"2fb8ed88-6091-4646-8c9a-5f82ad188e44","type":"message","text":"<@UH24GRBLL> This sounds very important and I want to get it right. So I should create a function without assigning to the variable first to test out?","user":"U01QJ915TFD","ts":"1615575478.369500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"weN","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UH24GRBLL"},{"type":"text","text":" This sounds very important and I want to get it right. So I should create a function without assigning to the variable first to test out?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"b48eb075-25d6-445c-8b77-d1e3dea2aa64","type":"message","text":"no, just do everything in a function.\n\n```function do_stuff(a)\n    return a + 1\nend\n\nfunction main()\n    a = 1\n    do_stuff(a)\nend```","user":"UBF9YRB6H","ts":"1615575555.369700","team":"T68168MUP","edited":{"user":"UBF9YRB6H","ts":"1615575561.000000"},"blocks":[{"type":"rich_text","block_id":"eY1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, just do everything in a function.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function do_stuff(a)\n    return a + 1\nend\n\nfunction main()\n    a = 1\n    do_stuff(a)\nend"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"d8c29c84-a88a-4b20-af4e-441155f47811","type":"message","text":"<@UBF9YRB6H> Thank you for sharing an example. But would this prevent the old copies from being affected? I think I'm a little confused.","user":"U01QJ915TFD","ts":"1615575870.370000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7vQGL","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Thank you for sharing an example. But would this prevent the old copies from being affected? I think I'm a little confused."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"ea509ab6-c9f2-4ed3-824e-ade4bfe81f12","type":"message","text":"if you do lots of copying in a function, that's fine. Cause once the function exits those will all be destroyed","user":"UBF9YRB6H","ts":"1615575915.370200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bx/YU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you do lots of copying in a function, that's fine. Cause once the function exits those will all be destroyed"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"1db7b33e-1b60-4d50-be70-678fff205702","type":"message","text":"if you do `copy` everywhere in global scope, then those copies will persist","user":"UBF9YRB6H","ts":"1615575933.370400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"obEy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you do "},{"type":"text","text":"copy","style":{"code":true}},{"type":"text","text":" everywhere in global scope, then those copies will persist"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"fc7ecd99-50ee-4f6d-b24a-389eb9dbdfc5","type":"message","text":"<@UBF9YRB6H> Oh so that mean that if I copy with the function it is local to the function? I may be using the wrong terminology.","user":"U01QJ915TFD","ts":"1615575995.370600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4gJO","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Oh so that mean that if I copy with the function it is local to the function? I may be using the wrong terminology."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"b8f355b9-3c1d-4430-b1bb-52b37befe4f7","type":"message","text":"yes, exactly.","user":"UBF9YRB6H","ts":"1615576009.370800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cVMP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, exactly."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"6c57deab-9167-42e4-81ab-114d02268ed1","type":"message","text":"<@UBF9YRB6H> Wow. Amazing. Makes sense. Thank you.","user":"U01QJ915TFD","ts":"1615576048.371000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jco=","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Wow. Amazing. Makes sense. Thank you."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"2662ad6d-485f-4594-838f-9fdf50c7f9d9","type":"message","text":"here is a script I'm working on right now (I have some modifications to DataFramesMeta to experiment)\n\n```using Distributions, DataFramesMeta, GLM\n\nusing Exfiltrator, Chain, FloatingTableView\n\nfunction make_location_data(T, N, M)\n\t# Make a balanced panel of years, firms, and meshes\n\tdf = @chain begin\n\t\tIterators.product(1:T, 1:N, 1:M)\n\t\tcollect\n\t\tvec\n\t\tDataFrame\n\t\trename!([:year, :firm_id, :mesh])\n\t\tsort([:mesh, :year, :firm_id])\n\tend\n\n\t# Simulate bad performance causing firms to fail\n\t# When a mesh gets a bad draw, one location closes down\n\t# when a location closes down, a randomly picked location\n\t# closes down.\n\t# Total observed stays are the random draw plus the fraction of\n\t# original firms in the location.\n\t@chain df begin\n\t\t@groupby :mesh :year\n\t\t@transform :economic_shock = rand()\n\t\t@groupby :mesh :year\n\t\t@transform :closes_from_direct_shock = begin\n\t\t\tall_inds = eachindex(:economic_shock)\n\t\t\tif first(:economic_shock) &lt; .1\n\t\t\t\tnew_closure = rand(all_inds)\n\t\t\t\tall_inds .== new_closure\n\t\t\telse\n\t\t\t\tfill(false, length(all_inds))\n\t\t\tend\n\t\tend\n\t\t@groupby :firm_id :year\n\t\t@transform :closure = begin\n\t\t\tall_inds = eachindex(:closes_from_direct_shock)\n\t\t\tif any(:closes_from_direct_shock)\n\t\t\t\tclosure_inds = Set(findall(:closes_from_direct_shock))\n\t\t\t\tnon_closure_inds = setdiff(all_inds, closure_inds)\n\t\t\t\tnew_closures = rand(non_closure_inds, Int(floor(M/5)))\n\t\t\t\tpush!(closure_inds, new_closures...)\n\t\t\t\tin.(all_inds, Ref(closure_inds))\n\t\t\telse\n\t\t\t\tfill(false, length(all_inds))\n\t\t\tend\n\t\tend\n\t\t@orderby :firm_id :mesh :year\n\t\t@groupby :firm_id :mesh\n\t\t@transform :closed = begin\n\t\t\tcumsum(:closure) .&gt; 0\n\t\tend\n\t\t@groupby :firm_id :year\n\t\t@transform :closure_outmesh = begin\n\t\t\t(sum(:closure) .- :closure) .&gt; 0\n\t\tend\n\t\t@groupby :mesh :year\n\t\t@transform :stays = mean(:closed .== false) .+ .1 .* :economic_shock\n\t\t@groupby :mesh :year\n\t\t@combine begin\n\t\t\tany_closure_outmesh = any(:closure_outmesh)\n\t\t\tstays = mean(:stays)\n\t\t\tany_closure = any(:closure)\n\t\t\t(;any_closure_outmesh, stays, any_closure)\n\t\tend\n\tend\nend\n\nfunction main()\n\tT = 5\n\tN = 50\n\tM = 100\n\n\tdf = make_location_data(T, N, M)\nend```\nWhen I start a session, I do `using Revise; includet(\"myscript.jl\")`\n\nThen I just run `main()` in the REPL to do things.","user":"UBF9YRB6H","ts":"1615576080.371200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"czIt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"here is a script I'm working on right now (I have some modifications to DataFramesMeta to experiment)\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Distributions, DataFramesMeta, GLM\n\nusing Exfiltrator, Chain, FloatingTableView\n\nfunction make_location_data(T, N, M)\n\t# Make a balanced panel of years, firms, and meshes\n\tdf = @chain begin\n\t\tIterators.product(1:T, 1:N, 1:M)\n\t\tcollect\n\t\tvec\n\t\tDataFrame\n\t\trename!([:year, :firm_id, :mesh])\n\t\tsort([:mesh, :year, :firm_id])\n\tend\n\n\t# Simulate bad performance causing firms to fail\n\t# When a mesh gets a bad draw, one location closes down\n\t# when a location closes down, a randomly picked location\n\t# closes down.\n\t# Total observed stays are the random draw plus the fraction of\n\t# original firms in the location.\n\t@chain df begin\n\t\t@groupby :mesh :year\n\t\t@transform :economic_shock = rand()\n\t\t@groupby :mesh :year\n\t\t@transform :closes_from_direct_shock = begin\n\t\t\tall_inds = eachindex(:economic_shock)\n\t\t\tif first(:economic_shock) < .1\n\t\t\t\tnew_closure = rand(all_inds)\n\t\t\t\tall_inds .== new_closure\n\t\t\telse\n\t\t\t\tfill(false, length(all_inds))\n\t\t\tend\n\t\tend\n\t\t@groupby :firm_id :year\n\t\t@transform :closure = begin\n\t\t\tall_inds = eachindex(:closes_from_direct_shock)\n\t\t\tif any(:closes_from_direct_shock)\n\t\t\t\tclosure_inds = Set(findall(:closes_from_direct_shock))\n\t\t\t\tnon_closure_inds = setdiff(all_inds, closure_inds)\n\t\t\t\tnew_closures = rand(non_closure_inds, Int(floor(M/5)))\n\t\t\t\tpush!(closure_inds, new_closures...)\n\t\t\t\tin.(all_inds, Ref(closure_inds))\n\t\t\telse\n\t\t\t\tfill(false, length(all_inds))\n\t\t\tend\n\t\tend\n\t\t@orderby :firm_id :mesh :year\n\t\t@groupby :firm_id :mesh\n\t\t@transform :closed = begin\n\t\t\tcumsum(:closure) .> 0\n\t\tend\n\t\t@groupby :firm_id :year\n\t\t@transform :closure_outmesh = begin\n\t\t\t(sum(:closure) .- :closure) .> 0\n\t\tend\n\t\t@groupby :mesh :year\n\t\t@transform :stays = mean(:closed .== false) .+ .1 .* :economic_shock\n\t\t@groupby :mesh :year\n\t\t@combine begin\n\t\t\tany_closure_outmesh = any(:closure_outmesh)\n\t\t\tstays = mean(:stays)\n\t\t\tany_closure = any(:closure)\n\t\t\t(;any_closure_outmesh, stays, any_closure)\n\t\tend\n\tend\nend\n\nfunction main()\n\tT = 5\n\tN = 50\n\tM = 100\n\n\tdf = make_location_data(T, N, M)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nWhen I start a session, I do "},{"type":"text","text":"using Revise; includet(\"myscript.jl\")","style":{"code":true}},{"type":"text","text":"\n\nThen I just run "},{"type":"text","text":"main()","style":{"code":true}},{"type":"text","text":" in the REPL to do things."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"03917e40-92c8-42f8-82f9-dfe90910fccf","type":"message","text":"<@UBF9YRB6H> So does this first snippet of code ensure that any changes done are not final to the original file?","user":"U01QJ915TFD","ts":"1615576315.371400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fkSS","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" So does this first snippet of code ensure that any changes done are not final to the original file?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"6dec5bd2-0a0f-4e3e-a5d0-55d3e74c1fd1","type":"message","text":"can you rephrase?","user":"UBF9YRB6H","ts":"1615576339.371600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CnaH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you rephrase?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"112272a1-10bf-4ca2-92e9-39cc51227155","type":"message","text":"<@UBF9YRB6H> Yes, so you mentioned that you start with using Revise; includet(\"myscript.jl\")\n\nWhat is the purpose?","user":"U01QJ915TFD","ts":"1615576413.371800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jQ3","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Yes, so you mentioned that you start with using Revise; includet(\"myscript.jl\")\n\nWhat is the purpose?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"3fc481f5-3937-400d-bb20-cb6367f8fd55","type":"message","text":"it means that not I can edit the file and julia updates everything for me. I can just call `main()` and it will always incorporate the newest changes","user":"UBF9YRB6H","ts":"1615576448.372000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j0b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it means that not I can edit the file and julia updates everything for me. I can just call "},{"type":"text","text":"main()","style":{"code":true}},{"type":"text","text":" and it will always incorporate the newest changes"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"c22a456e-7d58-4958-8bc4-fc53e9f6aadd","type":"message","text":"<@UBF9YRB6H> So even if you save it with new changes, these changes will not take effect until you call main()?","user":"U01QJ915TFD","ts":"1615576498.372200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9QTJ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" So even if you save it with new changes, these changes will not take effect until you call main()?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"5688f731-65d0-4612-8db3-67c394108ec1","type":"message","text":"yes. I never call `include`, just `main()`","user":"UBF9YRB6H","ts":"1615576526.372400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DgJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes. I never call "},{"type":"text","text":"include","style":{"code":true}},{"type":"text","text":", just "},{"type":"text","text":"main()","style":{"code":true}}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"3a00177d-5427-43e5-a50c-824c4f16c343","type":"message","text":"<@UBF9YRB6H> This sounds like a perfect way to test things and if I do something wrong I can just restart the file without ever calling main(), right?","user":"U01QJ915TFD","ts":"1615576661.372600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mtV+","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" This sounds like a perfect way to test things and if I do something wrong I can just restart the file without ever calling main(), right?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"8a101744-38e9-47d2-a83f-230cca90da83","type":"message","text":"if you do something wrong, julia will throw and error and tell you until you fix the file. What do you mean by \"if I do something wrong\"?","user":"UBF9YRB6H","ts":"1615576718.372800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MelAZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you do something wrong, julia will throw and error and tell you until you fix the file. What do you mean by \"if I do something wrong\"?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"411e9eed-9ef1-4deb-b475-8208c0a98426","type":"message","text":"<@UBF9YRB6H> So let's say I want to try something new that I was learning about and I don't want to break something or ruin my previous work. From what I understand I would start off with the first snippet of  Revise;includet(\"myscript.jl\").\n\nThis would protect me from damaging the work. So I would just try different things and in case I am not satisfied I would just close and open the file again.\nBut in case I am satisfied I would run main() by itself and all changes will be final to the file. Is that correct?","user":"U01QJ915TFD","ts":"1615576870.373000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IWm","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" So let's say I want to try something new that I was learning about and I don't want to break something or ruin my previous work. From what I understand I would start off with the first snippet of  Revise;includet(\"myscript.jl\").\n\nThis would protect me from damaging the work. So I would just try different things and in case I am not satisfied I would just close and open the file again.\nBut in case I am satisfied I would run main() by itself and all changes will be final to the file. Is that correct?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"cf009a06-1454-48b7-97a1-2310969b83d9","type":"message","text":"what do you mean by \"ruin my previous work\"?","user":"UBF9YRB6H","ts":"1615576992.373200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kxw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you mean by \"ruin my previous work\"?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"55e52c2e-2946-4b9f-a9c0-780a0d2ec0ed","type":"message","text":"like, modify a column in a data frame?","user":"UBF9YRB6H","ts":"1615577014.373400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YwCA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"like, modify a column in a data frame?"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"e337e743-de79-40e5-93d5-27acb0bc1c1b","type":"message","text":"Yeah","user":"U01QJ915TFD","ts":"1615577059.373600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eYOSA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"7bef7338-10c2-48cd-9a34-a586d1abd446","type":"message","text":"Yeah like wrongly modify a column in a dataframe","user":"U01QJ915TFD","ts":"1615577073.373800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IlKo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah like wrongly modify a column in a dataframe"}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"},{"client_msg_id":"3bfb571d-3e0a-4d6d-97bc-9645d132c898","type":"message","text":"ah okay. Here's the way I think you should change your thinking.\n\nThere shouldn't be a global state you have to keep track of. Just run everything from scratch, every time.\n\nDon't think about modifying things step by step. Just have everything in `main` and call `main()` all the time.\n\nIf you want to experiment, you can use `@exfiltrate` from `Exfiltrator.jl` to bring variables that are inside functions into global scope. Then you can play around with them.","user":"UBF9YRB6H","ts":"1615577198.374000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X6M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah okay. Here's the way I think you should change your thinking.\n\nThere shouldn't be a global state you have to keep track of. Just run everything from scratch, every time.\n\nDon't think about modifying things step by step. Just have everything in "},{"type":"text","text":"main","style":{"code":true}},{"type":"text","text":" and call "},{"type":"text","text":"main()","style":{"code":true}},{"type":"text","text":" all the time.\n\nIf you want to experiment, you can use "},{"type":"text","text":"@exfiltrate","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"Exfiltrator.jl","style":{"code":true}},{"type":"text","text":" to bring variables that are inside functions into global scope. Then you can play around with them."}]}]}],"thread_ts":"1615574484.366100","parent_user_id":"U01QJ915TFD"}]