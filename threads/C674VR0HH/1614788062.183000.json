[{"client_msg_id":"8fb9e664-58c6-4b21-9097-498a84b5278b","type":"message","text":"After a hiatus off in computer simulation land I am back to processing some experimental data which I have loaded into a DataFrame. When I went looking I found that most traces of categorical arrays have been removed. What is the current state of affairs for this? I don't *need* to do anything as my DataFrame isn't huge (~500k rows and 5 columns. Of which 2 are Floats and 3 are \"categorical\") And so it fits into RAM regardless but in the past I would've used the function to convert columns to categorical arrays for faster filtering and such. I also found references to PooledArrays which I'm not familiar with. Thanks in advanced.","user":"U9L5Y89H7","ts":"1614788062.183000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nxZkU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"After a hiatus off in computer simulation land I am back to processing some experimental data which I have loaded into a DataFrame. When I went looking I found that most traces of categorical arrays have been removed. What is the current state of affairs for this? I don't "},{"type":"text","text":"need","style":{"bold":true}},{"type":"text","text":" to do anything as my DataFrame isn't huge (~500k rows and 5 columns. Of which 2 are Floats and 3 are \"categorical\") And so it fits into RAM regardless but in the past I would've used the function to convert columns to categorical arrays for faster filtering and such. I also found references to PooledArrays which I'm not familiar with. Thanks in advanced."}]}]}],"thread_ts":"1614788062.183000","reply_count":5,"reply_users_count":3,"latest_reply":"1614791649.184000","reply_users":["U67431ELR","U9L5Y89H7","U8JAMQGQY"],"subscribed":false},{"client_msg_id":"a724099a-31c5-4b41-b62f-2569e2cf807a","type":"message","text":"We removed the dependency on CategoricalArrays because it's not needed by all users. But you can load it separately if you want. PooledArrays are an alternative if all you care about is saving RAM (rather than changing the semantics/ordering of the variable).","user":"U67431ELR","ts":"1614788170.183100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k+b1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We removed the dependency on CategoricalArrays because it's not needed by all users. But you can load it separately if you want. PooledArrays are an alternative if all you care about is saving RAM (rather than changing the semantics/ordering of the variable)."}]}]}],"thread_ts":"1614788062.183000","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"b62fcddb-6aa7-411d-b560-a94add48ffa9","type":"message","text":"`categorical` and `categorical!` have been removed but you can easily replace them with other operations, e.g. `transform!(df, names(df, AbstractString) =&gt; categorical, renamecols=false)`.","user":"U67431ELR","ts":"1614788239.183300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rrn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"categorical","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"categorical!","style":{"code":true}},{"type":"text","text":" have been removed but you can easily replace them with other operations, e.g. "},{"type":"text","text":"transform!(df, names(df, AbstractString) => categorical, renamecols=false)","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1614788062.183000","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"43021c7d-f66e-46e2-9b6d-9989fe161d94","type":"message","text":"Thank you for the information. Does DataFrames do anything in the background regarding PooledArrays or simply I have to feed it a PooledArray (or convert it to one using `transform` ) to achieve that?","user":"U9L5Y89H7","ts":"1614789145.183500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8WIc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you for the information. Does DataFrames do anything in the background regarding PooledArrays or simply I have to feed it a PooledArray (or convert it to one using "},{"type":"text","text":"transform","style":{"code":true}},{"type":"text","text":" ) to achieve that?"}]}]}],"thread_ts":"1614788062.183000","parent_user_id":"U9L5Y89H7"},{"client_msg_id":"48346a7e-ca38-4f8b-a2da-6489b703117d","type":"message","text":"No, DataFrames doesn't do anything to the vectors you pass it. Though CSV.jl will create PooledArrays when the proportion of unique values is low.","user":"U67431ELR","ts":"1614789779.183700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AixNe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, DataFrames doesn't do anything to the vectors you pass it. Though CSV.jl will create PooledArrays when the proportion of unique values is low."}]}]}],"thread_ts":"1614788062.183000","parent_user_id":"U9L5Y89H7","reactions":[{"name":"+1","users":["U9L5Y89H7"],"count":1}]},{"client_msg_id":"72b05225-5342-45c7-8adc-fe449426cbf5","type":"message","text":"But - mainly thanks to <@U67431ELR> - DataFrames.jl is generically (via DataAPI.jl) aware of the fact that the array is \"pooled\" in some way and will work faster with such objects.","user":"U8JAMQGQY","ts":"1614791649.184000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R3eeZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But - mainly thanks to "},{"type":"user","user_id":"U67431ELR"},{"type":"text","text":" - DataFrames.jl is generically (via DataAPI.jl) aware of the fact that the array is \"pooled\" in some way and will work faster with such objects."}]}]}],"thread_ts":"1614788062.183000","parent_user_id":"U9L5Y89H7"}]