[{"client_msg_id":"da0c85b0-d279-4aba-b470-a1e5a7b5edd9","type":"message","text":"I have a grouped and sorted dataframe and want to add a column with `transform` that is just an integer from 1 to n_groups. How do I do that?\n\nThere must be something like `nrow`, maybe `igroup` . data.table has `.GRP` for example\n```DT[ , i := .GRP, by = key(DT)]```","user":"UK1BNFHFV","ts":"1616752551.272700","team":"T68168MUP","edited":{"user":"UK1BNFHFV","ts":"1616752780.000000"},"blocks":[{"type":"rich_text","block_id":"oIy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a grouped and sorted dataframe and want to add a column with "},{"type":"text","text":"transform","style":{"code":true}},{"type":"text","text":" that is just an integer from 1 to n_groups. How do I do that?\n\nThere must be something like "},{"type":"text","text":"nrow","style":{"code":true}},{"type":"text","text":", maybe "},{"type":"text","text":"igroup","style":{"code":true}},{"type":"text","text":" . data.table has "},{"type":"text","text":".GRP","style":{"code":true}},{"type":"text","text":" for example\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"DT[ , i := .GRP, by = key(DT)]"}]}]}],"thread_ts":"1616752551.272700","reply_count":5,"reply_users_count":3,"latest_reply":"1616776429.275600","reply_users":["UBF9YRB6H","UK1BNFHFV","U66M57AN4"],"is_locked":false,"subscribed":false},{"client_msg_id":"70cfd583-084c-44d2-bca7-90d6954125e6","type":"message","text":"No, no function for that, unfortunately.\n\nCan't think of an obvious way to do that atm","user":"UBF9YRB6H","ts":"1616771180.274300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tkD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, no function for that, unfortunately.\n\nCan't think of an obvious way to do that atm"}]}]}],"thread_ts":"1616752551.272700","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"8867721c-082a-4312-8566-9960dc26a5f7","type":"message","text":"I saw some thread on github where this was discussed, are people opposed to just adding it to the minilanguage? there are really not many cases like this, index of group is one of them","user":"UK1BNFHFV","ts":"1616772024.274500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ivhN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I saw some thread on github where this was discussed, are people opposed to just adding it to the minilanguage? there are really not many cases like this, index of group is one of them"}]}]}],"thread_ts":"1616752551.272700","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"a0fb0546-548e-4757-a34e-857ffa089979","type":"message","text":"so I don't think adding it would \"open the floodgates\"","user":"UK1BNFHFV","ts":"1616772044.274700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Y4u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I don't think adding it would \"open the floodgates\""}]}]}],"thread_ts":"1616752551.272700","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"B11F5C39-470A-459E-A55B-B941EA6C1A26","type":"message","text":"Can you map over enumerate? Should give you the groups ","user":"U66M57AN4","ts":"1616775276.275400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"be4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you map over enumerate? Should give you the groups "}]}]}],"thread_ts":"1616752551.272700","parent_user_id":"UK1BNFHFV"},{"client_msg_id":"0e227cb3-9382-422b-92bb-cd3d3096550d","type":"message","text":"But you can't create new variables inside the sub-dataframes, so you would need to pre-declare the variables.\n\nAlso, direct comparisons with `NamedTuples` aren't allowed unless you have <https://github.com/JuliaData/DataFrames.jl/pull/2669>","user":"UBF9YRB6H","ts":"1616776429.275600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jKR/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But you can't create new variables inside the sub-dataframes, so you would need to pre-declare the variables.\n\nAlso, direct comparisons with "},{"type":"text","text":"NamedTuples","style":{"code":true}},{"type":"text","text":" aren't allowed unless you have "},{"type":"link","url":"https://github.com/JuliaData/DataFrames.jl/pull/2669"}]}]}],"thread_ts":"1616752551.272700","parent_user_id":"UK1BNFHFV"}]