[{"client_msg_id":"f524b58b-c30c-44fc-82fc-69d316decfef","type":"message","text":"I have (lots of) csv files with a `Vector{Float64}` column a la `1, 2, \"[1.0, 2.0, 3.0]\"` . Is there a good way to parse this into a `DataFrame`? Since this is a one-shot script i’ve tried the hacky\n```Base.parse(::Type{Vector{Float64}}, s::String) = eval(Meta.parse(s))\ndf = CSV.read(f, DataFrame, types=Dict(:correlation=&gt;Vector{Float64}))```\nwhich works but it is very slow…","user":"U01BYANF42K","ts":"1616159455.052500","team":"T68168MUP","edited":{"user":"U01BYANF42K","ts":"1616159618.000000"},"blocks":[{"type":"rich_text","block_id":"39QBH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have (lots of) csv files with a "},{"type":"text","text":"Vector{Float64}","style":{"code":true}},{"type":"text","text":" column a la "},{"type":"text","text":"1, 2, \"[1.0, 2.0, 3.0]\"","style":{"code":true}},{"type":"text","text":" . Is there a good way to parse this into a "},{"type":"text","text":"DataFrame","style":{"code":true}},{"type":"text","text":"? Since this is a one-shot script i’ve tried the hacky\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Base.parse(::Type{Vector{Float64}}, s::String) = eval(Meta.parse(s))\ndf = CSV.read(f, DataFrame, types=Dict(:correlation=>Vector{Float64}))"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"which works but it is very slow…"}]}]}],"thread_ts":"1616159455.052500","reply_count":3,"reply_users_count":2,"latest_reply":"1616162071.058800","reply_users":["U67431ELR","U01BYANF42K"],"subscribed":false},{"client_msg_id":"23294065-424f-4704-b78c-d38564a880aa","type":"message","text":"Maybe instead of `Meta.parse` you could use `split` and then `parse(Float64, ...)` on the elements?","user":"U67431ELR","ts":"1616160072.057700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xh=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe instead of "},{"type":"text","text":"Meta.parse","style":{"code":true}},{"type":"text","text":" you could use "},{"type":"text","text":"split","style":{"code":true}},{"type":"text","text":" and then "},{"type":"text","text":"parse(Float64, ...)","style":{"code":true}},{"type":"text","text":" on the elements?"}]}]}],"thread_ts":"1616159455.052500","parent_user_id":"U01BYANF42K"},{"client_msg_id":"a1db39d4-5339-4a62-8265-768fddc969c0","type":"message","text":"i’ve just tried  `Base.parse(::Type{Vector{Float64}}, s::String) = [Base.parse(Float64, num) for num in split(s[2:end-1], ',')`  and yeah it is more then 10x faster but feels wrong somehow…","user":"U01BYANF42K","ts":"1616160289.058000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EIN96","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i’ve just tried  "},{"type":"text","text":"Base.parse(::Type{Vector{Float64}}, s::String) = [Base.parse(Float64, num) for num in split(s[2:end-1], ',')","style":{"code":true}},{"type":"text","text":"  and yeah it is more then 10x faster but feels wrong somehow…"}]}]}],"thread_ts":"1616159455.052500","parent_user_id":"U01BYANF42K"},{"client_msg_id":"c729e32e-a074-4892-9c0f-a402a98d3448","type":"message","text":"Why? It's also safer, as `Meta.parse` could run any code stored in the file. It might be even faster to avoid a copy using `@view s[2:end-1]`.","user":"U67431ELR","ts":"1616162071.058800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zJ/e=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why? It's also safer, as "},{"type":"text","text":"Meta.parse","style":{"code":true}},{"type":"text","text":" could run any code stored in the file. It might be even faster to avoid a copy using "},{"type":"text","text":"@view s[2:end-1]","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1616159455.052500","parent_user_id":"U01BYANF42K"}]