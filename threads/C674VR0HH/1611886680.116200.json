[{"client_msg_id":"549f486e-cb7c-45fd-96cc-e2a778f9b48d","type":"message","text":"How can I do `standardize(ZScoreTransform, arraywithmissings)`?","user":"U01ARRMLM7E","ts":"1611886680.116200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l9aP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can I do "},{"type":"text","text":"standardize(ZScoreTransform, arraywithmissings)","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611886680.116200","reply_count":5,"reply_users_count":4,"latest_reply":"1611912441.118100","reply_users":["UB197FRCL","U01ARRMLM7E","U017JTQFNEQ","U67431ELR"],"subscribed":false},{"client_msg_id":"8d35a830-4517-45df-ab20-f675ef4a4713","type":"message","text":"`skipmissing`?","user":"UB197FRCL","ts":"1611887259.116300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UPmj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"skipmissing","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1611886680.116200","parent_user_id":"U01ARRMLM7E"},{"client_msg_id":"6f5cd4bf-547d-4d32-b8e7-9d050acafb02","type":"message","text":"```julia&gt; standardize(ZScoreTransform, skipmissing([1,2, missing]))\nERROR: MethodError: no method matching standardize(::Type{ZScoreTransform}, ::Base.SkipMissing{Array{Union{Missing, Int64},1}})```","user":"U01ARRMLM7E","ts":"1611889112.116500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bRuL7","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> standardize(ZScoreTransform, skipmissing([1,2, missing]))\nERROR: MethodError: no method matching standardize(::Type{ZScoreTransform}, ::Base.SkipMissing{Array{Union{Missing, Int64},1}})"}]}]}],"thread_ts":"1611886680.116200","parent_user_id":"U01ARRMLM7E"},{"client_msg_id":"7cdd2661-8cad-4ec4-933b-919d13d6f485","type":"message","text":"Here is my hack:\n```nanzscore(x) = begin\n    out = copy(x)\n    good = isfinite.(x) .&amp; .!ismissing.(x)\n    xg = x[good]\n    out[good] = (xg .- mean(xg)) ./ std(xg)\n    out\nend```","user":"U017JTQFNEQ","ts":"1611897460.117400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eEsxL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is my hack:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"nanzscore(x) = begin\n    out = copy(x)\n    good = isfinite.(x) .& .!ismissing.(x)\n    xg = x[good]\n    out[good] = (xg .- mean(xg)) ./ std(xg)\n    out\nend"}]}]}],"thread_ts":"1611886680.116200","parent_user_id":"U01ARRMLM7E"},{"client_msg_id":"2e7f5a01-2feb-45fd-a191-0b48b7f2bc12","type":"message","text":"but this will zscore over all elements, not row or columnwise.","user":"U017JTQFNEQ","ts":"1611897676.117600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mdrkZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but this will zscore over all elements, not row or columnwise."}]}]}],"thread_ts":"1611886680.116200","parent_user_id":"U01ARRMLM7E"},{"client_msg_id":"68804078-1c4a-484c-9185-de6239a1d43f","type":"message","text":"I guess something like `xnm = view(x, .!ismissing.(x)); StatsBase.transform!(fit(ZScoreTransform(xnm), xnm)` should work? If we added `standardize!` it could be a bit shorter. Feel free to make a PR (though it could be called `normalize!` instead, see latest comments <https://github.com/JuliaStats/StatsBase.jl/pull/85>).","user":"U67431ELR","ts":"1611912441.118100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S0k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess something like "},{"type":"text","text":"xnm = view(x, .!ismissing.(x)); StatsBase.transform!(fit(ZScoreTransform(xnm), xnm)","style":{"code":true}},{"type":"text","text":" should work? If we added "},{"type":"text","text":"standardize!","style":{"code":true}},{"type":"text","text":" it could be a bit shorter. Feel free to make a PR (though it could be called "},{"type":"text","text":"normalize!","style":{"code":true}},{"type":"text","text":" instead, see latest comments "},{"type":"link","url":"https://github.com/JuliaStats/StatsBase.jl/pull/85"},{"type":"text","text":")."}]}]}],"thread_ts":"1611886680.116200","parent_user_id":"U01ARRMLM7E"}]