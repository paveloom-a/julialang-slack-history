[{"client_msg_id":"a8180445-50e5-47a9-adbe-d59d389ff05f","type":"message","text":"as simple as that? Excellent, thanks!","user":"U01GFAJRZ44","ts":"1610116992.368100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X8t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"as simple as that? Excellent, thanks!"}]}]}],"thread_ts":"1610116992.368100","reply_count":1,"reply_users_count":1,"latest_reply":"1610123372.373700","reply_users":["U6740K1SP"],"subscribed":false,"reactions":[{"name":"tada","users":["U68M6ERG8","U6QGE7S86"],"count":2}]},{"client_msg_id":"908b3f16-f431-4d79-ad90-42139488b3ea","type":"message","text":"Yes, this would be the literal translation — but we can do better in Julia.  I’d define a `normalize_policy` function that works on _single string at a time_.  That is — I’d define something like:\n\n```function normalize_policy(str)\n    policy = lowercase(str)\n    if contains(policy, \"drug\")\n        return \"Drugs &amp; Substance Misuse\"\n    elseif ...\n        ...\n    end\nend```\nThen you can simply say:\n```df.policy .= normalize_policy.(df.policy)```\nThis makes it easier for you to detangle the _string transform_ from the _dataframe transform_ — and you can test it separately on single strings and ensure that your logic is sensible and self-consistent.","user":"U6740K1SP","ts":"1610123372.373700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Xzn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, this would be the literal translation — but we can do better in Julia.  I’d define a "},{"type":"text","text":"normalize_policy","style":{"code":true}},{"type":"text","text":" function that works on "},{"type":"text","text":"single string at a time","style":{"italic":true}},{"type":"text","text":".  That is — I’d define something like:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function normalize_policy(str)\n    policy = lowercase(str)\n    if contains(policy, \"drug\")\n        return \"Drugs & Substance Misuse\"\n    elseif ...\n        ...\n    end\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThen you can simply say:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"df.policy .= normalize_policy.(df.policy)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThis makes it easier for you to detangle the "},{"type":"text","text":"string transform","style":{"italic":true}},{"type":"text","text":" from the "},{"type":"text","text":"dataframe transform","style":{"italic":true}},{"type":"text","text":" — and you can test it separately on single strings and ensure that your logic is sensible and self-consistent."}]}]}],"thread_ts":"1610116992.368100","parent_user_id":"U01GFAJRZ44","reactions":[{"name":"pray","users":["U01GFAJRZ44","U6QGE7S86"],"count":2}]}]