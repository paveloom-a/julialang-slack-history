[{"client_msg_id":"c3c52c8e-5663-4cb3-873c-7ac3b3130e58","type":"message","text":"is there a good function to unpack vector-valued columns with DataFrames.jl? i.e. this transformation\n```julia&gt; df = DataFrame( (; a =  rand(3), b = [rand(2) for _ = 1:3]))\n3×2 DataFrame\n Row │ a         b                    \n     │ Float64   Array…               \n─────┼────────────────────────────────\n   1 │ 0.562557  [0.805228, 0.323733]\n   2 │ 0.438863  [0.509096, 0.656699]\n   3 │ 0.417421  [0.824068, 0.48768]\n\njulia&gt; expand(df, :b)\n6×2 DataFrame\n Row │ a         b        \n     │ Float64   Float64  \n─────┼────────────────────\n   1 │ 0.562557  0.805228\n   2 │ 0.562557  0.323733\n   3 │ 0.438863  0.509096\n   4 │ 0.438863  0.656699\n   5 │ 0.417421  0.824068\n   6 │ 0.417421  0.48768```","user":"UCZ7VBGUD","ts":"1613608529.011700","team":"T68168MUP","edited":{"user":"UCZ7VBGUD","ts":"1613608581.000000"},"blocks":[{"type":"rich_text","block_id":"=g44","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a good function to unpack vector-valued columns with DataFrames.jl? i.e. this transformation\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> df = DataFrame( (; a =  rand(3), b = [rand(2) for _ = 1:3]))\n3×2 DataFrame\n Row │ a         b                    \n     │ Float64   Array…               \n─────┼────────────────────────────────\n   1 │ 0.562557  [0.805228, 0.323733]\n   2 │ 0.438863  [0.509096, 0.656699]\n   3 │ 0.417421  [0.824068, 0.48768]\n\njulia> expand(df, :b)\n6×2 DataFrame\n Row │ a         b        \n     │ Float64   Float64  \n─────┼────────────────────\n   1 │ 0.562557  0.805228\n   2 │ 0.562557  0.323733\n   3 │ 0.438863  0.509096\n   4 │ 0.438863  0.656699\n   5 │ 0.417421  0.824068\n   6 │ 0.417421  0.48768"}]}]}],"thread_ts":"1613608529.011700","reply_count":1,"reply_users_count":1,"latest_reply":"1613608546.011800","reply_users":["UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"9b5d7e84-fb29-4e61-a7a7-7a224cd0110d","type":"message","text":"my implementation doesn't seem very good:\n```function expand(df, col)\n    new_df = DataFrame()\n    for row in Tables.namedtupleiterator(df)\n        for val in row[col]\n            push!(new_df, (; (k =&gt; v for (k,v) in pairs(row) if k !== col)..., ((col =&gt; val),)...); cols=:union)\n        end\n    end\n    return new_df\nend```\n","user":"UCZ7VBGUD","ts":"1613608546.011800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y5n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"my implementation doesn't seem very good:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function expand(df, col)\n    new_df = DataFrame()\n    for row in Tables.namedtupleiterator(df)\n        for val in row[col]\n            push!(new_df, (; (k => v for (k,v) in pairs(row) if k !== col)..., ((col => val),)...); cols=:union)\n        end\n    end\n    return new_df\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1613608529.011700","parent_user_id":"UCZ7VBGUD"}]