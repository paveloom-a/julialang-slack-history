[{"client_msg_id":"0f2180d6-2b9d-435e-910e-3c89f124ac1e","type":"message","text":"is there seriously no way to query a fixed number of rows at random from a sql database?  look at [this](<https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql>) horror...","user":"U9VG1AYSG","ts":"1612366492.229900","team":"T68168MUP","attachments":[{"service_name":"Stack Overflow","title":"Best way to select random rows PostgreSQL","title_link":"https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql","text":"I want a random selection of rows in PostgreSQL, I tried this: select * from table where random() &lt; 0.01; But some other recommend this: select * from table order by random() limit 1000; I h...","fallback":"Stack Overflow: Best way to select random rows PostgreSQL","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded","from_url":"https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql","thumb_width":316,"thumb_height":316,"service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a","id":1,"original_url":"https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql"}],"blocks":[{"type":"rich_text","block_id":"bHdE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there seriously no way to query a fixed number of rows at random from a sql database?  look at [this]("},{"type":"link","url":"https://stackoverflow.com/questions/8674718/best-way-to-select-random-rows-postgresql"},{"type":"text","text":") horror..."}]}]}],"thread_ts":"1612366492.229900","reply_count":10,"reply_users_count":5,"latest_reply":"1612370995.235100","reply_users":["U7JQGPGCQ","U9VG1AYSG","U681ELA87","UH24GRBLL","ULG5V164A"],"subscribed":false,"reactions":[{"name":"wat","users":["U6740K1SP"],"count":1}]},{"client_msg_id":"1a360ecf-92ea-4e54-8f09-d3681daf1558","type":"message","text":"Well, looks like now there is `SELECT * FROM f_random_sample(500, 1.05);` :wink:","user":"U7JQGPGCQ","ts":"1612367038.230200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0aF7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, looks like now there is "},{"type":"text","text":"SELECT * FROM f_random_sample(500, 1.05);","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"d4330d76-0611-40b9-be50-65ab152748a4","type":"message","text":"hoooowwww can that not be built in","user":"U9VG1AYSG","ts":"1612367117.230400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z=PfM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hoooowwww can that not be built in"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"4DF77F0C-8C6E-4D95-9293-8E280A983F76","type":"message","text":"Oof, this has always baffled me","user":"U681ELA87","ts":"1612367140.230900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TZeH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oof, this has always baffled me"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"ae77c2cb-af0f-4e03-b48a-16afe32db4e9","type":"message","text":"I vaguely remember having done it before, but maybe I'm remembering trying and giving up...","user":"U9VG1AYSG","ts":"1612367163.231100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EPm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I vaguely remember having done it before, but maybe I'm remembering trying and giving up..."}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"70d42aa5-ba39-49be-8486-1e0cf09fb15b","type":"message","text":"I usually go pretty far out of my way to just query as much as I need and do everything in Julia","user":"U9VG1AYSG","ts":"1612367175.231300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tg6A6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I usually go pretty far out of my way to just query as much as I need and do everything in Julia"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"092ef486-64a9-46ad-93f6-d2ea69e63d0c","type":"message","text":"It's not built in because databases rely on sequential access for speed","user":"UH24GRBLL","ts":"1612368541.232600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/6g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's not built in because databases rely on sequential access for speed"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG","reactions":[{"name":"+1","users":["ULG5V164A"],"count":1}]},{"client_msg_id":"1b8af12c-2270-4b69-bb28-44fa5e411ce1","type":"message","text":"if the data is not entirely sequential but still has some pattern, using a DB Index speeds queries up, but you can't build such an index for random access, which by definition doesn't have a pattern associated with it","user":"UH24GRBLL","ts":"1612368653.232800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/kDz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if the data is not entirely sequential but still has some pattern, using a DB Index speeds queries up, but you can't build such an index for random access, which by definition doesn't have a pattern associated with it"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"6c2b5c54-a3ef-4af8-b416-3e95cade4610","type":"message","text":"Consider things like `TABLESAMPLE` in Presto, now also in Postgres.","user":"ULG5V164A","ts":"1612370741.234700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q7+a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Consider things like "},{"type":"text","text":"TABLESAMPLE","style":{"code":true}},{"type":"text","text":" in Presto, now also in Postgres."}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"a2b63b6e-98d7-44d9-bccf-afae6ae0f5cf","type":"message","text":"TIL, didn't know about that :thinking_face:  <https://wiki.postgresql.org/wiki/TABLESAMPLE_Implementation>","user":"UH24GRBLL","ts":"1612370934.234900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QcbeG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"TIL, didn't know about that "},{"type":"emoji","name":"thinking_face"},{"type":"text","text":"  "},{"type":"link","url":"https://wiki.postgresql.org/wiki/TABLESAMPLE_Implementation"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"},{"client_msg_id":"8b929ff3-6a6d-435d-9faf-cf62a83a2596","type":"message","text":"yeah, speed/accuracy caveats apply","user":"UH24GRBLL","ts":"1612370995.235100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8NQz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, speed/accuracy caveats apply"}]}]}],"thread_ts":"1612366492.229900","parent_user_id":"U9VG1AYSG"}]