[{"client_msg_id":"8153e314-a283-4b81-b905-4d02177c9cc8","type":"message","text":"Hi everyone\ni am trying to run a for loop on a function but this does not update the values so say i have some df like so.\n```data = DataFrame(start= collect(Dates.Date(2015,12,31):Dates.Month(12):Dates.Date(2020,12,31)),\n                valuesOne = [2.0,1.0,3.0,2.0,4.0,2.5],\n                 valuesTwo =[4.0,6.0,5.50,5.50,5.50,6.0])```\nand now here is the for loop\n```\n    data2 = data\n    valuesd = data2[!,:2:end] \n    v = Array(last(valuesd))\n    xs = Array[v]\n     for i in 1:n\n        v = last(xs)\n        g = myFunOne(data2)\n        v =  (v .* g)                                                                           \n        push!(xs,v)\n        addDate = last(data2[!,:1]) + Dates.Year(1)\n        push!(data2,vcat(addDate,v))\n    end \n    ```\nso my challenge is at `g = myFunOne(data2)` which does not update after each iteration. my `myFunOne` takes in a df and returns an array something like(`myFunOne(data::DataFrame)`.\nthe intended output is after updating the data2 `myFunOne` should use the updated data2  to generate g for the next iteration.\nThank you for your help.","user":"UPH1M2MB2","ts":"1613728850.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hKgP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi everyone\ni am trying to run a for loop on a function but this does not update the values so say i have some df like so.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"data = DataFrame(start= collect(Dates.Date(2015,12,31):Dates.Month(12):Dates.Date(2020,12,31)),\n                valuesOne = [2.0,1.0,3.0,2.0,4.0,2.5],\n                 valuesTwo =[4.0,6.0,5.50,5.50,5.50,6.0])"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and now here is the for loop\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\n    data2 = data\n    valuesd = data2[!,:2:end] \n    v = Array(last(valuesd))\n    xs = Array[v]\n     for i in 1:n\n        v = last(xs)\n        g = myFunOne(data2)\n        v =  (v .* g)                                                                           \n        push!(xs,v)\n        addDate = last(data2[!,:1]) + Dates.Year(1)\n        push!(data2,vcat(addDate,v))\n    end \n    "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"so my challenge is at "},{"type":"text","text":"g = myFunOne(data2)","style":{"code":true}},{"type":"text","text":" which does not update after each iteration. my "},{"type":"text","text":"myFunOne","style":{"code":true}},{"type":"text","text":" takes in a df and returns an array something like("},{"type":"text","text":"myFunOne(data::DataFrame)","style":{"code":true}},{"type":"text","text":".\nthe intended output is after updating the data2 "},{"type":"text","text":"myFunOne","style":{"code":true}},{"type":"text","text":" should use the updated data2  to generate g for the next iteration.\nThank you for your help."}]}]}],"thread_ts":"1613728850.036000","reply_count":8,"reply_users_count":3,"latest_reply":"1613930541.006100","reply_users":["U8JP5B9T2","UBF9YRB6H","UPH1M2MB2"],"subscribed":false},{"client_msg_id":"f1bec5e7-b56d-4965-9d96-90fe497af480","type":"message","text":"Doesn't look like this is a complete example, and it's a bit tough to see the problem without the full context. But you have a couple of things that seem like they should be errors. For example, `data2[!, :2:end]` should be `data2[!, 2:end]`. It also looks like you're trying to push a vector into a DataFrame,, such should error","user":"U8JP5B9T2","ts":"1613748068.036800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kJm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn't look like this is a complete example, and it's a bit tough to see the problem without the full context. But you have a couple of things that seem like they should be errors. For example, "},{"type":"text","text":"data2[!, :2:end]","style":{"code":true}},{"type":"text","text":" should be "},{"type":"text","text":"data2[!, 2:end]","style":{"code":true}},{"type":"text","text":". It also looks like you're trying to push a vector into a DataFrame,, such should error"}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2","reactions":[{"name":"+1","users":["UPH1M2MB2"],"count":1}]},{"client_msg_id":"ceb23849-c9f8-4f5f-baee-aa7702c21eb3","type":"message","text":"Yeah. It's hard to say exactly what you are trying to do. note that `:2:end` won't error because `:2` is parsed as `2`.\n\nIt seems likeyou are modifying `data2` in each iteration of the loop. and `g` isn't reflecting that?\n\nMaybe `myFunOne` isn't  modifying the data when you think it is.","user":"UBF9YRB6H","ts":"1613757701.037000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+pF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah. It's hard to say exactly what you are trying to do. note that "},{"type":"text","text":":2:end","style":{"code":true}},{"type":"text","text":" won't error because "},{"type":"text","text":":2","style":{"code":true}},{"type":"text","text":" is parsed as "},{"type":"text","text":"2","style":{"code":true}},{"type":"text","text":".\n\nIt seems likeyou are modifying "},{"type":"text","text":"data2","style":{"code":true}},{"type":"text","text":" in each iteration of the loop. and "},{"type":"text","text":"g","style":{"code":true}},{"type":"text","text":" isn't reflecting that?\n\nMaybe "},{"type":"text","text":"myFunOne","style":{"code":true}},{"type":"text","text":" isn't  modifying the data when you think it is."}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"},{"client_msg_id":"e7533f50-9640-42d3-9601-d4dded93994b","type":"message","text":"&gt; note that `:2:end` won't error because `:2` is parsed as `2`.\nOh interesting, I didn't realize that :thumbsup:","user":"U8JP5B9T2","ts":"1613759191.037200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zJEG8","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"note that "},{"type":"text","text":":2:end","style":{"code":true}},{"type":"text","text":" won't error because "},{"type":"text","text":":2","style":{"code":true}},{"type":"text","text":" is parsed as "},{"type":"text","text":"2","style":{"code":true}},{"type":"text","text":"."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Oh interesting, I didn't realize that "},{"type":"emoji","name":"thumbsup"}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"},{"client_msg_id":"8c7cff3d-59df-44d9-b70d-f4b69dbc7f1c","type":"message","text":"<@UBF9YRB6H> Yeah it's not modifying the data and the why is what i wasn't able to figure out.","user":"UPH1M2MB2","ts":"1613759229.037400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dKg5z","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" Yeah it's not modifying the data and the why is what i wasn't able to figure out."}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2","reactions":[{"name":"+1","users":["UBF9YRB6H"],"count":1}]},{"client_msg_id":"7e4376e0-a81d-403a-ac67-c00208398479","type":"message","text":"the function would be something like this\n```function myFunOne(data::DataFrame)\n    startDate = data[!,:1]\n    valuesData = data[!,:2:end]\n    firstValue = Array(first(start))\n    lastVal = Array(last(start))\n    divideFstLst = (lastVal./firstValue) \n    n = year(last(startDate)) - year(first(startDate))\n    g = (divideFstLst .^(1/n) .- 1) \n    return g\nend```\n","user":"UPH1M2MB2","ts":"1613759325.037800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XWiy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the function would be something like this\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function myFunOne(data::DataFrame)\n    startDate = data[!,:1]\n    valuesData = data[!,:2:end]\n    firstValue = Array(first(start))\n    lastVal = Array(last(start))\n    divideFstLst = (lastVal./firstValue) \n    n = year(last(startDate)) - year(first(startDate))\n    g = (divideFstLst .^(1/n) .- 1) \n    return g\nend"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"},{"client_msg_id":"11e22667-6f4b-42f5-adfa-461d4b17d25a","type":"message","text":"Why would you think that would modify the data frame?","user":"UBF9YRB6H","ts":"1613769763.038000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+kIa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why would you think that would modify the data frame?"}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"},{"client_msg_id":"bcf4adc9-b1f7-4c9f-9da1-09333a3dd529","type":"message","text":"Also, Why are you calling `Array` constructors everywhere?","user":"UBF9YRB6H","ts":"1613769864.038200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UtYt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, Why are you calling "},{"type":"text","text":"Array","style":{"code":true}},{"type":"text","text":" constructors everywhere?"}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"},{"client_msg_id":"424794a2-5642-4836-9735-8a35bf3ffe67","type":"message","text":"<@UBF9YRB6H> sorry for the radio silence.\ni thought by pushing the columns in the for loop that should automatically update the df and  the function would just do the calculations. which i now see is wrong.\nAbout the array constructors i had to make the #MWE to be reproduceable so was just putting them to ensure this runs.","user":"UPH1M2MB2","ts":"1613930541.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g/l","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UBF9YRB6H"},{"type":"text","text":" sorry for the radio silence.\ni thought by pushing the columns in the for loop that should automatically update the df and  the function would just do the calculations. which i now see is wrong.\nAbout the array constructors i had to make the #MWE to be reproduceable so was just putting them to ensure this runs."}]}]}],"thread_ts":"1613728850.036000","parent_user_id":"UPH1M2MB2"}]