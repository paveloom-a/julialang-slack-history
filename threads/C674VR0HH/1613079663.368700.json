[{"client_msg_id":"7f16970f-a623-4a5e-83d9-7fd7688d9a98","type":"message","text":"separate question - can groupby take a function on a column? For example, after the transformation above, is there a way to get the equivalent of\n\n```julia&gt; df.hasp2 = map(!isnothing, df.p2)\n3-element Vector{Bool}:\n 1\n 1\n 0\n\njulia&gt; groupby(df, :hasp2)\nGroupedDataFrame with 2 groups based on key: hasp2\nFirst Group (2 rows): hasp2 = true\n Row │ a         p1         p2      hasp2\n     │ String    SubStrin…  Union…  Bool\n─────┼────────────────────────────────────\n   1 │ test|one  test       one      true\n   2 │ test|two  test       two      true```\nwithout making the intermediate column?","user":"U8JP5B9T2","ts":"1613079663.368700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6WRGh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"separate question - can groupby take a function on a column? For example, after the transformation above, is there a way to get the equivalent of\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> df.hasp2 = map(!isnothing, df.p2)\n3-element Vector{Bool}:\n 1\n 1\n 0\n\njulia> groupby(df, :hasp2)\nGroupedDataFrame with 2 groups based on key: hasp2\nFirst Group (2 rows): hasp2 = true\n Row │ a         p1         p2      hasp2\n     │ String    SubStrin…  Union…  Bool\n─────┼────────────────────────────────────\n   1 │ test|one  test       one      true\n   2 │ test|two  test       two      true"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"without making the intermediate column?"}]}]}],"thread_ts":"1613079663.368700","reply_count":7,"reply_users_count":2,"latest_reply":"1613080728.370000","reply_users":["U7JQGPGCQ","U8JP5B9T2"],"subscribed":false},{"client_msg_id":"33d7f2cc-474c-4038-924b-eceb96d68c6b","type":"message","text":"On the phone so can't confirm but I think (1) you can't operate on p2 in the groupby without materialising it first (2) you can do :a =&gt; (x - &gt; length(split(x, \"|\") ==2) to get the desired effect?","user":"U7JQGPGCQ","ts":"1613080125.368800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DX7d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On the phone so can't confirm but I think (1) you can't operate on p2 in the groupby without materialising it first (2) you can do :a => (x - > length(split(x, \"|\") ==2) to get the desired effect?"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"032880cd-2b11-4ee0-bab7-68678c13774e","type":"message","text":"I was thinking after materializing p2. I want p1 and p2 separately from my desire to groupby","user":"U8JP5B9T2","ts":"1613080210.369000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U=3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was thinking after materializing p2. I want p1 and p2 separately from my desire to groupby"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"f9b4f236-b00c-44d4-83fc-144c9fef1f14","type":"message","text":"It just makes sense to thing of rows that have p2 separately from those that dont. But I dont just want `groupby(df, :p2)`, since there are a bunch of different `p2` values that I want all in the same group","user":"U8JP5B9T2","ts":"1613080264.369200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gicCK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It just makes sense to thing of rows that have p2 separately from those that dont. But I dont just want "},{"type":"text","text":"groupby(df, :p2)","style":{"code":true}},{"type":"text","text":", since there are a bunch of different "},{"type":"text","text":"p2","style":{"code":true}},{"type":"text","text":" values that I want all in the same group"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"50c965f0-8994-482d-84e9-3f5cd0006842","type":"message","text":"Ah sorry I completely misread, ignore me","user":"U7JQGPGCQ","ts":"1613080306.369400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6JqM7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah sorry I completely misread, ignore me"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"df060ab0-f4c9-4b94-b3b9-9c432146741d","type":"message","text":"I now think the answer is no, but I'm only about 51% certain so wouldn't have answered at all if I hadn't already entered the conversation based on complete misunderstanding of your question :joy:","user":"U7JQGPGCQ","ts":"1613080360.369600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QIF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I now think the answer is no, but I'm only about 51% certain so wouldn't have answered at all if I hadn't already entered the conversation based on complete misunderstanding of your question "},{"type":"emoji","name":"joy"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"1fbb2c55-a833-4450-9ea1-a62d08df43c1","type":"message","text":":laughing: no worries","user":"U8JP5B9T2","ts":"1613080664.369800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9NI","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"laughing"},{"type":"text","text":" no worries"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"},{"client_msg_id":"00c774dd-f5d9-4d83-bc08-c40cbd4f77e1","type":"message","text":"Actually, it might make sense to just do two separate `filter` steps to assign new variables, I'm doing mostly separate things with the two groups","user":"U8JP5B9T2","ts":"1613080728.370000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lM8l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Actually, it might make sense to just do two separate "},{"type":"text","text":"filter","style":{"code":true}},{"type":"text","text":" steps to assign new variables, I'm doing mostly separate things with the two groups"}]}]}],"thread_ts":"1613079663.368700","parent_user_id":"U8JP5B9T2"}]