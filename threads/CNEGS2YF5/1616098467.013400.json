[{"type":"message","subtype":"bot_message","text":"The longstanding reason we haven't done this is because I don't know how to efficiently store dynamically sized expression graphs without each node being a GC-tracked object. If you wrote out JuMP models with expressions graphs, they can easily have hundreds of millions of nodes. I haven't looked at the performance trade-offs recently, but having so many gc-tracked objects was very bad circa 2017.","ts":"1616098467.013400","username":"[gitter] <mlubin>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2019-09-29/770521255553_48.png"},"bot_id":"B795XHD0X","thread_ts":"1616098467.013400","reply_count":1,"reply_users_count":1,"latest_reply":"1616104292.013500","reply_users":["U6A936746"],"subscribed":false,"blocks":[{"type":"section","block_id":"matterbridge_c175804g27iaek8aehs0","text":{"type":"mrkdwn","text":"The longstanding reason we haven't done this is because I don't know how to efficiently store dynamically sized expression graphs without each node being a GC-tracked object. If you wrote out JuMP models with expressions graphs, they can easily have hundreds of millions of nodes. I haven't looked at the performance trade-offs recently, but having so many gc-tracked objects was very bad circa 2017.","verbatim":false}}]},{"client_msg_id":"cabc2f38-8316-4e3f-a51e-5af88bbf1156","type":"message","text":"It's very bad circa Julia 1.5.\nWe had huge problems with very DataFrames with millions of strings and ZonedDateTimes, until we agressively removed reference types.\nTurned all the strings under 120 characters into ShortStrings (a bits type).\nAnd stuck all strings and all ZonedDateTimes into PooledArrays.\nHowever that won't work out for you since your things are unique.\n\nMaybe there is a ShortaStrings trick for expression graphs.\nLike statically sized bits typed expression for smaller things, dynamic for bigger bits.\nBut seems like a problem Symbolics.jl will run into elsewhere, so jump can wait til the solution is worked out.","user":"U6A936746","ts":"1616104292.013500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ytcgN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's very bad circa Julia 1.5.\nWe had huge problems with very DataFrames with millions of strings and ZonedDateTimes, until we agressively removed reference types.\nTurned all the strings under 120 characters into ShortStrings (a bits type).\nAnd stuck all strings and all ZonedDateTimes into PooledArrays.\nHowever that won't work out for you since your things are unique.\n\nMaybe there is a ShortaStrings trick for expression graphs.\nLike statically sized bits typed expression for smaller things, dynamic for bigger bits.\nBut seems like a problem Symbolics.jl will run into elsewhere, so jump can wait til the solution is worked out."}]}]}],"thread_ts":"1616098467.013400"}]