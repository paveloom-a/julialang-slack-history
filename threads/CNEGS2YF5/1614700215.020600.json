[{"client_msg_id":"203653b4-97fa-4089-85f4-e8ca7a0dbf2b","type":"message","text":"Works fine on 1.6 for me.\n\n```julia&gt; Model(optimizer_with_attributes(ECOS.Optimizer,\n                 \"feastol\" =&gt; 1e-6,\n                 \"reltol\" =&gt; 1e-6,\n                 \"abstol\" =&gt; 1e-6,\n                 \"maxit\" =&gt; 100,\n                 \"verbose\" =&gt; 0,\n              ))\nA JuMP Model\nFeasibility problem with:\nVariables: 0\nModel mode: AUTOMATIC\nCachingOptimizer state: EMPTY_OPTIMIZER\nSolver name: ECOS\n\njulia&gt; versioninfo()\nJulia Version 1.6.0-rc1```","user":"U67D54KS8","ts":"1614700215.020600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m+HK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Works fine on 1.6 for me.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Model(optimizer_with_attributes(ECOS.Optimizer,\n                 \"feastol\" => 1e-6,\n                 \"reltol\" => 1e-6,\n                 \"abstol\" => 1e-6,\n                 \"maxit\" => 100,\n                 \"verbose\" => 0,\n              ))\nA JuMP Model\nFeasibility problem with:\nVariables: 0\nModel mode: AUTOMATIC\nCachingOptimizer state: EMPTY_OPTIMIZER\nSolver name: ECOS\n\njulia> versioninfo()\nJulia Version 1.6.0-rc1"}]}]}],"thread_ts":"1614700215.020600","reply_count":10,"reply_users_count":2,"latest_reply":"1614776934.023400","reply_users":["U6A936746","U67D54KS8"],"subscribed":false},{"client_msg_id":"791df3b1-5963-4860-ad20-a8004f5f09bf","type":"message","text":"Yes, there is something else needed.\nAs I said I don't have a MWE.\nI think it is some precise combination of downstream dependency versions.\nIt's going to take a while to extract it out from the greater environment.\nIdk when I will have time to.","user":"U6A936746","ts":"1614719221.021000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Irs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, there is something else needed.\nAs I said I don't have a MWE.\nI think it is some precise combination of downstream dependency versions.\nIt's going to take a while to extract it out from the greater environment.\nIdk when I will have time to."}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"69ceacda-ab56-48d5-b4ff-3060e74c1074","type":"message","text":"I don't suppose any one knows an easy way to intersection a Manifest.toml by key, and then subset based on iterection?","user":"U6A936746","ts":"1614719367.021200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K8W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't suppose any one knows an easy way to intersection a Manifest.toml by key, and then subset based on iterection?"}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"e7ae9b7d-9825-4441-8e2f-f66df00b9e04","type":"message","text":"Urg, its not about versions of packages loaded, but about what else is actually loaded at the same time. If i load JuMP and ECOS from same enviroment but not my own package, it works fine.\n\nSmaller example\n```using MyPackage\nusing JuMP, ECOS\n\nmodel = Model(ECOS.Optimizer);  # semi-colon is important as displaying it will also hang as it calls the next.\n\nshow_constraints_summary(stdout, model)  # this line hangs```\nI first load just JuMP and ECOS, then run `show_constraint_summary` then load MyPackage, and then rerun `show_constaint_summary` it works fine.\nIt is also fine if I  run with  `julia-1.6 --compile=min` .\n\nWe are going to need to make an `rr` trace on for this, at some point, when we can get a linux computer to run it on.","user":"U6A936746","ts":"1614775502.021900","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1614775513.000000"},"blocks":[{"type":"rich_text","block_id":"Z9vz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Urg, its not about versions of packages loaded, but about what else is actually loaded at the same time. If i load JuMP and ECOS from same enviroment but not my own package, it works fine.\n\nSmaller example\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using MyPackage\nusing JuMP, ECOS\n\nmodel = Model(ECOS.Optimizer);  # semi-colon is important as displaying it will also hang as it calls the next.\n\nshow_constraints_summary(stdout, model)  # this line hangs"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI first load just JuMP and ECOS, then run "},{"type":"text","text":"show_constraint_summary","style":{"code":true}},{"type":"text","text":" then load MyPackage, and then rerun "},{"type":"text","text":"show_constaint_summary","style":{"code":true}},{"type":"text","text":" it works fine.\nIt is also fine if I  run with  "},{"type":"text","text":"julia-1.6 --compile=min","style":{"code":true}},{"type":"text","text":" .\n\nWe are going to need to make an "},{"type":"text","text":"rr","style":{"code":true}},{"type":"text","text":" trace on for this, at some point, when we can get a linux computer to run it on."}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"5775817f-131c-4efc-970f-cd6759467276","type":"message","text":"Might be some mega invalidation going on. Perhaps check with SnoopCompile.","user":"U67D54KS8","ts":"1614775988.022200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y1b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Might be some mega invalidation going on. Perhaps check with SnoopCompile."}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"8d24182c-ffd5-4f25-bd27-6c8f1c6ea134","type":"message","text":"Yeah, good idea","user":"U6A936746","ts":"1614776004.022400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9Qr/S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, good idea"}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"d144cf19-8d41-4937-a586-b097a7068846","type":"message","text":"only 2376, which is like a lot but not huge.","user":"U6A936746","ts":"1614776223.022600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R4Ou","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"only 2376, which is like a lot but not huge."}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"35c36f35-5d26-40d3-8033-fdae7432dfd4","type":"message","text":"hm, yeah","user":"U67D54KS8","ts":"1614776237.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tLjN5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm, yeah"}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"76e67220-8035-432a-8026-9426640bf268","type":"message","text":"wait a bunch of those are from Revise too, let me recheck without Revise.","user":"U6A936746","ts":"1614776298.023000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0O=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wait a bunch of those are from Revise too, let me recheck without Revise."}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"4a2a4650-9bf3-41bc-ad10-acaf96d2c61a","type":"message","text":"Ok, without Revise it is still  2096 invalidations","user":"U6A936746","ts":"1614776612.023200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xGt6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, without Revise it is still  2096 invalidations"}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"},{"client_msg_id":"9521454a-8148-43e1-9cc5-1ac03b95a949","type":"message","text":"And it still hangs?","user":"U67D54KS8","ts":"1614776934.023400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9MKhr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And it still hangs?"}]}]}],"thread_ts":"1614700215.020600","parent_user_id":"U67D54KS8"}]