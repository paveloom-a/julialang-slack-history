[{"client_msg_id":"abdbc4fa-1cfd-4dbe-92f8-fab3a8343258","type":"message","text":"I am trying to make an HTTP request to AWS API Gateway using HTTP.jl, but I am getting a `403 Forbidden` response due to `InvalidSignatureException`. This is how I am calling `request`:\n```HTTP.request(\"GET\", \"<https://my-id.execute-api.us-east-2.amazonaws.com/my-stage/my-route>\", [\"x-api-key\" =&gt; api_key]; aws_authorization=true, aws_service=\"execute-api\", aws_region=\"us-east-2\", aws_access_key_id=aws_config.credentials.access_key_id, aws_secret_access_key=aws_config.credentials.secret_key, verbose=2)```\nAm I missing something in the request?","user":"U01537M2E9W","ts":"1615224052.045300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UXAp+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am trying to make an HTTP request to AWS API Gateway using HTTP.jl, but I am getting a "},{"type":"text","text":"403 Forbidden","style":{"code":true}},{"type":"text","text":" response due to "},{"type":"text","text":"InvalidSignatureException","style":{"code":true}},{"type":"text","text":". This is how I am calling "},{"type":"text","text":"request","style":{"code":true}},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"HTTP.request(\"GET\", \""},{"type":"link","url":"https://my-id.execute-api.us-east-2.amazonaws.com/my-stage/my-route"},{"type":"text","text":"\", [\"x-api-key\" => api_key]; aws_authorization=true, aws_service=\"execute-api\", aws_region=\"us-east-2\", aws_access_key_id=aws_config.credentials.access_key_id, aws_secret_access_key=aws_config.credentials.secret_key, verbose=2)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Am I missing something in the request?"}]}]}],"thread_ts":"1615224052.045300","reply_count":4,"reply_users_count":3,"latest_reply":"1615225460.046100","reply_users":["ULDQSHD41","U01537M2E9W","U681ELA87"],"subscribed":false},{"client_msg_id":"21931ef4-3dcd-4915-9bc3-fc891e31b4e0","type":"message","text":"<https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html>\n\nI assume this is your issue","user":"ULDQSHD41","ts":"1615224626.045400","team":"T68168MUP","attachments":[{"title":"Signature Version 4 signing process - AWS General Reference","title_link":"https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html","text":"Add authentication information to AWS API requests with Signature Version 4 protocol.","fallback":"Signature Version 4 signing process - AWS General Reference","from_url":"https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html","service_icon":"https://docs.aws.amazon.com/assets/images/favicon.ico","service_name":"docs.aws.amazon.com","id":1,"original_url":"https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html"}],"blocks":[{"type":"rich_text","block_id":"9uP0","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html"},{"type":"text","text":"\n\nI assume this is your issue"}]}]}],"thread_ts":"1615224052.045300","parent_user_id":"U01537M2E9W"},{"client_msg_id":"26d385c6-0445-416e-b3ec-96ed2dc2d944","type":"message","text":"HTTP.jl has code to sign the canonical request. I can see it send the signature and other authorization information in the request. My issue is that the signature doesn't match what AWS expected (`{\"message\":\"The request signature we calculated does not match the signature you provided. ...`) so I am wondering if I have misconfigured HTTP.jl. I haven't had signing trouble before, but I also have never used HTTP.jl directly before.","user":"U01537M2E9W","ts":"1615224792.045700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uI4Q4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"HTTP.jl has code to sign the canonical request. I can see it send the signature and other authorization information in the request. My issue is that the signature doesn't match what AWS expected ("},{"type":"text","text":"{\"message\":\"The request signature we calculated does not match the signature you provided. ...","style":{"code":true}},{"type":"text","text":") so I am wondering if I have misconfigured HTTP.jl. I haven't had signing trouble before, but I also have never used HTTP.jl directly before."}]}]}],"thread_ts":"1615224052.045300","parent_user_id":"U01537M2E9W"},{"client_msg_id":"b4b15428-ffaa-48bc-943b-3d885592bbda","type":"message","text":"I’d recommend using the AWSSDK.jl or <https://github.com/JuliaCloud/AWSAuth.jl> packages; the HTTP.jl aws code is essentially deprecated. I think it should work in most cases, but I know there are cases where it fails that have been corrected in the AWS packages","user":"U681ELA87","ts":"1615225050.045900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZQR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’d recommend using the AWSSDK.jl or "},{"type":"link","url":"https://github.com/JuliaCloud/AWSAuth.jl"},{"type":"text","text":" packages; the HTTP.jl aws code is essentially deprecated. I think it should work in most cases, but I know there are cases where it fails that have been corrected in the AWS packages"}]}]}],"thread_ts":"1615224052.045300","parent_user_id":"U01537M2E9W"},{"client_msg_id":"cf2423a3-9d36-4e96-a404-5da62b8305f6","type":"message","text":"Could you try passing in `aws_service=\"apigateway\"`?","user":"ULDQSHD41","ts":"1615225460.046100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8zv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could you try passing in "},{"type":"text","text":"aws_service=\"apigateway\"","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1615224052.045300","parent_user_id":"U01537M2E9W"}]