[{"client_msg_id":"d33c9e4c-2112-4ec8-874b-3f87c5ae4d3a","type":"message","text":"Is there a better than a \"global\" try-catch to avoid server-errors leaking to the client in HTTP?\nExample:\n```julia&gt; HTTP.listen(\"0.0.0.0\", 8080) do http\n           error(\"internal error that you are not supposed to see\")\n       end```\nwill return\n```$ curl localhost:8080\ninternal error that you are not supposed to see```","user":"U67SCG4HG","ts":"1611869908.029700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f+VY6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a better than a \"global\" try-catch to avoid server-errors leaking to the client in HTTP?\nExample:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> HTTP.listen(\"0.0.0.0\", 8080) do http\n           error(\"internal error that you are not supposed to see\")\n       end"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"will return\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ curl localhost:8080\ninternal error that you are not supposed to see"}]}]}],"thread_ts":"1611869908.029700","reply_count":6,"reply_users_count":2,"latest_reply":"1611875895.032300","reply_users":["U67SCG4HG","U681ELA87"],"subscribed":false,"reactions":[{"name":"cry","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"f7f96fe6-093b-4aba-b843-3a050dfe5ab1","type":"message","text":"Doesn't seem like it. Would it be useful with an option to skip <https://github.com/JuliaWeb/HTTP.jl/blob/337a372aace7ea80273f5d859b1bbf9d306c13e7/src/Servers.jl#L421> ?","user":"U67SCG4HG","ts":"1611870171.030000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X3H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn't seem like it. Would it be useful with an option to skip "},{"type":"link","url":"https://github.com/JuliaWeb/HTTP.jl/blob/337a372aace7ea80273f5d859b1bbf9d306c13e7/src/Servers.jl#L421"},{"type":"text","text":" ?"}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG","reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"e332df0d-2c71-4f06-9b71-b1529fc7ed18","type":"message","text":"You could `close(http)`; then it won't write to it on error","user":"U681ELA87","ts":"1611874758.030500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UHhg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You could "},{"type":"text","text":"close(http)","style":{"code":true}},{"type":"text","text":"; then it won't write to it on error"}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG"},{"client_msg_id":"dbf81ba5-eee0-492c-b9ae-dc1ee583bc34","type":"message","text":"Where should I do that?","user":"U67SCG4HG","ts":"1611875339.030700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x47","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Where should I do that?"}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG"},{"client_msg_id":"B22E6152-B53A-40B0-8C82-223E4BFEC734","type":"message","text":"Before the call to `error`","user":"U681ELA87","ts":"1611875615.031600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ne2aY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Before the call to "},{"type":"text","text":"error","style":{"code":true}}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG"},{"client_msg_id":"2d561584-278b-414a-9355-bfac6471389e","type":"message","text":"Right, I was thinking of cases where I don't throw but maybe some other library or something.","user":"U67SCG4HG","ts":"1611875750.031800","team":"T68168MUP","edited":{"user":"U67SCG4HG","ts":"1611875841.000000"},"blocks":[{"type":"rich_text","block_id":"EsWaP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I was thinking of cases where I don't throw but maybe some other library or something."}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG"},{"client_msg_id":"1eeb6f59-28d9-429a-aaee-a47adab2473c","type":"message","text":"For example here:\n```julia&gt; HTTP.listen(\"0.0.0.0\", 8080) do http\n           # set headers etc...\n           \n           open(\"non-existing\") do io\n               write(http, io)\n           end\n       end```","user":"U67SCG4HG","ts":"1611875895.032300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gKTe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For example here:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> HTTP.listen(\"0.0.0.0\", 8080) do http\n           # set headers etc...\n           \n           open(\"non-existing\") do io\n               write(http, io)\n           end\n       end"}]}]}],"thread_ts":"1611869908.029700","parent_user_id":"U67SCG4HG"}]