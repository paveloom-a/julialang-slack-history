[{"client_msg_id":"84ab557d-2470-414d-83df-7cf989633637","type":"message","text":"Are there any plans (presumably longer term) to switch the markdown parser to CommonMark.jl? I'm fighting a bit with the current parser trying to get multiple paragraphs (and code blocks) inside list items...","user":"U73KWSUGN","ts":"1611666463.034800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u9EB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are there any plans (presumably longer term) to switch the markdown parser to CommonMark.jl? I'm fighting a bit with the current parser trying to get multiple paragraphs (and code blocks) inside list items..."}]}]}],"thread_ts":"1611666463.034800","reply_count":5,"reply_users_count":2,"latest_reply":"1611672926.036000","reply_users":["UDP5WL2RX","U73KWSUGN"],"subscribed":false},{"client_msg_id":"dec4c039-f345-4daa-a5fc-58f6b8035e26","type":"message","text":"long story short: yes. This is ongoing work but is pretty major and it'll take me time to complete.\n\nIn the meantime, if you would like to achieve something specific and are struggling to do it, please open an issue on GitHub, there's multiple ways to bypass the parser which might help","user":"UDP5WL2RX","ts":"1611669577.035000","team":"T68168MUP","edited":{"user":"UDP5WL2RX","ts":"1611669587.000000"},"blocks":[{"type":"rich_text","block_id":"OmR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"long story short: yes. This is ongoing work but is pretty major and it'll take me time to complete.\n\nIn the meantime, if you would like to achieve something specific and are struggling to do it, please open an issue on GitHub, there's multiple ways to bypass the parser which might help"}]}]}],"thread_ts":"1611666463.034800","parent_user_id":"U73KWSUGN"},{"client_msg_id":"94024c83-e62f-4f8d-b676-bb3f882c9114","type":"message","text":"(of course you can always inject HTML directly; and then if you find yourself doing that repeatedly, you can wrap it in a command)","user":"UDP5WL2RX","ts":"1611669656.035300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x1Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(of course you can always inject HTML directly; and then if you find yourself doing that repeatedly, you can wrap it in a command)"}]}]}],"thread_ts":"1611666463.034800","parent_user_id":"U73KWSUGN"},{"client_msg_id":"041f28ad-ef5a-4de1-88b5-8abfedcfb606","type":"message","text":"Great, that's what I was hoping! I started looking through the Franklin/CommonMark code to see how difficult it would be and my initial impression was that it's probably not that hard (I'm good at underestimating these things :upside_down_face:) but quite a lot of work and no doubt lots of corner cases. (I imagine the ability to add additional rules into CommonMark is quite useful to define the extra features that Franklin uses.)","user":"U73KWSUGN","ts":"1611671715.035600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"byZ6p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great, that's what I was hoping! I started looking through the Franklin/CommonMark code to see how difficult it would be and my initial impression was that it's probably not that hard (I'm good at underestimating these things "},{"type":"emoji","name":"upside_down_face"},{"type":"text","text":") but quite a lot of work and no doubt lots of corner cases. (I imagine the ability to add additional rules into CommonMark is quite useful to define the extra features that Franklin uses.)"}]}]}],"thread_ts":"1611666463.034800","parent_user_id":"U73KWSUGN"},{"client_msg_id":"b57607ba-768b-4938-8134-41a7e274032c","type":"message","text":"For now I can easily inject the HTML directly; it's only needed in a few places.","user":"U73KWSUGN","ts":"1611671766.035800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gl3A=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For now I can easily inject the HTML directly; it's only needed in a few places."}]}]}],"thread_ts":"1611666463.034800","parent_user_id":"U73KWSUGN"},{"client_msg_id":"985524f8-e1cb-4812-b26b-02832e58e645","type":"message","text":":+1: yes so in theory it's quite simple, just use CommonMark, disable most rules, and use it in place of `md2html` but in practice there's a bunch of things that need to be adjusted to make this works smoothly while also providing a path for latex output, proper balancing of paragraphs etc. Since I'm doing all that, I also refactored some other segments of the code to have a faster startup time; this is all progressing but the overall project is quite big :slightly_smiling_face:","user":"UDP5WL2RX","ts":"1611672926.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NoGp","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1"},{"type":"text","text":" yes so in theory it's quite simple, just use CommonMark, disable most rules, and use it in place of "},{"type":"text","text":"md2html","style":{"code":true}},{"type":"text","text":" but in practice there's a bunch of things that need to be adjusted to make this works smoothly while also providing a path for latex output, proper balancing of paragraphs etc. Since I'm doing all that, I also refactored some other segments of the code to have a faster startup time; this is all progressing but the overall project is quite big "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"thread_ts":"1611666463.034800","parent_user_id":"U73KWSUGN","reactions":[{"name":"+1","users":["U73KWSUGN"],"count":1}]}]