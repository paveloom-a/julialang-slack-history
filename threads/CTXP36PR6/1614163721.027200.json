[{"client_msg_id":"5a1644c8-7ce3-4b37-91f1-613c0530ee95","type":"message","text":"Is the new version of Franklin that supports CommonMark.jl going to be pluggable?\nIf I wrapped `cmark` could I plug it in somewhere?\n\nI just want a markdown engine that fully follows the spec.\nIncluding unadorned raw html blocks.\n\nBecause I don't want to give up portability, nor do I want to check 40K lines of blog posts.\n\n<https://github.com/commonmark/cmark|https://github.com/commonmark/cmark>","user":"U6A936746","ts":"1614163721.027200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"79L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is the new version of Franklin that supports CommonMark.jl going to be pluggable?\nIf I wrapped "},{"type":"text","text":"cmark","style":{"code":true}},{"type":"text","text":" could I plug it in somewhere?\n\nI just want a markdown engine that fully follows the spec.\nIncluding unadorned raw html blocks.\n\nBecause I don't want to give up portability, nor do I want to check 40K lines of blog posts.\n\n"},{"type":"link","url":"https://github.com/commonmark/cmark","text":"https://github.com/commonmark/cmark"}]}]}],"thread_ts":"1614163721.027200","reply_count":6,"reply_users_count":2,"latest_reply":"1614169156.028600","reply_users":["UDP5WL2RX","U6A936746"],"subscribed":false},{"client_msg_id":"4a555f6b-365c-47b1-8f5b-ac46c2c60761","type":"message","text":"what do you mean 'pluggable'?\n\nRe raw HTML unfortunately that's not going to be like you want (it will have to be fenced, same as indented code blocks, they will never be supported).\nWhat I'd suggest is that you just include the raw HTML from your old posts so that you don't have to bother with it","user":"UDP5WL2RX","ts":"1614163985.027300","team":"T68168MUP","edited":{"user":"UDP5WL2RX","ts":"1614164165.000000"},"blocks":[{"type":"rich_text","block_id":"mNFkF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you mean 'pluggable'?\n\nRe raw HTML unfortunately that's not going to be like you want (it will have to be fenced, same as indented code blocks, they will never be supported).\nWhat I'd suggest is that you just include the raw HTML from your old posts so that you don't have to bother with it"}]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"},{"client_msg_id":"ba724ee8-649a-4551-8849-089b934c317d","type":"message","text":"note that if you don't need any of the fancy stuff provided by Franklin; you could \"just\" use a function to generate your HTML. Basically you'd just replace all your `.md` files by empty `.md`  files that only contain `{{insert_blogpost}}` where the function `insert_blogpost` would load the old MD you'd have put in `_assets` , pass it through CommonMark, convert it to HTML with commonmark and inject the HTML there; then Franklin would take that and add the layout stuff around it","user":"UDP5WL2RX","ts":"1614164118.027500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1bb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"note that if you don't need any of the fancy stuff provided by Franklin; you could \"just\" use a function to generate your HTML. Basically you'd just replace all your "},{"type":"text","text":".md","style":{"code":true}},{"type":"text","text":" files by empty "},{"type":"text","text":".md","style":{"code":true}},{"type":"text","text":"  files that only contain "},{"type":"text","text":"{{insert_blogpost}}","style":{"code":true}},{"type":"text","text":" where the function "},{"type":"text","text":"insert_blogpost","style":{"code":true}},{"type":"text","text":" would load the old MD you'd have put in "},{"type":"text","text":"_assets","style":{"code":true}},{"type":"text","text":" , pass it through CommonMark, convert it to HTML with commonmark and inject the HTML there; then Franklin would take that and add the layout stuff around it"}]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"},{"client_msg_id":"ed823ed7-f5e5-4d87-88e5-081b41aeeef7","type":"message","text":"&gt;  what do you mean ‘pluggable’?\nAs in setting in some config one of the following functions that would be called when Franklin wants to process a page full of markdown\n```markdown2html = md_page_str-&gt;show(\"text/html\", Markdown(md_page_str))\nmarkdown2html = cmark.md2html_full\nmarkdown2html = CommonMark.html ∘ CommonMark.parse```\n","user":"U6A936746","ts":"1614164673.027800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HWym7","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" what do you mean ‘pluggable’?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAs in setting in some config one of the following functions that would be called when Franklin wants to process a page full of markdown\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"markdown2html = md_page_str->show(\"text/html\", Markdown(md_page_str))\nmarkdown2html = cmark.md2html_full\nmarkdown2html = CommonMark.html ∘ CommonMark.parse"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"},{"client_msg_id":"9e4f3f47-ffa3-42f7-ba4c-34f1a01b1f2f","type":"message","text":"&gt; Re raw HTML unfortunately that’s not going to be like you want (it will have to be fenced, same as indented code blocks, they will never be supported).\nLegit question: why does everyone hate the spec so much? and want to introduce their own extention for inserting raw html?\nI get why that might want to be optional (security if applying to user generated content though that is just as bad with an extention),\n\nand I get  why it is hard to implement, but if I gave you a parser that supported it?","user":"U6A936746","ts":"1614164719.028000","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1614164855.000000"},"blocks":[{"type":"rich_text","block_id":"JJ9","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Re raw HTML unfortunately that’s not going to be like you want (it will have to be fenced, same as indented code blocks, they will never be supported)."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Legit question: why does everyone hate the spec so much? and want to introduce their own extention for inserting raw html?\nI get why that might want to be optional (security if applying to user generated content though that is just as bad with an extention),\n\nand I get  why it is hard to implement, but if I gave you a parser that supported it?"}]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"},{"client_msg_id":"050849d5-aa6c-4fd3-ae98-9b173de1426c","type":"message","text":"I don't know about everyone, but for Franklin the difficulty is that you can nest contexts, and very quickly things become tricky to parse due to ambiguities. So these two requirements (fenced HTML and fenced code blocks) simplify my life a lot in the extra parsing that Franklin does before feeding stuff to CommonMark.\n\nIn your own case, if you have a repo where you're currently migrating stuff, let me know and I can give you a hand if you'd like","user":"UDP5WL2RX","ts":"1614169033.028400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sKg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know about everyone, but for Franklin the difficulty is that you can nest contexts, and very quickly things become tricky to parse due to ambiguities. So these two requirements (fenced HTML and fenced code blocks) simplify my life a lot in the extra parsing that Franklin does before feeding stuff to CommonMark.\n\nIn your own case, if you have a repo where you're currently migrating stuff, let me know and I can give you a hand if you'd like"}]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"},{"client_msg_id":"4d6d2df3-1df5-4f0e-b09a-391e82e0f466","type":"message","text":"one thing that could be done though now that I think of it, is to have a page toggle where you say \"don't do any extra parsing\" and you just use CommonMark -&gt; HTML (that might be what you were hinting from the start)","user":"UDP5WL2RX","ts":"1614169156.028600","team":"T68168MUP","edited":{"user":"UDP5WL2RX","ts":"1614169174.000000"},"blocks":[{"type":"rich_text","block_id":"dh5aZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"one thing that could be done though now that I think of it, is to have a page toggle where you say \"don't do any extra parsing\" and you just use CommonMark -> HTML (that might be what you were hinting from the start)"}]}]}],"thread_ts":"1614163721.027200","parent_user_id":"U6A936746"}]