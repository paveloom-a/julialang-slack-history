[{"client_msg_id":"bc59bd2c-dcfc-4c71-8fa0-b061ea491a01","type":"message","text":"Hello, I need help to deploy a PkgPage.jl land page and a Documenter.jl documentation site in the same repository with github actions. Is this possible? I managed to successfully deploy each one separately, but when combining the two jobs, the action from PkgPage.jl clears everything saved by Documenter.jl in the gh-pages branch. Any workaround?","user":"U014PNZLM26","ts":"1615437130.063400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8M6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello, I need help to deploy a PkgPage.jl land page and a Documenter.jl documentation site in the same repository with github actions. Is this possible? I managed to successfully deploy each one separately, but when combining the two jobs, the action from PkgPage.jl clears everything saved by Documenter.jl in the gh-pages branch. Any workaround?"}]}]}],"thread_ts":"1615437130.063400","reply_count":2,"reply_users_count":2,"latest_reply":"1615447794.063700","reply_users":["U014PNZLM26","UDP5WL2RX"],"subscribed":false},{"client_msg_id":"491cf49d-67f1-4163-a11e-2fdda40c3ea3","type":"message","text":"I changed the deployment folder in PkgPage.jl to page/ directory in gh-pages. This works fine, but it's still erasing everything else outside this folder (thus deleting Documenter.jl folders)","user":"U014PNZLM26","ts":"1615437406.063500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V2oJn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I changed the deployment folder in PkgPage.jl to page/ directory in gh-pages. This works fine, but it's still erasing everything else outside this folder (thus deleting Documenter.jl folders)"}]}]}],"thread_ts":"1615437130.063400","parent_user_id":"U014PNZLM26"},{"client_msg_id":"9422eda7-224e-438a-8d1b-27cd9b1f34a3","type":"message","text":"could you point me to your repo?\n\nYou _should_ be able to change the L41 of the deploy script `PkgPage.optimize(input=\"page\", output=\"some_other_dir\")` and it would deploy to `some_other_dir` see these comments: <https://github.com/tlienart/PkgPage.jl/blob/7993cc04e359348c8d09f70ce44344a1e5d4e4a9/.github/workflows/DeployPage.yml#L29-L34>\n\nIs that what you did which cleared everything?\n\nAlso you might want to merge the PkgPage and Documenter script into one so that you build the docs, then build the landing page, then put the output in relevant folders on `gh-pages` manually (i.e. by adding a few lines of code there: <https://github.com/tlienart/PkgPage.jl/blob/7993cc04e359348c8d09f70ce44344a1e5d4e4a9/.github/workflows/DeployPage.yml#L41> where you'd call the documenter build, and potentially `mv` a folder around)","user":"UDP5WL2RX","ts":"1615447794.063700","team":"T68168MUP","edited":{"user":"UDP5WL2RX","ts":"1615447879.000000"},"blocks":[{"type":"rich_text","block_id":"23va","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could you point me to your repo?\n\nYou "},{"type":"text","text":"should","style":{"italic":true}},{"type":"text","text":" be able to change the L41 of the deploy script "},{"type":"text","text":"PkgPage.optimize(input=\"page\", output=\"some_other_dir\")","style":{"code":true}},{"type":"text","text":" and it would deploy to "},{"type":"text","text":"some_other_dir","style":{"code":true}},{"type":"text","text":" see these comments: "},{"type":"link","url":"https://github.com/tlienart/PkgPage.jl/blob/7993cc04e359348c8d09f70ce44344a1e5d4e4a9/.github/workflows/DeployPage.yml#L29-L34"},{"type":"text","text":"\n\nIs that what you did which cleared everything?\n\nAlso you might want to merge the PkgPage and Documenter script into one so that you build the docs, then build the landing page, then put the output in relevant folders on "},{"type":"text","text":"gh-pages","style":{"code":true}},{"type":"text","text":" manually (i.e. by adding a few lines of code there: "},{"type":"link","url":"https://github.com/tlienart/PkgPage.jl/blob/7993cc04e359348c8d09f70ce44344a1e5d4e4a9/.github/workflows/DeployPage.yml#L41"},{"type":"text","text":" where you'd call the documenter build, and potentially "},{"type":"text","text":"mv","style":{"code":true}},{"type":"text","text":" a folder around)"}]}]}],"thread_ts":"1615437130.063400","parent_user_id":"U014PNZLM26"}]