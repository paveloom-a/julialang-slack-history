{"cursor": 0, "messages": [{"client_msg_id":"b3f0ddc7-8bab-493b-943a-3d7fec66c878","type":"message","text":"<https://arxiv.org/abs/1312.4818|https://arxiv.org/abs/1312.4818>","user":"UDGT4PM41","ts":"1608569578.034000","team":"T68168MUP","attachments":[{"service_name":"arXiv.org","title":"Typing linear algebra: A biproduct-oriented approach","title_link":"https://arxiv.org/abs/1312.4818","text":"Interested in formalizing the generation of fast running code for linear algebra applications, the authors show how an index-free, calculational approach to matrix algebra can be developed by...","fallback":"arXiv.org: Typing linear algebra: A biproduct-oriented approach","from_url":"https://arxiv.org/abs/1312.4818","service_icon":"https://static.arxiv.org/static/browse/0.3.2.6/images/icons/favicon.ico","id":1,"original_url":"https://arxiv.org/abs/1312.4818"}],"blocks":[{"type":"rich_text","block_id":"NQFI3","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://arxiv.org/abs/1312.4818","text":"https://arxiv.org/abs/1312.4818"}]}]}]},{"client_msg_id":"a38ea14e-fc5b-446c-89de-c4410b8e9d25","type":"message","text":"I found an old Maude interface I had done. It's a bit clunky as you have to parse the results from an XML file. Also to properly interface with Julia you'd have to generate Maude code. Are there any mature rewriting software that would be easier to interface with?","user":"UFU63RJRY","ts":"1610442747.035200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uUJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I found an old Maude interface I had done. It's a bit clunky as you have to parse the results from an XML file. Also to properly interface with Julia you'd have to generate Maude code. Are there any mature rewriting software that would be easier to interface with?"}]}]}]},{"client_msg_id":"be63e81c-3164-49fe-963e-5753423e53f6","type":"message","text":"What package should I use for checking if two expressions are equal, like the following Mathematica code?\n```Equivalent[p &amp;&amp; (q || r), (p &amp;&amp; q) || (p &amp;&amp; r)] // TautologyQ```\nIs there a pure Julia library or do all of the symbolic manipulation packages call external libraries?","user":"UC81ESVH6","ts":"1611863783.001800","team":"T68168MUP","edited":{"user":"UC81ESVH6","ts":"1611863789.000000"},"blocks":[{"type":"rich_text","block_id":"5UQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What package should I use for checking if two expressions are equal, like the following Mathematica code?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Equivalent[p && (q || r), (p && q) || (p && r)] // TautologyQ"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a pure Julia library or do all of the symbolic manipulation packages call external libraries?"}]}]}]},{"client_msg_id":"ed70e948-d905-4890-b62b-b0bdee6aff35","type":"message","text":"How should I deal branches in modelling tool kit?\n\n```@variables x y\nz = x &gt; y ? x : y```\ngiving\n```TypeError: non-boolean (SymbolicUtils.Term{Bool}) used in boolean context```","user":"U6A936746","ts":"1611956309.004000","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611956406.000000"},"blocks":[{"type":"rich_text","block_id":"5c4iC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How should I deal branches in modelling tool kit?\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@variables x y\nz = x > y ? x : y"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"giving\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"TypeError: non-boolean (SymbolicUtils.Term{Bool}) used in boolean context"}]}]}]},{"client_msg_id":"71da3b3b-ea0d-4d5d-ad89-56c01d9694c4","type":"message","text":"afaict, `SymbolicUtils.cond`: <https://github.com/JuliaSymbolics/SymbolicUtils.jl/blob/0b1c444dbab84f50a1e21eb51784c864b3e848d1/src/methods.jl#L139-L144>","user":"U69GR0750","ts":"1611956449.004400","team":"T68168MUP","edited":{"user":"U69GR0750","ts":"1611956474.000000"},"blocks":[{"type":"rich_text","block_id":"gtt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"afaict, "},{"type":"text","text":"SymbolicUtils.cond","style":{"code":true}},{"type":"text","text":": "},{"type":"link","url":"https://github.com/JuliaSymbolics/SymbolicUtils.jl/blob/0b1c444dbab84f50a1e21eb51784c864b3e848d1/src/methods.jl#L139-L144"}]}]}]},{"client_msg_id":"5ccdf390-7e6c-479b-9bad-a9303d0ee3d5","type":"message","text":"Ah, is there a source code tranform somewhere that will do this rewrite for me?","user":"U6A936746","ts":"1611956493.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xLaU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, is there a source code tranform somewhere that will do this rewrite for me?"}]}]}]},{"client_msg_id":"577f8f77-3fb7-424d-8a84-9bfbc92ead2b","type":"message","text":"No clue - <@U68907M46> might know?","user":"U69GR0750","ts":"1611956515.005400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9MWG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No clue - "},{"type":"user","user_id":"U68907M46"},{"type":"text","text":" might know?"}]}]}]},{"client_msg_id":"543eb2ad-7a19-473c-a706-e03564fc52eb","type":"message","text":"this seems to work thanks","user":"U6A936746","ts":"1611956645.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bQW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this seems to work thanks"}]}]}]},{"client_msg_id":"1d2bb782-c141-49bb-bf76-af35623ad2e0","type":"message","text":"Also in displaying Pluto I am getting a lot of\n```AssertionError: latexify does not support objects of type SymbolicUtils.Term{Real}.```\nIs there something I need to do?","user":"U6A936746","ts":"1611956653.006400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mb7x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also in displaying Pluto I am getting a lot of\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"AssertionError: latexify does not support objects of type SymbolicUtils.Term{Real}."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nIs there something I need to do?"}]}]}],"reactions":[{"name":"man-shrugging","users":["U69GR0750"],"count":1}]},{"client_msg_id":"f2e85a87-c7ae-4d75-b9ad-32364afa884d","type":"message","text":"`IfElse.ifelse`","user":"U69BL50BF","ts":"1611956975.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7iO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IfElse.ifelse","style":{"code":true}}]}]}]},{"client_msg_id":"da97066f-7721-4b29-95aa-6e9cd1d7c590","type":"message","text":"IfElse.jl","user":"U69BL50BF","ts":"1611956979.006900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UgDx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IfElse.jl"}]}]}]},{"client_msg_id":"2890d4b2-2857-40a3-b09f-d488d1c940fb","type":"message","text":"it's our hack for now :disappointed:","user":"U69BL50BF","ts":"1611956983.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EYzV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's our hack for now "},{"type":"emoji","name":"disappointed"}]}]}]},{"client_msg_id":"7fd88867-6512-4ffe-b9b6-739d956d8363","type":"message","text":"(just browsing - combinators in <https://github.com/JuliaSymbolics/SymbolicUtils.jl/blob/master/src/rewriters.jl|rewriters.jl> are nifty!)","user":"U69GR0750","ts":"1611957099.007900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QgybN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(just browsing - combinators in "},{"type":"link","url":"https://github.com/JuliaSymbolics/SymbolicUtils.jl/blob/master/src/rewriters.jl","text":"rewriters.jl"},{"type":"text","text":" are nifty!)"}]}]}]},{"client_msg_id":"58ad3202-4456-4091-b62a-05d1a90bcf86","type":"message","text":"yeah it has gotten very fancy really fast :slightly_smiling_face:","user":"U69BL50BF","ts":"1611957186.008200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=iIX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah it has gotten very fancy really fast "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"06fdec06-cce1-4b6b-bb6e-e069b9c04b2b","type":"message","text":"ooc - have you done any quantitative research into best practices for combining them?","user":"U69GR0750","ts":"1611957243.008900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Yb7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ooc - have you done any quantitative research into best practices for combining them?"}]}]}]},{"client_msg_id":"4cf33364-83ed-49ca-9b5b-37489932ae30","type":"message","text":"no, that's for <@U68907M46> and it's 3am for him right now","user":"U69BL50BF","ts":"1611957314.009200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OWuP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, that's for "},{"type":"user","user_id":"U68907M46"},{"type":"text","text":" and it's 3am for him right now"}]}]}],"reactions":[{"name":"science_parrot","users":["U69GR0750"],"count":1}]},{"client_msg_id":"cfdf0e2f-f901-49ba-857c-0b3f870e6444","type":"message","text":"Ok harder one:\n`a = \"abc\"[z]`\n`MethodError: no method matching getindex(::String, ::ModelingToolkit.Num)`","user":"U6A936746","ts":"1611957347.010000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cxp1t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok harder one:\n"},{"type":"text","text":"a = \"abc\"[z]","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"MethodError: no method matching getindex(::String, ::ModelingToolkit.Num)","style":{"code":true}}]}]}]},{"client_msg_id":"06ae8fe0-780c-447d-81ca-4696a573e2d6","type":"message","text":"&gt; Also in displaying Pluto I am getting a lot of\n&gt; AssertionError: latexify does not support objects of type SymbolicUtils.Term{Real}.\n&gt; \n&gt; \n&gt; Is there something I need to do?\nDoes Latexify work in the REPL?","user":"U69BL50BF","ts":"1611957349.010300","team":"T68168MUP","edited":{"user":"U69BL50BF","ts":"1611957354.000000"},"blocks":[{"type":"rich_text","block_id":"asv","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Also in displaying Pluto I am getting a lot of\nAssertionError: latexify does not support objects of type SymbolicUtils.Term{Real}.\n\n\nIs there something I need to do?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Does Latexify work in the REPL?"}]}]}]},{"client_msg_id":"82eea926-84a6-4356-8c99-acb99911cb4f","type":"message","text":"<@U6A936746> I think we should just register `getindex`","user":"U69BL50BF","ts":"1611957367.010800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J8=s9","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6A936746"},{"type":"text","text":" I think we should just register "},{"type":"text","text":"getindex","style":{"code":true}}]}]}]},{"client_msg_id":"97326bed-4a9d-4eb7-b68c-3045a047e33d","type":"message","text":"`@register getindex(A,x)`","user":"U69BL50BF","ts":"1611957382.011200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S/SHP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@register getindex(A,x)","style":{"code":true}}]}]}]},{"client_msg_id":"99867d1c-390f-4243-aa43-c5081a04fedd","type":"message","text":"so that it becomes a node in the symbolic graph","user":"U69BL50BF","ts":"1611957389.011500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1yF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so that it becomes a node in the symbolic graph"}]}]}]},{"client_msg_id":"ed0a323a-3263-49c7-9fcf-346765a17d1c","type":"message","text":"right now it's trying to trace through it.","user":"U69BL50BF","ts":"1611957398.011700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J=7Pl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right now it's trying to trace through it."}]}]}]},{"client_msg_id":"4b9fa2ed-4e4d-4928-86c5-02c94f1e718a","type":"message","text":"Didn’t seem to fix it","user":"U6A936746","ts":"1611957465.012900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XV8c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Didn’t seem to fix it"}]}]}]},{"client_msg_id":"486bef28-85b2-42c8-891e-c28b2fff83bf","type":"message","text":"we have a pretty big deadline for Feb 5th but after that there'll be a bit of a transition, and I think Shashi will be looking more into how to make types (specifically vector variables) work well in the representation","user":"U69BL50BF","ts":"1611957468.013100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+t5Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we have a pretty big deadline for Feb 5th but after that there'll be a bit of a transition, and I think Shashi will be looking more into how to make types (specifically vector variables) work well in the representation"}]}]}]},{"client_msg_id":"ffea7aa4-bc8d-43a3-ba61-33f1b9fda34f","type":"message","text":"Oh I guess ::String isn't a dispatch that gets registered","user":"U69BL50BF","ts":"1611957485.013800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zwX7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh I guess ::String isn't a dispatch that gets registered"}]}]}]},{"client_msg_id":"fe739b53-bf93-441c-bf7f-7e7336cdf63a","type":"message","text":"I am, to be clear, abusing MTK like nothing else because I want see if I can replicate <https://nbviewer.jupyter.org/github/FluxML/Mjolnir.jl/blob/9435d98673752cec4e222e31a6b9f38edcd7d5e0/examples/futamura/futamura.ipynb>","user":"U6A936746","ts":"1611957499.014100","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611957514.000000"},"blocks":[{"type":"rich_text","block_id":"t7GwT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am, to be clear, abusing MTK like nothing else because I want see if I can replicate "},{"type":"link","url":"https://nbviewer.jupyter.org/github/FluxML/Mjolnir.jl/blob/9435d98673752cec4e222e31a6b9f38edcd7d5e0/examples/futamura/futamura.ipynb"}]}]}]},{"client_msg_id":"87bd0a6c-40ca-4c1a-8875-840499b0b4ad","type":"message","text":"The Futamura projection of brainfuck Mike showed at juliacon","user":"U6A936746","ts":"1611957528.014900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a1os","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The Futamura projection of brainfuck Mike showed at juliacon"}]}]}]},{"client_msg_id":"e448d9a2-3213-444c-8874-27f2a97a570b","type":"message","text":"yeah I think you can replicate it if you overload indexing strings and use IfElse","user":"U69BL50BF","ts":"1611957552.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yTV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah I think you can replicate it if you overload indexing strings and use IfElse"}]}]}]},{"client_msg_id":"6351fa15-3df0-468b-9144-06f34f2055a5","type":"message","text":"This will be glorious.","user":"U6A936746","ts":"1611957569.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xTK5J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This will be glorious."}]}]}]},{"client_msg_id":"64fb0020-2184-4ecd-ace2-338d61a16c66","type":"message","text":"well actually, while loops are something that cannot be directly traced unless they are independent of the symbolic terms","user":"U69BL50BF","ts":"1611957588.016300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b/9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well actually, while loops are something that cannot be directly traced unless they are independent of the symbolic terms"}]}]}]},{"client_msg_id":"4a76cf77-61e0-498b-a932-4f66dbdfa977","type":"message","text":"That's a case we would need Mjolnir for building a symbolic representation","user":"U69BL50BF","ts":"1611957622.016700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FPVp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's a case we would need Mjolnir for building a symbolic representation"}]}]}]},{"client_msg_id":"34c585f4-6181-4c9c-b799-01fae71c7d69","type":"message","text":"Can i turn the loops into folds or something?","user":"U6A936746","ts":"1611957668.017300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tVPI/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can i turn the loops into folds or something?"}]}]}]},{"client_msg_id":"0f51d3ca-42cf-4270-8afa-ab67a00ea289","type":"message","text":"yes, but not through tracing. I think","user":"U69BL50BF","ts":"1611957760.017700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4a4VL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, but not through tracing. I think"}]}]}]},{"client_msg_id":"894f089d-7777-47ab-9d8a-ac0f71ed4c48","type":"message","text":"with just pushing symbols through operator overloading I don't think you can do that operation","user":"U69BL50BF","ts":"1611957775.018200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5LO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with just pushing symbols through operator overloading I don't think you can do that operation"}]}]}]},{"client_msg_id":"de3a93d8-2cfe-464d-9cf5-49a155f7df27","type":"message","text":"that's where I think you need abstract interpretation","user":"U69BL50BF","ts":"1611957792.018500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dnFee","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's where I think you need abstract interpretation"}]}]}]},{"client_msg_id":"ad8285fa-371d-4911-a30c-72d700b5787c","type":"message","text":"ModelingToolkit/SymbolicUtils gives an IR for representing mathematical models, and they have overloads such that they naturally build the graph for things \"like you'd want them to\", but I think there are things that cannot be found simply with overloading.","user":"U69BL50BF","ts":"1611957841.019700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"foK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ModelingToolkit/SymbolicUtils gives an IR for representing mathematical models, and they have overloads such that they naturally build the graph for things \"like you'd want them to\", but I think there are things that cannot be found simply with overloading."}]}]}]},{"client_msg_id":"73b34d0b-4723-4799-8808-61610bcc1aeb","type":"message","text":"so we need to supplement it with a abstract interpreter that builds the underlying symbolic IR from Julia code in some cases","user":"U69BL50BF","ts":"1611957863.020200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oBE2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so we need to supplement it with a abstract interpreter that builds the underlying symbolic IR from Julia code in some cases"}]}]}]},{"client_msg_id":"ed3249c5-1167-4388-86cd-8d8b698ea486","type":"message","text":"and there's a partial PR that Mike did for that.","user":"U69BL50BF","ts":"1611957869.020700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xrnTc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and there's a partial PR that Mike did for that."}]}]}]},{"client_msg_id":"06d496db-bfbe-4040-9936-e90e75d56d86","type":"message","text":"I just meant if i rewrite the loops by hand as folds","user":"U6A936746","ts":"1611957882.021000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mDJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just meant if i rewrite the loops by hand as folds"}]}]}]},{"client_msg_id":"55acc115-f625-426d-b90a-56f9b3d5fd49","type":"message","text":"folds where you have to know the value in order to do the next operation?","user":"U69BL50BF","ts":"1611957922.021300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wSs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"folds where you have to know the value in order to do the next operation?"}]}]}]},{"client_msg_id":"9ec585e0-f8a2-4ab1-8742-0c1161278f5f","type":"message","text":"`foldr(f, list; init)` with rules\n```foldr(f, []; init) =&gt; init\nfoldr(f, [x, xs...]; init) =&gt; f(x, foldr(f, xs; init)```\nor something, perhaps?","user":"U69GR0750","ts":"1611958013.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4+cW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"foldr(f, list; init)","style":{"code":true}},{"type":"text","text":" with rules\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"foldr(f, []; init) => init\nfoldr(f, [x, xs...]; init) => f(x, foldr(f, xs; init)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"or something, perhaps?"}]}]}]},{"client_msg_id":"96c11822-60f8-4002-9ae6-c8d63347d260","type":"message","text":"oh like unfolds with IfElse statements?","user":"U69BL50BF","ts":"1611958036.023100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hhh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh like unfolds with IfElse statements?"}]}]}],"reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"cbc98e69-99e3-4d9e-9a48-6fe04f23b176","type":"message","text":"I guess the problem is, how many folds do you do? I don't think you can know that without knowing the values?","user":"U69BL50BF","ts":"1611958058.023700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L0+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess the problem is, how many folds do you do? I don't think you can know that without knowing the values?"}]}]}]},{"client_msg_id":"83df9e0b-6f32-4cf1-9d37-200377089bba","type":"message","text":"I was just talking about this on the Julia Lab call :slightly_smiling_face:","user":"U69BL50BF","ts":"1611958067.024100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lJQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was just talking about this on the Julia Lab call "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"54bb0b8a-27b8-4f2f-b5db-a19ae13f4577","type":"message","text":"I want to use interval arithmetic on this kind of thing to find the total possible sets of different static graphs to represent these programs purely statically in this expanded form","user":"U69BL50BF","ts":"1611958101.024900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wx8=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to use interval arithmetic on this kind of thing to find the total possible sets of different static graphs to represent these programs purely statically in this expanded form"}]}]}]},{"client_msg_id":"83d7fab7-3273-41fe-bc31-1da487525e05","type":"message","text":"but you cannot prove that the set of possibilities is finite for the code (though if it is finite you can find it)","user":"U69BL50BF","ts":"1611958126.025500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wfL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but you cannot prove that the set of possibilities is finite for the code (though if it is finite you can find it)"}]}]}]},{"client_msg_id":"208efb64-8cda-4001-a3a5-a1c9baf11ec6","type":"message","text":"specifically","user":"U69BL50BF","ts":"1611958165.026000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EXBo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"specifically"}]}]}]},{"client_msg_id":"ff670e46-90a5-4042-aa28-4a337038580d","type":"message","text":"```while tape[1] != 0\n    tape[1] -= 1\n    while tape[2] != 0\n        tape[2] -= 1\n        tape[4] += 1\n    end\n    while tape[4] != 0\n        tape[4] -= 1\n        tape[2] += 1\n        tape[3] += 1\n    end\nend```","user":"U69BL50BF","ts":"1611958166.026300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TZ0","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"while tape[1] != 0\n    tape[1] -= 1\n    while tape[2] != 0\n        tape[2] -= 1\n        tape[4] += 1\n    end\n    while tape[4] != 0\n        tape[4] -= 1\n        tape[2] += 1\n        tape[3] += 1\n    end\nend"}]}]}]},{"client_msg_id":"9bc3c558-6a70-4f5d-9cd0-c9cb5e3ead2f","type":"message","text":"for this one, if you require `tape[1]  &lt; N`, you can write down all of the possible static compilation graphs (and do cool stuff on them) by doing your foldr `N` times","user":"U69BL50BF","ts":"1611958197.027000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1sb/u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for this one, if you require "},{"type":"text","text":"tape[1]  < N","style":{"code":true}},{"type":"text","text":", you can write down all of the possible static compilation graphs (and do cool stuff on them) by doing your foldr "},{"type":"text","text":"N","style":{"code":true}},{"type":"text","text":" times"}]}]}]},{"client_msg_id":"31fe5ddf-cb88-4cdd-935b-d3cc16503a5b","type":"message","text":"but if you allow that to be anything, I don't think you can","user":"U69BL50BF","ts":"1611958206.027300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RZ0kT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if you allow that to be anything, I don't think you can"}]}]}]},{"client_msg_id":"c2c23420-5030-4b90-841c-00171d83f050","type":"message","text":"in other words, if there is no bound then I don't think this has a purely symbolic declarative representation","user":"U69BL50BF","ts":"1611958235.028000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AnFwE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in other words, if there is no bound then I don't think this has a purely symbolic declarative representation"}]}]}]},{"client_msg_id":"14e80180-9866-45ad-8171-e9a88c2007b0","type":"message","text":"being required to add hints like that is not too bad.","user":"U6A936746","ts":"1611958238.028100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rVv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"being required to add hints like that is not too bad."}]}]}]},{"client_msg_id":"3D08C89C-5A8F-48D5-94F1-CAFE9F320BD8","type":"message","text":"It’s be cool to use FLoops.jl for this","user":"U8D9768Q6","ts":"1611958264.029100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W0b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s be cool to use FLoops.jl for this"}]}]}]},{"client_msg_id":"6841F747-A4F6-47EA-8394-E826F7870FED","type":"message","text":"And then register various primitives","user":"U8D9768Q6","ts":"1611958281.030300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z85N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And then register various primitives"}]}]}]},{"client_msg_id":"8965d56e-77af-4f2e-8cae-057f7ff3c9dd","type":"message","text":"&gt; It’s be cool to use FLoops.jl for this\nThe Julia Lab calls would be a cool place for someone like you :wink:","user":"U69BL50BF","ts":"1611958293.030800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o2Y2a","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"It’s be cool to use FLoops.jl for this"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The Julia Lab calls would be a cool place for someone like you "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1611958293.030800","reply_count":10,"reply_users_count":3,"latest_reply":"1611960261.049800","reply_users":["U8D9768Q6","U69BL50BF","UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"b45baaca-00c7-4dd3-ac8d-0b66bf62e97d","type":"message","text":"tbf, though, is there a reason you'd want loops when doing math (allowing for nontermination)? wouldn't it make more sense to transform to explicit \"folds\"/recursors? then, you always know what the computation graph looks like, and you can attempt to simplify/optimize it","user":"U69GR0750","ts":"1611958323.031800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dp4P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"tbf, though, is there a reason you'd want loops when doing math (allowing for nontermination)? wouldn't it make more sense to transform to explicit \"folds\"/recursors? then, you always know what the computation graph looks like, and you can attempt to simplify/optimize it"}]}]}]},{"client_msg_id":"11ec41fb-ac68-49e1-a538-7df4fd0e5470","type":"message","text":"Tkf is now at the Julia Lab, but I haven't roped him into our symbolic projects yet (since he's doing some Dagger parallelism stuff). but that is an interesting idea.","user":"U69BL50BF","ts":"1611958348.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4u8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Tkf is now at the Julia Lab, but I haven't roped him into our symbolic projects yet (since he's doing some Dagger parallelism stuff). but that is an interesting idea."}]}]}],"reactions":[{"name":"heart","users":["U8D9768Q6","UCZ7VBGUD","U9MED583T"],"count":3}]},{"client_msg_id":"6436C421-8E0B-420F-BB42-23984AB63859","type":"message","text":"People like loops sometimes ","user":"U8D9768Q6","ts":"1611958427.034100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AlO/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"People like loops sometimes "}]}]}]},{"client_msg_id":"6bc4d9b7-6a26-4d31-9cd9-7d6c7a8ebfde","type":"message","text":"&gt; tbf, though, is there a reason you'd want loops when doing math (allowing for nontermination)? wouldn't it make more sense to transform to explicit \"folds\"/recursors? then, you always know what the computation graph looks like, and you can attempt to simplify/optimize it\nYeah, you want to get rid of those things. But for some programs I think it's impossible. MTK's tracing gets a large chunk of codes for which it's possible and you actually want to do it, but not all. Not being able to support `if ... else ... end` and requiring `IfElse.ifelse()` means that a lot of codes don't auto-trace.","user":"U69BL50BF","ts":"1611958441.034700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4PpjP","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"tbf, though, is there a reason you'd want loops when doing math (allowing for nontermination)? wouldn't it make more sense to transform to explicit \"folds\"/recursors? then, you always know what the computation graph looks like, and you can attempt to simplify/optimize it"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, you want to get rid of those things. But for some programs I think it's impossible. MTK's tracing gets a large chunk of codes for which it's possible and you actually want to do it, but not all. Not being able to support "},{"type":"text","text":"if ... else ... end","style":{"code":true}},{"type":"text","text":" and requiring "},{"type":"text","text":"IfElse.ifelse()","style":{"code":true}},{"type":"text","text":" means that a lot of codes don't auto-trace."}]}]}]},{"client_msg_id":"51a1c3fa-f7dd-45e6-87b7-5c1df4090f30","type":"message","text":"I just want to trace arbitrary computations, and then have a trace i can screw and around with, and serialize out as julia code.\nand I would rather not involve the abstract interpretation tooling til it is more mature.\n(Having spent some time with Mjolner; it’s massively fragile)","user":"U6A936746","ts":"1611958696.038000","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611958760.000000"},"blocks":[{"type":"rich_text","block_id":"QsWQ+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just want to trace arbitrary computations, and then have a trace i can screw and around with, and serialize out as julia code.\nand I would rather not involve the abstract interpretation tooling til it is more mature.\n(Having spent some time with Mjolner; it’s massively fragile)"}]}]}]},{"client_msg_id":"633895ed-4466-46d4-ad11-f8aec02831c5","type":"message","text":"Keno was roped in and is involved in these projects, so I'm also not touching abstract interpretation until it's mature, but when it's mature I've got a guy to poke :rolling_on_the_floor_laughing:","user":"U69BL50BF","ts":"1611958788.039100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UxNo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Keno was roped in and is involved in these projects, so I'm also not touching abstract interpretation until it's mature, but when it's mature I've got a guy to poke "},{"type":"emoji","name":"rolling_on_the_floor_laughing"}]}]}],"reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"c25d3446-3bba-4197-8f7e-d84d27bb2191","type":"message","text":"should `cond` be removed from SymbolicUtils.jl and replaced with `IfElse.ifelse`?","user":"U6A936746","ts":"1611958871.040500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rz0+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should "},{"type":"text","text":"cond","style":{"code":true}},{"type":"text","text":" be removed from SymbolicUtils.jl and replaced with "},{"type":"text","text":"IfElse.ifelse","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"b3124616-d039-4c61-84f6-4d8481d98554","type":"message","text":"yes, I thought <@U68907M46> already did that :thinking_face:","user":"U69BL50BF","ts":"1611958885.040900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nhzWX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, I thought "},{"type":"user","user_id":"U68907M46"},{"type":"text","text":" already did that "},{"type":"emoji","name":"thinking_face"}]}]}]},{"client_msg_id":"cc24db27-2771-41de-87f4-171778c4b051","type":"message","text":"they might alias at this point?","user":"U69BL50BF","ts":"1611958893.041200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZGD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"they might alias at this point?"}]}]}]},{"client_msg_id":"4fe1080a-f350-4f7c-8351-4e30e0c63936","type":"message","text":"there is no IfElse.jl dependency in SymbolicUtils.","user":"U6A936746","ts":"1611958960.042800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eqY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there is no IfElse.jl dependency in SymbolicUtils."}]}]}]},{"client_msg_id":"183417c6-450e-4ba3-86e4-972aee151275","type":"message","text":"okay, so I guess it's just at the MTK level, and should move to Symbolics.jl","user":"U69BL50BF","ts":"1611958994.044000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uBybh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay, so I guess it's just at the MTK level, and should move to Symbolics.jl"}]}]}]},{"client_msg_id":"6da33569-242d-4317-a387-c2ecd470504b","type":"message","text":"Possibly there is a problem that IfElse is the name of a rewritter so there is a nameclash?\nand we can’t fix nameclashes til julia 1.6?","user":"U6A936746","ts":"1611958999.044400","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611959009.000000"},"blocks":[{"type":"rich_text","block_id":"y6L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly there is a problem that IfElse is the name of a rewritter so there is a nameclash?\nand we can’t fix nameclashes til julia 1.6?"}]}]}]},{"client_msg_id":"9eaf0214-c9c9-4552-b5db-3853a204058d","type":"message","text":"we did it to an external package so it would work with LoopVectorization","user":"U69BL50BF","ts":"1611959004.044900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"icZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we did it to an external package so it would work with LoopVectorization"}]}]}]},{"client_msg_id":"bf456c0b-ed4d-4f77-bf21-ffd9a67617f9","type":"message","text":"Which uses `IfElse.ifelse`","user":"U69BL50BF","ts":"1611959012.045200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R4xlW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which uses "},{"type":"text","text":"IfElse.ifelse","style":{"code":true}}]}]}]},{"client_msg_id":"c64baa8a-ea89-4863-be48-9898b69ab38d","type":"message","text":"the problem is that `ifelse` is `Core.ifelse` so you can't add dispatches to it, so we cannot add dispatches to get the symbolic output from it","user":"U69BL50BF","ts":"1611959037.045800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dcq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the problem is that "},{"type":"text","text":"ifelse","style":{"code":true}},{"type":"text","text":" is "},{"type":"text","text":"Core.ifelse","style":{"code":true}},{"type":"text","text":" so you can't add dispatches to it, so we cannot add dispatches to get the symbolic output from it"}]}]}],"reactions":[{"name":"heavy_check_mark","users":["U6A936746"],"count":1}]},{"client_msg_id":"31584727-fde5-4d4c-a6e7-2fe8f5422c52","type":"message","text":"Chris Foster has some partial PR in Julia Base trying to fix this up so that it can be `Base.ifelse` and do enough constant prop to be as fast, which would then allow dispatches, but it's not getting full speed.","user":"U69BL50BF","ts":"1611959085.046800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lbj7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Chris Foster has some partial PR in Julia Base trying to fix this up so that it can be "},{"type":"text","text":"Base.ifelse","style":{"code":true}},{"type":"text","text":" and do enough constant prop to be as fast, which would then allow dispatches, but it's not getting full speed."}]}]}]},{"client_msg_id":"47c0d84c-2d8a-473e-a4b1-274fffd1ee6f","type":"message","text":"IfElse.jl is just our hack in the mean time, so that way when Base.ifelse exists as dispatchable we can alias it to there, deprecate the package, and people's syntax will \"just work\"","user":"U69BL50BF","ts":"1611959133.047600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UL2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IfElse.jl is just our hack in the mean time, so that way when Base.ifelse exists as dispatchable we can alias it to there, deprecate the package, and people's syntax will \"just work\""}]}]}]},{"client_msg_id":"38516f56-1ad9-4161-bd47-11b351939e2c","type":"message","text":"that'll take at least until Julia v1.7 though","user":"U69BL50BF","ts":"1611959144.047800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gCZnd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that'll take at least until Julia v1.7 though"}]}]}]},{"client_msg_id":"126a8fb0-c36e-46cb-b682-0c4ba6dbe58d","type":"message","text":"I will make a PR","user":"U6A936746","ts":"1611959190.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fwp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I will make a PR"}]}]}],"reactions":[{"name":"done","users":["U6A936746"],"count":1},{"name":"+1","users":["U68907M46"],"count":1}]},{"client_msg_id":"df2bd3c7-826d-4c0e-bdd6-41e58cc5a547","type":"message","text":"Thanks!","user":"U68907M46","ts":"1612070733.050700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C2vMy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks!"}]}]}]},{"client_msg_id":"95d84b3e-1595-4df3-96f4-16dd055d59e9","type":"message","text":"<@U6A936746> we would really like to use ChainRules for differentiation in Symbolics, but we need something like <https://github.com/JuliaDiff/ChainRulesCore.jl/issues/246> so we're still using DiffRules in 2021","user":"U68907M46","ts":"1612071228.051800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1b=","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6A936746"},{"type":"text","text":" we would really like to use ChainRules for differentiation in Symbolics, but we need something like "},{"type":"link","url":"https://github.com/JuliaDiff/ChainRulesCore.jl/issues/246"},{"type":"text","text":" so we're still using DiffRules in 2021"}]}]}],"thread_ts":"1612071228.051800","reply_count":1,"reply_users_count":1,"latest_reply":"1612085025.052900","reply_users":["U6A936746"],"subscribed":false,"reactions":[{"name":"heavy_check_mark","users":["U6A936746"],"count":1}]},{"client_msg_id":"c5b81baa-f336-4021-a4d8-308df42f6805","type":"message","text":"<@U68907M46>: Is <https://github.com/dpsanders/ReversePropagation.jl/blob/master/src/chain_rules_interface.jl> not good enough?","user":"U67G3QRJM","ts":"1612075284.052400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PLdQ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68907M46"},{"type":"text","text":": Is "},{"type":"link","url":"https://github.com/dpsanders/ReversePropagation.jl/blob/master/src/chain_rules_interface.jl"},{"type":"text","text":" not good enough?"}]}]}]},{"client_msg_id":"f474639e-8643-4ef7-99e5-413d03b97119","type":"message","text":"Oh I see, it’s a performance issue","user":"U67G3QRJM","ts":"1612075317.052700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MMsQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh I see, it’s a performance issue"}]}]}],"reactions":[{"name":"+1","users":["U68907M46"],"count":1}]},{"client_msg_id":"a874b917-5fcd-46c8-b90e-23eee33fe203","type":"message","text":"Yeah performance is the problem, one can also generate the derivatives for a pre-determined set of functions, but that kinda defeats the extensibility of ChainRules","user":"U68907M46","ts":"1612113770.054700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l66","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah performance is the problem, one can also generate the derivatives for a pre-determined set of functions, but that kinda defeats the extensibility of ChainRules"}]}]}]},{"client_msg_id":"4b1721e9-d80f-4264-92d8-a520bfa4cea9","type":"message","text":"<@U81PB6N77> you might like this pr <https://github.com/SciML/ModelingToolkit.jl/pull/764|https://github.com/SciML/ModelingToolkit.jl/pull/764>","user":"UDGT4PM41","ts":"1612335684.055600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uAS","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U81PB6N77"},{"type":"text","text":" you might like this pr "},{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/pull/764","text":"https://github.com/SciML/ModelingToolkit.jl/pull/764"}]}]}]},{"client_msg_id":"3bd68e73-5e44-4d8d-a303-6e47871c2110","type":"message","text":"Nice, thanks <@UDGT4PM41> . I guess this explains the new `StaticArrays` dependency in `SymbolicUtils` too","user":"U81PB6N77","ts":"1612360370.058900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oo0aO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice, thanks "},{"type":"user","user_id":"UDGT4PM41"},{"type":"text","text":" . I guess this explains the new "},{"type":"text","text":"StaticArrays","style":{"code":true}},{"type":"text","text":" dependency in "},{"type":"text","text":"SymbolicUtils","style":{"code":true}},{"type":"text","text":" too"}]}]}],"reactions":[{"name":"+1","users":["UDGT4PM41"],"count":1}]},{"client_msg_id":"eb18eecd-f2b7-489c-a5a8-6c3d28830d8f","type":"message","text":"<@U68907M46> I like the new styling in the SU docs, looks great","user":"U81PB6N77","ts":"1612360860.061000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UsaF3","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68907M46"},{"type":"text","text":" I like the new styling in the SU docs, looks great"}]}]}],"thread_ts":"1612360860.061000","reply_count":1,"reply_users_count":1,"latest_reply":"1612363770.061300","reply_users":["U68907M46"],"subscribed":false,"reactions":[{"name":"+1","users":["U69BL50BF","U68907M46"],"count":2}]},{"type":"message","subtype":"channel_join","ts":"1612378951.061900","user":"U013L06JN15","text":"<@U013L06JN15> has joined the channel","inviter":"U69BL50BF"},{"client_msg_id":"b82c5f26-dfe4-48a5-89f4-efe7dac37126","type":"message","text":"Inviting <@U013L06JN15> here because he seems interested in a lot of what's going on.","user":"U69BL50BF","ts":"1612378965.062400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jNExm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Inviting "},{"type":"user","user_id":"U013L06JN15"},{"type":"text","text":" here because he seems interested in a lot of what's going on."}]}]}],"thread_ts":"1612378965.062400","reply_count":1,"reply_users_count":1,"latest_reply":"1612406548.066900","reply_users":["U013L06JN15"],"subscribed":false,"reactions":[{"name":"+1","users":["U6788D83U"],"count":1}]},{"client_msg_id":"f0bc1665-8d25-4560-9819-b087826ec1ec","type":"message","text":"<https://fredrikj.net/blog/2021/01/the-symbolic-formula-language-in-calcium-and-fungrim/>","user":"U67G3QRJM","ts":"1612400551.062800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gc58","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://fredrikj.net/blog/2021/01/the-symbolic-formula-language-in-calcium-and-fungrim/"}]}]}],"thread_ts":"1612400551.062800","reply_count":7,"reply_users_count":3,"latest_reply":"1612436778.070200","reply_users":["UDD5Z7FLZ","U67G3QRJM","US8Q0Q98W"],"subscribed":false},{"client_msg_id":"1666da5d-7247-4246-8ee5-c865001e049b","type":"message","text":"Fredrik is doing great stuff","user":"U67G3QRJM","ts":"1612400559.063200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"juggb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fredrik is doing great stuff"}]}]}]},{"client_msg_id":"ebb66bbe-c51e-49a1-a58d-5e8ac1172a53","type":"message","text":"Also a nice symbolic benchmark here to try to beat: <https://fredrikj.net/blog/2020/09/benchmarking-exact-dft-computation/>","user":"U67G3QRJM","ts":"1612401192.063600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ui0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also a nice symbolic benchmark here to try to beat: "},{"type":"link","url":"https://fredrikj.net/blog/2020/09/benchmarking-exact-dft-computation/"}]}]}]},{"client_msg_id":"f506a70d-8480-4f2a-9359-6d59d70271cf","type":"message","text":"Is there a resource on symbolic linear equation solving?","user":"U6788D83U","ts":"1612401487.064400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rfsqR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a resource on symbolic linear equation solving?"}]}]}]},{"client_msg_id":"8f89bac8-44d4-4c0d-b6d3-c337dc56fba5","type":"message","text":"Currently we do it by dividing the derivative, but that suffers from round off errors. Solving for `a` could end up with an expression containing `+ 1e-15 a`","user":"U6788D83U","ts":"1612401576.065800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xUko7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Currently we do it by dividing the derivative, but that suffers from round off errors. Solving for "},{"type":"text","text":"a","style":{"code":true}},{"type":"text","text":" could end up with an expression containing "},{"type":"text","text":"+ 1e-15 a","style":{"code":true}}]}]}],"thread_ts":"1612401576.065800","reply_count":6,"reply_users_count":2,"latest_reply":"1612452502.070500","reply_users":["U67G3QRJM","U6788D83U"],"subscribed":false},{"client_msg_id":"a68f90d6-0839-47c8-8005-2f0b0bf00871","type":"message","text":"anyone have any recommendations for textbooks/resources for intro symbolics/CAS?","user":"UM8JUNJG7","ts":"1612807343.074300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"frz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anyone have any recommendations for textbooks/resources for intro symbolics/CAS?"}]}]}]},{"client_msg_id":"487405d8-a2f4-4eb2-a009-b4b1af1f41b2","type":"message","text":"If you're looking into term rewriting, Nipkow's \"Term Rewriting and All That\" is fantastic, imo.","user":"U69GR0750","ts":"1612807610.074800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"etuqn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you're looking into term rewriting, Nipkow's \"Term Rewriting and All That\" is fantastic, imo."}]}]}]},{"client_msg_id":"ded5b61a-d71e-41ad-8f52-3ebce6cab63c","type":"message","text":"<https://www.amazon.com/Ideals-Varieties-Algorithms-Computational-Undergraduate/dp/0387356509> is probably a good introduction","user":"U69BL50BF","ts":"1612807634.075300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hn8vC","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://www.amazon.com/Ideals-Varieties-Algorithms-Computational-Undergraduate/dp/0387356509"},{"type":"text","text":" is probably a good introduction"}]}]}]},{"client_msg_id":"b1629172-0788-489e-9ce3-177f3b1186a3","type":"message","text":"I mean, it doesn't do the term rewriting part, it does more of the mathematical portions like what is a Groebner basis and what are the kinds of problems you can solve with these tools.","user":"U69BL50BF","ts":"1612807658.075900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"39t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, it doesn't do the term rewriting part, it does more of the mathematical portions like what is a Groebner basis and what are the kinds of problems you can solve with these tools."}]}]}]},{"client_msg_id":"630ccdd2-8886-4505-96ef-2aad4c105574","type":"message","text":"and goes over the algorithms etc.","user":"U69BL50BF","ts":"1612807667.076200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EICof","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and goes over the algorithms etc."}]}]}]},{"client_msg_id":"d0871324-bf14-42b0-948e-fd5d795f7bae","type":"message","text":"I think that + what <@U69GR0750> describes basically gives you a modern CAS","user":"U69BL50BF","ts":"1612807686.076700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1HBe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that + what "},{"type":"user","user_id":"U69GR0750"},{"type":"text","text":" describes basically gives you a modern CAS"}]}]}]},{"client_msg_id":"329111fc-6d23-499c-a2e3-54a53ac36b95","type":"message","text":"+ differential algebras.","user":"U69BL50BF","ts":"1612807694.076900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"plw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"+ differential algebras."}]}]}]},{"client_msg_id":"ecdd26be-88df-4c87-8db6-b7eb55e2561c","type":"message","text":"thanks yall. haven't found free pdf for term rewriting but springer has ideals, varieties for free <https://link.springer.com/book/10.1007/978-3-319-16721-3>","user":"UM8JUNJG7","ts":"1612839961.077800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IMh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks yall. haven't found free pdf for term rewriting but springer has ideals, varieties for free "},{"type":"link","url":"https://link.springer.com/book/10.1007/978-3-319-16721-3"}]}]}]},{"client_msg_id":"38d12025-1c9f-4479-9a31-cc4a4dbbc6a9","type":"message","text":"afaik, TRaAT isn't free online. might be able to find at a library (or can buy); otherwise, there are lots of good papers available online, e.g.:\n• for a survey, <https://www.cs.tau.ac.il/~nachum/papers/taste-fixed.pdf>\n• for some background (and then Knuth-Bendix completion): <https://www.researchgate.net/publication/220460160_An_Introduction_to_Knuth-Bendix_Completion>\n• implementation of matching via finite automata: <https://www.semanticscholar.org/paper/Adaptive-Pattern-Matching-Sekar-Ramesh/e563d357c7094edadde3bd948747d6e0fce148de>","user":"U69GR0750","ts":"1612840369.079500","team":"T68168MUP","edited":{"user":"U69GR0750","ts":"1612840387.000000"},"blocks":[{"type":"rich_text","block_id":"V+Zr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"afaik, TRaAT isn't free online. might be able to find at a library (or can buy); otherwise, there are lots of good papers available online, e.g.:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for a survey, "},{"type":"link","url":"https://www.cs.tau.ac.il/~nachum/papers/taste-fixed.pdf"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"for some background (and then Knuth-Bendix completion): "},{"type":"link","url":"https://www.researchgate.net/publication/220460160_An_Introduction_to_Knuth-Bendix_Completion"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"implementation of matching via finite automata: "},{"type":"link","url":"https://www.semanticscholar.org/paper/Adaptive-Pattern-Matching-Sekar-Ramesh/e563d357c7094edadde3bd948747d6e0fce148de"}]}],"style":"bullet","indent":0}]}]},{"client_msg_id":"ee0aef23-da11-4ad6-8701-33754cf6f9f0","type":"message","text":"(you can also get the sample programs for TRaAT on the book website: <https://www21.in.tum.de/~nipkow/TRaAT/>)","user":"U69GR0750","ts":"1612840411.080100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"benal","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(you can also get the sample programs for TRaAT on the book website: "},{"type":"link","url":"https://www21.in.tum.de/~nipkow/TRaAT/"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"c483f4d8-0efa-415f-9f41-15d156198114","type":"message","text":"is there code for something like\n```@variables x y z\nv = variety([y-x^2, z-x^3])\nplot(v)```\ni'd like to build some plot recipes if this doesn't already exist","user":"UM8JUNJG7","ts":"1612901928.082100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pwOy+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there code for something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@variables x y z\nv = variety([y-x^2, z-x^3])\nplot(v)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"i'd like to build some plot recipes if this doesn't already exist"}]}]}]},{"client_msg_id":"ed6be139-c668-4a04-ac4b-bbab9845f664","type":"message","text":"<@U68907M46> <@U6788D83U> the abstract algebra tools aren't all part of the system yet right?'","user":"U69BL50BF","ts":"1612903625.082600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Oty","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68907M46"},{"type":"text","text":" "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" the abstract algebra tools aren't all part of the system yet right?'"}]}]}]},{"client_msg_id":"22106756-77CA-4933-945B-5B1FEDCEE237","type":"message","text":"No we don't have varieties and such things hooked up","user":"U68907M46","ts":"1612953835.084500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3yW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No we don't have varieties and such things hooked up"}]}]}]},{"client_msg_id":"6420E3B5-76D5-4376-9DF7-70E98114D6E3","type":"message","text":"Which package can already give you the variety?","user":"U68907M46","ts":"1612953878.085100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"15I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which package can already give you the variety?"}]}]}]},{"client_msg_id":"226c615a-dca2-4704-a1ac-af0bb298639c","type":"message","text":"Well, OSCAR works only on the ideal, if I am not mistaken.","user":"UDD5Z7FLZ","ts":"1612957474.085700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wVwMY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, OSCAR works only on the ideal, if I am not mistaken."}]}]}]},{"client_msg_id":"7bbf1afd-6b02-47a2-b9a4-7056de6819e7","type":"message","text":"Also I'm looking for packages which can help me represent rational polynomials with automatic simplification if such a thing exists.... Does anyone have experience creating Fields out of PolynomialRings in AbstractAlgebra.jl? Does it work?","user":"U68907M46","ts":"1613111198.088300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FyRD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also I'm looking for packages which can help me represent rational polynomials with automatic simplification if such a thing exists.... Does anyone have experience creating Fields out of PolynomialRings in AbstractAlgebra.jl? Does it work?"}]}]}]},{"client_msg_id":"3387ebd7-ed2e-48f1-b6cf-e8d0210e9aea","type":"message","text":"<https://github.com/0x0f0f0f/Metatheory.jl|https://github.com/0x0f0f0f/Metatheory.jl>","user":"UDGT4PM41","ts":"1613142589.089700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5GOj","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/0x0f0f0f/Metatheory.jl","text":"https://github.com/0x0f0f0f/Metatheory.jl"}]}]}]},{"client_msg_id":"9cb14ecc-cc4e-457e-a5f2-63a7ac1b91d0","type":"message","text":"\"Metatheory.jl is a general purpose metaprogramming and algebraic computation library for the Julia programming language, designed to take advantage of the powerful reflection capabilities to bridge the gap between symbolic mathematics, abstract interpretation, equational reasoning, optimization, composable compiler transforms, and advanced homoiconic pattern matching features.\"","user":"UDGT4PM41","ts":"1613142634.090000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7IA8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"\"Metatheory.jl is a general purpose metaprogramming and algebraic computation library for the Julia programming language, designed to take advantage of the powerful reflection capabilities to bridge the gap between symbolic mathematics, abstract interpretation, equational reasoning, optimization, composable compiler transforms, and advanced homoiconic pattern matching features.\""}]}]}]},{"type":"message","subtype":"channel_join","ts":"1613345387.095400","user":"U01N8RAGPRA","text":"<@U01N8RAGPRA> has joined the channel","inviter":"UM8JUNJG7"},{"client_msg_id":"fc9573df-2a4a-422d-87b1-08986d5a2fdd","type":"message","text":"Happy to announce the first release of Metatheory.jl\n<https://github.com/0x0f0f0f/Metatheory.jl>\n<https://arxiv.org/abs/2102.07888>\n\nJoin us in the official <https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl/topic/.5BANN.5D.20Introducing.20Metatheory.2Ejl|Zulip Chat Stream> !","user":"U01K2JB9GPJ","ts":"1613557996.104200","team":"T68168MUP","attachments":[{"service_name":"arXiv.org","title":"Metatheory.jl: Fast and Elegant Algebraic Computation in Julia...","title_link":"https://arxiv.org/abs/2102.07888","text":"We introduce Metatheory.jl: a lightweight and performant general purpose symbolics and metaprogramming framework meant to simplify the act of writing complex Julia metaprograms and to...","fallback":"arXiv.org: Metatheory.jl: Fast and Elegant Algebraic Computation in Julia...","from_url":"https://arxiv.org/abs/2102.07888","service_icon":"https://static.arxiv.org/static/browse/0.3.2.6/images/icons/favicon.ico","id":1,"original_url":"https://arxiv.org/abs/2102.07888"},{"service_name":"Zulip","title":"JuliaLang","title_link":"https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl/topic/.5BANN.5D.20Introducing.20Metatheory.2Ejl","text":"This is the Zulip server for the Julia programming language community. We ask anyone joining to adhere to the Julia Code of Conduct. | To learn more about Julia, check out <https://julialang.org/>, or just come ask us here! | You can reach out to the admins of this Zulip by sending a direct message to @zulip-admins.","fallback":"Zulip: JuliaLang","thumb_url":"https://zulip-avatars.s3.amazonaws.com/7178/realm/icon.png?version=6","from_url":"https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl/topic/.5BANN.5D.20Introducing.20Metatheory.2Ejl","thumb_width":100,"thumb_height":100,"id":2,"original_url":"https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl/topic/.5BANN.5D.20Introducing.20Metatheory.2Ejl"}],"blocks":[{"type":"rich_text","block_id":"TQKm6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Happy to announce the first release of Metatheory.jl\n"},{"type":"link","url":"https://github.com/0x0f0f0f/Metatheory.jl"},{"type":"text","text":"\n"},{"type":"link","url":"https://arxiv.org/abs/2102.07888"},{"type":"text","text":"\n\nJoin us in the official "},{"type":"link","url":"https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl/topic/.5BANN.5D.20Introducing.20Metatheory.2Ejl","text":"Zulip Chat Stream"},{"type":"text","text":" !"}]}]}]},{"client_msg_id":"fa623f5a-2cc7-45c5-a8e8-05fcdf3f3052","type":"message","text":"<@U69BL50BF> I was answering some questions in the HN thread. Am I correct that SU doesn't require subtyping number or real anymore?","user":"UDGT4PM41","ts":"1614969925.000700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nm6zQ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I was answering some questions in the HN thread. Am I correct that SU doesn't require subtyping number or real anymore?"}]}]}]},{"client_msg_id":"4a6b1b42-0d31-4315-a231-c508f79c9ab2","type":"message","text":"I think I read that somewhere","user":"UDGT4PM41","ts":"1614969936.000900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xBU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I read that somewhere"}]}]}]},{"client_msg_id":"a65c4ab7-574e-4c94-8e6e-747c2747825c","type":"message","text":"Yes, SU doesn't subtype to numbers or anything","user":"U69BL50BF","ts":"1614970803.001200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qgBKf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, SU doesn't subtype to numbers or anything"}]}]}]},{"client_msg_id":"70226cf4-f5b8-4cec-bf2c-2688ef86406d","type":"message","text":"Symbolics.jl uses the `Num` type on its `@variable` to do automatic tracing via `&lt;:Number`. But that's not necessary for the CAS to work, it's just an enhancement.","user":"U69BL50BF","ts":"1614970842.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0JXJ7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Symbolics.jl uses the "},{"type":"text","text":"Num","style":{"code":true}},{"type":"text","text":" type on its "},{"type":"text","text":"@variable","style":{"code":true}},{"type":"text","text":" to do automatic tracing via "},{"type":"text","text":"<:Number","style":{"code":true}},{"type":"text","text":". But that's not necessary for the CAS to work, it's just an enhancement."}]}]}]},{"client_msg_id":"a2f48a24-9890-4329-9e1d-1a6e8724a935","type":"message","text":"When AbstractInterpreter functionality is better, that will likely replace it.","user":"U69BL50BF","ts":"1614970855.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VKi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When AbstractInterpreter functionality is better, that will likely replace it."}]}]}]},{"client_msg_id":"650231c3-9996-4d82-bfcd-71f4c7e44da4","type":"message","text":"But indeed, there isn't a single underlying piece of the symbolic representation. There are `Add`s, `Mul`s, `Num`s, etc. all working in harmony because of the generic interface. Pieces of the representation can be changed and swapped out without breaking Symbolics.jl user code to a meaningful extent.'","user":"U69BL50BF","ts":"1614970896.003300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ojB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But indeed, there isn't a single underlying piece of the symbolic representation. There are "},{"type":"text","text":"Add","style":{"code":true}},{"type":"text","text":"s, "},{"type":"text","text":"Mul","style":{"code":true}},{"type":"text","text":"s, "},{"type":"text","text":"Num","style":{"code":true}},{"type":"text","text":"s, etc. all working in harmony because of the generic interface. Pieces of the representation can be changed and swapped out without breaking Symbolics.jl user code to a meaningful extent.'"}]}]}]},{"client_msg_id":"c89447a3-fe21-405f-bf4e-9bc80f3b6554","type":"message","text":"Cool!","user":"UDGT4PM41","ts":"1614972827.003500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Zq1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool!"}]}]}]},{"client_msg_id":"02c513b4-1333-40bb-8c89-caceb84db803","type":"message","text":"thanks for the explanation","user":"UDGT4PM41","ts":"1614972832.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CLNQQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks for the explanation"}]}]}]},{"client_msg_id":"84acb5d0-2091-4fc3-a418-e96b1a6e865c","type":"message","text":"I noticed that RigidBodyDynamics have some examples of using symbolic manipulation using sympy for the dynamic equations of mechanical systems.\n<https://juliarobotics.org/RigidBodyDynamics.jl/stable/generated/6.%20Symbolics%20using%20SymPy/6.%20Symbolics%20using%20SymPy/>\nWe do this a lot, using sympy and python, but have the following problem:\n- for a robot with 2DOF, you can derive the equations by hand\n- for 3DOF the calculations are very, very long\n- for 4DOF sympy is happy to do them for you\n- 5DOF takes a very long time\n- 6DOF takes a weekend\n- 7DOF forget about it\n\nI would really like to be able to manipulate those equations using Symbolics.jl and use them inside MTK models,  but I find that I never get very far when I about once every second month try it out, I always stumble on something trivial and fail to interpret the error message. Are there any examples of manipulating such equations using Symbolics.jl and simulating them?","user":"UJ7DVTVQ8","ts":"1615103792.008500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z4Cy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed that RigidBodyDynamics have some examples of using symbolic manipulation using sympy for the dynamic equations of mechanical systems.\n"},{"type":"link","url":"https://juliarobotics.org/RigidBodyDynamics.jl/stable/generated/6.%20Symbolics%20using%20SymPy/6.%20Symbolics%20using%20SymPy/"},{"type":"text","text":"\nWe do this a lot, using sympy and python, but have the following problem:\n- for a robot with 2DOF, you can derive the equations by hand\n- for 3DOF the calculations are very, very long\n- for 4DOF sympy is happy to do them for you\n- 5DOF takes a very long time\n- 6DOF takes a weekend\n- 7DOF forget about it\n\nI would really like to be able to manipulate those equations using Symbolics.jl and use them inside MTK models,  but I find that I never get very far when I about once every second month try it out, I always stumble on something trivial and fail to interpret the error message. Are there any examples of manipulating such equations using Symbolics.jl and simulating them?"}]}]}],"thread_ts":"1615103792.008500","reply_count":10,"reply_users_count":3,"latest_reply":"1615105141.010400","reply_users":["UJ7DVTVQ8","U69BL50BF","U013L06JN15"],"subscribed":false},{"client_msg_id":"03a8c795-72da-47ee-ae38-fa0696ceb771","type":"message","text":"Quick question about SymPy.  When I try this simple toggle switch equations. The SymPy  gives `raise NotImplementedError`. Did I do something wrong?\n```using SymPy\n\nx, y = @vars x y\nα, β = @vars α β\n\nrhs = [α/(1 + y^β )  - x, α/(1 + x^β )  - y]\nfps = solve(rhs, (x,y))```","user":"UAA5ZRHM3","ts":"1615317654.013200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JrCa1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Quick question about SymPy.  When I try this simple toggle switch equations. The SymPy  gives "},{"type":"text","text":"raise NotImplementedError","style":{"code":true}},{"type":"text","text":". Did I do something wrong?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using SymPy\n\nx, y = @vars x y\nα, β = @vars α β\n\nrhs = [α/(1 + y^β )  - x, α/(1 + x^β )  - y]\nfps = solve(rhs, (x,y))"}]}]}]},{"client_msg_id":"1517a1de-ef8d-4bd3-82af-3455c8686d62","type":"message","text":"Does this work from the Python side?","user":"U8D9768Q6","ts":"1615318254.013600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dym","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does this work from the Python side?"}]}]}]},{"client_msg_id":"a146002f-d1af-4c9f-a6f0-5876e455f7dd","type":"message","text":"I have not try. But whenI set beta = 2, then `solve` and `nonlinsolve` works","user":"UAA5ZRHM3","ts":"1615318645.014300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r7yf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have not try. But whenI set beta = 2, then "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"nonlinsolve","style":{"code":true}},{"type":"text","text":" works"}]}]}]},{"client_msg_id":"704b0c22-b184-46ba-bcac-d54197e89cd4","type":"message","text":"`nonlinsolve` gives 5 solutions and `solve` only give one.","user":"UAA5ZRHM3","ts":"1615318673.014900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dASl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nonlinsolve","style":{"code":true}},{"type":"text","text":" gives 5 solutions and "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" only give one."}]}]}]},{"client_msg_id":"e7a52848-542b-4b9f-9634-e6193f821b87","type":"message","text":"Just tried in matlab, it seem that they both can not handle variable in the exponential.","user":"UAA5ZRHM3","ts":"1615319235.015700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i8gJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just tried in matlab, it seem that they both can not handle variable in the exponential."}]}]}]},{"client_msg_id":"9be011ff-99d8-404f-be9e-92d0ff6da85f","type":"message","text":"Installing `SymPy.jl` in Julia seems to be easier than installing `sympy` in Python. Why am I not surprised…","user":"U67G3QRJM","ts":"1615330243.016300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1dY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Installing "},{"type":"text","text":"SymPy.jl","style":{"code":true}},{"type":"text","text":" in Julia seems to be easier than installing "},{"type":"text","text":"sympy","style":{"code":true}},{"type":"text","text":" in Python. Why am I not surprised…"}]}]}]},{"client_msg_id":"2b47f272-da9e-418b-9680-6ba42a76ed49","type":"message","text":"<@UAA5ZRHM3>: What is the difference between `nonlinsolve` and `solve` and what are the 5 solutions?","user":"U67G3QRJM","ts":"1615330391.016800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ncI7z","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UAA5ZRHM3"},{"type":"text","text":": What is the difference between "},{"type":"text","text":"nonlinsolve","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" and what are the 5 solutions?"}]}]}]},{"client_msg_id":"8fea4f1c-d960-4941-ba4d-4de7de22ae34","type":"message","text":"<@U67G3QRJM> In the document, it writes ” Currently `nonlinsolve` is not properly capable of solving the system of equations\n“. The 5 solutions contains 2 stable steady states, and 3 other implicit solutions which might correspond to unstable fix points I guess","user":"UAA5ZRHM3","ts":"1615331995.018500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vOS","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67G3QRJM"},{"type":"text","text":" In the document, it writes ” Currently "},{"type":"text","text":"nonlinsolve","style":{"code":true}},{"type":"text","text":" is not properly capable of solving the system of equations\n“. The 5 solutions contains 2 stable steady states, and 3 other implicit solutions which might correspond to unstable fix points I guess"}]}]}],"reactions":[{"name":"+1","users":["U67G3QRJM"],"count":1}]},{"client_msg_id":"37cd4365-34f0-40f3-a153-50939a2dd212","type":"message","text":"Hi all","user":"U0145AT9WTX","ts":"1615825404.019900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s8iz4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all"}]}]}]},{"client_msg_id":"57521ae3-9a5a-44c2-a59d-c0c48c381410","type":"message","text":"I’m having some troubles with MTK and abs()","user":"U0145AT9WTX","ts":"1615825420.020300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cuA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m having some troubles with MTK and abs()"}]}]}]},{"client_msg_id":"fd8911e4-2c6d-4767-8292-39e00fde0e30","type":"message","text":"```julia&gt; @parameters x\n(x,)\n\njulia&gt; dx = abs(x)\nabs(x)\n\njulia&gt; ModelingToolkit.derivative(dx,x)\nERROR: TypeError: non-boolean (Term{Real,Nothing}) used in boolean context\nStacktrace:\n [1] ifelse(::Term{Real,Nothing}, ::Int64, ::Int64) at /Users/dcabecinhas/.julia/packages/IfElse/u1l5W/src/IfElse.jl:3\n [2] derivative(::typeof(abs), ::Tuple{Sym{ModelingToolkit.Parameter{Real},Nothing}}, ::Val{1}) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/extra_functions.jl:7\n [3] derivative_idx(::Term{Real,Nothing}, ::Int64) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:204\n [4] expand_derivatives(::Term{Real,Nothing}, ::Bool; occurances::Nothing) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:0\n [5] expand_derivatives(::Term{Real,Nothing}, ::Bool) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:78\n [6] derivative(::Num, ::Num; simplify::Bool) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:299\n [7] derivative(::Num, ::Num) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:296\n [8] top-level scope at REPL[13]:1```","user":"U0145AT9WTX","ts":"1615825457.020700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fed","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @parameters x\n(x,)\n\njulia> dx = abs(x)\nabs(x)\n\njulia> ModelingToolkit.derivative(dx,x)\nERROR: TypeError: non-boolean (Term{Real,Nothing}) used in boolean context\nStacktrace:\n [1] ifelse(::Term{Real,Nothing}, ::Int64, ::Int64) at /Users/dcabecinhas/.julia/packages/IfElse/u1l5W/src/IfElse.jl:3\n [2] derivative(::typeof(abs), ::Tuple{Sym{ModelingToolkit.Parameter{Real},Nothing}}, ::Val{1}) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/extra_functions.jl:7\n [3] derivative_idx(::Term{Real,Nothing}, ::Int64) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:204\n [4] expand_derivatives(::Term{Real,Nothing}, ::Bool; occurances::Nothing) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:0\n [5] expand_derivatives(::Term{Real,Nothing}, ::Bool) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:78\n [6] derivative(::Num, ::Num; simplify::Bool) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:299\n [7] derivative(::Num, ::Num) at /Users/dcabecinhas/.julia/packages/Symbolics/Lzghz/src/diff.jl:296\n [8] top-level scope at REPL[13]:1"}]}]}]},{"client_msg_id":"06755fbb-2611-46d8-b25b-fa8e96aaf498","type":"message","text":"this was working around MTK 5.1 but with the latest version it doesn’t anymore","user":"U0145AT9WTX","ts":"1615825476.021200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BGQP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this was working around MTK 5.1 but with the latest version it doesn’t anymore"}]}]}]},{"client_msg_id":"0023cf9f-88ec-4dc4-861a-6342e648f4db","type":"message","text":"can you point me out alternatives or the correct way to do this? thanks","user":"U0145AT9WTX","ts":"1615825509.021700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VxRip","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you point me out alternatives or the correct way to do this? thanks"}]}]}]},{"client_msg_id":"e3c770d5-fb6a-4829-9fd8-6a34a9887c36","type":"message","text":"Yes, I need to fix it :stuck_out_tongue:","user":"U6788D83U","ts":"1615825520.022000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eS3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I need to fix it "},{"type":"emoji","name":"stuck_out_tongue"}]}]}],"reactions":[{"name":"+1","users":["U0145AT9WTX"],"count":1}]},{"client_msg_id":"670b7f44-3ab6-446c-8aa2-2e73deaee4fe","type":"message","text":"hehe, alright. good that it is a known bug","user":"U0145AT9WTX","ts":"1615825647.022500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cjHX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hehe, alright. good that it is a known bug"}]}]}]},{"client_msg_id":"0bd07083-79f1-44bd-8779-01d05df94708","type":"message","text":"I’ll stay with the old version meanwhile","user":"U0145AT9WTX","ts":"1615825655.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CRIyJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ll stay with the old version meanwhile"}]}]}]},{"client_msg_id":"16ee8308-5537-4822-bed5-9b623ccd8879","type":"message","text":"Fixed <https://github.com/JuliaSymbolics/Symbolics.jl/pull/125/commits/98021e997a001de1579efa6f3b5d3fb5f6f816f2>","user":"U6788D83U","ts":"1615826009.023100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sJ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Fixed "},{"type":"link","url":"https://github.com/JuliaSymbolics/Symbolics.jl/pull/125/commits/98021e997a001de1579efa6f3b5d3fb5f6f816f2"}]}]}]},{"client_msg_id":"30b1e6cc-7ead-4ef7-ad32-dc7e82fed6eb","type":"message","text":"does Symbolics handle complex numbers? How to define symbolic `i`?","user":"UC7FP1MQV","ts":"1615891531.000600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/kCJa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does Symbolics handle complex numbers? How to define symbolic "},{"type":"text","text":"i","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1615891531.000600","reply_count":1,"reply_users_count":1,"latest_reply":"1615892467.000700","reply_users":["U01C10FSAM8"],"subscribed":false},{"client_msg_id":"081278fb-341c-44af-95fa-86cf7a7fa8f4","type":"message","text":"Thanks, that was fast :slightly_smiling_face:","user":"U0145AT9WTX","ts":"1615907890.001600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7bE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks, that was fast "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"711a381f-17f8-43ec-bcc9-e9da10528dce","type":"message","text":"I'm doing some more experiments with Symbolics.jl and just started a very heavy computation. From reading <https://symbolics.juliasymbolics.org/dev/comparison/> it appears as if symbolic computations are to be multi-threaded, but looking at the process monitor it seems as if only a single thread is busy (I have started julia with 4 threads). Do I need to do something to activate the threading?","user":"UJ7DVTVQ8","ts":"1615918019.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MW2C2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm doing some more experiments with Symbolics.jl and just started a very heavy computation. From reading "},{"type":"link","url":"https://symbolics.juliasymbolics.org/dev/comparison/"},{"type":"text","text":" it appears as if symbolic computations are to be multi-threaded, but looking at the process monitor it seems as if only a single thread is busy (I have started julia with 4 threads). Do I need to do something to activate the threading?"}]}]}]},{"client_msg_id":"abcd1841-e04a-4c0a-85b2-4bec96208426","type":"message","text":"threading should be on by default for deep enough trees.","user":"U69BL50BF","ts":"1615918431.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tny+w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"threading should be on by default for deep enough trees."}]}]}],"thread_ts":"1615918431.007100","reply_count":1,"reply_users_count":1,"latest_reply":"1615918712.007200","reply_users":["UJ7DVTVQ8"],"subscribed":false},{"client_msg_id":"9c09a463-20b1-474e-8921-67dc81161dd0","type":"message","text":"<https://github.com/JuliaSymbolics/Symbolics.jl/issues/129>","user":"UJ7DVTVQ8","ts":"1615919198.007500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LgMd","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaSymbolics/Symbolics.jl/issues/129"}]}]}]},{"client_msg_id":"6b49e181-f37f-4082-8d00-4199c348b5c6","type":"message","text":"This was the code I was running, did not see any threading there","user":"UJ7DVTVQ8","ts":"1615919214.007800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P9eIb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This was the code I was running, did not see any threading there"}]}]}]},{"client_msg_id":"6cac5f13-b064-486d-8a1c-a0711e665389","type":"message","text":"does Symbolics have support for evaluating propositions like `[p=&gt;q]=&gt;[!q=&gt;!p]`? ie give some predicates and some exprs and be able to `eval`them","user":"UM8JUNJG7","ts":"1615929131.011100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V4Hq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does Symbolics have support for evaluating propositions like "},{"type":"text","text":"[p=>q]=>[!q=>!p]","style":{"code":true}},{"type":"text","text":"? ie give some predicates and some exprs and be able to "},{"type":"text","text":"eval","style":{"code":true}},{"type":"text","text":"them"}]}]}]},{"client_msg_id":"0cd78c7d-b819-4aeb-9673-d62b3b2d5dc0","type":"message","text":"In SymPy I can get C-code for a simple expression by `sp.ccode(ex)`. I'm aware of the `build_function(..., target=CTarget)`, but it assumes that I want to generate a whole function rather than a single expression. I assume that `build_function` internally uses something like `latexify(ex)` but for C-code, can I access this lower-level interface somehow?","user":"UJ7DVTVQ8","ts":"1615987267.002500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JUMP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In SymPy I can get C-code for a simple expression by "},{"type":"text","text":"sp.ccode(ex)","style":{"code":true}},{"type":"text","text":". I'm aware of the "},{"type":"text","text":"build_function(..., target=CTarget)","style":{"code":true}},{"type":"text","text":", but it assumes that I want to generate a whole function rather than a single expression. I assume that "},{"type":"text","text":"build_function","style":{"code":true}},{"type":"text","text":" internally uses something like "},{"type":"text","text":"latexify(ex)","style":{"code":true}},{"type":"text","text":" but for C-code, can I access this lower-level interface somehow?"}]}]}]},{"client_msg_id":"a6ff2239-5c2c-408f-96ba-89e43865c68b","type":"message","text":"I'm just starting out with Symbolics - is there a way to create variables from strings? For example, in my code, I programmatically generate `\"N_$name\"` symbols and I'd like to be able to use these symbols when generating expressions","user":"UHYC5EKUJ","ts":"1616256124.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+1a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm just starting out with Symbolics - is there a way to create variables from strings? For example, in my code, I programmatically generate "},{"type":"text","text":"\"N_$name\"","style":{"code":true}},{"type":"text","text":" symbols and I'd like to be able to use these symbols when generating expressions"}]}]}],"thread_ts":"1616256124.007100","reply_count":5,"reply_users_count":2,"latest_reply":"1616256444.008000","reply_users":["UM8JUNJG7","UHYC5EKUJ"],"subscribed":false},{"client_msg_id":"5271e44f-bfd5-4343-bb4c-00195659d99e","type":"message","text":"Is there any method to extract linear coefficient of variable in a symbolic expression?\n`@variables x`\n`extract_coef(2*x) = 2`","user":"U01R99UKP1S","ts":"1616399564.010700","team":"T68168MUP","edited":{"user":"U01R99UKP1S","ts":"1616399595.000000"},"blocks":[{"type":"rich_text","block_id":"gX4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there any method to extract linear coefficient of variable in a symbolic expression?\n"},{"type":"text","text":"@variables x","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"extract_coef(2*x) = 2","style":{"code":true}}]}]}]}]}