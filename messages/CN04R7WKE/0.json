{"cursor": 0, "messages": [{"client_msg_id":"10b45b28-21d1-4508-8600-8abe2e9aba5f","type":"message","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n```julia&gt; u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia&gt; du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia&gt; u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia&gt; typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia&gt; sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible.```","user":"UM8JUNJG7","ts":"1608066482.192900","team":"T68168MUP","edited":{"user":"UM8JUNJG7","ts":"1608067013.000000"},"blocks":[{"type":"rich_text","block_id":"zhb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia> du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia> u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia> typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia> sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible."}]}]}],"thread_ts":"1608066482.192900","reply_count":29,"reply_users_count":6,"latest_reply":"1608358820.210600","reply_users":["UH8A351DJ","UM8JUNJG7","U9MD78Z9N","U69BL50BF","U01CR62LAAD","U72B7LTMX"],"subscribed":false},{"client_msg_id":"61f7fb99-01e6-4ba2-818c-e57324ebc66a","type":"message","text":"I'm trying to train a stiff universal DAE. I've been looking at this example: <https://diffeqflux.sciml.ai/dev/examples/physical_constraints/>\nbut in my case I want to have both known dynamic equations and unknown dynamics represented by the NN in addition to algebraic constraints. The problem is in mass matrix form. I'm getting the following error: `TypeError: in typeassert, expected Float32, got ForwardDiff.Dual{Nothing,Float32,1}`  when using `sensealg=InterpolatingAdjoint(autojacvec=ReverseDiffVJP(true))`.","user":"U018NKAFBHR","ts":"1608137517.202900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e5N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to train a stiff universal DAE. I've been looking at this example: "},{"type":"link","url":"https://diffeqflux.sciml.ai/dev/examples/physical_constraints/"},{"type":"text","text":"\nbut in my case I want to have both known dynamic equations and unknown dynamics represented by the NN in addition to algebraic constraints. The problem is in mass matrix form. I'm getting the following error: "},{"type":"text","text":"TypeError: in typeassert, expected Float32, got ForwardDiff.Dual{Nothing,Float32,1}","style":{"code":true}},{"type":"text","text":"  when using "},{"type":"text","text":"sensealg=InterpolatingAdjoint(autojacvec=ReverseDiffVJP(true))","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1608137517.202900","reply_count":4,"reply_users_count":2,"latest_reply":"1608141529.203600","reply_users":["U018NKAFBHR","U69BL50BF"],"subscribed":false},{"client_msg_id":"cbb4f102-a04f-478b-9f7d-2f7f07ca43b2","type":"message","text":"Is there a reason that the DMD implementation in DataDrivenDiffEq requires that there are more snapshots than the dimensionality of the system (unless I'm misreading the assertion line)?\nMy impression has generally been that the algorithm is used predominantly in situations with few snapshots of large spatiotemporal systems.","user":"U0123HBMZ7Z","ts":"1608148863.206400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4HI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a reason that the DMD implementation in DataDrivenDiffEq requires that there are more snapshots than the dimensionality of the system (unless I'm misreading the assertion line)?\nMy impression has generally been that the algorithm is used predominantly in situations with few snapshots of large spatiotemporal systems."}]}]}],"thread_ts":"1608148863.206400","reply_count":4,"reply_users_count":3,"latest_reply":"1608225863.207200","reply_users":["U69BL50BF","UNYPJU8DT","U0123HBMZ7Z"],"subscribed":false,"reactions":[{"name":"heart","users":["U01FARY7Q13"],"count":1}]},{"client_msg_id":"fa54cd63-b5de-4044-873f-da0752850d3c","type":"message","text":"<@U7Z4938R3> say did you change the name of the `DifferentiableStateSpaceModels.jl` package? Chris posted a link, but the link seems to be broken, <https://github.com/jlperla/DifferentiableStateSpaceModels.jl> . If it is not too much trouble, could you send me the correct link, thanks.","user":"UDDSTBX19","ts":"1608311251.208100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2rq0","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7Z4938R3"},{"type":"text","text":" say did you change the name of the "},{"type":"text","text":"DifferentiableStateSpaceModels.jl","style":{"code":true}},{"type":"text","text":" package? Chris posted a link, but the link seems to be broken, "},{"type":"link","url":"https://github.com/jlperla/DifferentiableStateSpaceModels.jl"},{"type":"text","text":" . If it is not too much trouble, could you send me the correct link, thanks."}]}]}]},{"client_msg_id":"e827e0b4-8af2-4e37-be99-fa379ce0141b","type":"message","text":"Sorry, it isn't opened up yet.","user":"U7Z4938R3","ts":"1608314654.208400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kzUf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry, it isn't opened up yet."}]}]}]},{"client_msg_id":"43b0a242-8a27-4fb7-a276-f593eb93e8b4","type":"message","text":"Can we talk about it in January?","user":"U7Z4938R3","ts":"1608314673.208900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bx/kR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can we talk about it in January?"}]}]}],"thread_ts":"1608314673.208900","reply_count":4,"reply_users_count":2,"latest_reply":"1608324356.210300","reply_users":["UDDSTBX19","U7Z4938R3"],"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"I made a very rough attempt at having an `&lt;:AbstractArray` with units here:\n\n<https://github.com/goretkin/UnitfulLinearAlgebra.jl>\n\nIt was an experiment from over a year ago, but seeing these messages encouraged me to just-so-slightly polish the repository. It does express unit information in the type system, but by wrapping an existing no-unit `AbstractArray`.\n\nIn addition to having a non-concrete `eltype` by annotating the units of individual elements independently, it's also the wrong mathematical structure. Not all combinations of units in a matrix are valid. See the links in the README for more information.","user":"U72B7LTMX","ts":"1608358820.210600","thread_ts":"1608066482.192900","root":{"client_msg_id":"10b45b28-21d1-4508-8600-8abe2e9aba5f","type":"message","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n```julia&gt; u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia&gt; du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia&gt; u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia&gt; typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia&gt; sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible.```","user":"UM8JUNJG7","ts":"1608066482.192900","team":"T68168MUP","edited":{"user":"UM8JUNJG7","ts":"1608067013.000000"},"blocks":[{"type":"rich_text","block_id":"zhb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i think similar(u0) is causing Unitful.jl errors. am i missing something?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> u0\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 30.0 m s^-1\n\njulia> du = similar(u0)\n1-element Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1}:\n 6.9236338909147e-310 m s^-1\n\njulia> u0[1] = vÃá\nERROR: DimensionError: m s^-1 and -4.30150447150153 m s^-2 are not dimensionally compatible.\n\njulia> typeof(prob)\nODEProblem{Array{Quantity{Float64,ùêã ùêì^-1,Unitful.FreeUnits{(m, s^-1),ùêã ùêì^-1,nothing}},1},Tuple{Float32,Float32},true,Array{Quantity{Float64,D,U} where U where D,1},ODEFunction{true,typeof(f!),LinearAlgebra.UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Base.Iterators.Pairs{Union{},Union{},Tuple{},NamedTuple{(),Tuple{}}},DiffEqBase.StandardODEProblem}\n\njulia> sol = solve(prob)\nvÃá = -4.301504471501531 m s^-2\nERROR: DimensionError: m s^-1 and -4.301504471501531 m s^-2 are not dimensionally compatible."}]}]}],"thread_ts":"1608066482.192900","reply_count":29,"reply_users_count":6,"latest_reply":"1608358820.210600","reply_users":["UH8A351DJ","UM8JUNJG7","U9MD78Z9N","U69BL50BF","U01CR62LAAD","U72B7LTMX"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"+7A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I made a very rough attempt at having an "},{"type":"text","text":"<:AbstractArray","style":{"code":true}},{"type":"text","text":" with units here:\n\n"},{"type":"link","url":"https://github.com/goretkin/UnitfulLinearAlgebra.jl"},{"type":"text","text":"\n\nIt was an experiment from over a year ago, but seeing these messages encouraged me to just-so-slightly polish the repository. It does express unit information in the type system, but by wrapping an existing no-unit "},{"type":"text","text":"AbstractArray","style":{"code":true}},{"type":"text","text":".\n\nIn addition to having a non-concrete "},{"type":"text","text":"eltype","style":{"code":true}},{"type":"text","text":" by annotating the units of individual elements independently, it's also the wrong mathematical structure. Not all combinations of units in a matrix are valid. See the links in the README for more information."}]}]}],"client_msg_id":"17a16631-9bc4-42b5-8ca6-9e34c68c923f"},{"client_msg_id":"15ac1a02-cab9-4546-aebd-60637ae6fce6","type":"message","text":"Have anyone seen the `ERROR: LoadError: Mutating arrays is not supported` when trying to differentiate a function with `Zygote.gradient()` function? I am trying to differentiate a `DerivativeOperator` from `DiffEqOperators`. (Stacktrace in comments)","user":"U016VPPCQA1","ts":"1609196138.214200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cKEU=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Have anyone seen the "},{"type":"text","text":"ERROR: LoadError: Mutating arrays is not supported","style":{"code":true}},{"type":"text","text":" when trying to differentiate a function with "},{"type":"text","text":"Zygote.gradient()","style":{"code":true}},{"type":"text","text":" function? I am trying to differentiate a "},{"type":"text","text":"DerivativeOperator","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"DiffEqOperators","style":{"code":true}},{"type":"text","text":". (Stacktrace in comments)"}]}]}],"thread_ts":"1609196138.214200","reply_count":1,"reply_users_count":1,"latest_reply":"1609196172.214300","reply_users":["U016VPPCQA1"],"subscribed":false},{"client_msg_id":"dd1f8673-dabb-480e-8db7-dec4d53cf92b","type":"message","text":"Hi guys! Hope you are doing fine.\nIm trying to run this example of universal differential equations:¬† <https://github.com/ChrisRackauckas/universal_differential_equations/blob/master/DelayLotkaVolterra/VolterraExp.jl>\n\nBut im getting¬†*`UndefVarError: SINDy not defined`¬†*when i try to run this line:\n```Œ® = SINDy(X‚Çô[:, :], DX[:, :], basis, Œª, opt, g = g, maxiter = 10000)```\nDoes anyone know what might be happening?","user":"U01A0BP074P","ts":"1609272617.219700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xh6x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi guys! Hope you are doing fine.\nIm trying to run this example of universal differential equations:¬† "},{"type":"link","url":"https://github.com/ChrisRackauckas/universal_differential_equations/blob/master/DelayLotkaVolterra/VolterraExp.jl"},{"type":"text","text":"\n\nBut im getting¬†"},{"type":"text","text":"UndefVarError: SINDy not defined","style":{"bold":true,"code":true}},{"type":"text","text":"¬†","style":{"bold":true}},{"type":"text","text":"when i try to run this line:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Œ® = SINDy(X‚Çô[:, :], DX[:, :], basis, Œª, opt, g = g, maxiter = 10000)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nDoes anyone know what might be happening?"}]}]}]},{"client_msg_id":"7fc2ea38-804e-4e6c-b26c-0ea173ad8b00","type":"message","text":"<@U01A0BP074P> are you using the latest DataDrivenDiffEq.jl?","user":"U69BL50BF","ts":"1609277676.220300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N8zGm","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01A0BP074P"},{"type":"text","text":" are you using the latest DataDrivenDiffEq.jl?"}]}]}],"thread_ts":"1609277676.220300","reply_count":8,"reply_users_count":2,"latest_reply":"1609278867.222300","reply_users":["U01A0BP074P","UNYPJU8DT"],"subscribed":false},{"type":"message","subtype":"channel_join","ts":"1609333364.222800","user":"U01HYEN2ES0","text":"<@U01HYEN2ES0> has joined the channel","inviter":"UEP056STX"},{"client_msg_id":"e3d46b5e-5f7e-4ab8-a323-3515567e0dd3","type":"message","text":"<@U69BL50BF> what if you pair each set of parameters with a prior PP.","user":"UKA81L34J","ts":"1609352666.223400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TrEMW","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" what if you pair each set of parameters with a prior PP."}]}]}]},{"client_msg_id":"75f2d11c-1223-4ff6-8578-d492a46d45d7","type":"message","text":"Or are the parameters symbolic ? so there is a slight complication when thinking about sampling semantics","user":"UKA81L34J","ts":"1609352717.224200","team":"T68168MUP","edited":{"user":"UKA81L34J","ts":"1609352726.000000"},"blocks":[{"type":"rich_text","block_id":"zWI3F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or are the parameters symbolic ? so there is a slight complication when thinking about sampling semantics"}]}]}]},{"client_msg_id":"4845331f-ba7a-483d-9b07-695e8ae7864a","type":"message","text":"<@UKA81L34J> what are you referring to?","user":"U69BL50BF","ts":"1609354092.225600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GPa","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UKA81L34J"},{"type":"text","text":" what are you referring to?"}]}]}]},{"client_msg_id":"b60c1bdf-4937-4a32-821b-60414c7c4f29","type":"message","text":"I‚Äôm looking at the `AbstractSystem` API spec. I suspect it‚Äôs not useful to model random variables at the level of the solvers, nor in the symbolic manipulations. But if you allow users to define a prior PP over parameters that might be the right initial integration idea.","user":"UKA81L34J","ts":"1609354247.226700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x7O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I‚Äôm looking at the "},{"type":"text","text":"AbstractSystem","style":{"code":true}},{"type":"text","text":" API spec. I suspect it‚Äôs not useful to model random variables at the level of the solvers, nor in the symbolic manipulations. But if you allow users to define a prior PP over parameters that might be the right initial integration idea."}]}]}]},{"client_msg_id":"f34f82ba-4abf-4041-91f8-4e9a2f097431","type":"message","text":"My question is: through user manipulation, can the number and type of parameters change ?\n\nBecause if you write an interface which enables the PP semantics - user manipulation now has to respect those semantics.","user":"UKA81L34J","ts":"1609354376.227200","team":"T68168MUP","edited":{"user":"UKA81L34J","ts":"1609354492.000000"},"blocks":[{"type":"rich_text","block_id":"97qg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My question is: through user manipulation, can the number and type of parameters change ?\n\nBecause if you write an interface which enables the PP semantics - user manipulation now has to respect those semantics."}]}]}]},{"client_msg_id":"4cd89857-bad8-48db-9c91-b2f6f4265a4f","type":"message","text":"&gt; My question is: through user manipulation, can the number and type of parameters change ?\nYes","user":"U69BL50BF","ts":"1609354836.227600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ygk","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"My question is: through user manipulation, can the number and type of parameters change ?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Yes"}]}]}]},{"client_msg_id":"091ce4f2-5735-4112-b38e-61f354f02a33","type":"message","text":"If you mean, can a system-&gt;system transformation change the number of parameters? Yes it can","user":"U69BL50BF","ts":"1609354856.228100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9D2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you mean, can a system->system transformation change the number of parameters? Yes it can"}]}]}]},{"client_msg_id":"b63c91ff-e2e8-48af-9e30-f179411966e8","type":"message","text":"you could for example eliminate equations if you see `y = x^2` and `y` isn't used anywhere else","user":"U69BL50BF","ts":"1609354874.228500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qKKP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could for example eliminate equations if you see "},{"type":"text","text":"y = x^2","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"y","style":{"code":true}},{"type":"text","text":" isn't used anywhere else"}]}]}]},{"client_msg_id":"9f5661b9-cadc-4e9b-bb7e-5bab37d6c08c","type":"message","text":"these are the kinds of alias_elimination tools <@U6788D83U> is working on","user":"U69BL50BF","ts":"1609354896.228900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OKJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"these are the kinds of alias_elimination tools "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" is working on"}]}]}]},{"client_msg_id":"349d78df-30e0-40b8-a554-c3d70d677938","type":"message","text":"This is really interesting.","user":"UKA81L34J","ts":"1609355134.229100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JD/F4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is really interesting."}]}]}]},{"client_msg_id":"c1c52c01-a34f-46d3-bd89-070e55ad3af8","type":"message","text":"Unlike AD, the problem with PP is that the semantics are fragile and depend a lot upon the user‚Äôs intentions. If the user expresses a PP - they are making an explicit assumption about the joint.\n\nIf I imagine your re-write example, say :\n```y = x^2\nz = x + y```\nthe user might imagine they are specifying P(x, y, z)    - in Gen that would go like:\n```y ~ DeterministicGenFunc1(x)\nz ~ DeterministicGenFunc2(x, y)```\nSo you‚Äôd get a trace - but if you tried to constrain y (for example), you can‚Äôt symbolically go backwards.","user":"UKA81L34J","ts":"1609355317.230800","team":"T68168MUP","edited":{"user":"UKA81L34J","ts":"1609355599.000000"},"blocks":[{"type":"rich_text","block_id":"Nxt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Unlike AD, the problem with PP is that the semantics are fragile and depend a lot upon the user‚Äôs intentions. If the user expresses a PP - they are making an explicit assumption about the joint.\n\nIf I imagine your re-write example, say :\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"y = x^2\nz = x + y"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"the user might imagine they are specifying P(x, y, z)    - in Gen that would go like:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"y ~ DeterministicGenFunc1(x)\nz ~ DeterministicGenFunc2(x, y)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"So you‚Äôd get a trace - but if you tried to constrain y (for example), you can‚Äôt symbolically go backwards."}]}]}]},{"client_msg_id":"21cbb688-b38d-43a0-8a3a-9d143cde7b92","type":"message","text":"The user has written a distribution over `{ :x =&gt; something, :y =&gt; x^2, :z =&gt; :x + :y }`\n\nnow the transformed program can also express this distribution, but you need to fill in the parts of the trace which are symbolically related.","user":"UKA81L34J","ts":"1609355545.232400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gec","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The user has written a distribution over "},{"type":"text","text":"{ :x => something, :y => x^2, :z => :x + :y }","style":{"code":true}},{"type":"text","text":"\n\nnow the transformed program can also express this distribution, but you need to fill in the parts of the trace which are symbolically related."}]}]}]},{"client_msg_id":"7e8f154b-3f76-441b-9b89-3e5001bcad90","type":"message","text":"So the measure of the first program is related to the measure of the second - you must make sure that:\n```trace this function```\nis equal to\n```transform this function, trace this function```\nso whatever symbolic relationships are stored allows you to ensure functoriality.","user":"UKA81L34J","ts":"1609355815.234000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yW=C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the measure of the first program is related to the measure of the second - you must make sure that:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"trace this function"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is equal to\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"transform this function, trace this function"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"so whatever symbolic relationships are stored allows you to ensure functoriality."}]}]}]},{"client_msg_id":"0e726e0d-f325-49f9-b71e-d1fd5b8e91f0","type":"message","text":"Also, if transformations can perform differentiable invertible mappings to parameters, we obv need the correct Jacobian factor as well","user":"UKA81L34J","ts":"1609355852.234700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fV9Nh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, if transformations can perform differentiable invertible mappings to parameters, we obv need the correct Jacobian factor as well"}]}]}]},{"client_msg_id":"bfc3d8a9-e1ff-44c7-bf72-2c9be78eaf3a","type":"message","text":"<@U69BL50BF> you might also enjoy the trace translators DSL: <https://www.gen.dev/dev/ref/trace_translators/>","user":"UKA81L34J","ts":"1609356273.235200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UdWG","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" you might also enjoy the trace translators DSL: "},{"type":"link","url":"https://www.gen.dev/dev/ref/trace_translators/"}]}]}]},{"client_msg_id":"03601b72-5193-4489-975a-2a6510376823","type":"message","text":"possible dualities","user":"UKA81L34J","ts":"1609356288.235400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UIo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"possible dualities"}]}]}]},{"client_msg_id":"39e6e1c4-ce3c-44c8-a60f-6383e0be7c57","type":"message","text":"Does anyone have a good guide on how to interpret sobol index?","user":"U01G3BG7AFR","ts":"1609365384.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fiozn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does anyone have a good guide on how to interpret sobol index?"}]}]}]},{"client_msg_id":"2da5e4ac-07d5-4012-ab99-18bfc4bb18a2","type":"message","text":"Maybe reading about the definition can help?","user":"U69BL50BF","ts":"1609366361.236800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ghDkv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe reading about the definition can help?"}]}]}]},{"client_msg_id":"3473050e-16d3-4354-8c44-78d523afba62","type":"message","text":"<https://mitmath.github.io/18337/lecture17/global_sensitivity>","user":"U69BL50BF","ts":"1609366361.237000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kvc","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://mitmath.github.io/18337/lecture17/global_sensitivity"}]}]}]},{"client_msg_id":"8325f617-2104-4744-8710-21cb4e92faba","type":"message","text":"thank you for the link","user":"U01G3BG7AFR","ts":"1609367338.237200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7rqM8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you for the link"}]}]}]},{"type":"message","text":"(duplicate from other channel(s), sorry if you are flooded)","user":"U01FR2HFJ7M","ts":"1609830772.239600","team":"T68168MUP","attachments":[{"fallback":"[January 5th, 2021 2:27 PM] jf: Any idea where I can chat/contact people working/using Evolutionary.jl (other than GH issues)?","ts":"1609824439.191600","author_id":"U01FR2HFJ7M","author_subname":"Azzaare","channel_id":"CAKKFNYLD","channel_name":"biology","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Any idea where I can chat/contact people working/using Evolutionary.jl (other than GH issues)?","author_name":"Azzaare","author_link":"https://julialang.slack.com/team/U01FR2HFJ7M","author_icon":"https://avatars.slack-edge.com/2020-11-30/1535756085650_d8d021e24a800bfb16b8_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https://julialang.slack.com/archives/CAKKFNYLD/p1609824439191600?thread_ts=1609824439191600&cid=CAKKFNYLD","is_share":true,"footer":"Thread in #biology"}],"blocks":[{"type":"rich_text","block_id":"chW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(duplicate from other channel(s), sorry if you are flooded)"}]}]}]},{"client_msg_id":"c816c9e6-ddfa-47d9-b3c0-b2eaf27743f3","type":"message","text":"<@U01FR2HFJ7M> they are only on Github afaik","user":"U69BL50BF","ts":"1609840226.239900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I6Y","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01FR2HFJ7M"},{"type":"text","text":" they are only on Github afaik"}]}]}]},{"client_msg_id":"ace3ee7c-cc17-4dc8-8024-4fc73a9aa869","type":"message","text":"thanks <@U69BL50BF>! Well, I will keep trying through issues. But I feel bad to file an issue when it could something very basic.","user":"U01FR2HFJ7M","ts":"1609840588.240900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"urI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":"! Well, I will keep trying through issues. But I feel bad to file an issue when it could something very basic."}]}]}]},{"client_msg_id":"125e1213-658c-441e-8cd1-b6275e472d14","type":"message","text":"Does someone have experience in training neural DEs on snapshot data (instead of timeseries)?","user":"UG194JC5S","ts":"1609974996.242000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GJnzu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does someone have experience in training neural DEs on snapshot data (instead of timeseries)?"}]}]}]},{"client_msg_id":"b283e94e-9e04-4382-9e7e-b5b7c5bafff2","type":"message","text":"I want to perform a type of post processing on the timeseries model output (kde or something similar)\nand then compare this to snap shot data in the loss function. However, using KernelDensity.jl‚Äôs kde, I run into the mutating arrays is not supported - error","user":"UG194JC5S","ts":"1609975224.242700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eARr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to perform a type of post processing on the timeseries model output (kde or something similar)\nand then compare this to snap shot data in the loss function. However, using KernelDensity.jl‚Äôs kde, I run into the mutating arrays is not supported - error"}]}]}]},{"client_msg_id":"f8c9e270-2bcc-4100-8097-0c82e35f359b","type":"message","text":"snapshot data, like just the end point? Or steady state?","user":"U69BL50BF","ts":"1609982075.243300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qOlJE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"snapshot data, like just the end point? Or steady state?"}]}]}]},{"client_msg_id":"9a481b88-b180-4b9f-9191-9d6b830597f1","type":"message","text":"steady state. Like single cell data.","user":"UG194JC5S","ts":"1609987045.243700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"clDxx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"steady state. Like single cell data."}]}]}]},{"client_msg_id":"cd8a0dc9-3e6c-4f46-b966-0d1dadcb6d8e","type":"message","text":"are you using SteadyStateProblem?","user":"U69BL50BF","ts":"1609987078.243900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c7So","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you using SteadyStateProblem?"}]}]}]},{"client_msg_id":"f1d8730d-f456-4af4-accc-d27003f1acdb","type":"message","text":"there's a different adjoint you want to be using there./","user":"U69BL50BF","ts":"1609987084.244100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i+Va","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there's a different adjoint you want to be using there./"}]}]}]},{"client_msg_id":"10b4cd7f-8ad1-4db6-b565-3beaa833b61b","type":"message","text":"I‚Äôm using neural SDEs. I want the output of the trained model to be pseudo time course format.","user":"UG194JC5S","ts":"1609987342.245700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tz5r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I‚Äôm using neural SDEs. I want the output of the trained model to be pseudo time course format."}]}]}]},{"client_msg_id":"42330eac-b658-44da-b8ce-bad0ba4c9f08","type":"message","text":"oh I see, steady state is a little bit less well-defined there as it's more of a distribution","user":"U69BL50BF","ts":"1609987384.246100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eFv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh I see, steady state is a little bit less well-defined there as it's more of a distribution"}]}]}]},{"client_msg_id":"c40ac9b6-b475-4cda-98e4-aebb3d1a6544","type":"message","text":"yeah you'd have to differentiate through the full solve.","user":"U69BL50BF","ts":"1609987395.246400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OF9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah you'd have to differentiate through the full solve."}]}]}]},{"client_msg_id":"769add60-71b5-4e6e-8843-8251bf830418","type":"message","text":"but the KDE algorithm is not written in a differentiable way FWICT","user":"U69BL50BF","ts":"1609987418.246800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oPGqs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but the KDE algorithm is not written in a differentiable way FWICT"}]}]}]},{"client_msg_id":"f1e92e49-4642-49d2-a87b-17fe9aff138c","type":"message","text":"I would modify it to be a non-mutating one.","user":"U69BL50BF","ts":"1609987425.247100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C0a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would modify it to be a non-mutating one."}]}]}]},{"client_msg_id":"affb1f66-d6d1-49c1-968e-bf91efca0962","type":"message","text":"or try handling it in PDE form.","user":"U69BL50BF","ts":"1609987442.247300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"joJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or try handling it in PDE form."}]}]}]},{"client_msg_id":"45f73db6-7d66-4195-97b1-069c289b612f","type":"message","text":"I wrote a little counter function which iterates over a grid and counts the elements of the neuralSDE solution which fall into the respective bucket . Then I don‚Äôt get the mutable error. In fact I dont get any error but during the training the model is not updated (prediction stays the same and loss doesn‚Äôt change).","user":"UG194JC5S","ts":"1609987679.250100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wEW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wrote a little counter function which iterates over a grid and counts the elements of the neuralSDE solution which fall into the respective bucket . Then I don‚Äôt get the mutable error. In fact I dont get any error but during the training the model is not updated (prediction stays the same and loss doesn‚Äôt change)."}]}]}]},{"client_msg_id":"e08fb357-bc25-4679-994f-bc867b164994","type":"message","text":"did you check the gradients?","user":"U69BL50BF","ts":"1609987712.250300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tDGr3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you check the gradients?"}]}]}]},{"client_msg_id":"b68cb06a-128c-4d94-8045-d860ddd04766","type":"message","text":"it returns (nothing,)","user":"UG194JC5S","ts":"1609988581.250500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iE/f7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it returns (nothing,)"}]}]}]},{"client_msg_id":"30a64ce7-c292-4f59-ae14-b8c1400946ea","type":"message","text":"yeah that's your problem haha","user":"U69BL50BF","ts":"1609989727.250700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tOh7d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that's your problem haha"}]}]}]},{"client_msg_id":"4212879b-39a2-43b1-848e-de02a0f83860","type":"message","text":"you'll want to find out what broke the link in the derivatives.","user":"U69BL50BF","ts":"1609989735.251000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1QI3x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'll want to find out what broke the link in the derivatives."}]}]}]},{"client_msg_id":"0246ce59-ba65-493a-baae-36d39fc82961","type":"message","text":"Hey! How are you guys doing?\nIm playing a little bit with Universal Odes. In particular with the lotka-volterra ode.\n\nI¬¥m creating data from this system adding a silly ‚Äúhuman hunt‚Äù part in the equation (It is not really a new component of the equation, but rather a constant that subtracts from the birth rate. Perhaps here is the problem? )\n```function lotka_volterra_hunt(du,u,p,t)\n    #Lotka-Volterra function with humans that hunt\n    pray, pred  = u\n    birth_pray, mort_pray, birth_pred, mort_pred, hunt_pray, hunt_pred = p\n\n    du[1]  = (birth_pray - mort_pray * pred - hunt_pray)*pray\n    du[2]  = (birth_pred * pray - mort_pred - hunt_pred)*pred\nend```\nAnd i want a NN to recover that specific part doing:\n```L = FastChain(FastDense(2, 32, tanh),FastDense(32, 32, tanh), FastDense(32, 2))\np = initial_params(L)\n\nfunction dudt_(u, p,t)\n    x, y = u\n    z = L(u,p)\n    [p_[1]*x + p_[2]*x*y + z[1],\n    -p_[4]*y + p_[3]*x*y + z[2]]\nend```\nThe problem is that when i try to solve this system doing:¬†`sol_nn = solve(prob_nn, Tsit5(), u0 = u0, p = p, saveat = solution.t)`¬†I get this error\n```ERROR: MethodError: no method matching iterate(::DataStructures.BinaryHeap{Float32,DataStructures.LessThan})\nClosest candidates are:\n  iterate(::Base.AsyncGenerator, ::Base.AsyncGeneratorState) at asyncmap.jl:382\n  iterate(::Base.AsyncGenerator) at asyncmap.jl:382\n  iterate(::Combinatorics.Combinations)```\nAny help will be appreciated!","user":"U01A0BP074P","ts":"1610047406.252400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mc5b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey! How are you guys doing?\nIm playing a little bit with Universal Odes. In particular with the lotka-volterra ode.\n\nI¬¥m creating data from this system adding a silly ‚Äúhuman hunt‚Äù part in the equation (It is not really a new component of the equation, but rather a constant that subtracts from the birth rate. Perhaps here is the problem? )\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function lotka_volterra_hunt(du,u,p,t)\n    #Lotka-Volterra function with humans that hunt\n    pray, pred  = u\n    birth_pray, mort_pray, birth_pred, mort_pred, hunt_pray, hunt_pred = p\n\n    du[1]  = (birth_pray - mort_pray * pred - hunt_pray)*pray\n    du[2]  = (birth_pred * pray - mort_pred - hunt_pred)*pred\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd i want a NN to recover that specific part doing:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"L = FastChain(FastDense(2, 32, tanh),FastDense(32, 32, tanh), FastDense(32, 2))\np = initial_params(L)\n\nfunction dudt_(u, p,t)\n    x, y = u\n    z = L(u,p)\n    [p_[1]*x + p_[2]*x*y + z[1],\n    -p_[4]*y + p_[3]*x*y + z[2]]\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThe problem is that when i try to solve this system doing:¬†"},{"type":"text","text":"sol_nn = solve(prob_nn, Tsit5(), u0 = u0, p = p, saveat = solution.t)","style":{"code":true}},{"type":"text","text":"¬†I get this error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: no method matching iterate(::DataStructures.BinaryHeap{Float32,DataStructures.LessThan})\nClosest candidates are:\n  iterate(::Base.AsyncGenerator, ::Base.AsyncGeneratorState) at asyncmap.jl:382\n  iterate(::Base.AsyncGenerator) at asyncmap.jl:382\n  iterate(::Combinatorics.Combinations)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAny help will be appreciated!"}]}]}]},{"type":"message","text":"When having manifold constrained, non linearly constrained optimization problems (optimizing constrained dynamical system basically) there are many ways to relax the problem.\nFor example using multiple shooting, using simpler integration schemes, discretizing the system and handing it to NLP, using a approximation of the dynamic constrains, relaxing other constraints, sampling techniques for time warying parameters (for example Rapidly-exploring random trees)...\nIs someone aware of an (meta) algorithm which uses all those relaxation techniques, explores which are effective for that problem when just given a problem description (something like a MTK model)?\nBonus points for multi objective support.","user":"U9MD78Z9N","ts":"1610115420.253100","team":"T68168MUP","edited":{"user":"U9MD78Z9N","ts":"1610116234.000000"}},{"client_msg_id":"dad38cc6-6b03-4531-be89-2b8f7db4fee4","type":"message","text":"nope","user":"U69BL50BF","ts":"1610117805.253600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pU11","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nope"}]}]}],"thread_ts":"1610117805.253600","reply_count":3,"reply_users_count":2,"latest_reply":"1610118385.254500","reply_users":["U9MD78Z9N","U69BL50BF"],"subscribed":false},{"client_msg_id":"45104ecc-31c4-42ee-8cf9-e35e52e5dd08","type":"message","text":"but that would be cool","user":"U69BL50BF","ts":"1610117808.253800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+/kG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but that would be cool"}]}]}]},{"type":"message","text":"Yeah, that's something i want by the time i retire.","user":"U9MD78Z9N","ts":"1610117925.253900","team":"T68168MUP"},{"type":"message","subtype":"thread_broadcast","text":"Did i miss any form of relaxation?","user":"U9MD78Z9N","ts":"1610118084.254000","thread_ts":"1610117805.253600","root":{"client_msg_id":"dad38cc6-6b03-4531-be89-2b8f7db4fee4","type":"message","text":"nope","user":"U69BL50BF","ts":"1610117805.253600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pU11","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nope"}]}]}],"thread_ts":"1610117805.253600","reply_count":3,"reply_users_count":2,"latest_reply":"1610118385.254500","reply_users":["U9MD78Z9N","U69BL50BF"],"subscribed":false}},{"client_msg_id":"d19af05f-c374-46fc-98bc-6469954acd30","type":"message","text":"Could this be a thing for AlphaZero.jl?\nIt feels like that ‚ÄúI would use a traditional minimax classical AI search, but it is 2021 so I have to use ML‚Äù, type problem.","user":"U6A936746","ts":"1610121801.256000","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1610121804.000000"},"blocks":[{"type":"rich_text","block_id":"RLG=t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could this be a thing for AlphaZero.jl?\nIt feels like that ‚ÄúI would use a traditional minimax classical AI search, but it is 2021 so I have to use ML‚Äù, type problem."}]}]}]},{"client_msg_id":"abbfd4b5-408e-430f-8034-ec08b5a981fb","type":"message","text":"Wouldn‚Äôt something like bayesian optimization work? In Python you can use hyperopt‚Ä¶ I don‚Äôt know the equivalent in Julia","user":"U01GRGPPW2C","ts":"1610122736.258100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0i=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wouldn‚Äôt something like bayesian optimization work? In Python you can use hyperopt‚Ä¶ I don‚Äôt know the equivalent in Julia"}]}]}]},{"client_msg_id":"47dbc9d8-4b73-4608-b760-7c8d700183b8","type":"message","text":"HyperOpt.jl or BayesianOptimization.jl directly","user":"U6A936746","ts":"1610125951.258900","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1610126095.000000"},"blocks":[{"type":"rich_text","block_id":"0l8bn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"HyperOpt.jl or BayesianOptimization.jl directly"}]}]}]},{"client_msg_id":"3bb5f6c7-5520-4f58-a6f5-e1adfcf9209d","type":"message","text":"but idk that baye-opt over different discrete strategies works.","user":"U6A936746","ts":"1610125992.259700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"41HX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but idk that baye-opt over different discrete strategies works."}]}]}]},{"client_msg_id":"c702bf36-4f00-4654-954c-935d98f4a070","type":"message","text":"Thanks for the pointers on HyperOpt.jl and BayesianOptimization.jl ^^","user":"U01GRGPPW2C","ts":"1610127386.261100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5L=X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the pointers on HyperOpt.jl and BayesianOptimization.jl ^^"}]}]}]},{"client_msg_id":"72fe2216-0fd8-425b-873f-acba66c54adf","type":"message","text":"I get a `MethodError: no method matching typemax(::Type{Array{Float64,1}})` when trying to use `DiffEqFlux.sciml_train(...)` on an ODE problem originating from a discretized PDE. The error is from `/home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91` where it seems like my kode produces a `prob.u0` that's an `Array{Float,1}` but should be a number type. Do anyone have experience with this kind of error? (Stacktrace in the comments)","user":"U016VPPCQA1","ts":"1610145813.265800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fkv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I get a "},{"type":"text","text":"MethodError: no method matching typemax(::Type{Array{Float64,1}})","style":{"code":true}},{"type":"text","text":" when trying to use "},{"type":"text","text":"DiffEqFlux.sciml_train(...)","style":{"code":true}},{"type":"text","text":" on an ODE problem originating from a discretized PDE. The error is from "},{"type":"text","text":"/home/simen/.julia/packages/GalacticOptim/8JANI/src/solve.jl:91","style":{"code":true}},{"type":"text","text":" where it seems like my kode produces a "},{"type":"text","text":"prob.u0","style":{"code":true}},{"type":"text","text":" that's an "},{"type":"text","text":"Array{Float,1}","style":{"code":true}},{"type":"text","text":" but should be a number type. Do anyone have experience with this kind of error? (Stacktrace in the comments)"}]}]}],"thread_ts":"1610145813.265800","reply_count":1,"reply_users_count":1,"latest_reply":"1610145843.265900","reply_users":["U016VPPCQA1"],"subscribed":false},{"client_msg_id":"006699b9-57ec-431a-8a26-639f28738e69","type":"message","text":"We updated everything to the new buildkite CI for GPUs and fastcpu (looking at you StochasticDiffEq weak adaptive :wink: ). Some GPU tests are failing. <@U6788D83U> and all try and pitch in when you can for those. They should be simple little things...","user":"U69BL50BF","ts":"1610213669.267300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cuF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We updated everything to the new buildkite CI for GPUs and fastcpu (looking at you StochasticDiffEq weak adaptive "},{"type":"emoji","name":"wink"},{"type":"text","text":" ). Some GPU tests are failing. "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" and all try and pitch in when you can for those. They should be simple little things..."}]}]}]},{"type":"message","subtype":"channel_topic","ts":"1610213692.267400","user":"U69BL50BF","text":"<@U69BL50BF> set the channel topic: Discussion for the SciML organization. For questions specific to differential equation solvers, see <#C7T968HRU|diffeq-bridged>","topic":"Discussion for the SciML organization. For questions specific to differential equation solvers, see <#C7T968HRU|diffeq-bridged>"},{"type":"message","text":"<@U69BL50BF> I think there might be an error in dynamics of the helicopter. The dimensionality does not check out for the last term in the upper line in the screenshot. It is m^2 and should be kg*m^2. I already filed an issue and will double check tomorrow.","files":[{"id":"F01K8UKKZG8","created":1610481372,"timestamp":1610481372,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UNYPJU8DT","editable":false,"size":32454,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01K8UKKZG8/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01K8UKKZG8/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_360.png","thumb_360_w":360,"thumb_360_h":70,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_480.png","thumb_480_w":480,"thumb_480_h":93,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_720.png","thumb_720_w":720,"thumb_720_h":139,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_800.png","thumb_800_w":800,"thumb_800_h":155,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01K8UKKZG8-7edf375e0d/image_960.png","thumb_960_w":960,"thumb_960_h":186,"original_w":982,"original_h":190,"thumb_tiny":"AwAJADDSIzRj6UtFADce1KPpS0UAJz7UvPtRRQB//9k=","permalink":"https://julialang.slack.com/files/UNYPJU8DT/F01K8UKKZG8/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01K8UKKZG8-94aa83af59","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"3NLKi","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I think there might be an error in dynamics of the helicopter. The dimensionality does not check out for the last term in the upper line in the screenshot. It is m^2 and should be kg*m^2. I already filed an issue and will double check tomorrow."}]}]}],"user":"UNYPJU8DT","display_as_bot":false,"ts":"1610481547.283000"},{"client_msg_id":"ecaac49f-9cf8-4b4d-bf1f-d4651b629af3","type":"message","text":"The code has the same structure. So maybe this is intended?","user":"UNYPJU8DT","ts":"1610481602.284100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vMx0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The code has the same structure. So maybe this is intended?"}]}]}]},{"client_msg_id":"aeeec6cf-c1f6-4b5c-a8df-25cd9c1039d6","type":"message","text":"Hmm not sure","user":"U69BL50BF","ts":"1610492434.284400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ht4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm not sure"}]}]}]},{"client_msg_id":"85d67787-081f-4087-b3fe-7b761f8602e2","type":"message","text":"You'll have to ask Bernt","user":"U69BL50BF","ts":"1610492450.284900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bzrdz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You'll have to ask Bernt"}]}]}]},{"client_msg_id":"ba687040-89a9-41c0-aadd-4af5e8a2133d","type":"message","text":"Did people run the neural ODE example (<https://diffeqflux.sciml.ai/dev/GPUs/>)? using GPU vs CPU, do you remember how much of performance difference you got?","user":"UG194JC5S","ts":"1610522187.285900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yGW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Did people run the neural ODE example ("},{"type":"link","url":"https://diffeqflux.sciml.ai/dev/GPUs/"},{"type":"text","text":")? using GPU vs CPU, do you remember how much of performance difference you got?"}]}]}]},{"type":"message","subtype":"thread_broadcast","text":"As the loss function for the training of neural DEs on snap shot data, I implemented this counter function in a very naive manner. Something like:\n`lims = Array(range(1, step = 1, stop = 4)) # the \"buckets\"`\n`counter_of_prediction = [count(x -&gt; lims[ind_lim] &lt;= x &lt; lims[ind_lim + 1], prediction) for ind_lim in 1:length(lims) - 1] # count elements in each bucket for current prediction`\n`loss = sum(abs2, counter_of_prediction .- counter_of_observed_data) # compare number of elements in each bucket for observation and prediction`\nIn practice I would then define¬†‚Äúlims‚Äù¬†more dynamically in function of the observed data and adjust the bucket size, too. However, if I‚Äôm not mistaken, the result of this idea would always include the fact that the loss is defined as a step function, even if the steps get very small. Does the gradient function of Zygote only handle differentiable, continuous functions and therefore every loss function for DiffEqFlux has to be like that? Are there any ticks I should be aware of that could help me here?","user":"UG194JC5S","ts":"1610524310.286000","thread_ts":"1609989735.251000","root":{"client_msg_id":"4212879b-39a2-43b1-848e-de02a0f83860","type":"message","text":"you'll want to find out what broke the link in the derivatives.","user":"U69BL50BF","ts":"1609989735.251000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1QI3x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'll want to find out what broke the link in the derivatives."}]}]}],"thread_ts":"1609989735.251000","reply_count":1,"reply_users_count":1,"latest_reply":"1610524310.286000","reply_users":["UG194JC5S"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"HPs54","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As the loss function for the training of neural DEs on snap shot data, I implemented this counter function in a very naive manner. Something like:\n"},{"type":"text","text":"lims = Array(range(1, step = 1, stop = 4)) # the \"buckets\"","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"counter_of_prediction = [count(x -> lims[ind_lim] <= x < lims[ind_lim + 1], prediction) for ind_lim in 1:length(lims) - 1] # count elements in each bucket for current prediction","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"loss = sum(abs2, counter_of_prediction .- counter_of_observed_data) # compare number of elements in each bucket for observation and prediction","style":{"code":true}},{"type":"text","text":"\nIn practice I would then define¬†‚Äúlims‚Äù¬†more dynamically in function of the observed data and adjust the bucket size, too. However, if I‚Äôm not mistaken, the result of this idea would always include the fact that the loss is defined as a step function, even if the steps get very small. Does the gradient function of Zygote only handle differentiable, continuous functions and therefore every loss function for DiffEqFlux has to be like that? Are there any ticks I should be aware of that could help me here?"}]}]}],"client_msg_id":"0c89e310-6adc-4173-83e3-d5e40b303430"},{"type":"message","subtype":"thread_broadcast","text":"Hey Elisabeth! Hope you‚Äôre well. I don‚Äôt remember and I have the impression that too many things have improved to make GPU stuff more performant. Also there‚Äôs a few bigger GPU models that are mostly the same with beefier neural network differential equation. Not sure where to find the nicest examples to benchmark these performance questions, but am sure the diffeq benchmark suite could accommodate/already has  these kinds of benchmarks?","user":"U90JR0C80","ts":"1610564602.294700","thread_ts":"1610522187.285900","root":{"client_msg_id":"ba687040-89a9-41c0-aadd-4af5e8a2133d","type":"message","text":"Did people run the neural ODE example (<https://diffeqflux.sciml.ai/dev/GPUs/>)? using GPU vs CPU, do you remember how much of performance difference you got?","user":"UG194JC5S","ts":"1610522187.285900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yGW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Did people run the neural ODE example ("},{"type":"link","url":"https://diffeqflux.sciml.ai/dev/GPUs/"},{"type":"text","text":")? using GPU vs CPU, do you remember how much of performance difference you got?"}]}]}],"thread_ts":"1610522187.285900","reply_count":2,"reply_users_count":2,"latest_reply":"1610564602.294700","reply_users":["U69BL50BF","U90JR0C80"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"X5Ybr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey Elisabeth! Hope you‚Äôre well. I don‚Äôt remember and I have the impression that too many things have improved to make GPU stuff more performant. Also there‚Äôs a few bigger GPU models that are mostly the same with beefier neural network differential equation. Not sure where to find the nicest examples to benchmark these performance questions, but am sure the diffeq benchmark suite could accommodate/already has  these kinds of benchmarks?"}]}]}],"client_msg_id":"9169FE13-4CD0-4451-B482-183ED4078156"}]}