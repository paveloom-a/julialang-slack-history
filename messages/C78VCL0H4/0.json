{"cursor": 3, "messages": [{"client_msg_id":"588754ea-48cd-42ef-83aa-4dec42fc115d","type":"message","text":"Generally yes, those function calls should get inlined in most cases","user":"UM30MT6RF","ts":"1612306074.012800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RYkS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Generally yes, those function calls should get inlined in most cases"}]}]}]},{"type":"message","subtype":"bot_message","text":"how about tail recursion?","ts":"1612306114.012900","username":"[irc] <s_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"how about tail recursion?","verbatim":false}}]},{"client_msg_id":"083e9841-4848-4e5d-9932-3e9ae558dabe","type":"message","text":"No, Julia doesn't have tce","user":"UM30MT6RF","ts":"1612306142.013400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Kmc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, Julia doesn't have tce"}]}]}]},{"type":"message","subtype":"bot_message","text":"No tail recursion optimizations.","ts":"1612306146.013500","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"No tail recursion optimizations.","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"only a slight bummer. for the purists","ts":"1612306202.013600","username":"[irc] <s_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"only a slight bummer. for the purists","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"but hey if you add it someone could rewrite SICP in Julia. That'd be fun","ts":"1612306243.013700","username":"[irc] <s_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"but hey if you add it someone could rewrite SICP in Julia. That'd be fun","verbatim":false}}]},{"client_msg_id":"1b83a48c-692a-42d3-9882-3c278d9f11c8","type":"message","text":"If Shashi ever gets free time he will :rolling_on_the_floor_laughing:","user":"U69BL50BF","ts":"1612306334.014000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OQT0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If Shashi ever gets free time he will "},{"type":"emoji","name":"rolling_on_the_floor_laughing"}]}]}]},{"client_msg_id":"e2cbad15-1112-4b8f-abf0-84ea6beb69dc","type":"message","text":"See <https://github.com/JuliaLang/julia/issues/4964|https://github.com/JuliaLang/julia/issues/4964>, so it's probably unlikely we will have tce anytime soon.","user":"UM30MT6RF","ts":"1612306480.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N3+V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"See "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/4964","text":"https://github.com/JuliaLang/julia/issues/4964"},{"type":"text","text":", so it's probably unlikely we will have tce anytime soon."}]}]}]},{"type":"message","subtype":"bot_message","text":"I forget if it still works, but Lazy.jl does have a macro for tail call elimination.","ts":"1612306486.015500","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I forget if it still works, but Lazy.jl does have a macro for tail call elimination.","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"With AbstractInterppreter, I thine could do a much more general version","ts":"1612306524.015600","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"With AbstractInterppreter, I thine could do a much more general version","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"can i compile to binary in Julia easily?","ts":"1612307116.015700","username":"[irc] <s_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"can i compile to binary in Julia easily?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"All julia functions are compiled to binary just in time. Caching and distributing those binaries is not easy though.","ts":"1612307709.015800","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"All julia functions are compiled to binary just in time. Caching and distributing those binaries is not easy though.","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I tested Lazy.<@UCKAK5Z0R> for tail call elmination and it seems to work","ts":"1612308053.015900","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I tested Lazy.<@UCKAK5Z0R> for tail call elmination and it seems to work","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"let's say i have two similarly shaped arrays [1, 2, 3, 4] and [0, 1, 1, 0], and i wanted to get the values from the first one for which the value in the second one is 1 (or true), so [2, 3]","ts":"1612357078.016000","username":"[irc] <Andriamanitra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"let's say i have two similarly shaped arrays [1, 2, 3, 4] and [0, 1, 1, 0], and i wanted to get the values from the first one for which the value in the second one is 1 (or true), so [2, 3]","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"there must be a function for this, right?","ts":"1612357082.016100","username":"[irc] <Andriamanitra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"there must be a function for this, right?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"(i know there are ways around it but i'm wondering specifically about a built-in function that does this)","ts":"1612357202.016200","username":"[irc] <Andriamanitra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"(i know there are ways around it but i'm wondering specifically about a built-in function that does this)","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"@Andriamanitra try [1, 2, 3, 4][[false, true, true, false]]","ts":"1612358773.016300","username":"[irc] <Major_Biscuit>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"@Andriamanitra try [1, 2, 3, 4][[false, true, true, false]]","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Julia supports logical indexing","ts":"1612358815.016400","username":"[irc] <Major_Biscuit>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Julia supports logical indexing","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"ah, i knew it would be something simple, thanks!","ts":"1612358829.016500","username":"[irc] <Andriamanitra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"ah, i knew it would be something simple, thanks!","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"for reference <https://docs.julialang.org/en/v1/manual/arrays/#Logical-indexing>","ts":"1612358864.016600","username":"[irc] <Major_Biscuit>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"for reference <https://docs.julialang.org/en/v1/manual/arrays/#Logical-indexing>","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"you're welcome","ts":"1612358892.016700","username":"[irc] <Major_Biscuit>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"you're welcome","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Numpy calls it \"fancy indexing\"","ts":"1612360282.016800","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Numpy calls it \"fancy indexing\"","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"If one felt glib one could say that says something about their respective philosophies :p","ts":"1612360309.016900","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"If one felt glib one could say that says something about their respective philosophies :p","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"heh its popular to lay turds on numpy i've noticed","ts":"1612367433.017000","username":"[irc] <s_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"heh its popular to lay turds on numpy i've noticed","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Hi everyone! I'm trying to use BinaryBuilder on a system where I don't want `sudo`, and it tells me \"Unable to run unprivileged containers on this system!\", while in fact the whole userns functionality is enabled","ts":"1612431820.017200","username":"[irc] <[exa]>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Hi everyone! I'm trying to use BinaryBuilder on a system where I don't want `sudo`, and it tells me \"Unable to run unprivileged containers on this system!\", while in fact the whole userns functionality is enabled","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"what do I need to enable/tune so that it can run the unprivileged containers?","ts":"1612431841.017300","username":"[irc] <[exa]>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"what do I need to enable/tune so that it can run the unprivileged containers?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"If I find myself constantly wrapping hcat(X...) around some calculation result X, am I doing something wrong?","ts":"1612456658.017400","username":"[irc] <jensln>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"If I find myself constantly wrapping hcat(X...) around some calculation result X, am I doing something wrong?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Here I want to create a n×n×2 array, but I get an n×n array with 2-arrays: <https://bpa.st/ROMA>","ts":"1612457526.017600","username":"[irc] <jensln>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Here I want to create a n×n×2 array, but I get an n×n array with 2-arrays: <https://bpa.st/ROMA>","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Is there no \"elegant\" way to get the intended shape? Do I have to resort to h/vcats ...s and reshapes?","ts":"1612457575.017700","username":"[irc] <jensln>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Is there no \"elegant\" way to get the intended shape? Do I have to resort to h/vcats ...s and reshapes?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"You could write  M = [(x, y)[i] for x in X, y in Y, i in 1:2]","ts":"1612458148.017800","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"You could write\n\nM = [(x, y)[i] for x in X, y in Y, i in 1:2]","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":":o","ts":"1612458197.017900","username":"[irc] <jensln>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":":o","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Thanks!","ts":"1612458209.018000","username":"[irc] <jensln>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Thanks!","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"No problem","ts":"1612458236.018100","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"No problem","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"hi everyone. i've been trying to reproduce a vector field plot example on julia 1.5.3 (from the answer here: <https://stackoverflow.com/a/52362537/4194280>), but `quiver()` raises an error about the dimensions of y. has something changed in Plots regarding the expansion of input data since this answer was posted? (I know there are other working methods to make this plot, but I'm curious why this example doesn't work anymore)","ts":"1612633365.018200","username":"[irc] <crendel>","bot_id":"B795XHD0X","attachments":[{"service_name":"Stack Overflow","title":"How can I plot vector field on Julia?","title_link":"https://stackoverflow.com/a/52362537/4194280","text":"I'm new on Julia and I've tried to make the code of following post How to plot a vector field in Julia?, but, didn't work, so, I would like to know if it's possible to plot with the package \"Plots\"...","fallback":"Stack Overflow: How can I plot vector field on Julia?","thumb_url":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png?v=73d79a89bded","from_url":"https://stackoverflow.com/a/52362537/4194280","thumb_width":316,"thumb_height":316,"service_icon":"https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a","id":1,"original_url":"https://stackoverflow.com/a/52362537/4194280"}],"blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"hi everyone. i've been trying to reproduce a vector field plot example on julia 1.5.3 (from the answer here: <https://stackoverflow.com/a/52362537/4194280>), but `quiver()` raises an error about the dimensions of y. has something changed in Plots regarding the expansion of input data since this answer was posted? (I know there are other working methods to make this plot, but I'm curious why this example doesn't work anymore)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1612633366.000000"}},{"type":"message","subtype":"bot_message","text":"hi","ts":"1612842287.018600","username":"[irc] <pos1tr0n>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"hi","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I just posted an answer on SO","ts":"1612962020.018800","username":"[gitter] <n89hnfnqa:matrix.org>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I just posted an answer on SO","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Hi, I am new to the Julia language and I would appreciate any help to following problem: this works fine 'foreach(println, string1, string2)'. But how can I access each character of the strings?","ts":"1613056812.018900","username":"[irc] <Julia_with_a_N>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Hi, I am new to the Julia language and I would appreciate any help to following problem: this works fine 'foreach(println, string1, string2)'. But how can I access each character of the strings?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"How do you mean?","ts":"1613056870.019000","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"How do you mean?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"esp. like  println(\"$char1, $char2\") instead of println","ts":"1613056907.019100","username":"[irc] <Julia_with_a_N>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"esp. like  println(\"$char1, $char2\") instead of println","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"You can replace 'println' with any function that takes two arguments","ts":"1613056970.019200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"You can replace 'println' with any function that takes two arguments","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"eg foreach((c1,c2)-&gt;println(c1,\" and \",c2), string1, string2)","ts":"1613057033.019300","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"eg foreach((c1,c2)-&gt;println(c1,\" and \",c2), string1, string2)","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"@dTal Great. Thanks a lot, you saved my day!","ts":"1613057191.019400","username":"[irc] <Julia_with_a_N>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"@dTal Great. Thanks a lot, you saved my day!","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"No problem! :D","ts":"1613057247.019500","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"No problem! :D","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"=-98567=-0987WERTYUIOP´[","ts":"1613271576.019700","username":"[gitter] <Lim-Apo>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"=-98567=-0987WERTYUIOP´[","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":" =-´P~Ç;.,-//;.B NVCX","ts":"1613426219.019800","username":"[gitter] <Lim-Apo>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"\n=-´P~Ç;.,-//;.B NVCX","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"so I spent this morning writing a threaded FIFO queue in julia, only to discover over lunch there already is one, <https://juliacollections.github.io/DataStructures.jl/latest/stack_and_queue/>","ts":"1613521177.019900","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"so I spent this morning writing a threaded FIFO queue in julia, only to discover over lunch there already is one, <https://juliacollections.github.io/DataStructures.jl/latest/stack_and_queue/>","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"_queues \"i have no idea what i'm doing\" meme_","ts":"1613521196.020000","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"_queues \"i have no idea what i'm doing\" meme_","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Damn, looks like the PiGPIO.jl is pretty broken","ts":"1613651764.020400","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Damn, looks like the PiGPIO.jl is pretty broken","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"actually it looks like someone basically just copied and pasted a bunch of Python code verbatim and only changed it syntactically","ts":"1613653292.020500","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"actually it looks like someone basically just copied and pasted a bunch of Python code verbatim and only changed it syntactically","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Performance q: I am using @profview on some code I have, and I see that 90% of the time is spent in operators.jl, +: line 538. The line calling (+) is a long line of terms being added together (36 in all). Is this to be expected? Shoult I really see such a low level operator unless somewhing is wrong?","ts":"1613687574.020600","username":"[irc] <Miroboru>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Performance q: I am using @profview on some code I have, and I see that 90% of the time is spent in operators.jl, +: line 538. The line calling (+) is a long line of terms being added together (36 in all). Is this to be expected? Shoult I really see such a low level operator unless somewhing is wrong?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Running Julia 1.5.3 under Linux btw...","ts":"1613687644.020700","username":"[irc] <Miroboru>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Running Julia 1.5.3 under Linux btw...","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"The Fortran code I ported from (hence the 36 term line :P ) runs about 5 times faster - which shouldn't be the case?","ts":"1613687731.020800","username":"[irc] <Miroboru>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"The Fortran code I ported from (hence the 36 term line :P ) runs about 5 times faster - which shouldn't be the case?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"are the types different? if there's a lot of extra type conversions in a tight loop or something that could easily become a performance issue","ts":"1613692286.020900","username":"[irc] <Andriamanitra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"are the types different? if there's a lot of extra type conversions in a tight loop or something that could easily become a performance issue","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Hm, so @async routines are supposed to yield on blocking IO yes?","ts":"1613758701.021000","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Hm, so @async routines are supposed to yield on blocking IO yes?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I think VideoIO.read() blocks but doesn't yield","ts":"1613758737.021100","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I think VideoIO.read() blocks but doesn't yield","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Is there a simple way to spawn a thread? Everything I'm reading is talking about parallel for-loops, or assigning workers to thread pools. Is there nothing like Python's Thread(target=worker)?","ts":"1613761542.021200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Is there a simple way to spawn a thread? Everything I'm reading is talking about parallel for-loops, or assigning workers to thread pools. Is there nothing like Python's Thread(target=worker)?","verbatim":false}}]},{"client_msg_id":"3d5f4f7e-2895-422b-bb14-60bdf7266937","type":"message","text":"Threads.@spawn","user":"U7HAYKY9X","ts":"1613762940.021400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BG5F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Threads.@spawn"}]}]}]},{"type":"message","subtype":"bot_message","text":"Hm, I tried that but the thread immediately blocked all the same","ts":"1613763201.021500","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Hm, I tried that but the thread immediately blocked all the same","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I assumed I didn't understand what it was supposed to do","ts":"1613763213.021600","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I assumed I didn't understand what it was supposed to do","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"So to be clear, you should be able to do Theads.@spawn while true; sleep(1); end and not block?","ts":"1613763292.021700","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"So to be clear, you should be able to do Theads.@spawn while true; sleep(1); end and not block?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Okay, that does actually work. Hm.","ts":"1613763385.021800","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Okay, that does actually work. Hm.","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Thanks jakni, I'll investigate further","ts":"1613763411.021900","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Thanks jakni, I'll investigate further","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Okay, so Threads.@spawn while true; end blocks","ts":"1613763558.022100","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Okay, so Threads.@spawn while true; end blocks","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"so I guess there still needs to be some yielding done somewhere?","ts":"1613763578.022200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"so I guess there still needs to be some yielding done somewhere?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"in which case I don't really see the point?","ts":"1613763621.022300","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"in which case I don't really see the point?","verbatim":false}}]},{"client_msg_id":"82db012f-52c5-4f7c-be48-1aecaebf838b","type":"message","text":"That's weird - it ussually doesn't block. Maybe `while true end` is special somehow","user":"U7HAYKY9X","ts":"1613763852.022800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zb+n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's weird - it ussually doesn't block. Maybe "},{"type":"text","text":"while true end","style":{"code":true}},{"type":"text","text":" is special somehow"}]}]}]},{"type":"message","subtype":"bot_message","text":"No, my whole problem is that it blocks on my task as well","ts":"1613763904.023000","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"No, my whole problem is that it blocks on my task as well","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I want to keep a camera ring buffer filled, but VideoIO.jl blocks on read (good) but doesn't yield (bad)","ts":"1613763953.023100","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I want to keep a camera ring buffer filled, but VideoIO.jl blocks on read (good) but doesn't yield (bad)","verbatim":false}}]},{"client_msg_id":"a289cbfe-361e-4fc4-b59f-8d4f874c750f","type":"message","text":"Ah, wait, do you have more than 1 thread enabled when you start Julia?","user":"U7HAYKY9X","ts":"1613764034.023700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WoN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, wait, do you have more than 1 thread enabled when you start Julia?"}]}]}]},{"client_msg_id":"23fb3b50-f411-4f2d-b8df-849c67d037c5","type":"message","text":"What does Threads.nthreads() give?","user":"U7HAYKY9X","ts":"1613764055.024100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tPHa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What does Threads.nthreads() give?"}]}]}]},{"type":"message","subtype":"bot_message","text":"...1","ts":"1613764071.024200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"...1","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"that's weird","ts":"1613764079.024400","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"that's weird","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I thought it was meant to detect your core count","ts":"1613764089.024700","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I thought it was meant to detect your core count","verbatim":false}}]},{"client_msg_id":"a97bc2d4-4168-42b5-90d1-89b7aaab4f66","type":"message","text":"Start julia with `julia -t 2` to use a pool of 2 threads","user":"U7HAYKY9X","ts":"1613764094.024900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WlQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Start julia with "},{"type":"text","text":"julia -t 2","style":{"code":true}},{"type":"text","text":" to use a pool of 2 threads"}]}]}]},{"type":"message","subtype":"bot_message","text":"yes, now it doesn't block","ts":"1613764142.025000","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"yes, now it doesn't block","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"(the trivial while example)","ts":"1613764152.025100","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"(the trivial while example)","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"wow, cool, okay, let me apply that to my real problem now","ts":"1613764167.025200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"wow, cool, okay, let me apply that to my real problem now","verbatim":false}}]},{"client_msg_id":"6cf1c8bc-46a9-4e44-870a-87512a62384b","type":"message","text":":+1:","user":"U7HAYKY9X","ts":"1613764200.025400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9mk","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1"}]}]}]},{"type":"message","subtype":"bot_message","text":"is there a way for UnicodePlots not to loose ANSI colors when printing to file?","ts":"1613823841.000100","username":"[irc] <Amun_Ra>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"is there a way for UnicodePlots not to loose ANSI colors when printing to file?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"do most people run \"julia file.jl\" or use PackageCompiler.jl to pre-compile their file.jl?","ts":"1614021026.000200","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"do most people run \"julia file.jl\" or use PackageCompiler.jl to pre-compile their file.jl?","verbatim":false}}]},{"client_msg_id":"271a4302-1b35-4b4e-936d-60febc5c2f2d","type":"message","text":"Depends on the use case. I just run from command line 99% of all cases, because I don't care about the initial lag. Then I had a use case at my work where the lag became intoletable, and so I used PackageCompiler","user":"U7HAYKY9X","ts":"1614021126.001300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tTX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Depends on the use case. I just run from command line 99% of all cases, because I don't care about the initial lag. Then I had a use case at my work where the lag became intoletable, and so I used PackageCompiler"}]}]}]},{"type":"message","subtype":"bot_message","text":"DaemonMode.jl is a good way to eliminate a lot of the JIT lag for scrips without having to resort to PackageCompiler","ts":"1614021214.001400","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"DaemonMode.jl is a good way to eliminate a lot of the JIT lag for scrips without having to resort to PackageCompiler","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"But to answer your question, most people using julia do none of the above, they work in the REPL","ts":"1614021254.001500","username":"[zulip] <Mason Protter>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-01-15/1637671884275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"But to answer your question, most people using julia do none of the above, they work in the REPL","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I imagine most people work in some kind of REPL","ts":"1614026294.001700","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"I imagine most people work in some kind of REPL","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"some will use notebooks like Jupyter and Pluto.jl, and some will use the Atom IDE, or some other IDE, in combination with Revise.jl","ts":"1614026357.001800","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"some will use notebooks like Jupyter and Pluto.jl, and some will use the Atom IDE, or some other IDE, in combination with Revise.jl","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"or do you mean to simply run a program, once you have finished writing it?","ts":"1614026439.001900","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"or do you mean to simply run a program, once you have finished writing it?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"whether I would take the trouble to precompile it would depend on 1) the startup time and 2) how far I plan to distribute it","ts":"1614026501.002000","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"whether I would take the trouble to precompile it would depend on 1) the startup time and 2) how far I plan to distribute it","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"i mostly dev in sublime text/vim and use the REPL to test things, but in \"production\", the \"julia file.jl\" method is what i've been using. but there's a compilation/first-run penalty","ts":"1614026569.002100","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"i mostly dev in sublime text/vim and use the REPL to test things, but in \"production\", the \"julia file.jl\" method is what i've been using. but there's a compilation/first-run penalty","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Sounds like you'd see an immediate benefit from Revise.jl","ts":"1614027903.002200","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Sounds like you'd see an immediate benefit from Revise.jl","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Every time you save 'file.jl', it will be automatically reloaded","ts":"1614027922.002300","username":"[irc] <dTal>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Every time you save 'file.jl', it will be automatically reloaded","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"most of the analysis jobs are between 4 and 18h long, so the 15-95 second compile penalty seems silly, but i've noticed the first run is also painfully slow for some functions, but the 2nd and subsequent runs of the function are vastly faster","ts":"1614028137.002400","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"most of the analysis jobs are between 4 and 18h long, so the 15-95 second compile penalty seems silly, but i've noticed the first run is also painfully slow for some functions, but the 2nd and subsequent runs of the function are vastly faster","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"originallly, i thought running julia -p auto -O3 would cut out JIT costs, but i see it's just making JIT do more work on the first run","ts":"1614028205.002500","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"originallly, i thought running julia -p auto -O3 would cut out JIT costs, but i see it's just making JIT do more work on the first run","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"thank you for revise.jl, i'll look into it","ts":"1614028330.002600","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"thank you for revise.jl, i'll look into it","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"_realized revise.jl is right on the julialang index page_","ts":"1614101974.002700","username":"[irc] <deimos_>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"_realized revise.jl is right on the julialang index page_","verbatim":false}}]}]}