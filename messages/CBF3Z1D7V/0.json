{"cursor": 1, "messages": [{"client_msg_id":"afde6b5e-ec74-4a35-9307-43aeec3934a4","type":"message","text":"Although I guess it is still just a beta","user":"U7THT3TM3","ts":"1609023401.158100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"621M0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Although I guess it is still just a beta"}]}]}]},{"client_msg_id":"63f7332e-e991-47b1-b2ba-395d90b65842","type":"message","text":"Yeah, for auto-merge, they look at whichever checkboxes you have checked under \"Require status checks to pass before merging\" in your repo settings","user":"U7THT3TM3","ts":"1609023436.158700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WMd=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, for auto-merge, they look at whichever checkboxes you have checked under \"Require status checks to pass before merging\" in your repo settings"}]}]}]},{"client_msg_id":"8bb3e794-308b-437a-8f9a-e4e9e00f6449","type":"message","text":"Hmmm that might be a deal-breaker for us, if true","user":"U7THT3TM3","ts":"1609023483.159600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z+mz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmmm that might be a deal-breaker for us, if true"}]}]}]},{"client_msg_id":"a111a302-430e-4877-b6eb-6c329cd2df2d","type":"message","text":"Is there a tool that identifies all of the latest releases blocked by any dependencies in a Project.toml?","user":"U69BL50BF","ts":"1609046372.160100","team":"T68168MUP","edited":{"user":"U69BL50BF","ts":"1609046390.000000"},"blocks":[{"type":"rich_text","block_id":"aZaQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a tool that identifies all of the latest releases blocked by any dependencies in a Project.toml?"}]}]}]},{"client_msg_id":"04b46ccd-862c-4492-9461-480435d58085","type":"message","text":"Is this a bug? I’m guessing it should be populated?\n```julia&gt; Pkg.activate()\n  Activating environment at `~/.julia/environments/v1.7/Project.toml`\n\njulia&gt; Base.ACTIVE_PROJECT[]\n\njulia&gt; ```","user":"U8MPCDJAY","ts":"1609232798.162100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KfLT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this a bug? I’m guessing it should be populated?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Pkg.activate()\n  Activating environment at `~/.julia/environments/v1.7/Project.toml`\n\njulia> Base.ACTIVE_PROJECT[]\n\njulia> "}]}]}]},{"client_msg_id":"bb5dc110-ed7a-4697-bf11-9387cce6a1a5","type":"message","text":"I think that is only populated now if you have a project activated \"on top of\" the one you started julia with.","user":"U67D54KS8","ts":"1609232910.162800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U5Vq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that is only populated now if you have a project activated \"on top of\" the one you started julia with."}]}]}]},{"client_msg_id":"f6773444-c2a6-44b1-aa2f-2c617435f17f","type":"message","text":"I see. Is there something else in Base that can return the path `~/.julia/environments/v1.7/Project.toml` in this case?","user":"U8MPCDJAY","ts":"1609233018.163500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UetW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see. Is there something else in Base that can return the path "},{"type":"text","text":"~/.julia/environments/v1.7/Project.toml","style":{"code":true}},{"type":"text","text":" in this case?"}]}]}]},{"client_msg_id":"7a13ef51-cc8f-461c-9199-3f1b76d494d4","type":"message","text":"`Base.active_project()`? Not at the computer to check","user":"UDB26738Q","ts":"1609233208.164000","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1609233225.000000"},"blocks":[{"type":"rich_text","block_id":"8Q+3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Base.active_project()","style":{"code":true}},{"type":"text","text":"? Not at the computer to check"}]}]}]},{"client_msg_id":"2a66c49f-0be0-4709-826b-fc8142c32666","type":"message","text":"Yes! thanks","user":"U8MPCDJAY","ts":"1609233315.164600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"btwHa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes! thanks"}]}]}]},{"client_msg_id":"70b559c3-049b-4f26-b3c5-cc515195e81b","type":"message","text":"What do people think about a `Pkg.toml` in `.julia/config/Pkg.toml` (ref <https://doc.rust-lang.org/cargo/reference/config.html#configuration-format>). Options could be:\n\n```auto_precompile\nauto_install (<https://github.com/JuliaLang/julia/pull/39026>)\nvarious_proxy_settings\n...```","user":"U67D54KS8","ts":"1609250516.165600","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1609250521.000000"},"blocks":[{"type":"rich_text","block_id":"ERqO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do people think about a "},{"type":"text","text":"Pkg.toml","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":".julia/config/Pkg.toml","style":{"code":true}},{"type":"text","text":" (ref "},{"type":"link","url":"https://doc.rust-lang.org/cargo/reference/config.html#configuration-format"},{"type":"text","text":"). Options could be:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"auto_precompile\nauto_install ("},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39026"},{"type":"text","text":")\nvarious_proxy_settings\n..."}]}]}]},{"client_msg_id":"5dc445e4-5c42-4245-b490-1f8f6acb6309","type":"message","text":"How does this look as a UX for offering to install a missing package? <https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK|https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK>","user":"U8MPCDJAY","ts":"1609368628.168900","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1609370198.000000"},"attachments":[{"service_name":"asciinema.org","title":"Julia ask install missing pkg - v2","title_link":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK","text":"Recorded by ianshmean","fallback":"asciinema.org: Julia ask install missing pkg - v2","image_url":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK.png","from_url":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK","image_width":433,"image_height":250,"image_bytes":78358,"service_icon":"https://asciinema.org/images/favicon-2d62dafa447cf018340b7121007568e3.png?vsn=d","id":1,"original_url":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK"}],"blocks":[{"type":"rich_text","block_id":"xjLkQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How does this look as a UX for offering to install a missing package? "},{"type":"link","url":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK","text":"https://asciinema.org/a/adqDA5jSp3fusjSdIPOtttvqK"}]}]}],"thread_ts":"1609368628.168900","reply_count":2,"reply_users_count":1,"latest_reply":"1609368748.169300","reply_users":["U8MPCDJAY"],"subscribed":false},{"client_msg_id":"31299aee-f51b-41db-bfbd-fc41a1bae76f","type":"message","text":"Why does the package server take like 20 minutes to install any package in the last 2 weeks?","user":"U69BL50BF","ts":"1609553187.171300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H16zc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why does the package server take like 20 minutes to install any package in the last 2 weeks?"}]}]}]},{"client_msg_id":"A5FC745F-BEBF-47F9-B98F-1BD68B5B587C","type":"message","text":"<@U66GD0880> has been pushing changes to the Pkg server recently ","user":"U7THT3TM3","ts":"1609553252.171900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MGFZd","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" has been pushing changes to the Pkg server recently "}]}]}]},{"client_msg_id":"A969A892-BB82-4CED-8931-0FA88AF9D683","type":"message","text":"Can you reproduce the slowness across different geographic package servers? Or is it just a single package server?","user":"U7THT3TM3","ts":"1609553282.172900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h=B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you reproduce the slowness across different geographic package servers? Or is it just a single package server?"}]}]}]},{"client_msg_id":"d38833e6-e770-4b8e-b6f4-ffea7b7433c2","type":"message","text":"I've just been in the east","user":"U69BL50BF","ts":"1609553345.173500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iBFl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've just been in the east"}]}]}]},{"client_msg_id":"E22BAF5D-57AD-40A5-A755-04933A7F7AEB","type":"message","text":"You can get a list of Pkg servers by doing this:\n\n<https://pkg.julialang.org/meta/siblings|https://pkg.julialang.org/meta/siblings>\n\n(Or, alternatively, <https://us-east.pkg.julialang.org/meta/siblings|https://us-east.pkg.julialang.org/meta/siblings>, <https://us-west.pkg.julialang.org/meta/siblings|https://us-west.pkg.julialang.org/meta/siblings>, etc.)","user":"U7THT3TM3","ts":"1609553368.174000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UMSfs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can get a list of Pkg servers by doing this:\n"},{"type":"text","text":"\n"},{"type":"link","url":"https://pkg.julialang.org/meta/siblings","text":"https://pkg.julialang.org/meta/siblings"},{"type":"text","text":"\n"},{"type":"text","text":"\n"},{"type":"text","text":"(Or, alternatively, "},{"type":"link","url":"https://us-east.pkg.julialang.org/meta/siblings","text":"https://us-east.pkg.julialang.org/meta/siblings"},{"type":"text","text":", "},{"type":"link","url":"https://us-west.pkg.julialang.org/meta/siblings","text":"https://us-west.pkg.julialang.org/meta/siblings"},{"type":"text","text":", etc.)"}]}]}]},{"client_msg_id":"CDD5DA3A-FB5A-4420-BE20-E45383F85420","type":"message","text":"And then try different Pkg servers with e.g.\n\n`ENV[\"JULIA_PKG_SERVER\"] = \"<http://us-west.pkg.julialang.org|us-west.pkg.julialang.org>\"`","user":"U7THT3TM3","ts":"1609553408.175000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"owwMf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And then try different Pkg servers with e.g.\n"},{"type":"text","text":"\n"},{"type":"text","text":"ENV[\"JULIA_PKG_SERVER\"] = \"","style":{"code":true}},{"type":"link","url":"http://us-west.pkg.julialang.org","text":"us-west.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\"","style":{"code":true}}]}]}]},{"client_msg_id":"D3B88182-E72F-4B9C-89F4-7D7D358CC22C","type":"message","text":"I think us-east2 has been having a bad time these past two weeks ","user":"U7THT3TM3","ts":"1609553426.175600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cpl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think us-east2 has been having a bad time these past two weeks "}]}]}]},{"client_msg_id":"1C86E611-5A4F-4DD6-A090-6ECA5C961158","type":"message","text":"Try us-east or us-west and see if it's any better?","user":"U7THT3TM3","ts":"1609553438.176100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xoozJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try us-east or us-west and see if it's any better?"}]}]}]},{"client_msg_id":"A4AAF136-9932-4090-A585-F43FB4E6444B","type":"message","text":"(You can figure out what your \"default\" geographical server is by going to <https://pkg.julialang.org|https://pkg.julialang.org> in a web browser, and seeing what subdomain you get redirected to.)","user":"U7THT3TM3","ts":"1609553551.177400","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1609553637.000000"},"blocks":[{"type":"rich_text","block_id":"7WfT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(You can figure out what your \"default\" geographical server is by going to "},{"type":"link","url":"https://pkg.julialang.org","text":"https://pkg.julialang.org"},{"type":"text","text":" in a web browser, and seeing what subdomain you get redirected to.)"}]}]}]},{"client_msg_id":"9C77B453-1B4F-44E2-B37A-58F4A9ABAF66","type":"message","text":"Here's the current full list of siblings:\n\n`[\"<https://us-west.pkg.julialang.org|https://us-west.pkg.julialang.org>\",\"<https://us-east.pkg.julialang.org|https://us-east.pkg.julialang.org>\",\"<https://us-east2.pkg.julialang.org|https://us-east2.pkg.julialang.org>\",\"<https://us-east-ci.pkg.julialang.org|https://us-east-ci.pkg.julialang.org>\",\"<https://eu-central.pkg.julialang.org|https://eu-central.pkg.julialang.org>\",\"<https://in.pkg.julialang.org|https://in.pkg.julialang.org>\",\"<https://kr.pkg.julialang.org|https://kr.pkg.julialang.org>\",\"<https://sg.pkg.julialang.org|https://sg.pkg.julialang.org>\",\"<https://cn-southeast.pkg.julialang.org|https://cn-southeast.pkg.julialang.org>\",\"<https://cn-east.pkg.julialang.org|https://cn-east.pkg.julialang.org>\",\"<https://cn-northeast.pkg.julialang.org|https://cn-northeast.pkg.julialang.org>\",\"<https://au.pkg.julialang.org|https://au.pkg.julialang.org>\"]`","user":"U7THT3TM3","ts":"1609554015.178000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w=z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here's the current full list of siblings:\n"},{"type":"text","text":"\n"},{"type":"text","text":"[\"","style":{"code":true}},{"type":"link","url":"https://us-west.pkg.julialang.org","text":"https://us-west.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://us-east.pkg.julialang.org","text":"https://us-east.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://us-east2.pkg.julialang.org","text":"https://us-east2.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://us-east-ci.pkg.julialang.org","text":"https://us-east-ci.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://eu-central.pkg.julialang.org","text":"https://eu-central.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://in.pkg.julialang.org","text":"https://in.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://kr.pkg.julialang.org","text":"https://kr.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://sg.pkg.julialang.org","text":"https://sg.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://cn-southeast.pkg.julialang.org","text":"https://cn-southeast.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://cn-east.pkg.julialang.org","text":"https://cn-east.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://cn-northeast.pkg.julialang.org","text":"https://cn-northeast.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\",\"","style":{"code":true}},{"type":"link","url":"https://au.pkg.julialang.org","text":"https://au.pkg.julialang.org","style":{"code":true}},{"type":"text","text":"\"]","style":{"code":true}}]}]}]},{"client_msg_id":"064af1ef-4647-4f51-820d-e0f5cf61bd46","type":"message","text":"How do I use Preferences? It's not registered in the General registry, and it's not a stdlib.","user":"U7THT3TM3","ts":"1609736601.000500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9JYT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do I use Preferences? It's not registered in the General registry, and it's not a stdlib."}]}]}]},{"client_msg_id":"6bc9a844-8ced-49bd-bfc6-f468879691d0","type":"message","text":"```julia&gt; import Pkg\n\njulia&gt; import Preferences\nERROR: ArgumentError: Package Preferences not found in current path:\n- Run `import Pkg; Pkg.add(\"Preferences\")` to install the Preferences package.\n\nStacktrace:\n [1] require(into::Module, mod::Symbol)\n   @ Base ./loading.jl:867\n\njulia&gt; Pkg.Preferences\nERROR: UndefVarError: Preferences not defined\nStacktrace:\n [1] getproperty(x::Module, f::Symbol)\n   @ Base ./Base.jl:26\n [2] top-level scope\n   @ REPL[6]:1\n\njulia&gt; import Pkg.Preferences\nWARNING: could not import Pkg.Preferences into Main\n\njulia&gt; Base.Preferences\nERROR: UndefVarError: Preferences not defined\nStacktrace:\n [1] getproperty(x::Module, f::Symbol)\n   @ Base ./Base.jl:26\n [2] top-level scope\n   @ REPL[8]:1\n\njulia&gt; import Base.Preferences\nWARNING: could not import Base.Preferences into Main\n\njulia&gt; Pkg.add(\"Preferences\")\nERROR: The following package names could not be resolved:\n * Preferences (not found in project, manifest or registry)\n\nStacktrace:\n  [1] pkgerror(msg::String)\n    @ Pkg.Types ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/Types.jl:52\n  [2] ensure_resolved(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; registry::Bool)\n    @ Pkg.Types ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/Types.jl:823\n  [3] add(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; preserve::Pkg.Types.PreserveLevel, platform::Base.BinaryPlatforms.Platform, kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:186\n  [4] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:148 [inlined]\n  [5] add(pkgs::Vector{Pkg.Types.PackageSpec}; kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:73\n  [6] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:72 [inlined]\n  [7] #add#21\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:70 [inlined]\n  [8] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:70 [inlined]\n  [9] #add#20\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:69 [inlined]\n [10] add(pkg::String)\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:69\n [11] top-level scope\n    @ REPL[10]:1```","user":"U7THT3TM3","ts":"1609736755.001200","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1609736933.000000"},"blocks":[{"type":"rich_text","block_id":"9m6","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> import Pkg\n\njulia> import Preferences\nERROR: ArgumentError: Package Preferences not found in current path:\n- Run `import Pkg; Pkg.add(\"Preferences\")` to install the Preferences package.\n\nStacktrace:\n [1] require(into::Module, mod::Symbol)\n   @ Base ./loading.jl:867\n\njulia> Pkg.Preferences\nERROR: UndefVarError: Preferences not defined\nStacktrace:\n [1] getproperty(x::Module, f::Symbol)\n   @ Base ./Base.jl:26\n [2] top-level scope\n   @ REPL[6]:1\n\njulia> import Pkg.Preferences\nWARNING: could not import Pkg.Preferences into Main\n\njulia> Base.Preferences\nERROR: UndefVarError: Preferences not defined\nStacktrace:\n [1] getproperty(x::Module, f::Symbol)\n   @ Base ./Base.jl:26\n [2] top-level scope\n   @ REPL[8]:1\n\njulia> import Base.Preferences\nWARNING: could not import Base.Preferences into Main\n\njulia> Pkg.add(\"Preferences\")\nERROR: The following package names could not be resolved:\n * Preferences (not found in project, manifest or registry)\n\nStacktrace:\n  [1] pkgerror(msg::String)\n    @ Pkg.Types ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/Types.jl:52\n  [2] ensure_resolved(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; registry::Bool)\n    @ Pkg.Types ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/Types.jl:823\n  [3] add(ctx::Pkg.Types.Context, pkgs::Vector{Pkg.Types.PackageSpec}; preserve::Pkg.Types.PreserveLevel, platform::Base.BinaryPlatforms.Platform, kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:186\n  [4] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:148 [inlined]\n  [5] add(pkgs::Vector{Pkg.Types.PackageSpec}; kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:73\n  [6] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:72 [inlined]\n  [7] #add#21\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:70 [inlined]\n  [8] add\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:70 [inlined]\n  [9] #add#20\n    @ ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:69 [inlined]\n [10] add(pkg::String)\n    @ Pkg.API ~/dev/repos/JuliaLang/julia/usr/share/julia/stdlib/v1.7/Pkg/src/API.jl:69\n [11] top-level scope\n    @ REPL[10]:1"}]}]}]},{"client_msg_id":"BE8E2576-87BF-4DB5-A8DE-3F62E96EEDAC","type":"message","text":"Can we register Preferences.jl in the General registry? <@U66GD0880> ","user":"U7THT3TM3","ts":"1609791763.001900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kqbwp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can we register Preferences.jl in the General registry? "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" "}]}]}]},{"client_msg_id":"31dbe982-bbeb-41a5-afe1-de39a749606f","type":"message","text":"Yes, I’m surprised it isn’t already","user":"U66GD0880","ts":"1609792319.002200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"61K/y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I’m surprised it isn’t already"}]}]}]},{"client_msg_id":"d1961593-aa50-4386-8b94-e100f87fcf2f","type":"message","text":":stuck_out_tongue:","user":"U66GD0880","ts":"1609792320.002500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xrgx","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"stuck_out_tongue"}]}]}]},{"client_msg_id":"aa551a14-0b34-4ec7-9dba-1373d76617cc","type":"message","text":"``` Warning: Pkg.installed() is deprecated\n└ @ Pkg D:\\buildbot\\worker\\package_win64\\build\\usr\\share\\julia\\stdlib\\v1.5\\Pkg\\src\\Pkg.jl:554\n   Updating registry at `C:\\Users\\accou\\.julia\\registries\\General`\n   Updating git-repo `<https://github.com/JuliaRegistries/General.git>```","user":"U69BL50BF","ts":"1609827559.002900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qbRXI","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":" Warning: Pkg.installed() is deprecated\n└ @ Pkg D:\\buildbot\\worker\\package_win64\\build\\usr\\share\\julia\\stdlib\\v1.5\\Pkg\\src\\Pkg.jl:554\n   Updating registry at `C:\\Users\\accou\\.julia\\registries\\General`\n   Updating git-repo `"},{"type":"link","url":"https://github.com/JuliaRegistries/General.git"}]}]}]},{"client_msg_id":"afe7780b-0c78-4e1a-9924-84ab1cd7243a","type":"message","text":"what's the replacement?","user":"U69BL50BF","ts":"1609827562.003100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RNs0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what's the replacement?"}]}]}]},{"client_msg_id":"4C6C29B8-28FD-4352-8A14-27CACD6EC5FF","type":"message","text":"`Pkg.dependencies` is probably your best bet","user":"U7THT3TM3","ts":"1609827691.003500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"braFF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Pkg.dependencies","style":{"code":true}},{"type":"text","text":" is probably your best bet"}]}]}]},{"client_msg_id":"008be5a1-3f6d-452b-afc7-d37fab9f24e8","type":"message","text":"I am sorry, I asked this before but can't find the answer anymore (and stupidly lost the notes where I wrote this down): How could I detect from within a package whether it has been dev'ed in the current project? IIRC it involves `is_tracking_path` (or another \"is_tracking\" function), but I can't figure it out anymore (and the nefarious usecase here is that I want to use this as a feature flag to enable some experimental features when the package is loaded, which i just don't want regular users to stumble over yet)\n\n(and sorry if this is the wrong place to ask)","user":"U012FH66MFW","ts":"1609945559.006500","team":"T68168MUP","edited":{"user":"U012FH66MFW","ts":"1609945586.000000"},"blocks":[{"type":"rich_text","block_id":"KSNB7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am sorry, I asked this before but can't find the answer anymore (and stupidly lost the notes where I wrote this down): How could I detect from within a package whether it has been dev'ed in the current project? IIRC it involves "},{"type":"text","text":"is_tracking_path","style":{"code":true}},{"type":"text","text":" (or another \"is_tracking\" function), but I can't figure it out anymore (and the nefarious usecase here is that I want to use this as a feature flag to enable some experimental features when the package is loaded, which i just don't want regular users to stumble over yet)\n\n(and sorry if this is the wrong place to ask)"}]}]}]},{"client_msg_id":"cc1b4fe0-8478-4cc6-93d6-3f0152ab2e86","type":"message","text":"There is not really an official way of answering that questions. You could hack something together by looking at the current manifest (see `Base.active_project()`).","user":"U67D54KS8","ts":"1609945980.007700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FFPm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is not really an official way of answering that questions. You could hack something together by looking at the current manifest (see "},{"type":"text","text":"Base.active_project()","style":{"code":true}},{"type":"text","text":")."}]}]}]},{"client_msg_id":"22491672-9ae1-41a0-a155-1f5169d270f2","type":"message","text":"But from the point of Julia, there isn't really any difference in a package that is devved or not, the only difference is how its location is computed when it is loaded, and that is based on the manifest so it is there you have to look.","user":"U67D54KS8","ts":"1609946026.008600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wh0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But from the point of Julia, there isn't really any difference in a package that is devved or not, the only difference is how its location is computed when it is loaded, and that is based on the manifest so it is there you have to look."}]}]}]},{"client_msg_id":"0753ba1f-a884-4538-be31-96354d489bc4","type":"message","text":"Looking at <https://github.com/JuliaLang/julia/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc>  can anyone point me to what handles artificat unpacking ?","user":"U6C1MMAAJ","ts":"1609959379.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TchRh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looking at "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc"},{"type":"text","text":"  can anyone point me to what handles artificat unpacking ?"}]}]}],"thread_ts":"1609959379.009100","reply_count":11,"reply_users_count":3,"latest_reply":"1609961303.011300","reply_users":["U67SCG4HG","U6C1MMAAJ","UDB26738Q"],"subscribed":false},{"client_msg_id":"6c698592-9e0e-436b-be5e-492d2bf3d5f5","type":"message","text":"I have two sets of changes queued for inclusion into Pkg that should make it in to v1.6:\n\n* The `.pkg/select_artifacts.jl` hook PR, which is here: <https://github.com/JuliaLang/Pkg.jl/pull/2024>  I need some help in figuring out the best way to get `sandbox()` working properly.\n\n* A new PR that teaches `Pkg` to install packages with respect to a given Julia version.  This is useful for BB to be able to download sets of JLLs targeting a particular Julia version, so that users can build things that e.g. link against `libgmp` and `libjulia` for Julia v1.5.  That’s here: <https://github.com/JuliaLang/Pkg.jl/pull/2318>","user":"U66GD0880","ts":"1610002554.014300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8yF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have two sets of changes queued for inclusion into Pkg that should make it in to v1.6:\n\n* The "},{"type":"text","text":".pkg/select_artifacts.jl","style":{"code":true}},{"type":"text","text":" hook PR, which is here: "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2024"},{"type":"text","text":"  I need some help in figuring out the best way to get "},{"type":"text","text":"sandbox()","style":{"code":true}},{"type":"text","text":" working properly.\n\n* A new PR that teaches "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" to install packages with respect to a given Julia version.  This is useful for BB to be able to download sets of JLLs targeting a particular Julia version, so that users can build things that e.g. link against "},{"type":"text","text":"libgmp","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"libjulia","style":{"code":true}},{"type":"text","text":" for Julia v1.5.  That’s here: "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2318"}]}]}],"reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"b9d2fc63-5e64-4d03-b2c7-a1db07199a5c","type":"message","text":"Sorry, for the delay on the hook stuff. I didn't really realize that was for 1.6. Tbh that seems like something that should have some time to bake on master. Is there anything blocked on that? 'll make it prio to review it.","user":"U67D54KS8","ts":"1610043135.017100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KG/l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry, for the delay on the hook stuff. I didn't really realize that was for 1.6. Tbh that seems like something that should have some time to bake on master. Is there anything blocked on that? 'll make it prio to review it."}]}]}],"reactions":[{"name":"heart","users":["U680THK2S"],"count":1}]},{"type":"message","text":"Using nightly in VS Code, I frequently see precompile getting stuck with apparently 3 further packages to precompile left, but it doen't say which packages and just freezes with no further output. Any ideas wher to start debugging? A random guess would be that VS Code might load additional packages for the languageserver, that are not in the environment, which might confuse Pkg?","files":[{"id":"F01JLC9KPG9","created":1610046837,"timestamp":1610046837,"name":"Screenshot from 2021-01-07 20-07-55.png","title":"Screenshot from 2021-01-07 20-07-55.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UM30MT6RF","editable":false,"size":52790,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JLC9KPG9/screenshot_from_2021-01-07_20-07-55.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JLC9KPG9/download/screenshot_from_2021-01-07_20-07-55.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_360.png","thumb_360_w":360,"thumb_360_h":129,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_480.png","thumb_480_w":480,"thumb_480_h":172,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_720.png","thumb_720_w":720,"thumb_720_h":258,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01JLC9KPG9-66b333b326/screenshot_from_2021-01-07_20-07-55_800.png","thumb_800_w":800,"thumb_800_h":287,"original_w":823,"original_h":295,"thumb_tiny":"AwARADChnGM5zRn3pmR70E+5oAdn6UbvpTMn1pcn1NACkn1ApOvcUmT60ZPrQAUUUUAFFFFABRRRQB//2Q==","permalink":"https://julialang.slack.com/files/UM30MT6RF/F01JLC9KPG9/screenshot_from_2021-01-07_20-07-55.png","permalink_public":"https://slack-files.com/T68168MUP-F01JLC9KPG9-b55e4ab6a4","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"+XJh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Using nightly in VS Code, I frequently see precompile getting stuck with apparently 3 further packages to precompile left, but it doen't say which packages and just freezes with no further output. Any ideas wher to start debugging? A random guess would be that VS Code might load additional packages for the languageserver, that are not in the environment, which might confuse Pkg?"}]}]}],"user":"UM30MT6RF","display_as_bot":false,"ts":"1610046839.021500","thread_ts":"1610046839.021500","reply_count":3,"reply_users_count":3,"latest_reply":"1610047951.022300","reply_users":["U67SCG4HG","U67D54KS8","UM30MT6RF"],"subscribed":false},{"client_msg_id":"890adbcf-c842-4b93-802b-8c77c01500e1","type":"message","text":"Another case of registry folders disappearing: <https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111|https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111>","user":"UDB26738Q","ts":"1610285598.042400","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"EDIT - Pluto notebook seems to delete contents of `.julia/registries`","title_link":"https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111","text":"So after a few to many edits and updates, here is a rewrite of the post. As it seems to be more pluto oriented, I will paste a copy of the rewrite as an issue over at GitHub. Original post at the bottom. The problem seems to be that when running a pluto notebook, one of two things happen: Everything runs smoothly Or, the more probable case lately: The notebook is not responsive, and the content of .julia/registries is deleted (as observed in real-time). Not responsive means that it appears t...","fallback":"JuliaLang: EDIT - Pluto notebook seems to delete contents of `.julia/registries`","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1610274838,"from_url":"https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111"}],"blocks":[{"type":"rich_text","block_id":"x/M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Another case of registry folders disappearing: "},{"type":"link","url":"https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111","text":"https://discourse.julialang.org/t/edit-pluto-notebook-seems-to-delete-contents-of-julia-registries/53111"}]}]}]},{"client_msg_id":"b96b1467-44dd-4979-9b4b-f42e2cdd3908","type":"message","text":"Does no one else hit <https://github.com/JuliaLang/Pkg.jl/issues/2287> ? Keeps happening for me.","user":"U67SCG4HG","ts":"1610305152.043500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"161DD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does no one else hit "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2287"},{"type":"text","text":" ? Keeps happening for me."}]}]}]},{"client_msg_id":"2ac2f725-897d-45a5-8704-7b281e4b1808","type":"message","text":"If you do e.g. `Pkg.update(; num_concurrent_downloads=1)`, does it repro?","user":"U67D54KS8","ts":"1610349733.044300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2LsfB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you do e.g. "},{"type":"text","text":"Pkg.update(; num_concurrent_downloads=1)","style":{"code":true}},{"type":"text","text":", does it repro?"}]}]}]},{"client_msg_id":"5bd673d6-56ac-40ed-834e-bb7368a07767","type":"message","text":"<https://github.com/JuliaLang/julia/issues/36617#issuecomment-758025231> is it normal that the registry is in a temp directory?","user":"UDB26738Q","ts":"1610379718.044900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"55OZc","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/issues/36617#issuecomment-758025231"},{"type":"text","text":" is it normal that the registry is in a temp directory?"}]}]}]},{"client_msg_id":"4da4e3d7-bf09-4003-a54a-a56937397b25","type":"message","text":"or that's the one temporarily downloaded before being copied to the destination?","user":"UDB26738Q","ts":"1610379753.045300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0/nM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or that's the one temporarily downloaded before being copied to the destination?"}]}]}],"thread_ts":"1610379753.045300","reply_count":1,"reply_users_count":1,"latest_reply":"1610380083.045400","reply_users":["U67D54KS8"],"subscribed":false},{"client_msg_id":"01d70c82-c975-4d88-afae-5e271dd64594","type":"message","text":"is the following \"theory\" about the registry format correct: `FLINT_jll = \"200.700.0\"` means \"exactly version 200.700.0\", so corresponds to a Project.toml compat entry `=200.700.0` ; while `FLINT_jll = \"200.700\"` corresponds to `~200.700` i.e. matches any `200.700.x` version?","user":"U012FH66MFW","ts":"1610407043.047100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W/7ea","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is the following \"theory\" about the registry format correct: "},{"type":"text","text":"FLINT_jll = \"200.700.0\"","style":{"code":true}},{"type":"text","text":" means \"exactly version 200.700.0\", so corresponds to a Project.toml compat entry "},{"type":"text","text":"=200.700.0","style":{"code":true}},{"type":"text","text":" ; while "},{"type":"text","text":"FLINT_jll = \"200.700\"","style":{"code":true}},{"type":"text","text":" corresponds to "},{"type":"text","text":"~200.700","style":{"code":true}},{"type":"text","text":" i.e. matches any "},{"type":"text","text":"200.700.x","style":{"code":true}},{"type":"text","text":" version?"}]}]}],"thread_ts":"1610407043.047100","reply_count":12,"reply_users_count":3,"latest_reply":"1610408280.052100","reply_users":["UDB26738Q","U012FH66MFW","UCZ7VBGUD"],"subscribed":false},{"client_msg_id":"ab23b862-f56f-447e-935c-6e63907cdcd8","type":"message","text":"I am currently working on a function which converts a `VersionSpec` into a string suitable for use in Project.toml compat entries, at least when possible, i.e., a (partial) inverse to `semver_spec`. The goal is to use this in BinaryBuilder when generating JLL wrappers; that means it needs to be compatible with Julia 1.0, so I can't output `X - Y` ranges, hence I don't think I'll be able to convert all possible `VersionSpec` values; but that's OK, I believe that in almost all real world use cases the input will be of the form `VersionSpec(\"1.2\")` anyway. I've done some work on it already, but I just was wondering if something like this perhaps already exists somewhere, and thus could safe me some work","user":"U012FH66MFW","ts":"1610407341.049300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GR+pb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am currently working on a function which converts a "},{"type":"text","text":"VersionSpec","style":{"code":true}},{"type":"text","text":" into a string suitable for use in Project.toml compat entries, at least when possible, i.e., a (partial) inverse to "},{"type":"text","text":"semver_spec","style":{"code":true}},{"type":"text","text":". The goal is to use this in BinaryBuilder when generating JLL wrappers; that means it needs to be compatible with Julia 1.0, so I can't output "},{"type":"text","text":"X - Y","style":{"code":true}},{"type":"text","text":" ranges, hence I don't think I'll be able to convert all possible "},{"type":"text","text":"VersionSpec","style":{"code":true}},{"type":"text","text":" values; but that's OK, I believe that in almost all real world use cases the input will be of the form "},{"type":"text","text":"VersionSpec(\"1.2\")","style":{"code":true}},{"type":"text","text":" anyway. I've done some work on it already, but I just was wondering if something like this perhaps already exists somewhere, and thus could safe me some work"}]}]}],"thread_ts":"1610407341.049300","reply_count":1,"reply_users_count":1,"latest_reply":"1610407857.049400","reply_users":["U67SCG4HG"],"subscribed":false},{"client_msg_id":"482cd597-4e21-4713-aa68-f0b473861faa","type":"message","text":"When creating a package, I need a specific version of a dependency. I thought I did this successfully when I used `pkg&gt; add ProtoBuf@v0.9.0` and it worked locally with all my tests passing. Building a Docker container using my package instead resolves to `ProtoBuf@v0.10.0`.\n\nHow might I specify the package version so it also resolves correctly in Docker?","user":"UP4EYGYF6","ts":"1610462150.056100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LpI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When creating a package, I need a specific version of a dependency. I thought I did this successfully when I used "},{"type":"text","text":"pkg> add ProtoBuf@v0.9.0","style":{"code":true}},{"type":"text","text":" and it worked locally with all my tests passing. Building a Docker container using my package instead resolves to "},{"type":"text","text":"ProtoBuf@v0.10.0","style":{"code":true}},{"type":"text","text":".\n\nHow might I specify the package version so it also resolves correctly in Docker?"}]}]}]},{"client_msg_id":"6a4fa0c5-5041-4d67-9b44-3895cf0f0f39","type":"message","text":"Do we have a Pkg call today?","user":"U66GD0880","ts":"1610476040.057600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lhxP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do we have a Pkg call today?"}]}]}],"thread_ts":"1610476040.057600","reply_count":1,"reply_users_count":1,"latest_reply":"1610477626.058500","reply_users":["U67D54KS8"],"subscribed":false,"reactions":[{"name":"call_me_hand","users":["UDB26738Q"],"count":1},{"name":"package","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"b3cbbe42-4c29-4568-b235-0155b5eb2926","type":"message","text":"I don't seem to be able to update a private registry using `1.6-beta1` . I wonder if anyone can advise on where the issue might be and where i should report this?\n```(@v1.6) pkg&gt; registry up\n    Updating registry at `~/.julia/registries/General`\n    Updating registry at `~/.julia/registries/PackageRegistry`\n    Updating git-repo `<mailto:git@gitlab.invenia.ca|git@gitlab.invenia.ca>:invenia/PackageRegistry`\nSSH host verification: the identity of the server `<http://gitlab.invenia.ca|gitlab.invenia.ca>` does not match its known hosts record. Someone could be trying to man-in-the-middle your connection. It is also possible that the server has changed its key, in which case you should check with the server administrator and if they confirm that the key has been changed, update your known hosts file.\n┌ Warning: Some registries failed to update:\n│     — /Users/nick/.julia/registries/PackageRegistry — failed to fetch from repo\n└ @ Pkg.Types /Users/julia/src/julia/usr/share/julia/stdlib/v1.6/Pkg/src/Types.jl:1183\n\njulia&gt; VERSION\nv\"1.6.0-beta1\"```","user":"UDXST8ARK","ts":"1610478033.059800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Kc9p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't seem to be able to update a private registry using "},{"type":"text","text":"1.6-beta1","style":{"code":true}},{"type":"text","text":" . I wonder if anyone can advise on where the issue might be and where i should report this?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(@v1.6) pkg> registry up\n    Updating registry at `~/.julia/registries/General`\n    Updating registry at `~/.julia/registries/PackageRegistry`\n    Updating git-repo `git@gitlab.invenia.ca:invenia/PackageRegistry`\nSSH host verification: the identity of the server `gitlab.invenia.ca` does not match its known hosts record. Someone could be trying to man-in-the-middle your connection. It is also possible that the server has changed its key, in which case you should check with the server administrator and if they confirm that the key has been changed, update your known hosts file.\n┌ Warning: Some registries failed to update:\n│     — /Users/nick/.julia/registries/PackageRegistry — failed to fetch from repo\n└ @ Pkg.Types /Users/julia/src/julia/usr/share/julia/stdlib/v1.6/Pkg/src/Types.jl:1183\n\njulia> VERSION\nv\"1.6.0-beta1\""}]}]}],"thread_ts":"1610478033.059800","reply_count":4,"reply_users_count":3,"latest_reply":"1610480021.060800","reply_users":["U66GD0880","U67SCG4HG","U69J94HT9"],"subscribed":false},{"client_msg_id":"014f0138-9e60-40f5-9d21-a7685fcd3c23","type":"message","text":"<@U6795JH6H> I can simulate a hang (xref <#C6M4DQA5P|pkg-registration>) and the only output I get on interruption is\n```^C┌ Error: curl_multi_remove_handle: 1\n└ @ Downloads.Curl ~/julia16/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:36```\n","user":"U67SCG4HG","ts":"1610630657.000900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"305dR","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" I can simulate a hang (xref "},{"type":"channel","channel_id":"C6M4DQA5P"},{"type":"text","text":") and the only output I get on interruption is\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"^C┌ Error: curl_multi_remove_handle: 1\n└ @ Downloads.Curl ~/julia16/usr/share/julia/stdlib/v1.6/Downloads/src/Curl/utils.jl:36"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"987afc89-1a94-420f-adbe-5eedbef0aba6","type":"message","text":"<https://github.com/JuliaLang/Pkg.jl/issues/2337>","user":"U67SCG4HG","ts":"1610631831.001100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p4cNi","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2337"}]}]}]},{"client_msg_id":"5b311ae5-4c81-4628-b0c6-196cbe74ffc2","type":"message","text":"Are we ok adding a `Pkg.precompile` step to `Pkg.test`’s  installation stage? Currently if CI doesn’t explicitly call `Pkg.build` (i.e. the `julia-buildpkg` step), which I think fewer packages do now, no parallel precomp is used. It’s overridable in a few ways <https://github.com/JuliaLang/Pkg.jl/pull/2335>","user":"U8MPCDJAY","ts":"1610650660.004300","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1610650674.000000"},"blocks":[{"type":"rich_text","block_id":"QV6O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are we ok adding a "},{"type":"text","text":"Pkg.precompile","style":{"code":true}},{"type":"text","text":" step to "},{"type":"text","text":"Pkg.test","style":{"code":true}},{"type":"text","text":"’s  installation stage? Currently if CI doesn’t explicitly call "},{"type":"text","text":"Pkg.build","style":{"code":true}},{"type":"text","text":" (i.e. the "},{"type":"text","text":"julia-buildpkg","style":{"code":true}},{"type":"text","text":" step), which I think fewer packages do now, no parallel precomp is used. It’s overridable in a few ways "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2335"}]}]}],"reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"1BBE51AB-1DBC-4028-9DA1-8B650D745949","type":"message","text":"Between 1.6 and master, has there been a change to `Pkg.Types.collect_registries()`. The function no longer seems to exist in master?","user":"U7THT3TM3","ts":"1610672558.005600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TC5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Between 1.6 and master, has there been a change to "},{"type":"text","text":"Pkg.Types.collect_registries()","style":{"code":true}},{"type":"text","text":". The function no longer seems to exist in master?"}]}]}]},{"client_msg_id":"8C4794C8-966E-4A93-9912-49B34B007EF9","type":"message","text":"It is used in the RegistryCI.jl registry consistency tests: <https://github.com/JuliaRegistries/RegistryCI.jl/blob/112166929895fb5fdbcbca694008803f2a68b65c/src/registry_testing.jl#L29|https://github.com/JuliaRegistries/RegistryCI.jl/blob/112166929895fb5fdbcbca694008803f2a68b65c/src/registry_testing.jl#L29>","user":"U7THT3TM3","ts":"1610672598.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vBr/b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is used in the RegistryCI.jl registry consistency tests: "},{"type":"link","url":"https://github.com/JuliaRegistries/RegistryCI.jl/blob/112166929895fb5fdbcbca694008803f2a68b65c/src/registry_testing.jl#L29","text":"https://github.com/JuliaRegistries/RegistryCI.jl/blob/112166929895fb5fdbcbca694008803f2a68b65c/src/registry_testing.jl#L29"}]}]}]},{"client_msg_id":"3a4c01fc-d2e2-4c59-a01a-878aa35041cb","type":"message","text":"Yes code was shuffled around","user":"U67SCG4HG","ts":"1610674934.006600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R3i+s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes code was shuffled around"}]}]}],"thread_ts":"1610674934.006600","reply_count":1,"reply_users_count":1,"latest_reply":"1610674963.006700","reply_users":["U67SCG4HG"],"subscribed":false},{"client_msg_id":"a5fe9761-bf64-49b0-a196-2072b3a402bc","type":"message","text":"libgit2's support for SSH host verification is so broken that I can only conclude that no one actually verifies hosts when using it","user":"U6795JH6H","ts":"1611072782.028300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V6yWX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"libgit2's support for SSH host verification is so broken that I can only conclude that no one actually verifies hosts when using it"}]}]}],"reactions":[{"name":"point_up","users":["U679T6QF7","U7THT3TM3"],"count":2},{"name":"picard_facepalm","users":["U9VG1AYSG"],"count":1}]},{"client_msg_id":"fef14131-4a62-4c77-a151-c27df718511b","type":"message","text":"I’ve had to patch libgit2 to allow using libssh2's `libssh2_knownhost_check` function","user":"U6795JH6H","ts":"1611072816.028900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SwR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve had to patch libgit2 to allow using libssh2's "},{"type":"text","text":"libssh2_knownhost_check","style":{"code":true}},{"type":"text","text":" function"}]}]}],"thread_ts":"1611072816.028900","reply_count":5,"reply_users_count":3,"latest_reply":"1611088489.036400","reply_users":["U69J94HT9","U6795JH6H","U6A936746"],"subscribed":false},{"client_msg_id":"7f85fbf0-f71f-42a9-aed2-e58c746e00da","type":"message","text":"and now I’ve discovered that if you try to connect to a non-standard port, the callback doesn’t get that port number in any way, so there is no possible way to do the verification correctly","user":"U6795JH6H","ts":"1611072872.030200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QY1Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and now I’ve discovered that if you try to connect to a non-standard port, the callback doesn’t get that port number in any way, so there is no possible way to do the verification correctly"}]}]}],"reactions":[{"name":"joy","users":["UDB26738Q","U7THT3TM3"],"count":2}]},{"client_msg_id":"88bc689b-c79a-483f-b534-d1812d5e9402","type":"message","text":"so I guess I’m going to try to patch it to pass the port number","user":"U6795JH6H","ts":"1611072894.030600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fwVu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I guess I’m going to try to patch it to pass the port number"}]}]}]},{"client_msg_id":"a2e9e859-e195-42ae-a4b8-e403a0877dee","type":"message","text":"<https://github.com/JuliaLang/Pkg.jl/issues/2287#issuecomment-760343932|https://github.com/JuliaLang/Pkg.jl/issues/2287#issuecomment-760343932> is getting quite critical. I'm getting it over and over and see a lot of reports from people in different venues about it. Turning off Pkg server seems to fix it.","user":"U67D54KS8","ts":"1611081946.033200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h9FTk","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2287#issuecomment-760343932","text":"https://github.com/JuliaLang/Pkg.jl/issues/2287#issuecomment-760343932"},{"type":"text","text":" is getting quite critical. I'm getting it over and over and see a lot of reports from people in different venues about it. Turning off Pkg server seems to fix it."}]}]}]},{"client_msg_id":"4011bdcb-17b9-4c52-b908-c5eae71c599f","type":"message","text":"Mostly seems to happen when downloading largish artifacts for me (CUDA)","user":"U67D54KS8","ts":"1611081998.033800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fip","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Mostly seems to happen when downloading largish artifacts for me (CUDA)"}]}]}]},{"client_msg_id":"9271974a-89e0-4ac7-a7ad-0c3fb3265886","type":"message","text":"Qt is also quite big (I think?).","user":"U67SCG4HG","ts":"1611082118.034100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GLp+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Qt is also quite big (I think?)."}]}]}],"thread_ts":"1611082118.034100","reply_count":2,"reply_users_count":2,"latest_reply":"1611082152.034400","reply_users":["UDB26738Q","U67SCG4HG"],"subscribed":false},{"client_msg_id":"3972447f-02aa-4db4-8c54-4f983b1610b5","type":"message","text":"I think there are two issues:\n 1. PkgServers might handle big artifacts badly\n 2. The new libcurl download machinery never times out and sometimes even deadlocks it seems like.","user":"U67SCG4HG","ts":"1611082373.035500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CGGL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think there are two issues:\n 1. PkgServers might handle big artifacts badly\n 2. The new libcurl download machinery never times out and sometimes even deadlocks it seems like."}]}]}]},{"client_msg_id":"28139ee4-92d0-41ac-a408-895aca0f0b08","type":"message","text":"I took a look into the disappearing `Registry.toml` issue and think it might be this <https://github.com/JuliaLang/Pkg.jl/issues/1667#issuecomment-763293626|https://github.com/JuliaLang/Pkg.jl/issues/1667#issuecomment-763293626>\n\nEdit.. it’s already fixed in 1.6","user":"U8MPCDJAY","ts":"1611111421.037400","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1611127227.000000"},"blocks":[{"type":"rich_text","block_id":"IosJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I took a look into the disappearing "},{"type":"text","text":"Registry.toml","style":{"code":true}},{"type":"text","text":" issue and think it might be this "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/1667#issuecomment-763293626","text":"https://github.com/JuliaLang/Pkg.jl/issues/1667#issuecomment-763293626"},{"type":"text","text":"\n\n"},{"type":"text","text":"Edit.. it’s already fixed in 1.6"}]}]}]},{"client_msg_id":"9a4e548a-6900-472f-9364-391bd9e935f0","type":"message","text":"I have managed to find a case where the `PkgServer` stops sending a full request; it’s a bug in the streaming of large files that I’m trying to track down.  It is interesting, however, that `Pkg` seems to never time out.  I believe the symptom is the same as what Fredrik reported earlier; that the PkgServer promises a particular `Content-Length` but then does not live up to its promise","user":"U66GD0880","ts":"1611189048.039000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"56JW1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have managed to find a case where the "},{"type":"text","text":"PkgServer","style":{"code":true}},{"type":"text","text":" stops sending a full request; it’s a bug in the streaming of large files that I’m trying to track down.  It is interesting, however, that "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" seems to never time out.  I believe the symptom is the same as what Fredrik reported earlier; that the PkgServer promises a particular "},{"type":"text","text":"Content-Length","style":{"code":true}},{"type":"text","text":" but then does not live up to its promise"}]}]}]},{"client_msg_id":"6a032df1-6596-4702-85ce-da2002bb16d2","type":"message","text":"I’m not sure if the connection is being kept alive or not and if that might be causing libcurl some confusion, but I wonder if there’s some kind of timeout for when you haven’t received any data at all that we’re not setting","user":"U66GD0880","ts":"1611189092.039900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e06V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m not sure if the connection is being kept alive or not and if that might be causing libcurl some confusion, but I wonder if there’s some kind of timeout for when you haven’t received any data at all that we’re not setting"}]}]}]},{"client_msg_id":"3327fb97-0a81-4e3a-9f91-d84c3abd5738","type":"message","text":"Note that if the server is completely dead, Pkg sometimes error when the server dies, and sometimes just hangs forever","user":"U67SCG4HG","ts":"1611189490.041100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qR=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note that if the server is completely dead, Pkg sometimes error when the server dies, and sometimes just hangs forever"}]}]}]},{"client_msg_id":"f06f6d24-9406-42d1-b267-b125d7fda7af","type":"message","text":"anybody here familiar with the file format used by the registry who can verify that <https://github.com/JuliaRegistries/General/pull/28451> is correct (i.e., does what it claims, as described in there)?","user":"U012FH66MFW","ts":"1611315357.002200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pmw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anybody here familiar with the file format used by the registry who can verify that "},{"type":"link","url":"https://github.com/JuliaRegistries/General/pull/28451"},{"type":"text","text":" is correct (i.e., does what it claims, as described in there)?"}]}]}],"thread_ts":"1611315357.002200","reply_count":1,"reply_users_count":1,"latest_reply":"1611324302.002400","reply_users":["UBVE598BC"],"subscribed":false,"reactions":[{"name":"merged","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"b4cd24f6-0719-4f30-ae57-783a636be660","type":"message","text":"Something seems very broken with SSH support on master:\n```(@v1.7) pkg&gt; dev git@github.com:JuliaComputing/NgSpice.jl.git\n     Cloning git-repo `git@github.com:JuliaComputing/NgSpice.jl.git`\n\nsignal (11): Segmentation fault\nin expression starting at none:0\ngit_net_url_is_default_port at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\n_git_ssh_setup_conn at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\ngit_smart__connect at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\ngit_remote__connect at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)```","user":"U674T3KB3","ts":"1611335009.002900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aA1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Something seems very broken with SSH support on master:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(@v1.7) pkg> dev git@github.com:JuliaComputing/NgSpice.jl.git\n     Cloning git-repo `git@github.com:JuliaComputing/NgSpice.jl.git`\n\nsignal (11): Segmentation fault\nin expression starting at none:0\ngit_net_url_is_default_port at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\n_git_ssh_setup_conn at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\ngit_smart__connect at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)\ngit_remote__connect at /home/keno/julia-comparison/usr/bin/../lib/libgit2.so (unknown line)"}]}]}]},{"client_msg_id":"b0b22891-b165-4b63-84be-2a8b72896eee","type":"message","text":"is this known?","user":"U674T3KB3","ts":"1611335013.003100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QTcOe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is this known?"}]}]}]},{"client_msg_id":"e8acbce6-de20-4803-bfa2-cff0de276ba3","type":"message","text":"<@U6795JH6H> maybe related to your recent verification changes?","user":"U674T3KB3","ts":"1611335030.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tSj","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6795JH6H"},{"type":"text","text":" maybe related to your recent verification changes?"}]}]}]},{"client_msg_id":"a69fb7e6-c3d8-4bd5-a20e-bedbcb1cabdd","type":"message","text":"many people are reporting segfaults","user":"UDB26738Q","ts":"1611335120.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ow=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"many people are reporting segfaults"}]}]}]},{"client_msg_id":"9cf3252f-403e-4130-8857-1a3a14993603","type":"message","text":"yeah, I have a patch for it","user":"U6795JH6H","ts":"1611335462.003900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QaFgA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, I have a patch for it"}]}]}],"reactions":[{"name":"party_wizard","users":["UDB26738Q","U7THT3TM3"],"count":2}]},{"client_msg_id":"8fe37571-0d6a-4c99-8fbe-4fc117b3e84b","type":"message","text":"it’s unfortunate that testing this stuff requires us having an SSH server and also running an SSH server on a non-standard port; we could do it, but it’s a lot and I really don’t want to add more services that can go wrong to our CI","user":"U6795JH6H","ts":"1611335585.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"41Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it’s unfortunate that testing this stuff requires us having an SSH server and also running an SSH server on a non-standard port; we could do it, but it’s a lot and I really don’t want to add more services that can go wrong to our CI"}]}]}]},{"client_msg_id":"c7fe750c-e91f-462d-934d-5848a6ec7300","type":"message","text":"Just use <https://github.com/Keno/SSH.jl> :wink:","user":"U674T3KB3","ts":"1611335688.005600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/y9z/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just use "},{"type":"link","url":"https://github.com/Keno/SSH.jl"},{"type":"text","text":" "},{"type":"emoji","name":"wink"}]}]}]},{"client_msg_id":"9ea43308-f9b6-41c2-a51c-03c1a840e124","type":"message","text":"no external services required","user":"U674T3KB3","ts":"1611335713.005900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JkUcV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no external services required"}]}]}]},{"client_msg_id":"8753afb3-9db1-4901-8acb-8d73c660d271","type":"message","text":"love the README","user":"U6795JH6H","ts":"1611335736.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vt5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"love the README"}]}]}]},{"client_msg_id":"ceacb933-bb1e-4132-b45a-d5c74ad4deb2","type":"message","text":"README costs extra","user":"U674T3KB3","ts":"1611335842.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l8RNv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"README costs extra"}]}]}]},{"client_msg_id":"48ea37c7-8bdd-4979-b728-8c272fbc4f25","type":"message","text":"that’s how they getcha","user":"U6795JH6H","ts":"1611335902.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aQW7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’s how they getcha"}]}]}]},{"client_msg_id":"8feff7d0-f5f9-438d-b93e-d888e15d2f74","type":"message","text":"more seriously though, you might be able to BB something like dropbear and use it as a local test server","user":"U674T3KB3","ts":"1611335921.007100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HhS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"more seriously though, you might be able to BB something like dropbear and use it as a local test server"}]}]}]},{"client_msg_id":"4373ee14-9877-4adb-826b-27f105f194d1","type":"message","text":"yeah, ok. more than I’m going to do at the moment though","user":"U6795JH6H","ts":"1611336163.007400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CS23","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, ok. more than I’m going to do at the moment though"}]}]}]},{"client_msg_id":"c48add9b-0a33-40c2-9575-404f453e81b3","type":"message","text":"fix is up: <https://github.com/JuliaLang/julia/pull/39364>","user":"U6795JH6H","ts":"1611337252.007600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Nx1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fix is up: "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39364"}]}]}],"reactions":[{"name":"up","users":["U680THK2S","UDB26738Q","U674T3KB3","U7THT3TM3"],"count":4}]},{"client_msg_id":"e9d39dfe-891a-4df6-89fb-76c7b4ebba5c","type":"message","text":"There’s an odd git tarball download issue happening on Pkg master and the release-1.6 branch, that only happens on ubuntu when not using the pkg server\n```failed to get tarball from Set([\"<https://github.com/JuliaData/Parsers.jl.git>\"])```\n<https://github.com/JuliaLang/Pkg.jl/pull/2354#issuecomment-765888379>\n\nCould it be related to the LibGit2 changes?","user":"U8MPCDJAY","ts":"1611390626.009800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IPR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There’s an odd git tarball download issue happening on Pkg master and the release-1.6 branch, that only happens on ubuntu when not using the pkg server\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"failed to get tarball from Set([\""},{"type":"link","url":"https://github.com/JuliaData/Parsers.jl.git"},{"type":"text","text":"\"])"}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2354#issuecomment-765888379"},{"type":"text","text":"\n\nCould it be related to the LibGit2 changes?"}]}]}]},{"client_msg_id":"27afacff-1894-41d2-abf3-f48cfae5a434","type":"message","text":"I don’t think so.. the tarball downloads don’t go via LibGit2, right?\nPerhaps it’s API rate limiting?","user":"U8MPCDJAY","ts":"1611393594.011000","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1611393608.000000"},"blocks":[{"type":"rich_text","block_id":"szS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think so.. the tarball downloads don’t go via LibGit2, right?\nPerhaps it’s API rate limiting?"}]}]}]},{"client_msg_id":"a8c6efbf-7068-4acf-86e1-37c7a7f04e76","type":"message","text":"Correct.\nThere was an issue before when GitHub served the wrong content, can you check that maybe?","user":"U67SCG4HG","ts":"1611393677.012900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D5p3C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Correct.\nThere was an issue before when GitHub served the wrong content, can you check that maybe?"}]}]}]},{"client_msg_id":"79e5e77e-577a-4040-8ff7-8c54c436a7a4","type":"message","text":"I added more detail to the error message\n```failed to get tarball for Set([\"<https://github.com/JuliaData/Parsers.jl.git>\"]) from [\"<https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714>\"]```\nThe URL works for me locally.. this looks like some API rate limit/block issue..\n<https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714>","user":"U8MPCDJAY","ts":"1611424354.014800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K7H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I added more detail to the error message\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"failed to get tarball for Set([\""},{"type":"link","url":"https://github.com/JuliaData/Parsers.jl.git"},{"type":"text","text":"\"]) from [\""},{"type":"link","url":"https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714"},{"type":"text","text":"\"]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The URL works for me locally.. this looks like some API rate limit/block issue..\n"},{"type":"link","url":"https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714"}]}]}]},{"client_msg_id":"363687d3-8add-40ed-b9da-34c466ae1c84","type":"message","text":"PR with the more detailed error message <https://github.com/JuliaLang/Pkg.jl/pull/2357>","user":"U8MPCDJAY","ts":"1611424377.015100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QsefX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PR with the more detailed error message "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2357"}]}]}]},{"client_msg_id":"af8f84c3-7334-4346-8b12-86ed38e431d5","type":"message","text":"A bit more info:\n- It only happens on ubuntu without the package server within tests\n- A simple `curl` can download the file outside of julia\n- The core error is a `HTTP/2 403` (I added an error log here)\n```┌ Error: failed to download <https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714>\n│   exception = HTTP/2 403 while requesting <https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714>\n└ @ Pkg.Operations ~/work/Pkg.jl/Pkg.jl/src/Operations.jl:509```\n- It’s not specific to that url.. there are other <http://api.github.com|api.github.com> 403's earlier in tests, it’s just that cloning isn’t allowed in that test due to `use_only_tarballs_for_downloads=true`","user":"U8MPCDJAY","ts":"1611439923.017400","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1611440041.000000"},"blocks":[{"type":"rich_text","block_id":"GUJ0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A bit more info:\n- It only happens on ubuntu without the package server within tests\n- A simple "},{"type":"text","text":"curl","style":{"code":true}},{"type":"text","text":" can download the file outside of julia\n- The core error is a "},{"type":"text","text":"HTTP/2 403","style":{"code":true}},{"type":"text","text":" (I added an error log here)\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Error: failed to download "},{"type":"link","url":"https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714"},{"type":"text","text":"\n│   exception = HTTP/2 403 while requesting "},{"type":"link","url":"https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714"},{"type":"text","text":"\n└ @ Pkg.Operations ~/work/Pkg.jl/Pkg.jl/src/Operations.jl:509"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"- It’s not specific to that url.. there are other "},{"type":"link","url":"http://api.github.com","text":"api.github.com"},{"type":"text","text":" 403's earlier in tests, it’s just that cloning isn’t allowed in that test due to "},{"type":"text","text":"use_only_tarballs_for_downloads=true","style":{"code":true}}]}]}],"reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"9f97671f-388c-4e61-9bec-86caa9aee7ce","type":"message","text":"```(jl_dDFSry) pkg&gt; precompile\n\njulia&gt; @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n[ Info: Precompiling Plots [91a5bcdd-55d7-5caf-9e0b-520d859cae80]```\n:disappointed:","user":"U67D54KS8","ts":"1611506850.017900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2qW4V","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(jl_dDFSry) pkg> precompile\n\njulia> @time (using Plots; display(plot(1:0.1:10, sin.(1:0.1:10))))\n[ Info: Precompiling Plots [91a5bcdd-55d7-5caf-9e0b-520d859cae80]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\n"},{"type":"emoji","name":"disappointed"}]}]}],"thread_ts":"1611506850.017900","reply_count":3,"reply_users_count":1,"latest_reply":"1611510708.019300","reply_users":["U8MPCDJAY"],"subscribed":false},{"client_msg_id":"85bf5376-58b5-4ce0-89b1-c065b368de03","type":"message","text":"Yeah, I also see that from time to time","user":"UDB26738Q","ts":"1611506882.018300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w7x02","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I also see that from time to time"}]}]}]},{"client_msg_id":"deedd3f1-3186-447b-afca-99967d96002a","type":"message","text":"I just saw that too… :/","user":"U8MPCDJAY","ts":"1611507501.018700","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1611507906.000000"},"blocks":[{"type":"rich_text","block_id":"VzKa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just saw that too… :/"}]}]}]},{"client_msg_id":"8ECFF6D9-C429-4805-8A5A-708A0DD2FBB8","type":"message","text":"This download failure has stuck around.. It’s reproducible when running the tests locally on ubuntu <https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549|https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549>","user":"U8MPCDJAY","ts":"1611578436.021500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6niOM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This download failure has stuck around.. It’s reproducible when running the tests locally on ubuntu "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549","text":"https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549"}]}]}],"thread_ts":"1611578436.021500","reply_count":24,"reply_users_count":2,"latest_reply":"1611602429.032200","reply_users":["UDB26738Q","U8MPCDJAY"],"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"This has boiled down to this, which reliably 403's locally on ubuntu but not MacOS\n```import Downloads\n\ntesturl1 = \"<https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714>\"\ntesturl2 = \"<https://api.github.com/repos/JuliaIO/JSON.jl/tarball/81690084b6198a2e1da36fcfda16eeca9f9f24e4>\"\ndest1, io = mktemp()\ndest2, io = mktemp()\n\nfor i in 1:10\n    Base.Experimental.@sync begin\n        @async Downloads.download(testurl1, dest1, verbose = true)\n        @async Downloads.download(testurl2, dest2, verbose = true)\n    end\nend```\n<https://github.com/JuliaLang/Pkg.jl/pull/2357#issuecomment-767041712>","user":"U8MPCDJAY","ts":"1611602153.031500","thread_ts":"1611578436.021500","root":{"client_msg_id":"8ECFF6D9-C429-4805-8A5A-708A0DD2FBB8","type":"message","text":"This download failure has stuck around.. It’s reproducible when running the tests locally on ubuntu <https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549|https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549>","user":"U8MPCDJAY","ts":"1611578436.021500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6niOM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This download failure has stuck around.. It’s reproducible when running the tests locally on ubuntu "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549","text":"https://github.com/JuliaLang/Pkg.jl/pull/2357#pullrequestreview-574889549"}]}]}],"thread_ts":"1611578436.021500","reply_count":24,"reply_users_count":2,"latest_reply":"1611602429.032200","reply_users":["UDB26738Q","U8MPCDJAY"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"Gpd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This has boiled down to this, which reliably 403's locally on ubuntu but not MacOS\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"import Downloads\n\ntesturl1 = \""},{"type":"link","url":"https://api.github.com/repos/JuliaData/Parsers.jl/tarball/50c9a9ed8c714945e01cd53a21007ed3865ed714"},{"type":"text","text":"\"\ntesturl2 = \""},{"type":"link","url":"https://api.github.com/repos/JuliaIO/JSON.jl/tarball/81690084b6198a2e1da36fcfda16eeca9f9f24e4"},{"type":"text","text":"\"\ndest1, io = mktemp()\ndest2, io = mktemp()\n\nfor i in 1:10\n    Base.Experimental.@sync begin\n        @async Downloads.download(testurl1, dest1, verbose = true)\n        @async Downloads.download(testurl2, dest2, verbose = true)\n    end\nend"}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2357#issuecomment-767041712"}]}]}],"client_msg_id":"7eee3169-96fd-4f48-8732-b302ef05f95e"},{"client_msg_id":"25ad632d-0104-4d0f-aeaf-95a9897c006e","type":"message","text":"stupid question, but: does Pkg.jl support circular dependencies in packages?","user":"U012FH66MFW","ts":"1611758481.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ECwP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"stupid question, but: does Pkg.jl support circular dependencies in packages?"}]}]}]},{"client_msg_id":"a4a33cbd-b0ba-4b91-b974-026f1cff6c15","type":"message","text":"until some time ago the answer was \"in principle yes, but that's a bad idea and some tools may not work\", I don't know if it became more strict lately","user":"UDB26738Q","ts":"1611758786.033900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OFH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"until some time ago the answer was \"in principle yes, but that's a bad idea and some tools may not work\", I don't know if it became more strict lately"}]}]}]},{"client_msg_id":"0EDF0332-7D72-42B2-A153-8B45FDB0B84D","type":"message","text":"It does, but `Pkg.precompile` will skip any package in a circular loop","user":"U8MPCDJAY","ts":"1611759071.035300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eEDQv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It does, but `Pkg.precompile` will skip any package in a circular loop"}]}]}],"reactions":[{"name":"curly_loop","users":["UDB26738Q","U6788D83U","U6795JH6H","U6C5KSWAC"],"count":4}]},{"client_msg_id":"ad237589-4f26-4514-a30d-1afe521c7e34","type":"message","text":"so... what happens if I try to load such a thing?","user":"U012FH66MFW","ts":"1611759185.035800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QlQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so... what happens if I try to load such a thing?"}]}]}],"reactions":[{"name":"booom","users":["UDB26738Q"],"count":1}]},{"type":"message","subtype":"me_message","text":"will later give it a try by generating two packages with such a circular dep","user":"U012FH66MFW","ts":"1611761226.036200"},{"client_msg_id":"1fabea65-2bf9-46c2-85e4-b37f40b9cf80","type":"message","text":"The idea is that circular deps are allowed via listings in in Project.tomls but if they are actually loaded, then the world explodes etc.","user":"U8MPCDJAY","ts":"1611761985.038000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mdbM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The idea is that circular deps are allowed via listings in in Project.tomls but if they are actually loaded, then the world explodes etc."}]}]}]},{"client_msg_id":"77c2a124-d601-4132-b8c2-583f315c1340","type":"message","text":"Whether packages actually are loaded can be guarded by runtime decisions like via. Requires.jl","user":"U8MPCDJAY","ts":"1611762091.039500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SHAPW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Whether packages actually are loaded can be guarded by runtime decisions like via. Requires.jl"}]}]}]},{"client_msg_id":"2759148d-c732-400d-9df2-efe973c51f0f","type":"message","text":"I’m pretty sure precompilation will fail, because while you’re compiling module A, it will load B and start precompiling that, then B will try to load A, and it will complain","user":"U66GD0880","ts":"1611780452.040500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sPV0D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m pretty sure precompilation will fail, because while you’re compiling module A, it will load B and start precompiling that, then B will try to load A, and it will complain"}]}]}]},{"client_msg_id":"42126139-ae42-4f42-94b9-cbd03a11544d","type":"message","text":"if any of the invenia guys are around, a gentle reminder that I'm looking for someone to take a look at my PkgTemplates PR (<https://github.com/invenia/PkgTemplates.jl/pull/264>)","user":"U9VG1AYSG","ts":"1611788601.041200","team":"T68168MUP","edited":{"user":"U9VG1AYSG","ts":"1611788621.000000"},"blocks":[{"type":"rich_text","block_id":"kKf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if any of the invenia guys are around, a gentle reminder that I'm looking for someone to take a look at my PkgTemplates PR ("},{"type":"link","url":"https://github.com/invenia/PkgTemplates.jl/pull/264"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"66491dcc-a834-4ee7-8f2e-411928f606e2","type":"message","text":"to add support for 7z compressed tarballs, we only need to add the `.7z` extension in <https://github.com/JuliaLang/Pkg.jl/blob/76402b8974aba76f4412e59bee2e4bc6be1b7860/src/PlatformEngines.jl#L463>?  anything else?  (CC: <@U679T6QF7>)","user":"UDB26738Q","ts":"1611849865.042600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+unM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to add support for 7z compressed tarballs, we only need to add the "},{"type":"text","text":".7z","style":{"code":true}},{"type":"text","text":" extension in "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/blob/76402b8974aba76f4412e59bee2e4bc6be1b7860/src/PlatformEngines.jl#L463"},{"type":"text","text":"?  anything else?  (CC: "},{"type":"user","user_id":"U679T6QF7"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"A1520CDB-BDA5-4FFC-BC0D-850F3E2197F0","type":"message","text":"We’ve seen 3 reports of the ReadOnlyMemoryError during precomp on windows, which seems to be fixed by ~halving the number of tasks. \n\nThe question is, is that enough of a reason to limit all windows precomp in 1.6 to half the possible tasks?\n\n<https://github.com/JuliaLang/Pkg.jl/issues/2323|https://github.com/JuliaLang/Pkg.jl/issues/2323>","user":"U8MPCDJAY","ts":"1611854417.045300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PvoC/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We’ve seen 3 reports of the ReadOnlyMemoryError during precomp on windows, which seems to be fixed by ~halving the number of tasks. \n"},{"type":"text","text":"\n"},{"type":"text","text":"The question is, is that enough of a reason to limit all windows precomp in 1.6 to half the possible tasks?\n"},{"type":"text","text":"\n"},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2323","text":"https://github.com/JuliaLang/Pkg.jl/issues/2323"}]}]}]},{"client_msg_id":"E2358F84-388F-4073-880C-8C0E75E8FBB4","type":"message","text":"I don’t think we can catch it","user":"U8MPCDJAY","ts":"1611854484.045700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/oN3I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think we can catch it"}]}]}]},{"client_msg_id":"fa965798-cace-4800-b608-25daee5e25b8","type":"message","text":"A fix/patch given this has become an RC1 blocker <https://github.com/JuliaLang/Pkg.jl/pull/2366>","user":"U8MPCDJAY","ts":"1611868964.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oPgT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A fix/patch given this has become an RC1 blocker "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2366"}]}]}]},{"client_msg_id":"4e463775-a4e9-436d-adf7-668af0b5a8dc","type":"message","text":"Yeah, windows.. file exists, then doesn’t exist next line :+1::ok_hand::ok_hand::ok_hand:\n<https://github.com/JuliaLang/Pkg.jl/pull/2374#issuecomment-770243725>","user":"U8MPCDJAY","ts":"1612026245.049900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xP+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, windows.. file exists, then doesn’t exist next line "},{"type":"emoji","name":"+1"},{"type":"emoji","name":"ok_hand"},{"type":"emoji","name":"ok_hand"},{"type":"emoji","name":"ok_hand"},{"type":"text","text":"\n"},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2374#issuecomment-770243725"}]}]}],"reactions":[{"name":"windows96","users":["UDB26738Q","U7THT3TM3","U6C5KSWAC"],"count":3}]},{"client_msg_id":"fc868493-0a3a-4a7a-a817-c9044a37e71c","type":"message","text":"Actually, the file didn’t exist, I misread the log\nBut it looks like the issue is a hash mismatch <https://github.com/JuliaLang/Pkg.jl/pull/2374#issuecomment-770268865>","user":"U8MPCDJAY","ts":"1612035589.050900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E276x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Actually, the file didn’t exist, I misread the log\nBut it looks like the issue is a hash mismatch "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2374#issuecomment-770268865"}]}]}]},{"client_msg_id":"50a14069-bf62-4715-9043-bebb8d99779e","type":"message","text":"asking here since most many people here are somewhat familiar with LibGit2: the example in this docstring doesn't make much sense to me <https://docs.julialang.org/en/v1/stdlib/LibGit2/#LibGit2.GitRevWalker>  what are those `oid` and `by` keyword arguments to `count`?","user":"UDB26738Q","ts":"1612050211.052100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ntq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"asking here since most many people here are somewhat familiar with LibGit2: the example in this docstring doesn't make much sense to me "},{"type":"link","url":"https://docs.julialang.org/en/v1/stdlib/LibGit2/#LibGit2.GitRevWalker"},{"type":"text","text":"  what are those "},{"type":"text","text":"oid","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"by","style":{"code":true}},{"type":"text","text":" keyword arguments to "},{"type":"text","text":"count","style":{"code":true}},{"type":"text","text":"?"}]}]}],"thread_ts":"1612050211.052100","reply_count":2,"reply_users_count":1,"latest_reply":"1612050592.052400","reply_users":["UDB26738Q"],"subscribed":false},{"client_msg_id":"dce94aca-864f-401b-9464-56b78a8a5671","type":"message","text":"So I’ve tracked down some of our Windows Pkg issues","user":"U66GD0880","ts":"1612214150.053200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CAeo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I’ve tracked down some of our Windows Pkg issues"}]}]}]},{"client_msg_id":"9ba5c35f-51bd-415f-b8d1-f39313866bbf","type":"message","text":"One big one is that libuv doesn’t support relative symlinks to directories","user":"U66GD0880","ts":"1612214166.053600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vrvFp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One big one is that libuv doesn’t support relative symlinks to directories"}]}]}]},{"client_msg_id":"c670c1b1-2761-4e12-a2f5-f978f32fbc81","type":"message","text":"<https://github.com/JuliaLang/libuv/blob/julia-uv2-1.39.0/src/win/fs.c#L2793-L2797>","user":"U66GD0880","ts":"1612214181.053800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fgW","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/libuv/blob/julia-uv2-1.39.0/src/win/fs.c#L2793-L2797"}]}]}]},{"client_msg_id":"d30bffa5-1924-4521-833f-ba349f93fe0b","type":"message","text":"I don’t think it would be _too_ hard to add support for that","user":"U66GD0880","ts":"1612214195.054100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xCGBT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t think it would be "},{"type":"text","text":"too","style":{"italic":true}},{"type":"text","text":" hard to add support for that"}]}]}]},{"client_msg_id":"c44b367a-4b6d-4ed4-85a2-ec6735d91f8f","type":"message","text":"but this causes all sorts of weirdness like the following:\n\n```julia&gt; mktempdir() do dir\n       mkdir(joinpath(dir, \"foo\"))\n       symlink(\"foo\", joinpath(dir, \"link\"))\n       stat(joinpath(dir, \"link\"))\n       end\nERROR: IOError: stat(\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Temp\\\\jl_WyiDxs\\\\link\"): permission denied (EACCES)\nStacktrace:\n [1] uv_error\n   @ .\\libuv.jl:97 [inlined]\n [2] stat(path::String)\n   @ Base.Filesystem .\\stat.jl:69\n [3] (::var\"#1#2\")(dir::String)\n   @ Main .\\REPL[2]:4\n [4] mktempdir(fn::var\"#1#2\", parent::String; prefix::String)\n   @ Base.Filesystem .\\file.jl:729\n [5] mktempdir(fn::Function, parent::String)\n   @ Base.Filesystem .\\file.jl:727\n [6] top-level scope\n   @ REPL[2]:1```","user":"U66GD0880","ts":"1612214231.055000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EhF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but this causes all sorts of weirdness like the following:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> mktempdir() do dir\n       mkdir(joinpath(dir, \"foo\"))\n       symlink(\"foo\", joinpath(dir, \"link\"))\n       stat(joinpath(dir, \"link\"))\n       end\nERROR: IOError: stat(\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Temp\\\\jl_WyiDxs\\\\link\"): permission denied (EACCES)\nStacktrace:\n [1] uv_error\n   @ .\\libuv.jl:97 [inlined]\n [2] stat(path::String)\n   @ Base.Filesystem .\\stat.jl:69\n [3] (::var\"#1#2\")(dir::String)\n   @ Main .\\REPL[2]:4\n [4] mktempdir(fn::var\"#1#2\", parent::String; prefix::String)\n   @ Base.Filesystem .\\file.jl:729\n [5] mktempdir(fn::Function, parent::String)\n   @ Base.Filesystem .\\file.jl:727\n [6] top-level scope\n   @ REPL[2]:1"}]}]}]},{"client_msg_id":"35ce642b-1082-45ef-816a-5f5db5d136a3","type":"message","text":"Oh, that's why my test is failing?","user":"UDB26738Q","ts":"1612214236.055300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C==X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, that's why my test is failing?"}]}]}]},{"client_msg_id":"4edca2c0-7399-4a9d-9dfa-912b7a71cd28","type":"message","text":"Possibly; I’m not sure which test you’re referring to","user":"U66GD0880","ts":"1612214258.055700","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1612214263.000000"},"blocks":[{"type":"rich_text","block_id":"cKl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly; I’m not sure which test you’re referring to"}]}]}],"thread_ts":"1612214258.055700","reply_count":13,"reply_users_count":2,"latest_reply":"1612215616.065900","reply_users":["UDB26738Q","U66GD0880"],"subscribed":false},{"client_msg_id":"44c41b32-751d-4aa8-beb8-8b21d3ddf11d","type":"message","text":"I believe the reason we’re seeing this raise its ugly head now is because we’ve moved more fully over to using `Tar.jl` to extract things, which is using Julia’s native `symlink()` which in turn triggers this issue if there are any relative-directory symlinks.  What’s worse, if the directory you’re trying to create a relative symlink to is in the current directory, it will transparently be converted into an absolute symlink, dodging the issue:\n\n<https://github.com/JuliaLang/julia/blob/master/base/file.jl#L999-L1004>","user":"U66GD0880","ts":"1612214377.057700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Ym","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe the reason we’re seeing this raise its ugly head now is because we’ve moved more fully over to using "},{"type":"text","text":"Tar.jl","style":{"code":true}},{"type":"text","text":" to extract things, which is using Julia’s native "},{"type":"text","text":"symlink()","style":{"code":true}},{"type":"text","text":" which in turn triggers this issue if there are any relative-directory symlinks.  What’s worse, if the directory you’re trying to create a relative symlink to is in the current directory, it will transparently be converted into an absolute symlink, dodging the issue:\n\n"},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/base/file.jl#L999-L1004"}]}]}]},{"client_msg_id":"31eef47d-6ad6-4489-91f5-6db76ee6c6d9","type":"message","text":"So I think we need to do one of three things:\n\n* Fix libuv, preferably before 1.6 final\n* Use `mklink /d` instead of `jl_fs_symlink()` on windows\n* Avoid generating symlinks to directories at all","user":"U66GD0880","ts":"1612214447.058700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+kb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I think we need to do one of three things:\n\n* Fix libuv, preferably before 1.6 final\n* Use "},{"type":"text","text":"mklink /d","style":{"code":true}},{"type":"text","text":" instead of "},{"type":"text","text":"jl_fs_symlink()","style":{"code":true}},{"type":"text","text":" on windows\n* Avoid generating symlinks to directories at all"}]}]}],"thread_ts":"1612214447.058700","reply_count":2,"reply_users_count":2,"latest_reply":"1612220389.068500","reply_users":["U66GD0880","U8MPCDJAY"],"subscribed":false},{"client_msg_id":"97154be3-cb83-4385-a84f-7e29bcbec456","type":"message","text":"I’m in favor of the first option, but I’d like to hear what others have to say","user":"U66GD0880","ts":"1612214465.059300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WNHo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m in favor of the first option, but I’d like to hear what others have to say"}]}]}]},{"client_msg_id":"8ba2909e-7f85-4985-949d-35c33a446bef","type":"message","text":"wouldn’t this only manifest when running as admin? since otherwise Tar.jl should detect that it cannot symlink at all and create copies instead","user":"U6795JH6H","ts":"1612214679.061100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VL3D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wouldn’t this only manifest when running as admin? since otherwise Tar.jl should detect that it cannot symlink at all and create copies instead"}]}]}],"thread_ts":"1612214679.061100","reply_count":15,"reply_users_count":4,"latest_reply":"1612222754.068900","reply_users":["U66GD0880","U8MPCDJAY","U67D54KS8","U6795JH6H"],"subscribed":false},{"client_msg_id":"8bf30c4b-49c8-4471-b6a1-af8bf6ce3a0d","type":"message","text":"Okay, I think Ian and I have converged to a good fix: <https://github.com/JuliaLang/julia/pull/39491>","user":"U66GD0880","ts":"1612295375.069700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OeBNv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay, I think Ian and I have converged to a good fix: "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39491"}]}]}],"thread_ts":"1612295375.069700","reply_count":8,"reply_users_count":2,"latest_reply":"1612378954.079900","reply_users":["U8MPCDJAY","U66GD0880"],"subscribed":false,"reactions":[{"name":"+1","users":["U7THT3TM3","U8MPCDJAY"],"count":2}]},{"client_msg_id":"8a43c378-dd11-45d9-9839-008e3b975cb1","type":"message","text":"Mosè and I finally figured out why the BB CI never updated its registry: it’s because if you disable the PkgServer (e.g. `JULIA_PKG_SERVER=\"\"`) which we did to work around things halting a lot back when CI was really unstable in November.  It might be worthwhile having `Pkg` complain that it’s in non-PkgServer mode but the registry isn’t a git repo; right now it silently skips, but I think it should at least warn the user, as if they’ve disabled the PkgServer they probably want to get a git-clone version of their registry as well.","user":"U66GD0880","ts":"1612321138.074300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LnKf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Mosè and I finally figured out why the BB CI never updated its registry: it’s because if you disable the PkgServer (e.g. "},{"type":"text","text":"JULIA_PKG_SERVER=\"\"","style":{"code":true}},{"type":"text","text":") which we did to work around things halting a lot back when CI was really unstable in November.  It might be worthwhile having "},{"type":"text","text":"Pkg","style":{"code":true}},{"type":"text","text":" complain that it’s in non-PkgServer mode but the registry isn’t a git repo; right now it silently skips, but I think it should at least warn the user, as if they’ve disabled the PkgServer they probably want to get a git-clone version of their registry as well."}]}]}],"reactions":[{"name":"+1","users":["UDB26738Q","U6A936746","U7THT3TM3"],"count":3}]},{"client_msg_id":"321fc0c1-3766-4338-8129-2b78763df36a","type":"message","text":"Looks like there are new Pkg bugs (with jll packages?) introduced after the beta","user":"U67SCG4HG","ts":"1612357224.075300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XWbp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like there are new Pkg bugs (with jll packages?) introduced after the beta"}]}]}]},{"client_msg_id":"a84ab485-7caa-46c1-aba8-f5958187ebe7","type":"message","text":"In the RC?","user":"U67D54KS8","ts":"1612357239.075500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TKurE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In the RC?"}]}]}]},{"client_msg_id":"ab533c1d-8232-4173-95d4-d425286d1ffd","type":"message","text":"or.. the RC branch?","user":"U67D54KS8","ts":"1612357246.075700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vbcc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or.. the RC branch?"}]}]}]},{"client_msg_id":"76d0b84c-5522-425d-867c-fa778c8e4285","type":"message","text":"tip of release-1.6","user":"U67SCG4HG","ts":"1612357303.076100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nxHmP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"tip of release-1.6"}]}]}]},{"client_msg_id":"8cc1f824-0202-4df4-b81d-f9cad7f12588","type":"message","text":"what's the bug? any issue?","user":"U67D54KS8","ts":"1612357318.076300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s22o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what's the bug? any issue?"}]}]}]},{"client_msg_id":"db9d599e-04ed-45d5-9609-1cfd0e2b203b","type":"message","text":"Oh, `Zlib_jll` is a stdlib now? Man the number of stdlibs have exploded.","user":"U67SCG4HG","ts":"1612357425.076900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZYIkq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, "},{"type":"text","text":"Zlib_jll","style":{"code":true}},{"type":"text","text":" is a stdlib now? Man the number of stdlibs have exploded."}]}]}],"reactions":[{"name":"boom","users":["UDB26738Q","U67D54KS8","U6A936746","U6795JH6H","U680THK2S","UH108BJB1"],"count":6}]},{"client_msg_id":"a8805b29-4111-435b-a5f1-ba16b41bc656","type":"message","text":"anyway, it shouldn't fail like this:","user":"U67SCG4HG","ts":"1612357431.077100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TPOCS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anyway, it shouldn't fail like this:"}]}]}]},{"client_msg_id":"ce44913a-1aba-4a40-bae1-9be4c84eae99","type":"message","text":"```$ JULIA_LOAD_PATH=$PWD/Project.toml:@stdlib julia -e 'using Pkg; Pkg.add(\"Zlib_jll\")'\n   Resolving package versions...\n    Updating `/tmp/tmp.bkf5IJvGou/Project.toml`\n  [83775a58] + Zlib_jll\n    Updating `/tmp/tmp.bkf5IJvGou/Manifest.toml`\n  [8f399da3] + Libdl\n  [83775a58] + Zlib_jll\n[fredrik@erebor:/tmp/tmp.bkf5IJvGou]$ JULIA_LOAD_PATH=$PWD/Project.toml julia -e 'using Zlib_jll'\nERROR: ArgumentError: Package Zlib_jll [83775a58-1f1d-513f-b197-d71354ab007a] is required but does not seem to be installed:```","user":"U67SCG4HG","ts":"1612357686.077300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hEbpH","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ JULIA_LOAD_PATH=$PWD/Project.toml:@stdlib julia -e 'using Pkg; Pkg.add(\"Zlib_jll\")'\n   Resolving package versions...\n    Updating `/tmp/tmp.bkf5IJvGou/Project.toml`\n  [83775a58] + Zlib_jll\n    Updating `/tmp/tmp.bkf5IJvGou/Manifest.toml`\n  [8f399da3] + Libdl\n  [83775a58] + Zlib_jll\n[fredrik@erebor:/tmp/tmp.bkf5IJvGou]$ JULIA_LOAD_PATH=$PWD/Project.toml julia -e 'using Zlib_jll'\nERROR: ArgumentError: Package Zlib_jll [83775a58-1f1d-513f-b197-d71354ab007a] is required but does not seem to be installed:"}]}]}]},{"client_msg_id":"e95935c5-aba1-4a0d-86b8-22df0fc12c10","type":"message","text":"Doesn't happen with other (non-jll) stdlibs","user":"U67SCG4HG","ts":"1612357863.077600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pGj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Doesn't happen with other (non-jll) stdlibs"}]}]}]},{"client_msg_id":"678427ca-3feb-4677-8d33-7889e39439b9","type":"message","text":"<https://github.com/JuliaLang/julia/issues/39504>","user":"U67SCG4HG","ts":"1612358144.078000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bPcG","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/issues/39504"}]}]}]},{"client_msg_id":"51620620-c550-4099-b227-a2601e2f5168","type":"message","text":"<@U67SCG4HG>: would it be possible to add the “how old is the registry that this is serving” monitoring thing to the status page?","user":"U6795JH6H","ts":"1612383011.080900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NSOI","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67SCG4HG"},{"type":"text","text":": would it be possible to add the “how old is the registry that this is serving” monitoring thing to the status page?"}]}]}],"thread_ts":"1612383011.080900","reply_count":7,"reply_users_count":3,"latest_reply":"1612383928.082200","reply_users":["U67SCG4HG","U6795JH6H","U66GD0880"],"subscribed":false,"reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"2c887f6f-1d5e-42b7-85e8-46e8d57588dc","type":"message","text":"did Julia v1.5 used to fix permissions of executables in artifacts (something like an automatic `chmod +x`)?","user":"UDB26738Q","ts":"1612549611.083300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z1dB4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did Julia v1.5 used to fix permissions of executables in artifacts (something like an automatic "},{"type":"text","text":"chmod +x","style":{"code":true}},{"type":"text","text":")?"}]}]}]},{"client_msg_id":"b8f063e5-0547-4c69-92ae-d7d8b7581db9","type":"message","text":"`Plotly.jl` is broken with Julia v1.6 on Windows because their artifact has an executable which isn't executable and they say this is complicated to fix (:shrug:).  the fact is that this used to work before","user":"UDB26738Q","ts":"1612549704.084700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pBr6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Plotly.jl","style":{"code":true}},{"type":"text","text":" is broken with Julia v1.6 on Windows because their artifact has an executable which isn't executable and they say this is complicated to fix ("},{"type":"emoji","name":"shrug"},{"type":"text","text":").  the fact is that this used to work before"}]}]}],"thread_ts":"1612549704.084700","reply_count":4,"reply_users_count":2,"latest_reply":"1612550344.085400","reply_users":["U66GD0880","UDB26738Q"],"subscribed":false},{"client_msg_id":"C3F38D49-1EA7-4CA6-89D7-A5158C8CCBBB","type":"message","text":"For 1.6, should we default to cloning the General registry over Git (assuming that JULIA_PKG_SERVER is not set)? Since we are still having Pkg server/storage server issues that result in people having outdated registries.\n\nWe already do this for Windows, so I'm just suggesting that we do it for all platforms. We can change it in 1.7 or once the outdated registry issue is resolved on the infrastructure side.","user":"U7THT3TM3","ts":"1612569208.089500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JvN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For 1.6, should we default to cloning the General registry over Git (assuming that JULIA_PKG_SERVER is not set)? Since we are still having Pkg server/storage server issues that result in people having outdated registries.\n"},{"type":"text","text":"\n"},{"type":"text","text":"We already do this for Windows, so I'm just suggesting that we do it for all platforms. We can change it in 1.7 or once the outdated registry issue is resolved on the infrastructure side."}]}]}]},{"client_msg_id":"D74C53F4-D0FC-4292-8DD1-7AF570D86353","type":"message","text":"Having the General registry cloned over Git means that if someone wants a version that is registered in General but is not yet available in the Pkg server, the Pkg client falls back to obtaining the package version from GitHub.\n\nIn contrast, if the registry is obtained from the Pkg server, then if the Pkg server is out of date, there is no easy way for the user to get the desired package version.","user":"U7THT3TM3","ts":"1612569406.092300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tLSh=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Having the General registry cloned over Git means that if someone wants a version that is registered in General but is not yet available in the Pkg server, the Pkg client falls back to obtaining the package version from GitHub.\n"},{"type":"text","text":"\n"},{"type":"text","text":"In contrast, if the registry is obtained from the Pkg server, then if the Pkg server is out of date, there is no easy way for the user to get the desired package version."}]}]}]},{"client_msg_id":"99362f60-3914-411f-aacb-3a79a101ffef","type":"message","text":"this is probably a stupid question, but we all agree this needs to be fully resolved before a 1.6 RC right?  Silently missing 48 hours of package updates will be fairly disruptive","user":"U9VG1AYSG","ts":"1612569584.093000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fZHI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is probably a stupid question, but we all agree this needs to be fully resolved before a 1.6 RC right?  Silently missing 48 hours of package updates will be fairly disruptive"}]}]}]},{"client_msg_id":"16134c9d-89d4-44f7-b47c-3c75d2401a7a","type":"message","text":"oh, I was misunderstanding... it seems worse than that, this seems even to be a problem on 1.5, I have CI/CD breaking right now from this","user":"U9VG1AYSG","ts":"1612569717.093500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hyg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, I was misunderstanding... it seems worse than that, this seems even to be a problem on 1.5, I have CI/CD breaking right now from this"}]}]}],"thread_ts":"1612569717.093500","reply_count":25,"reply_users_count":3,"latest_reply":"1612571048.107000","reply_users":["UDB26738Q","U9VG1AYSG","U7THT3TM3"],"subscribed":false},{"client_msg_id":"D756897A-600A-4752-9490-285948EA5D01","type":"message","text":"I've opened this PR to discuss my suggestion above: <https://github.com/JuliaLang/Pkg.jl/pull/2377|https://github.com/JuliaLang/Pkg.jl/pull/2377>","user":"U7THT3TM3","ts":"1612569900.094200","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1612569968.000000"},"blocks":[{"type":"rich_text","block_id":"/h5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've opened this PR to discuss my suggestion above: "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/pull/2377","text":"https://github.com/JuliaLang/Pkg.jl/pull/2377"}]}]}]},{"client_msg_id":"9ae70c55-632c-4ea7-a58c-938b2d0e4d7f","type":"message","text":"it's really weird though, because I was using 1.5 at work all day and had no problems updating.  Guess it was talking to a different server instance","user":"U9VG1AYSG","ts":"1612569943.096200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nzc8I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's really weird though, because I was using 1.5 at work all day and had no problems updating.  Guess it was talking to a different server instance"}]}]}]}]}