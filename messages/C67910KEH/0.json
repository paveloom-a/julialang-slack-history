{"cursor": 12, "messages": [{"client_msg_id":"05A15B8D-99D9-40A7-B10A-E4EF5AB0B14A","type":"message","text":"FYI:\n\n<https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge|https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge>","user":"U7THT3TM3","ts":"1618034734.034500","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"PSA: GitHub may have automatically disabled CompatHelper on your repository after 60 days of inactivity","title_link":"https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge","text":"GitHub will automatically disabled scheduled workflows when there has been no activity on a repository in 60 days. Since CompatHelper is a scheduled workflow, this means that CompatHelper will be automatically disabled. If this happens on one or more of your repositories, you will need to manually re-enable the CompatHelper scheduled workflow. Otherwise, you will no longer receive CompatHelper pull requests. Here are the steps to re-enable the CompatHelper workflow on a repository: Step 1: Go...","fallback":"JuliaLang: PSA: GitHub may have automatically disabled CompatHelper on your repository after 60 days of inactivity","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/3X/4/f/4fe143024ee2ad84999503ec500c0e65877fade5_2_1024x73.png","ts":1618034597,"from_url":"https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge","thumb_width":1024,"thumb_height":73,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge"}],"blocks":[{"type":"rich_text","block_id":"axwvt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FYI:\n"},{"type":"text","text":"\n"},{"type":"link","url":"https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge","text":"https://discourse.julialang.org/t/psa-github-may-have-automatically-disabled-compathelper-on-your-repository-after-60-days-of-inactivity/58965?u=dilumaluthge"}]}]}]},{"client_msg_id":"c66c35de-4821-45ed-9f77-77e913995d62","type":"message","text":"Hi all, I’d like to present a small experimental compiler package I’ve been working on which some of you may find fun to experiment with:\n\n<https://discourse.julialang.org/t/ann-mixtape-jl-a-static-overlay-and-optimization-tool/58979>","user":"UKA81L34J","ts":"1618062064.038300","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"ANN: Mixtape.jl -- a static overlay and optimization tool","title_link":"https://discourse.julialang.org/t/ann-mixtape-jl-a-static-overlay-and-optimization-tool/58979","text":"Hi all – I’d like to present a small experimental compiler package I’ve been working on with the help of AbstractInterpreter and GPUCompiler (as well as the sick, twisted minds of @vchuravy and @Roger-luo). Here’s the value proposition: Mixtape.jl is a static method overlay and optimization tool which operates during Julia type inference. It allows you to (precisely) insert semantic-intruding changes to lowered code (e.g. replace CodeInfo , pre-optimize CodeInfo , and create other forms of s...","fallback":"JuliaLang: ANN: Mixtape.jl -- a static overlay and optimization tool","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1618061960,"from_url":"https://discourse.julialang.org/t/ann-mixtape-jl-a-static-overlay-and-optimization-tool/58979","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/ann-mixtape-jl-a-static-overlay-and-optimization-tool/58979"}],"blocks":[{"type":"rich_text","block_id":"TZ6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all, I’d like to present a small experimental compiler package I’ve been working on which some of you may find fun to experiment with:\n\n"},{"type":"link","url":"https://discourse.julialang.org/t/ann-mixtape-jl-a-static-overlay-and-optimization-tool/58979"}]}]}],"reactions":[{"name":"tada","users":["UCZ7VBGUD"],"count":1},{"name":"julia-illuminati","users":["UKA81L34J"],"count":1}]},{"client_msg_id":"5b296a2d-a964-47a3-9204-36fdbc461561","type":"message","text":"After finishing _Julia-Con: The Podcast_ I've serious podcast deficiency. Are there any Julia-related?","user":"U01TJ8PQM8T","ts":"1618070528.043700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8bo=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"After finishing "},{"type":"text","text":"Julia-Con: The Podcast ","style":{"italic":true}},{"type":"text","text":"I've serious podcast deficiency. Are there any Julia-related?"}]}]}],"thread_ts":"1618070528.043700","reply_count":1,"reply_users_count":1,"latest_reply":"1618070995.044200","reply_users":["UB7JS9CHF"],"is_locked":false,"subscribed":false},{"client_msg_id":"5a2d3241-ab7f-426b-ae53-4cb279f42f0d","type":"message","text":"I've got a package on Julia 1.5.4 (1.6 works) that hangs on precompilation forever, taking 100% cpu. Worked fine yesterday, no code changes, possibly package changes. Interrupting gets you:\n```^CERROR: InterruptException:\nStacktrace:\n [1] poptask(::Base.InvasiveLinkedListSynchronized{Task}) at ./task.jl:704\n [2] wait at ./task.jl:712 [inlined]\n [3] wait(::Base.GenericCondition{Base.Threads.SpinLock}) at ./condition.jl:106\n [4] wait(::Base.Process) at ./process.jl:621\n [5] success at ./process.jl:483 [inlined]\n [6] compilecache(::Base.PkgId, ::String) at ./loading.jl:1287\n [7] _require(::Base.PkgId) at ./loading.jl:1030\n [8] require(::Base.PkgId) at ./loading.jl:928\n [9] require(::Module, ::Symbol) at ./loading.jl:923```\nCI is here: <https://github.com/evetion/GeoArrays.jl/runs/2312784775?check_suite_focus=true>. Any tips on how to debug this so I can report it as a bug?","user":"U88813859","ts":"1618080949.048500","team":"T68168MUP","edited":{"user":"U88813859","ts":"1618080987.000000"},"blocks":[{"type":"rich_text","block_id":"IxC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've got a package on Julia 1.5.4 (1.6 works) that hangs on precompilation forever, taking 100% cpu. Worked fine yesterday, no code changes, possibly package changes. Interrupting gets you:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"^CERROR: InterruptException:\nStacktrace:\n [1] poptask(::Base.InvasiveLinkedListSynchronized{Task}) at ./task.jl:704\n [2] wait at ./task.jl:712 [inlined]\n [3] wait(::Base.GenericCondition{Base.Threads.SpinLock}) at ./condition.jl:106\n [4] wait(::Base.Process) at ./process.jl:621\n [5] success at ./process.jl:483 [inlined]\n [6] compilecache(::Base.PkgId, ::String) at ./loading.jl:1287\n [7] _require(::Base.PkgId) at ./loading.jl:1030\n [8] require(::Base.PkgId) at ./loading.jl:928\n [9] require(::Module, ::Symbol) at ./loading.jl:923"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"CI is here: "},{"type":"link","url":"https://github.com/evetion/GeoArrays.jl/runs/2312784775?check_suite_focus=true"},{"type":"text","text":". Any tips on how to debug this so I can report it as a bug?"}]}]}]},{"client_msg_id":"3557e128-123a-4c6e-86a5-d8b1ab1f59c1","type":"message","text":"Try load it with `compiled-modules=no`, if it hangs Ctrl-C might give you a good backtrace.","user":"U67D54KS8","ts":"1618082297.048800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KON","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try load it with "},{"type":"text","text":"compiled-modules=no","style":{"code":true}},{"type":"text","text":", if it hangs Ctrl-C might give you a good backtrace."}]}]}]},{"client_msg_id":"d4b90c02-6b7e-474b-8b7f-50f49337b9e9","type":"message","text":"Does `~`  is a binary operator somewhere in Julia?","user":"U0110B59U0Y","ts":"1618086570.050000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"229v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does "},{"type":"text","text":"~","style":{"code":true}},{"type":"text","text":"  is a binary operator somewhere in Julia?"}]}]}],"thread_ts":"1618086570.050000","reply_count":5,"reply_users_count":2,"latest_reply":"1618087670.051000","reply_users":["UM30MT6RF","U0110B59U0Y"],"is_locked":false,"subscribed":false},{"client_msg_id":"fdb21a3c-8076-469f-ae6a-c9d10b6a50f9","type":"message","text":"Would anyone here who is proficient with RCall be willing to help me out at some point with a side project I am working on? I am very new to the RCall and R ecosystems and would much benefit from help here with it! Thanks. :slightly_smiling_face: ( To be a bit more specific, more just looking for pointers when trying to interop some of my work in R with Julia)","user":"US64J0NPQ","ts":"1618108175.056400","team":"T68168MUP","edited":{"user":"US64J0NPQ","ts":"1618108228.000000"},"blocks":[{"type":"rich_text","block_id":"WrYt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would anyone here who is proficient with RCall be willing to help me out at some point with a side project I am working on? I am very new to the RCall and R ecosystems and would much benefit from help here with it! Thanks. "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" ( To be a bit more specific, more just looking for pointers when trying to interop some of my work in R with Julia)"}]}]}],"thread_ts":"1618108175.056400","reply_count":2,"reply_users_count":2,"latest_reply":"1618108703.056900","reply_users":["UDB26738Q","US64J0NPQ"],"is_locked":false,"subscribed":false},{"type":"message","text":"I just tried <https://github.com/erikbern/git-of-theseus> on the Julia git repo to get some fun plots on the evolution of the codebase. Be aware that the analysis takes a few hours :laughing:","files":[{"id":"F01U3Q751EY","created":1618134359,"timestamp":1618134359,"name":"stack_plot.png","title":"stack_plot.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U7QLM6E2E","editable":false,"size":93254,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01U3Q751EY/stack_plot.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01U3Q751EY/download/stack_plot.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_360.png","thumb_360_w":360,"thumb_360_h":222,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_480.png","thumb_480_w":480,"thumb_480_h":295,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_720.png","thumb_720_w":720,"thumb_720_h":443,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_800.png","thumb_800_w":800,"thumb_800_h":492,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_960.png","thumb_960_w":960,"thumb_960_h":591,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01U3Q751EY-90627fd95f/stack_plot_1024.png","thumb_1024_w":1024,"thumb_1024_h":630,"original_w":1300,"original_h":800,"thumb_tiny":"AwAdADDSY4GaYshJ6U9uhqJQQeaAJN3tRu9qbTHJaNtnUfyoAlL460qnIzVZZVKgODn1qxHjbwcim00Gq3FbpTCcVJ1puxfSkBVmMucAHb7Ukc2088H3q5sX0pCinqM0C1ID5Lc8j6VNEAEAByKPJj/uD8qcAFGAMCgd2f/Z","permalink":"https://julialang.slack.com/files/U7QLM6E2E/F01U3Q751EY/stack_plot.png","permalink_public":"https://slack-files.com/T68168MUP-F01U3Q751EY-f98b932bdd","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"p3+nv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just tried "},{"type":"link","url":"https://github.com/erikbern/git-of-theseus"},{"type":"text","text":" on the Julia git repo to get some fun plots on the evolution of the codebase. Be aware that the analysis takes a few hours "},{"type":"emoji","name":"laughing"}]}]}],"user":"U7QLM6E2E","display_as_bot":false,"ts":"1618134415.059800","thread_ts":"1618134415.059800","reply_count":1,"reply_users_count":1,"latest_reply":"1618134449.059900","reply_users":["U7QLM6E2E"],"is_locked":false,"subscribed":false},{"client_msg_id":"19158eaf-dc7c-4c46-8745-bad48d02300d","type":"message","text":"<https://twitter.com/TajyMany/status/1381254670069473283>","user":"U69BL50BF","ts":"1618152777.067100","team":"T68168MUP","attachments":[{"fallback":"<https://twitter.com/TajyMany|@TajyMany>: Going live in 30 minutes on #TechLifeSkills — how can you bake physical knowledge into your #machinelearning models? Let’s talk <https://twitter.com/JuliaLanguage|@JuliaLanguage>, Echo State Networks and more with <https://twitter.com/ChrisRackauckas|@ChrisRackauckas>, MIT Instructor &amp; PUMAS-AI Director\n:point_right: <https://youtu.be/moyPIhvw4Nk> <https://pbs.twimg.com/ext_tw_video_thumb/1381254569058009100/pu/img/g6KF2bihdJFfNEKc.jpg>","ts":1618151750,"author_name":"Tanmay Bakshi","author_link":"https://twitter.com/TajyMany/status/1381254670069473283","author_icon":"https://pbs.twimg.com/profile_images/1348349843660546049/rpOHlnZg_normal.jpg","author_subname":"@TajyMany","text":"Going live in 30 minutes on #TechLifeSkills — how can you bake physical knowledge into your #machinelearning models? Let’s talk <https://twitter.com/JuliaLanguage|@JuliaLanguage>, Echo State Networks and more with <https://twitter.com/ChrisRackauckas|@ChrisRackauckas>, MIT Instructor &amp; PUMAS-AI Director\n:point_right: <https://youtu.be/moyPIhvw4Nk>","service_name":"twitter","service_url":"https://twitter.com/","from_url":"https://twitter.com/TajyMany/status/1381254670069473283","thumb_url":"https://pbs.twimg.com/ext_tw_video_thumb/1381254569058009100/pu/img/g6KF2bihdJFfNEKc.jpg","thumb_width":1080,"thumb_height":720,"video_html_width":1080,"video_html_height":720,"video_html":"<video controls poster=\"https://pbs.twimg.com/ext_tw_video_thumb/1381254569058009100/pu/img/g6KF2bihdJFfNEKc.jpg\" width=\"1080\" height=\"720\"><source type=\"video/mp4\" src=\"https://video.twimg.com/ext_tw_video/1381254569058009100/pu/vid/1080x720/09-PQ3K4DZqW5JYi.mp4?tag=12\"></video>","id":1,"original_url":"https://twitter.com/TajyMany/status/1381254670069473283","footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png"}],"blocks":[{"type":"rich_text","block_id":"L7Z","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://twitter.com/TajyMany/status/1381254670069473283"}]}]}],"reactions":[{"name":"popcorn","users":["US64J0NPQ"],"count":1},{"name":"cupcake","users":["U90JR0C80"],"count":1},{"name":"cookie","users":["U90JR0C80"],"count":1},{"name":"pie","users":["U90JR0C80"],"count":1},{"name":"cook","users":["U90JR0C80"],"count":1}]},{"client_msg_id":"ebbeada5-fd24-4253-b5a7-67f3f88e9949","type":"message","text":"<@UTJT285RN> best to ask <@UC7AF7NSU> your mutabilities.jl questions","user":"UDGT4PM41","ts":"1618166873.070500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l7o","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTJT285RN"},{"type":"text","text":" best to ask "},{"type":"user","user_id":"UC7AF7NSU"},{"type":"text","text":" your mutabilities.jl questions"}]}]}]},{"client_msg_id":"05012f15-7d32-4d5e-9415-02da84156d91","type":"message","text":"MLJ.jl Is on the front page of HN","user":"UDGT4PM41","ts":"1618186220.076300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GQ4Ke","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MLJ.jl Is on the front page of HN"}]}]}],"reactions":[{"name":"y_combinator","users":["UE4DPAS4W"],"count":1}]},{"client_msg_id":"9ef7c1ca-a96c-4908-bff5-1773f636e762","type":"message","text":"Hello everyone! I've recently started to use NixOS and I saw on the discourse thread that there is a <#C01SM0JR1J7|nix> channel here","user":"U01UB3TMN65","ts":"1618197402.081500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"db1da","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello everyone! I've recently started to use NixOS and I saw on the discourse thread that there is a "},{"type":"channel","channel_id":"C01SM0JR1J7"},{"type":"text","text":" channel here"}]}]}]},{"client_msg_id":"0fb5f3c7-c460-4cf7-9f49-d8d4beb2688d","type":"message","text":"Hey, I've started working on a new string format library: <https://github.com/bicycle1885/Fmt.jl>. In short, it brings the Python-style format (or std::format of C++, or std::fmt of Rust) to Julia. It's still pre-alpha, but almost all tools are implemented. Your feedback is welcomed!","user":"U6T475RL1","ts":"1618209267.086800","team":"T68168MUP","edited":{"user":"U6T475RL1","ts":"1618209652.000000"},"blocks":[{"type":"rich_text","block_id":"zfJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey, I've started working on a new string format library: "},{"type":"link","url":"https://github.com/bicycle1885/Fmt.jl"},{"type":"text","text":". In short, it brings the Python-style format (or std::format of C++, or std::fmt of Rust) to Julia. It's still pre-alpha, but almost all tools are implemented. Your feedback is welcomed!"}]}]}],"thread_ts":"1618209267.086800","reply_count":16,"reply_users_count":4,"latest_reply":"1618211991.090300","reply_users":["UH24GRBLL","U6T475RL1","UKG4WF8PJ","UJ7DVTVQ8"],"is_locked":false,"subscribed":false},{"client_msg_id":"d6fe40f1-7d51-49ba-afd3-f74e1216a16e","type":"message","text":"why is it that for some operations interrupting code IE Ctrl+C is ineffective, but for others it's an immediate relief? I find myself cancelling long running jobs with long precompiles at certain stages of prototyping and I'm trying to understand it.","user":"UPUBAM63X","ts":"1618231420.096500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HfPtX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why is it that for some operations interrupting code IE Ctrl+C is ineffective, but for others it's an immediate relief? I find myself cancelling long running jobs with long precompiles at certain stages of prototyping and I'm trying to understand it."}]}]}],"thread_ts":"1618231420.096500","reply_count":2,"reply_users_count":2,"latest_reply":"1618231518.098500","reply_users":["UDB26738Q","UPUBAM63X"],"is_locked":false,"subscribed":false},{"client_msg_id":"d1985d90-ea52-41dd-9eaa-6acf0a645fde","type":"message","text":"I talk about this in the performance optimization lectures","user":"U69BL50BF","ts":"1618231466.097000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YNp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I talk about this in the performance optimization lectures"}]}]}]},{"client_msg_id":"2cf84192-875e-4581-8c4e-7a128f6839a3","type":"message","text":"`Ctrl+C` is only captured at yield points.","user":"U69BL50BF","ts":"1618231476.097300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OyK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ctrl+C","style":{"code":true}},{"type":"text","text":" is only captured at yield points."}]}]}],"reactions":[{"name":"today-i-learned","users":["U0138UTB7A4","UPUBAM63X"],"count":2}]},{"client_msg_id":"ce50e424-7656-44fe-9cd9-7b3af1d591c4","type":"message","text":"It's handled in the standard `Task` that is ran for the Julia event loop","user":"U69BL50BF","ts":"1618231495.097800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t81","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's handled in the standard "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" that is ran for the Julia event loop"}]}]}]},{"client_msg_id":"2dba32c0-1643-40ba-9207-72250af648b8","type":"message","text":"If you never have a yield point in the `Task` then it'll never check for it","user":"U69BL50BF","ts":"1618231515.098300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yj8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you never have a yield point in the "},{"type":"text","text":"Task","style":{"code":true}},{"type":"text","text":" then it'll never check for it"}]}]}],"reactions":[{"name":"+1","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"c165e6ad-9bfa-4298-94fb-03cdc8f8457b","type":"message","text":"so the real question is, where are the common `yield()` points?","user":"U69BL50BF","ts":"1618231525.098800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Srb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so the real question is, where are the common "},{"type":"text","text":"yield()","style":{"code":true}},{"type":"text","text":" points?"}]}]}]},{"client_msg_id":"67a4c585-979c-4f37-9e17-d20c94fa680f","type":"message","text":"Memory allocation, dynamic dispatch, etc.","user":"U69BL50BF","ts":"1618231542.099200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vIr+j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Memory allocation, dynamic dispatch, etc."}]}]}],"reactions":[{"name":"today-i-learned","users":["U0138UTB7A4","UPUBAM63X","U01RRHVNZUN"],"count":3}]},{"client_msg_id":"f19194fb-812e-4b0c-8536-2273b6a68c22","type":"message","text":"ah shoot I see so doing an optimization there's not a lot of yield points","user":"UPUBAM63X","ts":"1618231567.100100","team":"T68168MUP","edited":{"user":"UPUBAM63X","ts":"1618231574.000000"},"blocks":[{"type":"rich_text","block_id":"vA85v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah shoot I see so doing an optimization there's not a lot of yield points"}]}]}]},{"client_msg_id":"becc94e3-3080-4edd-a867-c91902a7c4fd","type":"message","text":"So if you have a tight numerical loop, that will just compile to something that's a tight LLVM code with no yield points, and yeah, you can end up in a case where it's more like a compiled C code without interactivity, churning away and never looking back at whether the task should switch or do anything else.","user":"U69BL50BF","ts":"1618231600.101200","team":"T68168MUP","edited":{"user":"U69BL50BF","ts":"1618231604.000000"},"blocks":[{"type":"rich_text","block_id":"AMMc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So if you have a tight numerical loop, that will just compile to something that's a tight LLVM code with no yield points, and yeah, you can end up in a case where it's more like a compiled C code without interactivity, churning away and never looking back at whether the task should switch or do anything else."}]}]}],"reactions":[{"name":"100","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"802a64a5-1bf5-4f40-a035-0ecacc6691dc","type":"message","text":"which is great for performance but yea not what you always want I guess","user":"UPUBAM63X","ts":"1618231649.101700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e/h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is great for performance but yea not what you always want I guess"}]}]}]},{"client_msg_id":"eacb4318-0c72-46e8-976e-f7b7ff062db8","type":"message","text":"<https://mitmath.github.io/18337/lecture5/parallelism_overview.html>","user":"U69BL50BF","ts":"1618231658.101900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/XFry","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://mitmath.github.io/18337/lecture5/parallelism_overview.html"}]}]}],"thread_ts":"1618231658.101900","reply_count":1,"reply_users_count":1,"latest_reply":"1618231681.102600","reply_users":["U69BL50BF"],"is_locked":false,"subscribed":false},{"client_msg_id":"fab18585-9923-47d4-8c4e-58ed1f59298b","type":"message","text":"I/O is the other common yield point location.","user":"U69BL50BF","ts":"1618231665.102200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b139B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I/O is the other common yield point location."}]}]}]},{"client_msg_id":"a64f7303-c8bd-4ab4-9103-749b08027055","type":"message","text":"yeah exactly, it's an engineering trade off","user":"U69BL50BF","ts":"1618231696.103000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"axvUg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah exactly, it's an engineering trade off"}]}]}]},{"client_msg_id":"21c55c4e-051d-4457-ab51-c20b2b11c265","type":"message","text":"In order to have a tight loop with nothing in the way, you can't be moving out to Julia's event loop handling checking for interrupts.","user":"U69BL50BF","ts":"1618231721.103600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VqxBR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In order to have a tight loop with nothing in the way, you can't be moving out to Julia's event loop handling checking for interrupts."}]}]}]},{"client_msg_id":"0765947f-df9a-45a0-bb32-e120ea5d7ed6","type":"message","text":"However, there's a catch where if you hit `Ctrl + C` fast enough (calculated by Euler's method :slightly_smiling_face: ) you will cause an OS level override that kills the event loop task, and then Julia doesn't know what to do and it segfaults. I'm sure you've seen that behavior.","user":"U69BL50BF","ts":"1618231769.104600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ds6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"However, there's a catch where if you hit "},{"type":"text","text":"Ctrl + C","style":{"code":true}},{"type":"text","text":" fast enough (calculated by Euler's method "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" ) you will cause an OS level override that kills the event loop task, and then Julia doesn't know what to do and it segfaults. I'm sure you've seen that behavior."}]}]}],"reactions":[{"name":"rolling_on_the_floor_laughing","users":["UPUBAM63X","U0138UTB7A4","U01T9S7EMGE","U01724Q3PGW"],"count":4}]},{"client_msg_id":"d56a2875-be6c-4421-a56e-83e2bb4c30d1","type":"message","text":"that is hilarious and yes I have done that several times","user":"UPUBAM63X","ts":"1618231817.105100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8cmcx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that is hilarious and yes I have done that several times"}]}]}],"reactions":[{"name":"100","users":["UJ7DVTVQ8"],"count":1}]},{"client_msg_id":"dbfacda3-1ee3-40f6-82c4-79ef074fe35f","type":"message","text":"I call it the rage quit","user":"U01C3624SGJ","ts":"1618231861.105700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x78/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I call it the rage quit"}]}]}],"reactions":[{"name":"ahhhhhhh","users":["UDB26738Q","UPUBAM63X"],"count":2}]},{"client_msg_id":"c0dff57d-07c8-4456-a8f6-e8f0e2c667f8","type":"message","text":"Wow I didn't know there was a technical reason to why bashing `Ctrl + C`  worked haha","user":"U0138UTB7A4","ts":"1618231889.105900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NLJnS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wow I didn't know there was a technical reason to why bashing "},{"type":"text","text":"Ctrl + C ","style":{"code":true}},{"type":"text","text":" worked haha"}]}]}]},{"client_msg_id":"2285fb6a-110d-4ccd-8b63-a12d089da9f1","type":"message","text":"Any chance of making this better? Eg it works in gdb even in compiled code","user":"UMDEUKM29","ts":"1618231924.106600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"skr8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any chance of making this better? Eg it works in gdb even in compiled code"}]}]}]},{"client_msg_id":"bf63f79a-0ce6-4dc9-8d91-473493702e97","type":"message","text":"well the problem is it doesn't work you lose state because julia segfaults.","user":"UPUBAM63X","ts":"1618231936.106800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7V0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well the problem is it doesn't work you lose state because julia segfaults."}]}]}]},{"client_msg_id":"5922eab8-307e-4d9e-aa92-badf5ac945e5","type":"message","text":"There might be a way to make it better. I remember digging around it with <@U67BJLYCS> two years ago when trying to understand some issues with how Distributed requires the Main module, and then led me into some details of the event loop which we then dug into more because I was writing notes on green threads for 18.337 at the time :wink: . So I'm not the expert on it, it's just some fun stuff I found, and I don't know if there is a solution or whether one could happen down the line.","user":"U69BL50BF","ts":"1618232035.108700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1H1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There might be a way to make it better. I remember digging around it with "},{"type":"user","user_id":"U67BJLYCS"},{"type":"text","text":" two years ago when trying to understand some issues with how Distributed requires the Main module, and then led me into some details of the event loop which we then dug into more because I was writing notes on green threads for 18.337 at the time "},{"type":"emoji","name":"wink"},{"type":"text","text":" . So I'm not the expert on it, it's just some fun stuff I found, and I don't know if there is a solution or whether one could happen down the line."}]}]}],"reactions":[{"name":"thinking_face","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"3791ff1b-96f5-4776-a0a7-b25a61caf072","type":"message","text":"It's just interesting how much it explains so easily though. It was no longer a mystery as to which loops would be the ones you'd have to segfault out of, and what the exact `Ctrl + C` mashing speed would have to be in order to cause it, etc.","user":"U69BL50BF","ts":"1618232083.110000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FobUH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's just interesting how much it explains so easily though. It was no longer a mystery as to which loops would be the ones you'd have to segfault out of, and what the exact "},{"type":"text","text":"Ctrl + C","style":{"code":true}},{"type":"text","text":" mashing speed would have to be in order to cause it, etc."}]}]}]},{"client_msg_id":"8f14c045-3915-4a95-8e7b-ee74f8266918","type":"message","text":"it seems like a bad hack is to toss a yield point into tight loops while prototyping","user":"UPUBAM63X","ts":"1618232111.110400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wAV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it seems like a bad hack is to toss a yield point into tight loops while prototyping"}]}]}]},{"client_msg_id":"cee2f788-d5af-437c-a6a2-c8ca1e4b9b55","type":"message","text":"that would do it.","user":"U69BL50BF","ts":"1618232155.111100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kvC0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would do it."}]}]}]},{"client_msg_id":"943efd8c-f40d-415f-915e-07972fe02ae0","type":"message","text":"you could do that while losing performance","user":"U01C3624SGJ","ts":"1618232173.111600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A88wa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you could do that while losing performance"}]}]}],"thread_ts":"1618232173.111600","reply_count":1,"reply_users_count":1,"latest_reply":"1618232190.112000","reply_users":["UPUBAM63X"],"is_locked":false,"subscribed":false},{"client_msg_id":"192f2495-39c0-4aaa-b839-aab43da0993e","type":"message","text":"but I don't know what the ideal fix is tbh, not familiar enough with the internals of julia","user":"UPUBAM63X","ts":"1618232182.111900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lUw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I don't know what the ideal fix is tbh, not familiar enough with the internals of julia"}]}]}]},{"client_msg_id":"490319ab-479b-44c1-afb1-97a0b9462eb8","type":"message","text":"Is there a nice quick/small code example of a \"tight\" loop where there's no yield points? I guess a simple long for loop with no memory allocation (everything already preallocated)?","user":"U0138UTB7A4","ts":"1618232210.112300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M9k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a nice quick/small code example of a \"tight\" loop where there's no yield points? I guess a simple long for loop with no memory allocation (everything already preallocated)?"}]}]}],"thread_ts":"1618232210.112300","reply_count":20,"reply_users_count":6,"latest_reply":"1618232842.119200","reply_users":["UPUBAM63X","U7HAYKY9X","UMDEUKM29","U69BL50BF","U01C3624SGJ","U0138UTB7A4"],"is_locked":false,"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"<https://youtu.be/eca6kcFntiE?t=1949>","user":"U69BL50BF","ts":"1618232470.115200","thread_ts":"1618232210.112300","root":{"client_msg_id":"490319ab-479b-44c1-afb1-97a0b9462eb8","type":"message","text":"Is there a nice quick/small code example of a \"tight\" loop where there's no yield points? I guess a simple long for loop with no memory allocation (everything already preallocated)?","user":"U0138UTB7A4","ts":"1618232210.112300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M9k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a nice quick/small code example of a \"tight\" loop where there's no yield points? I guess a simple long for loop with no memory allocation (everything already preallocated)?"}]}]}],"thread_ts":"1618232210.112300","reply_count":20,"reply_users_count":6,"latest_reply":"1618232842.119200","reply_users":["UPUBAM63X","U7HAYKY9X","UMDEUKM29","U69BL50BF","U01C3624SGJ","U0138UTB7A4"],"is_locked":false,"subscribed":false},"attachments":[{"service_name":"YouTube","service_url":"https://www.youtube.com/","title":"The Basics of Single Node Parallel Computing","title_link":"https://youtu.be/eca6kcFntiE?t=1949","author_name":"Parallel Computing and Scientific Machine Learning","author_link":"https://www.youtube.com/channel/UCDtsHjkOEMHYPGgpKX8VOPg","thumb_url":"https://i.ytimg.com/vi/eca6kcFntiE/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: The Basics of Single Node Parallel Computing","video_html":"<iframe width=\"400\" height=\"225\" src=\"https://www.youtube.com/embed/eca6kcFntiE?start=1949&feature=oembed&start=1949&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>","video_html_width":400,"video_html_height":225,"from_url":"https://youtu.be/eca6kcFntiE?t=1949","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/youtube.png","id":1,"original_url":"https://youtu.be/eca6kcFntiE?t=1949"}],"blocks":[{"type":"rich_text","block_id":"sqdRz","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://youtu.be/eca6kcFntiE?t=1949"}]}]}],"client_msg_id":"f237df67-1a55-4ccf-ada2-7808fcef4a2e"},{"client_msg_id":"5274bbcb-fcf7-46c8-94c5-62ba184c29b5","type":"message","text":"&gt; Any chance of making this better? Eg it works in gdb even in compiled code\ngdb loses performance, so :shrug: it must be doing something like that.","user":"U69BL50BF","ts":"1618232537.116500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HcZA+","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Any chance of making this better? Eg it works in gdb even in compiled code"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"gdb loses performance, so "},{"type":"emoji","name":"shrug"},{"type":"text","text":" it must be doing something like that."}]}]}]},{"client_msg_id":"7847fa41-c1c9-4317-86f7-d475edf68c2a","type":"message","text":"It would be nice to have a AbstractInterpreter plugin that slows things down a bit to make interactivity a bit nicer, at a price.","user":"U69BL50BF","ts":"1618232792.118200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NTA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It would be nice to have a AbstractInterpreter plugin that slows things down a bit to make interactivity a bit nicer, at a price."}]}]}]},{"client_msg_id":"604f89b5-7666-4ac8-97e2-8dd190c52a77","type":"message","text":"that would be cool, or maybe just a spinner in the REPL to alert the user \"you've entered a point of no interrupt\" or something. Not sure the best way to handle it hahaha. `@yeilded myhpcfn(x)`","user":"UPUBAM63X","ts":"1618232888.120300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=8R1i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would be cool, or maybe just a spinner in the REPL to alert the user \"you've entered a point of no interrupt\" or something. Not sure the best way to handle it hahaha. "},{"type":"text","text":"@yeilded myhpcfn(x)","style":{"code":true}}]}]}]},{"client_msg_id":"d3ff533f-5f4d-4520-a174-a079c3680f0a","type":"message","text":"gdb manages to do catch the ctrl-c without making everything explode - I don't know how though","user":"UMDEUKM29","ts":"1618233062.121100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AwwP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"gdb manages to do catch the ctrl-c without making everything explode - I don't know how though"}]}]}]},{"client_msg_id":"3ad6d8a8-6e69-407a-a7b7-f50a6a2b6143","type":"message","text":"does it run the code in 2 threads or something?","user":"UPUBAM63X","ts":"1618233121.122100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c+qD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does it run the code in 2 threads or something?"}]}]}]},{"client_msg_id":"da1726d6-dd28-47ef-be59-98fa62dab8e8","type":"message","text":"that's probably a <@U687RKK0E> or <@U674T3KB3> question that I couldn't answer with precision.","user":"U69BL50BF","ts":"1618233122.122200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d7X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's probably a "},{"type":"user","user_id":"U687RKK0E"},{"type":"text","text":" or "},{"type":"user","user_id":"U674T3KB3"},{"type":"text","text":" question that I couldn't answer with precision."}]}]}]},{"client_msg_id":"e120bd50-f691-41b0-b0ef-5bbf6bac0f94","type":"message","text":"gdb might add yield points or something of the sort","user":"U01C3624SGJ","ts":"1618233154.122800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F9r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"gdb might add yield points or something of the sort"}]}]}]},{"client_msg_id":"dffc5ed4-80a3-4f19-8d33-2c4f62a50d51","type":"message","text":"gdb does have overhead so it's doing something of the sort, but what exactly or what the heuristic is, that's something that's uncertain to me.","user":"U69BL50BF","ts":"1618233188.123300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Sa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"gdb does have overhead so it's doing something of the sort, but what exactly or what the heuristic is, that's something that's uncertain to me."}]}]}]},{"client_msg_id":"6dd191d8-3383-4b71-9993-bdbcd12941fc","type":"message","text":"it's not so bad to deal with honestly, and in most circumstances, it's not a problem. Maybe another solution is just to allow us to cache state more easily, so if something pops we can persist the last session. but that'd be costly too - dunno but I do appreciate the explanation atleast now I feel like I understand it","user":"UPUBAM63X","ts":"1618233267.124600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n0pg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's not so bad to deal with honestly, and in most circumstances, it's not a problem. Maybe another solution is just to allow us to cache state more easily, so if something pops we can persist the last session. but that'd be costly too - dunno but I do appreciate the explanation atleast now I feel like I understand it"}]}]}]},{"client_msg_id":"6e8491b6-f734-4479-9fc4-fda9fde77eb8","type":"message","text":"this ties into something I've been thinking about for a while, but a cheap hack is to make a macro that has a for loop body with an additional syntax that decides when to toss a yield. IE: yeild every 10k iters.","user":"UPUBAM63X","ts":"1618233356.125900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hZ65","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this ties into something I've been thinking about for a while, but a cheap hack is to make a macro that has a for loop body with an additional syntax that decides when to toss a yield. IE: yeild every 10k iters."}]}]}]},{"client_msg_id":"420088e0-46e4-4088-b9cc-a8d903846d21","type":"message","text":"it's pretty annoying eg you run a very large computation in LAPACK by accident","user":"UMDEUKM29","ts":"1618233373.126300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z/pQH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's pretty annoying eg you run a very large computation in LAPACK by accident"}]}]}]},{"client_msg_id":"bc537636-f0d1-4421-a3fd-a8c05a00ee19","type":"message","text":"huh, that appears to actually work now! (on 1.6)","user":"UMDEUKM29","ts":"1618233411.127000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tqfR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"huh, that appears to actually work now! (on 1.6)"}]}]}]},{"client_msg_id":"78a7f879-93c4-4a5d-9331-3dd3e1052cb1","type":"message","text":"well if I were writing code with good practices this would happen far less but I'm mad dashing.\nOr a massive plot. Like if you accidently plot a 100million row matrix instead of a subset...","user":"UPUBAM63X","ts":"1618233443.127900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gqwq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well if I were writing code with good practices this would happen far less but I'm mad dashing.\nOr a massive plot. Like if you accidently plot a 100million row matrix instead of a subset..."}]}]}]},{"client_msg_id":"27ca3212-67b7-4013-8d72-022d9a394c1a","type":"message","text":"About the Plot I dont think you can do much but a marco that adds a yield after x iteration or x time could be useful","user":"U01C3624SGJ","ts":"1618233555.129500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RQa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"About the Plot I dont think you can do much but a marco that adds a yield after x iteration or x time could be useful"}]}]}]},{"client_msg_id":"c43ec5c6-468c-4bd6-a33c-2bec1389f227","type":"message","text":"So if I understand all that, by having my loops print some debug information, I make it slighty slower but I am guaranteed to be able to interrupt it?","user":"U017LQ3A59U","ts":"1618233575.130000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pOC8t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So if I understand all that, by having my loops print some debug information, I make it slighty slower but I am guaranteed to be able to interrupt it?"}]}]}]},{"client_msg_id":"e8c31edc-a23e-4b81-9fac-3006ce1fa90e","type":"message","text":"yes, I/O will add a yield point","user":"U69BL50BF","ts":"1618233600.130800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Ikyd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, I/O will add a yield point"}]}]}]},{"client_msg_id":"6959bb7f-8212-4e82-a923-4b2888c66c29","type":"message","text":"printing makes it much slower depending on how short the inner loop is","user":"U01C3624SGJ","ts":"1618233605.131200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T2X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"printing makes it much slower depending on how short the inner loop is"}]}]}]},{"client_msg_id":"ed1a29d9-bb31-4063-b135-ca51b099de1b","type":"message","text":"and if you do that, you'll notice that the interrupts will all happen at the I/O points.","user":"U69BL50BF","ts":"1618233614.131900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jCU=9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and if you do that, you'll notice that the interrupts will all happen at the I/O points."}]}]}]},{"client_msg_id":"82535c17-a95f-4221-8cd9-d65de617d1c2","type":"message","text":"I can still make it crash if I keep ctrl-c pressed: `SYSTEM (REPL): showing an error caused an error`However if I keep it reasonable and just press it manually repeatedly it doesnt seem to crash. Great job 1.6 people!","user":"UMDEUKM29","ts":"1618233619.132200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CwdO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can still make it crash if I keep ctrl-c pressed: "},{"type":"text","text":"SYSTEM (REPL): showing an error caused an error","style":{"code":true}},{"type":"text","text":"However if I keep it reasonable and just press it manually repeatedly it doesnt seem to crash. Great job 1.6 people!"}]}]}]},{"client_msg_id":"0ec0acba-37a9-41b6-8971-eebfc55eb39f","type":"message","text":"(if you use Juno, it'll always put the red line at the I/O)","user":"U69BL50BF","ts":"1618233625.132400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uRGw=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(if you use Juno, it'll always put the red line at the I/O)"}]}]}]},{"client_msg_id":"2640e066-9a7f-4ff1-ace2-a9854130b909","type":"message","text":"but for something with long iterations it will be fine","user":"U01C3624SGJ","ts":"1618233642.132900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qNt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but for something with long iterations it will be fine"}]}]}]},{"client_msg_id":"f270f349-dea3-4ed7-a6a5-8d606d84c99a","type":"message","text":"And you don't need to have printing of course, you'll get the same effect with just the `yield()` function.","user":"U69BL50BF","ts":"1618233649.133100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NEg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And you don't need to have printing of course, you'll get the same effect with just the "},{"type":"text","text":"yield()","style":{"code":true}},{"type":"text","text":" function."}]}]}],"thread_ts":"1618233649.133100","reply_count":1,"reply_users_count":1,"latest_reply":"1618233908.139700","reply_users":["U017LQ3A59U"],"is_locked":false,"subscribed":false,"reactions":[{"name":"100","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"36e80d03-ac64-4d3b-a078-8515a9b1bf52","type":"message","text":"I think adding yield() might be the best option performance wise","user":"U01C3624SGJ","ts":"1618233697.134700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mIa2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think adding yield() might be the best option performance wise"}]}]}]},{"client_msg_id":"0d778c97-2f6b-4ac0-aca0-3a0fe1a6d9d2","type":"message","text":"what I don't know is if\n```for ___\n   for ___\n      tight loop stuff\n   end\n   yield()\nend```\nis faster than...\n```   for i set of ___\n      tight loop stuff\n      if i % N ==0\n          yield()\n      end\n   end```","user":"UPUBAM63X","ts":"1618233746.135600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4lHt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what I don't know is if\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for ___\n   for ___\n      tight loop stuff\n   end\n   yield()\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"is faster than...\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"   for i set of ___\n      tight loop stuff\n      if i % N ==0\n          yield()\n      end\n   end"}]}]}]},{"client_msg_id":"840f9296-52d4-474f-8763-da688307da7f","type":"message","text":"if the original loop is SIMD it would be faster but not sure if the branch matters for other situations","user":"UPUBAM63X","ts":"1618233766.136100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yu9O2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if the original loop is SIMD it would be faster but not sure if the branch matters for other situations"}]}]}]},{"client_msg_id":"363e25b9-5258-4272-ac37-a5fc668d64fb","type":"message","text":"If `N` is a compile-time constant (a literal), and it's larger than the SIMD vector size, then it should be relatively fine due to branch prediction","user":"U69BL50BF","ts":"1618233800.137400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3e9y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If "},{"type":"text","text":"N","style":{"code":true}},{"type":"text","text":" is a compile-time constant (a literal), and it's larger than the SIMD vector size, then it should be relatively fine due to branch prediction"}]}]}],"reactions":[{"name":"+1","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"50c20e15-3d2a-4615-af12-fa403eb16257","type":"message","text":"I think the first one might be better because it doesnt check every iteration, altough branch prediction might make it better","user":"U01C3624SGJ","ts":"1618233813.138000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EQ3tP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the first one might be better because it doesnt check every iteration, altough branch prediction might make it better"}]}]}],"reactions":[{"name":"100","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"7a35be85-9bba-44ec-bf39-03e77a8d8bd8","type":"message","text":"but if those aren't true, it'll break SIMD since then you can yield between any iteration","user":"U69BL50BF","ts":"1618233814.138100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nr7T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if those aren't true, it'll break SIMD since then you can yield between any iteration"}]}]}],"reactions":[{"name":"+1","users":["UPUBAM63X"],"count":1}]},{"client_msg_id":"6fa763c6-95ae-45c7-ba2e-56d3f4b0fe76","type":"message","text":"I'll look into it later but for now gotta run stuff lol","user":"UPUBAM63X","ts":"1618233915.140000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qUx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll look into it later but for now gotta run stuff lol"}]}]}]},{"client_msg_id":"e2b00d5d-3a67-484d-b8f5-086dc2113a1e","type":"message","text":"thanks everyone","user":"UPUBAM63X","ts":"1618233925.140200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PqQ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thanks everyone"}]}]}]},{"client_msg_id":"bd89406e-7637-41ad-8999-a77ecee3cf1e","type":"message","text":"okay one last thought... the best places to put yeilds isn't at fixed intervals but probably exponential (say 2^N) and fixed intervals. Sometimes I run exponentially slow code or whatever and don't realize what I've done until it's too late :rolling_on_the_floor_laughing: . so 1,2,4,8,16...,10k,20k,32k,...50k,64k,etc","user":"UPUBAM63X","ts":"1618234705.143100","team":"T68168MUP","edited":{"user":"UPUBAM63X","ts":"1618234782.000000"},"blocks":[{"type":"rich_text","block_id":"Peb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"okay one last thought... the best places to put yeilds isn't at fixed intervals but probably exponential (say 2^N) and fixed intervals. Sometimes I run exponentially slow code or whatever and don't realize what I've done until it's too late "},{"type":"emoji","name":"rolling_on_the_floor_laughing"},{"type":"text","text":" . so 1,2,4,8,16...,10k,20k,32k,...50k,64k,etc"}]}]}]},{"client_msg_id":"932c5884-be4d-417a-8ffe-d12c7cd0e293","type":"message","text":"I'm not sure if its possible but a time based yield would be the best I reckon. Although how you would do that I dont know.","user":"U01C3624SGJ","ts":"1618235027.144100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mDN+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure if its possible but a time based yield would be the best I reckon. Although how you would do that I dont know."}]}]}]},{"client_msg_id":"048921af-751f-4209-b502-a7eb491938b8","type":"message","text":"well you could just tick-tock the time deltas and keep a rolling sum around. once a sum reaches a certain length toss a yeild.","user":"UPUBAM63X","ts":"1618235115.146100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IwJG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well you could just tick-tock the time deltas and keep a rolling sum around. once a sum reaches a certain length toss a yeild."}]}]}]},{"client_msg_id":"a83b67c0-0dc7-441a-a875-ff9229f870d9","type":"message","text":"could also do it based on RAM consumption lol, fit it to a few toy time series models (linear consumption/exponential consumption) and if either model looks like you'll tank your memory cut a process","user":"UPUBAM63X","ts":"1618235174.147300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/bzeX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"could also do it based on RAM consumption lol, fit it to a few toy time series models (linear consumption/exponential consumption) and if either model looks like you'll tank your memory cut a process"}]}]}]},{"client_msg_id":"8bea97ad-4b50-45ef-abe1-3c719ac79932","type":"message","text":"but now we're adding cost lol","user":"UPUBAM63X","ts":"1618235208.147600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jHX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but now we're adding cost lol"}]}]}]},{"client_msg_id":"0041141f-d830-4c43-b6ae-2042224bcaff","type":"message","text":"I was thinking about something like `@async wait` but that feels way too hacky","user":"U01C3624SGJ","ts":"1618235235.148200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bjq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was thinking about something like "},{"type":"text","text":"@async wait","style":{"code":true}},{"type":"text","text":" but that feels way too hacky"}]}]}]},{"client_msg_id":"780af349-0a81-4217-8632-1caaa4e8e8de","type":"message","text":"I feel like then you run the risk of thread issues popping up","user":"UPUBAM63X","ts":"1618235268.148800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P8mY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I feel like then you run the risk of thread issues popping up"}]}]}]},{"client_msg_id":"0f2186c4-c6cb-4df9-8ebe-4b07a8dbdb14","type":"message","text":"that's using the task infrastructure, so it'll never check if that task is completed if there's no yield in the first place :wink:","user":"U69BL50BF","ts":"1618235290.149600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GSYK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's using the task infrastructure, so it'll never check if that task is completed if there's no yield in the first place "},{"type":"emoji","name":"wink"}]}]}],"reactions":[{"name":"100","users":["UPUBAM63X","UKG4WF8PJ"],"count":2}]},{"client_msg_id":"584658e6-4fd0-4b70-8111-33c677615bdb","type":"message","text":"Yeah, I was thinking something like a background task that keeps time and changes a value in an outer for loop that then call a yield. But it dont think that works.","user":"U01C3624SGJ","ts":"1618235376.151400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L/M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I was thinking something like a background task that keeps time and changes a value in an outer for loop that then call a yield. But it dont think that works."}]}]}]},{"client_msg_id":"86aeb469-7edf-4ee2-b05c-82ab4f2ddb45","type":"message","text":"&gt; a background task that keeps time and changes a value in an outer for loop that then call a yield\nThat's Julia's event loop :slightly_smiling_face:","user":"U69BL50BF","ts":"1618235408.151800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qm=q","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"a background task that keeps time and changes a value in an outer for loop that then call a yield"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"That's Julia's event loop "},{"type":"emoji","name":"slightly_smiling_face"}]}]}],"reactions":[{"name":"grinning","users":["U01C3624SGJ"],"count":1}]},{"client_msg_id":"fe71de3a-61c0-41e8-96d2-3f316e8baa3e","type":"message","text":"And this is then the same problem: how do you put yields to give control back to the event loop to check whether other things should be happening?","user":"U69BL50BF","ts":"1618235442.152500","team":"T68168MUP","edited":{"user":"U69BL50BF","ts":"1618235447.000000"},"blocks":[{"type":"rich_text","block_id":"ysZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And this is then the same problem: how do you put yields to give control back to the event loop to check whether other things should be happening?"}]}]}]},{"client_msg_id":"5c9f338d-d357-4d58-a911-c2fb3cc74293","type":"message","text":"yea its solving the problem with the problem","user":"UPUBAM63X","ts":"1618235464.152900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"llDI2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yea its solving the problem with the problem"}]}]}],"reactions":[{"name":"thumbsup_all","users":["U01C3624SGJ"],"count":1}]}]}