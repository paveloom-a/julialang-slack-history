{"cursor": 17, "messages": [{"type":"message","subtype":"bot_message","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","ts":"1614479324.217000","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"An example case: ","ts":"1614479419.217100","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"An example case: ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","ts":"1614479506.217200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","ts":"1614479546.217300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","ts":"1614479790.217400","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","ts":"1614479880.217500","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","verbatim":false}}]},{"client_msg_id":"36c1eec4-3bf4-4a02-ac71-0986376798fd","type":"message","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such","user":"U69BL50BF","ts":"1614482308.218000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r5Y9L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such"}]}]}]},{"client_msg_id":"6e81306d-b86d-4eaa-9748-9f686ba428ca","type":"message","text":"<https://diffeq.sciml.ai/stable/basics/integrator/>","user":"U69BL50BF","ts":"1614482316.218200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xWZ","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://diffeq.sciml.ai/stable/basics/integrator/"}]}]}]},{"client_msg_id":"993fc6a8-30b4-4962-98d2-ef0d23d89c13","type":"message","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl <https://mtk.sciml.ai/dev/tutorials/acausal_components/>","user":"U69BL50BF","ts":"1614515029.218600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl "},{"type":"link","url":"https://mtk.sciml.ai/dev/tutorials/acausal_components/"}]}]}]},{"client_msg_id":"5f9e9b5d-6951-4119-acd7-0d67496623ea","type":"message","text":"<@U7ZNTQFLH>","user":"U69BL50BF","ts":"1614515047.218900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4zu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7ZNTQFLH"}]}]}]},{"type":"message","subtype":"bot_message","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","ts":"1614523704.224300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","verbatim":false}}]},{"client_msg_id":"5ff94eed-87ce-4c35-96f9-d66dae229035","type":"message","text":"Then use `savevalues!`","user":"U69BL50BF","ts":"1614523725.224700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T9FQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"Is push!(Integrator.sol.u, u_new) safe?","ts":"1614523735.224800","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"Is push!(Integrator.sol.u, u_new) safe?","verbatim":false}}]},{"client_msg_id":"fbaf7593-e4a9-4baf-9675-872e8ebf3161","type":"message","text":"no","user":"U69BL50BF","ts":"1614523766.225600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0GqVw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"d4f42552-c67a-49a7-b1bc-3d9f82c0223b","type":"message","text":"just use `savevalues!`","user":"U69BL50BF","ts":"1614523776.226100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Eu0+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"ok, thanks!","ts":"1614523784.226300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"ok, thanks!","verbatim":false}}]},{"client_msg_id":"033351be-4aaa-49e8-abea-f49d9db3a35a","type":"message","text":"Hey folks, I was trying to use `Parameters.jl`  to define a struct with default values for my model. But I am hitting that `recursive_unitless_eltype` error on the struct. Is this where I should be using `ComponentArrays` instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?","user":"UDDSTBX19","ts":"1614532179.230500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cZ6A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks, I was trying to use "},{"type":"text","text":"Parameters.jl","style":{"code":true}},{"type":"text","text":"  to define a struct with default values for my model. But I am hitting that "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":" error on the struct. Is this where I should be using "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?"}]}]}]},{"client_msg_id":"0405193c-7e2d-41dc-83ef-f0c8fbe4a03c","type":"message","text":"Hey <@U69BL50BF> <@U01H36BUDJB> So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the `DiscreteProblem` is having an issue with this `recursive_unitless_eltype`. Here is some janky minimal code running on julia 1.5.3.\n\n```using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)```\nAnd then the error is:\n```ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)```\n","user":"UDDSTBX19","ts":"1614550432.233700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gdw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the "},{"type":"text","text":"DiscreteProblem","style":{"code":true}},{"type":"text","text":" is having an issue with this "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":". Here is some janky minimal code running on julia 1.5.3.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd then the error is:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"4f8306d0-3173-483c-8812-f104b0978f39","type":"message","text":"yeah that state vector isn't going to work","user":"U69BL50BF","ts":"1614551305.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RDh9f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that state vector isn't going to work"}]}]}]},{"client_msg_id":"c0083537-6c2f-4404-a1ba-59d527c17002","type":"message","text":"why not make it a FieldVector?","user":"U69BL50BF","ts":"1614551311.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gTup","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why not make it a FieldVector?"}]}]}]},{"client_msg_id":"125bd9a8-6e8d-4b23-8a0e-c403525256a6","type":"message","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about `FieldVector` , haven't tried it, but `CompnentArrays` works wonderfully for this purpose, as long as everything is the same type.","user":"U01H36BUDJB","ts":"1614551458.235300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OoUD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about "},{"type":"text","text":"FieldVector","style":{"code":true}},{"type":"text","text":" , haven't tried it, but "},{"type":"text","text":"CompnentArrays","style":{"code":true}},{"type":"text","text":" works wonderfully for this purpose, as long as everything is the same type."}]}]}]},{"client_msg_id":"66754403-46ce-4916-ba5c-fdc10875554e","type":"message","text":"yeah `ComponentArrays` would work too","user":"U69BL50BF","ts":"1614551482.235900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pMOAg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" would work too"}]}]}]},{"client_msg_id":"385f4011-fcf7-49c8-80fe-b0df1e079cf2","type":"message","text":"And there's also `DEDataVector` if you have extra non-state data.","user":"U01H36BUDJB","ts":"1614551485.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CEpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And there's also "},{"type":"text","text":"DEDataVector","style":{"code":true}},{"type":"text","text":" if you have extra non-state data."}]}]}]},{"client_msg_id":"8d423ec5-86b2-41ee-b642-63ee7c6f9c4e","type":"message","text":"basically, you should make that some kind of AbstractArray-like thing.","user":"U69BL50BF","ts":"1614551495.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"17Zr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"basically, you should make that some kind of AbstractArray-like thing."}]}]}],"reactions":[{"name":"+1","users":["U01H36BUDJB"],"count":1}]},{"client_msg_id":"bc7bd77f-2649-4163-b59f-5aff5fd8cdfe","type":"message","text":"<@U69BL50BF> <@U01H36BUDJB> Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both `FieldVectors` and `ComponentArrays` for this. Excellent, now I know what to do. Thanks again guys.","user":"UDDSTBX19","ts":"1614551799.238500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jXvWn","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both "},{"type":"text","text":"FieldVectors","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" for this. Excellent, now I know what to do. Thanks again guys."}]}]}]},{"client_msg_id":"15f07a52-d628-4926-9677-e2dcb2591960","type":"message","text":"FieldVector is in StaticArrays.jl","user":"U69BL50BF","ts":"1614551879.238700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"one+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FieldVector is in StaticArrays.jl"}]}]}],"reactions":[{"name":"+1","users":["UDDSTBX19"],"count":1}]},{"client_msg_id":"fe46f016-d398-4199-8aad-a0ef0c3962c9","type":"message","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?","user":"U73KWSUGN","ts":"1614556590.239100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U6G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?"}]}]}]},{"client_msg_id":"400ee0e3-b9f4-4c7b-a9e0-fb71aa54cef7","type":"message","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!","user":"U73KWSUGN","ts":"1614556613.239300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B=Li1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!"}]}]}]},{"client_msg_id":"8d73590c-882c-4659-9f0a-cb084e946472","type":"message","text":"&gt; Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)\nCan you write that as a DAE?","user":"U69BL50BF","ts":"1614556945.239700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8T","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Can you write that as a DAE?"}]}]}]},{"client_msg_id":"cea7d815-4bfe-4490-9661-d7a4f3da258c","type":"message","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations.","user":"U73KWSUGN","ts":"1614557176.242200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xA//","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations."}]}]}]},{"client_msg_id":"d803cc73-eae4-4f1f-842f-b06455e1fb73","type":"message","text":"oh that would be interesting to do, yes","user":"U69BL50BF","ts":"1614557211.242400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh that would be interesting to do, yes"}]}]}]},{"client_msg_id":"9f08defb-8699-49e4-8dc1-6f3bcab0a480","type":"message","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage.","user":"U73KWSUGN","ts":"1614557809.246500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vA3A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage."}]}]}]},{"client_msg_id":"d1bd99a4-e89f-42aa-a604-8e0fcf97f7c4","type":"message","text":"you can register some functions and stuff like that","user":"U69BL50BF","ts":"1614558243.246900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bTJg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can register some functions and stuff like that"}]}]}]},{"client_msg_id":"0842b3ff-03da-4750-8a0c-f21dd0ff92d1","type":"message","text":"but if it can't simplify then it would just ignore that portion","user":"U69BL50BF","ts":"1614558253.247200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wQj+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if it can't simplify then it would just ignore that portion"}]}]}]},{"client_msg_id":"70ece056-3f06-44b5-956f-71063a497cc0","type":"message","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand.","user":"U69BL50BF","ts":"1614558286.247900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wJq+p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand."}]}]}]},{"client_msg_id":"9b8d34f3-930e-46d3-9346-0dc684b460e7","type":"message","text":"Hi. I have a question about the paper \"Bayesian Neural Ordinary Differential Equations\" (also had a Reddit post a while ago). I'm curious what compute configurations (CPU and GPU) were used in order to perform the basic experiments ( linear ode and lotka Volterra) with NUTS sampler and SGLD. Does a GPU help with this kind of small datasets and very shallow neural network architectures. I'm currently running the code from the GitHub repo provided by the paper but the compute times also for these pretty standard experiments are very long.","user":"U018YSX96LB","ts":"1614639669.252600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9a2pB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi. I have a question about the paper \"Bayesian Neural Ordinary Differential Equations\" (also had a Reddit post a while ago). I'm curious what compute configurations (CPU and GPU) were used in order to perform the basic experiments ( linear ode and lotka Volterra) with NUTS sampler and SGLD. Does a GPU help with this kind of small datasets and very shallow neural network architectures. I'm currently running the code from the GitHub repo provided by the paper but the compute times also for these pretty standard experiments are very long."}]}]}]},{"client_msg_id":"6893ff5e-3272-4baa-931e-6f9b8c93fb56","type":"message","text":"<@UTLTSMTEH>","user":"U69BL50BF","ts":"1614640788.252800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SoN=L","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTLTSMTEH"}]}]}]},{"type":"message","subtype":"bot_message","text":"@ChrisRackauckas  I was using Tsit5() to integrate a large system of ODEs (N ~1000) as was getting great results. Here's an example plot of a solution (theory predicts we should get a fixed-point). Tsit5() gave the right answer and was really fast ","ts":"1614642299.252900","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"@ChrisRackauckas  I was using Tsit5() to integrate a large system of ODEs (N ~1000) as was getting great results. Here's an example plot of a solution (theory predicts we should get a fixed-point). Tsit5() gave the right answer and was really fast\n","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"[![Old_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png>)","ts":"1614642303.253000","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","attachments":[{"fallback":"250x117px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png","image_width":250,"image_height":117,"image_bytes":11230,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png","id":1,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png"},{"fallback":"1440x672px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png","image_width":1440,"image_height":672,"image_bytes":104777,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png","id":2,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png"}],"blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"[![Old_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png>)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1614642304.000000"}},{"type":"message","subtype":"bot_message","text":"I updated DifferentialEquations.jl today, and when I run the same code I get something weird ...it's basically very similar but with small fluctuations","ts":"1614642349.253200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I updated DifferentialEquations.jl today, and when I run the same code I get something weird ...it's basically very similar but with small fluctuations","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"[![New_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png>)","ts":"1614642354.253300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","attachments":[{"fallback":"250x122px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png","image_width":250,"image_height":122,"image_bytes":21159,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png","id":1,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png"},{"fallback":"1442x702px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png","image_width":1442,"image_height":702,"image_bytes":223964,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png","id":2,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png"}],"blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"[![New_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png>)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1614642356.000000"}},{"type":"message","subtype":"bot_message","text":"and Tsit5() takes 5x more time","ts":"1614642373.253600","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"and Tsit5() takes 5x more time","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"That’s a bit odd. What version did you have before?","ts":"1614642402.254100","username":"[zulip] <Yingbo Ma>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-03-02/1805728390373_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"That’s a bit odd. What version did you have before?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"like a fool I didn't note that down","ts":"1614642427.254200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"like a fool I didn't note that down","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"but I installed it ~5 months or so back","ts":"1614642459.254300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"but I installed it ~5 months or so back","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"There's the `] undo` feature in Julia Pkg. Could you try that?","ts":"1614642486.254400","username":"[zulip] <Yingbo Ma>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-03-02/1805728390373_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"There's the `] undo` feature in Julia Pkg. Could you try that?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"It says \"ERROR: undo: no more states left\"","ts":"1614642657.254500","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"It says \"ERROR: undo: no more states left\"","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I did remove the package and tried to reinstall","ts":"1614642668.254600","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I did remove the package and tried to reinstall","verbatim":false}}]},{"client_msg_id":"19dcc008-220d-42f4-912e-bd46d32096d3","type":"message","text":"Well I can tell you the Tsit5 code hasn't changed (in a few years)","user":"U69BL50BF","ts":"1614642767.254900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WLyA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I can tell you the Tsit5 code hasn't changed (in a few years)"}]}]}]},{"type":"message","subtype":"bot_message","text":"does ODELocalSensitivityProblem accept a tuple for parameters? I have a parameter list with varying types that I'm trying to pass. works with no problem in ODEProblem, but I get a MethodError when I change to ODELocalSensitivityProblem","ts":"1614642952.255000","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"does ODELocalSensitivityProblem accept a tuple for parameters? I have a parameter list with varying types that I'm trying to pass. works with no problem in ODEProblem, but I get a MethodError when I change to ODELocalSensitivityProblem","verbatim":false}}]},{"client_msg_id":"9b533bce-1088-48dd-8241-84be6778d312","type":"message","text":"that needs an abstract array","user":"U69BL50BF","ts":"1614644413.255200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qG9S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that needs an abstract array"}]}]}]},{"type":"message","subtype":"bot_message","text":"I see. do I have any recourse if my parameters vary in type?","ts":"1614644675.255300","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I see. do I have any recourse if my parameters vary in type?","verbatim":false}}]},{"client_msg_id":"e9a2547c-d7f9-49ac-9cd4-aba75e953802","type":"message","text":"it won't be able to solve an ODE well in them, yes.","user":"U69BL50BF","ts":"1614645003.255600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iVq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it won't be able to solve an ODE well in them, yes."}]}]}]},{"type":"message","subtype":"bot_message","text":"do you have any advice for using a parameter set that includes arrays? I'm trying to pass something that looks like this:  ``` input_weights_s = 2.8.*(rand(Float64, (number_of_cells, number_of_inputs)) .- 0.5) recurrent_weights_s = 0.5.*(rand(Float64, (number_of_cells, number_of_cells)) .- 0.8) tonic_inputs_s = 0.14.*(rand(Float64, (number_of_cells, )) .- 0.5) readout_weights = rand(Float64, (number_of_outputs, number_of_cells))  frequencies = rand(Float64, (number_of_inputs, 4))  network_inputs_s = zeros(number_of_cells) recurrent_inputs_s = zeros(number_of_cells) output_cache = zeros(2)  p = [input_weights_s, recurrent_weights_s, tonic_inputs_s, readout_weights,     frequencies,     network_inputs_s, recurrent_inputs_s, output_cache] ```","ts":"1614651080.255700","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"do you have any advice for using a parameter set that includes arrays? I'm trying to pass something that looks like this:\n\n```\ninput_weights_s = 2.8.*(rand(Float64, (number_of_cells, number_of_inputs)) .- 0.5)\nrecurrent_weights_s = 0.5.*(rand(Float64, (number_of_cells, number_of_cells)) .- 0.8)\ntonic_inputs_s = 0.14.*(rand(Float64, (number_of_cells, )) .- 0.5)\nreadout_weights = rand(Float64, (number_of_outputs, number_of_cells))\n\nfrequencies = rand(Float64, (number_of_inputs, 4))\n\nnetwork_inputs_s = zeros(number_of_cells)\nrecurrent_inputs_s = zeros(number_of_cells)\noutput_cache = zeros(2)\n\np = [input_weights_s, recurrent_weights_s, tonic_inputs_s, readout_weights,\n    frequencies,\n    network_inputs_s, recurrent_inputs_s, output_cache]\n```","verbatim":false}}]},{"client_msg_id":"e122532f-9b3c-417c-beb9-ed21fb3bb4ec","type":"message","text":"Forwarddiff?","user":"U69BL50BF","ts":"1614655111.256000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LU/O=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Forwarddiff?"}]}]}]},{"client_msg_id":"fceed674-41ae-43da-b4d3-9096d98dd821","type":"message","text":"Another MTK question: is it possible to change a parameter into a variable? I'm constructing a hierarchy of models and at the bottom level are differential equations where the parameters are most naturally interpreted as (fixed) parameters, however they are embedded within a larger model where some of those parameters become variables in the larger model. (The challenge comes because the submodels make sense as independent models with parameters and I'd like to be able to use them as such.)","user":"U73KWSUGN","ts":"1614681798.263900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QVwiX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Another MTK question: is it possible to change a parameter into a variable? I'm constructing a hierarchy of models and at the bottom level are differential equations where the parameters are most naturally interpreted as (fixed) parameters, however they are embedded within a larger model where some of those parameters become variables in the larger model. (The challenge comes because the submodels make sense as independent models with parameters and I'd like to be able to use them as such.)"}]}]}]},{"client_msg_id":"ea5227d1-7b34-4025-8146-80da481f49c9","type":"message","text":"This is possibly a really silly question, but I'm seeing a huge difference in runtime performance between calling a solver by itself (either from REPL directly, or from command line running `julia --project=. test/runtests.jl`) and running `test` directly from the project in the REPL. If I just print out `@info @belapsed solve(some_problem, solver)` for example, I get about 5ms normally, but 40 seconds in test??? (This is the case despite the function already being compiled, e.g. I get the same behaviour when using BenchmarkTools' `@benchmark` ). What does `test` do differently that script/REPL does not? :confused:","user":"U013L06JN15","ts":"1614688201.272700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZgnhV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is possibly a really silly question, but I'm seeing a huge difference in runtime performance between calling a solver by itself (either from REPL directly, or from command line running "},{"type":"text","text":"julia --project=. test/runtests.jl","style":{"code":true}},{"type":"text","text":") and running "},{"type":"text","text":"test","style":{"code":true}},{"type":"text","text":" directly from the project in the REPL. If I just print out "},{"type":"text","text":"@info @belapsed solve(some_problem, solver)","style":{"code":true}},{"type":"text","text":" for example, I get about 5ms normally, but 40 seconds in test??? (This is the case despite the function already being compiled, e.g. I get the same behaviour when using BenchmarkTools' "},{"type":"text","text":"@benchmark","style":{"code":true}},{"type":"text","text":" ). What does "},{"type":"text","text":"test","style":{"code":true}},{"type":"text","text":" do differently that script/REPL does not? "},{"type":"emoji","name":"confused"}]}]}]},{"client_msg_id":"dccf76ee-3144-4eda-939e-89d19ce0eac4","type":"message","text":"<@U013L06JN15> coverage statistics","user":"U69BL50BF","ts":"1614688517.273000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NfLl","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U013L06JN15"},{"type":"text","text":" coverage statistics"}]}]}]},{"client_msg_id":"896b8105-7f0c-4e0a-8319-598ce4982f05","type":"message","text":"we have coverage statistics turned off on a lot of tests for this reason","user":"U69BL50BF","ts":"1614688552.273700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kV4Eg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we have coverage statistics turned off on a lot of tests for this reason"}]}]}]},{"client_msg_id":"1444105d-ce8d-4ae8-b17e-82aaa42f1e48","type":"message","text":"Ah!","user":"U013L06JN15","ts":"1614688560.273900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tpG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah!"}]}]}]},{"client_msg_id":"60fadbc8-5897-4a74-939e-6253ddfcefae","type":"message","text":"This makes a lot of sense","user":"U013L06JN15","ts":"1614688562.274100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZfST","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This makes a lot of sense"}]}]}]},{"client_msg_id":"df9fbee1-eea1-4822-9dd5-f6741a2aa68a","type":"message","text":"I didn't think at all it would be enabled by default","user":"U013L06JN15","ts":"1614688572.274400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gZg5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't think at all it would be enabled by default"}]}]}]},{"client_msg_id":"e6c23eeb-65a2-4883-8249-08075d97df27","type":"message","text":"Thanks a lot!","user":"U013L06JN15","ts":"1614688576.274600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6cK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks a lot!"}]}]}]},{"client_msg_id":"65f53023-8ae7-4bec-9c91-dcd1b84aaa06","type":"message","text":"also inbounds is disabled","user":"U69BL50BF","ts":"1614688601.275000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OiSU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also inbounds is disabled"}]}]}]},{"client_msg_id":"5783b87d-ad01-48e7-8268-42cb8bb29eb2","type":"message","text":"Ah hmm it seems that `--coverage` is an option, which I don't set so probably it's not that.","user":"U013L06JN15","ts":"1614688678.275400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zvc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah hmm it seems that "},{"type":"text","text":"--coverage","style":{"code":true}},{"type":"text","text":" is an option, which I don't set so probably it's not that."}]}]}]},{"client_msg_id":"2454be7c-7eac-4459-8afb-24946b20f81e","type":"message","text":"But you're right, inbounds seems to be disabled by default","user":"U013L06JN15","ts":"1614688740.275800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2UF/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But you're right, inbounds seems to be disabled by default"}]}]}]},{"client_msg_id":"f1832004-850e-4a4b-be59-645df6414548","type":"message","text":"Seems this might likely be a Pkg.test question rather than something due to DiffEq, so I'm going to move this over to <#CBF3Z1D7V|pkg-dev> instead","user":"U013L06JN15","ts":"1614690983.278500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l/A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems this might likely be a Pkg.test question rather than something due to DiffEq, so I'm going to move this over to "},{"type":"channel","channel_id":"CBF3Z1D7V"},{"type":"text","text":" instead"}]}]}]},{"client_msg_id":"b299eef3-99ec-4edb-81fc-33942eb89ba8","type":"message","text":"<@U013L06JN15> I've been playing around with your code and I've notice weird timings even in the repl, ie subsequent calls to the same function have drastically different run-times like you state for repl vs test","user":"UP95S4864","ts":"1614691058.279600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Txl0","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U013L06JN15"},{"type":"text","text":" I've been playing around with your code and I've notice weird timings even in the repl, ie subsequent calls to the same function have drastically different run-times like you state for repl vs test"}]}]}]},{"client_msg_id":"81d62cc7-e652-4932-ada8-afaff7dbced0","type":"message","text":"Hmm I haven't seen any big differences (other than due to GC) just running things in REPL, but definitely in Test things are weirdly slow","user":"U013L06JN15","ts":"1614691160.280200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=ha","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm I haven't seen any big differences (other than due to GC) just running things in REPL, but definitely in Test things are weirdly slow"}]}]}]},{"client_msg_id":"43ec4483-5ff1-4bbe-a6e7-82a4018a1a61","type":"message","text":"I was testing w/ `expectation` , but even then the whole process should be deterministic from run to run. I'll be sure to let you know if I uncover anything","user":"UP95S4864","ts":"1614691251.281700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OJR7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was testing w/ "},{"type":"text","text":"expectation","style":{"code":true}},{"type":"text","text":" , but even then the whole process should be deterministic from run to run. I'll be sure to let you know if I uncover anything"}]}]}]},{"client_msg_id":"d7e689fd-6859-4c33-893d-647e5e6fdde7","type":"message","text":"Thanks very much! If you're testing on the EphemerisNBP solver, that makes some calls to a C library which also needs to read from some big artifacts (SPICE ephemerides) that it downloads, I don't think that should affect the timing but letting you know just in case that's a possible source. I'm not sure what else would be.","user":"U013L06JN15","ts":"1614691386.285100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f755n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks very much! If you're testing on the EphemerisNBP solver, that makes some calls to a C library which also needs to read from some big artifacts (SPICE ephemerides) that it downloads, I don't think that should affect the timing but letting you know just in case that's a possible source. I'm not sure what else would be."}]}]}]},{"client_msg_id":"6db88b83-ee63-4470-b5a5-58c183ce1836","type":"message","text":"Based on the symptoms it looked like the stability of the ODE solve and possibly the event detection in `collision`was changing from run to run. What I was running was pretty much the Koopman example you have in the docs. I was comparing the MC/Koopman times","user":"UP95S4864","ts":"1614691477.286300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4sce","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Based on the symptoms it looked like the stability of the ODE solve and possibly the event detection in "},{"type":"text","text":"collision","style":{"code":true}},{"type":"text","text":"was changing from run to run. What I was running was pretty much the Koopman example you have in the docs. I was comparing the MC/Koopman times"}]}]}]},{"client_msg_id":"da984f7f-9515-413b-81b6-34dbfa8e0d67","type":"message","text":"The collision checker will terminate the solve immediately, so that would affect the runtime, if that's what you were possibly seeing?","user":"U013L06JN15","ts":"1614691597.286900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YYG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The collision checker will terminate the solve immediately, so that would affect the runtime, if that's what you were possibly seeing?"}]}]}],"thread_ts":"1614691597.286900","reply_count":1,"reply_users_count":1,"latest_reply":"1614694391.292000","reply_users":["UP95S4864"],"subscribed":false},{"client_msg_id":"c504fc6a-2150-4a49-b359-8e4b5d1e9647","type":"message","text":"<@U69BL50BF> <@UP95S4864> FYI, the performance issue above seems to be due to some depwarns (specifically, the warning for \"Use getters like get_xyz\" from ModelingToolkit's `AbstractSystem`), because I'm doing some (possibly dodgy) overloading of `AbstractODESystem`  and apparently not being careful enough with that.","user":"U013L06JN15","ts":"1614694296.291700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p8i","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"UP95S4864"},{"type":"text","text":" FYI, the performance issue above seems to be due to some depwarns (specifically, the warning for \"Use getters like get_xyz\" from ModelingToolkit's "},{"type":"text","text":"AbstractSystem","style":{"code":true}},{"type":"text","text":"), because I'm doing some (possibly dodgy) overloading of "},{"type":"text","text":"AbstractODESystem","style":{"code":true}},{"type":"text","text":"  and apparently not being careful enough with that."}]}]}]},{"client_msg_id":"2b6947a0-3483-4a2b-899d-9f2147caa88e","type":"message","text":"<@U69BL50BF> I know we talked about this before... but is there a typical workaround for allowing ReverseDiff to differentiate through pre-allocated arrays? I don't care if I have to allocate a new copy as `TrackedArray` or something... I just need the differentiation to work and then also I guess update the original array on each forward pass.","user":"U01H36BUDJB","ts":"1614702515.293800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fdeM","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I know we talked about this before... but is there a typical workaround for allowing ReverseDiff to differentiate through pre-allocated arrays? I don't care if I have to allocate a new copy as "},{"type":"text","text":"TrackedArray","style":{"code":true}},{"type":"text","text":" or something... I just need the differentiation to work and then also I guess update the original array on each forward pass."}]}]}]},{"client_msg_id":"69917922-997d-468c-8d07-b83497f7fd42","type":"message","text":"`identity.(x)`","user":"U69BL50BF","ts":"1614709992.294100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dlhwH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"identity.(x)","style":{"code":true}}]}]}]},{"client_msg_id":"c7ab5ee8-34ed-4dca-9efe-ca216d89e991","type":"message","text":"I need a sanity check. Is integrating backwards in time always equivalent to integrating forward with a negated EOM in theory? I.e, Does `xdot = -F(x)`  from `t=(0,T)`  always equal `xdot = F(x)`  from `t = (T,0)`","user":"UP95S4864","ts":"1614721142.301200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J2B1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I need a sanity check. Is integrating backwards in time always equivalent to integrating forward with a negated EOM in theory? I.e, Does "},{"type":"text","text":"xdot = -F(x)","style":{"code":true}},{"type":"text","text":"  from "},{"type":"text","text":"t=(0,T)","style":{"code":true}},{"type":"text","text":"  always equal "},{"type":"text","text":"xdot = F(x)","style":{"code":true}},{"type":"text","text":"  from "},{"type":"text","text":"t = (T,0)","style":{"code":true}}]}]}],"thread_ts":"1614721142.301200","reply_count":2,"reply_users_count":2,"latest_reply":"1614722932.321700","reply_users":["UB197FRCL","UP95S4864"],"subscribed":false},{"client_msg_id":"091926ca-edd4-4704-bfdd-c5e667b845af","type":"message","text":"Hi, what can be a reasonable `dt`  value to `set_proposed_dt!(integrator,dt)`  after a `DiscreteCallback` ? In my problem (unfortunately, can post it right now) the discontinuous change leads to solver failure (negative values appear under `log`) . Setting dt to `0.01`  solves the problem, but it is a \"magic number\". Maybe initial `dt`  can be used here?  Is it stored somewhere ?","user":"UBP7GU04T","ts":"1614721943.307100","team":"T68168MUP","edited":{"user":"UBP7GU04T","ts":"1614722348.000000"},"blocks":[{"type":"rich_text","block_id":"RcGu7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, what can be a reasonable "},{"type":"text","text":"dt","style":{"code":true}},{"type":"text","text":"  value to "},{"type":"text","text":"set_proposed_dt!(integrator,dt)","style":{"code":true}},{"type":"text","text":"  after a "},{"type":"text","text":"DiscreteCallback","style":{"code":true}},{"type":"text","text":" ? In my problem (unfortunately, can post it right now) the discontinuous change leads to solver failure (negative values appear under "},{"type":"text","text":"log","style":{"code":true}},{"type":"text","text":") . Setting dt to "},{"type":"text","text":"0.01","style":{"code":true}},{"type":"text","text":"  solves the problem, but it is a \"magic number\". Maybe initial "},{"type":"text","text":"dt","style":{"code":true}},{"type":"text","text":"  can be used here?  Is it stored somewhere ?"}]}]}]},{"client_msg_id":"6b90ea27-b492-4a1c-93a4-ca800e4987ca","type":"message","text":"you can make it trigger the initial dt algorithm again","user":"U69BL50BF","ts":"1614722380.313800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"btzY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can make it trigger the initial dt algorithm again"}]}]}]},{"client_msg_id":"471d06e8-4366-405b-8836-3e27a53f5b7d","type":"message","text":"are you setting it lower?","user":"U69BL50BF","ts":"1614722387.314000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"phlc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you setting it lower?"}]}]}]},{"client_msg_id":"7a0ec089-8ea9-4df6-828a-14b2c7f6807d","type":"message","text":"that should be fine","user":"U69BL50BF","ts":"1614722390.314200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VHw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that should be fine"}]}]}]},{"client_msg_id":"4241b198-c201-4f04-883d-593a676aa3e6","type":"message","text":"if it isn't, I would suspect a model problem","user":"U69BL50BF","ts":"1614722400.314500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dw0H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if it isn't, I would suspect a model problem"}]}]}]},{"client_msg_id":"111ab3d8-cfc1-4087-92f7-e19fa27ca6c9","type":"message","text":"Yes, I am setting it lower and it solves the problem, but I think I set it too low. How can I trigger the initial dt ?","user":"UBP7GU04T","ts":"1614722569.317300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vgqVm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I am setting it lower and it solves the problem, but I think I set it too low. How can I trigger the initial dt ?"}]}]}]},{"client_msg_id":"b25cd9ee-2950-4cc6-bae5-c24c3ed1cd4e","type":"message","text":"Is it `auto_dt_reset!` ?","user":"UBP7GU04T","ts":"1614722817.320000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UhVvE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it "},{"type":"text","text":"auto_dt_reset!","style":{"code":true}},{"type":"text","text":" ?"}]}]}]},{"client_msg_id":"0e16626a-107d-424a-996d-5fe07e9ae4ba","type":"message","text":"ys","user":"U69BL50BF","ts":"1614722854.321100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CARv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ys"}]}]}]},{"client_msg_id":"a0314f88-efb0-4712-ba12-880c52a25df4","type":"message","text":"cool! thanks","user":"UBP7GU04T","ts":"1614722890.321600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OvBxY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool! thanks"}]}]}]},{"client_msg_id":"18c552c5-b1c5-4628-88d3-f934f7d2dbe0","type":"message","text":"hm, strangely `set_proposed_dt!(integrator,0.1)` solves my problem but `auto_dt_reset!(integrator)`  which sets `integrator.dt` much smaller doesn't","user":"UBP7GU04T","ts":"1614724134.327100","team":"T68168MUP","edited":{"user":"UBP7GU04T","ts":"1614724154.000000"},"blocks":[{"type":"rich_text","block_id":"Gw6U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hm, strangely "},{"type":"text","text":"set_proposed_dt!(integrator,0.1)","style":{"code":true}},{"type":"text","text":" solves my problem but "},{"type":"text","text":"auto_dt_reset!(integrator)","style":{"code":true}},{"type":"text","text":"  which sets "},{"type":"text","text":"integrator.dt","style":{"code":true}},{"type":"text","text":" much smaller doesn't"}]}]}]},{"client_msg_id":"0b25ce23-7caf-4e62-996c-b660387b563a","type":"message","text":"that's interesting","user":"U69BL50BF","ts":"1614724190.327600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lniH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's interesting"}]}]}]},{"client_msg_id":"e095555f-6576-47fe-a98a-c4ba2ebaefab","type":"message","text":"any odd discotinuity or state shinnanigans?","user":"U69BL50BF","ts":"1614724199.327900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qq2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"any odd discotinuity or state shinnanigans?"}]}]}]},{"client_msg_id":"6d21b9dc-af5c-419a-b148-1004057657fa","type":"message","text":"well, it is a dose added to state variable, nothing special. But the model is a big one, there could be smth tricky - I need to check.  I ll try to make a smaller and sharable MWE of this model  if I can","user":"UBP7GU04T","ts":"1614724612.333800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ryw+T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, it is a dose added to state variable, nothing special. But the model is a big one, there could be smth tricky - I need to check.  I ll try to make a smaller and sharable MWE of this model  if I can"}]}]}]},{"client_msg_id":"e1fef66d-9955-4300-bdb5-43982bbac7f9","type":"message","text":"Is there already a separate channel for symbolics ?\n\nI just tried the tutorial from the docs <https://symbolics.juliasymbolics.org/stable/tutorials/auto_parallel>\nbut got an error\n```┌ Warning: Parallel form of SymbolicUtils.Code.LiteralExpr not implemented\n└ @ Symbolics ~/.julia/packages/Symbolics/iUk95/src/build_function.jl:260\nERROR: LoadError: MethodError: no method matching _set_array(::Nothing, ::Vector{Num}, ::Bool, ::Bool)\nClosest candidates are:\n  _set_array(::Any, ::Any, ::Any, ::Any, ::Any) at /home/isensee/.julia/packages/Symbolics/iUk95/src/build_function.jl:306\n  _set_array(::Any, ::Any, ::AbstractArray, ::Any, ::Any) at /home/isensee/.julia/packages/Symbolics/iUk95/src/build_function.jl:289\nStacktrace:\n [1] set_array(::SymbolicUtils.Code.LiteralExpr, ::Nothing, ::Vector{Num}, ::Bool, ::Bool)\n   @ Symbolics ~/.julia/packages/Symbolics/iUk95/src/build_function.jl:261```\nusing\n```(symbolics) pkg&gt; status\n      Status `~/Documents/CodeTesting/symbolics/Project.toml`\n  [6e4b80f9] BenchmarkTools v0.5.0\n  [1dea7af3] OrdinaryDiffEq v5.51.1\n  [0c5d862f] Symbolics v0.1.2 `<https://github.com/JuliaSymbolics/Symbolics.jl.git#master>`\n  [2f01184e] SparseArrays```","user":"U9769MVA7","ts":"1614774050.340300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qei8W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there already a separate channel for symbolics ?\n\nI just tried the tutorial from the docs "},{"type":"link","url":"https://symbolics.juliasymbolics.org/stable/tutorials/auto_parallel"},{"type":"text","text":"\nbut got an error\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Warning: Parallel form of SymbolicUtils.Code.LiteralExpr not implemented\n└ @ Symbolics ~/.julia/packages/Symbolics/iUk95/src/build_function.jl:260\nERROR: LoadError: MethodError: no method matching _set_array(::Nothing, ::Vector{Num}, ::Bool, ::Bool)\nClosest candidates are:\n  _set_array(::Any, ::Any, ::Any, ::Any, ::Any) at /home/isensee/.julia/packages/Symbolics/iUk95/src/build_function.jl:306\n  _set_array(::Any, ::Any, ::AbstractArray, ::Any, ::Any) at /home/isensee/.julia/packages/Symbolics/iUk95/src/build_function.jl:289\nStacktrace:\n [1] set_array(::SymbolicUtils.Code.LiteralExpr, ::Nothing, ::Vector{Num}, ::Bool, ::Bool)\n   @ Symbolics ~/.julia/packages/Symbolics/iUk95/src/build_function.jl:261"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"using\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(symbolics) pkg> status\n      Status `~/Documents/CodeTesting/symbolics/Project.toml`\n  [6e4b80f9] BenchmarkTools v0.5.0\n  [1dea7af3] OrdinaryDiffEq v5.51.1\n  [0c5d862f] Symbolics v0.1.2 `"},{"type":"link","url":"https://github.com/JuliaSymbolics/Symbolics.jl.git#master"},{"type":"text","text":"`\n  [2f01184e] SparseArrays"}]}]}]},{"client_msg_id":"5da1f276-1da9-444d-998e-26abb89c203c","type":"message","text":"<#C8R5HJMSN|symbolic-manipulation>","user":"U69BL50BF","ts":"1614774166.340500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K+0Op","elements":[{"type":"rich_text_section","elements":[{"type":"channel","channel_id":"C8R5HJMSN"}]}]}]},{"client_msg_id":"3bd60184-e64b-463b-9b88-2a66e9c08e17","type":"message","text":"<@U68907M46> broke it and then I thought he said he fixed it?","user":"U69BL50BF","ts":"1614774186.340800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"idK9","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68907M46"},{"type":"text","text":" broke it and then I thought he said he fixed it?"}]}]}]},{"client_msg_id":"4D300240-E099-41EB-AF63-83EB5035C699","type":"message","text":"Oh no! I’ll take a look","user":"U68907M46","ts":"1614778004.341200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MfM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh no! I’ll take a look"}]}]}]},{"client_msg_id":"24D5ED47-71F6-440C-9A1C-408BACEB8BC9","type":"message","text":"Well the tests for this do pass :laughing:","user":"U68907M46","ts":"1614778127.341600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fWHn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well the tests for this do pass "},{"type":"emoji","name":"laughing"}]}]}]},{"client_msg_id":"88429372-d6c4-40d5-8c8f-3d5d935e79fe","type":"message","text":"<https://www.youtube.com/watch?v=KCTfPyVIxpc>, <@U69BL50BF> i didnt quite understand what you meant by setting g(x,p) = x ;\nis g a scalar but x a vector ?","user":"UQWRPDJ68","ts":"1614795810.342700","team":"T68168MUP","attachments":[{"service_name":"YouTube","service_url":"https://www.youtube.com/","title":"Differentiable Programming Part 2: Adjoint Derivation for (Neural) ODEs and Nonlinear Solve","title_link":"https://www.youtube.com/watch?v=KCTfPyVIxpc","author_name":"Parallel Computing and Scientific Machine Learning","author_link":"https://www.youtube.com/channel/UCDtsHjkOEMHYPGgpKX8VOPg","thumb_url":"https://i.ytimg.com/vi/KCTfPyVIxpc/hqdefault.jpg","thumb_width":480,"thumb_height":360,"fallback":"YouTube Video: Differentiable Programming Part 2: Adjoint Derivation for (Neural) ODEs and Nonlinear Solve","video_html":"<iframe width=\"400\" height=\"225\" src=\"https://www.youtube.com/embed/KCTfPyVIxpc?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>","video_html_width":400,"video_html_height":225,"from_url":"https://www.youtube.com/watch?v=KCTfPyVIxpc","service_icon":"https://a.slack-edge.com/80588/img/unfurl_icons/youtube.png","id":1,"original_url":"https://www.youtube.com/watch?v=KCTfPyVIxpc"}],"blocks":[{"type":"rich_text","block_id":"jucpb","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://www.youtube.com/watch?v=KCTfPyVIxpc"},{"type":"text","text":", "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" i didnt quite understand what you meant by setting g(x,p) = x ;\nis g a scalar but x a vector ?"}]}]}]},{"client_msg_id":"0db8a963-7661-4687-9694-cacd02aa86c4","type":"message","text":"`g` is a function","user":"U69BL50BF","ts":"1614796304.343000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fLd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"g","style":{"code":true}},{"type":"text","text":" is a function"}]}]}]},{"client_msg_id":"2fc343e1-9e83-4395-93fb-4ebaf33e4f3b","type":"message","text":"`x` is a vector","user":"U69BL50BF","ts":"1614796307.343200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hq3O+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" is a vector"}]}]}]},{"client_msg_id":"dd9a0cbf-8ed4-42cf-aa4a-8f083bfb1244","type":"message","text":"cost equals the identity","user":"U69BL50BF","ts":"1614796314.343400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7aa/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cost equals the identity"}]}]}]},{"client_msg_id":"c3f8b236-30e1-423c-ae52-69feedad9a8f","type":"message","text":"is equivalent to the `Array(x)` function","user":"U69BL50BF","ts":"1614796320.343600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7TW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is equivalent to the "},{"type":"text","text":"Array(x)","style":{"code":true}},{"type":"text","text":" function"}]}]}]},{"client_msg_id":"ea2276af-c54f-4838-91e1-edcaf902c40a","type":"message","text":"`g` isn't necesarily a function from `R^n -&gt; R` ?","user":"UQWRPDJ68","ts":"1614797345.344200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7dGF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"g","style":{"code":true}},{"type":"text","text":" isn't necesarily a function from "},{"type":"text","text":"R^n -> R","style":{"code":true}},{"type":"text","text":" ?"}]}]}]},{"client_msg_id":"acd94106-0886-4a96-9735-0fd2c52b19d7","type":"message","text":"it doesn't need to be. It's \"gradient\" if it has a scalar output, or you can talk about its Jacobian","user":"U69BL50BF","ts":"1614797430.344700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XXddJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it doesn't need to be. It's \"gradient\" if it has a scalar output, or you can talk about its Jacobian"}]}]}]},{"client_msg_id":"355ed464-2200-4e4c-bf72-d7c95adddc4c","type":"message","text":"Is anyone aware of an existing implementation of the Newton-Cassulli-Zanolli (NCZ) method in Julia? I can't tell which algorithms NLsolvers implements.\nReference: <https://epubs.siam.org/doi/abs/10.1137/100786320>","user":"U01H36BUDJB","ts":"1614810530.345900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cy4/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is anyone aware of an existing implementation of the Newton-Cassulli-Zanolli (NCZ) method in Julia? I can't tell which algorithms NLsolvers implements.\nReference: "},{"type":"link","url":"https://epubs.siam.org/doi/abs/10.1137/100786320"}]}]}]},{"type":"message","text":"Hi! I'm trying to solve an ODE for covariance matrix. But it seems the output may not be symmetry and positive definite due to numerical errors. Is there a way to zero out the numerical errors? Could you help me with this? Thanks a lot in advance!\n\n```d_phi(u,p,t) = Jacobian_matrix(p,u)*u+u*Jacobian_matrix(p,u)'+ A'*H(u)*A\nsol = solve(ODEProblem(d_phi,phi_0,t_per_step,p))[end]```\n","files":[{"id":"F01PNMJ30H5","mode":"tombstone"}],"upload":false,"blocks":[{"type":"rich_text","block_id":"RQgpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi! I'm trying to solve an ODE for covariance matrix. But it seems the output may not be symmetry and positive definite due to numerical errors. Is there a way to zero out the numerical errors? Could you help me with this? Thanks a lot in advance!\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"d_phi(u,p,t) = Jacobian_matrix(p,u)*u+u*Jacobian_matrix(p,u)'+ A'*H(u)*A\nsol = solve(ODEProblem(d_phi,phi_0,t_per_step,p))[end]"}]},{"type":"rich_text_section","elements":[]}]}],"user":"U01Q398M3QB","display_as_bot":false,"ts":"1614816302.350400"},{"type":"message","text":"","files":[{"id":"F01Q3NECH2P","created":1614817255,"timestamp":1614817255,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01Q398M3QB","editable":false,"size":120328,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01Q3NECH2P/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01Q3NECH2P/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_360.png","thumb_360_w":360,"thumb_360_h":42,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_480.png","thumb_480_w":480,"thumb_480_h":56,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_720.png","thumb_720_w":720,"thumb_720_h":84,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_800.png","thumb_800_w":800,"thumb_800_h":93,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_960.png","thumb_960_w":960,"thumb_960_h":112,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01Q3NECH2P-4dcc6cbfe5/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":119,"original_w":1358,"original_h":158,"thumb_tiny":"AwAFADDQAOT836UEEkjdinUnf8KQCbTjG4/Wjaf7xp1JQAhXryc0beOp/OlooA//2Q==","permalink":"https://julialang.slack.com/files/U01Q398M3QB/F01Q3NECH2P/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01Q3NECH2P-0b466ef7ab","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U01Q398M3QB","display_as_bot":false,"ts":"1614817258.350800"},{"client_msg_id":"4b8b70aa-e680-4745-a693-9d7a1b033aab","type":"message","text":"Maybe just call `Symmetric` on the result","user":"U6788D83U","ts":"1614818469.351400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CJS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe just call "},{"type":"text","text":"Symmetric","style":{"code":true}},{"type":"text","text":" on the result"}]}]}]},{"client_msg_id":"201eac53-5560-4976-bf07-93572a03b8cb","type":"message","text":"<@U6788D83U> Thanks for helping, I need to rewrite the problem since I call this ODE in Turing and consequently the ODE solution is in Dual type which could not be applied to Symmetric().","user":"U01Q398M3QB","ts":"1614825789.353600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SCruQ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" Thanks for helping, I need to rewrite the problem since I call this ODE in Turing and consequently the ODE solution is in Dual type which could not be applied to Symmetric()."}]}]}]},{"client_msg_id":"99c205d4-b48b-424a-a30e-23a54f59f4fd","type":"message","text":"Cannot you call Symmetric after solving?","user":"U6788D83U","ts":"1614825828.353900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"twX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cannot you call Symmetric after solving?"}]}]}]},{"type":"message","subtype":"bot_message","text":"Is it \"legal\" to add an exogeneous input to a state u[i] in the du() function (and setting du[i]=0.0), just to have the input added to the normal states from an ODE solver?","ts":"1614843675.354100","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"Is it \"legal\" to add an exogeneous input to a state u[i] in the du() function (and setting du[i]=0.0), just to have the input added to the normal states from an ODE solver?","verbatim":false}}]},{"client_msg_id":"c02c7812-67ce-49dd-b527-bec68e4aa8ec","type":"message","text":"No","user":"U69BL50BF","ts":"1614857614.354300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a2r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No"}]}]}]},{"client_msg_id":"f7bc9c5b-709c-4328-b410-601c3fe19a94","type":"message","text":"That can do weird things","user":"U69BL50BF","ts":"1614857622.354600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=og","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That can do weird things"}]}]}]},{"client_msg_id":"c070f850-2183-4488-be8d-6148f647f597","type":"message","text":"Is there a way to `remake` while only partially updating parameters? i.e. if i have a model with p = [a, b, c] and I just want to remake with p = [a, b] and keep c constant","user":"U01M641BZEY","ts":"1614868473.356500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Hy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to "},{"type":"text","text":"remake","style":{"code":true}},{"type":"text","text":" while only partially updating parameters? i.e. if i have a model with p = [a, b, c] and I just want to remake with p = [a, b] and keep c constant"}]}]}]},{"client_msg_id":"d0f383d2-1aed-4fa8-bb33-e64b515ad01c","type":"message","text":"not yet","user":"U69BL50BF","ts":"1614868735.356700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NZwW6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not yet"}]}]}],"reactions":[{"name":"thumbsup_all","users":["U01M641BZEY"],"count":1}]},{"type":"message","subtype":"bot_message","text":"Hey, I have a BVProblem with 7 initial values. I know already 4 of them and would like to shoot only 3.  How can I do that? The documentary  mentions that I can initialize the Problem with a function but not how. ","ts":"1614871928.358000","username":"[gitter] <mcircle>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"Hey, I have a BVProblem with 7 initial values. I know already 4 of them and would like to shoot only 3.  How can I do that? The documentary  mentions that I can initialize the Problem with a function but not how. ","verbatim":false}}]},{"client_msg_id":"425ac900-9e07-4a6c-bb32-6adb0238089c","type":"message","text":"Has the  `build_function` rewrite been benchmarked yet?","user":"UFTJ2UDEW","ts":"1614872718.359000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f8Kfz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Has the  "},{"type":"text","text":"build_function","style":{"code":true}},{"type":"text","text":" rewrite been benchmarked yet?"}]}]}]},{"client_msg_id":"510a3828-349b-4402-b5e3-e91197c1b493","type":"message","text":"<@U68907M46>...","user":"U69BL50BF","ts":"1614874681.359300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ybpw","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68907M46"},{"type":"text","text":"..."}]}]}]},{"client_msg_id":"c28a6787-d73f-4a49-ba7f-725bb9c54e54","type":"message","text":"&gt; Hey, I have a BVProblem with 7 initial values. I know already 4 of them and would like to shoot only 3.  How can I do that? The documentary  mentions that I can initialize the Problem with a function but not how.\nIn the boundary function, make some of the residuals use `sol[1]` and others use `sol[end]`","user":"U69BL50BF","ts":"1614874890.359900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"07A","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Hey, I have a BVProblem with 7 initial values. I know already 4 of them and would like to shoot only 3.  How can I do that? The documentary  mentions that I can initialize the Problem with a function but not how."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"In the boundary function, make some of the residuals use "},{"type":"text","text":"sol[1]","style":{"code":true}},{"type":"text","text":" and others use "},{"type":"text","text":"sol[end]","style":{"code":true}}]}]}]},{"client_msg_id":"05a7a8dd-44ad-4161-bce5-031b03dda7dc","type":"message","text":"@mcircle","user":"U69BL50BF","ts":"1614874895.360100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Th67g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@mcircle"}]}]}]}]}