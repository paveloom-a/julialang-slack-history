{"cursor": 11, "messages": [{"client_msg_id":"a0ac04fa-b8af-4ab9-baf4-0a07e1b606c5","type":"message","text":"that's on the edge. Maybe forward there if you do all of the pre-allocation tricks","user":"U69BL50BF","ts":"1612432808.261600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sBa0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's on the edge. Maybe forward there if you do all of the pre-allocation tricks"}]}]}]},{"client_msg_id":"08112467-10fb-4723-97e4-253bb6afdff2","type":"message","text":"stiff?","user":"U69BL50BF","ts":"1612432829.261800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fxG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"stiff?"}]}]}]},{"client_msg_id":"804d4a05-5832-4b37-9849-dd16c1ee404c","type":"message","text":"yes","user":"U01H36BUDJB","ts":"1612432843.262000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MMlJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"be2cfe53-e32d-49d1-937a-ac99a19ffa57","type":"message","text":"well partially... heat equation w/ phase change, so it's stiff during phase change, but I think it's non-stiff otherwise","user":"U01H36BUDJB","ts":"1612432888.262700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1PeY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well partially... heat equation w/ phase change, so it's stiff during phase change, but I think it's non-stiff otherwise"}]}]}]},{"client_msg_id":"69f3a11a-86f4-42e2-8b8e-6a27e481b378","type":"message","text":"was gonna use the auto-switching solvers","user":"U01H36BUDJB","ts":"1612432899.263000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uGPY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"was gonna use the auto-switching solvers"}]}]}]},{"client_msg_id":"b3f834b0-159a-4c72-8a14-ab588c82b533","type":"message","text":"I think forward mode then","user":"U69BL50BF","ts":"1612432908.263200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tuf6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think forward mode then"}]}]}]},{"client_msg_id":"78e74138-ca15-4fbe-885d-8c07912624f1","type":"message","text":"for reasons explained in a submission due tomorrow","user":"U69BL50BF","ts":"1612432919.263500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7K63A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for reasons explained in a submission due tomorrow"}]}]}]},{"client_msg_id":"e86466d4-1faa-4e38-9967-ae57cd14a361","type":"message","text":"oof, ok I'll stop bothering you then","user":"U01H36BUDJB","ts":"1612432936.263800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WTcTI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oof, ok I'll stop bothering you then"}]}]}]},{"client_msg_id":"89c844ca-8a89-430c-9a5d-76c5899e622d","type":"message","text":"though QuadratureAdjoint would likely give it a run for the money","user":"U69BL50BF","ts":"1612432943.264100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KoH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"though QuadratureAdjoint would likely give it a run for the money"}]}]}]},{"client_msg_id":"e40d913e-bf02-44e5-af16-95a2de079c85","type":"message","text":"no, the submissions are fine","user":"U69BL50BF","ts":"1612432947.264300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P=FO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, the submissions are fine"}]}]}]},{"client_msg_id":"63d14ce8-568e-4794-8802-8a0d3b0ec718","type":"message","text":"doing 3 this week but it's mostly tidying up now.","user":"U69BL50BF","ts":"1612432963.264600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y10XQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"doing 3 this week but it's mostly tidying up now."}]}]}]},{"client_msg_id":"84a1ac5c-aa50-41ec-b0ce-a457ae1752a5","type":"message","text":"Slack says it's like 5 AM your time. Are you not in North America?","user":"U01H36BUDJB","ts":"1612432995.264900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6uv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Slack says it's like 5 AM your time. Are you not in North America?"}]}]}]},{"client_msg_id":"ef3a6e8d-23f7-4871-b61e-4aabeef0d5c9","type":"message","text":"I am","user":"U69BL50BF","ts":"1612433001.265100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AUvP+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am"}]}]}]},{"client_msg_id":"cd2ba686-0eb7-4edc-aa1f-36b2eb63cb0d","type":"message","text":":sweat_smile:","user":"U01H36BUDJB","ts":"1612433011.265300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ha=","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"sweat_smile"}]}]}]},{"client_msg_id":"af86079f-5ea1-4eee-a863-14a1feb46666","type":"message","text":"so the solution to having pre-allocated arrays with forward-diff is `get_tmp` and `dualcache`?","user":"U01H36BUDJB","ts":"1612433991.265900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WD8Bw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so the solution to having pre-allocated arrays with forward-diff is "},{"type":"text","text":"get_tmp","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"dualcache","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"3f9c41d2-f8ac-4bc3-b558-3d67fa21c812","type":"message","text":"yes","user":"U69BL50BF","ts":"1612434932.266100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tzx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"type":"message","subtype":"bot_message","text":"&gt; Hi.. First trial on diffeqpy here, and struggling a bit. Installed julia 1.6.0, but the demo-code at <https://github.com/SciML/diffeqpy> , inserted, seems to take forever... not getting out of prob = de.ODEProblem(f, u0, tspan)... &gt; No errors/warnings.. Any suggestions? &gt;  &gt;   With downgrading to version 1.5.3 for julia gave a clear improvement (thanks for suggestion). My normal development cycle is still somewhat hampered though.. Using PyCharm to single-step through the code, any interactive use at a breakpoint seems to be impossible.. Even before any de call to de.xx has been done, just a simple \" tv=np.arange(0.,1,0.1) takes forever... and returns nothing. Is this \"normal\"?  ","ts":"1612435118.266200","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"&gt; Hi.. First trial on diffeqpy here, and struggling a bit. Installed julia 1.6.0, but the demo-code at <https://github.com/SciML/diffeqpy> , inserted, seems to take forever... not getting out of prob = de.ODEProblem(f, u0, tspan)...\n&gt; No errors/warnings.. Any suggestions?\n&gt; \n&gt;  \nWith downgrading to version 1.5.3 for julia gave a clear improvement (thanks for suggestion). My normal development cycle is still somewhat hampered though.. Using PyCharm to single-step through the code, any interactive use at a breakpoint seems to be impossible.. Even before any de call to de.xx has been done, just a simple \" tv=np.arange(0.,1,0.1) takes forever... and returns nothing. Is this \"normal\"?\n\n","verbatim":false}}]},{"client_msg_id":"b85a7cc4-8240-406f-8568-75a092d0131f","type":"message","text":"I'm not sure what you're referring to with `tv=np.arange(0.,1,0.1)`","user":"U69BL50BF","ts":"1612435311.266500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rx4aS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure what you're referring to with "},{"type":"text","text":"tv=np.arange(0.,1,0.1)","style":{"code":true}}]}]}]},{"client_msg_id":"42cc909c-16da-4abb-9768-ab26c59f92f9","type":"message","text":"that's not in any of the examples?","user":"U69BL50BF","ts":"1612435317.266700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"amw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's not in any of the examples?"}]}]}]},{"client_msg_id":"81da19f0-363e-4137-861f-cbe9b37618fe","type":"message","text":"<@U69BL50BF> I don't think the example in the docs with `get_tmp` and `dualcache` works with `DiffEqFlux` because then the contents of `p` are also instances of `Dual` during forward differentiation.","user":"U01H36BUDJB","ts":"1612436274.268100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UTi","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I don't think the example in the docs with "},{"type":"text","text":"get_tmp","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"dualcache","style":{"code":true}},{"type":"text","text":" works with "},{"type":"text","text":"DiffEqFlux","style":{"code":true}},{"type":"text","text":" because then the contents of "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" are also instances of "},{"type":"text","text":"Dual","style":{"code":true}},{"type":"text","text":" during forward differentiation."}]}]}]},{"client_msg_id":"ecd8eca9-2f15-40a9-8054-de245c76b8f2","type":"message","text":"i.e. then `mul!(tmp,A,u)` doesn't type check anymore because `tmp = get_tmp(tmp,u)` reinterprets as the original array type.","user":"U01H36BUDJB","ts":"1612436334.269200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"taONT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i.e. then "},{"type":"text","text":"mul!(tmp,A,u)","style":{"code":true}},{"type":"text","text":" doesn't type check anymore because "},{"type":"text","text":"tmp = get_tmp(tmp,u)","style":{"code":true}},{"type":"text","text":" reinterprets as the original array type."}]}]}]},{"client_msg_id":"0ebd47b8-f5d9-49b3-955c-25e539b17b39","type":"message","text":"you just need to make sure the chunksizes align.","user":"U69BL50BF","ts":"1612436367.269700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RaP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you just need to make sure the chunksizes align."}]}]}]},{"client_msg_id":"6f06cb98-c3ce-4b95-a0e6-c7662f9610bb","type":"message","text":"ah, because `p` and `u` are different lengths","user":"U01H36BUDJB","ts":"1612436391.270000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k/E5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, because "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"u","style":{"code":true}},{"type":"text","text":" are different lengths"}]}]}]},{"client_msg_id":"dad11260-92e2-4ff4-bf48-0f86ed9bd675","type":"message","text":"so the automatic chunking would be different","user":"U01H36BUDJB","ts":"1612436400.270200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T4J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so the automatic chunking would be different"}]}]}]},{"client_msg_id":"5f38530e-7dfc-46b9-8b92-afda82642900","type":"message","text":"how do you control the chunking when calling `sciml_train` ? I don't see a kwarg for that.","user":"U01H36BUDJB","ts":"1612436468.270500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DnR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how do you control the chunking when calling "},{"type":"text","text":"sciml_train","style":{"code":true}},{"type":"text","text":" ? I don't see a kwarg for that."}]}]}]},{"client_msg_id":"88d5700f-9b5d-4980-af59-ebb747e58b01","type":"message","text":"there isn't an argument for it","user":"U69BL50BF","ts":"1612436481.270700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s=9i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there isn't an argument for it"}]}]}]},{"type":"message","subtype":"bot_message","text":"&gt; [slack] &lt;chrisrackauckas&gt; that's not in any of the examples?  I am just creating an array to plot the solution at a finer time grid... plt.plot(tv,sol(tv)) ","ts":"1612436485.270900","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"&gt; [slack] &lt;chrisrackauckas&gt; that's not in any of the examples?\n\nI am just creating an array to plot the solution at a finer time grid... plt.plot(tv,sol(tv)) ","verbatim":false}}]},{"client_msg_id":"2858f196-72e5-4d01-a1f3-546b86b5d4ae","type":"message","text":"I'd have to dig in to see how it's heuristically doing it","user":"U69BL50BF","ts":"1612436491.271100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s=uf5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd have to dig in to see how it's heuristically doing it"}]}]}]},{"client_msg_id":"25aa442e-bbc7-4cc9-ab93-14b13dd9dd3e","type":"message","text":"ah wait ``ForwardDiffSensitivity`` has a chunk size argument","user":"U01H36BUDJB","ts":"1612436528.271500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wM2aa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah wait `"},{"type":"text","text":"ForwardDiffSensitivity","style":{"code":true}},{"type":"text","text":"` has a chunk size argument"}]}]}]},{"client_msg_id":"62633f33-3614-4642-8815-f8b059d19b9d","type":"message","text":"@peroveh are you running it in a REPL or IDE? The initialization of the packages may take a bit but once all of the instances are running it should be good.","user":"U69BL50BF","ts":"1612436596.272300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TsUDj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@peroveh are you running it in a REPL or IDE? The initialization of the packages may take a bit but once all of the instances are running it should be good."}]}]}]},{"type":"message","subtype":"bot_message","text":"<@U69BL50BF> Yes...i note the time for initialization... (from diffeqpy import de etc).. But this appears to be an issue with PyCharm after the initialization... When at any breakpoint, it does not appear to behave as for normal programs in python when i single step these.. For others i can create new variables, inspect them, plot them etc.. But now i cannot get this to work... The simple interactive test te=np.arange(0.,1,0.1) to create a new time vector takes forever, returns nothing.. whereas the same statement explicit in the code does behave as expected.. It thus appear that it is the debug functionality in PyCharm which somehow is \"wrecked\".. Here i have stopped after tl is created... but no interaction appears possible..","ts":"1612437176.272400","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"<@U69BL50BF> Yes...i note the time for initialization... (from diffeqpy import de etc).. But this appears to be an issue with PyCharm after the initialization... When at any breakpoint, it does not appear to behave as for normal programs in python when i single step these.. For others i can create new variables, inspect them, plot them etc.. But now i cannot get this to work... The simple interactive test te=np.arange(0.,1,0.1) to create a new time vector takes forever, returns nothing.. whereas the same statement explicit in the code does behave as expected.. It thus appear that it is the debug functionality in PyCharm which somehow is \"wrecked\".. Here i have stopped after tl is created... but no interaction appears possible..","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"[![image.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/thumb/image.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/image.png>)","ts":"1612437176.272500","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","attachments":[{"fallback":"250x164px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/thumb/image.png","image_width":250,"image_height":164,"image_bytes":29374,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/thumb/image.png","id":1,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/thumb/image.png"},{"fallback":"895x588px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/image.png","image_width":895,"image_height":588,"image_bytes":77700,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/image.png","id":2,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/image.png"}],"blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"[![image.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/thumb/image.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/pHFp/image.png>)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1612437177.000000"}},{"client_msg_id":"fdd88c85-a960-474e-b1dc-622128b8b621","type":"message","text":"I am not sure how PyCharm breakpoints are going to interact with the Julia calls","user":"U69BL50BF","ts":"1612437207.273000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5a1R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am not sure how PyCharm breakpoints are going to interact with the Julia calls"}]}]}]},{"client_msg_id":"95612c11-8a4d-40f1-9827-12d08c3926b1","type":"message","text":"that's a question for the pyjulia devs","user":"U69BL50BF","ts":"1612437214.273300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y13","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's a question for the pyjulia devs"}]}]}]},{"client_msg_id":"10de1440-f9cc-4e60-b79b-167c598d341b","type":"message","text":"<@U69BL50BF> I'm 90% sure at this point that `dualcache` just doesn't work with `DiffEqFlux` since the parameter vector `p` has to be a flat array. It fails if there's any other kind of structure, including `DualCache` .","user":"U01H36BUDJB","ts":"1612448742.274700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k4hJk","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I'm 90% sure at this point that "},{"type":"text","text":"dualcache","style":{"code":true}},{"type":"text","text":" just doesn't work with "},{"type":"text","text":"DiffEqFlux","style":{"code":true}},{"type":"text","text":" since the parameter vector "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" has to be a flat array. It fails if there's any other kind of structure, including "},{"type":"text","text":"DualCache","style":{"code":true}},{"type":"text","text":" ."}]}]}]},{"client_msg_id":"cf4fa890-f8f0-4c16-8441-17c8da791a99","type":"message","text":"I've been messing around with it for a while now.","user":"U01H36BUDJB","ts":"1612448758.275000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gTd9U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've been messing around with it for a while now."}]}]}]},{"client_msg_id":"c61e4a1c-13cb-4681-a0f9-7ded7bda0411","type":"message","text":"you'dhave to global it.","user":"U69BL50BF","ts":"1612453867.275400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iCK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'dhave to global it."}]}]}]},{"client_msg_id":"f37c2a2c-4b80-4ac1-b733-e07d33126ac4","type":"message","text":"unrelated question, are there any major drawbacks to using MultiScaleArrays? performance penalties or something?","user":"U01H36BUDJB","ts":"1612454923.275900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wKq=o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"unrelated question, are there any major drawbacks to using MultiScaleArrays? performance penalties or something?"}]}]}]},{"client_msg_id":"c8fd7389-0070-4b8c-956e-eb0c9d75d5b9","type":"message","text":"yes, it's discontiguous","user":"U69BL50BF","ts":"1612456323.276100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qej","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, it's discontiguous"}]}]}]},{"client_msg_id":"df6396db-3455-4e15-82e1-c6cdcb341e03","type":"message","text":"hmm. well the alternative in my problem domain would be to have a single contiguous state array but possibly with large sections that have zero derivatives, if that particular layer does not implement the variable","user":"U01H36BUDJB","ts":"1612457507.277400","team":"T68168MUP","edited":{"user":"U01H36BUDJB","ts":"1612457583.000000"},"blocks":[{"type":"rich_text","block_id":"rGO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm. well the alternative in my problem domain would be to have a single contiguous state array but possibly with large sections that have zero derivatives, if that particular layer does not implement the variable"}]}]}]},{"client_msg_id":"f62b057b-e956-4b43-bd6a-66607ba4f070","type":"message","text":"so I guess how efficient that is depends on how well the solvers handle sparsity and/or zero derivatives","user":"U01H36BUDJB","ts":"1612457528.277900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sqXoZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I guess how efficient that is depends on how well the solvers handle sparsity and/or zero derivatives"}]}]}]},{"client_msg_id":"72767238-0794-44d2-8571-439914fe0133","type":"message","text":"I saw something on this slack recently but don't remember what it said exactly. If I have a large system, but I am primarily interested in just the linear combination of some of the state variables (for instance, an age structured model where I want to measure the total population), is there a method that will get me that more efficiently than solving for all the state variables?","user":"U011V2YN59N","ts":"1612459229.279700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y8Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I saw something on this slack recently but don't remember what it said exactly. If I have a large system, but I am primarily interested in just the linear combination of some of the state variables (for instance, an age structured model where I want to measure the total population), is there a method that will get me that more efficiently than solving for all the state variables?"}]}]}]},{"client_msg_id":"c90b1c5d-6ec5-41c0-be27-2c56b5208b30","type":"message","text":"not in general. In general, you need to solve the nonlinear function to linearly combine.","user":"U69BL50BF","ts":"1612459338.280100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CM3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not in general. In general, you need to solve the nonlinear function to linearly combine."}]}]}]},{"client_msg_id":"6e497ff9-a7e7-4146-a670-f9d930c92eb8","type":"message","text":"Right ok, I'm not sure what it was that I was thinking about then. Thanks!","user":"U011V2YN59N","ts":"1612459680.280700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vONW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right ok, I'm not sure what it was that I was thinking about then. Thanks!"}]}]}]},{"client_msg_id":"0b44f85b-b305-4255-9261-9c6622583183","type":"message","text":"is there documentation somewhere on how `solve` determines when it needs to allocate new instances of `u`? I guess it's at least partially solver dependent.","user":"U01H36BUDJB","ts":"1612463376.283100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gdje","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there documentation somewhere on how "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" determines when it needs to allocate new instances of "},{"type":"text","text":"u","style":{"code":true}},{"type":"text","text":"? I guess it's at least partially solver dependent."}]}]}]},{"client_msg_id":"82ec9c8c-091f-4132-bccd-7864fb448ec4","type":"message","text":"Any advice on profiling solving differential equations on the GPU? The profiler utilities in Julia confuse me","user":"UPM0H43C7","ts":"1612467195.284500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9soa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any advice on profiling solving differential equations on the GPU? The profiler utilities in Julia confuse me"}]}]}]},{"client_msg_id":"69d05f41-780c-4f2f-91b0-e24824cc5211","type":"message","text":"<https://juliagpu.gitlab.io/CUDA.jl/development/profiling/>","user":"U67BJLYCS","ts":"1612467376.284700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lXayK","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://juliagpu.gitlab.io/CUDA.jl/development/profiling/"}]}]}],"thread_ts":"1612467376.284700","reply_count":2,"reply_users_count":2,"latest_reply":"1612467745.285100","reply_users":["UPM0H43C7","U9MD78Z9N"],"subscribed":false,"reactions":[{"name":"+1","users":["UPM0H43C7"],"count":1}]},{"client_msg_id":"aaafacdb-a4db-4672-aa58-eae94fa80a1c","type":"message","text":"PresetTimeCallback vs ContinousCallback\nwhich one should I use if I want to have callbacks at preset times but I desire high accuracy of the callback execution. I know that PresetTimeCallback &lt;: DiscreteCallback so perhaps there is no rootfinding, is it true? My question what is the fundamental difference between PresetTimeCallback and ContinousCallback for event time accuracy.","user":"UR7P24FRC","ts":"1612503798.288700","team":"T68168MUP","edited":{"user":"UR7P24FRC","ts":"1612503837.000000"},"blocks":[{"type":"rich_text","block_id":"vbr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PresetTimeCallback vs ContinousCallback\nwhich one should I use if I want to have callbacks at preset times but I desire high accuracy of the callback execution. I know that PresetTimeCallback <: DiscreteCallback so perhaps there is no rootfinding, is it true? My question what is the fundamental difference between PresetTimeCallback and ContinousCallback for event time accuracy."}]}]}],"thread_ts":"1612503798.288700","reply_count":5,"reply_users_count":2,"latest_reply":"1612505736.289700","reply_users":["UR7P24FRC","U69BL50BF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Hi again..diffeqpy..Usage.  If i understand correctly diffeqpy uses the main \"toolbox?\" DifferentialEquations\"? Does it also facilitate using the diffeqflux package and zygote? I would like to do parameter optimization with AD over the ode solution given a ode system model (thermal cooling system with heat exhcangers, delays, controllers etc)..  OR is direct Julia coding the only answer to the problem. I noticed that even the test for dde's created a Julia function by sending a text string to julia (so  it appears that one will have to learn the Julia syntax in any case..)  But since the function now is in Julia, maybe zygote etc works? Even from Python interface?","ts":"1612522715.289900","username":"[gitter] <peroveh>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Hi again..diffeqpy..Usage.  If i understand correctly diffeqpy uses the main \"toolbox?\" DifferentialEquations\"? Does it also facilitate using the diffeqflux package and zygote? I would like to do parameter optimization with AD over the ode solution given a ode system model (thermal cooling system with heat exhcangers, delays, controllers etc)..  OR is direct Julia coding the only answer to the problem. I noticed that even the test for dde's created a Julia function by sending a text string to julia (so  it appears that one will have to learn the Julia syntax in any case..)  But since the function now is in Julia, maybe zygote etc works? Even from Python interface?","verbatim":false}}]},{"client_msg_id":"f12de649-38d6-497d-895c-4878da416aa3","type":"message","text":"<@U69BL50BF> have you submitted a Dynamics BoF session for the upcoming JuliaCon? I think we should host another one. If you haven't submitted it let me know and I'll do it.","user":"U8J1KET6K","ts":"1612523798.290500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/TKD","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" have you submitted a Dynamics BoF session for the upcoming JuliaCon? I think we should host another one. If you haven't submitted it let me know and I'll do it."}]}]}],"thread_ts":"1612523798.290500","reply_count":3,"reply_users_count":2,"latest_reply":"1612525487.291600","reply_users":["UUTEK2XTM","U69BL50BF"],"subscribed":false,"reactions":[{"name":"+1","users":["UUTEK2XTM"],"count":1}]},{"client_msg_id":"aed1a39d-7389-4a8d-b859-37f327e2d995","type":"message","text":"&gt; Does it also facilitate using the diffeqflux package and zygote?\nNot yet. Doing differentiation through both languages together is possible but not setup yet.","user":"U69BL50BF","ts":"1612525476.291300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7dS","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Does it also facilitate using the diffeqflux package and zygote?"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Not yet. Doing differentiation through both languages together is possible but not setup yet."}]}]}]},{"client_msg_id":"abc55f62-f949-4539-bd1d-d75dcc1963a9","type":"message","text":"Hey all, I have a continuous ODE system `A[N, B, C, t]; B[A, C, t]; C[A, B, t]`  where N is an externally set constant. I'd like to make N follow a Weiner process (from some given start position and sometimes bounded).  Am I better off keeping this system as an ODE with N sampling from a distribution, or convert to an `SDEProblem` with diagonal noise?","user":"UUTEK2XTM","ts":"1612542158.296400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1sH2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey all, I have a continuous ODE system "},{"type":"text","text":"A[N, B, C, t]; B[A, C, t]; C[A, B, t]","style":{"code":true}},{"type":"text","text":"  where N is an externally set constant. I'd like to make N follow a Weiner process (from some given start position and sometimes bounded).  Am I better off keeping this system as an ODE with N sampling from a distribution, or convert to an "},{"type":"text","text":"SDEProblem","style":{"code":true}},{"type":"text","text":" with diagonal noise?"}]}]}]},{"client_msg_id":"4ffa6da2-81a8-4f14-a522-422e3049016d","type":"message","text":"Are there any examples on how to register Flux layers in MTK, and get derivatives? I'm trying to do something like:\n```using ModelingToolkit\nusing DiffEqFlux\nu = [3.0, 0.25, 7.0]\nt = 0.0\nn_u = length(u)\ncontrol_network = FastChain(FastDense(n_u+1, 50, tanh),FastDense(50, 1))\ncontrol_network(vcat(u,t), initial_params(control_network))\nQ(state_time,x) = control_network(state_time,x)\n@register Q(state_time,x)\nModelingToolkit.derivative(::typeof(Q,...) = ... # need derivatives towards u```\nAn even more basic question, can you register vector valued functions?","user":"UQEDP1Q5V","ts":"1612550585.298200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uCE8g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are there any examples on how to register Flux layers in MTK, and get derivatives? I'm trying to do something like:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using ModelingToolkit\nusing DiffEqFlux\nu = [3.0, 0.25, 7.0]\nt = 0.0\nn_u = length(u)\ncontrol_network = FastChain(FastDense(n_u+1, 50, tanh),FastDense(50, 1))\ncontrol_network(vcat(u,t), initial_params(control_network))\nQ(state_time,x) = control_network(state_time,x)\n@register Q(state_time,x)\nModelingToolkit.derivative(::typeof(Q,...) = ... # need derivatives towards u"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"An even more basic question, can you register vector valued functions?"}]}]}]},{"client_msg_id":"954f2914-2604-406a-a360-332f995950be","type":"message","text":"non-scalar stuff is still a bit away in MTK","user":"U69BL50BF","ts":"1612551090.298700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0D2t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"non-scalar stuff is still a bit away in MTK"}]}]}]},{"client_msg_id":"c29684cb-6236-4e5e-aad7-c5b98f42a9da","type":"message","text":"but there is an example IIRC in Catalyst.jl","user":"U69BL50BF","ts":"1612551100.299000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oHp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but there is an example IIRC in Catalyst.jl"}]}]}]},{"client_msg_id":"7a88f2fe-f485-4aaf-9327-d4c5ea76f6f0","type":"message","text":"the issues has one.","user":"U69BL50BF","ts":"1612551102.299200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1zxW4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the issues has one."}]}]}]},{"client_msg_id":"4a1113f0-a896-4571-8752-095598fc3132","type":"message","text":"<https://github.com/SciML/Catalyst.jl/issues/248> ?  Why can `S, I, R` not be an array in the input, but p can?\nAnd quite a bit of allocations for `[S, I, R]` , I'm guessing.","user":"UQEDP1Q5V","ts":"1612552676.301800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yVFP","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/SciML/Catalyst.jl/issues/248"},{"type":"text","text":" ?  Why can "},{"type":"text","text":"S, I, R ","style":{"code":true}},{"type":"text","text":"not be an array in the input, but p can?\nAnd quite a bit of allocations for"},{"type":"text","text":" [S, I, R]","style":{"code":true}},{"type":"text","text":" , I'm guessing."}]}]}]},{"client_msg_id":"b0b5d6d9-d227-4687-a9c5-9a4f78927086","type":"message","text":"it's still somewhat sample code","user":"U69BL50BF","ts":"1612552723.302000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J40F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's still somewhat sample code"}]}]}]},{"client_msg_id":"211a27b6-f2e9-4523-b162-b79c151bf09f","type":"message","text":"we don't have quite a good way of representing vectors symbolically right now","user":"U69BL50BF","ts":"1612552734.302300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A370","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we don't have quite a good way of representing vectors symbolically right now"}]}]}]},{"client_msg_id":"8fc31192-c7eb-4581-aaad-8ac83de65161","type":"message","text":"but that's coming soon","user":"U69BL50BF","ts":"1612552737.302600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L5Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but that's coming soon"}]}]}]},{"client_msg_id":"d89de65e-5601-4a02-9939-cb7715f07e68","type":"message","text":"Does the UniversalDiffEq paper have a publication in a journal?","user":"U6P4UPP9D","ts":"1612570690.303900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dxf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does the UniversalDiffEq paper have a publication in a journal?"}]}]}]},{"type":"message","subtype":"bot_message","text":"Looks like there's a new release of Modia out. See TinyModia at <https://github.com/ModiaSim/TinyModia.jl>. Looks like composition of objects is simpler. No more macros. I wonder how it compares to ModelingToolkit or if there are possibilities to convert between models.  ","ts":"1612572318.304000","username":"[gitter] <tshort>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-02-06/1721696784674_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c05cuukg27ibs0bi3tjg","text":{"type":"mrkdwn","text":"Looks like there's a new release of Modia out. See TinyModia at <https://github.com/ModiaSim/TinyModia.jl>. Looks like composition of objects is simpler. No more macros. I wonder how it compares to ModelingToolkit or if there are possibilities to convert between models.  ","verbatim":false}}]},{"client_msg_id":"b72222f0-a85f-48b6-81cf-06642fbc89e7","type":"message","text":"&gt; Timeline:\n&gt; \n&gt; *Deadline for Proposal Submission: March 5, 2021*\n&gt; Projects will be Notified: April 15, 2021 (or sooner)\n&gt; \n&gt; Available Funding:\n&gt; \n&gt; Up to $5,000 per proposal\n&gt; \n&gt; Eligibility:\n&gt; \n&gt; Any NumFOCUS Fiscally Sponsored or Affiliated project may submit 1 proposal on behalf of the project per grant cycle.\n&gt; If you wish to solicit proposal ideas from your project community, the project leaders must organize their own review process to select the proposal that the leadership will put forward to NumFOCUS.\n&gt; Funding can be used for: code development; documentation work; website updates; workshops and sprints; educational, sustainability, and diversity initiatives; or other types of projects.\n&gt; Proposed work must be achievable within the 12 months following the award.\n&gt; The call is open to applicants from any nationality and can be performed at any university, institute, or business worldwide (US export laws permitting).\n&gt; \n&gt; Funding Distribution:\n&gt; For fiscally sponsored projects only, NumFOCUS can *deposit the grant funding directly into the project’s account*. The project would then submit invoices through the normal channels (i.e. Rocket) to pay the grant expenses.\n&gt; NumFOCUS can set up an *independent contractor agreement* with an individual or company.\n&gt; NumFOCUS can award the money as a *grant or subcontract to a student or postdoc at a university* (depending on the rules of the university).\n&gt; NumFOCUS can *directly pay for expenses* associated with the grant (e.g. booking flights on behalf of project leaders to attend a workshop, per diems for travel days)","user":"U69BL50BF","ts":"1612593002.305100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k8Z/A","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Timeline:\n\n"},{"type":"text","text":"Deadline for Proposal Submission: March 5, 2021","style":{"bold":true}},{"type":"text","text":"\nProjects will be Notified: April 15, 2021 (or sooner)\n\nAvailable Funding:\n\nUp to $5,000 per proposal\n\nEligibility:\n\nAny NumFOCUS Fiscally Sponsored or Affiliated project may submit 1 proposal on behalf of the project per grant cycle.\nIf you wish to solicit proposal ideas from your project community, the project leaders must organize their own review process to select the proposal that the leadership will put forward to NumFOCUS.\nFunding can be used for: code development; documentation work; website updates; workshops and sprints; educational, sustainability, and diversity initiatives; or other types of projects.\nProposed work must be achievable within the 12 months following the award.\nThe call is open to applicants from any nationality and can be performed at any university, institute, or business worldwide (US export laws permitting).\n\nFunding Distribution:\nFor fiscally sponsored projects only, NumFOCUS can "},{"type":"text","text":"deposit the grant funding directly into the project’s account","style":{"bold":true}},{"type":"text","text":". The project would then submit invoices through the normal channels (i.e. Rocket) to pay the grant expenses.\nNumFOCUS can set up an "},{"type":"text","text":"independent contractor agreement","style":{"bold":true}},{"type":"text","text":" with an individual or company.\nNumFOCUS can award the money as a "},{"type":"text","text":"grant or subcontract to a student or postdoc at a university","style":{"bold":true}},{"type":"text","text":" (depending on the rules of the university).\nNumFOCUS can "},{"type":"text","text":"directly pay for expenses","style":{"bold":true}},{"type":"text","text":" associated with the grant (e.g. booking flights on behalf of project leaders to attend a workshop, per diems for travel days)"}]}]}]},{"client_msg_id":"654c55a7-d953-458c-a9f0-2bf45084b50a","type":"message","text":"Two questions: (1) I'm seeing a performance drop of almost 50x when using ArrayPartition as the state variable, even with no problems from @code_warntype. Is this normal/expected? And (2) Is there a standard, performant way to couple PDEs together when the discretized grid sizes are different?","user":"U01H36BUDJB","ts":"1612645291.309100","team":"T68168MUP","edited":{"user":"U01H36BUDJB","ts":"1612645364.000000"},"blocks":[{"type":"rich_text","block_id":"+=8F0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Two questions: (1) I'm seeing a performance drop of almost 50x when using ArrayPartition as the state variable, even with no problems from @code_warntype. Is this normal/expected? And (2) Is there a standard, performant way to couple PDEs together when the discretized grid sizes are different?"}]}]}]},{"client_msg_id":"f9102d84-93d7-46ca-9d11-5eecdf48b20e","type":"message","text":"If I have a non-vector-shaped state, what indexing should I use if I want a manual jacobian through `ODEFunction` ?","user":"UMC2RHKLZ","ts":"1612652261.311400","team":"T68168MUP","edited":{"user":"UMC2RHKLZ","ts":"1612652268.000000"},"blocks":[{"type":"rich_text","block_id":"fVo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I have a non-vector-shaped state, what indexing should I use if I want a manual jacobian through "},{"type":"text","text":"ODEFunction","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1612652261.311400","reply_count":3,"reply_users_count":2,"latest_reply":"1612653210.312600","reply_users":["U69BL50BF","UMC2RHKLZ"],"subscribed":false},{"client_msg_id":"7d565e7a-faa4-45e3-a751-833849bf9c8e","type":"message","text":"Is there any way to to use `Expectation` (with Koopman) from `DiffEqUncertainty`  for an objective that depends not only on the states but also on sensitivity states, which come from `ODELocalSensitivityProblem` or another AD method.","user":"UQEDP1Q5V","ts":"1612713292.331900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jUxM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there any way to to use "},{"type":"text","text":"Expectation","style":{"code":true}},{"type":"text","text":" (with Koopman) from "},{"type":"text","text":"DiffEqUncertainty","style":{"code":true}},{"type":"text","text":"  for an objective that depends not only on the states but also on sensitivity states, which come from "},{"type":"text","text":"ODELocalSensitivityProblem","style":{"code":true}},{"type":"text","text":" or another AD method."}]}]}]},{"client_msg_id":"78a4bf5b-37c6-4cde-b5ab-72ee07b5259d","type":"message","text":":thinking_face: `ODELocalSensitivityProblem` is an AbstractODEProblem","user":"U69BL50BF","ts":"1612713411.332200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6gQ4","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"thinking_face"},{"type":"text","text":" "},{"type":"text","text":"ODELocalSensitivityProblem","style":{"code":true}},{"type":"text","text":" is an AbstractODEProblem"}]}]}]},{"client_msg_id":"1b787103-54dc-4795-9027-f6f97247936e","type":"message","text":"maybe it can just work?","user":"U69BL50BF","ts":"1612713415.332400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zGO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe it can just work?"}]}]}]},{"client_msg_id":"208edde4-a618-4b11-b460-b0b190a08275","type":"message","text":"I think the interface currently wants a `ODEProblem`. But if the type is loosened to `AbstractODEProblem` it might still work.","user":"UQEDP1Q5V","ts":"1612713728.334200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qe=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think the interface currently wants a "},{"type":"text","text":"ODEProblem","style":{"code":true}},{"type":"text","text":". But if the type is loosened to "},{"type":"text","text":"AbstractODEProblem","style":{"code":true}},{"type":"text","text":" it might still work."}]}]}]},{"client_msg_id":"26fdae25-cd30-40b3-aac3-89d377cd6482","type":"message","text":"yeah try it","user":"U69BL50BF","ts":"1612713762.334400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DH40","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah try it"}]}]}]}]}