{"cursor": 17, "messages": [{"type":"message","subtype":"bot_message","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","ts":"1614479324.217000","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"An example case: ","ts":"1614479419.217100","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"An example case: ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","ts":"1614479506.217200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","ts":"1614479546.217300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","ts":"1614479790.217400","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","ts":"1614479880.217500","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","verbatim":false}}]},{"client_msg_id":"36c1eec4-3bf4-4a02-ac71-0986376798fd","type":"message","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such","user":"U69BL50BF","ts":"1614482308.218000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r5Y9L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such"}]}]}]},{"client_msg_id":"6e81306d-b86d-4eaa-9748-9f686ba428ca","type":"message","text":"<https://diffeq.sciml.ai/stable/basics/integrator/>","user":"U69BL50BF","ts":"1614482316.218200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xWZ","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://diffeq.sciml.ai/stable/basics/integrator/"}]}]}]},{"client_msg_id":"993fc6a8-30b4-4962-98d2-ef0d23d89c13","type":"message","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl <https://mtk.sciml.ai/dev/tutorials/acausal_components/>","user":"U69BL50BF","ts":"1614515029.218600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl "},{"type":"link","url":"https://mtk.sciml.ai/dev/tutorials/acausal_components/"}]}]}]},{"client_msg_id":"5f9e9b5d-6951-4119-acd7-0d67496623ea","type":"message","text":"<@U7ZNTQFLH>","user":"U69BL50BF","ts":"1614515047.218900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4zu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7ZNTQFLH"}]}]}]},{"type":"message","subtype":"bot_message","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","ts":"1614523704.224300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","verbatim":false}}]},{"client_msg_id":"5ff94eed-87ce-4c35-96f9-d66dae229035","type":"message","text":"Then use `savevalues!`","user":"U69BL50BF","ts":"1614523725.224700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T9FQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"Is push!(Integrator.sol.u, u_new) safe?","ts":"1614523735.224800","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"Is push!(Integrator.sol.u, u_new) safe?","verbatim":false}}]},{"client_msg_id":"fbaf7593-e4a9-4baf-9675-872e8ebf3161","type":"message","text":"no","user":"U69BL50BF","ts":"1614523766.225600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0GqVw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"d4f42552-c67a-49a7-b1bc-3d9f82c0223b","type":"message","text":"just use `savevalues!`","user":"U69BL50BF","ts":"1614523776.226100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Eu0+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"ok, thanks!","ts":"1614523784.226300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"ok, thanks!","verbatim":false}}]},{"client_msg_id":"033351be-4aaa-49e8-abea-f49d9db3a35a","type":"message","text":"Hey folks, I was trying to use `Parameters.jl`  to define a struct with default values for my model. But I am hitting that `recursive_unitless_eltype` error on the struct. Is this where I should be using `ComponentArrays` instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?","user":"UDDSTBX19","ts":"1614532179.230500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cZ6A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks, I was trying to use "},{"type":"text","text":"Parameters.jl","style":{"code":true}},{"type":"text","text":"  to define a struct with default values for my model. But I am hitting that "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":" error on the struct. Is this where I should be using "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?"}]}]}]},{"client_msg_id":"0405193c-7e2d-41dc-83ef-f0c8fbe4a03c","type":"message","text":"Hey <@U69BL50BF> <@U01H36BUDJB> So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the `DiscreteProblem` is having an issue with this `recursive_unitless_eltype`. Here is some janky minimal code running on julia 1.5.3.\n\n```using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)```\nAnd then the error is:\n```ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)```\n","user":"UDDSTBX19","ts":"1614550432.233700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gdw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the "},{"type":"text","text":"DiscreteProblem","style":{"code":true}},{"type":"text","text":" is having an issue with this "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":". Here is some janky minimal code running on julia 1.5.3.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd then the error is:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"4f8306d0-3173-483c-8812-f104b0978f39","type":"message","text":"yeah that state vector isn't going to work","user":"U69BL50BF","ts":"1614551305.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RDh9f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that state vector isn't going to work"}]}]}]},{"client_msg_id":"c0083537-6c2f-4404-a1ba-59d527c17002","type":"message","text":"why not make it a FieldVector?","user":"U69BL50BF","ts":"1614551311.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gTup","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why not make it a FieldVector?"}]}]}]},{"client_msg_id":"125bd9a8-6e8d-4b23-8a0e-c403525256a6","type":"message","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about `FieldVector` , haven't tried it, but `CompnentArrays` works wonderfully for this purpose, as long as everything is the same type.","user":"U01H36BUDJB","ts":"1614551458.235300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OoUD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about "},{"type":"text","text":"FieldVector","style":{"code":true}},{"type":"text","text":" , haven't tried it, but "},{"type":"text","text":"CompnentArrays","style":{"code":true}},{"type":"text","text":" works wonderfully for this purpose, as long as everything is the same type."}]}]}]},{"client_msg_id":"66754403-46ce-4916-ba5c-fdc10875554e","type":"message","text":"yeah `ComponentArrays` would work too","user":"U69BL50BF","ts":"1614551482.235900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pMOAg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" would work too"}]}]}]},{"client_msg_id":"385f4011-fcf7-49c8-80fe-b0df1e079cf2","type":"message","text":"And there's also `DEDataVector` if you have extra non-state data.","user":"U01H36BUDJB","ts":"1614551485.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CEpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And there's also "},{"type":"text","text":"DEDataVector","style":{"code":true}},{"type":"text","text":" if you have extra non-state data."}]}]}]},{"client_msg_id":"8d423ec5-86b2-41ee-b642-63ee7c6f9c4e","type":"message","text":"basically, you should make that some kind of AbstractArray-like thing.","user":"U69BL50BF","ts":"1614551495.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"17Zr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"basically, you should make that some kind of AbstractArray-like thing."}]}]}],"reactions":[{"name":"+1","users":["U01H36BUDJB"],"count":1}]},{"client_msg_id":"bc7bd77f-2649-4163-b59f-5aff5fd8cdfe","type":"message","text":"<@U69BL50BF> <@U01H36BUDJB> Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both `FieldVectors` and `ComponentArrays` for this. Excellent, now I know what to do. Thanks again guys.","user":"UDDSTBX19","ts":"1614551799.238500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jXvWn","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both "},{"type":"text","text":"FieldVectors","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" for this. Excellent, now I know what to do. Thanks again guys."}]}]}]},{"client_msg_id":"15f07a52-d628-4926-9677-e2dcb2591960","type":"message","text":"FieldVector is in StaticArrays.jl","user":"U69BL50BF","ts":"1614551879.238700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"one+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FieldVector is in StaticArrays.jl"}]}]}],"reactions":[{"name":"+1","users":["UDDSTBX19"],"count":1}]},{"client_msg_id":"fe46f016-d398-4199-8aad-a0ef0c3962c9","type":"message","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?","user":"U73KWSUGN","ts":"1614556590.239100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U6G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?"}]}]}]},{"client_msg_id":"400ee0e3-b9f4-4c7b-a9e0-fb71aa54cef7","type":"message","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!","user":"U73KWSUGN","ts":"1614556613.239300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B=Li1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!"}]}]}]},{"client_msg_id":"8d73590c-882c-4659-9f0a-cb084e946472","type":"message","text":"&gt; Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)\nCan you write that as a DAE?","user":"U69BL50BF","ts":"1614556945.239700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8T","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Can you write that as a DAE?"}]}]}]},{"client_msg_id":"cea7d815-4bfe-4490-9661-d7a4f3da258c","type":"message","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations.","user":"U73KWSUGN","ts":"1614557176.242200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xA//","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations."}]}]}]},{"client_msg_id":"d803cc73-eae4-4f1f-842f-b06455e1fb73","type":"message","text":"oh that would be interesting to do, yes","user":"U69BL50BF","ts":"1614557211.242400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh that would be interesting to do, yes"}]}]}]},{"client_msg_id":"9f08defb-8699-49e4-8dc1-6f3bcab0a480","type":"message","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage.","user":"U73KWSUGN","ts":"1614557809.246500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vA3A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage."}]}]}]},{"client_msg_id":"d1bd99a4-e89f-42aa-a604-8e0fcf97f7c4","type":"message","text":"you can register some functions and stuff like that","user":"U69BL50BF","ts":"1614558243.246900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bTJg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can register some functions and stuff like that"}]}]}]},{"client_msg_id":"0842b3ff-03da-4750-8a0c-f21dd0ff92d1","type":"message","text":"but if it can't simplify then it would just ignore that portion","user":"U69BL50BF","ts":"1614558253.247200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wQj+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if it can't simplify then it would just ignore that portion"}]}]}]},{"client_msg_id":"70ece056-3f06-44b5-956f-71063a497cc0","type":"message","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand.","user":"U69BL50BF","ts":"1614558286.247900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wJq+p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand."}]}]}]},{"client_msg_id":"9b8d34f3-930e-46d3-9346-0dc684b460e7","type":"message","text":"Hi. I have a question about the paper \"Bayesian Neural Ordinary Differential Equations\" (also had a Reddit post a while ago). I'm curious what compute configurations (CPU and GPU) were used in order to perform the basic experiments ( linear ode and lotka Volterra) with NUTS sampler and SGLD. Does a GPU help with this kind of small datasets and very shallow neural network architectures. I'm currently running the code from the GitHub repo provided by the paper but the compute times also for these pretty standard experiments are very long.","user":"U018YSX96LB","ts":"1614639669.252600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9a2pB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi. I have a question about the paper \"Bayesian Neural Ordinary Differential Equations\" (also had a Reddit post a while ago). I'm curious what compute configurations (CPU and GPU) were used in order to perform the basic experiments ( linear ode and lotka Volterra) with NUTS sampler and SGLD. Does a GPU help with this kind of small datasets and very shallow neural network architectures. I'm currently running the code from the GitHub repo provided by the paper but the compute times also for these pretty standard experiments are very long."}]}]}]},{"client_msg_id":"6893ff5e-3272-4baa-931e-6f9b8c93fb56","type":"message","text":"<@UTLTSMTEH>","user":"U69BL50BF","ts":"1614640788.252800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SoN=L","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UTLTSMTEH"}]}]}]},{"type":"message","subtype":"bot_message","text":"@ChrisRackauckas  I was using Tsit5() to integrate a large system of ODEs (N ~1000) as was getting great results. Here's an example plot of a solution (theory predicts we should get a fixed-point). Tsit5() gave the right answer and was really fast ","ts":"1614642299.252900","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"@ChrisRackauckas  I was using Tsit5() to integrate a large system of ODEs (N ~1000) as was getting great results. Here's an example plot of a solution (theory predicts we should get a fixed-point). Tsit5() gave the right answer and was really fast\n","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"[![Old_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png>)","ts":"1614642303.253000","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","attachments":[{"fallback":"250x117px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png","image_width":250,"image_height":117,"image_bytes":11230,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png","id":1,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png"},{"fallback":"1440x672px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png","image_width":1440,"image_height":672,"image_bytes":104777,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png","id":2,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png"}],"blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"[![Old_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/thumb/Old_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/M7ie/Old_soln.png>)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1614642304.000000"}},{"type":"message","subtype":"bot_message","text":"I updated DifferentialEquations.jl today, and when I run the same code I get something weird ...it's basically very similar but with small fluctuations","ts":"1614642349.253200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I updated DifferentialEquations.jl today, and when I run the same code I get something weird ...it's basically very similar but with small fluctuations","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"[![New_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png>)","ts":"1614642354.253300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","attachments":[{"fallback":"250x122px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png","image_width":250,"image_height":122,"image_bytes":21159,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png","id":1,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png"},{"fallback":"1442x702px image","image_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png","image_width":1442,"image_height":702,"image_bytes":223964,"from_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png","id":2,"original_url":"https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png"}],"blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"[![New_soln.png](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/thumb/New_soln.png>)](<https://files.gitter.im/57bf79b040f3a6eec0615ecf/IVKV/New_soln.png>)","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1614642356.000000"}},{"type":"message","subtype":"bot_message","text":"and Tsit5() takes 5x more time","ts":"1614642373.253600","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"and Tsit5() takes 5x more time","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"That’s a bit odd. What version did you have before?","ts":"1614642402.254100","username":"[zulip] <Yingbo Ma>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-03-02/1805728390373_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"That’s a bit odd. What version did you have before?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"like a fool I didn't note that down","ts":"1614642427.254200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"like a fool I didn't note that down","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"but I installed it ~5 months or so back","ts":"1614642459.254300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"but I installed it ~5 months or so back","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"There's the `] undo` feature in Julia Pkg. Could you try that?","ts":"1614642486.254400","username":"[zulip] <Yingbo Ma>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-03-02/1805728390373_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"There's the `] undo` feature in Julia Pkg. Could you try that?","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"It says \"ERROR: undo: no more states left\"","ts":"1614642657.254500","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"It says \"ERROR: undo: no more states left\"","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I did remove the package and tried to reinstall","ts":"1614642668.254600","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I did remove the package and tried to reinstall","verbatim":false}}]},{"client_msg_id":"19dcc008-220d-42f4-912e-bd46d32096d3","type":"message","text":"Well I can tell you the Tsit5 code hasn't changed (in a few years)","user":"U69BL50BF","ts":"1614642767.254900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WLyA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I can tell you the Tsit5 code hasn't changed (in a few years)"}]}]}]},{"type":"message","subtype":"bot_message","text":"does ODELocalSensitivityProblem accept a tuple for parameters? I have a parameter list with varying types that I'm trying to pass. works with no problem in ODEProblem, but I get a MethodError when I change to ODELocalSensitivityProblem","ts":"1614642952.255000","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"does ODELocalSensitivityProblem accept a tuple for parameters? I have a parameter list with varying types that I'm trying to pass. works with no problem in ODEProblem, but I get a MethodError when I change to ODELocalSensitivityProblem","verbatim":false}}]},{"client_msg_id":"9b533bce-1088-48dd-8241-84be6778d312","type":"message","text":"that needs an abstract array","user":"U69BL50BF","ts":"1614644413.255200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qG9S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that needs an abstract array"}]}]}]},{"type":"message","subtype":"bot_message","text":"I see. do I have any recourse if my parameters vary in type?","ts":"1614644675.255300","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"I see. do I have any recourse if my parameters vary in type?","verbatim":false}}]},{"client_msg_id":"e9a2547c-d7f9-49ac-9cd4-aba75e953802","type":"message","text":"it won't be able to solve an ODE well in them, yes.","user":"U69BL50BF","ts":"1614645003.255600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iVq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it won't be able to solve an ODE well in them, yes."}]}]}]},{"type":"message","subtype":"bot_message","text":"do you have any advice for using a parameter set that includes arrays? I'm trying to pass something that looks like this:  ``` input_weights_s = 2.8.*(rand(Float64, (number_of_cells, number_of_inputs)) .- 0.5) recurrent_weights_s = 0.5.*(rand(Float64, (number_of_cells, number_of_cells)) .- 0.8) tonic_inputs_s = 0.14.*(rand(Float64, (number_of_cells, )) .- 0.5) readout_weights = rand(Float64, (number_of_outputs, number_of_cells))  frequencies = rand(Float64, (number_of_inputs, 4))  network_inputs_s = zeros(number_of_cells) recurrent_inputs_s = zeros(number_of_cells) output_cache = zeros(2)  p = [input_weights_s, recurrent_weights_s, tonic_inputs_s, readout_weights,     frequencies,     network_inputs_s, recurrent_inputs_s, output_cache] ```","ts":"1614651080.255700","username":"[gitter] <qtoloza>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0tt47sg27iebvi8frn0","text":{"type":"mrkdwn","text":"do you have any advice for using a parameter set that includes arrays? I'm trying to pass something that looks like this:\n\n```\ninput_weights_s = 2.8.*(rand(Float64, (number_of_cells, number_of_inputs)) .- 0.5)\nrecurrent_weights_s = 0.5.*(rand(Float64, (number_of_cells, number_of_cells)) .- 0.8)\ntonic_inputs_s = 0.14.*(rand(Float64, (number_of_cells, )) .- 0.5)\nreadout_weights = rand(Float64, (number_of_outputs, number_of_cells))\n\nfrequencies = rand(Float64, (number_of_inputs, 4))\n\nnetwork_inputs_s = zeros(number_of_cells)\nrecurrent_inputs_s = zeros(number_of_cells)\noutput_cache = zeros(2)\n\np = [input_weights_s, recurrent_weights_s, tonic_inputs_s, readout_weights,\n    frequencies,\n    network_inputs_s, recurrent_inputs_s, output_cache]\n```","verbatim":false}}]},{"client_msg_id":"e122532f-9b3c-417c-beb9-ed21fb3bb4ec","type":"message","text":"Forwarddiff?","user":"U69BL50BF","ts":"1614655111.256000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LU/O=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Forwarddiff?"}]}]}]},{"client_msg_id":"fceed674-41ae-43da-b4d3-9096d98dd821","type":"message","text":"Another MTK question: is it possible to change a parameter into a variable? I'm constructing a hierarchy of models and at the bottom level are differential equations where the parameters are most naturally interpreted as (fixed) parameters, however they are embedded within a larger model where some of those parameters become variables in the larger model. (The challenge comes because the submodels make sense as independent models with parameters and I'd like to be able to use them as such.)","user":"U73KWSUGN","ts":"1614681798.263900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QVwiX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Another MTK question: is it possible to change a parameter into a variable? I'm constructing a hierarchy of models and at the bottom level are differential equations where the parameters are most naturally interpreted as (fixed) parameters, however they are embedded within a larger model where some of those parameters become variables in the larger model. (The challenge comes because the submodels make sense as independent models with parameters and I'd like to be able to use them as such.)"}]}]}]}]}