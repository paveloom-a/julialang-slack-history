{"cursor": 22, "messages": [{"client_msg_id":"7745e39c-852d-44e5-bfe8-af706fe2197a","type":"message","text":"We added the higher level hessian call but it's kind of an experimental interface but it's hard to tell the utility.","user":"U69BL50BF","ts":"1616983446.261100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ma11","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We added the higher level hessian call but it's kind of an experimental interface but it's hard to tell the utility."}]}]}]},{"client_msg_id":"7b869d18-c2c4-4c66-bfb2-0755ab2b6cd2","type":"message","text":"Is anybody aware of any julia packages related to contraction analysis/theory for non-linear system stability analysis?","user":"UP95S4864","ts":"1617037297.262000","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1617037437.000000"},"blocks":[{"type":"rich_text","block_id":"ymWst","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is anybody aware of any julia packages related to contraction analysis/theory for non-linear system stability analysis?"}]}]}],"thread_ts":"1617037297.262000","reply_count":4,"reply_users_count":2,"latest_reply":"1617039155.262800","reply_users":["UP95S4864","U011V2YN59N"],"is_locked":false,"subscribed":false},{"client_msg_id":"dde4aa30-1620-40bd-b7a8-57d9e5f93e8e","type":"message","text":"Hi <@U69BL50BF> I remember you had a website where you enter the vector field and display the solution. Is it still running? How safe is it (for example to code inspection, code injection…)\n\nI am planning on making one for one of my project","user":"U7GQE9JP9","ts":"1617101273.264900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+0ePV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I remember you had a website where you enter the vector field and display the solution. Is it still running? How safe is it (for example to code inspection, code injection…)\n\nI am planning on making one for one of my project"}]}]}]},{"client_msg_id":"14a5661b-912b-440c-bb8b-d51882397b01","type":"message","text":"<http://app.juliadiffeq.org/>","user":"U69BL50BF","ts":"1617106592.265100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ubN","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"http://app.juliadiffeq.org/"}]}]}]},{"client_msg_id":"696d1866-a382-40eb-bd88-5435706053ed","type":"message","text":"lots of hacky code injection checks","user":"U69BL50BF","ts":"1617106611.265400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jA4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"lots of hacky code injection checks"}]}]}]},{"client_msg_id":"4a141857-168c-4521-9b68-3f71dc9367c7","type":"message","text":"excellent!!","user":"U7GQE9JP9","ts":"1617107278.265600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nbl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"excellent!!"}]}]}]},{"client_msg_id":"35af2c20-2d62-4c19-adde-945a02dd3065","type":"message","text":"is there a github for it?","user":"U7GQE9JP9","ts":"1617107388.265900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kgQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a github for it?"}]}]}]},{"client_msg_id":"497ec736-4b61-4946-ae4e-d3e8eb7cfd75","type":"message","text":"old old old v0.5 stuff, yes","user":"U69BL50BF","ts":"1617107437.266100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ho7T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"old old old v0.5 stuff, yes"}]}]}]},{"client_msg_id":"98e375ec-3b74-4d72-9771-2f3b15acdf7a","type":"message","text":"I wouldn't do it that way anymore.","user":"U69BL50BF","ts":"1617107442.266300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dlq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I wouldn't do it that way anymore."}]}]}]},{"client_msg_id":"bb733778-ccbf-47f6-985f-5e7dfca89cdd","type":"message","text":"Is there is better way?","user":"U7GQE9JP9","ts":"1617108458.266500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FyW4B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there is better way?"}]}]}]},{"client_msg_id":"340b4ee6-8ecd-4265-9e93-e147b31315e6","type":"message","text":"Publishing a Dash app is rather straightforward these days","user":"U69BL50BF","ts":"1617108476.266900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e8ui0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Publishing a Dash app is rather straightforward these days"}]}]}]},{"client_msg_id":"4e7a1c9c-03da-4b5c-863c-7c0e91a19c5d","type":"message","text":"This was straight Angular with Mux.jl","user":"U69BL50BF","ts":"1617108485.267200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dZb=T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This was straight Angular with Mux.jl"}]}]}]},{"client_msg_id":"efb96a7d-7279-4754-90fa-e2c65273a6d4","type":"message","text":"<@U7GQE9JP9> I believe that <@U6740K1SP> had a nice covid dash app that you could use as a starting point. I don't remember if he had a differential equation in there, but he might have. That will save you some time getting up and running.","user":"UDDSTBX19","ts":"1617109135.268600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IjDSl","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7GQE9JP9"},{"type":"text","text":" I believe that "},{"type":"user","user_id":"U6740K1SP"},{"type":"text","text":" had a nice covid dash app that you could use as a starting point. I don't remember if he had a differential equation in there, but he might have. That will save you some time getting up and running."}]}]}]},{"client_msg_id":"a48fa0d1-6b16-49fd-b61d-b8da90ba7baa","type":"message","text":"<http://covid-county-dash.herokuapp.com/>","user":"UDDSTBX19","ts":"1617109340.268800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w3d0J","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"http://covid-county-dash.herokuapp.com/"}]}]}]},{"client_msg_id":"b6df6dbf-1677-464b-9d68-09db0a2a951c","type":"message","text":"<https://github.com/mbauman/CovidCountyDash.jl>","user":"UDDSTBX19","ts":"1617109357.269000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e2HQr","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/mbauman/CovidCountyDash.jl"}]}]}]},{"client_msg_id":"6c03cbe1-8eb6-4dbe-99fe-b858bed01c98","type":"message","text":"thank you, ill look at it","user":"U7GQE9JP9","ts":"1617109394.269300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0NjfL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you, ill look at it"}]}]}]},{"type":"message","text":"Say, I was wondering if I can numerically solve a differential equation that has integral terms in `diffeq`? I had not see a tutorial or reference to this on the website, though there are some mentions on discourse. If I had a relatively simple and well studied problem like this on below, is there an example of how to do this in diffeq?\n\nI have solved some integro-differential equations by laplace transform before, but not numerically. Would I use the `DDEProblem` interface and then refer to the integral as the `h(p,t)` function using say `Quadrature.jl`. I can give it a shot and try som code, but needed a point in the right direction.","files":[{"id":"F01STUF2WF4","created":1617110608,"timestamp":1617110608,"name":"Selection_009.png","title":"Selection_009.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UDDSTBX19","editable":false,"size":9912,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01STUF2WF4/selection_009.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01STUF2WF4/download/selection_009.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01STUF2WF4-997b8ff933/selection_009_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01STUF2WF4-997b8ff933/selection_009_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01STUF2WF4-997b8ff933/selection_009_360.png","thumb_360_w":360,"thumb_360_h":69,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01STUF2WF4-997b8ff933/selection_009_480.png","thumb_480_w":480,"thumb_480_h":92,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01STUF2WF4-997b8ff933/selection_009_160.png","original_w":647,"original_h":124,"thumb_tiny":"AwAJADDR+bPbFHz+1OooAaucc+tIN+AfzzT6KAEG7vimtv56Y/Wn0UAf/9k=","permalink":"https://julialang.slack.com/files/UDDSTBX19/F01STUF2WF4/selection_009.png","permalink_public":"https://slack-files.com/T68168MUP-F01STUF2WF4-1ee58ffcc1","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"t8h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Say, I was wondering if I can numerically solve a differential equation that has integral terms in "},{"type":"text","text":"diffeq","style":{"code":true}},{"type":"text","text":"? I had not see a tutorial or reference to this on the website, though there are some mentions on discourse. If I had a relatively simple and well studied problem like this on below, is there an example of how to do this in diffeq?\n\nI have solved some integro-differential equations by laplace transform before, but not numerically. Would I use the "},{"type":"text","text":"DDEProblem","style":{"code":true}},{"type":"text","text":" interface and then refer to the integral as the "},{"type":"text","text":"h(p,t)","style":{"code":true}},{"type":"text","text":" function using say "},{"type":"text","text":"Quadrature.jl","style":{"code":true}},{"type":"text","text":". I can give it a shot and try som code, but needed a point in the right direction."}]}]}],"user":"UDDSTBX19","display_as_bot":false,"ts":"1617110805.274200"},{"client_msg_id":"57200f5a-2d6d-4c1c-8d83-9a982b590d05","type":"message","text":"You can use a DDEProblem","user":"U69BL50BF","ts":"1617110828.274600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bEh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can use a DDEProblem"}]}]}]},{"client_msg_id":"af70fabc-8501-4f3a-a16e-d511e4361ec1","type":"message","text":"we just don't have good integro-differential equation tools right now","user":"U69BL50BF","ts":"1617110837.274900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P6FC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we just don't have good integro-differential equation tools right now"}]}]}]},{"client_msg_id":"4f04cab9-61f7-4f0e-a2d9-53c95429f71f","type":"message","text":"we're in the process of building some though.","user":"U69BL50BF","ts":"1617110843.275100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6b5C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we're in the process of building some though."}]}]}],"thread_ts":"1617110843.275100","reply_count":1,"reply_users_count":1,"latest_reply":"1617111526.279800","reply_users":["UDDSTBX19"],"is_locked":false,"subscribed":false},{"client_msg_id":"128cc58f-02a3-4236-b1a8-c8a595d97dbb","type":"message","text":"No DiffEqs in that covid tracker (or any simulation or analyses beyond slicing and dicing)","user":"U6740K1SP","ts":"1617110886.275800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No DiffEqs in that covid tracker (or any simulation or analyses beyond slicing and dicing)"}]}]}]},{"client_msg_id":"93e5475f-2783-436c-80ae-f42e7416f258","type":"message","text":"just a plotter","user":"U6740K1SP","ts":"1617110898.276000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AIU3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just a plotter"}]}]}]},{"client_msg_id":"f4cb4396-9fbf-4bde-b92e-83b89ede186e","type":"message","text":"Yeah, it's not a real Julia code... :wink:","user":"U69BL50BF","ts":"1617110920.276400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xZCD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, it's not a real Julia code... "},{"type":"emoji","name":"wink"}]}]}],"reactions":[{"name":"flag-scotland","users":["U6740K1SP"],"count":1}]},{"client_msg_id":"a2922c23-680b-4e92-87ea-9dea52979b05","type":"message","text":"The covid tracker is actually rather nice because it gives some working examples of the controls and settings. You can almost keep the controls and just swap in your own functions :slightly_smiling_face:. Way back when I was looking at `Dash.jl` there were not many working examples, so I had to look at the python api, and then look at the source code. But of course, the project was really new then. So <@U6740K1SP>’s code was really helpful. I imagine the docs have improved since Iooked at it a while ago.","user":"UDDSTBX19","ts":"1617111274.279700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yJlXn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The covid tracker is actually rather nice because it gives some working examples of the controls and settings. You can almost keep the controls and just swap in your own functions "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":". Way back when I was looking at "},{"type":"text","text":"Dash.jl","style":{"code":true}},{"type":"text","text":" there were not many working examples, so I had to look at the python api, and then look at the source code. But of course, the project was really new then. So "},{"type":"user","user_id":"U6740K1SP"},{"type":"text","text":"’s code was really helpful. I imagine the docs have improved since Iooked at it a while ago."}]}]}],"reactions":[{"name":"heart","users":["U6740K1SP"],"count":1}]},{"client_msg_id":"d4df22a9-44f3-4083-9d20-c5836f9090b2","type":"message","text":"Can some someone give me an example (or say non exist) of a linear ode with a mass matrix Mdx/dt = Ax, such that solution can't be written in terms of sums of products of polynomials, sinosoids and exponentials","user":"U9MD78Z9N","ts":"1617135636.282700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=pE6R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can some someone give me an example (or say non exist) of a linear ode with a mass matrix Mdx/dt = Ax, such that solution can't be written in terms of sums of products of polynomials, sinosoids and exponentials"}]}]}]},{"client_msg_id":"2b31ee44-832b-4624-8aac-3ef0b1f0d9c2","type":"message","text":"FEM discretizations","user":"U69BL50BF","ts":"1617135948.282900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9TplW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FEM discretizations"}]}]}]},{"client_msg_id":"958d6b70-ecb0-4222-952e-717ed6d5704a","type":"message","text":"wow, a finite dimension problem?","user":"U7GQE9JP9","ts":"1617137506.283200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"652P0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wow, a finite dimension problem?"}]}]}]},{"client_msg_id":"a3fe6ea4-2ecb-4e69-b828-cbaf2b07f46a","type":"message","text":"if M = I then x(t)=exp(At)x0 so I’d say no","user":"U7GQE9JP9","ts":"1617137544.283800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VHw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if M = I then x(t)=exp(At)x0 so I’d say no"}]}]}]},{"client_msg_id":"fb17364b-5451-4a9b-9c06-c45e5d7097d8","type":"message","text":"Oh I thought he meant like, write out each scalar","user":"U69BL50BF","ts":"1617137622.284300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2dK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh I thought he meant like, write out each scalar"}]}]}]},{"client_msg_id":"ed07d356-c265-47c7-89a6-7ebe2a39ecbf","type":"message","text":"yes you can always do it like that if it's linear","user":"U69BL50BF","ts":"1617137630.284600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=aOj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes you can always do it like that if it's linear"}]}]}]},{"client_msg_id":"a85ceab9-8abf-4f32-ae80-0e2bc84688a2","type":"message","text":"in fact, even if it's infinite dimensional if the operator `exp(At)` has a convergent Taylor series","user":"U69BL50BF","ts":"1617137659.285600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zo3f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in fact, even if it's infinite dimensional if the operator `exp(At)` has a convergent Taylor series"}]}]}]},{"client_msg_id":"d06adf38-b531-4beb-a35d-b7426ef217f2","type":"message","text":"for pde, I agree, not poossible. Take a transport equation $dx/dt+dx/dz=0, x(0,z) = f0(z)$ then $x(t,z) = f0(z-t)$","user":"U7GQE9JP9","ts":"1617137706.286900","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1617137913.000000"},"blocks":[{"type":"rich_text","block_id":"w3b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for pde, I agree, not poossible. Take a transport equation $dx/dt+dx/dz=0, x(0,z) = f0(z)$ then $x(t,z) = f0(z-t)$"}]}]}]},{"client_msg_id":"a78a7574-8b66-4108-b822-cc680315e95c","type":"message","text":"if A is sectorial, I’d it is the same as for ODE","user":"U7GQE9JP9","ts":"1617137748.287500","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1617137754.000000"},"blocks":[{"type":"rich_text","block_id":"RARz+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if A is sectorial, I’d it is the same as for ODE"}]}]}]},{"client_msg_id":"f0f62261-d052-481f-af31-89a2651651a0","type":"message","text":"What's F0(z)","user":"U9MD78Z9N","ts":"1617137772.288100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cZYc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What's F0(z)"}]}]}]},{"client_msg_id":"c5c2f345-0b7f-4a72-80bb-a80c99baac9a","type":"message","text":"initial condition","user":"U7GQE9JP9","ts":"1617137780.288300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+rYN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"initial condition"}]}]}]},{"client_msg_id":"b90fbfde-6c17-41ba-90bc-e43139460e0a","type":"message","text":"Something like $dx(i,t)/dt+(x(i+1,t)-x(i-1,t))/2=0, f(i,0) = some_data[i]$ yields a solution that can't be expressed as an matrix exponential of something?","user":"U9MD78Z9N","ts":"1617138156.292800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Auap","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Something like $dx(i,t)/dt+(x(i+1,t)-x(i-1,t))/2=0, f(i,0) = some_data[i]$ yields a solution that can't be expressed as an matrix exponential of something?"}]}]}]},{"client_msg_id":"9d8fcd68-2c8b-4623-b7c7-971145ec0106","type":"message","text":"no in finite dimensions, it is always possible too express. with matrix exponential.","user":"U7GQE9JP9","ts":"1617138226.293700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J4f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no in finite dimensions, it is always possible too express. with matrix exponential."}]}]}]},{"client_msg_id":"e3280c0c-1d93-4d8f-9a78-94368a9be83e","type":"message","text":"On a lattice, when i belongs to 1,2,3,4, (unbounded), Id say it is the same when A is a continuous linear operator. You would still get x(1,2,…,\\infty;t) = exp(At)x(1,2,…;0)","user":"U7GQE9JP9","ts":"1617138313.295400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mzif","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On a lattice, when i belongs to 1,2,3,4, (unbounded), Id say it is the same when A is a continuous linear operator. You would still get x(1,2,…,\\infty;t) = exp(At)x(1,2,…;0)"}]}]}]},{"client_msg_id":"206036b7-d0b0-426f-afcb-149df6809c07","type":"message","text":"but the expression of exp(At) would be tricky. One. thing you have to know, is that in infinite dimension exp(At) is defined as the solution of dx/dt=Ax. So you have to detail your question a bit","user":"U7GQE9JP9","ts":"1617138408.297600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VW9p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but the expression of exp(At) would be tricky. One. thing you have to know, is that in infinite dimension exp(At) is defined as the solution of dx/dt=Ax. So you have to detail your question a bit"}]}]}]},{"client_msg_id":"9af6aad9-f327-4057-8d99-56876f077ed2","type":"message","text":"Ok, thanks i was only interested in matrices, not linear operators.","user":"U9MD78Z9N","ts":"1617138458.298100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RT1x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, thanks i was only interested in matrices, not linear operators."}]}]}]},{"client_msg_id":"141bf063-037e-4af8-bbd4-8b6d92214a6d","type":"message","text":"Also i have no idea what a lattice is in this context","user":"U9MD78Z9N","ts":"1617138544.299000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jj+0k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also i have no idea what a lattice is in this context"}]}]}]},{"client_msg_id":"8dcfd097-9142-443e-9ad6-ad5b5f2b8c5b","type":"message","text":"Hi, is there a way to get the transition matrix from a `@reaction_network`?","user":"U7GQE9JP9","ts":"1617196629.299600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2=1A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, is there a way to get the transition matrix from a "},{"type":"text","text":"@reaction_network","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"542599ed-943d-441a-9e0e-db3612623543","type":"message","text":"<@UFTJ2UDEW> mentioned doing something about that, but I can't recall if that was mentioning about doing it in the future or having just added it.","user":"U69BL50BF","ts":"1617196694.300100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OelE","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UFTJ2UDEW"},{"type":"text","text":" mentioned doing something about that, but I can't recall if that was mentioning about doing it in the future or having just added it."}]}]}]},{"client_msg_id":"08030071-7d8d-4f29-89d2-a49dfe88d084","type":"message","text":"I was doing the following in DiffEqBiological but it does not work anymore\n\n```function get_stoichmatrix(model)\n\t# v = zeros(Int, Catalyst.prodstoichmat(model) |&gt; size)\n\tv = zeros(Int, model.p_matrix |&gt; size)\n\tp = DiscreteProblem(zeros(Int,size(v)[1]),(0.0,1.0))\n\tprob = JumpProblem(p,Direct(),model)\n\tfor (j,r) in enumerate(prob.massaction_jump.net_stoch)\n\t\tfor k in r\n\t\t\tv[k[1],j] = k[2]\n\t\tend\n\tend\n\tv = v'\n\treturn v\nend```","user":"U7GQE9JP9","ts":"1617196759.301800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bHEa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was doing the following in DiffEqBiological but it does not work anymore\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function get_stoichmatrix(model)\n\t# v = zeros(Int, Catalyst.prodstoichmat(model) |> size)\n\tv = zeros(Int, model.p_matrix |> size)\n\tp = DiscreteProblem(zeros(Int,size(v)[1]),(0.0,1.0))\n\tprob = JumpProblem(p,Direct(),model)\n\tfor (j,r) in enumerate(prob.massaction_jump.net_stoch)\n\t\tfor k in r\n\t\t\tv[k[1],j] = k[2]\n\t\tend\n\tend\n\tv = v'\n\treturn v\nend"}]}]}]},{"client_msg_id":"87EA1A14-B839-4ECE-A483-2B7353AC638E","type":"message","text":"No explicit system type but you can use the Catalyst API to pull out a vector of rate laws, and the reactant/product stoichiometry matrices. <https://github.com/SciML/Catalyst.jl/issues/306|https://github.com/SciML/Catalyst.jl/issues/306>","user":"UFTJ2UDEW","ts":"1617196945.302600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vwHr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No explicit system type but you can use the Catalyst API to pull out a vector of rate laws, and the reactant/product stoichiometry matrices. "},{"type":"link","url":"https://github.com/SciML/Catalyst.jl/issues/306","text":"https://github.com/SciML/Catalyst.jl/issues/306"}]}]}]},{"client_msg_id":"fbbe66c0-b0c3-40a0-bb5a-2e35db1b079b","type":"message","text":"thank you! I am wondering if my function `get_stoichmatrix` is not just `prodstoichmat`?","user":"U7GQE9JP9","ts":"1617197352.303200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/=V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you! I am wondering if my function "},{"type":"text","text":"get_stoichmatrix","style":{"code":true}},{"type":"text","text":" is not just "},{"type":"text","text":"prodstoichmat","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"75db651a-93aa-47b0-be19-eb67e37fb683","type":"message","text":"`prodstoichmat(rn) .- substoichmat(rn)` should give the net stoichiometry matrix.","user":"UFTJ2UDEW","ts":"1617199055.303800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O98","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"prodstoichmat(rn) .- substoichmat(rn)","style":{"code":true}},{"type":"text","text":" should give the net stoichiometry matrix."}]}]}]},{"client_msg_id":"6435a0bd-1bab-43fd-b86e-b09282f351ec","type":"message","text":"It will be numrxs by numspecies in dimensions.","user":"UFTJ2UDEW","ts":"1617199135.304400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6MR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It will be numrxs by numspecies in dimensions."}]}]}]},{"client_msg_id":"cce5e65c-5497-4a45-99ac-cdbd8c7d8dbf","type":"message","text":"can we just make that `net_sthoichmat(rn)` and give it a docstring?","user":"U69BL50BF","ts":"1617199169.304900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4e4iT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can we just make that "},{"type":"text","text":"net_sthoichmat(rn)","style":{"code":true}},{"type":"text","text":" and give it a docstring?"}]}]}]},{"client_msg_id":"a13733bb-5d23-4454-809a-d3c5a7efb877","type":"message","text":"Yeah, I've been meaning too and keep forgetting...","user":"UFTJ2UDEW","ts":"1617199205.305400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BcPY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I've been meaning too and keep forgetting..."}]}]}]},{"client_msg_id":"e245e130-015d-4ec3-9fbb-8fdc51571583","type":"message","text":"When I'm in a lecture video compressing break I'll try to put it in later today.","user":"UFTJ2UDEW","ts":"1617199309.306300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jw8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I'm in a lecture video compressing break I'll try to put it in later today."}]}]}],"reactions":[{"name":"heavy_check_mark","users":["U69BL50BF"],"count":1}]},{"client_msg_id":"da32f460-beef-44ae-b65e-fd10088c9f58","type":"message","text":"oof those, that's the hardest part about teaching online: the delay from actually rendering videos :rolling_on_the_floor_laughing: q","user":"U69BL50BF","ts":"1617199361.307300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oBqEw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oof those, that's the hardest part about teaching online: the delay from actually rendering videos "},{"type":"emoji","name":"rolling_on_the_floor_laughing"},{"type":"text","text":" q"}]}]}]},{"client_msg_id":"1634890f-f23a-44d2-98ad-03f4ade2ee1c","type":"message","text":"that’d be nice. It is tough as I am migrating my Phd student project from DEBiological to Catalyst","user":"U7GQE9JP9","ts":"1617199371.307700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vVlj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’d be nice. It is tough as I am migrating my Phd student project from DEBiological to Catalyst"}]}]}]},{"client_msg_id":"47d6bc91-bf22-481e-834d-0471c5c3523e","type":"message","text":"Yeah, it is wasted time...","user":"UFTJ2UDEW","ts":"1617199378.307800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wcWm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, it is wasted time..."}]}]}]},{"client_msg_id":"f7ce1d19-4d91-4557-9de4-f61cc1c9ea8c","type":"message","text":"lol","user":"U7GQE9JP9","ts":"1617199382.308100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H4D7J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"lol"}]}]}]},{"client_msg_id":"2f88f655-700a-4da2-8070-09652c208fea","type":"message","text":"<@U7GQE9JP9> feel free to open issues!","user":"UFTJ2UDEW","ts":"1617199451.309300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HAvDd","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7GQE9JP9"},{"type":"text","text":" feel free to open issues!"}]}]}]},{"client_msg_id":"fdf06967-bc18-4b9c-a365-3bc77031a8e0","type":"message","text":"ok","user":"U7GQE9JP9","ts":"1617199461.309500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jg0ZB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok"}]}]}]},{"client_msg_id":"de908f64-02a7-4708-bf2a-66966fb32bf5","type":"message","text":"I have a question about callbacks. I am trying to reset the population size by normalizing each individual compartment so the sum is 1 via:\n```\tcondition = (u,t,integrator) -&gt; sum(u) &lt; maxPop\t\n\n\t# This replates so that u sums to 1 (as in the initial condition)\n\taffect!(integrator) = begin\n\t\tif debugging &gt; 1\n\t\t\tprintln(\"Max population reached...replating.\")\n\t\tend\n\t\tu = integrator.u\n\t\tu = u/sum(u)\n\t\tnothing\n\tend\n\n\t# Create callback\n\tcallback = ContinuousCallback(condition,affect!)```\nThe solver does reach it because I get the debugging statement to print, but the population does not update. I was following this example from the docs, <https://diffeq.sciml.ai/stable/features/callback_functions/#callbacks>:\n```function affect!(integrator)\n  u = integrator.u\n  resize!(integrator,length(u)+1)\n  maxidx = findmax(u)[2]\n  Θ = rand()\n  u[maxidx] = Θ\n  u[end] = 1-Θ\n  nothing\nend```\n","user":"UFH4C3LBT","ts":"1617206670.311300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jo53/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have a question about callbacks. I am trying to reset the population size by normalizing each individual compartment so the sum is 1 via:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\tcondition = (u,t,integrator) -> sum(u) < maxPop\t\n\n\t# This replates so that u sums to 1 (as in the initial condition)\n\taffect!(integrator) = begin\n\t\tif debugging > 1\n\t\t\tprintln(\"Max population reached...replating.\")\n\t\tend\n\t\tu = integrator.u\n\t\tu = u/sum(u)\n\t\tnothing\n\tend\n\n\t# Create callback\n\tcallback = ContinuousCallback(condition,affect!)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"The solver does reach it because I get the debugging statement to print, but the population does not update. I was following this example from the docs, "},{"type":"link","url":"https://diffeq.sciml.ai/stable/features/callback_functions/#callbacks"},{"type":"text","text":":\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function affect!(integrator)\n  u = integrator.u\n  resize!(integrator,length(u)+1)\n  maxidx = findmax(u)[2]\n  Θ = rand()\n  u[maxidx] = Θ\n  u[end] = 1-Θ\n  nothing\nend"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"2a963370-277e-4003-9c34-9260db4a9f37","type":"message","text":"did you try the assignment as `integrator.u .= integrator.u./sum(integrator.u)`?  My gut says that your example is rebinding the variable u instead of modifying the value of `integrator.u`","user":"U69L6CPJN","ts":"1617212045.312700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sIf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you try the assignment as "},{"type":"text","text":"integrator.u .= integrator.u./sum(integrator.u)","style":{"code":true}},{"type":"text","text":"?  My gut says that your example is rebinding the variable u instead of modifying the value of "},{"type":"text","text":"integrator.u","style":{"code":true}}]}]}]},{"client_msg_id":"c76282b8-0cf3-479a-9b68-8f3de63f7a9a","type":"message","text":"<@U69BL50BF> I'm not sure I understand why does `I` appear in <https://github.com/SciML/OrdinaryDiffEq.jl/pull/1368>. Should it be a `DiffEqScalar` or something like that?","user":"U9MED583T","ts":"1617286635.315000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5vK3","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" I'm not sure I understand why does "},{"type":"text","text":"I","style":{"code":true}},{"type":"text","text":" appear in "},{"type":"link","url":"https://github.com/SciML/OrdinaryDiffEq.jl/pull/1368"},{"type":"text","text":". Should it be a "},{"type":"text","text":"DiffEqScalar","style":{"code":true}},{"type":"text","text":" or something like that?"}]}]}]},{"client_msg_id":"95a26f9a-ec50-4bfa-b5ba-3d6413a7127d","type":"message","text":"It's there because the perturbation should only be on the diagonal.","user":"U69BL50BF","ts":"1617326464.315600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nplg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's there because the perturbation should only be on the diagonal."}]}]}]},{"client_msg_id":"42531ce2-308b-4cbe-9099-2151dfff18b4","type":"message","text":"Hi all! Using Julia for a while (for computational neuroscience) now but I have never really used any specific packages. I need some speed for my simulations and I was wondering if someone uses the DiffEq package to simulate network of rate neurons (or know where to find an example)?","user":"UR0AVECJF","ts":"1617400193.317500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MLl9n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all! Using Julia for a while (for computational neuroscience) now but I have never really used any specific packages. I need some speed for my simulations and I was wondering if someone uses the DiffEq package to simulate network of rate neurons (or know where to find an example)?"}]}]}]},{"client_msg_id":"35fdfb46-7103-41e1-8edd-611218eb682a","type":"message","text":"Yeah there's a few computational neuroscientists around here. <@U01GJHBBR7E> I think was just working on one?","user":"U69BL50BF","ts":"1617401010.318600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bh=AI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah there's a few computational neuroscientists around here. "},{"type":"user","user_id":"U01GJHBBR7E"},{"type":"text","text":" I think was just working on one?"}]}]}]},{"client_msg_id":"4bab9367-acc4-4b50-ae2f-5fd849e6d3dd","type":"message","text":"I forget the name of the package I am thinking of","user":"U69BL50BF","ts":"1617401020.319000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Bz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I forget the name of the package I am thinking of"}]}]}]},{"client_msg_id":"48a0cce3-88c2-4989-adbd-ea9b552fdb5f","type":"message","text":"How is the linear solve needed in stiff solvers handled in the reverse solve of adjoint sensitivity analysis?\nIs the structure of the adjoint problem automatically exploited?","user":"UQEDP1Q5V","ts":"1617453382.322800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nfH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How is the linear solve needed in stiff solvers handled in the reverse solve of adjoint sensitivity analysis?\nIs the structure of the adjoint problem automatically exploited?"}]}]}]},{"client_msg_id":"c552766e-f028-46af-82e2-c59a92972f8c","type":"message","text":"if you declare sparsity it uses it in reverse","user":"U69BL50BF","ts":"1617454518.323200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xr0O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you declare sparsity it uses it in reverse"}]}]}]},{"client_msg_id":"2dab3032-a45a-40c6-a830-b7ed35a190a4","type":"message","text":"QuadratureAdjoint is thus optimal, and probably what you want to use with stiff solvers given the analysis in <https://arxiv.org/abs/2103.15341>","user":"U69BL50BF","ts":"1617454578.323700","team":"T68168MUP","attachments":[{"service_name":"arXiv.org","title":"Stiff Neural Ordinary Differential Equations","title_link":"https://arxiv.org/abs/2103.15341","text":"Neural Ordinary Differential Equations (ODE) are a promising approach to learn dynamic models from time-series data in science and engineering applications. This work aims at learning Neural ODE...","fallback":"arXiv.org: Stiff Neural Ordinary Differential Equations","from_url":"https://arxiv.org/abs/2103.15341","service_icon":"https://static.arxiv.org/static/browse/0.3.2.6/images/icons/favicon.ico","id":1,"original_url":"https://arxiv.org/abs/2103.15341"}],"blocks":[{"type":"rich_text","block_id":"GuG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"QuadratureAdjoint is thus optimal, and probably what you want to use with stiff solvers given the analysis in "},{"type":"link","url":"https://arxiv.org/abs/2103.15341"}]}]}]},{"client_msg_id":"cd86ab1c-f8dd-42aa-819b-437673135ef0","type":"message","text":"So the stiff methods automatically knows that the jacobian towards λ* is just equal to -df/du?\n<https://diffeq.sciml.ai/latest/extras/sensitivity_math/#Adjoint-Sensitivity-Analysis>\nAnd thus sparsity of df/du suffices?","user":"UQEDP1Q5V","ts":"1617455182.326400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IBlH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the stiff methods automatically knows that the jacobian towards λ* is just equal to -df/du?\n"},{"type":"link","url":"https://diffeq.sciml.ai/latest/extras/sensitivity_math/#Adjoint-Sensitivity-Analysis"},{"type":"text","text":"\nAnd thus sparsity of df/du suffices?"}]}]}]},{"client_msg_id":"1961c56d-7445-4d1b-94b0-add970330214","type":"message","text":"yes","user":"U69BL50BF","ts":"1617458678.326600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gUU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"857cd4f2-6fe3-4557-acb2-3339eb38300e","type":"message","text":"And for interpolating adjoint? If I additionally pass a sparse df/dp the structure of that linear solve is also exploited?","user":"UQEDP1Q5V","ts":"1617459136.327900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"COpx8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And for interpolating adjoint? If I additionally pass a sparse df/dp the structure of that linear solve is also exploited?"}]}]}]},{"client_msg_id":"97d9c06e-c028-419f-be3e-9c5e3c67982a","type":"message","text":"<@U6788D83U> did we ever add a spot for that? I don't think so","user":"U69BL50BF","ts":"1617459654.328300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tnu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" did we ever add a spot for that? I don't think so"}]}]}]},{"client_msg_id":"1b0b5e24-66c2-4db1-a735-e1c2a2aec8be","type":"message","text":"I think it has to treat that portion as potentially dense still?","user":"U69BL50BF","ts":"1617459670.328600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zt8a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it has to treat that portion as potentially dense still?"}]}]}]},{"client_msg_id":"b7eb6a58-9427-4f8c-958d-e30bd6cf18b9","type":"message","text":"But yes, we need to give an option for that or integrate more with automated sparsity detection.","user":"U69BL50BF","ts":"1617459686.329100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"un2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But yes, we need to give an option for that or integrate more with automated sparsity detection."}]}]}]},{"client_msg_id":"3c9ecd00-6112-4778-bcd4-e34551672886","type":"message","text":"```ODEFunction(sys, jac=true, tgrad=true,simplify=true);\nWARNING: both SymbolicUtils and LinearAlgebra export \"cond\"; uses of it in module Symbolics must be qualified```\nShould I worry about this?","user":"UQEDP1Q5V","ts":"1617600290.330100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mf8","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ODEFunction(sys, jac=true, tgrad=true,simplify=true);\nWARNING: both SymbolicUtils and LinearAlgebra export \"cond\"; uses of it in module Symbolics must be qualified"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Should I worry about this?"}]}]}]},{"client_msg_id":"638c4526-4dc2-4bb8-84f1-7de2ad4f9767","type":"message","text":"no","user":"U6788D83U","ts":"1617600496.330300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x90mC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"7846f07b-cf27-4df6-bef9-1f245dcabd69","type":"message","text":"Hi, I'm new to Julia and playing around with tutorials for DiffEqFlux. For this example of LV (<https://diffeqflux.sciml.ai/stable/examples/optimization_ode/>), I tried adding some system perturbations with `PresetTimeCallback()`. It did change the standalone simulation output. However when I put the callback into `solve()` inside loss calculation and `sciml_train()`, it says \"Interpolation disabled due to sensitivity analysis\", and the output no longer reflect saveat input. Anything else I have to do other than adding callback to `solve`, e.g. changing sensitivity algorithm?\n```t_event = [2, 6, 8]\naffect!(integrator) = integrator.u[1] += 1\ncb = PresetTimeCallback(t_event, affect!)\n\nfunction loss_w_cb(p)\n    sol = solve(prob, Tsit5(), p=p, saveat = tsteps, callback=cb)\n    println(sol)\n    loss = sum(abs2, sol.-1)\n    return loss, sol\nend\n\nresult_ode = DiffEqFlux.sciml_train(loss_w_cb, p,\n                                    ADAM(0.1),\n                                    # cb = callback,\n                                    maxiters = 100)```","user":"U01TFEL2EMA","ts":"1617680584.335000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FuOo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, I'm new to Julia and playing around with tutorials for DiffEqFlux. For this example of LV ("},{"type":"link","url":"https://diffeqflux.sciml.ai/stable/examples/optimization_ode/"},{"type":"text","text":"), I tried adding some system perturbations with `PresetTimeCallback()`. It did change the standalone simulation output. However when I put the callback into `solve()` inside loss calculation and `sciml_train()`, it says \"Interpolation disabled due to sensitivity analysis\", and the output no longer reflect saveat input. Anything else I have to do other than adding callback to `solve`, e.g. changing sensitivity algorithm?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"t_event = [2, 6, 8]\naffect!(integrator) = integrator.u[1] += 1\ncb = PresetTimeCallback(t_event, affect!)\n\nfunction loss_w_cb(p)\n    sol = solve(prob, Tsit5(), p=p, saveat = tsteps, callback=cb)\n    println(sol)\n    loss = sum(abs2, sol.-1)\n    return loss, sol\nend\n\nresult_ode = DiffEqFlux.sciml_train(loss_w_cb, p,\n                                    ADAM(0.1),\n                                    # cb = callback,\n                                    maxiters = 100)"}]}]}]},{"client_msg_id":"eeeb52b7-cf31-4df8-bc7f-4f39b889804f","type":"message","text":"Hi! i'd like to simulate an n-body gravitational problem and get the bodies' trajectories, but I'm having trouble!\n\nSolving for each body's acceleration, you get `a1 = G*m2 / r^2` or `x** = Gm2 / norm2(x)`. My confusion is on how to solve a system of n second-order equations and on how to keep track of the 2/3d `x` vector. Any help is highly appreciated!","user":"UM9Q1BM9Q","ts":"1617685826.339900","team":"T68168MUP","edited":{"user":"UM9Q1BM9Q","ts":"1617685884.000000"},"blocks":[{"type":"rich_text","block_id":"loR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi! i'd like to simulate an n-body gravitational problem and get the bodies' trajectories, but I'm having trouble!\n\nSolving for each body's acceleration, you get "},{"type":"text","text":"a1 = G*m2 / r^2","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"x** = Gm2 / norm2(x)","style":{"code":true}},{"type":"text","text":". My confusion is on how to solve a system of n second-order equations and on how to keep track of the 2/3d "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" vector. Any help is highly appreciated!"}]}]}]},{"client_msg_id":"2c57122a-3a9c-4626-96e4-162c1f1866da","type":"message","text":"Are there any structural identifiability tools in julia?\nMore specifically, given a dynamic model `du/dt = f(u,theta,x,t)`,with u the dynamic states; theta the unknown parameters; x some control parameters, and a (possibly noisy) measurement model `y(t_i) = h(u,theta,x,t_i)` is is possible to estimate the true theta from the observations y, or will different values of theta give rise to exactly the same dynamics.","user":"UQEDP1Q5V","ts":"1617730639.350000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"npQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are there any structural identifiability tools in julia?\nMore specifically, given a dynamic model"},{"type":"text","text":" du/dt = f(u,theta,x,t)","style":{"code":true}},{"type":"text","text":",with u the dynamic states; theta the unknown parameters; x some control parameters, and a (possibly noisy) measurement model "},{"type":"text","text":"y(t_i) = h(u,theta,x,t_i)","style":{"code":true}},{"type":"text","text":" is is possible to estimate the true theta from the observations y, or will different values of theta give rise to exactly the same dynamics."}]}]}]},{"client_msg_id":"1a6c7d86-4802-40bb-a559-7451170394be","type":"message","text":"Is there any plan to implement a BVP-DAE solver in DifferentialEquations.jl? If not, any guidance on the best practice to exploit the current tools to solve BVP-DAE?","user":"USTUBS9ED","ts":"1617739898.352600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"24i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there any plan to implement a BVP-DAE solver in DifferentialEquations.jl? If not, any guidance on the best practice to exploit the current tools to solve BVP-DAE?"}]}]}],"thread_ts":"1617739898.352600","reply_count":1,"reply_users_count":1,"latest_reply":"1617739946.352800","reply_users":["USTUBS9ED"],"is_locked":false,"subscribed":false},{"client_msg_id":"b976efd2-cac4-486e-8f31-639894723eff","type":"message","text":"There's plans, but not one yet.","user":"U69BL50BF","ts":"1617740917.353400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=j9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's plans, but not one yet."}]}]}]},{"client_msg_id":"5295264a-8b74-4134-a66c-84b90e8fa5bd","type":"message","text":"<@U69BL50BF> Is it permissible to use a variable `Num` in the condition for `IfElse` ? I get an error saying it's a non-boolean being used in a boolean context.","user":"U01H36BUDJB","ts":"1617792359.355700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m5VXl","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Is it permissible to use a variable "},{"type":"text","text":"Num","style":{"code":true}},{"type":"text","text":" in the condition for "},{"type":"text","text":"IfElse","style":{"code":true}},{"type":"text","text":" ? I get an error saying it's a non-boolean being used in a boolean context."}]}]}]},{"client_msg_id":"abf8f627-7861-4ccb-b022-a4db04e57346","type":"message","text":"Yes for delayed application","user":"U69BL50BF","ts":"1617793814.355900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uHdm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes for delayed application"}]}]}]},{"client_msg_id":"0f9e4c99-b309-47eb-a312-d39414e6ec5b","type":"message","text":"MWE?","user":"U69BL50BF","ts":"1617793817.356100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ekJJF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MWE?"}]}]}]},{"client_msg_id":"aceaa39e-c6a9-4963-ba5a-5fb19a8e6329","type":"message","text":"Ah, nevermind, I can't reproduce it anymore after restarting Julia. Something weird must have happened with my REPL state.","user":"U01H36BUDJB","ts":"1617796133.357200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7LO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, nevermind, I can't reproduce it anymore after restarting Julia. Something weird must have happened with my REPL state."}]}]}]},{"client_msg_id":"1e68646b-0c16-4865-b5ec-586d5294ed6b","type":"message","text":"<https://juliacomputing.com/products/juliasim/>","user":"U69BL50BF","ts":"1617820622.358000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6jP3b","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://juliacomputing.com/products/juliasim/"}]}]}]},{"client_msg_id":"ec2a3f2d-d54c-4d4e-b176-6885083e19bb","type":"message","text":"I'm working on a toy control problem that has a lot of vector valued variables and functions; the documentation for ModelingToolkit mention that support for this exists, but is immature right now. Is there an example of use that I can look at to get started?","user":"U015TQ8C7U5","ts":"1617865118.359800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bj+C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm working on a toy control problem that has a lot of vector valued variables and functions; the documentation for ModelingToolkit mention that support for this exists, but is immature right now. Is there an example of use that I can look at to get started?"}]}]}]},{"client_msg_id":"baed136e-ce7e-451d-b0ce-9889814a2e25","type":"message","text":"not quite","user":"U69BL50BF","ts":"1617874770.360600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=88jB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not quite"}]}]}]},{"client_msg_id":"94d726eb-c1d9-4456-a536-65dd2b2e5005","type":"message","text":"Hi, following practical problem: I need to measure a somewhat complicated/nonlinear spring. The data is then used in a multi body simulation.  The force/torque of the spring (6D Vector) is a function of 3 positions and 3 rotation angles. so (Fx,Fy,Fz,Tx,Ty,Tz) = function (x,y,z, yaw, pitch roll). The idea is to subdivide the region into a grid and then take measurements and then use a lookup table during the simulation. The issue is that there may be many points and the measurements can take very very long. I wonder if machine learning (for me just a fancy word for curve fitting ?) could help me to reduce the number of points? How would I determine which points and how many points need to be measured? Is there a method to do that or is it at the end trial and error?","user":"URPFQPSEQ","ts":"1617893601.362900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8X/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi, following practical problem: I need to measure a somewhat complicated/nonlinear spring. The data is then used in a multi body simulation.  The force/torque of the spring (6D Vector) is a function of 3 positions and 3 rotation angles. so (Fx,Fy,Fz,Tx,Ty,Tz) = function (x,y,z, yaw, pitch roll). The idea is to subdivide the region into a grid and then take measurements and then use a lookup table during the simulation. The issue is that there may be many points and the measurements can take very very long. I wonder if machine learning (for me just a fancy word for curve fitting ?) could help me to reduce the number of points? How would I determine which points and how many points need to be measured? Is there a method to do that or is it at the end trial and error?"}]}]}]},{"client_msg_id":"c66c831c-58bd-4157-a379-1b2f7fb73904","type":"message","text":"Do you know precisely the equation and just want to fit the parameters?","user":"U69BL50BF","ts":"1617896278.363200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2faw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you know precisely the equation and just want to fit the parameters?"}]}]}]},{"client_msg_id":"771a9c1b-c86e-4447-b072-79b0ba0fb71c","type":"message","text":"I'm trying to model a system of stochastic differential equations using ModellingKittool. I have some rectified linear funcitons in my systems and thus I encountered the error: \"Only semi-explicit constant mass matrices are currently supported.\". This error doesn't appear if I use a ODESystem instead of a SDESystem.\nMy model for the noise is pretty simple, just a brownian motion added to a few variables. I'm wondering if there would a way to include this kind of noise (trough a new variable maybe?) into an ODESystem in order to not raise the error?","user":"UR0AVECJF","ts":"1617918523.366100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=PWJt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm trying to model a system of stochastic differential equations using ModellingKittool. I have some rectified linear funcitons in my systems and thus I encountered the error: \"Only semi-explicit constant mass matrices are currently supported.\". This error doesn't appear if I use a ODESystem instead of a SDESystem.\nMy model for the noise is pretty simple, just a brownian motion added to a few variables. I'm wondering if there would a way to include this kind of noise (trough a new variable maybe?) into an ODESystem in order to not raise the error?"}]}]}]},{"client_msg_id":"14d5036a-c4c5-4f50-b15e-f1580790ca7c","type":"message","text":"In MTK: I can not find documentation on the `parallel` keyword in `ODEProblem` , nor on what the options for it are.\nI also do not understand why `ODEFunction` does not have some of the keywords `ODEProblem` does, such as `checkbounds`.\n<https://mtk.sciml.ai/dev/systems/ODESystem/>","user":"UQEDP1Q5V","ts":"1617920657.368600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6yY8+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In MTK: I can not find documentation on the "},{"type":"text","text":"parallel ","style":{"code":true}},{"type":"text","text":"keyword in "},{"type":"text","text":"ODEProblem","style":{"code":true}},{"type":"text","text":" , nor on what the options for it are.\nI also do not understand why "},{"type":"text","text":"ODEFunction","style":{"code":true}},{"type":"text","text":" does not have some of the keywords "},{"type":"text","text":"ODEProblem","style":{"code":true}},{"type":"text","text":" does, such as "},{"type":"text","text":"checkbounds","style":{"code":true}},{"type":"text","text":".\n"},{"type":"link","url":"https://mtk.sciml.ai/dev/systems/ODESystem/"}]}]}]},{"client_msg_id":"555bb261-0a9d-4ab3-9e33-38ddae5b54dd","type":"message","text":"Hi all, l'm developing a package for feedback particle filters, a specific algorithm for online state estimation in continuous-time models, especially models where the hidden state and observation processes are solutions to SDEs. (see <https://github.com/simsurace/FeedbackParticleFilters.jl>). Currently the package uses its own solver, which is quite naive, not easily customizable, and (probably) much slower than it could be. I would like to use DifferentialEquations.jl as a backend for my package in order to make use of state-of-the-art solvers. The challenge I'm facing is that for particle filtering, one needs to basically set up an SDEProblem that consists of hidden state SDE dX = ..., observation SDE dY = ...,  and a system of SDEs for the particle system, which uses the differential dY as a noise source. In addition, the SDE for the particle filter, at least for the Feedback Particle Filter, is naturally expressed as a Stratonovich SDE, i.e. the term K(t)\\circ dY that appears in the SDEs for the particle system, is a Stratonovich term, whereas the remaining terms are Ito terms. I would like to ask whether there is anyone willing to help out writing this interface. Once the basics are established, this could be reused in a much more general package for continuous time filtering. The composability of DifferentialEquations.jl with machine learning packages open up and endless array of possibilities that will be very valuable for researchers in this domain.","user":"U01RZAE2CV6","ts":"1617973101.383800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oPKo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi all, l'm developing a package for feedback particle filters, a specific algorithm for online state estimation in continuous-time models, especially models where the hidden state and observation processes are solutions to SDEs. (see "},{"type":"link","url":"https://github.com/simsurace/FeedbackParticleFilters.jl"},{"type":"text","text":"). Currently the package uses its own solver, which is quite naive, not easily customizable, and (probably) much slower than it could be. I would like to use DifferentialEquations.jl as a backend for my package in order to make use of state-of-the-art solvers. The challenge I'm facing is that for particle filtering, one needs to basically set up an SDEProblem that consists of hidden state SDE dX = ..., observation SDE dY = ...,  and a system of SDEs for the particle system, which uses the differential dY as a noise source. In addition, the SDE for the particle filter, at least for the Feedback Particle Filter, is naturally expressed as a Stratonovich SDE, i.e. the term K(t)\\circ dY that appears in the SDEs for the particle system, is a Stratonovich term, whereas the remaining terms are Ito terms. I would like to ask whether there is anyone willing to help out writing this interface. Once the basics are established, this could be reused in a much more general package for continuous time filtering. The composability of DifferentialEquations.jl with machine learning packages open up and endless array of possibilities that will be very valuable for researchers in this domain."}]}]}],"thread_ts":"1617973101.383800","reply_count":5,"reply_users_count":3,"latest_reply":"1617973548.385500","reply_users":["U01TU3MV8PK","U69BL50BF","U01RZAE2CV6"],"is_locked":false,"subscribed":false,"reactions":[{"name":"heart","users":["UJ7DVTVQ8","U69BL50BF","U01TU3MV8PK"],"count":3}]},{"client_msg_id":"ffca3e96-6ee6-4a55-96bb-49bb871fd1e6","type":"message","text":"Hey folks. I have been looking at some papers on Variational methods for image processing--like image segmentation. So a lot of these methods use PDEs to either denoise an image or to segment the image using combinations of mean curvature flow by level set methods, etc. I was wondering if within the Julia ecosystem, we have any packages with these types of tools? It is kinda a specialized area, so I was not sure where to look. I can probably use MTK as the unifying framework, but then I was not sure if there are any libraries for level set methods or solvers in Julia?","user":"UDDSTBX19","ts":"1617989095.403700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pbyz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks. I have been looking at some papers on Variational methods for image processing--like image segmentation. So a lot of these methods use PDEs to either denoise an image or to segment the image using combinations of mean curvature flow by level set methods, etc. I was wondering if within the Julia ecosystem, we have any packages with these types of tools? It is kinda a specialized area, so I was not sure where to look. I can probably use MTK as the unifying framework, but then I was not sure if there are any libraries for level set methods or solvers in Julia?"}]}]}]},{"client_msg_id":"81e088a1-0aef-4bad-8919-43ac31115aca","type":"message","text":"Hey all, I have a function ODE model that contains a large number of compartments (on the orders of 1000s or 10000s). I want to add functionality for the user that allows them to artificially set compartments with sizes &lt;1 to 0. Is it safe to do this within the function `myModel(du,u,pars,t)`  where I have the line\n```u[u .&lt; 1.0] .= 0.0```\nOr will this not change u in the integrator? In which case, everytime I need to use a callback to set all compartments in `intergrator.u`  that are less than 1 to 0?","user":"UFH4C3LBT","ts":"1617992890.439800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"INkg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey all, I have a function ODE model that contains a large number of compartments (on the orders of 1000s or 10000s). I want to add functionality for the user that allows them to artificially set compartments with sizes <1 to 0. Is it safe to do this within the function "},{"type":"text","text":"myModel(du,u,pars,t)","style":{"code":true}},{"type":"text","text":"  where I have the line\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"u[u .< 1.0] .= 0.0"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Or will this not change u in the integrator? In which case, everytime I need to use a callback to set all compartments in "},{"type":"text","text":"intergrator.u","style":{"code":true}},{"type":"text","text":"  that are less than 1 to 0?"}]}]}]},{"client_msg_id":"9f132178-fb59-4db6-a540-9996b08ba284","type":"message","text":"I need a component library of materials for specifying spatially inhomogeneous nonlinear PDEs, where material susceptibilities both specify the PDE and can depend on PDE variables and (fixed) parameters (temperature, electric field, etc.) via symbolic empirical models and might be scalar or Array-valued. Would defining `Material&lt;:ModelingToolkit.AbstractSystem` be a reasonable approach here? Unlike the other `AbsractSystem` subtypes I've seen, these are not systems of equations to be solved, rather they are simpler containers of symbolic models meant to nest into `PDESystem`s. Is there a better way? I am new to MTK and might be totally misunderstanding how to use it.","user":"U01HK5WRVJT","ts":"1617993024.440500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ssJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I need a component library of materials for specifying spatially inhomogeneous nonlinear PDEs, where material susceptibilities both specify the PDE and can depend on PDE variables and (fixed) parameters (temperature, electric field, etc.) via symbolic empirical models and might be scalar or Array-valued. Would defining "},{"type":"text","text":"Material<:ModelingToolkit.AbstractSystem","style":{"code":true}},{"type":"text","text":" be a reasonable approach here? Unlike the other "},{"type":"text","text":"AbsractSystem","style":{"code":true}},{"type":"text","text":" subtypes I've seen, these are not systems of equations to be solved, rather they are simpler containers of symbolic models meant to nest into "},{"type":"text","text":"PDESystem","style":{"code":true}},{"type":"text","text":"s. Is there a better way? I am new to MTK and might be totally misunderstanding how to use it."}]}]}]}]}