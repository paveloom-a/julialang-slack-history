{"cursor": 16, "messages": [{"client_msg_id":"318bfca0-23ce-4a3d-9029-458b47f72a03","type":"message","text":"but it's what is used to solve for the next time step, iteratively","user":"U01H36BUDJB","ts":"1614086545.091800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zddk7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it's what is used to solve for the next time step, iteratively"}]}]}]},{"client_msg_id":"969f1268-e5e8-40f0-9917-44c7bc4c48b2","type":"message","text":"yes","user":"U69BL50BF","ts":"1614086554.092000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jci=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"9ef17720-74b9-4d57-8ff5-8990cd6a2e67","type":"message","text":"that other solver, what is the local tolerance it's able to achieve?","user":"U69BL50BF","ts":"1614086572.092300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E66","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that other solver, what is the local tolerance it's able to achieve?"}]}]}],"thread_ts":"1614086572.092300","reply_count":29,"reply_users_count":2,"latest_reply":"1614088085.102500","reply_users":["U01H36BUDJB","U69BL50BF"],"subscribed":false},{"client_msg_id":"482d4fe9-62b6-49ff-9b09-2c9b392ee8c8","type":"message","text":"also, note that the adaptive implicit methods are not factorizing every step, they do something very different.","user":"U69BL50BF","ts":"1614086601.092700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lSMX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"also, note that the adaptive implicit methods are not factorizing every step, they do something very different."}]}]}]},{"client_msg_id":"3b59706b-7769-48bd-bbf8-043db122ab3a","type":"message","text":"&gt; sure, I know... `Trapezoid` is the fastest I've found so far, but still takes small step sizes, it seems.\nEven faster than TRBDF2? That would be odd to me.","user":"U69BL50BF","ts":"1614086715.093100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fKU","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"sure, I know... "},{"type":"text","text":"Trapezoid","style":{"code":true}},{"type":"text","text":" is the fastest I've found so far, but still takes small step sizes, it seems."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Even faster than TRBDF2? That would be odd to me."}]}]}],"thread_ts":"1614086715.093100","reply_count":14,"reply_users_count":2,"latest_reply":"1614087193.097100","reply_users":["U01H36BUDJB","U69BL50BF"],"subscribed":false},{"client_msg_id":"20b5a29c-1de1-4dbe-b7db-66e1441f5209","type":"message","text":"Sorry, where can I read what these macros actually do? \"@parameters, @variables, @derivatives\"\nI know @parameters t x defines them as parameters, but I want to see what's happening under the hood.\nSimplest cases, like in here <https://github.com/SciML/DiffEqOperators.jl>","user":"U01CFQU8UFL","ts":"1614088063.102400","team":"T68168MUP","edited":{"user":"U01CFQU8UFL","ts":"1614088141.000000"},"blocks":[{"type":"rich_text","block_id":"oEds","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry, where can I read what these macros actually do? \"@parameters, @variables, @derivatives\"\nI know @parameters t x defines them as parameters, but I want to see what's happening under the hood.\nSimplest cases, like in here "},{"type":"link","url":"https://github.com/SciML/DiffEqOperators.jl"}]}]}]},{"client_msg_id":"a4c2d44d-4348-4758-9ee5-fa92244690cd","type":"message","text":"<@U01CFQU8UFL> how deep?","user":"U69BL50BF","ts":"1614088102.102800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b=04","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01CFQU8UFL"},{"type":"text","text":" how deep?"}]}]}]},{"client_msg_id":"42f8b264-0dbd-4759-be08-030d6f43b1f7","type":"message","text":"As in, define a symbolic variable for ModelingToolkit?","user":"U69BL50BF","ts":"1614088112.103100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2J8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"As in, define a symbolic variable for ModelingToolkit?"}]}]}]},{"client_msg_id":"22d1a36e-d376-4c67-9c6a-cd57e00d4aea","type":"message","text":"Or","user":"U69BL50BF","ts":"1614088113.103300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j1ZP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or"}]}]}]},{"client_msg_id":"1cfc6ac8-2641-4342-9e02-4a2f80eab63d","type":"message","text":"<https://github.com/SciML/ModelingToolkit.jl/blob/master/src/variables.jl#L149-L198>","user":"U69BL50BF","ts":"1614088144.103600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wS5Cb","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/blob/master/src/variables.jl#L149-L198"}]}]}]},{"client_msg_id":"a32bbe41-a7f2-424d-88c4-f46990364d81","type":"message","text":"Under the hood it's basically just doing","user":"U69BL50BF","ts":"1614088176.103800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nuRA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Under the hood it's basically just doing"}]}]}]},{"client_msg_id":"2c46d63f-8712-42ae-8cd2-803b18ae8cb3","type":"message","text":"`α = Num(Variable{ModelingToolkit.Parameter{Real}}(:α))`","user":"U69BL50BF","ts":"1614088177.104000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rVpm5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"α = Num(Variable{ModelingToolkit.Parameter{Real}}(:α))","style":{"code":true}}]}]}]},{"client_msg_id":"9c2ee211-06aa-401a-9bd0-76809af1e6d4","type":"message","text":"i still need to understand the rationale of doing this macro instead of just using them as ordinary real-valued variables in a function like Fortran/Matlab. Still reading about the macro part. I may be back with more questions.","user":"U01CFQU8UFL","ts":"1614088275.105000","team":"T68168MUP","edited":{"user":"U01CFQU8UFL","ts":"1614088316.000000"},"blocks":[{"type":"rich_text","block_id":"zc3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"i still need to understand the rationale of doing this macro instead of just using them as ordinary real-valued variables in a function like Fortran/Matlab. Still reading about the macro part. I may be back with more questions."}]}]}]},{"client_msg_id":"278aebda-e27c-4a51-99a5-6dbac820fd07","type":"message","text":"I mean","user":"U69BL50BF","ts":"1614088413.105400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hd+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean"}]}]}]},{"client_msg_id":"cee44182-c8db-43a6-9bba-afa814b8e5f0","type":"message","text":"it doesn't have to be a macro if you want to write `t = Num(Variable{ModelingToolkit.Parameter{Real}}(:t))`","user":"U69BL50BF","ts":"1614088425.105800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+1w/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it doesn't have to be a macro if you want to write "},{"type":"text","text":"t = Num(Variable{ModelingToolkit.Parameter{Real}}(:t))","style":{"code":true}}]}]}]},{"client_msg_id":"26096217-a8bd-49b4-9ba0-83f8411beec9","type":"message","text":"it's just a shorthand","user":"U69BL50BF","ts":"1614088428.106000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"//g2w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's just a shorthand"}]}]}]},{"client_msg_id":"cf81747f-b62b-4a25-9f2e-5be48ea8629c","type":"message","text":"it has to be a macro not a function because it needs the name in order to properly name the symbol.","user":"U69BL50BF","ts":"1614088443.106400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j3WG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it has to be a macro not a function because it needs the name in order to properly name the symbol."}]}]}]},{"client_msg_id":"382e2673-5af5-4959-a906-c50c5d04bfff","type":"message","text":"Could you help me understand what the `(..)` syntax for variables and parameters declaration means? <https://mtk.sciml.ai/dev/highlevel/#ModelingToolkit.@variables|Docs> say\n&gt;  Note that `@parameters` and `@variables` implicitly add `()` to values that are not given a call. The former specifies the values as known, while the latter specifies it as unknown. `(..)` signifies that the value should be left uncalled.\nWhat does 'uncalled' mean? The example isn't helping illuminate this for me:\n```@parameters t α σ(..) β[1:2]\n@variables w(..) x(t) y() z(t, α, x)\n\nexpr = β₁* x + y^α + σ(3) * (z - t) - β₂ * w(t - 1)```\n","user":"U7ZNTQFLH","ts":"1614096512.108600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pf+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could you help me understand what the "},{"type":"text","text":"(..)","style":{"code":true}},{"type":"text","text":" syntax for variables and parameters declaration means? "},{"type":"link","url":"https://mtk.sciml.ai/dev/highlevel/#ModelingToolkit.@variables","text":"Docs"},{"type":"text","text":" say\n"}]},{"type":"rich_text_quote","elements":[{"type":"text","text":" Note that "},{"type":"text","text":"@parameters","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"@variables","style":{"code":true}},{"type":"text","text":" implicitly add "},{"type":"text","text":"()","style":{"code":true}},{"type":"text","text":" to values that are not given a call. The former specifies the values as known, while the latter specifies it as unknown. "},{"type":"text","text":"(..)","style":{"code":true}},{"type":"text","text":" signifies that the value should be left uncalled."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"What does 'uncalled' mean? The example isn't helping illuminate this for me:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@parameters t α σ(..) β[1:2]\n@variables w(..) x(t) y() z(t, α, x)\n\nexpr = β₁* x + y^α + σ(3) * (z - t) - β₂ * w(t - 1)"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"9014224f-1f8c-44b5-82dc-8101ec056050","type":"message","text":"`x(t)` is a \"known function\", or, `x` means `x(t)`","user":"U69BL50BF","ts":"1614096573.108900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mat","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"x(t)","style":{"code":true}},{"type":"text","text":" is a \"known function\", or, "},{"type":"text","text":"x","style":{"code":true}},{"type":"text","text":" means "},{"type":"text","text":"x(t)","style":{"code":true}}]}]}]},{"client_msg_id":"d3ebca1c-c27e-4378-9382-533962daa58f","type":"message","text":"it matches the shorthand people know and use in math","user":"U69BL50BF","ts":"1614096580.109200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9LZwL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it matches the shorthand people know and use in math"}]}]}]},{"client_msg_id":"7317d79d-a23c-413d-aee0-700eb1aff097","type":"message","text":"`σ(..)` is an \"open function\"","user":"U69BL50BF","ts":"1614096588.109400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PR5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"σ(..)","style":{"code":true}},{"type":"text","text":" is an \"open function\""}]}]}]},{"client_msg_id":"7e3991a5-556d-456d-944b-72bc3a2d947c","type":"message","text":"`σ` itself is a function and `σ` only makes sense as something applied to some variables","user":"U69BL50BF","ts":"1614096609.110000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AoJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"σ","style":{"code":true}},{"type":"text","text":" itself is a function and "},{"type":"text","text":"σ","style":{"code":true}},{"type":"text","text":" only makes sense as something applied to some variables"}]}]}]},{"client_msg_id":"b39efbe1-c7eb-4fc4-963b-f8d3ab71954f","type":"message","text":"so if you use `σ` , you then have to state like `σ(t)`","user":"U69BL50BF","ts":"1614096628.110500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3ok","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so if you use "},{"type":"text","text":"σ","style":{"code":true}},{"type":"text","text":" , you then have to state like "},{"type":"text","text":"σ(t)","style":{"code":true}}]}]}]},{"client_msg_id":"1aa79c6d-7256-4ec6-9927-93645b10b4bd","type":"message","text":"you'd do the latter if you tend to not always use the same call","user":"U69BL50BF","ts":"1614096653.110800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iF3F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'd do the latter if you tend to not always use the same call"}]}]}]},{"client_msg_id":"37a65f6b-3519-4f18-b186-3b5d4183a9a0","type":"message","text":"like `expr = σ(t) + σ(t+3)`","user":"U69BL50BF","ts":"1614096662.111100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n=eN4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"like "},{"type":"text","text":"expr = σ(t) + σ(t+3)","style":{"code":true}}]}]}]},{"client_msg_id":"26cd341d-821e-4ad4-aa37-8ef9bfdba572","type":"message","text":"but it would get annoying to have to put `(t)` on every term of a differential equation, so `@variables x(t)` is a short hand","user":"U69BL50BF","ts":"1614096686.111700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ARK+Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it would get annoying to have to put "},{"type":"text","text":"(t)","style":{"code":true}},{"type":"text","text":" on every term of a differential equation, so "},{"type":"text","text":"@variables x(t)","style":{"code":true}},{"type":"text","text":" is a short hand"}]}]}]},{"client_msg_id":"32366ccc-03d3-4036-b1b2-c8f7e17f78de","type":"message","text":"Ok.. So in the example `@parameters σ(..)` reads as \" `σ` is a function, of some unspecified number and type of arguments, that I will supply by the time I construct the ODEProblem\" (for the moment I'm just concerned with ODEs). In the equations themselves it will always show up looking like a function call, with arguments that can be other parameters, or variables, or constants, or other functions in turn of all these..? Is it just then an alternative to function currying, allowing the definition of this function-call parameter to be deferred until the last minute? Anyway as such is this the right way to introduce forcing terms?\n\nAssuming that's correct then I'm still not 100% sure how the `@variables` version (`w(..)` in the example) should be interpreted. Sorry to be pedantic but I'd really like to know what I'm doing in these simple cases. So e.g. right now in English I read the `expr` in the example as:\nSum up these things:\n1. multiply [a constant valued parameter] *β₁* by *x(t)* [an apriori unknown time-dependent function, i.e. state]\n2. raise *y(t)* to the *α*-th power [*α* being another constant valued parameter]\n3. the result of *σ(3)*, which is a call to a function supplied by the user with a single constant literal argument (3), multiplied it by *z(t, α, x)* - *t*; here *z* is an unknown state which is a function of *t* (which is presumably the independent variable, time), the constant parameter *α*, and the time-dependent state *x(t)*\n4. *-β₂* [second component of a length 2 vector of constant valued parameters] multiplied by *w(t - 1)* [where *w* is an unknown function dependent on time delayed by 1, so now a system using this equation will be a delayed differential equation so DDEProblem rather than ODEProblem will need to be used (but what about DDESystem vs ODESystem? Will that work in ModelingToolkit, it's not mentioned in the docs of MTK AFAICT)]\nwhew, sorry for the wordiness but I hope it might help others too (I should probably ask this on Discourse actually..)","user":"U7ZNTQFLH","ts":"1614098338.129400","team":"T68168MUP","edited":{"user":"U7ZNTQFLH","ts":"1614098409.000000"},"blocks":[{"type":"rich_text","block_id":"6AC4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok.. So in the example "},{"type":"text","text":"@parameters σ(..)","style":{"code":true}},{"type":"text","text":" reads as \" "},{"type":"text","text":"σ","style":{"code":true}},{"type":"text","text":" is a function, of some unspecified number and type of arguments, that I will supply by the time I construct the ODEProblem\" (for the moment I'm just concerned with ODEs). In the equations themselves it will always show up looking like a function call, with arguments that can be other parameters, or variables, or constants, or other functions in turn of all these..? Is it just then an alternative to function currying, allowing the definition of this function-call parameter to be deferred until the last minute? Anyway as such is this the right way to introduce forcing terms?\n\nAssuming that's correct then I'm still not 100% sure how the "},{"type":"text","text":"@variables","style":{"code":true}},{"type":"text","text":" version ("},{"type":"text","text":"w(..)","style":{"code":true}},{"type":"text","text":" in the example) should be interpreted. Sorry to be pedantic but I'd really like to know what I'm doing in these simple cases. So e.g. right now in English I read the "},{"type":"text","text":"expr","style":{"code":true}},{"type":"text","text":" in the example as:\nSum up these things:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"multiply [a constant valued parameter] "},{"type":"text","text":"β₁","style":{"bold":true}},{"type":"text","text":" by "},{"type":"text","text":"x(t)","style":{"bold":true}},{"type":"text","text":" [an apriori unknown time-dependent function, i.e. state]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"raise "},{"type":"text","text":"y(t)","style":{"bold":true}},{"type":"text","text":" to the "},{"type":"text","text":"α","style":{"bold":true}},{"type":"text","text":"-th power ["},{"type":"text","text":"α ","style":{"bold":true}},{"type":"text","text":"being another constant valued parameter]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"the result of "},{"type":"text","text":"σ(3)","style":{"bold":true}},{"type":"text","text":", which is a call to a function supplied by the user with a single constant literal argument (3), multiplied it by "},{"type":"text","text":"z(t, α, x)","style":{"bold":true}},{"type":"text","text":" - "},{"type":"text","text":"t","style":{"bold":true}},{"type":"text","text":"; here "},{"type":"text","text":"z","style":{"bold":true}},{"type":"text","text":" is an unknown state which is a function of "},{"type":"text","text":"t","style":{"bold":true}},{"type":"text","text":" (which is presumably the independent variable, time), the constant parameter "},{"type":"text","text":"α","style":{"bold":true}},{"type":"text","text":", and the time-dependent state "},{"type":"text","text":"x(t)","style":{"bold":true}}]},{"type":"rich_text_section","elements":[{"type":"text","text":"-β₂","style":{"bold":true}},{"type":"text","text":" [second component of a length 2 vector of constant valued parameters] multiplied by "},{"type":"text","text":"w(t - 1)","style":{"bold":true}},{"type":"text","text":" [where "},{"type":"text","text":"w","style":{"bold":true}},{"type":"text","text":" is an unknown function dependent on time delayed by 1, so now a system using this equation will be a delayed differential equation so DDEProblem rather than ODEProblem will need to be used (but what about DDESystem vs ODESystem? Will that work in ModelingToolkit, it's not mentioned in the docs of MTK AFAICT)]"}]}],"style":"ordered","indent":0},{"type":"rich_text_section","elements":[{"type":"text","text":"\nwhew, sorry for the wordiness but I hope it might help others too (I should probably ask this on Discourse actually..)"}]}]}]},{"client_msg_id":"e888674c-d132-4794-a132-59877abb4ef5","type":"message","text":"(actually on that last -- does 'bridged' in this channel's name mean that the content here actually is archived somewhere?)","user":"U7ZNTQFLH","ts":"1614098785.130400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N/W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(actually on that last -- does 'bridged' in this channel's name mean that the content here actually is archived somewhere?)"}]}]}]},{"client_msg_id":"eaa915ef-456c-42a0-b19e-033dc6716a21","type":"message","text":"<https://gitter.im/JuliaDiffEq/Lobby>","user":"U69BL50BF","ts":"1614099468.130600","team":"T68168MUP","attachments":[{"title":"JuliaDiffEq/Lobby","title_link":"https://gitter.im/JuliaDiffEq/Lobby","text":"Solving differential equations in Julia","fallback":"JuliaDiffEq/Lobby","thumb_url":"https://avatars-05.gitter.im/group/iv/4/57bf79b040f3a6eec0615ece","from_url":"https://gitter.im/JuliaDiffEq/Lobby","thumb_width":128,"thumb_height":128,"service_icon":"http://cdn03.gitter.im/_s/c1b28f565/images/favicon-normal.ico","service_name":"gitter.im","id":1,"original_url":"https://gitter.im/JuliaDiffEq/Lobby"}],"blocks":[{"type":"rich_text","block_id":"QX=","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://gitter.im/JuliaDiffEq/Lobby"}]}]}],"reactions":[{"name":"+1","users":["U7ZNTQFLH"],"count":1}]},{"client_msg_id":"df24d7db-b8fc-40aa-9177-907e5493220d","type":"message","text":"<@U6A936746> one direction of the bridge is down :disappointed:","user":"U69BL50BF","ts":"1614105576.132100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9NdhZ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6A936746"},{"type":"text","text":" one direction of the bridge is down "},{"type":"emoji","name":"disappointed"}]}]}]},{"client_msg_id":"1a39457b-35f9-422c-8835-a4a9ea1bce12","type":"message","text":"should be back presently","user":"U6A936746","ts":"1614105652.132300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yu4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should be back presently"}]}]}]},{"type":"message","subtype":"bot_message","text":"If that's not it, I might want to take a deeper look there.","ts":"1614105679.132400","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"If that's not it, I might want to take a deeper look there.","verbatim":false}}]},{"client_msg_id":"2c423a7d-7897-4d52-b73c-8aa69ec0cde0","type":"message","text":"yay!","user":"U69BL50BF","ts":"1614105684.132600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eCpFO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yay!"}]}]}]},{"client_msg_id":"fcd51846-2b51-4a64-a826-d98b674f7edb","type":"message","text":"Thanks <@U6A936746>!","user":"U69BL50BF","ts":"1614105687.132800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"67PYn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"U6A936746"},{"type":"text","text":"!"}]}]}]},{"client_msg_id":"161df5eb-63fd-45fb-8e56-c197a118cb7e","type":"message","text":"<@U7ZNTQFLH> I think we should bridge to the Zulip soon. I talked with <@U8D9768Q6> awhile back that the one thing we technically need is a mod associated with the SciML project on the Zulip, as otherwise we cannot guarantee what we said we would for SciML community channels in the NumFOCUS founding documents. If that gets fixed up then I'd be happy to bridge to the Zulip. I've been becoming more and more of a Zulip user as time goes on.","user":"U69BL50BF","ts":"1614105850.134600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wc0rz","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7ZNTQFLH"},{"type":"text","text":" I think we should bridge to the Zulip soon. I talked with "},{"type":"user","user_id":"U8D9768Q6"},{"type":"text","text":" awhile back that the one thing we technically need is a mod associated with the SciML project on the Zulip, as otherwise we cannot guarantee what we said we would for SciML community channels in the NumFOCUS founding documents. If that gets fixed up then I'd be happy to bridge to the Zulip. I've been becoming more and more of a Zulip user as time goes on."}]}]}],"thread_ts":"1614105850.134600","reply_count":6,"reply_users_count":2,"latest_reply":"1614106347.136800","reply_users":["U7ZNTQFLH","U69BL50BF"],"subscribed":false},{"type":"message","subtype":"channel_join","ts":"1614105854.134800","user":"U8D9768Q6","text":"<@U8D9768Q6> has joined the channel","inviter":"U69BL50BF"},{"client_msg_id":"12339907-3958-4d46-8363-2a838ebae6b0","type":"message","text":"I think it would be good to bridge <#C7T968HRU|diffeq-bridged> and <#CN04R7WKE|sciml> separately, as we do now, since differential equations gets enough traffic that it would otherwise drown SciML completely.","user":"U69BL50BF","ts":"1614105893.135700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mn=Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it would be good to bridge "},{"type":"channel","channel_id":"C7T968HRU"},{"type":"text","text":" and "},{"type":"channel","channel_id":"CN04R7WKE"},{"type":"text","text":" separately, as we do now, since differential equations gets enough traffic that it would otherwise drown SciML completely."}]}]}],"reactions":[{"name":"+1","users":["U8D9768Q6"],"count":1}]},{"client_msg_id":"CDF89E99-8465-40E1-9F45-241E249A9514","type":"message","text":"Do you have any mod suggestions?","user":"U8D9768Q6","ts":"1614107686.137500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/yH1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have any mod suggestions?"}]}]}]},{"client_msg_id":"0b59654e-1329-4908-8e3f-0075fa3b7f11","type":"message","text":"<@U6788D83U> would be a good choice.","user":"U69BL50BF","ts":"1614108146.137900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L8cE","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" would be a good choice."}]}]}],"reactions":[{"name":"+1","users":["U8D9768Q6"],"count":1}]},{"client_msg_id":"F3A31FD6-247C-48E4-82C5-DF08A7486187","type":"message","text":"If Yingbo is willing, we can move forward with it. Will have to discuss with the other mods on Zulip. <@U6788D83U> let me know if you have any questions or concerns. Feel free to PM me or post here. \n\nZulip so far has needed very little direct moderator intervention because things have been in line with the community CoC so far, so it has not been a particularly demanding role. We have 6 moderators currently so even if something does happen, we should be able to spread the work. ","user":"U8D9768Q6","ts":"1614108982.143800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h6J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If Yingbo is willing, we can move forward with it. Will have to discuss with the other mods on Zulip. "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" let me know if you have any questions or concerns. Feel free to PM me or post here. \n"},{"type":"text","text":"\nZulip so far has needed very little direct moderator intervention because things have been in line with the community CoC so far, so it has not been a particularly demanding role. We have 6 moderators currently so even if something does happen, we should be able to spread the work. "}]}]}]},{"client_msg_id":"e07ce0b3-7439-4d6d-a3f9-da9516b43c73","type":"message","text":"yeah, I just want to make sure we follow the letter of the law. We signed a contract with a governance model that one of the 5 steering council members would handle the code of conduct violations in any community we have, so we at least have to make that possible. In practice, it \"shouldn't\" come up, and most likely other mods are fine in practice, but we better at least have everything in place that we signed saying we would make sure would happen.","user":"U69BL50BF","ts":"1614109998.146500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nh4q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, I just want to make sure we follow the letter of the law. We signed a contract with a governance model that one of the 5 steering council members would handle the code of conduct violations in any community we have, so we at least have to make that possible. In practice, it \"shouldn't\" come up, and most likely other mods are fine in practice, but we better at least have everything in place that we signed saying we would make sure would happen."}]}]}]},{"client_msg_id":"75fc7ae7-7731-41b2-9215-a4002285e457","type":"message","text":"Yeah for sure. The Zulip devs are working on a 'Stream owner' concept where you can have people with moderator priviliges for specific streams only  (ref <https://github.com/zulip/zulip/issues/3783>), so probably in the future other organizations with constraints like SciML will probably be interested in that sort of model, but I'm not sure when that's coming and I'd like more active, experienced Zulip wide moderators anyways, so I'm definitely in favour of this.","user":"U8D9768Q6","ts":"1614110659.148900","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1614110765.000000"},"blocks":[{"type":"rich_text","block_id":"ASz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah for sure. The Zulip devs are working on a 'Stream owner' concept where you can have people with moderator priviliges for specific streams only  (ref "},{"type":"link","url":"https://github.com/zulip/zulip/issues/3783"},{"type":"text","text":"), so probably in the future other organizations with constraints like SciML will probably be interested in that sort of model, but I'm not sure when that's coming and I'd like more active, experienced Zulip wide moderators anyways, so I'm definitely in favour of this."}]}]}],"reactions":[{"name":"+1","users":["UGU761DU2","U69BL50BF"],"count":2}]},{"client_msg_id":"dc9de42a-b701-440d-a89c-a7b8f7854097","type":"message","text":"<@U7ZNTQFLH> here's my doc revamp idea: <https://github.com/SciML/ModelingToolkit.jl/issues/806>","user":"U69BL50BF","ts":"1614111339.149600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mgPUn","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7ZNTQFLH"},{"type":"text","text":" here's my doc revamp idea: "},{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/issues/806"}]}]}]},{"client_msg_id":"3f176f82-ed7c-4a7f-9a6d-e91852c1794a","type":"message","text":"&gt; [where *w* is an unknown function dependent on time delayed by 1, so now a system using this equation will be a delayed differential equation so DDEProblem rather than ODEProblem will need to be used (but what about DDESystem vs ODESystem? Will that work in ModelingToolkit, it's not mentioned in the docs of MTK AFAICT)]\nYeah DDESystem doesn't exist yet, but the symbolic syntax for specifying a DDE exists and we just need to get the machinery together.","user":"U69BL50BF","ts":"1614111410.150200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6WrUY","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"[where "},{"type":"text","text":"w","style":{"bold":true}},{"type":"text","text":" is an unknown function dependent on time delayed by 1, so now a system using this equation will be a delayed differential equation so DDEProblem rather than ODEProblem will need to be used (but what about DDESystem vs ODESystem? Will that work in ModelingToolkit, it's not mentioned in the docs of MTK AFAICT)]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah DDESystem doesn't exist yet, but the symbolic syntax for specifying a DDE exists and we just need to get the machinery together."}]}]}]},{"client_msg_id":"70d7a4aa-0799-421b-92e5-6392fbd985d7","type":"message","text":"My plan here is to get ODESystem to a going point first, because then we know what we are targeting. Then getting all of the other systems up to the same level","user":"U69BL50BF","ts":"1614111440.150700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5m59","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My plan here is to get ODESystem to a going point first, because then we know what we are targeting. Then getting all of the other systems up to the same level"}]}]}]},{"client_msg_id":"5d54fbfc-6efa-40f0-b9e0-1960a27a1820","type":"message","text":".","user":"U69BL50BF","ts":"1614111440.150900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ASV3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"."}]}]}],"reactions":[{"name":"+1","users":["U7ZNTQFLH"],"count":1}]},{"client_msg_id":"ce48cd05-7c60-4769-9b33-18c46faa619e","type":"message","text":"any suggestions for me to look at for systems with heterogeneous properties?\n<https://github.com/SciML/DiffEqOperators.jl>\nFor example, for the heat equation, when you write eq  = Dt(u(t,x)) ~ Dxx(u(t,x)), I think you are assuming heat conductivity is the same at every place and it's K=1. What if the conductivity is different from place to place? In numerical modeling we can discretize the conductivity K_i, K_{i+1} etc (i is the spatial gridcell index) based on data. I don't see an interface to do this here.","user":"U01CFQU8UFL","ts":"1614115637.154100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GWNvb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"any suggestions for me to look at for systems with heterogeneous properties?\n"},{"type":"link","url":"https://github.com/SciML/DiffEqOperators.jl"},{"type":"text","text":"\nFor example, for the heat equation, when you write eq  = Dt(u(t,x)) ~ Dxx(u(t,x)), I think you are assuming heat conductivity is the same at every place and it's K=1. What if the conductivity is different from place to place? In numerical modeling we can discretize the conductivity K_i, K_{i+1} etc (i is the spatial gridcell index) based on data. I don't see an interface to do this here."}]}]}]},{"client_msg_id":"61925aed-5f25-41a7-9409-42c12d15b58a","type":"message","text":"I mean, you can specify it. `Dt(u(t,x)) ~ Dx(K(x) * Dx(u(t,x)))`","user":"U69BL50BF","ts":"1614115833.154700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RyYm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, you can specify it. "},{"type":"text","text":"Dt(u(t,x)) ~ Dx(K(x) * Dx(u(t,x)))","style":{"code":true}}]}]}],"thread_ts":"1614115833.154700","reply_count":17,"reply_users_count":2,"latest_reply":"1614118429.159100","reply_users":["U01CFQU8UFL","U69BL50BF"],"subscribed":false},{"client_msg_id":"83ca0718-07eb-400e-bc86-70ed3fc679ee","type":"message","text":"it won't solve right now (with the FDM tooling, the PINN version should be fine), but you can symbolically specify such a PDE.","user":"U69BL50BF","ts":"1614115864.155400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ya6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it won't solve right now (with the FDM tooling, the PINN version should be fine), but you can symbolically specify such a PDE."}]}]}],"thread_ts":"1614115864.155400","reply_count":1,"reply_users_count":1,"latest_reply":"1614117403.157300","reply_users":["U01CFQU8UFL"],"subscribed":false},{"client_msg_id":"B2FD078E-93D2-4DAC-B584-065C4A592A2B","type":"message","text":"We have a ODE for the inverse matrix  of something. Can you be adaptive, but in the sense that matters for inversion, that is having small stepsize to make sure that matrices close to singularity are computed with high precision?","user":"U6C937ENB","ts":"1614158239.162700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VfTS5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We have a ODE for the inverse matrix  of something. Can you be adaptive, but in the sense that matters for inversion, that is having small stepsize to make sure that matrices close to singularity are computed with high precision?"}]}]}],"thread_ts":"1614158239.162700","reply_count":1,"reply_users_count":1,"latest_reply":"1614159439.162900","reply_users":["U69BL50BF"],"subscribed":false},{"client_msg_id":"aec3a243-ca8d-42c1-8ef3-7aa588b5354d","type":"message","text":"Hi there! I’m using OrdinaryDiffEq to integrate incremental constitutive laws in solid mechanics. I have a state variable `D` that should only be allowed to grow and whose value must be higher or equal to some initial value `D0`. My derivatives update function is built so that `D` can only increase with time, but I keep facing solves returning me `AssertionError` relative to `D` being lower than `D0` at some point during integration. Any clue on what may happen?","user":"UNJ3U7TRB","ts":"1614167305.174900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wge8c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi there! I’m using OrdinaryDiffEq to integrate incremental constitutive laws in solid mechanics. I have a state variable "},{"type":"text","text":"D","style":{"code":true}},{"type":"text","text":" that should only be allowed to grow and whose value must be higher or equal to some initial value "},{"type":"text","text":"D0","style":{"code":true}},{"type":"text","text":". My derivatives update function is built so that "},{"type":"text","text":"D","style":{"code":true}},{"type":"text","text":" can only increase with time, but I keep facing solves returning me "},{"type":"text","text":"AssertionError","style":{"code":true}},{"type":"text","text":" relative to "},{"type":"text","text":"D","style":{"code":true}},{"type":"text","text":" being lower than "},{"type":"text","text":"D0","style":{"code":true}},{"type":"text","text":" at some point during integration. Any clue on what may happen?"}]}]}],"thread_ts":"1614167305.174900","reply_count":1,"reply_users_count":1,"latest_reply":"1614167844.175300","reply_users":["U9MD78Z9N"],"subscribed":false},{"client_msg_id":"cb7c1b82-d64f-4213-963f-47ab9da6a315","type":"message","text":"Okay so <@U6788D83U> is now an admin of the <https://julialang.zulipchat.com/#recent_topics|Julia Zulip>! Let me know if there's anything I can do to help get bridging working. I will be kinda busy for most of today, but I'll try to respond if I can","user":"U8D9768Q6","ts":"1614182016.181900","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1614182101.000000"},"blocks":[{"type":"rich_text","block_id":"SM=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay so "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" is now an admin of "},{"type":"text","text":"the ","style":{"unlink":true}},{"type":"link","url":"https://julialang.zulipchat.com/#recent_topics","text":"Julia Zulip"},{"type":"text","text":"! Let me know if there's anything I can do to help get bridging working. I will be kinda busy for most of today, but I'll try to respond if I can","style":{"unlink":true}}]}]}]},{"client_msg_id":"9700a49d-d81b-4352-9fd9-abaec922eea8","type":"message","text":"Okay cool, so I'm busy too, tons of MTK stuff going on :rolling_on_the_floor_laughing:","user":"U69BL50BF","ts":"1614193251.182800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3vymS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay cool, so I'm busy too, tons of MTK stuff going on "},{"type":"emoji","name":"rolling_on_the_floor_laughing"}]}]}]},{"client_msg_id":"3b45b853-c48b-4b21-93a5-ac35e64a4ce5","type":"message","text":"but... no reason to not bridge now","user":"U69BL50BF","ts":"1614193259.183100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ScB=5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but... no reason to not bridge now"}]}]}]},{"client_msg_id":"28f78de6-c6f7-4bf7-bde3-a905d193392d","type":"message","text":"bridge away whoever knows how :slightly_smiling_face:","user":"U69BL50BF","ts":"1614193266.183500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XY+hw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"bridge away whoever knows how "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"type":"message","subtype":"bot_message","text":"Is it possible to use diffeqpy to do parameter estimation of ODEs like the example shown here: <https://diffeqflux.sciml.ai/stable/examples/optimization_ode/>","ts":"1614206330.184100","username":"[gitter] <sibyjackgrove>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"Is it possible to use diffeqpy to do parameter estimation of ODEs like the example shown here: <https://diffeqflux.sciml.ai/stable/examples/optimization_ode/>","verbatim":false}}]},{"client_msg_id":"3d6aec5a-7418-4fec-9cbf-2d4cdd8f26d7","type":"message","text":"not yet","user":"U69BL50BF","ts":"1614206434.184300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qrUN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not yet"}]}]}]},{"type":"message","subtype":"bot_message","text":"Can we use SparsityDetection to detect sparsity patterns using diffeqpy? If not is there a way to manually pass the sparsity information using diffeqpy?","ts":"1614206860.184400","username":"[gitter] <sibyjackgrove>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"Can we use SparsityDetection to detect sparsity patterns using diffeqpy? If not is there a way to manually pass the sparsity information using diffeqpy?","verbatim":false}}]},{"client_msg_id":"1bb89ae5-6019-4ae6-bf94-8bc714c65dcc","type":"message","text":"No, that's not going to work until MTK can dispatch through the diffeqpy code","user":"U69BL50BF","ts":"1614206998.184800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e6l=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, that's not going to work until MTK can dispatch through the diffeqpy code"}]}]}]},{"client_msg_id":"b6a375bc-8932-4447-84fe-740b3aa78665","type":"message","text":"a lot of things are blocked by that one issue","user":"U69BL50BF","ts":"1614207004.185000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qU=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a lot of things are blocked by that one issue"}]}]}]},{"client_msg_id":"bb7e1f10-c6f6-4804-acd8-e3636a115e0c","type":"message","text":"that issue doesn't exist with R which is why those features work there.","user":"U69BL50BF","ts":"1614207015.185400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rFH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that issue doesn't exist with R which is why those features work there."}]}]}]},{"type":"message","subtype":"bot_message","text":"hmm it looks like the bridge was only going one way  @sibyjackgrove ","ts":"1614212514.185500","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"hmm it looks like the bridge was only going one way  @sibyjackgrove ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Both of those features require ModelingToolkit to parse the language","ts":"1614212527.185600","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"Both of those features require ModelingToolkit to parse the language","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"that works in R but not Python","ts":"1614212531.185700","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"that works in R but not Python","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I want to change that, but it'll take a bit.","ts":"1614212536.185800","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"I want to change that, but it'll take a bit.","verbatim":false}}]},{"client_msg_id":"4cd768bc-bc53-4049-a850-200652fdc45c","type":"message","text":"is there any documentation on implementing custom solvers?","user":"U01H36BUDJB","ts":"1614247054.186700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Id+Dk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there any documentation on implementing custom solvers?"}]}]}]},{"client_msg_id":"9dfe45a9-8418-4cad-9461-c7f436a2165c","type":"message","text":"What is the `observe` field in `ModelingToolkit.ODESystem`? Can it be used to define observables/measurements (say I have ODEs that describe X1(t), X2(t) and Y(t), could I define X_total(t) = X1+X2?)? If so, how do I use the `observe` field of `ODESystem`?\nI tried for instance\n`ODESystem(eqs,t,[A,B],[k1,k2],[A])`\nBut that resulted in\n`ERROR: MethodError: no method matching ODESystem(::Array{Equation,1}, ::Num, ::Array{Num,1}, ::Array{Num,1}, ::Array{Num,1})`\nDo you have any suggestions?","user":"UQJA15XNF","ts":"1614263056.192900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+UHfz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the "},{"type":"text","text":"observe","style":{"code":true}},{"type":"text","text":" field in "},{"type":"text","text":"ModelingToolkit.ODESystem","style":{"code":true}},{"type":"text","text":"? Can it be used to define observables/measurements (say I have ODEs that describe X1(t), X2(t) and Y(t), could I define X_total(t) = X1+X2?)? If so, how do I use the "},{"type":"text","text":"observe","style":{"code":true}},{"type":"text","text":" field of "},{"type":"text","text":"ODESystem","style":{"code":true}},{"type":"text","text":"?\nI tried for instance\n"},{"type":"text","text":"ODESystem(eqs,t,[A,B],[k1,k2],[A])","style":{"code":true}},{"type":"text","text":"\nBut that resulted in\n"},{"type":"text","text":"ERROR: MethodError: no method matching ODESystem(::Array{Equation,1}, ::Num, ::Array{Num,1}, ::Array{Num,1}, ::Array{Num,1})","style":{"code":true}},{"type":"text","text":"\nDo you have any suggestions?"}]}]}]},{"client_msg_id":"4dc3267b-4c99-4c03-8491-67d1cd26c5f8","type":"message","text":"the user shouldn't interact with it directly.","user":"U69BL50BF","ts":"1614263237.193100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"stn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the user shouldn't interact with it directly."}]}]}]},{"client_msg_id":"1ad9822b-3d0b-4b31-a3e3-7be531d23d4e","type":"message","text":"it's used for storing explicit algebraic relationships that are removed via alias_elimination.","user":"U69BL50BF","ts":"1614263252.193500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2IYK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's used for storing explicit algebraic relationships that are removed via alias_elimination."}]}]}]},{"client_msg_id":"f5b0dc01-348d-47fc-9bb6-179f70bc6537","type":"message","text":"ok. thanks!","user":"UQJA15XNF","ts":"1614264290.193800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=aN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok. thanks!"}]}]}]},{"type":"message","subtype":"bot_message","text":"&gt; Both of those features require ModelingToolkit to parse the language  @ChrisRackauckas  Ok, thanks for the clarification. ","ts":"1614279988.195300","username":"[gitter] <sibyjackgrove>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"&gt; Both of those features require ModelingToolkit to parse the language\n\n@ChrisRackauckas  Ok, thanks for the clarification. ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I'd like to apply an external  input to an ODE system  continuously during some time interval [t_in1, t_in2], and the input depends on the Jacobian of the system at time t_in1, what's the most efficient way to do this?  Is DiscreteCallback the way to go? Thanks!","ts":"1614299233.195700","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"I'd like to apply an external  input to an ODE system  continuously during some time interval [t_in1, t_in2], and the input depends on the Jacobian of the system at time t_in1, what's the most efficient way to do this?  Is DiscreteCallback the way to go? Thanks!","verbatim":false}}]},{"client_msg_id":"5ef0d63c-b9fb-47ec-8272-36cf823a3ede","type":"message","text":"I think a nice example is given in <https://jonniedie.github.io/ComponentArrays.jl/stable/examples/adaptive_control/#Helper-Functions-1|ComponentArrays> . What you can do is define a function as an additional input to the ODE system and define a closure for simulation. I think a callback would be necessary to ensure you hit the right times t_in1 and 2.","user":"UNYPJU8DT","ts":"1614323019.200200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"di+8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think a nice example is given in "},{"type":"link","url":"https://jonniedie.github.io/ComponentArrays.jl/stable/examples/adaptive_control/#Helper-Functions-1","text":"ComponentArrays"},{"type":"text","text":" . What you can do is define a function as an additional input to the ODE system and define a closure for simulation. I think a callback would be necessary to ensure you hit the right times t_in1 and 2."}]}]}]},{"type":"message","subtype":"bot_message","text":"&gt;Julius Martensen &gt;I think a nice example is given in ComponentArrays . What you can do is define a function as an additional input to the ODE system and define a closure for simulation. I think a callback would be necessary to ensure you hit the right times t_in1 and 2.","ts":"1614330401.200300","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"&gt;Julius Martensen\n&gt;I think a nice example is given in ComponentArrays . What you can do is define a function as an additional input to the ODE system and define a closure for simulation. I think a callback would be necessary to ensure you hit the right times t_in1 and 2.","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"(the bridge is only going one way right now)","ts":"1614330409.200400","username":"[gitter] <ChrisRackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2017-10-18/257963008226_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0qko9kg27ifunek1uq0","text":{"type":"mrkdwn","text":"(the bridge is only going one way right now)","verbatim":false}}]},{"client_msg_id":"9ff71207-15d3-4301-a276-24cc626f6145","type":"message","text":"test","user":"U6A936746","ts":"1614334739.201700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p/8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"test"}]}]}]},{"type":"message","subtype":"bot_message","text":"test","ts":"1614334763.201800","username":"[zulip] <Lyndon White>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2020-09-07/1347188343314_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"test","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"Bridges is back and now is also connected to <https://julialang.zulipchat.com/#narrow/stream/279054-diffeq-bridged> in the chat topic.","ts":"1614334805.201900","username":"[zulip] <Lyndon White>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2020-09-07/1347188343314_48.png"},"bot_id":"B795XHD0X","attachments":[{"service_name":"Zulip","title":"JuliaLang","title_link":"https://julialang.zulipchat.com/#narrow/stream/279054-diffeq-bridged","text":"This is the Zulip server for the Julia programming language community. We ask anyone joining to adhere to the Julia Code of Conduct. | To learn more about Julia, check out <https://julialang.org/>, or just come ask us here! | You can reach out to the admins of this Zulip by sending a direct message to @zulip-admins.","fallback":"Zulip: JuliaLang","thumb_url":"https://zulip-avatars.s3.amazonaws.com/7178/realm/icon.png?version=6","from_url":"https://julialang.zulipchat.com/#narrow/stream/279054-diffeq-bridged","thumb_width":100,"thumb_height":100,"id":1,"original_url":"https://julialang.zulipchat.com/#narrow/stream/279054-diffeq-bridged"}],"blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"Bridges is back and now is also connected to <https://julialang.zulipchat.com/#narrow/stream/279054-diffeq-bridged>\nin the chat topic.","verbatim":false}}],"edited":{"user":"B795XHD0X","ts":"1614334806.000000"},"reactions":[{"name":"clapping","users":["UB197FRCL"],"count":1}]},{"type":"message","subtype":"bot_message","text":"amazing thanks!","ts":"1614334987.202300","username":"[zulip] <Christopher Rackauckas>","icons":{"image_48":"https://s3-us-west-2.amazonaws.com/slack-files2/bot_icons/2021-02-26/1798659616275_48.png"},"bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"amazing thanks!","verbatim":false}}]},{"client_msg_id":"4f07153d-4777-4a07-aca1-550479c6a3b4","type":"message","text":"<@UC6B1TT7B> <@U69BL50BF> this looks like a cool Catalyst application: <https://github.com/augustinas1/MomentClosure.jl>","user":"UFTJ2UDEW","ts":"1614346374.202900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kK0I","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UC6B1TT7B"},{"type":"text","text":" "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" this looks like a cool Catalyst application: "},{"type":"link","url":"https://github.com/augustinas1/MomentClosure.jl"}]}]}]},{"client_msg_id":"f595a098-ada5-475b-aba2-f766ea31b2f5","type":"message","text":"I just reached out to see if he has anything that would be helpful to have in Catalyst. For example, I see he's started on a new system type that represents reaction networks as a stoichiometry matrix and vector of rate functions. I've had adding conversion to such a representation on my TODO list for a little while, since I think it can be more useful for certain kinds of analysis (like network properties). It's probably something we should add to Catalyst/MT anyways.","user":"UFTJ2UDEW","ts":"1614346455.204500","team":"T68168MUP","edited":{"user":"UFTJ2UDEW","ts":"1614346668.000000"},"blocks":[{"type":"rich_text","block_id":"X9yY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just reached out to see if he has anything that would be helpful to have in Catalyst. For example, I see he's started on a new system type that represents reaction networks as a stoichiometry matrix and vector of rate functions. I've had adding conversion to such a representation on my TODO list for a little while, since I think it can be more useful for certain kinds of analysis (like network properties). It's probably something we should add to Catalyst/MT anyways."}]}]}]},{"client_msg_id":"8d44fd6f-3cfd-4ba0-b461-61071e4fda9a","type":"message","text":"<@UFTJ2UDEW> that is really freaking cool","user":"U69BL50BF","ts":"1614354051.205200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=uC=S","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UFTJ2UDEW"},{"type":"text","text":" that is really freaking cool"}]}]}]},{"client_msg_id":"625ecb28-5856-4aca-ae59-41a301d634a5","type":"message","text":"that's exactly the kind of stuff that I was hoping would be built when making it all a single principled symbolic ecosystem!","user":"U69BL50BF","ts":"1614354069.205700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=9k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's exactly the kind of stuff that I was hoping would be built when making it all a single principled symbolic ecosystem!"}]}]}]},{"client_msg_id":"3797652e-288e-492c-a0ee-78290c9f2453","type":"message","text":"Do you know if he'd be interested in upstreaming it? I would really like to see it more standard in Catalyst/MTK, but I understand if he wants to keep it separate (for a publication)","user":"U69BL50BF","ts":"1614354125.206500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nJI3K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you know if he'd be interested in upstreaming it? I would really like to see it more standard in Catalyst/MTK, but I understand if he wants to keep it separate (for a publication)"}]}]}]},{"client_msg_id":"5bd1ec4a-db77-407a-9471-b10a1bf3eb9e","type":"message","text":"I'd want to make sure this is maintained though because it's definitely super cool.","user":"U69BL50BF","ts":"1614354141.206900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dGcz7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd want to make sure this is maintained though because it's definitely super cool."}]}]}]},{"client_msg_id":"d2bf7314-5269-4091-8dd1-8b69456f378a","type":"message","text":"I emailed about if there is anything we could do in Catalyst to help out, for example he adds an (incomplete) AbstractSystem that is based on storing a vector of rate law expressions and a stoichiometry matrix. Having such representations in Catalyst is something that has been on my radar, since they are the starting point I think for many graph-based analysis of system properties.\n\nMerging into Catalyst though would be great. I'll see what he says in response.","user":"UFTJ2UDEW","ts":"1614356018.210300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YmGoE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I emailed about if there is anything we could do in Catalyst to help out, for example he adds an (incomplete) AbstractSystem that is based on storing a vector of rate law expressions and a stoichiometry matrix. Having such representations in Catalyst is something that has been on my radar, since they are the starting point I think for many graph-based analysis of system properties.\n\nMerging into Catalyst though would be great. I'll see what he says in response."}]}]}]},{"client_msg_id":"e78c393b-f0bf-415b-9566-7d97384c1d43","type":"message","text":"<@UFTJ2UDEW> <@U69BL50BF> Is there anything particular in the methods behind MomentClosure that is tying it to Catalyst? Do they apply to general systems?","user":"UP95S4864","ts":"1614358990.211300","team":"T68168MUP","edited":{"user":"UP95S4864","ts":"1614359017.000000"},"blocks":[{"type":"rich_text","block_id":"KX4K=","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UFTJ2UDEW"},{"type":"text","text":" "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Is there anything particular in the methods behind MomentClosure that is tying it to Catalyst? Do they apply to general systems?"}]}]}]},{"client_msg_id":"9be8fc0d-851d-4255-a116-800bf1145d5b","type":"message","text":"There is a way to exploit the variance structure for some of the closure methods","user":"U69BL50BF","ts":"1614359121.211800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jcYW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is a way to exploit the variance structure for some of the closure methods"}]}]}]},{"client_msg_id":"f7b6b89a-f586-45b8-b937-203e5b98dd59","type":"message","text":"but not all of them","user":"U69BL50BF","ts":"1614359124.212000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S0au","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but not all of them"}]}]}]},{"client_msg_id":"571ef4cc-96b3-497e-849e-62354ddba585","type":"message","text":"some of them could be adapted to apply to SDESystems","user":"U69BL50BF","ts":"1614359131.212300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o5VIV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"some of them could be adapted to apply to SDESystems"}]}]}]},{"client_msg_id":"8bba8410-f5c2-4d42-b536-3caedb8737ad","type":"message","text":"and I just asked about that.","user":"U69BL50BF","ts":"1614359136.212500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FN9e","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and I just asked about that."}]}]}]},{"client_msg_id":"4584998f-128f-4ab8-9cf3-e49a59c65815","type":"message","text":"Nice","user":"UP95S4864","ts":"1614359871.212700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P48","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice"}]}]}]},{"client_msg_id":"2b8ea038-55fc-4f2e-ae38-3565cf965b98","type":"message","text":"ahh what replaced `@reaction_func` in up-to-date Catalyst?! The docs are not clear to me with only a michaelis menton example","user":"ULX1C7GFP","ts":"1614379653.214400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TxlHN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ahh what replaced "},{"type":"text","text":"@reaction_func","style":{"code":true}},{"type":"text","text":" in up-to-date Catalyst?! The docs are not clear to me with only a michaelis menton example"}]}]}]},{"client_msg_id":"a4cfd697-929b-46a9-9836-77cb690b5158","type":"message","text":"<@ULX1C7GFP> it should just not be necessary anymore","user":"U69BL50BF","ts":"1614380300.214700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6U7","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"ULX1C7GFP"},{"type":"text","text":" it should just not be necessary anymore"}]}]}]},{"client_msg_id":"ce88ea41-b24d-4b96-9c6e-4625cc524137","type":"message","text":"if you just stick your function in there it should just work","user":"U69BL50BF","ts":"1614380309.215000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wIh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you just stick your function in there it should just work"}]}]}]},{"client_msg_id":"f1e0b1f9-b31d-4935-a184-afba990c65bb","type":"message","text":"aha got it","user":"ULX1C7GFP","ts":"1614381225.215300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WzUg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"aha got it"}]}]}]},{"client_msg_id":"48d5ac4c-6001-41e3-afc9-ef89896bb3af","type":"message","text":"makes the model defs by reaction simpler, nice!","user":"ULX1C7GFP","ts":"1614381504.215900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Zi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"makes the model defs by reaction simpler, nice!"}]}]}]},{"client_msg_id":"0855549a-6471-4b49-8718-1b049c5456da","type":"message","text":"yes","user":"U69BL50BF","ts":"1614381636.216100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RfP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"cf796f30-71b8-4011-a00b-10eab68d5a61","type":"message","text":"<https://github.com/paulflang/SbmlInterface.jl>","user":"U69BL50BF","ts":"1614383435.216300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C4Wm","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/paulflang/SbmlInterface.jl"}]}]}]},{"type":"message","subtype":"bot_message","text":"Hi, what's the correct way to integrate an ODEproblem for a time  interval [t1, t2], then use the same ODEproblem with all the internal states intact and integrate it the interval [t2,t3]? ","ts":"1614479285.216900","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"Hi, what's the correct way to integrate an ODEproblem for a time  interval [t1, t2], then use the same ODEproblem with all the internal states intact and integrate it the interval [t2,t3]? ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","ts":"1614479324.217000","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"there are no discontinuities introduces, and for a callback doesn't seem to be what I want","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"An example case: ","ts":"1614479419.217100","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"An example case: ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","ts":"1614479506.217200","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I integrate the ODE from t1 to t2, and at t=t2, I change a parameter p_old to p_new, and integrate from t2 to t2+delta, then change the parameter back to p_old and integrate from t2+delta till t3","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","ts":"1614479546.217300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"the value p_new depends on the system state u at t2, and I need to store both p_new and u(t2) for later use","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","ts":"1614479790.217400","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"and I need to repeat such a procedure a few times. In the subsequent interval the value of p_new may depend on the previous p_new and u(t2) ","verbatim":false}}]},{"type":"message","subtype":"bot_message","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","ts":"1614479880.217500","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"I'm not sure how to use callbacks for something like this, but it should be straightforward if I can just integrate the ODE problem in blocks which making the changes in between","verbatim":false}}]},{"client_msg_id":"36c1eec4-3bf4-4a02-ac71-0986376798fd","type":"message","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such","user":"U69BL50BF","ts":"1614482308.218000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r5Y9L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@kamesh-kirshnamurthy just use the integrator interface and set tstops and such"}]}]}]},{"client_msg_id":"6e81306d-b86d-4eaa-9748-9f686ba428ca","type":"message","text":"<https://diffeq.sciml.ai/stable/basics/integrator/>","user":"U69BL50BF","ts":"1614482316.218200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7xWZ","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://diffeq.sciml.ai/stable/basics/integrator/"}]}]}]},{"client_msg_id":"993fc6a8-30b4-4962-98d2-ef0d23d89c13","type":"message","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl <https://mtk.sciml.ai/dev/tutorials/acausal_components/>","user":"U69BL50BF","ts":"1614515029.218600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Check out the new acausal modeling tutorial in ModelingToolkit.jl "},{"type":"link","url":"https://mtk.sciml.ai/dev/tutorials/acausal_components/"}]}]}]},{"client_msg_id":"5f9e9b5d-6951-4119-acd7-0d67496623ea","type":"message","text":"<@U7ZNTQFLH>","user":"U69BL50BF","ts":"1614515047.218900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4zu","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7ZNTQFLH"}]}]}]},{"type":"message","subtype":"bot_message","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","ts":"1614523704.224300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"@ChrisRackauckas  when using the Integrator interface to integrate over different intervals, I also want to save the u and t values (at a dt spacing) during the integration in the Integrator.sol field","verbatim":false}}]},{"client_msg_id":"5ff94eed-87ce-4c35-96f9-d66dae229035","type":"message","text":"Then use `savevalues!`","user":"U69BL50BF","ts":"1614523725.224700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T9FQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"Is push!(Integrator.sol.u, u_new) safe?","ts":"1614523735.224800","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"Is push!(Integrator.sol.u, u_new) safe?","verbatim":false}}]},{"client_msg_id":"fbaf7593-e4a9-4baf-9675-872e8ebf3161","type":"message","text":"no","user":"U69BL50BF","ts":"1614523766.225600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0GqVw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"d4f42552-c67a-49a7-b1bc-3d9f82c0223b","type":"message","text":"just use `savevalues!`","user":"U69BL50BF","ts":"1614523776.226100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Eu0+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just use "},{"type":"text","text":"savevalues!","style":{"code":true}}]}]}]},{"type":"message","subtype":"bot_message","text":"ok, thanks!","ts":"1614523784.226300","username":"[gitter] <kamesh-krishnamurthy>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c0sclusg27i9gphbsj70","text":{"type":"mrkdwn","text":"ok, thanks!","verbatim":false}}]},{"client_msg_id":"033351be-4aaa-49e8-abea-f49d9db3a35a","type":"message","text":"Hey folks, I was trying to use `Parameters.jl`  to define a struct with default values for my model. But I am hitting that `recursive_unitless_eltype` error on the struct. Is this where I should be using `ComponentArrays` instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?","user":"UDDSTBX19","ts":"1614532179.230500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cZ6A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey folks, I was trying to use "},{"type":"text","text":"Parameters.jl","style":{"code":true}},{"type":"text","text":"  to define a struct with default values for my model. But I am hitting that "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":" error on the struct. Is this where I should be using "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" instead of a struct? Can I define initial values with ComponentArrays or is there a recommended way to define a struct with initial values--as opposed to having some long constructor?"}]}]}]},{"client_msg_id":"0405193c-7e2d-41dc-83ef-f0c8fbe4a03c","type":"message","text":"Hey <@U69BL50BF> <@U01H36BUDJB> So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the `DiscreteProblem` is having an issue with this `recursive_unitless_eltype`. Here is some janky minimal code running on julia 1.5.3.\n\n```using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)```\nAnd then the error is:\n```ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)```\n","user":"UDDSTBX19","ts":"1614550432.233700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gdw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hey "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" So I tried this out, and am actually able to recreate the issue. Let me know if I should post an issue to github or not. Seems like the "},{"type":"text","text":"DiscreteProblem","style":{"code":true}},{"type":"text","text":" is having an issue with this "},{"type":"text","text":"recursive_unitless_eltype","style":{"code":true}},{"type":"text","text":". Here is some janky minimal code running on julia 1.5.3.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using DifferentialEquations, Parameters\n\n@with_kw struct MyStruct\n           a::Float64 = 1.0\n           b::Float64 = 2.0\n       end\n\n@with_kw struct MyInitial\n           n1::Float64 = 1.0\n           n2::Float64 = 2.0\n       end\n\nfunction simple_growth!(du, u0::MyInitial, p::MyStruct, t)\n    du[1] = p.a*(u0.n1)\n\tdu\nend\n\nu0 = MyInitial()\nparams = MyStruct()\ntspan = (0, 20)\ndprob = DiscreteProblem(simple_growth!, u0, tspan, params)\n\nsolve(dprob)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nAnd then the error is:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: StackOverflowError:\nStacktrace:\n [1] recursive_unitless_bottom_eltype(::Type{Any}) at /home/krishnab/.julia/packages/RecursiveArrayTools/69f7F/src/utils.jl:86 (repeats 79984 times)"}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"4f8306d0-3173-483c-8812-f104b0978f39","type":"message","text":"yeah that state vector isn't going to work","user":"U69BL50BF","ts":"1614551305.234100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RDh9f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that state vector isn't going to work"}]}]}]},{"client_msg_id":"c0083537-6c2f-4404-a1ba-59d527c17002","type":"message","text":"why not make it a FieldVector?","user":"U69BL50BF","ts":"1614551311.234300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gTup","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why not make it a FieldVector?"}]}]}]},{"client_msg_id":"125bd9a8-6e8d-4b23-8a0e-c403525256a6","type":"message","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about `FieldVector` , haven't tried it, but `CompnentArrays` works wonderfully for this purpose, as long as everything is the same type.","user":"U01H36BUDJB","ts":"1614551458.235300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OoUD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I didn't realize you were trying to use a struct as the state vector. I don't know about "},{"type":"text","text":"FieldVector","style":{"code":true}},{"type":"text","text":" , haven't tried it, but "},{"type":"text","text":"CompnentArrays","style":{"code":true}},{"type":"text","text":" works wonderfully for this purpose, as long as everything is the same type."}]}]}]},{"client_msg_id":"66754403-46ce-4916-ba5c-fdc10875554e","type":"message","text":"yeah `ComponentArrays` would work too","user":"U69BL50BF","ts":"1614551482.235900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pMOAg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" would work too"}]}]}]},{"client_msg_id":"385f4011-fcf7-49c8-80fe-b0df1e079cf2","type":"message","text":"And there's also `DEDataVector` if you have extra non-state data.","user":"U01H36BUDJB","ts":"1614551485.236100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CEpH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And there's also "},{"type":"text","text":"DEDataVector","style":{"code":true}},{"type":"text","text":" if you have extra non-state data."}]}]}]},{"client_msg_id":"8d423ec5-86b2-41ee-b642-63ee7c6f9c4e","type":"message","text":"basically, you should make that some kind of AbstractArray-like thing.","user":"U69BL50BF","ts":"1614551495.236400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"17Zr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"basically, you should make that some kind of AbstractArray-like thing."}]}]}],"reactions":[{"name":"+1","users":["U01H36BUDJB"],"count":1}]},{"client_msg_id":"bc7bd77f-2649-4163-b59f-5aff5fd8cdfe","type":"message","text":"<@U69BL50BF> <@U01H36BUDJB> Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both `FieldVectors` and `ComponentArrays` for this. Excellent, now I know what to do. Thanks again guys.","user":"UDDSTBX19","ts":"1614551799.238500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jXvWn","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" "},{"type":"user","user_id":"U01H36BUDJB"},{"type":"text","text":" Okay, excellent. Thank you guys so much. So by state vector you mean the initial values here. I get you. Yes, I can look at both "},{"type":"text","text":"FieldVectors","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"ComponentArrays","style":{"code":true}},{"type":"text","text":" for this. Excellent, now I know what to do. Thanks again guys."}]}]}]},{"client_msg_id":"15f07a52-d628-4926-9677-e2dcb2591960","type":"message","text":"FieldVector is in StaticArrays.jl","user":"U69BL50BF","ts":"1614551879.238700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"one+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FieldVector is in StaticArrays.jl"}]}]}],"reactions":[{"name":"+1","users":["UDDSTBX19"],"count":1}]},{"client_msg_id":"fe46f016-d398-4199-8aad-a0ef0c3962c9","type":"message","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?","user":"U73KWSUGN","ts":"1614556590.239100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U6G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm just playing around with MTK and trying to work out whether it's appropriate for a particular use case of mine. I want to define a hybrid dynamical system where I have an ODESystem embedded within a BVP such that the end points become variables that can be used as part of other functions (think of a simple bouncing ball problem where the velocities before/after a bounce are related). Is this sort of thing easily doable or a bigger project?"}]}]}]},{"client_msg_id":"400ee0e3-b9f4-4c7b-a9e0-fb71aa54cef7","type":"message","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!","user":"U73KWSUGN","ts":"1614556613.239300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B=Li1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way) but the above seems like a good place to start. Thanks!"}]}]}]},{"client_msg_id":"8d73590c-882c-4659-9f0a-cb084e946472","type":"message","text":"&gt; Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)\nCan you write that as a DAE?","user":"U69BL50BF","ts":"1614556945.239700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8T","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"Ultimately I want to solve problems involving arbitrary constraints on my dynamics (e.g. fix the amplitude of a limit cycle in a certain way)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Can you write that as a DAE?"}]}]}]},{"client_msg_id":"cea7d815-4bfe-4490-9661-d7a4f3da258c","type":"message","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations.","user":"U73KWSUGN","ts":"1614557176.242200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xA//","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Possibly, though I'd normal think along the lines of transforming the ODE to a nonlinear system (BVP for the limit cycle) and then adding further nonlinear algebraic equations."}]}]}]},{"client_msg_id":"d803cc73-eae4-4f1f-842f-b06455e1fb73","type":"message","text":"oh that would be interesting to do, yes","user":"U69BL50BF","ts":"1614557211.242400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh that would be interesting to do, yes"}]}]}]},{"client_msg_id":"9f08defb-8699-49e4-8dc1-6f3bcab0a480","type":"message","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage.","user":"U73KWSUGN","ts":"1614557809.246500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vA3A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it possible to create a nonlinear system almost as a black box so that MTK doesn't try to do anything with it (not sure how the internals work yet)? Some of the discretisations would be big and already pretty optimal in form and so playing around with them algebraically wouldn't give much advantage."}]}]}]},{"client_msg_id":"d1bd99a4-e89f-42aa-a604-8e0fcf97f7c4","type":"message","text":"you can register some functions and stuff like that","user":"U69BL50BF","ts":"1614558243.246900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bTJg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you can register some functions and stuff like that"}]}]}]},{"client_msg_id":"0842b3ff-03da-4750-8a0c-f21dd0ff92d1","type":"message","text":"but if it can't simplify then it would just ignore that portion","user":"U69BL50BF","ts":"1614558253.247200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wQj+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but if it can't simplify then it would just ignore that portion"}]}]}]},{"client_msg_id":"70ece056-3f06-44b5-956f-71063a497cc0","type":"message","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand.","user":"U69BL50BF","ts":"1614558286.247900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wJq+p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did you already do tearing by hand or something? Pulling out the strongly connected components and solving it in blocks is still usually something someone does by hand."}]}]}]}]}