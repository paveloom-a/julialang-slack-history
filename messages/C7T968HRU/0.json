{"cursor": 3, "messages": [{"client_msg_id":"0912c196-c298-41c0-b29b-1a3f6253d787","type":"message","text":"```using Plots\nusing DifferentialEquations\n\nconst temp = zeros(10000)\nconst p = zeros(10000)\nfunction new_odefcn!(dpdt,_p,whatsthis,t)\n   n  = 10000\n   nk = 700\n   k1 = 0.6\n   k2 = 26000\n   alpha = 9000\n   m = 6\n   l = 6\n   a = 1\n   b = 2\n   c_Zr = 0.0144\n   c_B  = 0.0163\n   Na = 6.02214e23\n   invna = 1/Na\n   all_i = 1:n\n   p .= ifelse.(_p .&lt; invna,0.0,_p)\n\n   @inbounds for i = 1:nk\n       for j = i:n\n           if j == i\n               if i == 1\n                   for ii = 1:n\n                       temp[ii] = all_i[ii]*p[ii]\n                   end\n                   total_p1 = sum(temp)\n                   M = c_Zr - (total_p1*m)\n                   L = c_B - (total_p1*l)\n                   if total_p1 &gt; 0\n                       k1 = k1*alpha*total_p1\n                   end\n                   dpdt[j] = dpdt[j] + (k1*(M^a)*(L^b))\n               end\n               dpdt[j] = dpdt[j] - (k2*p[i]*sum(@view(p[i:n-i])))\n           elseif (j&lt;(i+i)) &amp;&amp; (j!=i)\n               dpdt[j] = dpdt[j] - (k2*p[i]*p[j])\n           elseif j &gt;= (i+i)\n               if j+i &lt;= n\n                   dpdt[j] = dpdt[j] - (k2*p[i]*(p[j] - p[j-i]))\n               elseif j+i &gt; n\n                   dpdt[j] = dpdt[j] + (k2*p[i]*p[j-i])\n               end\n           end\n       end\n   end\nend\n\nisoutofdomain(u,t,integrator) = any(x-&gt;x&lt;0,u)\np_i     = zeros(10000)\ntspan = (0.0, 2500.0)\nprob = ODEProblem(new_odefcn!,p_i,tspan)\n@time sol = solve(prob,Tsit5(),abstol=1e-8)\nplot(sol,vars=(1))```","user":"U69BL50BF","ts":"1609552522.164200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OEZO3","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Plots\nusing DifferentialEquations\n\nconst temp = zeros(10000)\nconst p = zeros(10000)\nfunction new_odefcn!(dpdt,_p,whatsthis,t)\n   n  = 10000\n   nk = 700\n   k1 = 0.6\n   k2 = 26000\n   alpha = 9000\n   m = 6\n   l = 6\n   a = 1\n   b = 2\n   c_Zr = 0.0144\n   c_B  = 0.0163\n   Na = 6.02214e23\n   invna = 1/Na\n   all_i = 1:n\n   p .= ifelse.(_p .< invna,0.0,_p)\n\n   @inbounds for i = 1:nk\n       for j = i:n\n           if j == i\n               if i == 1\n                   for ii = 1:n\n                       temp[ii] = all_i[ii]*p[ii]\n                   end\n                   total_p1 = sum(temp)\n                   M = c_Zr - (total_p1*m)\n                   L = c_B - (total_p1*l)\n                   if total_p1 > 0\n                       k1 = k1*alpha*total_p1\n                   end\n                   dpdt[j] = dpdt[j] + (k1*(M^a)*(L^b))\n               end\n               dpdt[j] = dpdt[j] - (k2*p[i]*sum(@view(p[i:n-i])))\n           elseif (j<(i+i)) && (j!=i)\n               dpdt[j] = dpdt[j] - (k2*p[i]*p[j])\n           elseif j >= (i+i)\n               if j+i <= n\n                   dpdt[j] = dpdt[j] - (k2*p[i]*(p[j] - p[j-i]))\n               elseif j+i > n\n                   dpdt[j] = dpdt[j] + (k2*p[i]*p[j-i])\n               end\n           end\n       end\n   end\nend\n\nisoutofdomain(u,t,integrator) = any(x->x<0,u)\np_i     = zeros(10000)\ntspan = (0.0, 2500.0)\nprob = ODEProblem(new_odefcn!,p_i,tspan)\n@time sol = solve(prob,Tsit5(),abstol=1e-8)\nplot(sol,vars=(1))"}]}]}]},{"client_msg_id":"eae15b86-83ca-4a06-b9bc-cb9a1807297b","type":"message","text":"Note that","user":"U69BL50BF","ts":"1609552531.164400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iss","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note that"}]}]}]},{"client_msg_id":"e6de1b60-42e7-4bde-a83e-d112b011969a","type":"message","text":"```p .= ifelse.(_p .&lt; invna,0.0,_p)```","user":"U69BL50BF","ts":"1609552533.164700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g3bx5","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"p .= ifelse.(_p .< invna,0.0,_p)"}]}]}]},{"client_msg_id":"a6c0b55f-33f1-4b0b-a7b2-021361fd40cc","type":"message","text":"is just a shorthand for","user":"U69BL50BF","ts":"1609552538.164900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2q0u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is just a shorthand for"}]}]}]},{"client_msg_id":"619d16be-0a70-457c-80e5-fcba2c4f3210","type":"message","text":"```   for jj = 1:n\n      if _p[jj] &lt; invna\n         p[jj] = 0.0\n     else\n         p[jj] = _p[jj]\n     end\n   end```","user":"U69BL50BF","ts":"1609552547.165200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b8nU","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"   for jj = 1:n\n      if _p[jj] < invna\n         p[jj] = 0.0\n     else\n         p[jj] = _p[jj]\n     end\n   end"}]}]}]},{"client_msg_id":"662e9d6f-1ac8-4888-8e53-f38b2910f596","type":"message","text":"In general you should probably broadcast a few more expressions to make it more legible, but it's not a performance optimization so it makes little difference.","user":"U69BL50BF","ts":"1609552567.165700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kgbo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In general you should probably broadcast a few more expressions to make it more legible, but it's not a performance optimization so it makes little difference."}]}]}]},{"type":"message","text":"@Anish-Dighe\n```using Plots\nusing DifferentialEquations, Sundials\n\nconst temp = zeros(10000)\nconst p = zeros(10000)\nfunction new_odefcn!(dpdt,_p,whatsthis,t)\n   @show t\n   n  = 10000\n   nk = 700\n   k1 = 0.6\n   k2 = 26000\n   alpha = 9000\n   m = 6\n   l = 6\n   a = 1\n   b = 2\n   c_Zr = 0.0144\n   c_B  = 0.0163\n   Na = 6.02214e23\n   invna = 1/Na\n   all_i = 1:n\n   p .= ifelse.(_p .&lt; invna,0.0,_p)\n   temp .= 0\n\n   @inbounds for i = 1:nk\n       for j = i:n\n           if j == i\n               if i == 1\n                   for ii = 1:n\n                       temp[ii] = all_i[ii]*p[ii]\n                   end\n                   total_p1 = sum(temp)\n                   M = c_Zr - (total_p1*m)\n                   L = c_B - (total_p1*l)\n                   if total_p1 &gt; 0\n                       k1 = k1*alpha*total_p1\n                   end\n                   dpdt[j] = dpdt[j] + (k1*(M^a)*(L^b))\n               end\n               dpdt[j] = dpdt[j] - (k2*p[i]*sum(@view(p[i:n-i])))\n           elseif (j&lt;(i+i)) &amp;&amp; (j!=i)\n               dpdt[j] = dpdt[j] - (k2*p[i]*p[j])\n           elseif j &gt;= (i+i)\n               if j+i &lt;= n\n                   dpdt[j] = dpdt[j] - (k2*p[i]*(p[j] - p[j-i]))\n               elseif j+i &gt; n\n                   dpdt[j] = dpdt[j] + (k2*p[i]*p[j-i])\n               end\n           end\n       end\n   end\nend\n\np_i     = zeros(10000)\ntspan = (0.0, 2500.0)\nprob = ODEProblem(new_odefcn!,p_i,tspan)\n@time sol = solve(prob,CVODE_Adams())\nplot(sol,vars=1)\nsavefig(\"plot.png\")```\n","files":[{"id":"F01JKLLV5FS","created":1609554121,"timestamp":1609554121,"name":"plot.png","title":"plot.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U69BL50BF","editable":false,"size":15132,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JKLLV5FS/plot.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JKLLV5FS/download/plot.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01JKLLV5FS-2aaca5a789/plot_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01JKLLV5FS-2aaca5a789/plot_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01JKLLV5FS-2aaca5a789/plot_360.png","thumb_360_w":360,"thumb_360_h":240,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01JKLLV5FS-2aaca5a789/plot_480.png","thumb_480_w":480,"thumb_480_h":320,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01JKLLV5FS-2aaca5a789/plot_160.png","original_w":600,"original_h":400,"thumb_tiny":"AwAgADDS5zS0nfrS0AFFFFAAaQZz14paKAE79KWkOc8Uc+lAC0Uhz6UZPpQAtFIc+maDn0oA/9k=","permalink":"https://julialang.slack.com/files/U69BL50BF/F01JKLLV5FS/plot.png","permalink_public":"https://slack-files.com/T68168MUP-F01JKLLV5FS-67e18acc2a","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"tcNc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@Anish-Dighe\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Plots\nusing DifferentialEquations, Sundials\n\nconst temp = zeros(10000)\nconst p = zeros(10000)\nfunction new_odefcn!(dpdt,_p,whatsthis,t)\n   @show t\n   n  = 10000\n   nk = 700\n   k1 = 0.6\n   k2 = 26000\n   alpha = 9000\n   m = 6\n   l = 6\n   a = 1\n   b = 2\n   c_Zr = 0.0144\n   c_B  = 0.0163\n   Na = 6.02214e23\n   invna = 1/Na\n   all_i = 1:n\n   p .= ifelse.(_p .< invna,0.0,_p)\n   temp .= 0\n\n   @inbounds for i = 1:nk\n       for j = i:n\n           if j == i\n               if i == 1\n                   for ii = 1:n\n                       temp[ii] = all_i[ii]*p[ii]\n                   end\n                   total_p1 = sum(temp)\n                   M = c_Zr - (total_p1*m)\n                   L = c_B - (total_p1*l)\n                   if total_p1 > 0\n                       k1 = k1*alpha*total_p1\n                   end\n                   dpdt[j] = dpdt[j] + (k1*(M^a)*(L^b))\n               end\n               dpdt[j] = dpdt[j] - (k2*p[i]*sum(@view(p[i:n-i])))\n           elseif (j<(i+i)) && (j!=i)\n               dpdt[j] = dpdt[j] - (k2*p[i]*p[j])\n           elseif j >= (i+i)\n               if j+i <= n\n                   dpdt[j] = dpdt[j] - (k2*p[i]*(p[j] - p[j-i]))\n               elseif j+i > n\n                   dpdt[j] = dpdt[j] + (k2*p[i]*p[j-i])\n               end\n           end\n       end\n   end\nend\n\np_i     = zeros(10000)\ntspan = (0.0, 2500.0)\nprob = ODEProblem(new_odefcn!,p_i,tspan)\n@time sol = solve(prob,CVODE_Adams())\nplot(sol,vars=1)\nsavefig(\"plot.png\")"}]},{"type":"rich_text_section","elements":[]}]}],"user":"U69BL50BF","display_as_bot":false,"ts":"1609554123.166400"},{"client_msg_id":"e5e5b10d-40c2-4fe5-8e34-d63a84baedcc","type":"message","text":"seems to be okay","user":"U69BL50BF","ts":"1609554128.166800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UML","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"seems to be okay"}]}]}]},{"client_msg_id":"816826c6-7011-48aa-8474-b757c0f22618","type":"message","text":"it's a weird model though.","user":"U69BL50BF","ts":"1609554136.167000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UWvT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's a weird model though."}]}]}]},{"client_msg_id":"5203e4e7-8666-4b2e-8998-2555c21f86b5","type":"message","text":"The behavior with all of the fixes is still not very well-defined near zero. For one, there is no purely positive solution. 9 of the terms you can easily show need to be negative for any very small t&gt;0","user":"U69BL50BF","ts":"1609554177.167900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t6o7f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The behavior with all of the fixes is still not very well-defined near zero. For one, there is no purely positive solution. 9 of the terms you can easily show need to be negative for any very small t>0"}]}]}]},{"client_msg_id":"036e8970-935c-4b9d-bf4e-fef6dd955f8b","type":"message","text":"so forcing positivity is going to fail","user":"U69BL50BF","ts":"1609554185.168200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wB7BO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so forcing positivity is going to fail"}]}]}]},{"client_msg_id":"e762f3de-4969-4166-893c-a9fab5395c4c","type":"message","text":"MATLAB forces positivity up to absolute tolerance (<https://www.radford.edu/~thompson/RP/nonnegative.pdf>), i.e. `&gt;-1e-6` by default","user":"U69BL50BF","ts":"1609554227.168800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=mC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MATLAB forces positivity up to absolute tolerance ("},{"type":"link","url":"https://www.radford.edu/~thompson/RP/nonnegative.pdf"},{"type":"text","text":"), i.e. "},{"type":"text","text":">-1e-6","style":{"code":true}},{"type":"text","text":" by default"}]}]}]},{"client_msg_id":"f1ef20dd-02a1-40fc-ade1-3423c2f4d6dd","type":"message","text":"which is why trying to tell it to be truly non-negative will fail","user":"U69BL50BF","ts":"1609554240.169200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3X3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is why trying to tell it to be truly non-negative will fail"}]}]}]},{"client_msg_id":"edcc1728-1453-46e7-81bf-f67875019010","type":"message","text":"trying to compute a very accurate solution is extremely hard because","user":"U69BL50BF","ts":"1609554258.169500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NLSe5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"trying to compute a very accurate solution is extremely hard because"}]}]}]},{"client_msg_id":"70ed372a-3f59-472d-b019-9bc812cc6cdf","type":"message","text":"```if total_p1 &gt; 0\n                       k1 = k1*alpha*total_p1\n                   end```","user":"U69BL50BF","ts":"1609554260.169800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Er++","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"if total_p1 > 0\n                       k1 = k1*alpha*total_p1\n                   end"}]}]}]},{"client_msg_id":"2873abf5-6025-4f94-b029-8525015e47db","type":"message","text":"that conditional makes the equation discontinuous in the derivative 10,000 times over as the terms start to grow","user":"U69BL50BF","ts":"1609554276.170300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d4b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that conditional makes the equation discontinuous in the derivative 10,000 times over as the terms start to grow"}]}]}]},{"client_msg_id":"95f0fa5c-155b-4a66-9d66-5f582e09e12b","type":"message","text":"and you have `p .= ifelse.(_p .&lt; invna,0.0,_p)` 10,000 points of discontinuity from that","user":"U69BL50BF","ts":"1609554301.170600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hOPC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and you have "},{"type":"text","text":"p .= ifelse.(_p .< invna,0.0,_p)","style":{"code":true}},{"type":"text","text":" 10,000 points of discontinuity from that"}]}]}]},{"client_msg_id":"19347b8e-713b-4db1-872e-cafed38ec439","type":"message","text":"so early in the equation you have 20,000 points where your derivative function is discontinuous, so asking it for a very accurate solution from any solver (including the C++ and Fortran ones, checked cross language) is... a tenuous task at best","user":"U69BL50BF","ts":"1609554350.171600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SjZ7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so early in the equation you have 20,000 points where your derivative function is discontinuous, so asking it for a very accurate solution from any solver (including the C++ and Fortran ones, checked cross language) is... a tenuous task at best"}]}]}]},{"client_msg_id":"894a56f1-a730-4b8f-bc7d-7ddeee3bb047","type":"message","text":"But if you use a coarse accuracy on a method that smooths, then it does fine.","user":"U69BL50BF","ts":"1609554373.172300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t51","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But if you use a coarse accuracy on a method that smooths, then it does fine."}]}]}]},{"client_msg_id":"1ce5cac8-dac1-4d32-b496-b9f4c516c655","type":"message","text":"I'd still try to fix the model though since that's... a bonkers model :rolling_on_the_floor_laughing: 20,000 discontinuities in a span of (0,30) is a little insane.","user":"U69BL50BF","ts":"1609554414.173200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oPZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd still try to fix the model though since that's... a bonkers model "},{"type":"emoji","name":"rolling_on_the_floor_laughing"},{"type":"text","text":" 20,000 discontinuities in a span of (0,30) is a little insane."}]}]}]},{"client_msg_id":"31de8bfc-ff99-4ba9-8826-3006abda109a","type":"message","text":"solve time","user":"U69BL50BF","ts":"1609554521.173500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bbks7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"solve time"}]}]}]},{"client_msg_id":"c98747f6-3314-422c-93d5-3c5f1f315e0a","type":"message","text":"```0.325528 seconds (635 allocations: 3.234 MiB)```","user":"U69BL50BF","ts":"1609554522.173700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wNkj","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"0.325528 seconds (635 allocations: 3.234 MiB)"}]}]}]},{"client_msg_id":"0d6ca8b5-8437-4bfb-91dd-16d3679e49a2","type":"message","text":"&gt; when you do the event the derivative on that term should still be almost zero at the time of the event. Is that the case? You can grab the value at the event and evaluate `f` to check it. If that's non-zero that's your hint as to what the issue is.","user":"ULZQ4DCSU","ts":"1609561116.174200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o/ZoU","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"when you do the event the derivative on that term should still be almost zero at the time of the event. Is that the case? You can grab the value at the event and evaluate "},{"type":"text","text":"f","style":{"code":true}},{"type":"text","text":" to check it. If that's non-zero that's your hint as to what the issue is."}]}]}]},{"client_msg_id":"0739cc4e-154a-4fe0-baea-8909c1d3511d","type":"message","text":"do you I have to do the `SavingCallback` stuff to do this?","user":"ULZQ4DCSU","ts":"1609561145.174800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ipQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"do you I have to do the "},{"type":"text","text":"SavingCallback","style":{"code":true}},{"type":"text","text":" stuff to do this?"}]}]}]},{"client_msg_id":"88ff3098-0578-417b-84b1-410c30b3a86a","type":"message","text":"no","user":"U69BL50BF","ts":"1609561598.175000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zaxa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"1ca200fc-30c8-4d89-ae2c-c0d36ed20890","type":"message","text":"you shouldn't use that here.","user":"U69BL50BF","ts":"1609561602.175200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rRgB0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you shouldn't use that here."}]}]}]},{"client_msg_id":"c725f2c1-0667-4b95-ab0a-9aabfc041327","type":"message","text":"how do I obtain the derivative then?","user":"ULZQ4DCSU","ts":"1609562665.175800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4N1ro","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how do I obtain the derivative then?"}]}]}]},{"client_msg_id":"cf265ce4-247d-4beb-8732-063967dd8ef3","type":"message","text":"get_du?","user":"ULZQ4DCSU","ts":"1609562742.176000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FEl0i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"get_du?"}]}]}]},{"client_msg_id":"c64758c8-2559-4713-bcd3-6c613d918aa4","type":"message","text":"or just `sol(t,Val{1})`","user":"U69BL50BF","ts":"1609563157.176300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zlb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or just "},{"type":"text","text":"sol(t,Val{1})","style":{"code":true}}]}]}]},{"client_msg_id":"9330f38f-a81b-4a28-9bcb-d4766d390be0","type":"message","text":"at `t=0` and `t=1`, I get `1.2168475221301078e-5` and `-0.0002506931051`","user":"ULZQ4DCSU","ts":"1609564494.177200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Er08","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"at "},{"type":"text","text":"t=0","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"t=1","style":{"code":true}},{"type":"text","text":", I get "},{"type":"text","text":"1.2168475221301078e-5","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"-0.0002506931051","style":{"code":true}}]}]}]},{"client_msg_id":"de077924-d2c8-4057-b2c5-ae9f092d3284","type":"message","text":"A quick question before I inevitably end up diving deep into the source code, is it possible to easily save the values of a `ContinuousCallback`? i.e. I want a `SavingCallback` that saves the result of my `callback_function` at each timestep but still also calls my `affect!` function when it crosses `0`.","user":"U013L06JN15","ts":"1609597386.183700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wJDI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A quick question before I inevitably end up diving deep into the source code, is it possible to easily save the values of a "},{"type":"text","text":"ContinuousCallback","style":{"code":true}},{"type":"text","text":"? i.e. I want a "},{"type":"text","text":"SavingCallback","style":{"code":true}},{"type":"text","text":" that saves the result of my "},{"type":"text","text":"callback_function","style":{"code":true}},{"type":"text","text":" at each timestep but still also calls my "},{"type":"text","text":"affect!","style":{"code":true}},{"type":"text","text":" function when it crosses "},{"type":"text","text":"0","style":{"code":true}},{"type":"text","text":"."}]}]}]},{"client_msg_id":"22bf7f19-75dd-446e-8b73-907278537101","type":"message","text":"(Ideally I don't want to have *both* a `SavingCallback` and a `ContinuousCallback` in a set, because the function computing the value is very slightly expensive.)","user":"U013L06JN15","ts":"1609597478.184300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AlI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(Ideally I don't want to have "},{"type":"text","text":"both","style":{"bold":true}},{"type":"text","text":" a "},{"type":"text","text":"SavingCallback","style":{"code":true}},{"type":"text","text":" and a "},{"type":"text","text":"ContinuousCallback","style":{"code":true}},{"type":"text","text":" in a set, because the function computing the value is very slightly expensive.)"}]}]}]},{"client_msg_id":"1d1c85f2-6856-4f17-a39c-3c7445fddca9","type":"message","text":"<@U013L06JN15> `save_values!(integrator)` ?","user":"U69BL50BF","ts":"1609609026.185600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E4K8","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U013L06JN15"},{"type":"text","text":" "},{"type":"text","text":"save_values!(integrator)","style":{"code":true}},{"type":"text","text":" ?"}]}]}]},{"type":"message","text":"If I initialize a reaction network using the DiffEqBiological macro, I can use the field `f_symfuncs` to get SymEngine objects that represent the equations derived from the network. However, the `syms` field doesn't seem to give me symbols that I can use to do substitutions or manipulations of the expressions in the array stored in `f_symfuncs`. Or is there some function I don't know about? I can define the right symbols using `vars` from SymEngine by hand, but what I'd like to do is be able to do this automatically.\n\nI can define the symbols I need globally with vars from SymEngine but what I'm wondering is if there's some function I can apply to syms to get substitutable symbols? See the screenshot for a minimal concrete example of what I mean.","files":[{"id":"F01J904MA1X","created":1609621132,"timestamp":1609621132,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U01H2Q3ESTE","editable":false,"size":106064,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J904MA1X/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J904MA1X/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_360.png","thumb_360_w":360,"thumb_360_h":209,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_480.png","thumb_480_w":480,"thumb_480_h":279,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_720.png","thumb_720_w":720,"thumb_720_h":418,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_800.png","thumb_800_w":800,"thumb_800_h":464,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_960.png","thumb_960_w":960,"thumb_960_h":557,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01J904MA1X-5f84a6e677/image_1024.png","thumb_1024_w":1024,"thumb_1024_h":594,"original_w":1080,"original_h":627,"thumb_tiny":"AwAbADDQfGOuKapA7j8TTz74pAAfSgBdy+oo3L6ijaPSlwPT9KAE3L6igEHvS4/ziigAOe1ICfQUnXrSr1H0oAXn2o5paKACiiigD//Z","permalink":"https://julialang.slack.com/files/U01H2Q3ESTE/F01J904MA1X/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01J904MA1X-efeb1f9305","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"lpVw7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If I initialize a reaction network using the DiffEqBiological macro, I can use the field "},{"type":"text","text":"f_symfuncs","style":{"code":true}},{"type":"text","text":" to get SymEngine objects that represent the equations derived from the network. However, the "},{"type":"text","text":"syms","style":{"code":true}},{"type":"text","text":" field doesn't seem to give me symbols that I can use to do substitutions or manipulations of the expressions in the array stored in "},{"type":"text","text":"f_symfuncs","style":{"code":true}},{"type":"text","text":". Or is there some function I don't know about? I can define the right symbols using "},{"type":"text","text":"vars","style":{"code":true}},{"type":"text","text":" from SymEngine by hand, but what I'd like to do is be able to do this automatically.\n\nI can define the symbols I need globally with vars from SymEngine but what I'm wondering is if there's some function I can apply to syms to get substitutable symbols? See the screenshot for a minimal concrete example of what I mean."}]}]}],"user":"U01H2Q3ESTE","display_as_bot":false,"ts":"1609621153.190200","edited":{"user":"U01H2Q3ESTE","ts":"1609621259.000000"}},{"client_msg_id":"8769b8ce-d04b-4cf0-997c-f1b6e8400bab","type":"message","text":"```prob = ODEProblem(model, u0, (-60., 100.), copy(p))\n\nsol = solve(prob, CVODE_BDF(), reltol=1e-12, abstol=1e-12, callback=cbs, dtmax=1e-4)```\nI was testing out `dtmax` , and the addition of `dtmax=1e-4` causes the solution to end at around `t=-50`.  Any idea why?","user":"ULZQ4DCSU","ts":"1609738639.199300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4lM","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"prob = ODEProblem(model, u0, (-60., 100.), copy(p))\n\nsol = solve(prob, CVODE_BDF(), reltol=1e-12, abstol=1e-12, callback=cbs, dtmax=1e-4)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I was testing out "},{"type":"text","text":"dtmax","style":{"code":true}},{"type":"text","text":" , and the addition of "},{"type":"text","text":"dtmax=1e-4","style":{"code":true}},{"type":"text","text":" causes the solution to end at around "},{"type":"text","text":"t=-50","style":{"code":true}},{"type":"text","text":".  Any idea why?"}]}]}]},{"type":"message","text":"","files":[{"id":"F01HUB738S1","created":1609738660,"timestamp":1609738660,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"ULZQ4DCSU","editable":false,"size":89615,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HUB738S1/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HUB738S1/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_360.png","thumb_360_w":360,"thumb_360_h":239,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_480.png","thumb_480_w":480,"thumb_480_h":319,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_720.png","thumb_720_w":720,"thumb_720_h":478,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01HUB738S1-734a3747c7/image_800.png","thumb_800_w":800,"thumb_800_h":532,"original_w":909,"original_h":604,"thumb_tiny":"AwAfADDSHU0tNOc8D9aMt6D86AFzzilpnzbug6etL83oPzoAcelNBO4ij5u4H50g++fwoAcOppaTHpS80AJ/Hj2paTb82e+KKAFPSmD/AFhp3OKbzvOKAP/Z","permalink":"https://julialang.slack.com/files/ULZQ4DCSU/F01HUB738S1/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01HUB738S1-1798cfded8","is_starred":false,"has_rich_preview":false},{"id":"F01HXKUGPJ7","created":1609738681,"timestamp":1609738681,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"ULZQ4DCSU","editable":false,"size":75606,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01HXKUGPJ7/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01HXKUGPJ7/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_360.png","thumb_360_w":360,"thumb_360_h":241,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_480.png","thumb_480_w":480,"thumb_480_h":322,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_720.png","thumb_720_w":720,"thumb_720_h":483,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01HXKUGPJ7-3e144d8ba9/image_800.png","thumb_800_w":800,"thumb_800_h":537,"original_w":911,"original_h":611,"thumb_tiny":"AwAgADDRJx0GaMn+6aUUtADcn+6aMn+6adRQA3J/ukUmfmxTz0pg++aAHClpM/SjP0oAWikz9KM/SgBT0pg/1hpxP0poP7w9KAP/2Q==","permalink":"https://julialang.slack.com/files/ULZQ4DCSU/F01HXKUGPJ7/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01HXKUGPJ7-5b09b532b4","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"ULZQ4DCSU","ts":"1609738686.199400"},{"client_msg_id":"2ffc22a2-d8ee-4aeb-9022-0eab8edbe8bf","type":"message","text":"what the heck happens to your model at 0","user":"U69BL50BF","ts":"1609766820.200300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3xe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what the heck happens to your model at 0"}]}]}]},{"client_msg_id":"39b94fa6-5132-4909-ab78-c7621d023717","type":"message","text":"something looks not right there","user":"U69BL50BF","ts":"1609766834.200500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IgmX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"something looks not right there"}]}]}]},{"client_msg_id":"c46230e2-6018-4d7e-8706-4294a7c7db6c","type":"message","text":"I would try making sure that is correct first","user":"U69BL50BF","ts":"1609766860.200900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4ejx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would try making sure that is correct first"}]}]}]},{"client_msg_id":"7ce2f082-3173-47ec-86d3-242021f99ca7","type":"message","text":"lowering dtmax and getting a failure usually means the model is non-convergent.","user":"U69BL50BF","ts":"1609766952.201300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wy0bU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"lowering dtmax and getting a failure usually means the model is non-convergent."}]}]}]},{"client_msg_id":"5e74901c-72c3-495c-80b5-50358c44bff8","type":"message","text":"<@UFTJ2UDEW> the BCR is going to take about a week since we're moving all Julia CI's over to BuildKite","user":"U69BL50BF","ts":"1609769883.201800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xEg","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UFTJ2UDEW"},{"type":"text","text":" the BCR is going to take about a week since we're moving all Julia CI's over to BuildKite"}]}]}]},{"client_msg_id":"e87c7611-e7e5-4e99-b7d6-3366bf754ca8","type":"message","text":"the machines already moved but the rebuild action hasn't been updated yet.","user":"U69BL50BF","ts":"1609769893.202100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ebqD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the machines already moved but the rebuild action hasn't been updated yet."}]}]}]},{"client_msg_id":"b4017bbc-e005-463e-bff0-72f76d1f88dc","type":"message","text":"Got it. Thanks for the update!","user":"UFTJ2UDEW","ts":"1609769922.202500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Gd+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Got it. Thanks for the update!"}]}]}]},{"client_msg_id":"fe7ce1c7-e0c8-4546-bca3-bc23f2d1cab0","type":"message","text":"I re-ran a non-Jacobian version locally and updated the issue with the results (using the same Julia version for DEBio and MT): <https://github.com/SciML/ModelingToolkit.jl/issues/553> (see last comment). Looks like the final rhs function is similarly optimized now, so the main issue is generating the ODEs via `ODEProblem` taking a long time. (With secondary work needed on speeding up `ReactionNetworkImporters` and conversion of `ReactionSystem`s to `ODESystem`s.)","user":"UFTJ2UDEW","ts":"1609770080.204700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YKK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I re-ran a non-Jacobian version locally and updated the issue with the results (using the same Julia version for DEBio and MT): "},{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/issues/553"},{"type":"text","text":" (see last comment). Looks like the final rhs function is similarly optimized now, so the main issue is generating the ODEs via "},{"type":"text","text":"ODEProblem","style":{"code":true}},{"type":"text","text":" taking a long time. (With secondary work needed on speeding up "},{"type":"text","text":"ReactionNetworkImporters","style":{"code":true}},{"type":"text","text":" and conversion of "},{"type":"text","text":"ReactionSystem","style":{"code":true}},{"type":"text","text":"s to "},{"type":"text","text":"ODESystem","style":{"code":true}},{"type":"text","text":"s.)"}]}]}]},{"client_msg_id":"f7875e0a-144f-467c-952c-cf10f80f7081","type":"message","text":"It'll be interesting to see what happens when we add in Jacobians for the Benchmark.","user":"UFTJ2UDEW","ts":"1609770121.205300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mY0Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It'll be interesting to see what happens when we add in Jacobians for the Benchmark."}]}]}]},{"client_msg_id":"fe66f87e-420c-4dcd-bb58-0e65734d757f","type":"message","text":"Generating them was taking ~1 hour on my system, so that is def an issue.","user":"UFTJ2UDEW","ts":"1609770136.205700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T=vsC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Generating them was taking ~1 hour on my system, so that is def an issue."}]}]}]},{"client_msg_id":"93a1314e-34a3-4cb1-a050-42fc1bed44d2","type":"message","text":"yup, I saw that","user":"U69BL50BF","ts":"1609770186.205900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l15","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yup, I saw that"}]}]}]},{"client_msg_id":"957bf9ae-fbc1-4c46-9154-50f1ca341e95","type":"message","text":"that is a very good result","user":"U69BL50BF","ts":"1609770822.206300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jU2wP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that is a very good result"}]}]}]},{"client_msg_id":"489e2d81-ed9d-44fc-8c39-ff0499f2ce8a","type":"message","text":"It means the work on `build_function` can wait","user":"U69BL50BF","ts":"1609770935.206900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hs=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It means the work on "},{"type":"text","text":"build_function","style":{"code":true}},{"type":"text","text":" can wait"}]}]}]},{"client_msg_id":"152d193e-7a5f-414a-8e09-36d5ca8fa59f","type":"message","text":"and <@U68907M46> is looking into accelerating the Jacobian construction","user":"U69BL50BF","ts":"1609770945.207200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5NhPB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and "},{"type":"user","user_id":"U68907M46"},{"type":"text","text":" is looking into accelerating the Jacobian construction"}]}]}]},{"client_msg_id":"2b194285-676c-4b23-817f-ea906f248f8d","type":"message","text":"It mostly has to do with running simplify too much.","user":"U69BL50BF","ts":"1609770954.207500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gm4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It mostly has to do with running simplify too much."}]}]}]},{"client_msg_id":"af457241-f9d0-4587-a44c-778d785cb469","type":"message","text":"<@U69BL50BF> The stimuli start at t=0 sec, so it's at steady state until then.  I wanted to try to","user":"ULZQ4DCSU","ts":"1609787114.210200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pz7V","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" The stimuli start at t=0 sec, so it's at steady state until then.  I wanted to try to"}]}]}]},{"client_msg_id":"52f3d290-0ae7-4e47-bc3e-60cbb531eda2","type":"message","text":"<@U69BL50BF> Would you happen to know if there's an ETA on the PDESystem documentation? Or where I could find the latest development version?","user":"U01H36BUDJB","ts":"1609842723.211500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bKDz","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Would you happen to know if there's an ETA on the PDESystem documentation? Or where I could find the latest development version?"}]}]}]},{"client_msg_id":"b03978a3-5670-4e9e-b6b8-a3f5df8318bf","type":"message","text":"it's still a bit in flux because it's morphing as the solvers get finalized.","user":"U69BL50BF","ts":"1609842771.211900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KYT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's still a bit in flux because it's morphing as the solvers get finalized."}]}]}]},{"client_msg_id":"911b035e-120d-48d3-9b0a-33c8b59524df","type":"message","text":"ok, is it usable? looking at the code, most of the pieces seem to be there","user":"U01H36BUDJB","ts":"1609843030.212400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vi3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, is it usable? looking at the code, most of the pieces seem to be there"}]}]}]},{"client_msg_id":"359e37a8-4c93-45cb-bc5c-d842c9772e36","type":"message","text":"yeah it's usable","user":"U69BL50BF","ts":"1609844005.212600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mwh/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah it's usable"}]}]}]},{"client_msg_id":"26583ac2-ec40-468e-b630-eb132618be50","type":"message","text":"it's being used in NeuralPDE.jl and DiffEqOperators.jl already","user":"U69BL50BF","ts":"1609844015.212900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s39I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's being used in NeuralPDE.jl and DiffEqOperators.jl already"}]}]}]},{"client_msg_id":"e00dc648-8b43-4aee-81c9-28a661915e0b","type":"message","text":"is there a paper on NeuralPDE? Looks really interesting but I don't quite get what the role of the neural network is. It replaces the discretization step, i.e. MOL or something similar?","user":"U01H36BUDJB","ts":"1609844365.213900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"myN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a paper on NeuralPDE? Looks really interesting but I don't quite get what the role of the neural network is. It replaces the discretization step, i.e. MOL or something similar?"}]}]}]},{"client_msg_id":"157fb8a0-23d1-4dc5-8172-600cbfd8f87e","type":"message","text":"yes, you don't need to discretize","user":"U69BL50BF","ts":"1609844424.214100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8ZwJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, you don't need to discretize"}]}]}]},{"client_msg_id":"df606ffc-3721-4dad-96ef-d85cbc55ab91","type":"message","text":"it's another way to solve the symbolic PDE directly","user":"U69BL50BF","ts":"1609844431.214400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f/gI3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's another way to solve the symbolic PDE directly"}]}]}]},{"client_msg_id":"15495b9e-d699-4441-9b6c-3e05569c8d98","type":"message","text":"the paper is being written right now","user":"U69BL50BF","ts":"1609844441.214700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ej8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the paper is being written right now"}]}]}]},{"client_msg_id":"82117a78-117d-4e8a-91d8-64db5b13d63c","type":"message","text":"cool, looking forward to reading it! in the meantime, is there an example of using PDESystem somewhere without the NN? i.e. with just MOL or something? I've been looking around but I've only found examples of setting up PDESystem not actually solving it.","user":"U01H36BUDJB","ts":"1609844695.215900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9WB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool, looking forward to reading it! in the meantime, is there an example of using PDESystem somewhere without the NN? i.e. with just MOL or something? I've been looking around but I've only found examples of setting up PDESystem not actually solving it."}]}]}]},{"client_msg_id":"50d9fc2f-2ceb-4099-b871-a238b38b6273","type":"message","text":"DiffEqOperators","user":"U69BL50BF","ts":"1609844706.216100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IAPnc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DiffEqOperators"}]}]}]},{"client_msg_id":"a41374ca-370c-4c8a-b3f6-4a546d526fd8","type":"message","text":"<https://github.com/SciML/DiffEqOperators.jl/blob/master/test/MOL_1D_Linear_Diffusion.jl>","user":"U69BL50BF","ts":"1609844723.216300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qRX","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/SciML/DiffEqOperators.jl/blob/master/test/MOL_1D_Linear_Diffusion.jl"}]}]}]},{"client_msg_id":"b8d435f3-edca-4c44-8ac3-1ab59510ce13","type":"message","text":"exactly what I was looking for, thanks!","user":"U01H36BUDJB","ts":"1609844770.216500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JVeP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"exactly what I was looking for, thanks!"}]}]}]},{"client_msg_id":"aa33d677-7baf-476a-be3e-8cc695a356f0","type":"message","text":"Is integrator iteration via `init` supported with PDESystem? I get the following error when trying to use it:\n```type PDEProblem has no field p\nin top-level scope at heat_conduction.jl:59\nin  at DiffEqBase/znIav/src/solve.jl:37\nin #init#446 at DiffEqBase/znIav/src/solve.jl:43\nin  at DiffEqBase/znIav/src/solve.jl:135\nin #get_concrete_problem#457 at DiffEqBase/znIav/src/solve.jl:135\nin get_concrete_p at DiffEqBase/znIav/src/solve.jl:208\nin getproperty at base/Base.jl:33```","user":"U01H36BUDJB","ts":"1609929050.218200","team":"T68168MUP","edited":{"user":"U01H36BUDJB","ts":"1609929101.000000"},"blocks":[{"type":"rich_text","block_id":"AGQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is integrator iteration via "},{"type":"text","text":"init","style":{"code":true}},{"type":"text","text":" supported with PDESystem? I get the following error when trying to use it:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"type PDEProblem has no field p\nin top-level scope at heat_conduction.jl:59\nin  at DiffEqBase/znIav/src/solve.jl:37\nin #init#446 at DiffEqBase/znIav/src/solve.jl:43\nin  at DiffEqBase/znIav/src/solve.jl:135\nin #get_concrete_problem#457 at DiffEqBase/znIav/src/solve.jl:135\nin get_concrete_p at DiffEqBase/znIav/src/solve.jl:208\nin getproperty at base/Base.jl:33"}]}]}]},{"client_msg_id":"22b9a23a-1993-452d-b876-71b35c045ff9","type":"message","text":"judging from the implementation of `solve` in `DiffEqBase`, I think we just need a similar wrapper function for `init`?\n```function DiffEqBase.solve(prob::PDEProblem,alg::DiffEqBase.DEAlgorithm,args...;\n                                          kwargs...)\n    solve(prob.prob,alg,args...;kwargs...)\nend```","user":"U01H36BUDJB","ts":"1609929563.219200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R4E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"judging from the implementation of "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":"DiffEqBase","style":{"code":true}},{"type":"text","text":", I think we just need a similar wrapper function for "},{"type":"text","text":"init","style":{"code":true}},{"type":"text","text":"?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function DiffEqBase.solve(prob::PDEProblem,alg::DiffEqBase.DEAlgorithm,args...;\n                                          kwargs...)\n    solve(prob.prob,alg,args...;kwargs...)\nend"}]}]}]},{"client_msg_id":"dcf691e2-9cbb-4bac-a162-c0152bf9c883","type":"message","text":"can confirm that this works:\n```function DiffEqBase.init(prob::PDEProblem,alg::DiffEqBase.DEAlgorithm,args...;\n                                          kwargs...)\n    init(prob.prob,alg,args...;kwargs...)\nend```\nIt's a simple change. I can submit a PR if there's interest in including this in the API for PDEProblem.","user":"U01H36BUDJB","ts":"1609930161.221000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9j1a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can confirm that this works:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function DiffEqBase.init(prob::PDEProblem,alg::DiffEqBase.DEAlgorithm,args...;\n                                          kwargs...)\n    init(prob.prob,alg,args...;kwargs...)\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It's a simple change. I can submit a PR if there's interest in including this in the API for PDEProblem."}]}]}]},{"client_msg_id":"c2d29bd5-81a3-4f24-8da5-7237a4689974","type":"message","text":"<@U69BL50BF> Hi Chris! I am thinking about implementing deferred correction from Pereyra for BVP problem based on trapeze rule. I cannot go too high in discretization as it does not scale well for PDE. Have you ever considered it, implemented it?","user":"U7GQE9JP9","ts":"1609948675.222600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IUovT","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Hi Chris! I am thinking about implementing deferred correction from Pereyra for BVP problem based on trapeze rule. I cannot go too high in discretization as it does not scale well for PDE. Have you ever considered it, implemented it?"}]}]}]},{"client_msg_id":"270d036d-a7ec-40ef-ae8d-503aa4c674d4","type":"message","text":"I've considered it","user":"U69BL50BF","ts":"1609949060.222800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZqDcq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've considered it"}]}]}]},{"client_msg_id":"8a4f7169-7224-4d5f-be7f-1cf0c97ed7e7","type":"message","text":"I've never seen those types of methods do great (thinking about extrapolation techniques in the same category), but :shrug: for completeness I want to benchmark that","user":"U69BL50BF","ts":"1609949086.223400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"upDN1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've never seen those types of methods do great (thinking about extrapolation techniques in the same category), but "},{"type":"emoji","name":"shrug"},{"type":"text","text":" for completeness I want to benchmark that"}]}]}]},{"client_msg_id":"aaef1b1c-9453-494a-b917-abd7e737ce83","type":"message","text":"&gt;  I’ve never seen those types of methods do great\nIn terms of what?","user":"U7GQE9JP9","ts":"1609949230.223900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YXy","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":" I’ve never seen those types of methods do great"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"In terms of what?"}]}]}]},{"client_msg_id":"c6287e41-9aa2-4f5b-b5f8-6aa0a5c78b2a","type":"message","text":"efficiency","user":"U69BL50BF","ts":"1609949300.224100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4jU4E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"efficiency"}]}]}],"thread_ts":"1609949300.224100","reply_count":8,"reply_users_count":2,"latest_reply":"1609950260.235100","reply_users":["U01H36BUDJB","U69BL50BF"],"subscribed":false},{"client_msg_id":"73282a29-b724-44f3-a8c8-7f07d96c30b2","type":"message","text":"it falls into the category of \"mathematically nice, converges to infinity order, sounds great\" kind of methods","user":"U69BL50BF","ts":"1609949317.224600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t=fI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it falls into the category of \"mathematically nice, converges to infinity order, sounds great\" kind of methods"}]}]}]},{"client_msg_id":"e9a23bcb-50da-498a-beee-310c854cb02c","type":"message","text":"what is better then\n• collocation\n• TOM\nwhat else?","user":"U7GQE9JP9","ts":"1609949347.225700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cVT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what is better then\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"collocation"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"TOM"}]}],"style":"bullet","indent":0},{"type":"rich_text_section","elements":[{"type":"text","text":"what else?"}]}]}]},{"client_msg_id":"06af8cd3-d31b-4cc2-835b-d0c38fa9786b","type":"message","text":"but I always see that some weird RK method with very carefully optimized coefficients ends up more efficient :shrug:","user":"U69BL50BF","ts":"1609949347.225800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FrE+M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but I always see that some weird RK method with very carefully optimized coefficients ends up more efficient "},{"type":"emoji","name":"shrug"}]}]}]},{"client_msg_id":"d0be531d-abf8-451f-88a1-49f9d2510919","type":"message","text":"for BVPs, collocation would be the challenge","user":"U69BL50BF","ts":"1609949371.226200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mIU9V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for BVPs, collocation would be the challenge"}]}]}]},{"client_msg_id":"0c9d4f17-7627-475c-b06d-ae32fd59c726","type":"message","text":"but these methods are very good for parallelization","user":"U69BL50BF","ts":"1609949383.226600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mp4Pu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but these methods are very good for parallelization"}]}]}]},{"client_msg_id":"42ecc54e-3717-42b2-a7fe-6584cc4c1f25","type":"message","text":"so I think once the thread spawn call cost decreases it might be a winner on that front.","user":"U69BL50BF","ts":"1609949395.227000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tRdox","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I think once the thread spawn call cost decreases it might be a winner on that front."}]}]}]},{"client_msg_id":"de4719a0-2715-43c7-abf0-819b0f27e6e3","type":"message","text":"&gt; but these methods are very good for parallelization\ncollocation ones? The problem with them is for high dimension, the jacobian is too dense","user":"U7GQE9JP9","ts":"1609949478.227500","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609949559.000000"},"blocks":[{"type":"rich_text","block_id":"HI=V","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"but these methods are very good for parallelization"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"collocation ones? The problem with them is for high dimension, the jacobian is too dense"}]}]}]},{"client_msg_id":"afca5498-2372-4ad8-af0a-95caf47acc75","type":"message","text":"I meant that spectral deferred correction methods can be parallelized","user":"U69BL50BF","ts":"1609949651.228200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nhs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I meant that spectral deferred correction methods can be parallelized"}]}]}]},{"client_msg_id":"a9b1f269-ae48-4672-b6ad-fef5eadd8edb","type":"message","text":"really? Do you have a reference?","user":"U7GQE9JP9","ts":"1609949673.228600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vBQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"really? Do you have a reference?"}]}]}]},{"client_msg_id":"aa265caa-3847-4442-bdee-15b8ae68dc41","type":"message","text":"It's mentioned in <https://arxiv.org/pdf/1305.6165.pdf>","user":"U69BL50BF","ts":"1609949713.228800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uXWl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's mentioned in "},{"type":"link","url":"https://arxiv.org/pdf/1305.6165.pdf"}]}]}]},{"client_msg_id":"6be4d0d4-99f4-440a-b8b5-a627a738d534","type":"message","text":"it seems DC is the slowest in this paper, counting derivative evaluations","user":"U7GQE9JP9","ts":"1609949889.229300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ugv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it seems DC is the slowest in this paper, counting derivative evaluations"}]}]}]},{"client_msg_id":"15c19ad9-9d1f-4389-9fd7-ef777f5ca816","type":"message","text":"yes","user":"U69BL50BF","ts":"1609949896.229500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"veVP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"5b5d33ba-0b79-4415-adf8-7394f0fdd269","type":"message","text":"which is why I said it doesn't seem too exciting in terms of efficiency haha","user":"U69BL50BF","ts":"1609949983.230000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jw+ca","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is why I said it doesn't seem too exciting in terms of efficiency haha"}]}]}]},{"client_msg_id":"e8cdafd9-cfc4-4469-8f23-7d4939f8b977","type":"message","text":"but it's parallelizable","user":"U69BL50BF","ts":"1609949986.230300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aIbG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it's parallelizable"}]}]}]},{"client_msg_id":"b391a2b6-9ad3-48e5-8f3c-208c255054ba","type":"message","text":"Arg, I am not sure it is the thing to do","user":"U7GQE9JP9","ts":"1609949995.230500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SO20","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Arg, I am not sure it is the thing to do"}]}]}]},{"client_msg_id":"228d2070-8422-4515-a01c-a40285b42da2","type":"message","text":"anymore","user":"U7GQE9JP9","ts":"1609950002.230700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vG0uG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anymore"}]}]}]},{"client_msg_id":"945f6822-f641-43aa-ac7f-1cf1d8080a27","type":"message","text":"The issue is that I want to have mesh adaptation in BifurcationKit. The trapeze method is always faster than Shooting but near homoclinic, it does not do well. See first figure here” <https://rveltz.github.io/BifurcationKit.jl/dev/Langmuir/#Langmuir%E2%80%93Blodgett-transfer-model-(really-advanced)-1>\n\nI have mesh adaption with equidistribution that helps a bit (not pushed).","user":"U7GQE9JP9","ts":"1609950139.232500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c+urI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The issue is that I want to have mesh adaptation in BifurcationKit. The trapeze method is always faster than Shooting but near homoclinic, it does not do well. See first figure here” "},{"type":"link","url":"https://rveltz.github.io/BifurcationKit.jl/dev/Langmuir/#Langmuir%E2%80%93Blodgett-transfer-model-(really-advanced)-1"},{"type":"text","text":"\n\nI have mesh adaption with equidistribution that helps a bit (not pushed)."}]}]}]},{"client_msg_id":"e5dab892-c403-4533-a280-d61fb9e75d33","type":"message","text":"Collocation is too costly","user":"U7GQE9JP9","ts":"1609950166.232700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R+FiB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Collocation is too costly"}]}]}]},{"client_msg_id":"73f0cce9-ecce-4456-8d8d-00c98d6bc28f","type":"message","text":"That leaves few options :smile:","user":"U7GQE9JP9","ts":"1609950175.233000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mYfa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That leaves few options "},{"type":"emoji","name":"smile"}]}]}]},{"client_msg_id":"65746868-cfaf-49c2-847a-69f7193e1ed0","type":"message","text":"collocation is fast if it adapts","user":"U69BL50BF","ts":"1609950205.233400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PV5u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"collocation is fast if it adapts"}]}]}]},{"client_msg_id":"cbf0d1ef-58c1-4ead-9e72-a8d57732f842","type":"message","text":"we just never finished the MIRK methods...","user":"U69BL50BF","ts":"1609950211.233600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hPub","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we just never finished the MIRK methods..."}]}]}]},{"client_msg_id":"993d7885-3c6d-4ba4-89b3-7ee9089a4505","type":"message","text":":shrug:","user":"U69BL50BF","ts":"1609950214.233800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ngi","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"shrug"}]}]}]},{"client_msg_id":"a43da822-b2c5-41d5-939e-0bf8bebd9442","type":"message","text":"collocations with N&gt;1000?","user":"U7GQE9JP9","ts":"1609950322.235500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OVpM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"collocations with N>1000?"}]}]}]},{"client_msg_id":"bdb9bd9f-7787-405e-bfb5-3301668358a9","type":"message","text":"MIRK methods are the most efficient that I know of","user":"U69BL50BF","ts":"1609950373.235800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GSS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MIRK methods are the most efficient that I know of"}]}]}]},{"client_msg_id":"a2ae7a78-5466-49aa-96db-8393a7b41bfe","type":"message","text":"you do need to make sure you specialize on the banded matrix form.","user":"U69BL50BF","ts":"1609950382.236300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WA5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you do need to make sure you specialize on the banded matrix form."}]}]}]},{"client_msg_id":"27d66ff9-466c-4e92-9ede-0c1a36047473","type":"message","text":"I am taking about BVP","user":"U7GQE9JP9","ts":"1609950395.236500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g8M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am taking about BVP"}]}]}]},{"client_msg_id":"c4822def-07df-405a-befc-4025a910e44b","type":"message","text":"yes","user":"U69BL50BF","ts":"1609950403.236700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JsR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"9cb9e70f-dfdd-432e-b6cc-939657c05ed5","type":"message","text":"collocation methods get a banded matrix unless it's a multi-point","user":"U69BL50BF","ts":"1609950418.237000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pUqb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"collocation methods get a banded matrix unless it's a multi-point"}]}]}]},{"client_msg_id":"46734296-f482-47fe-ab85-21b5ef8cc789","type":"message","text":"in which case you get a sparse matrix","user":"U69BL50BF","ts":"1609950423.237200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+BJg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in which case you get a sparse matrix"}]}]}]},{"client_msg_id":"c60514c3-e717-4c17-ad6d-f842e1e3a6d6","type":"message","text":"MIRK4 already has the banded specializations, but it's just not adaptive.","user":"U69BL50BF","ts":"1609950443.237900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2SM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MIRK4 already has the banded specializations, but it's just not adaptive."}]}]}]},{"client_msg_id":"b365587b-748d-4ade-9437-f892a90110ef","type":"message","text":"the adaptivity is pretty trivial, we just haven't done it.","user":"U69BL50BF","ts":"1609950452.238400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b8ud","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the adaptivity is pretty trivial, we just haven't done it."}]}]}]},{"client_msg_id":"44787ac8-67cd-485f-9ee6-956f50804f3d","type":"message","text":"it would be a great GSoC for this summer though...","user":"U69BL50BF","ts":"1609950485.238800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Mwm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it would be a great GSoC for this summer though..."}]}]}],"thread_ts":"1609950485.238800","reply_count":1,"reply_users_count":1,"latest_reply":"1609950736.241300","reply_users":["U7GQE9JP9"],"subscribed":false},{"client_msg_id":"6ac51858-a2b7-4dda-9aac-8243a8095218","type":"message","text":"well, I developped a lot of linear algebra to make trapeze scale well and I feel it wont do good to increase the order (i may be wrong). In bifurcation theory, collocation is a bottleneck for computing periodic orbits in large dimensions, that’s why there are not so many codes for bifurcation theory and PDE","user":"U7GQE9JP9","ts":"1609950547.239900","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609950581.000000"},"blocks":[{"type":"rich_text","block_id":"Zqvpa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, I developped a lot of linear algebra to make trapeze scale well and I feel it wont do good to increase the order (i may be wrong). In bifurcation theory, collocation is a bottleneck for computing periodic orbits in large dimensions, that’s why there are not so many codes for bifurcation theory and PDE"}]}]}]},{"client_msg_id":"6ae0aa89-94e6-41a4-992d-3b8d4ff3bd8b","type":"message","text":"Would ApproxFun work?","user":"U6788D83U","ts":"1609950566.240400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tU3j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would ApproxFun work?"}]}]}]},{"client_msg_id":"48c7b3b7-d280-4470-ae1e-2ba9ad010ba4","type":"message","text":"way slower","user":"U7GQE9JP9","ts":"1609950590.240700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sf/v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"way slower"}]}]}]},{"client_msg_id":"96e3a856-88f7-4be3-9390-fc4770dd219a","type":"message","text":"believe me, I wish it is not :smile: . Actually, I am talking about periodic orbits, so the BVP is a bit special. You have to desingularise it a phase condition\n\nTrixi seems very appealing with AMR","user":"U7GQE9JP9","ts":"1609950620.241200","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609950803.000000"},"blocks":[{"type":"rich_text","block_id":"+iO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"believe me, I wish it is not "},{"type":"emoji","name":"smile"},{"type":"text","text":" . Actually, I am talking about periodic orbits, so the BVP is a bit special. You have to desingularise it a phase condition\n\nTrixi seems very appealing with AMR"}]}]}]}]}