{"cursor": 20, "messages": [{"client_msg_id":"87fc6acb-4e80-4377-8205-e5e698a19d56","type":"message","text":"MTK isn't quite there yet. It's getting really close though.","user":"U69BL50BF","ts":"1615747816.102900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c3s9n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MTK isn't quite there yet. It's getting really close though."}]}]}]},{"client_msg_id":"e3d4a17f-a903-43c3-9709-e7b0d04033cf","type":"message","text":"<@U69BL50BF> Yes, seems like you guys are making really good progress. So no rush. So then is `ControlSystems.jl` the best plan for now, and then update to MTK in the future?","user":"UDDSTBX19","ts":"1615748033.104100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qgE","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Yes, seems like you guys are making really good progress. So no rush. So then is "},{"type":"text","text":"ControlSystems.jl","style":{"code":true}},{"type":"text","text":" the best plan for now, and then update to MTK in the future?"}]}]}]},{"client_msg_id":"f9974ba1-03df-42b3-8498-7232fddf632c","type":"message","text":"yes, and ControlSystems.jl may be a group we work with as a top level interface too. It's hard to know how this part is going to evolve.","user":"U69BL50BF","ts":"1615748332.104800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C33L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, and ControlSystems.jl may be a group we work with as a top level interface too. It's hard to know how this part is going to evolve."}]}]}],"reactions":[{"name":"heavy_check_mark","users":["UDDSTBX19"],"count":1}]},{"client_msg_id":"d00500cb-8620-4089-a2e7-2d0955ce213e","type":"message","text":"Controlsystems.jl almost exclusively concerns itself with linear control theory, for which it should correspond roughly to matlab control systems toolbox.","user":"UJ7DVTVQ8","ts":"1615752969.107300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hUTa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Controlsystems.jl almost exclusively concerns itself with linear control theory, for which it should correspond roughly to matlab control systems toolbox."}]}]}]},{"client_msg_id":"4477a353-0945-48fc-ac08-f4f7ac1c4d27","type":"message","text":"Matlab has more tools for robust synthesis, and we have more of typical Julia stuff, like support for ad, uncertainty propagation and good support for complex coefficient systems.","user":"UJ7DVTVQ8","ts":"1615753038.108900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+NY8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Matlab has more tools for robust synthesis, and we have more of typical Julia stuff, like support for ad, uncertainty propagation and good support for complex coefficient systems."}]}]}]},{"client_msg_id":"587612f4-9d31-4174-a6c7-3cfcded221b6","type":"message","text":"<@U69BL50BF> On a related note, I've been messing around with having MTK symbolically build open loop optimal control problems from the necessary conditions for the Pontryagin minimum principle and then passing it off to the `TwoPointBVProblem` solver (basically just pulling the function, parameters, and initial conditions out of the `ODESystem` manually). It seems to do pretty well. I'm just happy that it worked, to be honest. Is this a method you guys are already using with the `ControlSystem` type? The only thing I saw in the docs was for the discretize-then-optimize method.\n\nAlso, how do you currently handle final conditions in the objective function for the `ControlSystem` type? Like for free final state problems and such.","user":"US4A6G6B0","ts":"1615762198.119800","team":"T68168MUP","edited":{"user":"US4A6G6B0","ts":"1615762749.000000"},"blocks":[{"type":"rich_text","block_id":"luP","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" On a related note, I've been messing around with having MTK symbolically build open loop optimal control problems from the necessary conditions for the Pontryagin minimum principle and then passing it off to the "},{"type":"text","text":"TwoPointBVProblem","style":{"code":true}},{"type":"text","text":" solver (basically just pulling the function, parameters, and initial conditions out of the "},{"type":"text","text":"ODESystem","style":{"code":true}},{"type":"text","text":" manually). It seems to do pretty well. I'm just happy that it worked, to be honest. Is this a method you guys are already using with the "},{"type":"text","text":"ControlSystem","style":{"code":true}},{"type":"text","text":" type? The only thing I saw in the docs was for the discretize-then-optimize method.\n\nAlso, how do you currently handle final conditions in the objective function for the "},{"type":"text","text":"ControlSystem","style":{"code":true}},{"type":"text","text":" type? Like for free final state problems and such."}]}]}]},{"client_msg_id":"30b85200-a7b7-4990-ba8a-a2357ab436e8","type":"message","text":"how are you discretizing to the two point BVP?","user":"U69BL50BF","ts":"1615762746.120600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qd+c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how are you discretizing to the two point BVP?"}]}]}]},{"client_msg_id":"8f755919-aec8-4ac5-8acf-a2bf244d5008","type":"message","text":"```solve(bvp, MIRK4(), dt=0.05)```","user":"US4A6G6B0","ts":"1615762792.121000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/GXF","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"solve(bvp, MIRK4(), dt=0.05)"}]}]}]},{"client_msg_id":"c3fec95a-afb8-4c17-ab13-39a5551b3de0","type":"message","text":"Here's a gist:\n<https://gist.github.com/jonniedie/e02c0a8f82a10329eeeee66bcb262978>","user":"US4A6G6B0","ts":"1615763022.121900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lvfe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here's a gist:\n"},{"type":"link","url":"https://gist.github.com/jonniedie/e02c0a8f82a10329eeeee66bcb262978"}]}]}]},{"client_msg_id":"8863ffb4-054c-4215-a8d9-8357edd48857","type":"message","text":"I definitely didn't do it the cleanest way, with getting variables from the other system, though. The string thing is kinda a hack just to get it working because I was having a hard time doing the derivatives with respect to state variables of the other system without bringing those variables in directly.","user":"US4A6G6B0","ts":"1615763109.123600","team":"T68168MUP","edited":{"user":"US4A6G6B0","ts":"1615763208.000000"},"blocks":[{"type":"rich_text","block_id":"azzV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I definitely didn't do it the cleanest way, with getting variables from the other system, though. The string thing is kinda a hack just to get it working because I was having a hard time doing the derivatives with respect to state variables of the other system without bringing those variables in directly."}]}]}]},{"client_msg_id":"660460fb-7f71-4f5c-a325-85dc75398254","type":"message","text":"oh yes, that's a variational method","user":"U69BL50BF","ts":"1615763724.124100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zvJs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh yes, that's a variational method"}]}]}]},{"client_msg_id":"90e2a4a8-2fb0-42e4-9ec7-57fc4e9be557","type":"message","text":"it's different from the one we have so far which requires an optimization.","user":"U69BL50BF","ts":"1615763733.124400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j8GK5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's different from the one we have so far which requires an optimization."}]}]}]},{"client_msg_id":"14e4734f-e461-4572-88bb-0e0f18420550","type":"message","text":"I don't know anything about Lie groups, but can these problem types not be used for faster sensitivity analysis?\n<https://diffeq.sciml.ai/stable/types/nonautonomous_linear_ode/#Note-About-Affine-Equations>","user":"UQEDP1Q5V","ts":"1615764058.126200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zJZnq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know anything about Lie groups, but can these problem types not be used for faster sensitivity analysis?\n"},{"type":"link","url":"https://diffeq.sciml.ai/stable/types/nonautonomous_linear_ode/#Note-About-Affine-Equations"}]}]}]},{"client_msg_id":"bde65b7a-3593-476c-9b4f-ba0933285a21","type":"message","text":"```function spring_mass_damper_system(;name)\n  @variables x(t)\n  D = Differential(t)\n  @parameters M b k\n  eqs = [D(D(x)) ~ b/M*D(x) + k/M*x] # equations defining the system\n  iv = t # the independent variable\n  states = [x] # the dependent (state) variables\n  ps = [M, b, k] # parameter variables\n  default_u0 = [D(x) =&gt; 0.0, x =&gt; 0.0] # default initial conditions\n  default_p = [M =&gt; 1.0, b =&gt; 1.0, k =&gt; 1.0] # default parameter values\n  sys = ODESystem(eqs, iv, states, ps, name=name, default_u0=default_u0, default_p=default_p)\n  ode_order_lowering(sys)\nend\n\nfunction spring_mass_damper_problem()\n  @named smd_sys = spring_mass_damper_system()\n  @show smd_sys\n  u0 = [] # initial conditions (empty = use defaults)\n  tspan = (0, 10.0) # time span\n  u0_kludge = Vector{Pair{Num, Float64}}() # <https://github.com/SciML/ModelingToolkit.jl/issues/869>\n  prob = ODEProblem(smd_sys, u0_kludge, tspan)\n  # return prob\n  sol = solve(prob, Tsit5())\nend\n\nsol = spring_mass_damper_problem()```\nGives me\n\n```ERROR: MethodError: no method matching promote_typeof()\nClosest candidates are:\n  promote_typeof(::Any) at promotion.jl:271\n  promote_typeof(::Any, ::Any...) at promotion.jl:272\nStacktrace:\n  [1] varmap_to_vars(varmap::Dict{Num, Float64}, varlist::Vector{Term{Real, Nothing}}; defaults::Dict{Any, Any})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/variables.jl:15\n  [2] varmap_to_vars\n    @ ~/.julia/dev/ModelingToolkit/src/variables.jl:8 [inlined]\n  [3] #varmap_to_vars#11\n    @ ~/.julia/dev/ModelingToolkit/src/variables.jl:28 [inlined]\n  [4] (::ModelingToolkit.var\"#varmap_to_vars##kw\")(::NamedTuple{(:defaults,), Tuple{Dict{Any, Any}}}, ::typeof(ModelingToolkit.varmap_to_vars), varmap::Vector{Pair{Num, Float64}}, varlist::Vector{Term{Real, Nothing}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/variables.jl:27\n  [5] process_DEProblem(constructor::Type, sys::ODESystem, u0map::Vector{Pair{Num, Float64}}, parammap::SciMLBase.NullParameters; version::Nothing, tgrad::Bool, jac::Bool, checkbounds::Bool, sparse::Bool, simplify::Bool, linenumbers::Bool, parallel::Symbolics.SerialForm, eval_expression::Bool, kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:277\n  [6] process_DEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:271 [inlined]\n  [7] (ODEProblem{true, tType, isinplace, P, F, K, PT} where {tType, isinplace, P, F, K, PT})(sys::ODESystem, u0map::Vector{Pair{Num, Float64}}, tspan::Tuple{Int64, Float64}, parammap::SciMLBase.NullParameters; kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323\n  [8] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323 [inlined]\n  [9] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323 [inlined]\n [10] #ODEProblem#162\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:303 [inlined]\n [11] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:303 [inlined]\n [12] spring_mass_damper_problem()\n    @ Main ~/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:78\n [13] top-level scope\n    @ ~/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:83\nin expression starting at /Users/patrick/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:83```\n","user":"U7ZNTQFLH","ts":"1615764328.128200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TO754","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function spring_mass_damper_system(;name)\n  @variables x(t)\n  D = Differential(t)\n  @parameters M b k\n  eqs = [D(D(x)) ~ b/M*D(x) + k/M*x] # equations defining the system\n  iv = t # the independent variable\n  states = [x] # the dependent (state) variables\n  ps = [M, b, k] # parameter variables\n  default_u0 = [D(x) => 0.0, x => 0.0] # default initial conditions\n  default_p = [M => 1.0, b => 1.0, k => 1.0] # default parameter values\n  sys = ODESystem(eqs, iv, states, ps, name=name, default_u0=default_u0, default_p=default_p)\n  ode_order_lowering(sys)\nend\n\nfunction spring_mass_damper_problem()\n  @named smd_sys = spring_mass_damper_system()\n  @show smd_sys\n  u0 = [] # initial conditions (empty = use defaults)\n  tspan = (0, 10.0) # time span\n  u0_kludge = Vector{Pair{Num, Float64}}() # "},{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/issues/869"},{"type":"text","text":"\n  prob = ODEProblem(smd_sys, u0_kludge, tspan)\n  # return prob\n  sol = solve(prob, Tsit5())\nend\n\nsol = spring_mass_damper_problem()"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nGives me\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: MethodError: no method matching promote_typeof()\nClosest candidates are:\n  promote_typeof(::Any) at promotion.jl:271\n  promote_typeof(::Any, ::Any...) at promotion.jl:272\nStacktrace:\n  [1] varmap_to_vars(varmap::Dict{Num, Float64}, varlist::Vector{Term{Real, Nothing}}; defaults::Dict{Any, Any})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/variables.jl:15\n  [2] varmap_to_vars\n    @ ~/.julia/dev/ModelingToolkit/src/variables.jl:8 [inlined]\n  [3] #varmap_to_vars#11\n    @ ~/.julia/dev/ModelingToolkit/src/variables.jl:28 [inlined]\n  [4] (::ModelingToolkit.var\"#varmap_to_vars##kw\")(::NamedTuple{(:defaults,), Tuple{Dict{Any, Any}}}, ::typeof(ModelingToolkit.varmap_to_vars), varmap::Vector{Pair{Num, Float64}}, varlist::Vector{Term{Real, Nothing}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/variables.jl:27\n  [5] process_DEProblem(constructor::Type, sys::ODESystem, u0map::Vector{Pair{Num, Float64}}, parammap::SciMLBase.NullParameters; version::Nothing, tgrad::Bool, jac::Bool, checkbounds::Bool, sparse::Bool, simplify::Bool, linenumbers::Bool, parallel::Symbolics.SerialForm, eval_expression::Bool, kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:277\n  [6] process_DEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:271 [inlined]\n  [7] (ODEProblem{true, tType, isinplace, P, F, K, PT} where {tType, isinplace, P, F, K, PT})(sys::ODESystem, u0map::Vector{Pair{Num, Float64}}, tspan::Tuple{Int64, Float64}, parammap::SciMLBase.NullParameters; kwargs::Base.Iterators.Pairs{Union{}, Union{}, Tuple{}, NamedTuple{(), Tuple{}}})\n    @ ModelingToolkit ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323\n  [8] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323 [inlined]\n  [9] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:323 [inlined]\n [10] #ODEProblem#162\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:303 [inlined]\n [11] ODEProblem\n    @ ~/.julia/dev/ModelingToolkit/src/systems/diffeqs/abstractodesystem.jl:303 [inlined]\n [12] spring_mass_damper_problem()\n    @ Main ~/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:78\n [13] top-level scope\n    @ ~/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:83\nin expression starting at /Users/patrick/.julia/dev/ModelingToolkitExamples/examples/hellomtk.jl:83"}]},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1615764328.128200","reply_count":16,"reply_users_count":3,"latest_reply":"1615768157.133500","reply_users":["U69BL50BF","U6788D83U","U7ZNTQFLH"],"subscribed":false},{"client_msg_id":"72f5ea24-bea4-49b1-bb42-654c3f1ef154","type":"message","text":"it won't automatically construct a Lie group problem in reverse. That would be a good thing to add.","user":"U69BL50BF","ts":"1615764332.128400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j3IYb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it won't automatically construct a Lie group problem in reverse. That would be a good thing to add."}]}]}]},{"client_msg_id":"11cc876f-230e-48de-9741-6187467c5652","type":"message","text":"Also, should it not be\" extend A by a column containing g, and furthermore a zero row, the corresponding state has initial condition 1.\"","user":"UQEDP1Q5V","ts":"1615764343.128500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/=T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, should it not be\" extend A by a column containing g, and furthermore a zero row, the corresponding state has initial condition 1.\""}]}]}]},{"client_msg_id":"541b9d4d-e5e9-4456-b04f-0b903873ca4f","type":"message","text":"Forward mode could benefit also by just adding zero rows to A? For example, for a reaction problem containing 500 u and 500 p?","user":"UQEDP1Q5V","ts":"1615765641.130000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"luFQi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Forward mode could benefit also by just adding zero rows to A? For example, for a reaction problem containing 500 u and 500 p?"}]}]}]},{"client_msg_id":"01f606a5-58d9-4c23-a68b-496e296f602f","type":"message","text":"How can I create a step function of time to be included on the rhs of an ODE? My efforts so far all seem to result in `TypeError: non-boolean (Num) used in boolean context`.","user":"U7ZNTQFLH","ts":"1615770854.134800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bKAP/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can I create a step function of time to be included on the rhs of an ODE? My efforts so far all seem to result in "},{"type":"text","text":"TypeError: non-boolean (Num) used in boolean context","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1615770854.134800","reply_count":2,"reply_users_count":2,"latest_reply":"1615771658.135100","reply_users":["UQEDP1Q5V","U69BL50BF"],"subscribed":false},{"client_msg_id":"21dad35a-e2b7-436e-96b6-e0268ba9983a","type":"message","text":"Has anyone had success with Strang splitting for multidimensional PDEs in Julia?","user":"U01C2E6TYEM","ts":"1615839350.136900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r7K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Has anyone had success with Strang splitting for multidimensional PDEs in Julia?"}]}]}]},{"client_msg_id":"b11b83eb-d6a3-4f69-b05f-fc3fa3e558d5","type":"message","text":"doing it by hand?","user":"U69BL50BF","ts":"1615839417.137100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GP/c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"doing it by hand?"}]}]}]},{"client_msg_id":"bf8ddab1-7f15-4485-b1e9-d812b122729d","type":"message","text":"Yeah","user":"U01C2E6TYEM","ts":"1615839457.137400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"isRlz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah"}]}]}]},{"client_msg_id":"d4607169-80e9-4d5a-aec9-c09d1c968182","type":"message","text":"I’m having some trouble setting up the underdamped langevin diffusion problem.","user":"UJVG2FBUJ","ts":"1615846893.138800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dUZrl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m having some trouble setting up the underdamped langevin diffusion problem."}]}]}]},{"client_msg_id":"7df66080-0025-41ac-8db1-437e2ed2c424","type":"message","text":"Here is my attempt.\n\n```function uld_f!(du, u, p, t)\n    γ, u = p\n    x = @view u[1:2]\n    v = @view u[3:4]\n    dx = @view du[1:2]\n    dv = @view du[3:4]\n    dx = v\n    dv = -γ*v -u*gradU(x)\nend\n\nfunction uld_g!(du, u, p, t)\n    γ, u = p\n    x = @view u[1:2]\n    v = @view u[3:4]\n    dx = @view du[1:2]\n    dv = @view du[3:4]\n    @. dx = 0.0\n    @. dv = sqrt(2*γ*u)*ones(2)\nend\n\nu0 = [1., 1., 0., 0.]\np = (0.1, 1)\ntspan = (0.0,1.0)\nULD = SDEProblem(uld_f!, uld_g!, u0, tspan, p)\n\nsol = solve(ULD, EM(), dt=0.0001)```\nI get the following error\n\n```MethodError: no method matching view(::Int64, ::UnitRange{Int64})\nClosest candidates are:\n  view(::AbstractAlgebra.Generic.Mat{T}, ::UnitRange{Int64}, ::UnitRange{Int64}) where T&lt;:AbstractAlgebra.RingElement at /Users/sivapvarma/.julia/packages/AbstractAlgebra/aF5Iw/src/generic/Matrix.jl:411\n  view(::StepRangeLen, ::OrdinalRange{var\"#s79\", S} where {var\"#s79\"&lt;:Integer, S}) at subarray.jl:198\n  view(::StepRange, ::AbstractRange{var\"#s79\"} where var\"#s79\"&lt;:Integer) at subarray.jl:194\n  ...\n\nStacktrace:\n  [1] uld_f!(du::Vector{Float64}, u::Vector{Float64}, p::Tuple{Float64, Int64}, t::Float64)```\nI think I setup the correct dimension of u by specifying u0. But it still considering u as a scalar, Int64 somehow.","user":"UJVG2FBUJ","ts":"1615847026.140500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BhXJo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Here is my attempt.\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"function uld_f!(du, u, p, t)\n    γ, u = p\n    x = @view u[1:2]\n    v = @view u[3:4]\n    dx = @view du[1:2]\n    dv = @view du[3:4]\n    dx = v\n    dv = -γ*v -u*gradU(x)\nend\n\nfunction uld_g!(du, u, p, t)\n    γ, u = p\n    x = @view u[1:2]\n    v = @view u[3:4]\n    dx = @view du[1:2]\n    dv = @view du[3:4]\n    @. dx = 0.0\n    @. dv = sqrt(2*γ*u)*ones(2)\nend\n\nu0 = [1., 1., 0., 0.]\np = (0.1, 1)\ntspan = (0.0,1.0)\nULD = SDEProblem(uld_f!, uld_g!, u0, tspan, p)\n\nsol = solve(ULD, EM(), dt=0.0001)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI get the following error\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"MethodError: no method matching view(::Int64, ::UnitRange{Int64})\nClosest candidates are:\n  view(::AbstractAlgebra.Generic.Mat{T}, ::UnitRange{Int64}, ::UnitRange{Int64}) where T<:AbstractAlgebra.RingElement at /Users/sivapvarma/.julia/packages/AbstractAlgebra/aF5Iw/src/generic/Matrix.jl:411\n  view(::StepRangeLen, ::OrdinalRange{var\"#s79\", S} where {var\"#s79\"<:Integer, S}) at subarray.jl:198\n  view(::StepRange, ::AbstractRange{var\"#s79\"} where var\"#s79\"<:Integer) at subarray.jl:194\n  ...\n\nStacktrace:\n  [1] uld_f!(du::Vector{Float64}, u::Vector{Float64}, p::Tuple{Float64, Int64}, t::Float64)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I think I setup the correct dimension of u by specifying u0. But it still considering u as a scalar, Int64 somehow."}]}]}]},{"client_msg_id":"1f540201-80d0-4b0b-8736-f47c1b308d05","type":"message","text":"Found the issue, i’m redefining u when I unpack the parameters.","user":"UJVG2FBUJ","ts":"1615847464.141000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WRn0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Found the issue, i’m redefining u when I unpack the parameters."}]}]}]},{"client_msg_id":"8e33fb88-0f48-4d96-b255-e40559ab0c52","type":"message","text":"Hello!   I have a few questions about DiffEqFlux.sciml_train function.  I'm trying to use it to optimize some of the parameters of the ODE.\n• The ODE depends on 4 parameters and some function. Can I supply parameters and this additional functions to the \"solve\" method together somehow? Looks like DiffEqFlux.solve \"p\" argument can be only a vector....        \n            This ODe function supposed to be inside a module, could it be possible to pass another function as an argument to it (smth like  here <https://diffeq.sciml.ai/dev/tutorials/ode_example/#Example-3:-Solving-Nonhomogeneous-Equations-using-Parameterized-Functions> )\n• Can I use other packages inside ODE function? I was trying to use Dierckx   and then it tells me   `ERROR: MethodError: no method matching Float64(::ReverseDiff.TrackedReal{Float64, Float64, Nothing})`\n","user":"U01JZDCFD6H","ts":"1615855157.144600","team":"T68168MUP","edited":{"user":"U01JZDCFD6H","ts":"1615855479.000000"},"blocks":[{"type":"rich_text","block_id":"qde0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello!   I have a few questions about DiffEqFlux.sciml_train function.  I'm trying to use it to optimize some of the parameters of the ODE.\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The ODE depends on 4 parameters and some function. Can I supply parameters and this additional functions to the \"solve\" method together somehow? Looks like DiffEqFlux.solve \"p\" argument can be only a vector....        "}]}],"style":"bullet","indent":0},{"type":"rich_text_section","elements":[{"type":"text","text":"            This ODe function supposed to be inside a module, could it be possible to pass another function as an argument to it (smth like  here "},{"type":"link","url":"https://diffeq.sciml.ai/dev/tutorials/ode_example/#Example-3:-Solving-Nonhomogeneous-Equations-using-Parameterized-Functions"},{"type":"text","text":" )\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can I use other packages inside ODE function? I was trying to use Dierckx   and then it tells me   "},{"type":"text","text":"ERROR: MethodError: no method matching Float64(::ReverseDiff.TrackedReal{Float64, Float64, Nothing})","style":{"code":true}}]}],"style":"bullet","indent":0},{"type":"rich_text_section","elements":[]}]}],"thread_ts":"1615855157.144600","reply_count":1,"reply_users_count":1,"latest_reply":"1615857754.003900","reply_users":["U69BL50BF"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Hello!   I have a question about DiffEqFlux.sciml_train  and solve functions: I have to have some interpolation inside my ODe function implementation... and trying to use Dierckx package for this. Then it tells me that  \"MethodError: no method matching Float64(::ReverseDiff.TrackedReal{Float64, Float64, Nothing})\". Are there any workarounds in this case?","ts":"1615856107.144800","username":"[gitter] <ig-or>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c175804g27iaek8aehs0","text":{"type":"mrkdwn","text":"Hello!   I have a question about DiffEqFlux.sciml_train  and solve functions: I have to have some interpolation inside my ODe function implementation... and trying to use Dierckx package for this. Then it tells me that  \"MethodError: no method matching Float64(::ReverseDiff.TrackedReal{Float64, Float64, Nothing})\". Are there any workarounds in this case?","verbatim":false}}]},{"client_msg_id":"7344fcac-d758-4315-ba00-7c18d92da5ac","type":"message","text":"<https://github.com/SciML/DiffEqSensitivity.jl/issues/395> even though it now gives the correct result, the number of partials is still still too high for zygote, making it a performance issue?","user":"UQEDP1Q5V","ts":"1615857500.002500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9CO","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/SciML/DiffEqSensitivity.jl/issues/395"},{"type":"text","text":" even though it now gives the correct result, the number of partials is still still too high for zygote, making it a performance issue?"}]}]}]},{"client_msg_id":"f26b039b-d809-47fc-acf8-5d9238ceec03","type":"message","text":"What do you mean?","user":"U69BL50BF","ts":"1615857682.003800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ft4K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do you mean?"}]}]}]},{"client_msg_id":"9c5d48f4-be7f-43ff-9da3-a455f4d0eceb","type":"message","text":"ForwardDiff\n```ForwardDiff.Dual{ForwardDiff.Tag{typeof(cost),Float64},Float64,1}[Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.5,1.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.0,0.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(3.0,0.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.0,0.0)]```\nZygote\n```ForwardDiff.Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64},Float64,4}[Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.5,1.0,0.0,0.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.0,0.0,1.0,0.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(3.0,0.0,0.0,1.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.0,0.0,0.0,0.0,1.0)]```","user":"UQEDP1Q5V","ts":"1615857858.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KIyQG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ForwardDiff\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ForwardDiff.Dual{ForwardDiff.Tag{typeof(cost),Float64},Float64,1}[Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.5,1.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.0,0.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(3.0,0.0), Dual{ForwardDiff.Tag{typeof(cost),Float64}}(1.0,0.0)]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Zygote\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ForwardDiff.Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64},Float64,4}[Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.5,1.0,0.0,0.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.0,0.0,1.0,0.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(3.0,0.0,0.0,1.0,0.0), Dual{ForwardDiff.Tag{ODEFunction{true,typeof(fiip),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,typeof(SciMLBase.DEFAULT_OBSERVED),Nothing},Float64}}(1.0,0.0,0.0,0.0,1.0)]"}]}]}]},{"client_msg_id":"76a20f5a-c2fe-4e9b-b611-72df4880766e","type":"message","text":"it's erroring after that?","user":"U69BL50BF","ts":"1615858146.004700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pIHt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's erroring after that?"}]}]}]},{"client_msg_id":"a776bffd-a392-4787-a1cf-f6d6ca4b3b94","type":"message","text":"No it seems to work fine","user":"UQEDP1Q5V","ts":"1615858228.005100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cj4N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No it seems to work fine"}]}]}]},{"client_msg_id":"e0d6533a-c251-4f50-9c0c-b8c20f6881f7","type":"message","text":"the issue is that I am only calculating the derivative towards the first parameter, yet there are 4 partials in the zygote implementation.","user":"UQEDP1Q5V","ts":"1615858319.006200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gn1S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the issue is that I am only calculating the derivative towards the first parameter, yet there are 4 partials in the zygote implementation."}]}]}]},{"type":"message","subtype":"bot_message","text":"Thanks  chrisrackauckas, Looks like Interpolations.jl is working!","ts":"1615858322.006300","username":"[gitter] <ig-or>","bot_id":"B795XHD0X","blocks":[{"type":"section","block_id":"matterbridge_c175804g27iaek8aehs0","text":{"type":"mrkdwn","text":"Thanks  chrisrackauckas, Looks like Interpolations.jl is working!","verbatim":false}}]},{"client_msg_id":"b03a39d6-9dcf-4bdf-bc7d-f5da03878f18","type":"message","text":"I'm having trouble overriding a default initial condition when constructing an ODEProblem","user":"U7ZNTQFLH","ts":"1615858355.007000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/j72P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm having trouble overriding a default initial condition when constructing an ODEProblem"}]}]}]},{"client_msg_id":"2dc2b971-d817-4d36-a7d6-78beb14cec35","type":"message","text":"It should simply be something like `ODEProblem(sys, [sys.x =&gt; 42.0], (0.0, 10.0))`, right?","user":"U7ZNTQFLH","ts":"1615858413.007800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y0ZUx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It should simply be something like "},{"type":"text","text":"ODEProblem(sys, [sys.x => 42.0], (0.0, 10.0))","style":{"code":true}},{"type":"text","text":", right?"}]}]}]},{"client_msg_id":"50ae4f09-c059-48f4-b08a-e0c886d143e4","type":"message","text":"Looks right","user":"U69BL50BF","ts":"1615861070.008500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Si0T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks right"}]}]}]},{"client_msg_id":"e25737a8-d1e0-405a-b463-41c3b30467ef","type":"message","text":"It just silently ignores the updated value","user":"U7ZNTQFLH","ts":"1615861269.009200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NWyuL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It just silently ignores the updated value"}]}]}],"thread_ts":"1615861269.009200","reply_count":1,"reply_users_count":1,"latest_reply":"1615861633.009300","reply_users":["UM8JUNJG7"],"subscribed":false},{"client_msg_id":"84e8e9e4-211c-457e-9c9f-87f487a423cf","type":"message","text":"100x accelerated uncertainty quantification of dynamical systems with Koopman Expectations? Come see how to use it with Pumas at the first Pumas 2.0 webinar at 12pm EST. Inviting the whole <https://twitter.com/hashtag/pharma?src=hashtag_click|#pharma>, <https://twitter.com/hashtag/julialang?src=hashtag_click|#julialang>, and <https://twitter.com/hashtag/sciml?src=hashtag_click|#sciml> community.\n\n<https://form.jotform.com/210605786318054>","user":"U69BL50BF","ts":"1615910088.010800","team":"T68168MUP","attachments":[{"title":"#pharma hashtag on Twitter","title_link":"https://twitter.com/hashtag/pharma?src=hashtag_click","text":"On Mar 15 @UPS_Healthcare tweeted: \"We recently added a 5,000 square foot co..\" - read what others are saying and join the conversation.","fallback":"#pharma hashtag on Twitter","from_url":"https://twitter.com/hashtag/pharma?src=hashtag_click","service_icon":"https://abs.twimg.com/icons/apple-touch-icon-192x192.png","service_name":"twitter.com","id":1,"original_url":"https://twitter.com/hashtag/pharma?src=hashtag_click"},{"title":"#julialang hashtag on Twitter","title_link":"https://twitter.com/hashtag/julialang?src=hashtag_click","text":"See Tweets about #julialang on Twitter. See what people are saying and join the conversation.","fallback":"#julialang hashtag on Twitter","from_url":"https://twitter.com/hashtag/julialang?src=hashtag_click","service_icon":"https://abs.twimg.com/icons/apple-touch-icon-192x192.png","service_name":"twitter.com","id":2,"original_url":"https://twitter.com/hashtag/julialang?src=hashtag_click"},{"title":"#sciml hashtag on Twitter","title_link":"https://twitter.com/hashtag/sciml?src=hashtag_click","text":"See Tweets about #sciml on Twitter. See what people are saying and join the conversation.","fallback":"#sciml hashtag on Twitter","from_url":"https://twitter.com/hashtag/sciml?src=hashtag_click","service_icon":"https://abs.twimg.com/icons/apple-touch-icon-192x192.png","service_name":"twitter.com","id":3,"original_url":"https://twitter.com/hashtag/sciml?src=hashtag_click"}],"blocks":[{"type":"rich_text","block_id":"GYdC3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"100x accelerated uncertainty quantification of dynamical systems with Koopman Expectations? Come see how to use it with Pumas at the first Pumas 2.0 webinar at 12pm EST. Inviting the whole "},{"type":"link","url":"https://twitter.com/hashtag/pharma?src=hashtag_click","text":"#pharma"},{"type":"text","text":", "},{"type":"link","url":"https://twitter.com/hashtag/julialang?src=hashtag_click","text":"#julialang"},{"type":"text","text":", and "},{"type":"link","url":"https://twitter.com/hashtag/sciml?src=hashtag_click","text":"#sciml"},{"type":"text","text":" community.\n\n"},{"type":"link","url":"https://form.jotform.com/210605786318054"}]}]}],"thread_ts":"1615910088.010800","reply_count":1,"reply_users_count":1,"latest_reply":"1615910568.011200","reply_users":["U69BL50BF"],"subscribed":false,"reactions":[{"name":"fast_parrot","users":["U9MED583T"],"count":1}]},{"client_msg_id":"1cd28455-f1d7-41a5-9d24-e6229030bc12","type":"message","text":"(i.e. 5 minutes!)","user":"U69BL50BF","ts":"1615910098.011100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MkiS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(i.e. 5 minutes!)"}]}]}]},{"client_msg_id":"7d2e00ee-c08c-448f-baf3-de8012efef95","type":"message","text":"<https://discourse.julialang.org/t/new-julia-package-for-f16-aircraft-model/57323>","user":"U7ZNTQFLH","ts":"1615923982.012900","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"New Julia Package for F16 Aircraft Model","title_link":"https://discourse.julialang.org/t/new-julia-package-for-f16-aircraft-model/57323","text":"F16Model.jl is a Julia package for a nonlinear model of the F16 aircraft. The aerodynamics included in this model come from the NASA Technical Report 1538, Simulator Study of Stall/Post-Stall Characteristics of a Fighter Airplane with Relaxed Longitudinal Static Stability , by Nguyen, Ogburn, Gilbert, Kibler, Brown, and Deal, Dec 1979. The model is based on Aircraft Control and Simulations , by Brian Stevens and Frank Lewis, Wiley Inter-Science, New York, 1992. This Julia package is inspired by...","fallback":"JuliaLang: New Julia Package for F16 Aircraft Model","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","fields":[{"title":"Reading time","value":"1 mins :clock2:","short":true},{"title":"Likes","value":"6 :heart:","short":true}],"ts":1615919070,"from_url":"https://discourse.julialang.org/t/new-julia-package-for-f16-aircraft-model/57323","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/new-julia-package-for-f16-aircraft-model/57323"}],"blocks":[{"type":"rich_text","block_id":"uOgl","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://discourse.julialang.org/t/new-julia-package-for-f16-aircraft-model/57323"}]}]}]},{"client_msg_id":"1706e40b-f31b-46fe-8129-4b37a5501566","type":"message","text":"^ would love to see this interfaced with/implemented in MTK (and might take a stab at it)","user":"U7ZNTQFLH","ts":"1615924021.013800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LpdZT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"^ would love to see this interfaced with/implemented in MTK (and might take a stab at it)"}]}]}]},{"client_msg_id":"94126892-b165-4b7b-a86c-e0fb90e9892f","type":"message","text":"Hi everyone, my name is Ilia, I’m a PhD student working on algorithms for structural identifiability of ODE models. I wanted to help out in implementing some local and/or global identifiability algorithms for MTK and Symbolics.jl.","user":"U01K1S5RZB9","ts":"1615949090.016800","team":"T68168MUP","edited":{"user":"U01K1S5RZB9","ts":"1615949118.000000"},"blocks":[{"type":"rich_text","block_id":"K0mM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hi everyone, my name is Ilia, I’m a PhD student working on algorithms for structural identifiability of ODE models. I wanted to help out in implementing some local and/or global identifiability algorithms for MTK and Symbolics.jl."}]}]}],"reactions":[{"name":"+1","users":["U69BL50BF"],"count":1},{"name":"+1::skin-tone-4","users":["U0138UTB7A4"],"count":1}]},{"client_msg_id":"81f54c4a-7932-43be-bfb7-d965e1a96f27","type":"message","text":"welcome!","user":"U69BL50BF","ts":"1615949148.017200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LBs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"welcome!"}]}]}],"reactions":[{"name":"100","users":["U01K1S5RZB9"],"count":1}]},{"client_msg_id":"da37f246-63c6-40c0-a2e7-f45badadedcd","type":"message","text":"thank you! :slightly_smiling_face:","user":"U01K1S5RZB9","ts":"1615949228.017500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r9g8l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you! "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"9ad4d191-5a4c-4cf8-a87e-6c7694c7b684","type":"message","text":"Is it possible or recommended to solve a secondary \"nested\" ODE system from within the step function of the outer system?","user":"U01H36BUDJB","ts":"1616075843.019300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8iYg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it possible or recommended to solve a secondary \"nested\" ODE system from within the step function of the outer system?"}]}]}]},{"client_msg_id":"ef087348-53da-4450-8765-f358f5391a02","type":"message","text":"what do you mean?","user":"U69BL50BF","ts":"1616076463.019700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=9z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what do you mean?"}]}]}]},{"client_msg_id":"33064151-8b3b-486c-92be-26ca60e5ecf5","type":"message","text":"solve a separate system of equations at each time step from within f","user":"U01H36BUDJB","ts":"1616077433.020400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DEjP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"solve a separate system of equations at each time step from within f"}]}]}]},{"client_msg_id":"32a87548-98fe-420c-96e3-0cb2ca6ca436","type":"message","text":"You can do that","user":"U69BL50BF","ts":"1616077502.020600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N7zRD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can do that"}]}]}]},{"client_msg_id":"7fb186e0-29e6-4161-936b-8ee059f45a11","type":"message","text":"Ok. But I would imagine it causes issues with sensitivity analysis, right?","user":"U01H36BUDJB","ts":"1616077555.021100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sIE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok. But I would imagine it causes issues with sensitivity analysis, right?"}]}]}]},{"client_msg_id":"344ac38c-75a1-45de-a87f-2844835353ce","type":"message","text":"it should just nest the differentiation","user":"U69BL50BF","ts":"1616077802.021300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u5Ut","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it should just nest the differentiation"}]}]}]},{"client_msg_id":"517ec533-56f6-403c-9566-d1559af6827a","type":"message","text":"I haven't tried it, but it sounds fun.","user":"U69BL50BF","ts":"1616077808.021500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xZ1j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I haven't tried it, but it sounds fun."}]}]}]},{"client_msg_id":"2CB01824-BE21-422C-B17A-28E451A3F248","type":"message","text":"Wrap that inner solve in an optimizer and you’ve essentially got model predictive control.","user":"US4A6G6B0","ts":"1616081669.022600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g2u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wrap that inner solve in an optimizer and you’ve essentially got model predictive control."}]}]}]},{"client_msg_id":"4B83C75F-BA46-4502-AF52-618354B10950","type":"message","text":"Although you really would want those inner solves to happen at longer fixed time steps with a callback, not at every step of the simulation.","user":"US4A6G6B0","ts":"1616081849.024100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2qH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Although you really would want those inner solves to happen at longer fixed time steps with a callback, not at every step of the simulation."}]}]}]},{"client_msg_id":"f2850e1b-6ff3-47cc-9e54-3887dc3783a9","type":"message","text":"In ModelingToolkit, is there a way to define a parameter that has numbers as its fields, rather than being a number itself? e.g. I define a struct with fields `e` and `i` so that `@parameter A` (or whatever more complicated definition) can then be in an equation as `A.e + A.i` ?","user":"U7MU896SE","ts":"1616092559.026400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"siyx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In ModelingToolkit, is there a way to define a parameter that has numbers as its fields, rather than being a number itself? e.g. I define a struct with fields "},{"type":"text","text":"e","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"i","style":{"code":true}},{"type":"text","text":" so that "},{"type":"text","text":"@parameter A","style":{"code":true}},{"type":"text","text":" (or whatever more complicated definition) can then be in an equation as "},{"type":"text","text":"A.e + A.i","style":{"code":true}},{"type":"text","text":" ?"}]}]}]},{"client_msg_id":"fce16546-c359-4bd1-a27d-c6c5181d01f1","type":"message","text":"not right now","user":"U69BL50BF","ts":"1616092757.029000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=z1PB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not right now"}]}]}]},{"client_msg_id":"e28ff9bc-7a39-48b2-b08d-ff968f1da85d","type":"message","text":"Err, `FieldVector` from StaticArrays.jl","user":"U69BL50BF","ts":"1616092773.029400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1pX/0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Err, "},{"type":"text","text":"FieldVector","style":{"code":true}},{"type":"text","text":" from StaticArrays.jl"}]}]}],"thread_ts":"1616092773.029400","reply_count":1,"reply_users_count":1,"latest_reply":"1616094024.030500","reply_users":["U7MU896SE"],"subscribed":false,"reactions":[{"name":"+1","users":["U7MU896SE"],"count":1}]},{"client_msg_id":"4b24e598-c078-4313-8250-d57c0cbca1cd","type":"message","text":"Also, if I define `@parameters theta t` and say `@variables u(t)` and `D = Differential(t)` and then have in my equation `D(u) ~ conv(kernel(theta), u)` , will it cleverly notice that `kernel(theta)` is always the same for given parameterization and precompute it, or do I need to make that a separate parameter?","user":"U7MU896SE","ts":"1616092833.030300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J0jL0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, if I define "},{"type":"text","text":"@parameters theta t","style":{"code":true}},{"type":"text","text":" and say "},{"type":"text","text":"@variables u(t)","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"D = Differential(t)","style":{"code":true}},{"type":"text","text":" and then have in my equation "},{"type":"text","text":"D(u) ~ conv(kernel(theta), u)","style":{"code":true}},{"type":"text","text":" , will it cleverly notice that "},{"type":"text","text":"kernel(theta)","style":{"code":true}},{"type":"text","text":" is always the same for given parameterization and precompute it, or do I need to make that a separate parameter?"}]}]}]}]}