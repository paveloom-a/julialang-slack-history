{"cursor": 15, "messages": [{"client_msg_id":"da17bb10-d56e-43ff-89db-068ba111f25c","type":"message","text":"Could someone possibly ELI5 what `*ERROR:* This solver is not able to use mass matrices.` might mean? (when calling `*solve(*::SciMLBase.ODEProblem)`.","user":"U7ZNTQFLH","ts":"1613929697.009500","team":"T68168MUP","edited":{"user":"U7ZNTQFLH","ts":"1613929734.000000"},"blocks":[{"type":"rich_text","block_id":"lOk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could someone possibly ELI5 what "},{"type":"text","text":"ERROR: ","style":{"bold":true,"code":true}},{"type":"text","text":"This solver is not able to use mass matrices.","style":{"code":true}},{"type":"text","text":" might mean? (when calling "},{"type":"text","text":"solve(","style":{"bold":true,"code":true}},{"type":"text","text":"::SciMLBase.ODEProblem)","style":{"code":true}},{"type":"text","text":"."}]}]}]},{"client_msg_id":"69fbc8dc-0cd1-47ea-b992-5f3a129da9dd","type":"message","text":"For context: I'm trying to figure out how best to compose systems, similar to what's shown in <https://mtk.sciml.ai/v5.0/tutorials/ode_modeling/#Copy-Paste-Example-1> but without doing the entire thing in a single function.","user":"U7ZNTQFLH","ts":"1613929951.010700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NPS3O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For context: I'm trying to figure out how best to compose systems, similar to what's shown in "},{"type":"link","url":"https://mtk.sciml.ai/v5.0/tutorials/ode_modeling/#Copy-Paste-Example-1"},{"type":"text","text":" but without doing the entire thing in a single function."}]}]}]},{"client_msg_id":"1d196eb0-5fd6-4d24-9bfc-95d20ea60199","type":"message","text":"That tutorial creates a mass matrix in order to satisfy the constraint equations","user":"U69BL50BF","ts":"1613930662.011100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1Pyf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That tutorial creates a mass matrix in order to satisfy the constraint equations"}]}]}]},{"client_msg_id":"97eeb87f-4328-4e06-a5c8-86022445b972","type":"message","text":"the solver you chose does not handle DAEs defined by mass matrices, i.e. <https://diffeq.sciml.ai/stable/solvers/dae_solve/#OrdinaryDiffEq.jl-(Mass-Matrix)>","user":"U69BL50BF","ts":"1613930677.011500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J09","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the solver you chose does not handle DAEs defined by mass matrices, i.e. "},{"type":"link","url":"https://diffeq.sciml.ai/stable/solvers/dae_solve/#OrdinaryDiffEq.jl-(Mass-Matrix)"}]}]}]},{"client_msg_id":"14f463b8-2528-4d2c-bcd5-8b8e4cc66cdb","type":"message","text":"Hmm, ok so I don't actually want to have a DAE in there at all, I'm just trying to figure out how to compose 2 ODEs (just double-integrator systems). My call to `ODESystem`  with 2 systems in the `systems=` argument only seems to work if I have a non-empty first argument so I'm just creating a trivial DAE, thinking that that might be what's needed.","user":"U7ZNTQFLH","ts":"1613931248.013500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IDwT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hmm, ok so I don't actually want to have a DAE in there at all, I'm just trying to figure out how to compose 2 ODEs (just double-integrator systems). My call to "},{"type":"text","text":"ODESystem","style":{"code":true}},{"type":"text","text":"  with 2 systems in the "},{"type":"text","text":"systems=","style":{"code":true}},{"type":"text","text":" argument only seems to work if I have a non-empty first argument so I'm just creating a trivial DAE, thinking that that might be what's needed."}]}]}]},{"client_msg_id":"5cd9d8a7-4a72-480e-afa5-5bb4f3c41d0d","type":"message","text":"Probably I shouldn't pattern-match like this :slightly_smiling_face:","user":"U7ZNTQFLH","ts":"1613931257.013800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4d+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Probably I shouldn't pattern-match like this "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"910fb040-80fb-4bdb-838e-99cbf6479e0e","type":"message","text":"Wait a sec... Aha, if I just create a dummy ODE instead then it seems to work (or at least doesn't error out)","user":"U7ZNTQFLH","ts":"1613931345.014300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tyxP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wait a sec... Aha, if I just create a dummy ODE instead then it seems to work (or at least doesn't error out)"}]}]}]},{"client_msg_id":"827d6d96-fded-4107-9753-2d1628ef6e23","type":"message","text":"I suspect that the dummy ODE shouldn't be required either but maybe I'm abusing the multiple-systems technique shown in the example.. For now my 2 ODEs don't interact which probably doesn't make sense, but I'm just trying to learn how to put together multiple ODEs. Maybe I do need a DAE in order to relate them?","user":"U7ZNTQFLH","ts":"1613931524.016000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JzBoz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I suspect that the dummy ODE shouldn't be required either but maybe I'm abusing the multiple-systems technique shown in the example.. For now my 2 ODEs don't interact which probably doesn't make sense, but I'm just trying to learn how to put together multiple ODEs. Maybe I do need a DAE in order to relate them?"}]}]}]},{"client_msg_id":"74e6d295-f6e4-4f16-ad06-4b144216f405","type":"message","text":"this is what the alias_elimination, etc. tools are for","user":"U69BL50BF","ts":"1613932379.018300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n20","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this is what the alias_elimination, etc. tools are for"}]}]}]},{"client_msg_id":"3f0af6dd-8704-4154-b97c-01c2c05e2da2","type":"message","text":"the tutorial hasn't been written on it yet because <@U6788D83U> is finishing up the last piece this week","user":"U69BL50BF","ts":"1613932392.018700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aAxK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the tutorial hasn't been written on it yet because "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" is finishing up the last piece this week"}]}]}]},{"client_msg_id":"e5b6c99f-7e19-498e-8ab2-123abe331ac7","type":"message","text":"very very soon there will be a tutorial on how to stitch models together and automatically eliminate down to ODEs and such","user":"U69BL50BF","ts":"1613932416.019200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Len","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"very very soon there will be a tutorial on how to stitch models together and automatically eliminate down to ODEs and such"}]}]}]},{"client_msg_id":"3ff6b6ea-3e60-4e58-a3b3-a73be0be074c","type":"message","text":"(it was supposed to be 2 weeks ago, but :shrug: found one last detail in the tutorial that was being written)","user":"U69BL50BF","ts":"1613932441.019700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zM7mb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(it was supposed to be 2 weeks ago, but "},{"type":"emoji","name":"shrug"},{"type":"text","text":" found one last detail in the tutorial that was being written)"}]}]}]},{"client_msg_id":"d60bedc2-7652-4a33-a965-10445a16ccd5","type":"message","text":"I see. I guess to be clear, if I have 2 ODESystems, defined in separate functions, and I want one of the states of ODESystem 1 to appear on the RHS of an equation in ODESystem 2, how would that work? I tried having the state from system 1 show up in system 2 as a parameter as well as a state and both errored. So is this exactly the kind of use case that alias_elimination is useful for?","user":"U7ZNTQFLH","ts":"1613932605.020700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vxwg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see. I guess to be clear, if I have 2 ODESystems, defined in separate functions, and I want one of the states of ODESystem 1 to appear on the RHS of an equation in ODESystem 2, how would that work? I tried having the state from system 1 show up in system 2 as a parameter as well as a state and both errored. So is this exactly the kind of use case that alias_elimination is useful for?"}]}]}]},{"client_msg_id":"03af6bfa-7611-4a86-af5b-22797994d60b","type":"message","text":"You would create a connector ODE system that has both of those as subsystems and state the `sys1.x ~ sys2.y` , and that equality then establishes that result","user":"U69BL50BF","ts":"1613932702.021400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rHy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You would create a connector ODE system that has both of those as subsystems and state the "},{"type":"text","text":"sys1.x ~ sys2.y","style":{"code":true}},{"type":"text","text":" , and that equality then establishes that result"}]}]}]},{"client_msg_id":"50240911-edc8-4158-8dca-e7a06dccef83","type":"message","text":"alias_elimination then sees the redundancy and eliminates it from the system","user":"U69BL50BF","ts":"1613932724.021900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2WqO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"alias_elimination then sees the redundancy and eliminates it from the system"}]}]}]},{"client_msg_id":"b7e0be1e-3b0a-4484-b969-eb39d26d2460","type":"message","text":"and the new indexing tools let you directly do `sol[sys1.x]` regardless of whether `sys1.x` actually exists","user":"U69BL50BF","ts":"1613932751.022500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rop","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and the new indexing tools let you directly do "},{"type":"text","text":"sol[sys1.x]","style":{"code":true}},{"type":"text","text":" regardless of whether "},{"type":"text","text":"sys1.x","style":{"code":true}},{"type":"text","text":" actually exists"}]}]}]},{"client_msg_id":"9b577b26-2bff-4858-9faf-bf03d7db87d5","type":"message","text":"I see.. and I'll need to be on master for any of this to work?","user":"U7ZNTQFLH","ts":"1613932778.022900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GAJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see.. and I'll need to be on master for any of this to work?"}]}]}]},{"client_msg_id":"a37230c5-4808-4754-b737-fc7990747746","type":"message","text":"no","user":"U69BL50BF","ts":"1613932795.023400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"anMEP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"375261ff-fc0d-4e8b-8fa0-d9d02f7f8c5f","type":"message","text":"I see the tests in <https://github.com/SciML/ModelingToolkit.jl/blob/0176fef5ad40920cf7f2b8af72db133f12185738/test/reduction.jl#L59> which I think are enough to figure it out","user":"U7ZNTQFLH","ts":"1613932799.023600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3fOh5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I see the tests in "},{"type":"link","url":"https://github.com/SciML/ModelingToolkit.jl/blob/0176fef5ad40920cf7f2b8af72db133f12185738/test/reduction.jl#L59"},{"type":"text","text":" which I think are enough to figure it out"}]}]}]},{"client_msg_id":"367ed421-56fa-4238-9193-a97b686af0a5","type":"message","text":"oh","user":"U7ZNTQFLH","ts":"1613932801.023800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+8y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh"}]}]}]},{"client_msg_id":"e5ccfe42-ba40-4e16-aebf-5a5f1ab0897a","type":"message","text":"but there are some singularity equations, essentially `0~0` , which will fail to eliminate","user":"U69BL50BF","ts":"1613932836.024400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ud66O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but there are some singularity equations, essentially "},{"type":"text","text":"0~0","style":{"code":true}},{"type":"text","text":" , which will fail to eliminate"}]}]}]},{"client_msg_id":"c2de71bf-3da2-4ee0-83d9-0244454453c5","type":"message","text":"cool, then maybe I'm close!","user":"U7ZNTQFLH","ts":"1613932840.024700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tI9DR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cool, then maybe I'm close!"}]}]}]},{"client_msg_id":"01354f20-b6d8-4b30-abfc-f478061a38f3","type":"message","text":"yes, those tests are for the elimination stuff","user":"U69BL50BF","ts":"1613932856.025300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dg9=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, those tests are for the elimination stuff"}]}]}]},{"client_msg_id":"a67aa6d9-835e-4dca-8579-64b4cecda0db","type":"message","text":"Perhaps if I can figure this out I could contribute a simple example","user":"U7ZNTQFLH","ts":"1613932860.025500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vspKe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Perhaps if I can figure this out I could contribute a simple example"}]}]}]},{"client_msg_id":"7a7335f0-ab70-4aaa-9a38-f865acaa0d06","type":"message","text":"it would be good to have a simple one, yes","user":"U69BL50BF","ts":"1613932899.025800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AX+6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it would be good to have a simple one, yes"}]}]}]},{"client_msg_id":"e13cb39f-d165-4d2d-9926-b5f9ad17af3b","type":"message","text":"and to see just whether it works","user":"U69BL50BF","ts":"1613932907.026100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mDQTN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and to see just whether it works"}]}]}]},{"client_msg_id":"9bf6d81b-6efd-4a1f-ae9a-fc6ef54d8fbf","type":"message","text":"the example we were looking at was an RLC circuit","user":"U69BL50BF","ts":"1613932918.026400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RQa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the example we were looking at was an RLC circuit"}]}]}]},{"client_msg_id":"a2fef7d1-e298-4719-bcce-99216d1bfe42","type":"message","text":"but anyways, documentation is exactly our next problem. <@U6788D83U> should be done with the singularity elimination piece in the next week, in which case we need to start figuring out how to share this whole modeling framework with all of the little transformation pieces","user":"U69BL50BF","ts":"1613932974.027600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m4p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but anyways, documentation is exactly our next problem. "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" should be done with the singularity elimination piece in the next week, in which case we need to start figuring out how to share this whole modeling framework with all of the little transformation pieces"}]}]}]},{"client_msg_id":"1b03286d-1c56-4a30-8397-8178ad917d02","type":"message","text":"OK.. let me see if I can figure it out and if so I'll post what I get, really it will be truly a MWE, maybe just 2 first-order systems in series.","user":"U7ZNTQFLH","ts":"1613933052.028900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PSYK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK.. let me see if I can figure it out and if so I'll post what I get, really it will be truly a MWE, maybe just 2 first-order systems in series."}]}]}]},{"client_msg_id":"3f797604-555d-4525-8392-7f006d9d3433","type":"message","text":"that would be a good start","user":"U69BL50BF","ts":"1613933144.030400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SwBeM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would be a good start"}]}]}]},{"client_msg_id":"6014326f-dfd7-407e-9672-c0c91b9647cc","type":"message","text":"IMO it would be nice to have more of that in ModelingToolkit which clearly is really powerful but for some of us mere mortals a little daunting to approach with easier problems on which to learn the ropes.","user":"U7ZNTQFLH","ts":"1613933145.030500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"utT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IMO it would be nice to have more of that in ModelingToolkit which clearly is really powerful but for some of us mere mortals a little daunting to approach with easier problems on which to learn the ropes."}]}]}]},{"client_msg_id":"4109b56d-d0a5-4248-9e01-adf38a05d3c0","type":"message","text":"Cool. OK thanks for all the help Chris!!","user":"U7ZNTQFLH","ts":"1613933156.030800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BF6C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool. OK thanks for all the help Chris!!"}]}]}]},{"client_msg_id":"55d6aa01-ef70-44bc-b13d-c3278ad752ef","type":"message","text":"our test models are thousands of equations, so don't worry, I am looking for simpler examples. Simple examples for people to copy paste and start from are the bedrock of good documentation","user":"U69BL50BF","ts":"1613933194.031700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o=kx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"our test models are thousands of equations, so don't worry, I am looking for simpler examples. Simple examples for people to copy paste and start from are the bedrock of good documentation"}]}]}],"reactions":[{"name":"+1","users":["U7ZNTQFLH"],"count":1}]},{"client_msg_id":"8e14c27c-f31f-46e1-b135-dae50b6c64af","type":"message","text":"We mostly don't have it yet because the library isn't \"done\" yet. It's not \"shipped\". It kinda got found a bit sooner than it should've haha. But it's only a month off.","user":"U69BL50BF","ts":"1613933223.032700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"maMn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We mostly don't have it yet because the library isn't \"done\" yet. It's not \"shipped\". It kinda got found a bit sooner than it should've haha. But it's only a month off."}]}]}]},{"client_msg_id":"043c52a9-ae1f-4640-a177-39fdc3b9d998","type":"message","text":"Yeah a nice ramp from the simple systems,  then simple systems composed, then more complicated systems, then those composed, etc..","user":"U7ZNTQFLH","ts":"1613933266.033400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mwm8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah a nice ramp from the simple systems,  then simple systems composed, then more complicated systems, then those composed, etc.."}]}]}]},{"client_msg_id":"8378b393-3a95-4bf7-88a7-204387d6151a","type":"message","text":"yeah","user":"U69BL50BF","ts":"1613933317.034700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XJQ7z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah"}]}]}]},{"client_msg_id":"8ba59d26-31c6-4c4b-8155-e413219ac911","type":"message","text":"the other piece is that we had to build a whole symbolic algebra system for this package","user":"U69BL50BF","ts":"1613933329.035200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CaYg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the other piece is that we had to build a whole symbolic algebra system for this package"}]}]}]},{"client_msg_id":"abc2162c-4d68-48c5-b79a-3c2fb70932f2","type":"message","text":"which is going to be put into Symbolics.jl","user":"U69BL50BF","ts":"1613933335.035500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p8Cn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is going to be put into Symbolics.jl"}]}]}]},{"client_msg_id":"6d7327af-b051-4559-866d-3a84342191e4","type":"message","text":"when the documentation of that is separated, then there will be a lot more \"space\"","user":"U69BL50BF","ts":"1613933345.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uPTr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when the documentation of that is separated, then there will be a lot more \"space\""}]}]}]},{"client_msg_id":"09ffa7f5-b631-446b-99be-586186c823e8","type":"message","text":"Where this is hopefully headed for me is I'd like to put together a model for simulating a spacecraft's ADCS, which will eventually get pretty complex (even if it's largely composed of simple pieces).","user":"U7ZNTQFLH","ts":"1613933353.036200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nkR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Where this is hopefully headed for me is I'd like to put together a model for simulating a spacecraft's ADCS, which will eventually get pretty complex (even if it's largely composed of simple pieces)."}]}]}]},{"client_msg_id":"632088e1-b571-40eb-919e-71add219f0b2","type":"message","text":"oh cool","user":"U69BL50BF","ts":"1613933363.036400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xM4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh cool"}]}]}]},{"client_msg_id":"9ac030cd-c714-4a22-a7e3-6eca9940dc7f","type":"message","text":"When I first found Julia I was neck-deep in a huge Simulink model for something similar and could see that eventually you could create something equivalent (minus the GUI), and I think ModelingToolkit looks like a key enabling technology.","user":"U7ZNTQFLH","ts":"1613933448.037900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Qlm8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I first found Julia I was neck-deep in a huge Simulink model for something similar and could see that eventually you could create something equivalent (minus the GUI), and I think ModelingToolkit looks like a key enabling technology."}]}]}],"reactions":[{"name":"100","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"b7828813-58ca-470c-8bc9-8ff780941995","type":"message","text":"Indeed, making it cover the space of \"Simulink without the GUI\" is precisely what we plan for it.","user":"U69BL50BF","ts":"1613933875.038600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBbX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Indeed, making it cover the space of \"Simulink without the GUI\" is precisely what we plan for it."}]}]}]},{"client_msg_id":"1f22d073-2bdc-41bd-92aa-4488e34b6e25","type":"message","text":"well, System Modeler, Modelica, etc.","user":"U69BL50BF","ts":"1613933886.038900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lEMyZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, System Modeler, Modelica, etc."}]}]}]},{"client_msg_id":"264b1aca-c66b-4a84-9978-1b7b4f60fe98","type":"message","text":"which is an extension to Simulink in some sense.","user":"U69BL50BF","ts":"1613933894.039200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zIiK+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is an extension to Simulink in some sense."}]}]}]},{"client_msg_id":"ea1f7271-41f8-4c9f-a4be-db023f1bf13b","type":"message","text":"is `ForwardSensitivity` ensemble safe? I'm running some multi start optimizations and I think there might be race conditions for the caches in `prob.f`?","user":"UQEDP1Q5V","ts":"1613941121.040400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I95","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is "},{"type":"text","text":"ForwardSensitivity","style":{"code":true}},{"type":"text","text":" ensemble safe? I'm running some multi start optimizations and I think there might be race conditions for the caches in"},{"type":"text","text":" prob.f","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"9364a2ec-f961-4b98-baa9-abf16861ba2e","type":"message","text":"it should be?","user":"U69BL50BF","ts":"1613941378.040600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1cq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it should be?"}]}]}]},{"client_msg_id":"17d806dd-f634-4b39-b056-da2ccd78144b","type":"message","text":"I don't know why it wouldn't be","user":"U69BL50BF","ts":"1613941382.040800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JCgF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know why it wouldn't be"}]}]}]},{"client_msg_id":"cc2e0c20-72cf-404c-a978-2adf9a05ddb7","type":"message","text":"Ok the problem was not with a race conditions. But I get very inaccurate results when using `Tsit5()` on the Lokta Volterra model with `ForwardSensitivity`.","user":"UQEDP1Q5V","ts":"1613945981.042800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nKSm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok the problem was not with a race conditions. But I get very inaccurate results when using "},{"type":"text","text":"Tsit5()","style":{"code":true}},{"type":"text","text":" on the Lokta Volterra model with "},{"type":"text","text":"ForwardSensitivity","style":{"code":true}},{"type":"text","text":"."}]}]}]},{"client_msg_id":"b3fe98d0-2279-4013-b9ab-d97cc4eb12e5","type":"message","text":"with low tolerances?","user":"U69BL50BF","ts":"1613950875.043100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kD4Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"with low tolerances?"}]}]}]},{"client_msg_id":"748e114d-5d9e-448c-9427-61b2851f1154","type":"message","text":"default tolerances","user":"UQEDP1Q5V","ts":"1613952441.043500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wjxn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"default tolerances"}]}]}]},{"client_msg_id":"47cc315e-fa4f-4d0f-a02e-f8d702527854","type":"message","text":"then the derivative is only calculated to an accuracy of like 2 digits.","user":"U69BL50BF","ts":"1613952944.043900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fQ0M9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then the derivative is only calculated to an accuracy of like 2 digits."}]}]}]},{"client_msg_id":"ec6135a5-b496-45dd-9d06-95d2ad01f959","type":"message","text":"<@U69BL50BF> Quick question: I'm seeing a 10x increase in number of timesteps returned by an ODE solution (using solver `Vern7`) when simply adding a `VectorContinuousCallback`. This is even with `interp_points=0` and `save_positions=(false, false)`. The callback does nothing in its `affect!`. Any idea what could be causing the timesteps to increase so much?","user":"U013L06JN15","ts":"1613987287.047600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+YYT","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" Quick question: I'm seeing a 10x increase in number of timesteps returned by an ODE solution (using solver "},{"type":"text","text":"Vern7","style":{"code":true}},{"type":"text","text":") when simply adding a "},{"type":"text","text":"VectorContinuousCallback","style":{"code":true}},{"type":"text","text":". This is even with "},{"type":"text","text":"interp_points=0","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"save_positions=(false, false)","style":{"code":true}},{"type":"text","text":". The callback does nothing in its "},{"type":"text","text":"affect!","style":{"code":true}},{"type":"text","text":". Any idea what could be causing the timesteps to increase so much?"}]}]}]},{"client_msg_id":"7122172d-c7e7-4342-9a6c-7e0f3947ff42","type":"message","text":"`ODESystem`has a field `default_u0` :\n`default_u0: The default initial conditions to use when initial conditions are not supplied in ODEProblem.`\nUnfortunately, I cannot find a way to create an `ODEProblem` without supplying `u0` (and using `ODESystem.default_u0`) instead). It seems there is no constructor that considers `u0` as optional.\nDoes anyone have an idea how that works?","user":"UQJA15XNF","ts":"1613994923.052100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ugoKw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ODESystem","style":{"code":true}},{"type":"text","text":"has a field "},{"type":"text","text":"default_u0","style":{"code":true}},{"type":"text","text":" :\n"},{"type":"text","text":"default_u0: The default initial conditions to use when initial conditions are not supplied in ODEProblem.","style":{"code":true}},{"type":"text","text":"\nUnfortunately, I cannot find a way to create an "},{"type":"text","text":"ODEProblem","style":{"code":true}},{"type":"text","text":" without supplying "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" (and using "},{"type":"text","text":"ODESystem.default_u0","style":{"code":true}},{"type":"text","text":") instead). It seems there is no constructor that considers "},{"type":"text","text":"u0","style":{"code":true}},{"type":"text","text":" as optional.\nDoes anyone have an idea how that works?"}]}]}]},{"client_msg_id":"8d8ee632-93f4-4f23-833b-c9629d3744d5","type":"message","text":"if you pass an empty array it should be good?","user":"U69BL50BF","ts":"1614000141.058200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Nv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you pass an empty array it should be good?"}]}]}]},{"client_msg_id":"e4ec766d-bd7f-4ecd-b25a-c58f9f962cf5","type":"message","text":"I think I'm closer to having these models connected properly but I must still be doing something wrong. The error message is pretty unhelpful but the stack trace mentions mass matrix which from what you were saying earlier <@U69BL50BF> that I'm still probably doing something wrong: <https://gist.github.com/pbouffard/b2cf4c4b0bc23d4693567a5714e2290c>","user":"U7ZNTQFLH","ts":"1614001145.060800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4OUBU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I'm closer to having these models connected properly but I must still be doing something wrong. The error message is pretty unhelpful but the stack trace mentions mass matrix which from what you were saying earlier "},{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" that I'm still probably doing something wrong: "},{"type":"link","url":"https://gist.github.com/pbouffard/b2cf4c4b0bc23d4693567a5714e2290c"}]}]}]},{"client_msg_id":"2ce03cd6-4151-4bff-b3e9-8f4a62574b53","type":"message","text":"can you show the post elimination equations?","user":"U69BL50BF","ts":"1614001184.061000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EKb3D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you show the post elimination equations?"}]}]}]},{"client_msg_id":"b53bf3fb-bd19-49c0-b878-ae60940d130e","type":"message","text":"```julia&gt; reduced_system\nModel ##ODESystem#258 with 2 equations\nStates (3):\n  decay1₊x(t)\n  decay1₊f(t)\n  decay2₊x(t)\nParameters (2):\n  decay1₊a\n  decay2₊a\nIncidence matrix:\n ×  ⋅  ×  ⋅  ×\n ×  ×  ⋅  ×  ⋅```\ntake a look at the comment in the gist after the code for the full output.","user":"U7ZNTQFLH","ts":"1614001367.062400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mvx","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> reduced_system\nModel ##ODESystem#258 with 2 equations\nStates (3):\n  decay1₊x(t)\n  decay1₊f(t)\n  decay2₊x(t)\nParameters (2):\n  decay1₊a\n  decay2₊a\nIncidence matrix:\n ×  ⋅  ×  ⋅  ×\n ×  ×  ⋅  ×  ⋅"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\ntake a look at the comment in the gist after the code for the full output."}]}]}]},{"client_msg_id":"127d556b-ef61-4c32-9b57-23f762c0a355","type":"message","text":"Sorry, maybe you meant:\n```julia&gt; equations(reduced_system)\n2-element Vector{Equation}:\n Differential(t)(decay1₊x(t)) ~ decay1₊f(t) - (decay1₊a*(decay1₊x(t)))\n Differential(t)(decay2₊x(t)) ~ decay1₊x(t) - (decay2₊a*(decay2₊x(t)))```","user":"U7ZNTQFLH","ts":"1614001643.062700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gdF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sorry, maybe you meant:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> equations(reduced_system)\n2-element Vector{Equation}:\n Differential(t)(decay1₊x(t)) ~ decay1₊f(t) - (decay1₊a*(decay1₊x(t)))\n Differential(t)(decay2₊x(t)) ~ decay1₊x(t) - (decay2₊a*(decay2₊x(t)))"}]}]}]},{"client_msg_id":"0b242c1d-4e68-4640-8009-c6dc9d68ae8a","type":"message","text":"which seems right to me","user":"U7ZNTQFLH","ts":"1614001662.062900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"70CIQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which seems right to me"}]}]}]},{"client_msg_id":"53c7f19f-82ee-4c05-b983-f4b07fbb31cf","type":"message","text":"yeah, that shouldn't have a mass matrix","user":"U69BL50BF","ts":"1614002160.063100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yJjZZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that shouldn't have a mass matrix"}]}]}]},{"client_msg_id":"90fae003-0a7c-4061-8237-bbf43b471013","type":"message","text":"when you generate the problem type, what does `prob.mass_matrix` give/","user":"U69BL50BF","ts":"1614002170.063400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jN/5P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"when you generate the problem type, what does "},{"type":"text","text":"prob.mass_matrix","style":{"code":true}},{"type":"text","text":" give/"}]}]}]},{"client_msg_id":"1a064cdb-2552-46ff-b1cb-4460e6fbd861","type":"message","text":"I can't get that far--the error is in constructing `prob`..","user":"U7ZNTQFLH","ts":"1614002353.064000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NjC5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I can't get that far--the error is in constructing "},{"type":"text","text":"prob","style":{"code":true}},{"type":"text","text":".."}]}]}]},{"client_msg_id":"5401da65-5765-4fb3-b369-ff9974cbbfd2","type":"message","text":"oh","user":"U69BL50BF","ts":"1614002671.064200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3=Bd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh"}]}]}]},{"client_msg_id":"5f76dc9f-00c5-412e-8df6-a1fdce1ebbff","type":"message","text":"I'm getting this error when creating `SavingCallback` : *`MethodError: no method matching DataStructures.BinaryHeap{T,Base.Order.ForwardOrdering} where T(::Array{Float64,0})`*","user":"U01H36BUDJB","ts":"1614008328.066100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DtXK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm getting this error when creating "},{"type":"text","text":"SavingCallback","style":{"code":true}},{"type":"text","text":" : "},{"type":"text","text":"MethodError: no method matching DataStructures.BinaryHeap{T,Base.Order.ForwardOrdering} where T(::Array{Float64,0})","style":{"bold":true,"code":true}}]}]}]},{"client_msg_id":"78879676-3d15-478f-85ee-2743ab4e1ea6","type":"message","text":"Smells like a dependency issue, but I'm not sure.","user":"U01H36BUDJB","ts":"1614008358.066500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qIfRl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Smells like a dependency issue, but I'm not sure."}]}]}]},{"client_msg_id":"ebbad7d2-accd-4458-96a8-539cab0e244e","type":"message","text":"what version of DataStructures?","user":"U69BL50BF","ts":"1614008441.066700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3YL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what version of DataStructures?"}]}]}]},{"client_msg_id":"f7f07552-1de1-4d53-9d9a-8d1f4c9b822e","type":"message","text":"DataStructures broke a bunch of things awhile back so we needed to lower bound it.","user":"U69BL50BF","ts":"1614008459.067200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OQx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"DataStructures broke a bunch of things awhile back so we needed to lower bound it."}]}]}]},{"client_msg_id":"f86f7f6e-6a5b-4751-b145-b4536d131c3e","type":"message","text":"oh wait","user":"U69BL50BF","ts":"1614008467.067500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0B+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh wait"}]}]}]},{"client_msg_id":"08aa6a78-5236-49ce-a74e-8c5d5f1cec5a","type":"message","text":"[864edb3b] DataStructures v0.18.9","user":"U01H36BUDJB","ts":"1614008469.067700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RqlUT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"[864edb3b] DataStructures v0.18.9"}]}]}]},{"client_msg_id":"8c568685-4d85-4b82-b46f-354aaa046498","type":"message","text":"that's not a datastructures thing","user":"U69BL50BF","ts":"1614008472.067800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bHKIY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's not a datastructures thing"}]}]}]},{"client_msg_id":"259920c2-9089-427d-a409-eecf5ceef761","type":"message","text":"How did you get a 0-dimensional array?","user":"U69BL50BF","ts":"1614008482.068100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ir3+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How did you get a 0-dimensional array?"}]}]}]},{"client_msg_id":"4484259f-94c4-4926-8b50-155811450c3c","type":"message","text":"I don't know","user":"U01H36BUDJB","ts":"1614008492.068300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/bV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know"}]}]}]},{"client_msg_id":"e4e9636b-f370-4162-949c-7e6f5be7f335","type":"message","text":"that would be good to find out.","user":"U69BL50BF","ts":"1614008504.068600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q3T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that would be good to find out."}]}]}]},{"client_msg_id":"78a71419-1730-4dc3-82c4-5be6c84db5d1","type":"message","text":"I don't think I gave it one","user":"U01H36BUDJB","ts":"1614008506.068700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DYZUF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't think I gave it one"}]}]}]},{"client_msg_id":"3e7ac1e7-3c92-4672-b6fc-27cc331ff578","type":"message","text":"odd number types or something?","user":"U69BL50BF","ts":"1614008518.068900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"p3Px6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"odd number types or something?"}]}]}]},{"client_msg_id":"529ae389-3ccb-4d12-b122-7667233912ce","type":"message","text":"```out = SavedValues(Float64, Tuple{typeof(model.state.soil.T),typeof(model.state.soil.θl)})\ncb = SavingCallback((u,t,integrator)-&gt;(model.state.soil.T, model.state.soil.θl), out, saveat=3.0*3600.0)```\nBoth of those types are one-dimensional SubArrays.","user":"U01H36BUDJB","ts":"1614008608.069400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nVB","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"out = SavedValues(Float64, Tuple{typeof(model.state.soil.T),typeof(model.state.soil.θl)})\ncb = SavingCallback((u,t,integrator)->(model.state.soil.T, model.state.soil.θl), out, saveat=3.0*3600.0)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Both of those types are one-dimensional SubArrays."}]}]}],"thread_ts":"1614008608.069400","reply_count":2,"reply_users_count":2,"latest_reply":"1614009632.073300","reply_users":["U69BL50BF","U01H36BUDJB"],"subscribed":false},{"client_msg_id":"e5e70cec-c6f8-4b94-9a17-8bb43f818514","type":"message","text":"`SubArray{Float64,1,Array{Float64,1},Tuple{UnitRange{Int64}},true}`","user":"U01H36BUDJB","ts":"1614008646.069600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DCg77","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"SubArray{Float64,1,Array{Float64,1},Tuple{UnitRange{Int64}},true}","style":{"code":true}}]}]}]},{"client_msg_id":"a2fcb35b-65b4-4fdb-8417-079a2382f6ad","type":"message","text":"oh wait","user":"U01H36BUDJB","ts":"1614008700.069800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jFJf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh wait"}]}]}]},{"client_msg_id":"f7d090ed-50d3-4cb7-a4ab-afcfcd1cad92","type":"message","text":"nope nevermind, I don't see the issue","user":"U01H36BUDJB","ts":"1614008729.070000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l/S","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nope nevermind, I don't see the issue"}]}]}]},{"type":"message","text":"","files":[{"id":"F01P9PWACN5","created":1614008741,"timestamp":1614008741,"name":"Untitled","title":"Untitled","mimetype":"text/plain","filetype":"julia","pretty_type":"Julia","user":"U7ZNTQFLH","editable":true,"size":657,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01P9PWACN5/untitled","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01P9PWACN5/download/untitled","permalink":"https://julialang.slack.com/files/U7ZNTQFLH/F01P9PWACN5/untitled","permalink_public":"https://slack-files.com/T68168MUP-F01P9PWACN5-e236cbd01c","edit_link":"https://julialang.slack.com/files/U7ZNTQFLH/F01P9PWACN5/untitled/edit","preview":"function calculate_massmatrix(sys::AbstractODESystem; simplify=false)\n    eqs = equations(sys)\n    dvs = states(sys)\n    M = zeros(length(eqs),length(eqs))\n    for (i,eq) in enumerate(eqs)","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-keyword\">function</span> <span class=\"cm-def\">calculate_massmatrix</span>(<span class=\"cm-variable\">sys</span><span class=\"cm-builtin\">::AbstractODESystem</span>; <span class=\"cm-variable\">simplify</span><span class=\"cm-operator\">=</span><span class=\"cm-builtin\">false</span>)</pre></div>\n<div><pre>    <span class=\"cm-variable\">eqs</span> <span class=\"cm-operator\">=</span> <span class=\"cm-builtin\">equations</span>(<span class=\"cm-variable\">sys</span>)</pre></div>\n<div><pre>    <span class=\"cm-variable\">dvs</span> <span class=\"cm-operator\">=</span> <span class=\"cm-builtin\">states</span>(<span class=\"cm-variable\">sys</span>)</pre></div>\n<div><pre>    <span class=\"cm-variable\">M</span> <span class=\"cm-operator\">=</span> <span class=\"cm-builtin\">zeros</span>(<span class=\"cm-builtin\">length</span>(<span class=\"cm-variable\">eqs</span>),<span class=\"cm-builtin\">length</span>(<span class=\"cm-variable\">eqs</span>))</pre></div>\n<div><pre>    <span class=\"cm-keyword\">for</span> (<span class=\"cm-variable\">i</span>,<span class=\"cm-variable\">eq</span>) <span class=\"cm-operator\">in</span> <span class=\"cm-builtin\">enumerate</span>(<span class=\"cm-variable\">eqs</span>)</pre></div>\n</div>\n</div>\n","lines":16,"lines_more":11,"preview_is_truncated":false,"is_starred":false,"has_rich_preview":false}],"upload":true,"user":"U7ZNTQFLH","display_as_bot":false,"ts":"1614008742.070100","client_msg_id":"5d5d5bca-323e-4271-affb-c7e62b701b23","thread_ts":"1614008742.070100","reply_count":1,"reply_users_count":1,"latest_reply":"1614009099.072000","reply_users":["U69BL50BF"],"subscribed":false},{"client_msg_id":"9c37f572-15ce-444e-8c57-4f85fa720bb4","type":"message","text":"The issue is that the result of `findfirst` is `nothing`. It seems to have something to do with 'namespacing', i.e.\n```&gt; tosymbol.(dvs)\n[:decay1₊x, :decay1₊f, :decay2₊x]```\nbut\n```&gt; tosymbol(var_from_nested_derivative(eq.lhs)[1])\n:x```","user":"U7ZNTQFLH","ts":"1614008804.070800","team":"T68168MUP","edited":{"user":"U7ZNTQFLH","ts":"1614008814.000000"},"blocks":[{"type":"rich_text","block_id":"cUxx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The issue is that the result of "},{"type":"text","text":"findfirst","style":{"code":true}},{"type":"text","text":" is "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":". It seems to have something to do with 'namespacing', i.e.\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"> tosymbol.(dvs)\n[:decay1₊x, :decay1₊f, :decay2₊x]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"but\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"> tosymbol(var_from_nested_derivative(eq.lhs)[1])\n:x"}]}]}]},{"client_msg_id":"bec0fefa-49ab-46db-a7b2-16824f3d268a","type":"message","text":"<@U69BL50BF> It's the `saveat` argument. It behaves differently than in `solve` , which according to the documentation, it should not.","user":"U01H36BUDJB","ts":"1614008980.071700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k0X","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" It's the "},{"type":"text","text":"saveat","style":{"code":true}},{"type":"text","text":" argument. It behaves differently than in "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" , which according to the documentation, it should not."}]}]}]},{"client_msg_id":"35e8a668-04aa-4faa-a6cf-3b4137c3cd00","type":"message","text":"how does it?","user":"U69BL50BF","ts":"1614009046.071900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tp3o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"how does it?"}]}]}]},{"client_msg_id":"35da8ccc-27c9-4605-81bd-82aeda948699","type":"message","text":"`saveat` in `solve` allows you to specify a scalar interval, like `0.1` meaning every 0.1 seconds. `saveat` in SavingCallback expects a vector.","user":"U01H36BUDJB","ts":"1614009545.073200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"egc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"saveat","style":{"code":true}},{"type":"text","text":" in "},{"type":"text","text":"solve","style":{"code":true}},{"type":"text","text":" allows you to specify a scalar interval, like "},{"type":"text","text":"0.1","style":{"code":true}},{"type":"text","text":" meaning every 0.1 seconds. "},{"type":"text","text":"saveat","style":{"code":true}},{"type":"text","text":" in SavingCallback expects a vector."}]}]}]},{"client_msg_id":"efd44c92-76cd-4263-bf08-c54700fd3c20","type":"message","text":"there might be an issue already open on DiffEqCallbacks about that.","user":"U69BL50BF","ts":"1614009916.073700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZS1s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there might be an issue already open on DiffEqCallbacks about that."}]}]}]}]}