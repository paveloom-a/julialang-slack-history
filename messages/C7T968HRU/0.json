{"cursor": 4, "messages": [{"client_msg_id":"9cb9e70f-dfdd-432e-b6cc-939657c05ed5","type":"message","text":"collocation methods get a banded matrix unless it's a multi-point","user":"U69BL50BF","ts":"1609950418.237000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pUqb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"collocation methods get a banded matrix unless it's a multi-point"}]}]}]},{"client_msg_id":"46734296-f482-47fe-ab85-21b5ef8cc789","type":"message","text":"in which case you get a sparse matrix","user":"U69BL50BF","ts":"1609950423.237200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+BJg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in which case you get a sparse matrix"}]}]}]},{"client_msg_id":"c60514c3-e717-4c17-ad6d-f842e1e3a6d6","type":"message","text":"MIRK4 already has the banded specializations, but it's just not adaptive.","user":"U69BL50BF","ts":"1609950443.237900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2SM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"MIRK4 already has the banded specializations, but it's just not adaptive."}]}]}]},{"client_msg_id":"b365587b-748d-4ade-9437-f892a90110ef","type":"message","text":"the adaptivity is pretty trivial, we just haven't done it.","user":"U69BL50BF","ts":"1609950452.238400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b8ud","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the adaptivity is pretty trivial, we just haven't done it."}]}]}]},{"client_msg_id":"44787ac8-67cd-485f-9ee6-956f50804f3d","type":"message","text":"it would be a great GSoC for this summer though...","user":"U69BL50BF","ts":"1609950485.238800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Mwm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it would be a great GSoC for this summer though..."}]}]}],"thread_ts":"1609950485.238800","reply_count":1,"reply_users_count":1,"latest_reply":"1609950736.241300","reply_users":["U7GQE9JP9"],"subscribed":false},{"client_msg_id":"6ac51858-a2b7-4dda-9aac-8243a8095218","type":"message","text":"well, I developped a lot of linear algebra to make trapeze scale well and I feel it wont do good to increase the order (i may be wrong). In bifurcation theory, collocation is a bottleneck for computing periodic orbits in large dimensions, that’s why there are not so many codes for bifurcation theory and PDE","user":"U7GQE9JP9","ts":"1609950547.239900","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609950581.000000"},"blocks":[{"type":"rich_text","block_id":"Zqvpa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well, I developped a lot of linear algebra to make trapeze scale well and I feel it wont do good to increase the order (i may be wrong). In bifurcation theory, collocation is a bottleneck for computing periodic orbits in large dimensions, that’s why there are not so many codes for bifurcation theory and PDE"}]}]}]},{"client_msg_id":"6ae0aa89-94e6-41a4-992d-3b8d4ff3bd8b","type":"message","text":"Would ApproxFun work?","user":"U6788D83U","ts":"1609950566.240400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tU3j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would ApproxFun work?"}]}]}]},{"client_msg_id":"48c7b3b7-d280-4470-ae1e-2ba9ad010ba4","type":"message","text":"way slower","user":"U7GQE9JP9","ts":"1609950590.240700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sf/v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"way slower"}]}]}]},{"client_msg_id":"96e3a856-88f7-4be3-9390-fc4770dd219a","type":"message","text":"believe me, I wish it is not :smile: . Actually, I am talking about periodic orbits, so the BVP is a bit special. You have to desingularise it a phase condition\n\nTrixi seems very appealing with AMR","user":"U7GQE9JP9","ts":"1609950620.241200","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609950803.000000"},"blocks":[{"type":"rich_text","block_id":"+iO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"believe me, I wish it is not "},{"type":"emoji","name":"smile"},{"type":"text","text":" . Actually, I am talking about periodic orbits, so the BVP is a bit special. You have to desingularise it a phase condition\n\nTrixi seems very appealing with AMR"}]}]}]},{"client_msg_id":"3f35c15a-1c48-4684-9713-f6bc70a7954f","type":"message","text":"Hello, I’m getting some weird behavior with solving a differential equation in which the current time `t` seems to step forward and then step back and get stuck at `t = 0` is there any reason why this could happen? The code is too unwieldy for me to give a small working example.","user":"UFH4C3LBT","ts":"1609957159.245200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e07M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello, I’m getting some weird behavior with solving a differential equation in which the current time "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" seems to step forward and then step back and get stuck at "},{"type":"text","text":"t = 0","style":{"code":true}},{"type":"text","text":" is there any reason why this could happen? The code is too unwieldy for me to give a small working example."}]}]}]},{"client_msg_id":"ac4c2dd7-ec29-4bce-9a82-f5c93228fe59","type":"message","text":"I have some debugging output:\n```(t, focalCN, inflow, outflow, u[focal...]) = (Dual{ForwardDiff.Tag{DiffEqBase.TimeGradientWrapper{ODEFunction{true,typeof(ploidyModel),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Array{Float64,5},Tuple{Main.PolyharmonicInterpolation.PolyharmonicInterpolator,Int64,Array{StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}},1},Float64,Float64}},Float64}}(0.0,1.0), [3.0, 2.0, 2.0, 2.0, 2.0], 0.03529825592368553, 0.0, 0.0)```\nWhere `t` is time, `focalCN` is an array related to `focal` which is the cartesian coordinate for elements of the tensor `u` and `inflow` , `outflow` are values calculated in other functions. Before it breaks it does have normal output:\n```(t, focalCN, inflow, outflow, u[focal...]) = (8.956967086286162e-5, [1.0, 2.0, 2.0, 2.0, 3.0], 2.208442550031631e-8, 0.0, 0.0)```","user":"UFH4C3LBT","ts":"1609957472.247000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zOpk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have some debugging output:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(t, focalCN, inflow, outflow, u[focal...]) = (Dual{ForwardDiff.Tag{DiffEqBase.TimeGradientWrapper{ODEFunction{true,typeof(ploidyModel),UniformScaling{Bool},Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing,Nothing},Array{Float64,5},Tuple{Main.PolyharmonicInterpolation.PolyharmonicInterpolator,Int64,Array{StepRangeLen{Float64,Base.TwicePrecision{Float64},Base.TwicePrecision{Float64}},1},Float64,Float64}},Float64}}(0.0,1.0), [3.0, 2.0, 2.0, 2.0, 2.0], 0.03529825592368553, 0.0, 0.0)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Where "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" is time, "},{"type":"text","text":"focalCN","style":{"code":true}},{"type":"text","text":" is an array related to "},{"type":"text","text":"focal","style":{"code":true}},{"type":"text","text":" which is the cartesian coordinate for elements of the tensor "},{"type":"text","text":"u","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"inflow","style":{"code":true}},{"type":"text","text":" , "},{"type":"text","text":"outflow","style":{"code":true}},{"type":"text","text":" are values calculated in other functions. Before it breaks it does have normal output:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(t, focalCN, inflow, outflow, u[focal...]) = (8.956967086286162e-5, [1.0, 2.0, 2.0, 2.0, 3.0], 2.208442550031631e-8, 0.0, 0.0)"}]}]}]},{"client_msg_id":"e25a89d2-89ad-4d8d-986f-43dc7deecb08","type":"message","text":"<@U69BL50BF> is there something that can cause the solver to restart and get caught in a loop?","user":"UFH4C3LBT","ts":"1609960612.247400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zEXB","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" is there something that can cause the solver to restart and get caught in a loop?"}]}]}]},{"client_msg_id":"075070F7-C739-445A-A69E-23778D61C9D5","type":"message","text":"That’s a very general question. Have you tried to decrease maxiters and see if the solve was taking very small time steps?","user":"U6788D83U","ts":"1609961674.249200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2Ti","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That’s a very general question. Have you tried to decrease maxiters and see if the solve was taking very small time steps?"}]}]}]},{"client_msg_id":"21928E4B-AB4F-43FE-90F2-DA0231D43520","type":"message","text":"Is your problem stiff? Maybe you want to use a stiff solver","user":"U6788D83U","ts":"1609961710.250100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yc=N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is your problem stiff? Maybe you want to use a stiff solver"}]}]}]},{"client_msg_id":"ebde35fd-b638-4215-8278-c74fb2d483d7","type":"message","text":"I didn’t know the steps cause it to go backward in time though","user":"UFH4C3LBT","ts":"1609961993.250500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"flo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn’t know the steps cause it to go backward in time though"}]}]}]},{"client_msg_id":"e2992c34-e86e-471a-ba8e-46b8af17d426","type":"message","text":"I will try implementing and get back to you. I have no reason to expect stiffness. It is just a gigantic birth-death process with movement between the compartments (elements of the tensor) via so rate.","user":"UFH4C3LBT","ts":"1609962033.251400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/uh8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I will try implementing and get back to you. I have no reason to expect stiffness. It is just a gigantic birth-death process with movement between the compartments (elements of the tensor) via so rate."}]}]}]},{"client_msg_id":"d8d8ebb8-d29d-4ca0-bab4-8bfed76a6aa0","type":"message","text":"So I don’t expect separation of time scales.","user":"UFH4C3LBT","ts":"1609962058.251900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y/ne","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I don’t expect separation of time scales."}]}]}]},{"client_msg_id":"74bfefbc-fade-4b56-9383-6c1257dd26cc","type":"message","text":"Is there any hint as to what broke that caused the output above to print that info rather than the numbers from the normal output?","user":"UFH4C3LBT","ts":"1609962169.252500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4V2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there any hint as to what broke that caused the output above to print that info rather than the numbers from the normal output?"}]}]}]},{"client_msg_id":"a7457804-e9dc-4252-b6c2-27d6da6afa99","type":"message","text":"The solver never steps backwards. It could reject steps though, so when you print `t` in the derivative function, you can see `t` decreases.","user":"U6788D83U","ts":"1609963237.254100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xNbR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The solver never steps backwards. It could reject steps though, so when you print "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" in the derivative function, you can see "},{"type":"text","text":"t","style":{"code":true}},{"type":"text","text":" decreases."}]}]}]},{"client_msg_id":"ae4296df-cefd-4f0d-8cc7-a2699198a4e4","type":"message","text":"Ahhh. Thanks <@U6788D83U>, makes sense. I will play around with it some more.","user":"UFH4C3LBT","ts":"1609964645.254500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j6SIw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ahhh. Thanks "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":", makes sense. I will play around with it some more."}]}]}]},{"client_msg_id":"389c8809-e8fd-4661-81e0-0ee44745d802","type":"message","text":"<@UFH4C3LBT> do you have a discontinuity at that time?","user":"U69BL50BF","ts":"1609964915.254800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cy/gY","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UFH4C3LBT"},{"type":"text","text":" do you have a discontinuity at that time?"}]}]}]},{"client_msg_id":"5e9ef590-5b9e-4689-af64-0da999f45011","type":"message","text":"Not that I am aware. The equation is of the form of a birth-death process with movement between compartments via the tensor q (the indices `i` are a vector `i = (i1,i2,…,i5)`\n```u_i' = \\sum_j (r_j q_{ji} u_j) - r_i u_i(1 - q_{ii}) - d_i u_i```\n`d_i` is constant right now, but all other parameters are given by functions","user":"UFH4C3LBT","ts":"1609965088.257600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Qg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not that I am aware. The equation is of the form of a birth-death process with movement between compartments via the tensor q (the indices "},{"type":"text","text":"i","style":{"code":true}},{"type":"text","text":" are a vector "},{"type":"text","text":"i = (i1,i2,…,i5)","style":{"code":true}},{"type":"text","text":"\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"u_i' = \\sum_j (r_j q_{ji} u_j) - r_i u_i(1 - q_{ii}) - d_i u_i"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"d_i","style":{"code":true}},{"type":"text","text":" is constant right now, but all other parameters are given by functions"}]}]}]},{"client_msg_id":"d699d7e3-12ee-4d4b-85bb-008ceb747db8","type":"message","text":"I had problems with Rodas, but Tsit5 seems to be working at this point. The total number of compartments is big (&gt;3000)","user":"UFH4C3LBT","ts":"1609965244.258300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HyD2E","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I had problems with Rodas, but Tsit5 seems to be working at this point. The total number of compartments is big (>3000)"}]}]}]},{"client_msg_id":"98021180-4910-4a98-b51e-1a0e9d533417","type":"message","text":"<@U69BL50BF> or <@U6788D83U> Can you please help me see the jacobian of the BVP? I want to see its shape. I am almost there but I am getting lost in your constructs\n\n```using Revise\nusing BoundaryValueDiffEq\nusing  ForwardDiff\nconst FD = ForwardDiff\n\nconst g = 9.81\nL = 1.0\ntspan = (0.0,pi/2)\nfunction simplependulum!(du,u,p,t)\n    θ  = u[1]\n    dθ = u[2]\n    du[1] = dθ\n    du[2] = -(g/L)*sin(θ)\nend\n\nfunction bc1!(residual, u, p, t)\n    residual[1] = u[end÷2][1] + pi/2 # the solution at the middle of the time span should be -pi/2\n    residual[2] = u[end][1] - pi/2 # the solution at the end of the time span should be pi/2\nend\nbvp1 = BVProblem(simplependulum!, bc1!, [pi/2,pi/2], tspan)\nsol1 = solve(bvp1, GeneralMIRK4(), dt=0.05)\n\n\nimport BoundaryValueDiffEq: BVPSystem, constructMIRK, alg_cache, BVPJacobianWrapper, ConstructJacobian\nfunction getJac(prob::BVProblem, alg; dt=0.0, kwargs...)\n    if dt&lt;=0\n        error(\"dt must be positive\")\n    end\n    n = Int(cld((prob.tspan[2]-prob.tspan[1]),dt))\n    x = collect(range(prob.tspan[1], stop=prob.tspan[2], length=n+1))\n    S = BVPSystem(prob.f, prob.bc, prob.p, x, length(prob.u0), 4)\n    if isa(prob.u0, Vector{&lt;:Number})\n        copyto!.(S.y, (prob.u0,))\n    elseif isa(prob.u0, Vector{&lt;:AbstractArray})\n        copyto!(S.y, prob.u0)\n    else\n        error(\"u0 must be a Vector or Vector of Arrays\")\n    end\n    tableau = constructMIRK(S)\n    cache = alg_cache(alg, S)\n    # Upper-level iteration\n    vec_y = Array{eltype(S.y[1])}(undef, S.M*S.N)              # Vector\n    reorder! = function (resid)\n        # reorder the Jacobian matrix such that it is banded\n        tmp_last = resid[end]\n        for i in (length(resid)-1):-1:1\n            resid[i+1] = resid[i]\n        end\n        resid[1], resid[end] = resid[end], tmp_last\n    end\n    loss = function (resid, minimizer)\n        nest_vector!(S.y, minimizer)\n        Φ!(S, tableau, cache)\n        isa(prob.problem_type, TwoPointBVProblem) ? eval_bc_residual!(S) : general_eval_bc_residual!(S)\n        flatten_vector!(resid, S.residual)\n        reorder!(resid)\n        nothing\n    end\n\n    jac_wrapper = BVPJacobianWrapper(loss)\n    ConstructJacobian(jac_wrapper, vec_y)\nend\n    jac = getJac(bvp1, GeneralMIRK4(), dt=0.05)```","user":"U7GQE9JP9","ts":"1609965821.259200","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609965865.000000"},"blocks":[{"type":"rich_text","block_id":"9Cgc","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U69BL50BF"},{"type":"text","text":" or "},{"type":"user","user_id":"U6788D83U"},{"type":"text","text":" Can you please help me see the jacobian of the BVP? I want to see its shape. I am almost there but I am getting lost in your constructs\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"using Revise\nusing BoundaryValueDiffEq\nusing  ForwardDiff\nconst FD = ForwardDiff\n\nconst g = 9.81\nL = 1.0\ntspan = (0.0,pi/2)\nfunction simplependulum!(du,u,p,t)\n    θ  = u[1]\n    dθ = u[2]\n    du[1] = dθ\n    du[2] = -(g/L)*sin(θ)\nend\n\nfunction bc1!(residual, u, p, t)\n    residual[1] = u[end÷2][1] + pi/2 # the solution at the middle of the time span should be -pi/2\n    residual[2] = u[end][1] - pi/2 # the solution at the end of the time span should be pi/2\nend\nbvp1 = BVProblem(simplependulum!, bc1!, [pi/2,pi/2], tspan)\nsol1 = solve(bvp1, GeneralMIRK4(), dt=0.05)\n\n\nimport BoundaryValueDiffEq: BVPSystem, constructMIRK, alg_cache, BVPJacobianWrapper, ConstructJacobian\nfunction getJac(prob::BVProblem, alg; dt=0.0, kwargs...)\n    if dt<=0\n        error(\"dt must be positive\")\n    end\n    n = Int(cld((prob.tspan[2]-prob.tspan[1]),dt))\n    x = collect(range(prob.tspan[1], stop=prob.tspan[2], length=n+1))\n    S = BVPSystem(prob.f, prob.bc, prob.p, x, length(prob.u0), 4)\n    if isa(prob.u0, Vector{<:Number})\n        copyto!.(S.y, (prob.u0,))\n    elseif isa(prob.u0, Vector{<:AbstractArray})\n        copyto!(S.y, prob.u0)\n    else\n        error(\"u0 must be a Vector or Vector of Arrays\")\n    end\n    tableau = constructMIRK(S)\n    cache = alg_cache(alg, S)\n    # Upper-level iteration\n    vec_y = Array{eltype(S.y[1])}(undef, S.M*S.N)              # Vector\n    reorder! = function (resid)\n        # reorder the Jacobian matrix such that it is banded\n        tmp_last = resid[end]\n        for i in (length(resid)-1):-1:1\n            resid[i+1] = resid[i]\n        end\n        resid[1], resid[end] = resid[end], tmp_last\n    end\n    loss = function (resid, minimizer)\n        nest_vector!(S.y, minimizer)\n        Φ!(S, tableau, cache)\n        isa(prob.problem_type, TwoPointBVProblem) ? eval_bc_residual!(S) : general_eval_bc_residual!(S)\n        flatten_vector!(resid, S.residual)\n        reorder!(resid)\n        nothing\n    end\n\n    jac_wrapper = BVPJacobianWrapper(loss)\n    ConstructJacobian(jac_wrapper, vec_y)\nend\n    jac = getJac(bvp1, GeneralMIRK4(), dt=0.05)"}]}]}]},{"client_msg_id":"2397ecc2-6a49-469b-9405-751028b3cf10","type":"message","text":"Which part do you need help for?","user":"U6788D83U","ts":"1609966413.259900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wDC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Which part do you need help for?"}]}]}]},{"client_msg_id":"03a59ca3-c723-4040-ba71-b2b4654ccec9","type":"message","text":"I want the jacobian. of the residual","user":"U7GQE9JP9","ts":"1609966546.260300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mxvI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want the jacobian. of the residual"}]}]}]},{"client_msg_id":"64b0c7cd-01ca-4688-94ab-137adcd7f9b6","type":"message","text":"I extracted some of your code","user":"U7GQE9JP9","ts":"1609966563.260600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hR+Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I extracted some of your code"}]}]}]},{"client_msg_id":"5dab69ff-8d6b-4125-8110-e3ba7d378560","type":"message","text":"Try\n```julia&gt; import BoundaryValueDiffEq: BVPSystem, constructMIRK, alg_cache, BVPJacobianWrapper, ConstructJacobian, nest_vector!, Φ!, general_eval_bc_residual!, flatten_vector!\n\njulia&gt; jac = getJac(bvp1, GeneralMIRK4(), dt=0.05);\n\njulia&gt; jac.df(jac.DF, ones(66));```","user":"U6788D83U","ts":"1609966815.260800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZhC7s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Try\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> import BoundaryValueDiffEq: BVPSystem, constructMIRK, alg_cache, BVPJacobianWrapper, ConstructJacobian, nest_vector!, Φ!, general_eval_bc_residual!, flatten_vector!\n\njulia> jac = getJac(bvp1, GeneralMIRK4(), dt=0.05);\n\njulia> jac.df(jac.DF, ones(66));"}]}]}]},{"client_msg_id":"fd8b3011-1e4e-4833-b1c0-0d6c7f7593fc","type":"message","text":"The Jacobian will be in `jac.DF`","user":"U6788D83U","ts":"1609966824.261100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bM7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The Jacobian will be in "},{"type":"text","text":"jac.DF","style":{"code":true}}]}]}]},{"client_msg_id":"bc65b41a-24d9-43a6-ad4a-4b02ceb89f5f","type":"message","text":"Thank you!\nSo it seems to be band by blocks with bandwidth 4 as intuited","user":"U7GQE9JP9","ts":"1609967076.261900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"77W","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thank you!\nSo it seems to be band by blocks with bandwidth 4 as intuited"}]}]}]},{"client_msg_id":"ee94b658-2db1-41bf-a38a-086834cbcd31","type":"message","text":"Yeah, I never quite finish making it take advantage of the banded structure.","user":"U6788D83U","ts":"1609967127.262800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vMD+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I never quite finish making it take advantage of the banded structure."}]}]}]},{"client_msg_id":"0e3ec93e-93c2-4016-94ac-19976fbd4813","type":"message","text":"the first. line is bc?","user":"U7GQE9JP9","ts":"1609967148.263000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l6tw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the first. line is bc?"}]}]}]},{"type":"message","text":"","files":[{"id":"F01J1ULR5HT","created":1609967166,"timestamp":1609967166,"name":"Screen Shot 2021-01-06 at 22.06.03.png","title":"Screen Shot 2021-01-06 at 22.06.03.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U7GQE9JP9","editable":false,"size":68727,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J1ULR5HT/screen_shot_2021-01-06_at_22.06.03.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J1ULR5HT/download/screen_shot_2021-01-06_at_22.06.03.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_360.png","thumb_360_w":360,"thumb_360_h":236,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_480.png","thumb_480_w":480,"thumb_480_h":314,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_720.png","thumb_720_w":720,"thumb_720_h":471,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_800.png","thumb_800_w":800,"thumb_800_h":524,"thumb_960":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_960.png","thumb_960_w":960,"thumb_960_h":629,"thumb_1024":"https://files.slack.com/files-tmb/T68168MUP-F01J1ULR5HT-d3f6279a2e/screen_shot_2021-01-06_at_22.06.03_1024.png","thumb_1024_w":1024,"thumb_1024_h":671,"original_w":1124,"original_h":736,"thumb_tiny":"AwAfADCS7dlnOCQMDjNQ736h2/Opbz/X/gKgpGy2HeY/99vzo3v/AH2/Om9fY0UDHb3/AL7fnVu1YmMBjnk9TVKrVofuD/e/pQTLYZef6/8AAVBVy5t5JJdygEY9ah+yy4zgfnQCasQ0Z9am+yy56D86PssvoPzoHdENWbU/On0b+lM+yygZwMfWp4YHSRCRgANnn1xQiZPQ/9k=","permalink":"https://julialang.slack.com/files/U7GQE9JP9/F01J1ULR5HT/screen_shot_2021-01-06_at_22.06.03.png","permalink_public":"https://slack-files.com/T68168MUP-F01J1ULR5HT-d0e2be8caa","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U7GQE9JP9","display_as_bot":false,"ts":"1609967169.263200"},{"client_msg_id":"ba4c2cc8-992c-4ec4-b079-d56298f13c16","type":"message","text":"I cannot remember :stuck_out_tongue: yeah, sounds like it","user":"U6788D83U","ts":"1609967181.263700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y0X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I cannot remember "},{"type":"emoji","name":"stuck_out_tongue"},{"type":"text","text":" yeah, sounds like it"}]}]}]},{"client_msg_id":"7fd9aa33-9bee-48f9-a5dc-683b12cff939","type":"message","text":"It’s a almost banded structure.","user":"U6788D83U","ts":"1609967191.264000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s a almost banded structure."}]}]}]},{"client_msg_id":"6640d6a1-11d9-4cc2-8bf1-2b074a9c0c42","type":"message","text":"ApproxFun solves the linalg problem property though","user":"U6788D83U","ts":"1609967211.264400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JQue","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ApproxFun solves the linalg problem property though"}]}]}]},{"client_msg_id":"ae9542e4-cb19-40fe-b4dc-b4bd77ad6e3d","type":"message","text":"I know but slowly","user":"U7GQE9JP9","ts":"1609967224.264800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zui","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I know but slowly"}]}]}]},{"client_msg_id":"54dd482c-89c9-44fe-ad3f-b6939d720025","type":"message","text":"Maybe you can hack into it to disable the adaptation","user":"U6788D83U","ts":"1609967247.265300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n5hW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe you can hack into it to disable the adaptation"}]}]}]},{"client_msg_id":"0e913030-6707-4f6d-9b25-610605eb6efd","type":"message","text":"nan","user":"U7GQE9JP9","ts":"1609967260.265600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pV29","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nan"}]}]}]},{"client_msg_id":"1dbf40ff-d284-4fc6-aa29-13514c0ed45e","type":"message","text":"Or to build a fix-sized operator yourself","user":"U6788D83U","ts":"1609967278.266300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H0ZMi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or to build a fix-sized operator yourself"}]}]}]},{"client_msg_id":"6731bedd-bef4-4e21-ba27-ed8322c90943","type":"message","text":"look at. all the tricks I had to find. for trapeze method:\n<https://github.com/rveltz/BifurcationKit.jl/blob/master/src/periodicorbit/PeriodicOrbitFD.jl>","user":"U7GQE9JP9","ts":"1609967285.266600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wZ5Gt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"look at. all the tricks I had to find. for trapeze method:\n"},{"type":"link","url":"https://github.com/rveltz/BifurcationKit.jl/blob/master/src/periodicorbit/PeriodicOrbitFD.jl"}]}]}]},{"client_msg_id":"a268823a-97f0-42aa-92ec-df8dabcc631b","type":"message","text":"then you can. use 1e5 unknowns in space","user":"U7GQE9JP9","ts":"1609967308.267000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ROII","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then you can. use 1e5 unknowns in space"}]}]}]},{"client_msg_id":"9f084c46-6fce-4df5-b92e-b707b77eba49","type":"message","text":"I think it won’t be that hard to use ApproxFun to generate a fix-size operator if your ODE is linear.","user":"U6788D83U","ts":"1609967434.268400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YQi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it won’t be that hard to use ApproxFun to generate a fix-size operator if your ODE is linear."}]}]}]},{"client_msg_id":"8f977b2b-8660-45ce-adbe-39b84aa76a23","type":"message","text":"it has to be. really tailored to work in large dim","user":"U7GQE9JP9","ts":"1609967437.268600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iidd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it has to be. really tailored to work in large dim"}]}]}]},{"client_msg_id":"d1e23886-996f-483f-9237-e614443625f8","type":"message","text":"for the complex ginzburg landau, you cannot even use LU, see :","user":"U7GQE9JP9","ts":"1609967496.269100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mNeYx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for the complex ginzburg landau, you cannot even use LU, see :"}]}]}]},{"client_msg_id":"f72d0a0c-b699-4caa-b1c9-d80b2cdbe5b0","type":"message","text":"<https://rveltz.github.io/BifurcationKit.jl/dev/tutorialsCGL/#Complex-Ginzburg-Landau-2d-1>","user":"U7GQE9JP9","ts":"1609967522.269300","team":"T68168MUP","edited":{"user":"U7GQE9JP9","ts":"1609967558.000000"},"blocks":[{"type":"rich_text","block_id":"f/K00","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://rveltz.github.io/BifurcationKit.jl/dev/tutorialsCGL/#Complex-Ginzburg-Landau-2d-1"}]}]}]},{"client_msg_id":"a6ecd8fd-9eee-41a1-bb86-d002b2ddb821","type":"message","text":"around the red box","user":"U7GQE9JP9","ts":"1609967532.269500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i5Mj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"around the red box"}]}]}]},{"client_msg_id":"520adbb6-8492-423c-bf61-70f46c7d4cc4","type":"message","text":"I am happy to be proven wrong though","user":"U7GQE9JP9","ts":"1609967573.270000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u8lzM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am happy to be proven wrong though"}]}]}]},{"client_msg_id":"83388de8-bfaf-4afd-bc7f-910b74b392a6","type":"message","text":"Is that when using a banded matrix?","user":"U6788D83U","ts":"1609967628.270400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"atzJz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is that when using a banded matrix?"}]}]}]},{"client_msg_id":"ad7de80a-9502-43ab-a2be-28a916def2c8","type":"message","text":"it is for trapeze method","user":"U7GQE9JP9","ts":"1609967641.270700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RZzK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it is for trapeze method"}]}]}]},{"client_msg_id":"53ac0949-c440-443e-a6ea-9ee9425ad774","type":"message","text":"so yes banded","user":"U7GQE9JP9","ts":"1609967647.270900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LxwEe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so yes banded"}]}]}]},{"client_msg_id":"925802fc-81ad-4e0c-a7d3-f9c3c15fbcff","type":"message","text":"block banded","user":"U7GQE9JP9","ts":"1609967653.271100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MiH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"block banded"}]}]}]},{"client_msg_id":"b2ee03c1-b882-400a-b3f1-b13e8cd2767a","type":"message","text":"<https://rveltz.github.io/BifurcationKit.jl/dev/periodicOrbitFD/>","user":"U7GQE9JP9","ts":"1609967684.271300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R4v","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://rveltz.github.io/BifurcationKit.jl/dev/periodicOrbitFD/"}]}]}]},{"client_msg_id":"0b5ef2f8-ebaf-4300-adf8-67d25ce0cd36","type":"message","text":"Have you tried <https://github.com/JuliaMatrices/BlockBandedMatrices.jl> ? There’s currently no LU factorization though, there’s only QR","user":"U6788D83U","ts":"1609967772.271900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3l/G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Have you tried "},{"type":"link","url":"https://github.com/JuliaMatrices/BlockBandedMatrices.jl"},{"type":"text","text":" ? There’s currently no LU factorization though, there’s only QR"}]}]}]},{"client_msg_id":"cd466366-7f35-4e77-97cf-fab751db9156","type":"message","text":"for the CGL, the blocks are not banded but sparse","user":"U7GQE9JP9","ts":"1609967849.272300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mfd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for the CGL, the blocks are not banded but sparse"}]}]}]},{"client_msg_id":"c62136d0-94a6-4a90-9898-130d6bc99b1d","type":"message","text":"I did not try, but usually, when LU or qr those matrices, the blocks become dense","user":"U7GQE9JP9","ts":"1609967919.273300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eM2WZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I did not try, but usually, when LU or qr those matrices, the blocks become dense"}]}]}]}]}