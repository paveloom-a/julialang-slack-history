{"cursor": 0, "messages": [{"client_msg_id":"c7ee22ec-6f70-438c-926b-7e00dcbfa3a5","type":"message","text":"I'm not sure it's actually a network problem between MIT and AWS. We see the same issues on the mac bots running in my living room","user":"U674T3KB3","ts":"1607969225.470200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BwK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not sure it's actually a network problem between MIT and AWS. We see the same issues on the mac bots running in my living room"}]}]}]},{"client_msg_id":"593a229c-5833-400d-aa65-21efd299ade8","type":"message","text":"<@U66GD0880> you said you had some httpbingo insights to report?","user":"U674T3KB3","ts":"1608061255.470500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3h7S","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" you said you had some httpbingo insights to report?"}]}]}]},{"client_msg_id":"7b7ba7c0-9ba1-4fda-955c-91a897f574bf","type":"message","text":"I saw some errors from `nginx` saying that it had run out of `worker_connections`","user":"U66GD0880","ts":"1608062878.470800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"czKc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I saw some errors from "},{"type":"text","text":"nginx","style":{"code":true}},{"type":"text","text":" saying that it had run out of "},{"type":"text","text":"worker_connections","style":{"code":true}}]}]}]},{"client_msg_id":"1ee4e5e1-d704-4d70-a7b6-3f71912b42d5","type":"message","text":"I believe this could be the case if we have many long-lasting connections","user":"U66GD0880","ts":"1608062892.471100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S4QU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I believe this could be the case if we have many long-lasting connections"}]}]}]},{"client_msg_id":"7357b9b0-d7b2-4984-bd20-abd0a9882e14","type":"message","text":"because we have the `/delay` and `/drip` endpoints, I can see a possible situation where `nginx` runs out of connections (it defaults to 512 connections, but since it needs connections to the upstream as well, it’s actually just an effective 256 simultaneous streams).","user":"U66GD0880","ts":"1608063035.472700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nRMVR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because we have the "},{"type":"text","text":"/delay","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"/drip","style":{"code":true}},{"type":"text","text":" endpoints, I can see a possible situation where "},{"type":"text","text":"nginx","style":{"code":true}},{"type":"text","text":" runs out of connections (it defaults to 512 connections, but since it needs connections to the upstream as well, it’s actually just an effective 256 simultaneous streams)."}]}]}]},{"client_msg_id":"424f0b8d-6d0e-47ba-8e46-ee94566e4801","type":"message","text":"The errors only started ~one week ago","user":"U66GD0880","ts":"1608063053.473000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AILU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The errors only started ~one week ago"}]}]}]},{"client_msg_id":"9c88d537-a9ec-4c4d-ac26-1e4115e08e8d","type":"message","text":"which I find somewhat suspicious","user":"U66GD0880","ts":"1608063058.473200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+0o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which I find somewhat suspicious"}]}]}]},{"client_msg_id":"0132cfa6-39f3-4231-b2e5-18dc256dbf56","type":"message","text":"perhaps because we finally hit the critical mass of enough simultaneous buildbots doing the Downloads tests","user":"U66GD0880","ts":"1608063085.473800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hclh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perhaps because we finally hit the critical mass of enough simultaneous buildbots doing the Downloads tests"}]}]}]},{"client_msg_id":"5fb56c88-2dcd-4846-b7fc-d824e747af36","type":"message","text":"In any case, I have bumped the limit up from 512 to 8196","user":"U66GD0880","ts":"1608063092.474100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Utq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In any case, I have bumped the limit up from 512 to 8196"}]}]}]},{"client_msg_id":"812da0e9-2af4-41e0-99f4-88feb6970f56","type":"message","text":"That seems likely, I think generally we had queues on all buildbots the last week","user":"U67BJLYCS","ts":"1608063791.474800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wmU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That seems likely, I think generally we had queues on all buildbots the last week"}]}]}]},{"client_msg_id":"6dc3f33c-e253-4c1a-b1a6-8dbe4eb2c1ab","type":"message","text":"I’ve just deployed a significant update to the PkgServers","user":"U66GD0880","ts":"1609103492.476600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h29","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve just deployed a significant update to the PkgServers"}]}]}]},{"client_msg_id":"6a053b30-5f5d-4962-9ff9-13f2929f8e3b","type":"message","text":"please keep an eye out for strange failures, but if all goes well, this should significantly increase performance and decrease failures, as we’re offloading the majority of happy-path requests to nginx.","user":"U66GD0880","ts":"1609103526.477400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"byA8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"please keep an eye out for strange failures, but if all goes well, this should significantly increase performance and decrease failures, as we’re offloading the majority of happy-path requests to nginx."}]}]}]},{"client_msg_id":"97ae3f37-1d13-4192-b615-1b37780499aa","type":"message","text":"Over the past few weeks I’ve also done a lot of work on the StorageServers, so (fingers crossed) we should be in a good place, reliability-wise.  Time will tell of course, and the next project is to increase visibility into the failures of these by having a logging dashboard where we can see what proportion of requests to the PkgServers are failing (previously it was quite high at ~3%)","user":"U66GD0880","ts":"1609103611.478900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yXBY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Over the past few weeks I’ve also done a lot of work on the StorageServers, so (fingers crossed) we should be in a good place, reliability-wise.  Time will tell of course, and the next project is to increase visibility into the failures of these by having a logging dashboard where we can see what proportion of requests to the PkgServers are failing (previously it was quite high at ~3%)"}]}]}]},{"client_msg_id":"9C19130A-33EF-4287-8424-D4636138D164","type":"message","text":"Is it time for a third Pkg server in the US East? us-east2 had been having a hard time recently.","user":"U7THT3TM3","ts":"1609553618.481300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DrlJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is it time for a third Pkg server in the US East? us-east2 had been having a hard time recently."}]}]}]},{"client_msg_id":"cabccf4c-e304-426c-a120-62eabc94fd9f","type":"message","text":"east2","user":"U69BL50BF","ts":"1609554040.481500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ScP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"east2"}]}]}]},{"client_msg_id":"cbab0dea-7e69-41f9-88b7-ad3640c31402","type":"message","text":"time out for me","user":"U69BL50BF","ts":"1609554042.481700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S2i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"time out for me"}]}]}]},{"client_msg_id":"0b6fc4fd-349f-47e1-8349-22f9a9e9ca2e","type":"message","text":":disappointed:","user":"U69BL50BF","ts":"1609554043.481900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aWYm","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"disappointed"}]}]}]},{"client_msg_id":"5EE7FC3D-3F48-423E-B219-A1997669FFC1","type":"message","text":"Same here","user":"U7THT3TM3","ts":"1609554699.482300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/=+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Same here"}]}]}]},{"client_msg_id":"b57c7fac-dcd6-4063-aaa8-e68852daa2a1","type":"message","text":"I want to make sure this is not a network issue, because the CPU load of `us-east2` has been basically 0% all day","user":"U66GD0880","ts":"1609577667.482900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gEgKq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I want to make sure this is not a network issue, because the CPU load of "},{"type":"text","text":"us-east2","style":{"code":true}},{"type":"text","text":" has been basically 0% all day"}]}]}]},{"type":"message","text":"","files":[{"id":"F01J8K49WLR","created":1609577734,"timestamp":1609577734,"name":"Screen Shot 2021-01-02 at 12.55.04 AM.png","title":"Screen Shot 2021-01-02 at 12.55.04 AM.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"U66GD0880","editable":false,"size":147560,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01J8K49WLR/screen_shot_2021-01-02_at_12.55.04_am.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01J8K49WLR/download/screen_shot_2021-01-02_at_12.55.04_am.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_360.png","thumb_360_w":360,"thumb_360_h":134,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_480.png","thumb_480_w":480,"thumb_480_h":178,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_160.png","thumb_720":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_720.png","thumb_720_w":720,"thumb_720_h":267,"thumb_800":"https://files.slack.com/files-tmb/T68168MUP-F01J8K49WLR-22969959fa/screen_shot_2021-01-02_at_12.55.04_am_800.png","thumb_800_w":800,"thumb_800_h":297,"original_w":860,"original_h":319,"thumb_tiny":"AwARADDO70UoGRQeuKAFx6elJinLnGc0MSTigBoFIRTgOKQ9cUAJRRRQAUUUUAFJS0lAH//Z","permalink":"https://julialang.slack.com/files/U66GD0880/F01J8K49WLR/screen_shot_2021-01-02_at_12.55.04_am.png","permalink_public":"https://slack-files.com/T68168MUP-F01J8K49WLR-8a00b2fff1","is_starred":false,"has_rich_preview":false}],"upload":false,"user":"U66GD0880","display_as_bot":false,"ts":"1609577736.483100"},{"client_msg_id":"b0aee8b1-94d0-4ba7-be24-23ddaa6c387e","type":"message","text":"(There are a few holes in reporting because I was doing maintenance on some equipment in the path between the server and the graph store)","user":"U66GD0880","ts":"1609577776.484100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8XJJl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(There are a few holes in reporting because I was doing maintenance on some equipment in the path between the server and the graph store)"}]}]}]},{"client_msg_id":"c8387b14-c1fc-453c-962f-dd960b37bfa1","type":"message","text":"<https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&amp;cid=C674ELDNX|https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&amp;cid=C674ELDNX>","user":"U67BJLYCS","ts":"1609629988.484300","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&amp;cid=C674ELDNX","fallback":"[January 2nd, 2021 2:21 PM] max278: Julia CI tests for buildbot/package_win32 and buildbot/package_win64 are failing with error: `\n```C:/buildbot/worker/package_win32/build/usr/tools/llvm-size.exe: error while loading shared libraries: LLVM.dll: cannot open shared object file: No such file or directory```\nThis is right after `LLVM.v11.0.0+6.i686-w64-mingw32-cxx11.tar.gz` gets installed. So perhaps a bug in that JLL? <@U67BJLYCS>?","ts":"1609626089.253900","author_id":"U012FH66MFW","author_subname":"Max Horn","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Julia CI tests for buildbot/package_win32 and buildbot/package_win64 are failing with error: `\n```C:/buildbot/worker/package_win32/build/usr/tools/llvm-size.exe: error while loading shared libraries: LLVM.dll: cannot open shared object file: No such file or directory```\nThis is right after `LLVM.v11.0.0+6.i686-w64-mingw32-cxx11.tar.gz` gets installed. So perhaps a bug in that JLL? <@U67BJLYCS>?","author_name":"Max Horn","author_link":"https://julialang.slack.com/team/U012FH66MFW","author_icon":"https://avatars.slack-edge.com/2020-04-21/1101264215952_105303dc2e5f41b61bd0_48.jpg","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&amp;cid=C674ELDNX","footer":"Thread in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"8Sj7","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&cid=C674ELDNX","text":"https://julialang.slack.com/archives/C674ELDNX/p1609626089253900?thread_ts=1609626089.253900&cid=C674ELDNX"}]}]}]},{"client_msg_id":"fb6c9767-1ef7-448b-b1e6-4a7eea0795a9","type":"message","text":"Did anything change in the configuration?","user":"U67BJLYCS","ts":"1609630033.484900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2JK5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Did anything change in the configuration?"}]}]}]},{"client_msg_id":"cb93cf63-0d98-475d-ad3f-7525a1982584","type":"message","text":"This sounds like a problem with `llvm-tools`","user":"U66GD0880","ts":"1609666987.485200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Tv2t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This sounds like a problem with "},{"type":"text","text":"llvm-tools","style":{"code":true}}]}]}]},{"client_msg_id":"4dde8f45-2c03-4b85-bd18-0b2e107a2738","type":"message","text":"perhaps `PATH` isn’t being set properly","user":"U66GD0880","ts":"1609666992.485400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VjMxB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"perhaps "},{"type":"text","text":"PATH","style":{"code":true}},{"type":"text","text":" isn’t being set properly"}]}]}]}]}