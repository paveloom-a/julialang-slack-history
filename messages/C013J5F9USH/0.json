{"cursor": 8, "messages": [{"client_msg_id":"57c6f5db-0059-4874-9588-482c98fa1964","type":"message","text":"Yes, I just tried\n```julia&gt; Meta.parse(\"\\\"foo\\0bar\\\"\")\n\"foo\\0bar\"```","user":"U68UUUFPS","ts":"1613670947.378200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fujVa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I just tried\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Meta.parse(\"\\\"foo\\0bar\\\"\")\n\"foo\\0bar\""}]}]}]},{"client_msg_id":"e39e67d6-e3ba-403b-a422-cdd2c49896d2","type":"message","text":"So it definitely seems to accept NULLs, so yep, we just need to check this when trynig to follow includes. I always like explicit checks better than catching errors, I think :slightly_smiling_face:","user":"U68UUUFPS","ts":"1613670980.378900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FX1c1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So it definitely seems to accept NULLs, so yep, we just need to check this when trynig to follow includes. I always like explicit checks better than catching errors, I think "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"83d4faa6-be61-4354-a3e0-c8a285b495db","type":"message","text":"<@U6A7NFP62> could you take a look at <https://github.com/julia-vscode/crashreporting-issues/issues/12>? I think we should minimally fix the amount of info we send in the crash reports there, i.e. I think we're sending too much right now.","user":"U68UUUFPS","ts":"1613757607.379600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c=Smy","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6A7NFP62"},{"type":"text","text":" could you take a look at "},{"type":"link","url":"https://github.com/julia-vscode/crashreporting-issues/issues/12"},{"type":"text","text":"? I think we should minimally fix the amount of info we send in the crash reports there, i.e. I think we're sending too much right now."}]}]}]},{"client_msg_id":"1002cbfa-ba09-4cd7-8801-77ef945f8996","type":"message","text":"I just had a go on the remaining crash reporting issues for LS. I opened PRs for the ones that I understand and can fix, but I think the remaining ones are probably for <@U6A7NFP62>... None of them strike me as particularly difficult, so maybe we should actually try to just fix a bunch more of those before we merge new stuff?","user":"U68UUUFPS","ts":"1613757819.381200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UmMQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just had a go on the remaining crash reporting issues for LS. I opened PRs for the ones that I understand and can fix, but I think the remaining ones are probably for "},{"type":"user","user_id":"U6A7NFP62"},{"type":"text","text":"... None of them strike me as particularly difficult, so maybe we should actually try to just fix a bunch more of those before we merge new stuff?"}]}]}]},{"client_msg_id":"44bbba61-b10d-4ec9-b2d7-cbba5264474f","type":"message","text":"Ah yes I drew up a PR earlier, will push it","user":"U6A7NFP62","ts":"1613759954.381600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hrwD5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah yes I drew up a PR earlier, will push it"}]}]}],"reactions":[{"name":"tada","users":["U68UUUFPS"],"count":1}]},{"client_msg_id":"30f462e5-97ac-457d-857b-312be88d0b27","type":"message","text":"I'm starting to wonder whether we should run the tests in all packages that we ship as part of the azure pipeline build, at least on `master`....","user":"U68UUUFPS","ts":"1613846239.000600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lYd74","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm starting to wonder whether we should run the tests in all packages that we ship as part of the azure pipeline build, at least on "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":"...."}]}]}]},{"client_msg_id":"c23ec90c-845c-4647-b90c-4836e7cf8c67","type":"message","text":"We're shipping a lot of packages now, and we're updating them without much careful consideration what changed in them... And we don't really know whether they all have CI configured to for example run on all platforms and Julia versions that we want to make sure things work on.","user":"U68UUUFPS","ts":"1613846280.001500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XX5hD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We're shipping a lot of packages now, and we're updating them without much careful consideration what changed in them... And we don't really know whether they all have CI configured to for example run on all platforms and Julia versions that we want to make sure things work on."}]}]}]},{"client_msg_id":"2b625319-b9c1-483c-9d09-dd2501f2df33","type":"message","text":"So maybe we should just run all tests in all packages that we ship as part of our CI? Right now we only run the CI in the packages that we develop ourselves...","user":"U68UUUFPS","ts":"1613846307.002100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5Rcs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So maybe we should just run all tests in all packages that we ship as part of our CI? Right now we only run the CI in the packages that we develop ourselves..."}]}]}]},{"client_msg_id":"50651ecb-52c9-4b82-992a-1da4cbf08ebb","type":"message","text":"<@U6BNE7LTZ> is <https://github.com/julia-vscode/julia-vscode/blob/master/src/scripts/updateDeps.ts#L31> still the best way to do things? I think you reorganized what the \"truth\" is for all of this? Or should we just ignore for now because we are going to remove the grammar from our extension in any case as soon as it ships in the VS Code core?","user":"U68UUUFPS","ts":"1613846419.003100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hx3","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" is "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/blob/master/src/scripts/updateDeps.ts#L31"},{"type":"text","text":" still the best way to do things? I think you reorganized what the \"truth\" is for all of this? Or should we just ignore for now because we are going to remove the grammar from our extension in any case as soon as it ships in the VS Code core?"}]}]}]},{"client_msg_id":"3b3e62d1-401e-454b-a328-ebf9730b2578","type":"message","text":"We've got four PRs that I think are very close to merging, maybe we could try to get them all merged today and push out a new insider? Here they are:\n• <https://github.com/julia-vscode/LanguageServer.jl/pull/897> (I still have a question about the fallback method there)\n• <https://github.com/julia-vscode/SymbolServer.jl/pull/215> (needs review)\n• <https://github.com/julia-vscode/LanguageServer.jl/pull/899> (needs review)\n• <https://github.com/julia-vscode/LanguageServer.jl/pull/898> (needs review)","user":"U68UUUFPS","ts":"1613863766.004400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tcEv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We've got four PRs that I think are very close to merging, maybe we could try to get them all merged today and push out a new insider? Here they are:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/LanguageServer.jl/pull/897"},{"type":"text","text":" (I still have a question about the fallback method there)"}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/SymbolServer.jl/pull/215"},{"type":"text","text":" (needs review)"}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/LanguageServer.jl/pull/899"},{"type":"text","text":" (needs review)"}]},{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/LanguageServer.jl/pull/898"},{"type":"text","text":" (needs review)"}]}],"style":"bullet","indent":0}]}]},{"client_msg_id":"3698e932-ee54-4fc3-aab0-05c1b229d2ad","type":"message","text":"<@U6BNE7LTZ> I would normally have pushed 1.1.28 out to the release channel now (it was good on the insider channel for almost a day). BUT, instead I'm just going to push out 1.1.29 right away. The only difference between 1.1.28 and 1.1.29 is <https://github.com/julia-vscode/julia-vscode/pull/1973>, and I think we should get that out as quickly as possible, right?","user":"U68UUUFPS","ts":"1614113416.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8m/Vw","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" I would normally have pushed 1.1.28 out to the release channel now (it was good on the insider channel for almost a day). BUT, instead I'm just going to push out 1.1.29 right away. The only difference between 1.1.28 and 1.1.29 is "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/1973"},{"type":"text","text":", and I think we should get that out as quickly as possible, right?"}]}]}]},{"client_msg_id":"512af98d-7294-428f-bd9f-f6e9718ebae1","type":"message","text":"yes for sure","user":"U6BNE7LTZ","ts":"1614113442.005800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GKPV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes for sure"}]}]}]},{"client_msg_id":"e0d3c95b-8fb9-40cb-a26a-5c95571eead5","type":"message","text":"<@U6BNE7LTZ> <@U68UUUFPS> Give some feedbacks to my PR again? I’ve fixed the previous problems in the review. <https://github.com/julia-vscode/julia-vscode/pull/1932>","user":"U01L42VSVBJ","ts":"1614265560.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G6R84","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" "},{"type":"user","user_id":"U68UUUFPS"},{"type":"text","text":" Give some feedbacks to my PR again? I’ve fixed the previous problems in the review. "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/1932"}]}]}]},{"client_msg_id":"64e2e111-7134-4052-b0c9-f43044d3d815","type":"message","text":"<@U68UUUFPS> Do you mind if I merge master into my branch instead of rebase in order to resolve the conflicts?","user":"U01L42VSVBJ","ts":"1614742407.007100","team":"T68168MUP","edited":{"user":"U01L42VSVBJ","ts":"1614742425.000000"},"blocks":[{"type":"rich_text","block_id":"oofAp","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68UUUFPS"},{"type":"text","text":" Do you mind if I merge master into my branch instead of rebase in order to resolve the conflicts?"}]}]}]},{"client_msg_id":"89824cad-726d-4f0d-82c1-f45c0e5430f5","type":"message","text":"Yes, please merge `master` into your branch, we never rebase!","user":"U68UUUFPS","ts":"1614746590.007600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"77cc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, please merge "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":" into your branch, we never rebase!"}]}]}]},{"client_msg_id":"5420890d-c7ff-469d-961b-2278a47cb94c","type":"message","text":"Just found a `vnothing_nothing.jstore` file in our symbol store. Should probably figure out what's going on there.","user":"U6BNE7LTZ","ts":"1614865222.008000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PDB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just found a "},{"type":"text","text":"vnothing_nothing.jstore","style":{"code":true}},{"type":"text","text":" file in our symbol store. Should probably figure out what's going on there."}]}]}]},{"client_msg_id":"1ad4387b-b61e-41be-96b2-cc8bfda8d33c","type":"message","text":"(wouldn't it be great of printing `nothing` would error nowadays? :D)","user":"U6BNE7LTZ","ts":"1614865236.008400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H7/I4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(wouldn't it be great of printing "},{"type":"text","text":"nothing","style":{"code":true}},{"type":"text","text":" would error nowadays? :D)"}]}]}],"reactions":[{"name":"yao","users":["U67SCG4HG"],"count":1}]},{"client_msg_id":"75ae121a-040b-454e-afe0-e31ec70364fe","type":"message","text":"Yep, that looks incorrect :slightly_smiling_face:","user":"U68UUUFPS","ts":"1614877042.009000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zvf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, that looks incorrect "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"0ff83ab1-9a6a-4275-99f2-199dc418bfae","type":"message","text":"Where is that file?","user":"U68UUUFPS","ts":"1614877045.009200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iEodQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Where is that file?"}]}]}]},{"client_msg_id":"096c03bd-eaf7-49ed-b4ca-c6c917a588ce","type":"message","text":"So our grammar now seems to ship in the core VS Code itself.","user":"U68UUUFPS","ts":"1614980465.009600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zkoh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So our grammar now seems to ship in the core VS Code itself."}]}]}],"reactions":[{"name":"vscode","users":["USU9FRPEU"],"count":1}]},{"client_msg_id":"686acb02-a0f8-46ba-83b3-8821a85f0917","type":"message","text":"But looking at the code for that <https://github.com/microsoft/vscode/blob/main/extensions/julia/package.json> it seems that `juliamarkdown` didn't make it into the base product?","user":"U68UUUFPS","ts":"1614980498.010200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HtqVn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But looking at the code for that "},{"type":"link","url":"https://github.com/microsoft/vscode/blob/main/extensions/julia/package.json"},{"type":"text","text":" it seems that "},{"type":"text","text":"juliamarkdown","style":{"code":true}},{"type":"text","text":" didn't make it into the base product?"}]}]}]},{"client_msg_id":"6bddaca8-52f6-455f-b696-d024d27fcb00","type":"message","text":"So now I'm slightly confused what that means :slightly_smiling_face:","user":"U68UUUFPS","ts":"1614980520.010400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HbR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So now I'm slightly confused what that means "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"c141d3a5-cb63-42e6-b0e2-1b06eb6d24ed","type":"message","text":"For example, in our extension we are saying that if there is embedded markdown in a Julia file, we want to use the `juliamarkdown` grammar to highlight that, but it seems that was also removed?","user":"U68UUUFPS","ts":"1614980562.011200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xfqQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For example, in our extension we are saying that if there is embedded markdown in a Julia file, we want to use the "},{"type":"text","text":"juliamarkdown","style":{"code":true}},{"type":"text","text":" grammar to highlight that, but it seems that was also removed?"}]}]}]},{"client_msg_id":"b03e618d-153d-43c6-8f73-1de03b12e3db","type":"message","text":"But maybe this is all ok? I don't really understand that part at all. What I did want to do was remove the grammar from our extension, but now I'm not sure what I can actually remove, and what I can't remove :slightly_smiling_face:","user":"U68UUUFPS","ts":"1614980740.012100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6QIs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But maybe this is all ok? I don't really understand that part at all. What I did want to do was remove the grammar from our extension, but now I'm not sure what I can actually remove, and what I can't remove "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"d967dcdc-45fa-4935-b52b-9475e1e147d8","type":"message","text":"Ah, I sneaked that change in","user":"U6BNE7LTZ","ts":"1614981088.012300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rj/Tl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, I sneaked that change in"}]}]}]},{"client_msg_id":"ebe2d5da-ff96-4ba9-995b-a200d5a72632","type":"message","text":"Because embedded markdown highlighting seems fundamentally broken with single-quote strings","user":"U6BNE7LTZ","ts":"1614981113.012800","team":"T68168MUP","edited":{"user":"U6BNE7LTZ","ts":"1614981116.000000"},"blocks":[{"type":"rich_text","block_id":"lpc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Because embedded markdown highlighting seems fundamentally broken with single-quote strings"}]}]}]},{"client_msg_id":"0f1c6789-b990-4434-af52-bc219fc132db","type":"message","text":"So I think we can just remove everything related to julia.json and should be good to go","user":"U6BNE7LTZ","ts":"1614981247.013300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fazi2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I think we can just remove everything related to julia.json and should be good to go"}]}]}]},{"client_msg_id":"35a693e0-49f0-4d6f-84da-9bdfb6062196","type":"message","text":"jmd highlighting then only lives in the extension","user":"U6BNE7LTZ","ts":"1614981260.013700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j5GVS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"jmd highlighting then only lives in the extension"}]}]}]},{"client_msg_id":"5649993f-c775-48a1-9aa0-5ee200daeaec","type":"message","text":"<@U6BNE7LTZ> Do you think <https://github.com/julia-vscode/julia-vscode/issues/1997> is right?","user":"U68UUUFPS","ts":"1614981312.014000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8wX","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" Do you think "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/issues/1997"},{"type":"text","text":" is right?"}]}]}]},{"client_msg_id":"382270b9-eae6-4479-95fa-23b1218d6d64","type":"message","text":"Our symbol caching thing has twice no stopped working with an error message <https://github.com/julia-vscode/symbolcache/runs/2046931331?check_suite_focus=true>","user":"U68UUUFPS","ts":"1615053645.014500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NmJ9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Our symbol caching thing has twice no stopped working with an error message "},{"type":"link","url":"https://github.com/julia-vscode/symbolcache/runs/2046931331?check_suite_focus=true"}]}]}]},{"client_msg_id":"9951d701-b5a2-4ea0-9aa4-29442ef7d66c","type":"message","text":"```ERROR: LoadError: Could not package /tmp/jl_pwX2DL into /home/runner/work/symbolcache/symbolcache/store/v1/packages/C/ConstructiveGeometry_d7b4f48a-cc68-4606-be83-5982dfebca4b/v0.1.0_2f775430e6bf4d267e53e0d6b437dae0dde9645d.tar.gz\nStacktrace:\n [1] (::Base.var\"#770#772\")(::Task) at ./asyncmap.jl:178\n [2] foreach(::Base.var\"#770#772\", ::Array{Any,1}) at ./abstractarray.jl:2009\n [3] maptwice(::Function, ::Channel{Any}, ::Array{Any,1}, ::Array{Any,1}) at ./asyncmap.jl:178\n [4] wrap_n_exec_twice at ./asyncmap.jl:154 [inlined]\n [5] #async_usemap#755 at ./asyncmap.jl:103 [inlined]\n [6] #asyncmap#754 at ./asyncmap.jl:81 [inlined]\n [7] top-level scope at /home/runner/.julia/dev/SymbolServer/registryindexer/main.jl:182\n [8] include(::Function, ::Module, ::String) at ./Base.jl:380\n [9] include(::Module, ::String) at ./Base.jl:368\n [10] exec_options(::Base.JLOptions) at ./client.jl:296\n [11] _start() at ./client.jl:506\nin expression starting at /home/runner/.julia/dev/SymbolServer/registryindexer/main.jl:182```","user":"U68UUUFPS","ts":"1615053653.014800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aZt","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: LoadError: Could not package /tmp/jl_pwX2DL into /home/runner/work/symbolcache/symbolcache/store/v1/packages/C/ConstructiveGeometry_d7b4f48a-cc68-4606-be83-5982dfebca4b/v0.1.0_2f775430e6bf4d267e53e0d6b437dae0dde9645d.tar.gz\nStacktrace:\n [1] (::Base.var\"#770#772\")(::Task) at ./asyncmap.jl:178\n [2] foreach(::Base.var\"#770#772\", ::Array{Any,1}) at ./abstractarray.jl:2009\n [3] maptwice(::Function, ::Channel{Any}, ::Array{Any,1}, ::Array{Any,1}) at ./asyncmap.jl:178\n [4] wrap_n_exec_twice at ./asyncmap.jl:154 [inlined]\n [5] #async_usemap#755 at ./asyncmap.jl:103 [inlined]\n [6] #asyncmap#754 at ./asyncmap.jl:81 [inlined]\n [7] top-level scope at /home/runner/.julia/dev/SymbolServer/registryindexer/main.jl:182\n [8] include(::Function, ::Module, ::String) at ./Base.jl:380\n [9] include(::Module, ::String) at ./Base.jl:368\n [10] exec_options(::Base.JLOptions) at ./client.jl:296\n [11] _start() at ./client.jl:506\nin expression starting at /home/runner/.julia/dev/SymbolServer/registryindexer/main.jl:182"}]}]}]},{"client_msg_id":"d6dfbc1e-7e16-48ba-87bd-351ffbcdb6e3","type":"message","text":"When I then run the process once on my local system and push, the whole thing gets \"unstuck\" and seems to work for a couple of days again...","user":"U68UUUFPS","ts":"1615053676.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/HB1f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I then run the process once on my local system and push, the whole thing gets \"unstuck\" and seems to work for a couple of days again..."}]}]}]},{"client_msg_id":"379dad55-c31b-4581-9616-8346d5ca0930","type":"message","text":"I'm a bit lost what that error message might mean...","user":"U68UUUFPS","ts":"1615053693.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"96wCh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm a bit lost what that error message might mean..."}]}]}]},{"client_msg_id":"547493e3-53ed-45d7-a1fa-df0b77f7ce30","type":"message","text":"If anyone has an idea, let me know :slightly_smiling_face:","user":"U68UUUFPS","ts":"1615053700.016000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l0n1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If anyone has an idea, let me know "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"5b76b04d-3ca9-47ed-8b64-84d0b756c791","type":"message","text":"Is there a way to peek into the language server process and see what it’s currently doing?","user":"U8MPCDJAY","ts":"1615128600.017200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WUNv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a way to peek into the language server process and see what it’s currently doing?"}]}]}]},{"client_msg_id":"229a3cc3-bc3b-4d22-a0c9-6ec2d6000ce3","type":"message","text":"like a debug mode. But I wasn’t sure where the messages would be printed","user":"U8MPCDJAY","ts":"1615128623.017700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lIrFV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"like a debug mode. But I wasn’t sure where the messages would be printed"}]}]}]},{"client_msg_id":"51e1a8e5-d33d-49d0-98d9-0fb8e7f4cab3","type":"message","text":"You can set the trace mode to verbose in the settings and then the outputs should be fairly informative","user":"U6BNE7LTZ","ts":"1615129013.018700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hz564","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can set the trace mode to verbose in the settings and then the outputs should be fairly informative"}]}]}]},{"client_msg_id":"ce7f6575-b118-479a-bf36-53def039c26c","type":"message","text":"So I turn that on then view “outputs”&gt;“Julia Language server trace” ?","user":"U8MPCDJAY","ts":"1615129339.019300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pLNt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I turn that on then view “outputs”>“Julia Language server trace” ?"}]}]}]},{"client_msg_id":"e4b3196a-00f5-4883-8418-357e9a210f73","type":"message","text":"yep","user":"U6BNE7LTZ","ts":"1615129362.019400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Foi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep"}]}]}]},{"client_msg_id":"a0d6007a-54b9-44c1-8953-f6233e0082a0","type":"message","text":"On the memory issue: does that go up over time? Or is it essentially so large shortly after we start everything? That might allow us to pin down whether the problem is located somewhere in the comm layer, say we don't free memory associated with messages or something like that, vs something that is caused in say the initial analysis stage of a folder.","user":"U68UUUFPS","ts":"1615146748.021200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WOoOd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On the memory issue: does that go up over time? Or is it essentially so large shortly after we start everything? That might allow us to pin down whether the problem is located somewhere in the comm layer, say we don't free memory associated with messages or something like that, vs something that is caused in say the initial analysis stage of a folder."}]}]}]},{"client_msg_id":"359268d0-73ab-4a7e-8d1c-abfaf38c7af6","type":"message","text":"Just added some updates here <https://github.com/julia-vscode/julia-vscode/pull/2001#issuecomment-792342715>","user":"U8MPCDJAY","ts":"1615147320.021700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UiV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just added some updates here "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/2001#issuecomment-792342715"}]}]}]},{"client_msg_id":"a3a74a32-1412-4a0f-91b6-c6054cf29b88","type":"message","text":"Memory usage shoots up when the docs are being added to the server object in `setdocument!`, but interestingly while system memory report shoots up by ~1-2 GB, the `server` object only rises to 120 MB","user":"U8MPCDJAY","ts":"1615147398.023400","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1615148002.000000"},"blocks":[{"type":"rich_text","block_id":"qXk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Memory usage shoots up when the docs are being added to the server object in "},{"type":"text","text":"setdocument!","style":{"code":true}},{"type":"text","text":", but interestingly while system memory report shoots up by ~1-2 GB, the "},{"type":"text","text":"server","style":{"code":true}},{"type":"text","text":" object only rises to 120 MB"}]}]}]},{"client_msg_id":"05f6d6f3-51ed-41bc-9bfe-781ec8707be9","type":"message","text":"So I guess something about the `Document` is preventing GC","user":"U8MPCDJAY","ts":"1615147420.023900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EiNJU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So I guess something about the "},{"type":"text","text":"Document","style":{"code":true}},{"type":"text","text":" is preventing GC"}]}]}]},{"client_msg_id":"26b521a2-9a96-4bff-86f3-69d7be10b819","type":"message","text":"I noticed that the Documents both are added to the `server` and themselves have a `server` field that is set to the server they’re being added to.. perhaps that circularity is confusing GC somehow","user":"U8MPCDJAY","ts":"1615147461.024800","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1615147786.000000"},"blocks":[{"type":"rich_text","block_id":"aBp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed that the Documents both are added to the "},{"type":"text","text":"server","style":{"code":true}},{"type":"text","text":" and themselves have a "},{"type":"text","text":"server","style":{"code":true}},{"type":"text","text":" field that is set to the server they’re being added to.. perhaps that circularity is confusing GC somehow"}]}]}]},{"client_msg_id":"f1b5a98a-9ccc-456d-8c98-797d2bc1446b","type":"message","text":"Maybe we are for some reason creating duplicate `Document` instances?","user":"U68UUUFPS","ts":"1615148680.025800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cI8p/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe we are for some reason creating duplicate "},{"type":"text","text":"Document","style":{"code":true}},{"type":"text","text":" instances?"}]}]}]},{"client_msg_id":"0777bb4d-48db-40c6-952b-7de957da9669","type":"message","text":"And then they are hanging around, or something like that?","user":"U68UUUFPS","ts":"1615148693.026200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"t2YhE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And then they are hanging around, or something like that?"}]}]}]},{"client_msg_id":"7b2ad620-d4ff-4d3d-905a-3948c5e80dd1","type":"message","text":"I thought about that and whether the way the `URI2` objects are used as keys was creating multiple entries.. but doesn’t seem to be the case\n```julia&gt; struct Foo\n       x::Int\n       end\n\njulia&gt; d = Dict()\nDict{Any, Any}()\n\njulia&gt; f1 = Foo(1)\nFoo(1)\n\njulia&gt; d[f1] = 1\n1\n\njulia&gt; f1b = Foo(1)\nFoo(1)\n\njulia&gt; d[f1b] = 2\n2\n\njulia&gt; d\nDict{Any, Any} with 1 entry:\n  Foo(1) =&gt; 2```","user":"U8MPCDJAY","ts":"1615148752.027600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jb2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I thought about that and whether the way the "},{"type":"text","text":"URI2","style":{"code":true}},{"type":"text","text":" objects are used as keys was creating multiple entries.. but doesn’t seem to be the case\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> struct Foo\n       x::Int\n       end\n\njulia> d = Dict()\nDict{Any, Any}()\n\njulia> f1 = Foo(1)\nFoo(1)\n\njulia> d[f1] = 1\n1\n\njulia> f1b = Foo(1)\nFoo(1)\n\njulia> d[f1b] = 2\n2\n\njulia> d\nDict{Any, Any} with 1 entry:\n  Foo(1) => 2"}]}]}]},{"client_msg_id":"c380868f-590b-4ac4-ad1e-dceefbf5295e","type":"message","text":"(sanity check)","user":"U8MPCDJAY","ts":"1615148768.027800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YZlJ4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(sanity check)"}]}]}]},{"client_msg_id":"c71364d0-5403-4e60-b907-6920d5eee3a4","type":"message","text":"plus, if it were extra documents, it would show up in the `server` summarysize, which is only ~120MB","user":"U8MPCDJAY","ts":"1615148809.028400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cFH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"plus, if it were extra documents, it would show up in the "},{"type":"text","text":"server","style":{"code":true}},{"type":"text","text":" summarysize, which is only ~120MB"}]}]}]},{"client_msg_id":"24655799-f5d9-48a0-97ca-1fca3e7abb8e","type":"message","text":"Yeah, true...","user":"U68UUUFPS","ts":"1615148829.028600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4lwn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, true..."}]}]}]},{"client_msg_id":"2740fca8-2b68-4381-9692-e0a101dbfdcf","type":"message","text":"I think something might have broken the debugger: <https://github.com/julia-vscode/julia-vscode/issues/2004> and <https://github.com/julia-vscode/julia-vscode/issues/2003> are two independent reports that sound similar...","user":"U68UUUFPS","ts":"1615148859.029100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+d7B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think something might have broken the debugger: "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/issues/2004"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/issues/2003"},{"type":"text","text":" are two independent reports that sound similar..."}]}]}]},{"client_msg_id":"ff8fb382-a844-4c6a-96a6-e8a2685d2b66","type":"message","text":"<@U6BNE7LTZ> any idea? I have to run now, so can't really look into this at the moment...","user":"U68UUUFPS","ts":"1615148885.029700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J6un","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" any idea? I have to run now, so can't really look into this at the moment..."}]}]}]},{"client_msg_id":"a4966b3c-a16c-4b15-92d0-3b2c4843cf33","type":"message","text":"FWIW someone on Discourse ran into the same issue and same resolution as #2003","user":"UMY1LV01G","ts":"1615176323.031000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xWolP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW someone on Discourse ran into the same issue and same resolution as #2003"}]}]}]},{"client_msg_id":"921d3cae-37e9-4e01-961a-6865ac6ddf94","type":"message","text":"<@U6BNE7LTZ> I have 1.1.33 ready to be deployed to everyone. It was on insider for more than 24 hours with zero crashes.","user":"U68UUUFPS","ts":"1615223157.031500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nk3C","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" I have 1.1.33 ready to be deployed to everyone. It was on insider for more than 24 hours with zero crashes."}]}]}]},{"client_msg_id":"349b47ec-10da-4547-b1b3-1a01447c3eef","type":"message","text":"Should I push it out?","user":"U68UUUFPS","ts":"1615223162.031700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"czMHi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should I push it out?"}]}]}]},{"client_msg_id":"ca7138d8-c3df-4448-b1a7-c23b620f9110","type":"message","text":"The debugging thing is probably unrelated to whatever we changed between 32 and 33, so we might as well push it, right?","user":"U68UUUFPS","ts":"1615223185.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Im","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The debugging thing is probably unrelated to whatever we changed between 32 and 33, so we might as well push it, right?"}]}]}]},{"client_msg_id":"d69e8b12-2a17-4c29-affb-f894771a75d9","type":"message","text":"Sure, can't hurt","user":"U6BNE7LTZ","ts":"1615223196.032600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0AJU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sure, can't hurt"}]}]}]},{"client_msg_id":"bae3faf4-af48-4fac-a383-c4a5e16bb8c2","type":"message","text":"Ok, done!","user":"U68UUUFPS","ts":"1615223210.032800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QD0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, done!"}]}]}]},{"client_msg_id":"cd37ed26-10e5-4852-a58b-2f002107bec9","type":"message","text":"You're looking into the debugging thing I labeled showstopper? Should I also look, or would we just be looking for the same thing at the moment?","user":"U68UUUFPS","ts":"1615223254.033900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2l=h","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You're looking into the debugging thing I labeled showstopper? Should I also look, or would we just be looking for the same thing at the moment?"}]}]}]},{"client_msg_id":"d58b8622-8c07-4910-b9b9-e5ace31822f5","type":"message","text":"Yeah I'm looking into those","user":"U6BNE7LTZ","ts":"1615224664.034300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"D3Mr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I'm looking into those"}]}]}],"reactions":[{"name":"+1","users":["U68UUUFPS"],"count":1}]},{"client_msg_id":"775ffb80-7ef3-4928-b7dc-c50fdf3f8254","type":"message","text":"Let's tag a new patch today?","user":"U6BNE7LTZ","ts":"1615313642.034600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mt4Sk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let's tag a new patch today?"}]}]}]},{"client_msg_id":"f507bfe9-c3ff-4f35-9678-0d2e0f342843","type":"message","text":"Yep, I tagged a while ago :slightly_smiling_face:","user":"U68UUUFPS","ts":"1615315625.034800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fj5H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, I tagged a while ago "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"803d2556-2e5f-43ab-95bb-ee73d391ea47","type":"message","text":"Just waiting for the tests to run through.","user":"U68UUUFPS","ts":"1615315635.035000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YrA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just waiting for the tests to run through."}]}]}]},{"client_msg_id":"c3242cd6-dafa-4e08-b78f-91b07624b36e","type":"message","text":"Our Azure Pipelines are taking a while these days...","user":"U68UUUFPS","ts":"1615315642.035300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RdBz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Our Azure Pipelines are taking a while these days..."}]}]}]},{"client_msg_id":"432fb5a6-ea8f-45d1-afee-9fa5d544bd28","type":"message","text":"One question is whether we should wait our normal 24 hours between pushing it to the insider channel and the release channel?","user":"U68UUUFPS","ts":"1615315846.036000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BGwa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"One question is whether we should wait our normal 24 hours between pushing it to the insider channel and the release channel?"}]}]}]},{"client_msg_id":"cab571a5-a119-4f2e-8565-075e0da1a8a9","type":"message","text":"I think I'm almost in favor of pushing to release right away","user":"U6BNE7LTZ","ts":"1615316073.036500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vDTiR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I'm almost in favor of pushing to release right away"}]}]}]},{"client_msg_id":"16dab4eb-e393-43fc-a7d5-352df59f8a37","type":"message","text":"Yes, me too","user":"U68UUUFPS","ts":"1615316090.036700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Y5EX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, me too"}]}]}]},{"client_msg_id":"1733bb34-d59e-4c4f-835a-fb9ee6142ff6","type":"message","text":"Will do","user":"U68UUUFPS","ts":"1615316097.036900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"66=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Will do"}]}]}],"reactions":[{"name":"+1","users":["U6BNE7LTZ"],"count":1}]},{"client_msg_id":"1113f7cf-d18e-45f6-ab5b-b25c13895948","type":"message","text":"Alright, 1.1.34 is out in both channels.","user":"U68UUUFPS","ts":"1615322253.037300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M8Vf2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alright, 1.1.34 is out in both channels."}]}]}],"reactions":[{"name":"100","users":["U6BNE7LTZ"],"count":1}]},{"client_msg_id":"750520c5-ba21-4aeb-97a5-90032558fd5d","type":"message","text":"I noticed that on MacOS at least, the language server julia process isn’t owned by VSCode. i.e. when you view the system monitor in heirarchy mode it doesn’t sit under the VSCode app","user":"U8MPCDJAY","ts":"1615397358.039000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NJ4Ga","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed that on MacOS at least, the language server julia process isn’t owned by VSCode. i.e. when you view the system monitor in heirarchy mode it doesn’t sit under the VSCode app"}]}]}]},{"client_msg_id":"5b23e02f-1d4d-4184-a541-4da98a4ccea2","type":"message","text":"I assume that’s related to why that process remains open after closing VSCode (on MacOS)","user":"U8MPCDJAY","ts":"1615397389.039700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CK7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I assume that’s related to why that process remains open after closing VSCode (on MacOS)"}]}]}]},{"client_msg_id":"cd75e3fc-4fe5-479d-9810-5f716908f4c2","type":"message","text":"Yes, that is definitely not how it is supposed to be, I think!","user":"U68UUUFPS","ts":"1615397735.040200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zowf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that is definitely not how it is supposed to be, I think!"}]}]}]},{"client_msg_id":"ce8c224e-4909-4827-8534-b9a331416bee","type":"message","text":"I think these stray process reports might also only have come on Macs? Not entirely sure...","user":"U68UUUFPS","ts":"1615397768.041000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DZmky","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think these stray process reports might also only have come on Macs? Not entirely sure..."}]}]}]},{"client_msg_id":"fcfda72f-546a-4355-a508-96a5e47646c2","type":"message","text":"But I certainly never had a stray process situation ever, on Windows.","user":"U68UUUFPS","ts":"1615397785.041400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cfsj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I certainly never had a stray process situation ever, on Windows."}]}]}]},{"client_msg_id":"0b6b6246-8b29-418b-8e5f-a34b0a428eca","type":"message","text":"no that for sure also happens on linux","user":"U6BNE7LTZ","ts":"1615397840.041700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UI=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no that for sure also happens on linux"}]}]}]},{"client_msg_id":"7c40f864-f45f-4809-b652-536754a4d78a","type":"message","text":"there the LS process is owned by VSCode, but can become orphaned","user":"U6BNE7LTZ","ts":"1615397857.042100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/c1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there the LS process is owned by VSCode, but can become orphaned"}]}]}]},{"client_msg_id":"4da4a4a7-75ff-4530-8cf6-47bc4d1f9e93","type":"message","text":"<https://github.com/microsoft/vscode/issues/35196> and <https://github.com/microsoft/vscode-languageserver-node/issues/726> might be relevant","user":"U68UUUFPS","ts":"1615397945.042400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZLv","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/microsoft/vscode/issues/35196"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/microsoft/vscode-languageserver-node/issues/726"},{"type":"text","text":" might be relevant"}]}]}]},{"client_msg_id":"3c5fa2ca-7e9d-4a50-b9a9-5d1873876b7a","type":"message","text":"&gt; VS Code crashes / gets killed: servers need to protect themselves against this. This is why VS Code adds the process id of the process starting the server to the command line. It is also send in the initialize request. That allows a server to monitor the editor process and if it disappears exit gracefully.\n","user":"U6BNE7LTZ","ts":"1615398055.042600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Ud","elements":[{"type":"rich_text_quote","elements":[{"type":"text","text":"VS Code crashes / gets killed: servers need to protect themselves against this. This is why VS Code adds the process id of the process starting the server to the command line. It is also send in the initialize request. That allows a server to monitor the editor process and if it disappears exit gracefully."}]},{"type":"rich_text_section","elements":[]}]}]},{"client_msg_id":"484c2481-3983-4901-aaa3-f810e8b95ec3","type":"message","text":"well then","user":"U6BNE7LTZ","ts":"1615398057.042800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ePeD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well then"}]}]}]},{"client_msg_id":"61976731-3f69-4593-8eb2-171579ae4834","type":"message","text":"let's do that :slightly_smiling_face:","user":"U6BNE7LTZ","ts":"1615398064.043000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ugh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"let's do that "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"75ae712b-48c3-42f8-a3e0-b7b8a483db9e","type":"message","text":"But that is also weird, because we are _not_ starting in orphaned mode, right?","user":"U68UUUFPS","ts":"1615398353.043700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q2p0M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But that is also weird, because we are "},{"type":"text","text":"not","style":{"italic":true}},{"type":"text","text":" starting in orphaned mode, right?"}]}]}]},{"client_msg_id":"c1a5dc39-4f9a-425d-be41-ffc3982bfa69","type":"message","text":"no","user":"U6BNE7LTZ","ts":"1615398372.044400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PkTz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no"}]}]}]},{"client_msg_id":"98578bb1-0f04-4edd-9fcf-ad444f4ffd13","type":"message","text":"I just checked and on MacOS it does start up as a child process, according to system monitor","user":"U8MPCDJAY","ts":"1615398376.044700","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1615398394.000000"},"blocks":[{"type":"rich_text","block_id":"h7n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just checked and on MacOS it does start up as a child process, according to system monitor"}]}]}]},{"client_msg_id":"dc257563-63f7-4ef4-9aa4-056fff7b461a","type":"message","text":"but got orphaned when I closed vscode","user":"U8MPCDJAY","ts":"1615398410.045400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hkz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but got orphaned when I closed vscode"}]}]}]},{"client_msg_id":"94931800-996a-4195-8cb8-3d784d50505a","type":"message","text":"alright I'll whip up a PR to exit the LS when the parent stops","user":"U6BNE7LTZ","ts":"1615398447.046600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fjL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"alright I'll whip up a PR to exit the LS when the parent stops"}]}]}],"reactions":[{"name":"+1","users":["U8MPCDJAY"],"count":1}]},{"client_msg_id":"0d10796c-ca34-4c78-83e0-96b498485d58","type":"message","text":"(btw, slightly annoying that the vscode app is called “code”.. I always look for “v…“)","user":"U8MPCDJAY","ts":"1615398449.046700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bi0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(btw, slightly annoying that the vscode app is called “code”.. I always look for “v…“)"}]}]}]},{"client_msg_id":"ebd46232-d081-466c-b92f-c143a714df6c","type":"message","text":"So how can that be, that one starts out with a parent owning process, and then gets divorced from that as time goes on?","user":"U68UUUFPS","ts":"1615398481.047300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8lnFr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So how can that be, that one starts out with a parent owning process, and then gets divorced from that as time goes on?"}]}]}]},{"client_msg_id":"4839aab2-38dd-4b74-b57c-e37aa8299ca1","type":"message","text":"This all still looks more like a bug on the VS Code side of things to me...","user":"U68UUUFPS","ts":"1615398492.047700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wdA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This all still looks more like a bug on the VS Code side of things to me..."}]}]}]},{"client_msg_id":"a8571aaa-7b9b-4c3a-9688-2271513868a2","type":"message","text":"no, VSCode realistically can't guarantee that it tears down all child processes","user":"U6BNE7LTZ","ts":"1615398527.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zxJo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, VSCode realistically can't guarantee that it tears down all child processes"}]}]}]},{"client_msg_id":"61ba720a-741b-4828-b8bf-498cf2f2cc6e","type":"message","text":"e.g. if it get's killed by the OS","user":"U6BNE7LTZ","ts":"1615398535.048400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Kcz+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"e.g. if it get's killed by the OS"}]}]}]},{"client_msg_id":"033a01b5-cdda-4f44-918b-ec382e5d02f3","type":"message","text":"and that's \"normal\" behaviour on Unixes","user":"U6BNE7LTZ","ts":"1615398559.048900","team":"T68168MUP","edited":{"user":"U6BNE7LTZ","ts":"1615398587.000000"},"blocks":[{"type":"rich_text","block_id":"Nrz61","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and that's \"normal\" behaviour on Unixes"}]}]}]},{"client_msg_id":"258fd5a5-5268-4cac-82ad-c0e1de7d2892","type":"message","text":"Oh, so processes are kind of always orphaned on Linux?","user":"U68UUUFPS","ts":"1615398603.049900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pMuF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, so processes are kind of always orphaned on Linux?"}]}]}]},{"client_msg_id":"9430e9cc-55c8-4bfd-a700-ebd9ec4920e7","type":"message","text":"not always","user":"U6BNE7LTZ","ts":"1615398609.050200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IGFtF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not always"}]}]}]},{"client_msg_id":"44ca7583-755f-4654-b6a7-c18ac07eafdf","type":"message","text":"but they can be if the parent dies in an unexpected fashion","user":"U6BNE7LTZ","ts":"1615398619.050500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uMq9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but they can be if the parent dies in an unexpected fashion"}]}]}]},{"client_msg_id":"b5216236-5d44-4b91-b680-5979e5349ae3","type":"message","text":"and you can normally tell because they are \"re-parented\" to PPID 1","user":"U6BNE7LTZ","ts":"1615398641.051000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rfi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and you can normally tell because they are \"re-parented\" to PPID 1"}]}]}]},{"client_msg_id":"8ec16591-c84c-4f10-852a-df02aede2cd4","type":"message","text":"Ah, ok.","user":"U68UUUFPS","ts":"1615398649.051200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o3ms","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, ok."}]}]}]},{"client_msg_id":"d0197ca4-2c38-4b00-b57e-d30229731dff","type":"message","text":"Well, monitoring for parent death seems pretty easy then :slightly_smiling_face:","user":"U68UUUFPS","ts":"1615398670.051700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lLv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well, monitoring for parent death seems pretty easy then "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"e2db8890-04ab-42a9-9206-1164490b9029","type":"message","text":"Can just be an async task that waits for that, right? And then just calls `exit`?","user":"U68UUUFPS","ts":"1615398689.052300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L6Om","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can just be an async task that waits for that, right? And then just calls "},{"type":"text","text":"exit","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"71daf5e4-a1e1-43a3-b99f-427c66d766ae","type":"message","text":"kinda, although I don't know how to do that on Windows (or if it's necessary)","user":"U6BNE7LTZ","ts":"1615398692.052400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+e0d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"kinda, although I don't know how to do that on Windows (or if it's necessary)"}]}]}]},{"client_msg_id":"a0c3bf66-b64a-4d8a-a945-bec02adc550a","type":"message","text":"yep","user":"U6BNE7LTZ","ts":"1615398694.052600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gD044","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep"}]}]}]},{"client_msg_id":"493ee33b-0cc8-4227-8b7a-47e81450cf86","type":"message","text":"I'm pretty positive that Windows handles this properly without any additional stuff","user":"U68UUUFPS","ts":"1615398715.053100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m9nKv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm pretty positive that Windows handles this properly without any additional stuff"}]}]}]},{"client_msg_id":"41d147f5-d52e-45e4-a7f6-9968760b8ead","type":"message","text":"fair enough","user":"U6BNE7LTZ","ts":"1615398721.053400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pQ7bh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"fair enough"}]}]}]},{"client_msg_id":"5888589e-d57c-4378-9598-fe10d5b45f19","type":"message","text":"<https://github.com/julia-vscode/julia-vscode/pull/2014> could also just fix the problem","user":"U6BNE7LTZ","ts":"1615398727.053700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oAa","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/2014"},{"type":"text","text":" could also just fix the problem"}]}]}]},{"client_msg_id":"6b6faf37-c8af-42e8-924e-5b5db00a9919","type":"message","text":"because the pipe connection between vscode and the LS should be closed when either exits","user":"U6BNE7LTZ","ts":"1615398746.054300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T4de","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"because the pipe connection between vscode and the LS should be closed when either exits"}]}]}]},{"client_msg_id":"6f94ebdf-c799-4252-b6ac-1af779bd1823","type":"message","text":"we just weren't propagating that properly, I think","user":"U6BNE7LTZ","ts":"1615398755.054600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tDO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we just weren't propagating that properly, I think"}]}]}]},{"client_msg_id":"05707954-796a-4957-95d8-058f6554c788","type":"message","text":"and/or we'd try to report an error, but would never be able to connect","user":"U6BNE7LTZ","ts":"1615398777.055300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7DAR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and/or we'd try to report an error, but would never be able to connect"}]}]}]},{"client_msg_id":"2b083f73-d518-45b4-9b13-978cf046522f","type":"message","text":"or something like that","user":"U6BNE7LTZ","ts":"1615398783.055600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aDqv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or something like that"}]}]}]},{"client_msg_id":"df23e4fe-2d11-4cd7-b812-b2b89805daf9","type":"message","text":"<https://github.com/julia-vscode/julia-vscode/pull/2015> is an alternative to 2014 that is a little less drastic, maybe. The diff looks weird, but really it is just wrapping everything in another `try finally` block so that `exit` always runs.","user":"U68UUUFPS","ts":"1615399395.056400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4nRCx","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/julia-vscode/julia-vscode/pull/2015"},{"type":"text","text":" is an alternative to 2014 that is a little less drastic, maybe. The diff looks weird, but really it is just wrapping everything in another "},{"type":"text","text":"try finally","style":{"code":true}},{"type":"text","text":" block so that "},{"type":"text","text":"exit","style":{"code":true}},{"type":"text","text":" always runs."}]}]}]},{"client_msg_id":"a6e534b1-2425-4eaf-9994-4a2d13eca4ee","type":"message","text":"that's good to have, but not enough I think","user":"U6BNE7LTZ","ts":"1615399558.056700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uDG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's good to have, but not enough I think"}]}]}]},{"client_msg_id":"6fc2be91-3641-46be-879b-50e3639e67b9","type":"message","text":"oh wait, nvm","user":"U6BNE7LTZ","ts":"1615399581.056900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uBoa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh wait, nvm"}]}]}]},{"client_msg_id":"2f4076a4-4508-4061-be9c-36b971eb9fe9","type":"message","text":"that *should* be good enough","user":"U6BNE7LTZ","ts":"1615399591.057100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8q6b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that "},{"type":"text","text":"should","style":{"bold":true}},{"type":"text","text":" be good enough"}]}]}]},{"client_msg_id":"e6e2f41b-ba80-41d5-a7a7-8c0b3079f20b","type":"message","text":"I still think the important part is <https://github.com/julia-vscode/LanguageServer.jl/pull/907/files#diff-3ce95324dfc59f98ed9b36d67aa75dea2924f94a51d8976b59a7811ad1477622R273-R275> and <https://github.com/julia-vscode/LanguageServer.jl/pull/907/files#diff-3ce95324dfc59f98ed9b36d67aa75dea2924f94a51d8976b59a7811ad1477622R290-R292>","user":"U6BNE7LTZ","ts":"1615399631.057500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KrW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I still think the important part is "},{"type":"link","url":"https://github.com/julia-vscode/LanguageServer.jl/pull/907/files#diff-3ce95324dfc59f98ed9b36d67aa75dea2924f94a51d8976b59a7811ad1477622R273-R275"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/julia-vscode/LanguageServer.jl/pull/907/files#diff-3ce95324dfc59f98ed9b36d67aa75dea2924f94a51d8976b59a7811ad1477622R290-R292"}]}]}]},{"client_msg_id":"26f9d427-bdfb-49ce-bbb4-11f9316abbfa","type":"message","text":"ok turns out it's non trivial to wait for the parent process to exit","user":"U6BNE7LTZ","ts":"1615400962.057900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6FGvh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok turns out it's non trivial to wait for the parent process to exit"}]}]}]},{"client_msg_id":"b0565d2d-899e-4392-a334-100c5e290309","type":"message","text":"the suggested way to do this is to open a pipe in the parent and wait until an eof is written to that","user":"U6BNE7LTZ","ts":"1615400989.058300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8AS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the suggested way to do this is to open a pipe in the parent and wait until an eof is written to that"}]}]}]},{"client_msg_id":"af6a5632-f736-4213-9bb0-97e1f6f46a57","type":"message","text":"which kinda is what we already have","user":"U6BNE7LTZ","ts":"1615400995.058500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=Fa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which kinda is what we already have"}]}]}]},{"client_msg_id":"46236ef6-7e28-4ebc-91c7-bd30b97e2d91","type":"message","text":"Just a quick report: I had a super productive call with Don from MS who originally created the Python extension and is now the primary dev on the Jupyter extension. He outlined the plans that they have for all of this going forward, and it was essentially all I had hoped for. He is going to help us revive my notebook branch, make it work with the current notebook API and the Jupyter extension. For now we're going to drop the custom file format support and will just try to get the Jupyter Notebook support to work properly. The high level architecture is that the Jupyter extension will essentially just do the file read and write, and then we will have a kernel implementation inside our extension that does all the code execution. We will completely bypass the Jupyter ZMQ comm story, and instead rely on the VS Code APIs for kernel execution, so this will all work without a need for an IJulia.jl installation.","user":"U68UUUFPS","ts":"1615487783.061700","team":"T68168MUP","edited":{"user":"U68UUUFPS","ts":"1615487809.000000"},"blocks":[{"type":"rich_text","block_id":"sDz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just a quick report: I had a super productive call with Don from MS who originally created the Python extension and is now the primary dev on the Jupyter extension. He outlined the plans that they have for all of this going forward, and it was essentially all I had hoped for. He is going to help us revive my notebook branch, make it work with the current notebook API and the Jupyter extension. For now we're going to drop the custom file format support and will just try to get the Jupyter Notebook support to work properly. The high level architecture is that the Jupyter extension will essentially just do the file read and write, and then we will have a kernel implementation inside our extension that does all the code execution. We will completely bypass the Jupyter ZMQ comm story, and instead rely on the VS Code APIs for kernel execution, so this will all work without a need for an IJulia.jl installation."}]}]}]},{"client_msg_id":"30067e9a-16df-4b9d-9077-794b3ba841e8","type":"message","text":"That sounds great","user":"U6BNE7LTZ","ts":"1615487822.062000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jx3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That sounds great"}]}]}]},{"client_msg_id":"8595be79-49e6-44f5-a3ab-dde88ccb9eff","type":"message","text":"<@U7Z4938R3> will be pleased, I think :slightly_smiling_face:","user":"U68UUUFPS","ts":"1615487860.062500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6LI","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U7Z4938R3"},{"type":"text","text":" will be pleased, I think "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"0cef8b6b-c2ff-44a3-bfad-6b9dd6c980d6","type":"message","text":"But the \"official\" jupyter extension will also just support julia, right?","user":"U6BNE7LTZ","ts":"1615487883.063000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KCDR9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But the \"official\" jupyter extension will also just support julia, right?"}]}]}]},{"client_msg_id":"63a3bfc8-7964-4867-9785-13c9ee9c36fd","type":"message","text":"Wow!","user":"U7Z4938R3","ts":"1615487907.063900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NDkh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Wow!"}]}]}]},{"client_msg_id":"b998145e-c734-4e41-8c7d-48165354971b","type":"message","text":"So the tentative plan is that the official Jupyter extension will use ZMQ to execute code if the Julia extension is not installed, but if the Julia extension IS installed, we will \"own\" the kernel and the execution.","user":"U68UUUFPS","ts":"1615487928.064600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/+D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the tentative plan is that the official Jupyter extension will use ZMQ to execute code if the Julia extension is not installed, but if the Julia extension IS installed, we will \"own\" the kernel and the execution."}]}]}],"reactions":[{"name":"+1","users":["U6BNE7LTZ"],"count":1}]},{"client_msg_id":"200b1d2e-ca31-453e-a3a8-6f532a0aeb01","type":"message","text":"Did you get any sense on when the new notebook UI will move from Insider to release vscode?","user":"U7Z4938R3","ts":"1615487953.065500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vchd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Did you get any sense on when the new notebook UI will move from Insider to release vscode?"}]}]}]},{"client_msg_id":"7dc22896-c7a2-4b53-b530-3ef6322082ad","type":"message","text":"The main benefit of this is that we will be able to have full workspace UI for the kernels, debugging etc.","user":"U68UUUFPS","ts":"1615487968.065800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"X/o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The main benefit of this is that we will be able to have full workspace UI for the kernels, debugging etc."}]}]}]},{"client_msg_id":"7d14f4e3-9a6e-4e94-b8aa-1d1b0eca4885","type":"message","text":"right","user":"U6BNE7LTZ","ts":"1615487975.066100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SB4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"right"}]}]}]},{"client_msg_id":"1f8c4754-34a3-4f8b-a52b-c12c577a71cc","type":"message","text":"No sense of a timeline, I think he himself did not know.","user":"U68UUUFPS","ts":"1615487985.066300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dq+a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No sense of a timeline, I think he himself did not know."}]}]}]},{"client_msg_id":"4de009b9-bfdf-4cd2-b4e7-34bed4242688","type":"message","text":"He did mention that MS has a lot of dev time on the notebook stuff now on the VS Code side of things.","user":"U68UUUFPS","ts":"1615488010.067400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iQpU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"He did mention that MS has a lot of dev time on the notebook stuff now on the VS Code side of things."}]}]}]},{"client_msg_id":"45b7e89b-5531-4517-8b8e-ab85970c046b","type":"message","text":"Great news.  Unlike google, microsoft is cautious in releasing products... but then they don't arbitrarily shut them down.  So this will stick.","user":"U7Z4938R3","ts":"1615488019.067800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+uBZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great news.  Unlike google, microsoft is cautious in releasing products... but then they don't arbitrarily shut them down.  So this will stick."}]}]}]},{"client_msg_id":"07ccc270-92ee-47e0-b0da-649521072b0c","type":"message","text":"But on the other hand, for those hat have been following the progress on that, they are also completely breaking the API about daily right now :slightly_smiling_face:","user":"U68UUUFPS","ts":"1615488025.068200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g3j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But on the other hand, for those hat have been following the progress on that, they are also completely breaking the API about daily right now "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"be02e263-d706-4441-abc4-a1ac50a98255","type":"message","text":"Oh and Fons plans to put up JSoC project for Pluto integration, which would be a nice parallel effort","user":"U6BNE7LTZ","ts":"1615488046.069000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yed","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh and Fons plans to put up JSoC project for Pluto integration, which would be a nice parallel effort"}]}]}]},{"client_msg_id":"c47d976e-a649-4a1b-b355-b60eaec87d15","type":"message","text":":slightly_smiling_face:   <@U68UUUFPS> and <@U6BNE7LTZ> thanks so much for all of this.  I am very excited.","user":"U7Z4938R3","ts":"1615488054.069400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Bo8","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":"   "},{"type":"user","user_id":"U68UUUFPS"},{"type":"text","text":" and "},{"type":"user","user_id":"U6BNE7LTZ"},{"type":"text","text":" thanks so much for all of this.  I am very excited."}]}]}]},{"client_msg_id":"f81393d7-8383-4fdd-bafa-ba69bac37450","type":"message","text":"Yes, that would be awesome!","user":"U68UUUFPS","ts":"1615488057.069600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l7Gub","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, that would be awesome!"}]}]}]},{"client_msg_id":"bb86354c-6f44-4a5b-a217-0b16b3bfe7ab","type":"message","text":"So in my dream world, we'll be able to show full Jupyter Notebooks on GitHub Codespaces at this year's Juliacon","user":"U68UUUFPS","ts":"1615488078.070300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gZwS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So in my dream world, we'll be able to show full Jupyter Notebooks on GitHub Codespaces at this year's Juliacon"}]}]}],"reactions":[{"name":"heart","users":["U7Z4938R3"],"count":1}]},{"client_msg_id":"036246f1-140e-4422-a691-19becfd53f61","type":"message","text":"Could pluto use the new notebook UI?  It seems like it could in principle down the road?","user":"U7Z4938R3","ts":"1615488079.070400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gmg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Could pluto use the new notebook UI?  It seems like it could in principle down the road?"}]}]}]},{"client_msg_id":"b373dbde-79c4-4b5b-af26-4d5832584781","type":"message","text":"Yes, I had a prototype of that","user":"U6BNE7LTZ","ts":"1615488090.070600","team":"T68168MUP","edited":{"user":"U6BNE7LTZ","ts":"1615488091.000000"},"blocks":[{"type":"rich_text","block_id":"yWlsS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I had a prototype of that"}]}]}]},{"client_msg_id":"909c54bb-9982-4643-a8d6-24e75636ca06","type":"message","text":"So in terms of UI, I think we need to add a level to the workspace tree for kernels. And then it would be nice if say the Pluto kernels also showed up there...","user":"U68UUUFPS","ts":"1615488152.072700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tWIrM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So in terms of UI, I think we need to add a level to the workspace tree for kernels. And then it would be nice if say the Pluto kernels also showed up there..."}]}]}]},{"client_msg_id":"4e9156b6-34b4-40f0-afcf-48e3dc678af3","type":"message","text":"That's easy","user":"U6BNE7LTZ","ts":"1615488183.073200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"aVW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's easy"}]}]}],"reactions":[{"name":"+1","users":["U68UUUFPS"],"count":1}]},{"client_msg_id":"9c409dcc-e8ee-4c3e-951c-042d6dc6ae9e","type":"message","text":"So we don't want the notebook UI to attach to the REPL?","user":"U6BNE7LTZ","ts":"1615488210.074300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+7B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So we don't want the notebook UI to attach to the REPL?"}]}]}]},{"client_msg_id":"e43cea81-c224-4e38-bb30-27aba857be22","type":"message","text":"Oh, another thing: Don mentioned that they type of testing they have is a full integration test. So the test for example is to create a new notebook, paste code into it, run it, and test the output for correctness. We should take a look how exactly they write those kind of tests, because having that for more of the Typescript side of things would be super useful for us.","user":"U68UUUFPS","ts":"1615488254.075300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QEZ2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, another thing: Don mentioned that they type of testing they have is a full integration test. So the test for example is to create a new notebook, paste code into it, run it, and test the output for correctness. We should take a look how exactly they write those kind of tests, because having that for more of the Typescript side of things would be super useful for us."}]}]}]},{"client_msg_id":"9859cbe7-a0f6-4eba-888d-ca49c37ed788","type":"message","text":"Yeah, good question re the REPL attach. My gut feeling is no, but I'm not sure...","user":"U68UUUFPS","ts":"1615488268.075600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kJ9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, good question re the REPL attach. My gut feeling is no, but I'm not sure..."}]}]}]},{"client_msg_id":"849c00af-5a62-4dae-baf8-2e373b5715fc","type":"message","text":"I definitely think we need one kernel/Julia process per notebook.","user":"U68UUUFPS","ts":"1615488282.075900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jJC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I definitely think we need one kernel/Julia process per notebook."}]}]}]},{"client_msg_id":"0d1c97bf-4896-4135-b3e6-8be1b1ac8b47","type":"message","text":"I guess we could think about also having a REPL attached to each kernel? But that might be too involved?","user":"U68UUUFPS","ts":"1615488301.076400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QnqhO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess we could think about also having a REPL attached to each kernel? But that might be too involved?"}]}]}]},{"client_msg_id":"316c6296-57fa-43cf-9ea4-e622053821b7","type":"message","text":"yeah let's not do that","user":"U6BNE7LTZ","ts":"1615488316.076600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B8A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah let's not do that"}]}]}]},{"client_msg_id":"f5d9081b-8a54-4f67-9823-6d6b2b5b3848","type":"message","text":"not super happy about spawning a bazillion processes, but makes sense I suppose","user":"U6BNE7LTZ","ts":"1615488348.077000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kFKo2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not super happy about spawning a bazillion processes, but makes sense I suppose"}]}]}]},{"client_msg_id":"16db7f7d-1aa5-4f24-8b0a-ecef8ef072d1","type":"message","text":":slightly_smiling_face:","user":"U68UUUFPS","ts":"1615488361.077200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xYZ","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"a4fdd74f-b224-402f-b396-d080749d0d3b","type":"message","text":"Btw, what do you think about publishing another patch release this week and then going through feature PRs?","user":"U6BNE7LTZ","ts":"1615488454.078300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cRW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Btw, what do you think about publishing another patch release this week and then going through feature PRs?"}]}]}]},{"client_msg_id":"d49fac0c-6b1c-4cd9-ad71-09642c92b19b","type":"message","text":"There's a lot of really neat stuff in the pipeline","user":"U6BNE7LTZ","ts":"1615488480.078800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Eh7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's a lot of really neat stuff in the pipeline"}]}]}]},{"client_msg_id":"e95a2141-5540-4c57-9374-aeb6ffdb3229","type":"message","text":"Yeah, that is probably a good idea!","user":"U68UUUFPS","ts":"1615488530.079900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ai/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that is probably a good idea!"}]}]}]},{"client_msg_id":"63cd8144-e3b0-4d49-bb44-7b853cf8f1f2","type":"message","text":"Thanks for the update.  Yes, I have had really good experiences with the core microsoft developers since reaching out to them.  Jupyter developers less so... I have a bad feeling about jupyter as a software project (the `.ipynb` format isn't going anywhere, but the python jupyer code/kernel/jupyterlab/etc. aren't needed after everyone else implements it and eventually finds better file formats).  I just have a hard time seeing why anyone would use jupyterlab after vscode and github codespaces is up and urnning with all these features.  And the clean typescript setup means that nobody needs to battle conda just to show notebooks.","user":"U7Z4938R3","ts":"1615489468.081400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0igYK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the update.  Yes, I have had really good experiences with the core microsoft developers since reaching out to them.  Jupyter developers less so... I have a bad feeling about jupyter as a software project (the "},{"type":"text","text":".ipynb","style":{"code":true}},{"type":"text","text":" format isn't going anywhere, but the python jupyer code/kernel/jupyterlab/etc. aren't needed after everyone else implements it and eventually finds better file formats).  I just have a hard time seeing why anyone would use jupyterlab after vscode and github codespaces is up and urnning with all these features.  And the clean typescript setup means that nobody needs to battle conda just to show notebooks."}]}]}]}]}