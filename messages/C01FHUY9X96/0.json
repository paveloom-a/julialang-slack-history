{"cursor": 0, "messages": [{"client_msg_id":"aab06a18-dbf6-41a9-bf2a-20a131ed829f","type":"message","text":"I’m trying to understand the mapping of Node, Core and Memory options on the JuliaHub Run Code (in the cloud) service. Can anyone explain how these map to Threads in Julia?\n\nThanks,","user":"ULKHN71K3","ts":"1607952378.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uaZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m trying to understand the mapping of Node, Core and Memory options on the JuliaHub Run Code (in the cloud) service. Can anyone explain how these map to Threads in Julia?\n\nThanks,"}]}]}]},{"client_msg_id":"a578fd40-7c02-409a-82ef-ecd076c88a8a","type":"message","text":"So think of a node as a separate machine. Each node has a certain number of CPUs. We describe memory as _per cpu_ , so CPU times  memory-per-cpu gives you the total memory of that node.","user":"U679VPJ8L","ts":"1607953302.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o7UA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So think of a node as a separate machine. Each node has a certain number of CPUs. We describe memory as "},{"type":"text","text":"per cpu","style":{"italic":true}},{"type":"text","text":" , so CPU times  memory-per-cpu gives you the total memory of that node."}]}]}]},{"client_msg_id":"9ae3419d-4195-45bf-934a-54a4853c50db","type":"message","text":"Now after that there are two option...","user":"U679VPJ8L","ts":"1607953313.007800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L5xe4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now after that there are two option..."}]}]}]},{"client_msg_id":"478bb03d-ed5d-4b81-8151-cd96537eba3e","type":"message","text":"Process per node will give you one process for each node. You use this if your code uses threads. The Julia process will be started with one thread per CPU. So if you've chosen a 4 CPU node, you get one Julia process per node, with 4 threads in that process","user":"U679VPJ8L","ts":"1607953481.010500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bPS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Process per node will give you one process for each node. You use this if your code uses threads. The Julia process will be started with one thread per CPU. So if you've chosen a 4 CPU node, you get one Julia process per node, with 4 threads in that process"}]}]}]},{"client_msg_id":"8941df64-aaf9-41a2-8b20-40523201722c","type":"message","text":"_Process per CPU_ should be used if you are using distributed processing (ie, pmap or @distributed for). In this case, we will start 4 Julia processes on a single mode with 4cpus. This is multiplied across nodes. So three nodes with 4 CPUs each gives you 12 Julia processes (1 master, 11 workers.. ie, nworkers()==11)","user":"U679VPJ8L","ts":"1607953628.013700","team":"T68168MUP","edited":{"user":"U679VPJ8L","ts":"1607954229.000000"},"blocks":[{"type":"rich_text","block_id":"wY6aq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Process per CPU ","style":{"italic":true}},{"type":"text","text":"should be used if you are using distributed processing (ie, pmap or @distributed for). In this case, we will start 4 Julia processes on a single mode with 4cpus. This is multiplied across nodes. So three nodes with 4 CPUs each gives you 12 Julia processes (1 master, 11 workers.. ie, nworkers()==11)"}]}]}]},{"client_msg_id":"355a1d5f-0f6f-42df-a29b-3e081635c6f0","type":"message","text":"If you are not using threads OR distributed, use a single node, with _process per node_","user":"U679VPJ8L","ts":"1607953701.015000","team":"T68168MUP","edited":{"user":"U679VPJ8L","ts":"1607953853.000000"},"blocks":[{"type":"rich_text","block_id":"+hw1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you are not using threads OR distributed, use a single node, with "},{"type":"text","text":"process per node","style":{"italic":true}}]}]}]},{"client_msg_id":"bf6de492-1588-423b-8059-9d47ef4743c3","type":"message","text":"If you want a hybrid model, where you use threads on a node, but distributed across nodes, choose multiple nodes, and _process per node_","user":"U679VPJ8L","ts":"1607953844.017100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hJ0+z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you want a hybrid model, where you use threads on a node, but distributed across nodes, choose multiple nodes, and "},{"type":"text","text":"process per node","style":{"italic":true}}]}]}]},{"client_msg_id":"b501ba1a-cfb1-497a-93e8-0af9ee17a1d7","type":"message","text":"<@ULKHN71K3> hope that helps. Let me know if I can clarify any more.","user":"U679VPJ8L","ts":"1607953888.018100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SWI","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"ULKHN71K3"},{"type":"text","text":" hope that helps. Let me know if I can clarify any more."}]}]}]},{"client_msg_id":"fedea403-f46f-43df-b7f5-985c35fd5403","type":"message","text":"Good explanation, thanks!:thumbsup:","user":"ULKHN71K3","ts":"1607954007.018800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q+rq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good explanation, thanks!"},{"type":"emoji","name":"thumbsup"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1607955331.021600","user":"U67CNJZMZ","text":"<@U67CNJZMZ> has joined the channel"},{"client_msg_id":"305c1848-c1e7-4635-83af-6a515f1b4dd6","type":"message","text":"<@U679VPJ8L> Another question, since you’re good at these: How can I use the job logging capability to insert my own  keywords and values into the logs? I have noticed that sometimes my log message gets split into the “message” part and the rest is put into keywords that appear lower in the log message. What is the best practice for using the logging facility on JuliaHub?","user":"ULKHN71K3","ts":"1608124042.024400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VMM5C","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U679VPJ8L"},{"type":"text","text":" Another question, since you’re good at these: How can I use the job logging capability to insert my own  keywords and values into the logs? I have noticed that sometimes my log message gets split into the “message” part and the rest is put into keywords that appear lower in the log message. What is the best practice for using the logging facility on JuliaHub?"}]}]}]},{"client_msg_id":"7dcc801f-f56c-4d82-b260-0bc034e21f39","type":"message","text":"That's just normal logging (cf. <https://docs.julialang.org/en/v1/stdlib/Logging/>), so `@info \"foo\" bar=3 baz=5` will give you a log message with the `bar` and `baz` keywords. You can actually plot those over time from within VSCode (will soon be on the website as well).","user":"U6BNE7LTZ","ts":"1608125991.025900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L=3L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's just normal logging (cf. "},{"type":"link","url":"https://docs.julialang.org/en/v1/stdlib/Logging/"},{"type":"text","text":"), so "},{"type":"text","text":"@info \"foo\" bar=3 baz=5","style":{"code":true}},{"type":"text","text":" will give you a log message with the "},{"type":"text","text":"bar","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"baz","style":{"code":true}},{"type":"text","text":" keywords. You can actually plot those over time from within VSCode (will soon be on the website as well)."}]}]}]},{"client_msg_id":"1fa1de4e-741c-4937-bb2b-d7cef1f19af4","type":"message","text":":+1: Also, I tried this morning to start a job from the web site, not VS Code. The workflow is obviously very different, and in particular it appears I need to invoke Pkg.instantiate() myself to get JuliaHub to load all my module’s dependencies. Is there a standard, easy way to do this?","user":"ULKHN71K3","ts":"1608126892.028500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Eihm","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"+1"},{"type":"text","text":" Also, I tried this morning to start a job from the web site, not VS Code. The workflow is obviously very different, and in particular it appears I need to invoke Pkg.instantiate() myself to get JuliaHub to load all my module’s dependencies. Is there a standard, easy way to do this?"}]}]}]},{"client_msg_id":"e9dcf6ce-f49e-444e-addc-ff0f4ae2febd","type":"message","text":"You can add an application (which is just a git repo that contains a Julia application, see<https://julialang.github.io/Pkg.jl/v1/glossary/>) and run that.","user":"U6BNE7LTZ","ts":"1608127410.029400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a7SB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can add an application (which is just a git repo that contains a Julia application, see"},{"type":"link","url":"https://julialang.github.io/Pkg.jl/v1/glossary/"},{"type":"text","text":") and run that."}]}]}]},{"client_msg_id":"4304c47c-5621-4bea-adb5-32759b50e1a7","type":"message","text":"Don't think we have good docs for that yet though","user":"U6BNE7LTZ","ts":"1608127462.029700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zPo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Don't think we have good docs for that yet though"}]}]}]},{"client_msg_id":"53c5fabe-f351-4e36-acf6-8c92b820deff","type":"message","text":"Yup, working on that this week. An example is <https://github.com/mbauman/CovidCountyDash.jl>.  Four things to note:\n• It’s structured like a package, with a Project.toml that includes its name and a UUID\n• It has a `src/CovidCountyDash.jl` entry point that defines all its “core” methods\n• It has a `bin/main.jl` entry point that does a  `using CovidCountyDash`\n• Because it connects to a web socket, you need to give JuliaHub a number to connect to (like 8080 or somesuch… doesn’t matter what number you use, it’s just a flag to JuliaHub to connect to it and the app itself reads in the port number you choose) ","user":"U6740K1SP","ts":"1608130148.033900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"viUm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yup, working on that this week. An example is "},{"type":"link","url":"https://github.com/mbauman/CovidCountyDash.jl"},{"type":"text","text":".  Four things to note:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s structured like a package, with a Project.toml that includes its name and a UUID"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It has a "},{"type":"text","text":"src/CovidCountyDash.jl","style":{"code":true}},{"type":"text","text":" entry point that defines all its “core” methods"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"It has a "},{"type":"text","text":"bin/main.jl","style":{"code":true}},{"type":"text","text":" entry point that does a  "},{"type":"text","text":"using CovidCountyDash","style":{"code":true}}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Because it connects to a web socket, you need to give JuliaHub a number to connect to (like 8080 or somesuch… doesn’t matter what number you use, it’s just a flag to JuliaHub to connect to it and the app itself reads in the port number you choose) "}]}],"style":"bullet","indent":0}]}]},{"type":"message","subtype":"channel_join","ts":"1608296355.034100","user":"UDGT4PM41","text":"<@UDGT4PM41> has joined the channel"},{"type":"message","subtype":"channel_join","ts":"1609723286.034400","user":"U01HU3PUJF7","text":"<@U01HU3PUJF7> has joined the channel"},{"client_msg_id":"b1946e1f-b8cb-4071-bd81-bf4e3770aad2","type":"message","text":"Hello. I received several receipts for credit card payments made to JuliaHub for trying out the Run code feature on the cloud. I have, however, not seen any sign of the 25 dollar credit I was supposed to get. How can I see a full accounting of my JuliaHub billing?\n\nThanks,\ndoug","user":"ULKHN71K3","ts":"1609764467.036600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jG=9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello. I received several receipts for credit card payments made to JuliaHub for trying out the Run code feature on the cloud. I have, however, not seen any sign of the 25 dollar credit I was supposed to get. How can I see a full accounting of my JuliaHub billing?\n\nThanks,\ndoug"}]}]}],"thread_ts":"1609764467.036600","reply_count":1,"reply_users_count":1,"latest_reply":"1609765991.036700","reply_users":["U679VPJ8L"],"subscribed":false},{"type":"message","subtype":"channel_join","ts":"1610971113.000200","user":"U93U5PMH9","text":"<@U93U5PMH9> has joined the channel"},{"type":"message","subtype":"channel_join","ts":"1615201912.000200","user":"USU9FRPEU","text":"<@USU9FRPEU> has joined the channel"},{"client_msg_id":"38fec8b7-91f1-47c4-a484-478b53dd29bf","type":"message","text":"Would it be possible for the JuliaHub registration form to look for both a master and main branch and default to main if master is not found?","user":"USU9FRPEU","ts":"1615201950.000900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"b6Pso","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would it be possible for the JuliaHub registration form to look for both a master and main branch and default to main if master is not found?"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1615832004.001600","user":"U01QVMS96K1","text":"<@U01QVMS96K1> has joined the channel"},{"client_msg_id":"bc54bbc9-9ba6-4c6b-b070-9284e20c94b1","type":"message","text":"Has anybody had issues adding payment methods for running on JuliaHub? Secondly, the file I'm planning on running is multi-threaded; any caveats that I should know of? I only learned how to multi thread last week so I feel like the ease of learning and deploying Julia has accelerated me way beyond my competency! lol","user":"U01BD7YGV27","ts":"1615928877.005600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6rCHv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Has anybody had issues adding payment methods for running on JuliaHub? Secondly, the file I'm planning on running is multi-threaded; any caveats that I should know of? I only learned how to multi thread last week so I feel like the ease of learning and deploying Julia has accelerated me way beyond my competency! lol"}]}]}]}]}