{"cursor": 0, "messages": [{"client_msg_id":"8C1325D9-E8ED-4FC2-8E3A-18F7E5CA781C","type":"message","text":"So Enzyme predefines derivatives for llvm functions and specific common functions, if you compile something that just uses those instructions you’re immediately good to go, if you call a library you’d want to make sure that the IR of that library is available for Enzyme to AD through (by say enabling embedded big code or LTO), any code called by that library would have to follow the same rules (either just be standard instructions or have code it’s called be available)","user":"UN3KKRCRJ","ts":"1609254514.012600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"otUB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So Enzyme predefines derivatives for llvm functions and specific common functions, if you compile something that just uses those instructions you’re immediately good to go, if you call a library you’d want to make sure that the IR of that library is available for Enzyme to AD through (by say enabling embedded big code or LTO), any code called by that library would have to follow the same rules (either just be standard instructions or have code it’s called be available)"}]}]}]},{"client_msg_id":"018bf0d3-5d7a-4256-a587-75044836b4d0","type":"message","text":"Oh alright  , \ncmath standalone isn't a good example then , perhaps something like GSL ,\nGSL would have calls to cmath in multiple places throughout the source right ? Or any other library calling cmath for that matter would still require cmath to be Differentiated right?","user":"UQWRPDJ68","ts":"1609253957.008400","team":"T68168MUP","edited":{"user":"UQWRPDJ68","ts":"1609253980.000000"},"blocks":[{"type":"rich_text","block_id":"hdkC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh alright  , \ncmath standalone isn't a good example then , perhaps something like GSL ,\nGSL would have calls to cmath in multiple places throughout the source right ? Or any other library calling cmath for that matter would still require cmath to be Differentiated right?"}]}]}]},{"client_msg_id":"5B6FFC5E-906D-4E15-9B16-5DB7D0B1545A","type":"message","text":"We should probably both document this and just automatically do this translation","user":"UN3KKRCRJ","ts":"1609253537.004400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tr/2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We should probably both document this and just automatically do this translation"}]}]}]},{"client_msg_id":"0D0570B6-53AD-4A49-902D-B1B994C7EEA2","type":"message","text":"If you see the need to AD an undefined math function you probably need to add ffast-math to make sure they get lowered","user":"UN3KKRCRJ","ts":"1609253523.003900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VOo76","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you see the need to AD an undefined math function you probably need to add ffast-math to make sure they get lowered"}]}]}]},{"client_msg_id":"29263B4F-D90A-4AAE-AF83-3F9F169D8814","type":"message","text":"So you should never need to compile libc or define a custom adjoint for as we handle all the standard math llvm intrinsics","user":"UN3KKRCRJ","ts":"1609253494.002900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"o6sK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So you should never need to compile libc or define a custom adjoint for as we handle all the standard math llvm intrinsics"}]}]}]},{"client_msg_id":"ef39b309-4d8b-4bfe-996b-3c402cee7159","type":"message","text":"<@UN3KKRCRJ>","user":"U67BJLYCS","ts":"1609253038.001900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sQ+p","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UN3KKRCRJ"}]}]}]},{"client_msg_id":"f8a13af2-2877-4fe0-b421-ffdea91ae5d3","type":"message","text":"Yeah, normally we just define the adjoint for the standard math functions","user":"U67BJLYCS","ts":"1609253030.001600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ip5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, normally we just define the adjoint for the standard math functions"}]}]}]},{"client_msg_id":"e38ee81d-83b4-4aab-86fd-3b14939f93f3","type":"message","text":"in that case I think they have access to source and compilation pipeline.","user":"UKA81L34J","ts":"1609252044.000500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IhlW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"in that case I think they have access to source and compilation pipeline."}]}]}]},{"client_msg_id":"b634f7f1-ba56-4d89-a729-0b40bbdf38fc","type":"message","text":"Okay , yes I guess  it's too late once already compiled , I'll need the source for cmath and generate IR ;\nI saw some discussion about ADing legacy weather model code in the mailing list and was curious about how to AD the standard libs","user":"UQWRPDJ68","ts":"1609250694.014200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KWCDJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay , yes I guess  it's too late once already compiled , I'll need the source for cmath and generate IR ;\nI saw some discussion about ADing legacy weather model code in the mailing list and was curious about how to AD the standard libs"}]}]}]},{"client_msg_id":"8D477D30-6678-471C-ABF5-4E2EA564B676","type":"message","text":"I don’t see why you couldn’t re-compile the standard lib (libc) with clang though and get derivatives out.","user":"UKA81L34J","ts":"1609250198.014100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"is0w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t see why you couldn’t re-compile the standard lib (libc) with clang though and get derivatives out."}]}]}]},{"client_msg_id":"11911EE8-DC55-4112-B28E-8EB29EA090CA","type":"message","text":"I think unfortunately you have to annotate your code with the special call, then run it through LLVM bitcodegen and opt. If it’s already compiled to a shared or static lib it’s too late ?","user":"UKA81L34J","ts":"1609250083.013200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZNtQP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think unfortunately you have to annotate your code with the special call, then run it through LLVM bitcodegen and opt. If it’s already compiled to a shared or static lib it’s too late ?"}]}]}]},{"client_msg_id":"f5495ad1-08d5-4f3b-b155-d98291d94009","type":"message","text":"I'm a bit of a noob in how the internals of C , compiled libraries abi etc work , but I was wondering if I could get the functions in math.h differentiated by enzyme\nNow I suppose the linker links in statically compiled code and enzyme can't AD already compiled code","user":"UQWRPDJ68","ts":"1609249736.006600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lVQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm a bit of a noob in how the internals of C , compiled libraries abi etc work , but I was wondering if I could get the functions in math.h differentiated by enzyme\nNow I suppose the linker links in statically compiled code and enzyme can't AD already compiled code"}]}]}]},{"client_msg_id":"fd0eb774-55be-4a4a-8d1e-63214255a0c5","type":"message","text":"There is also an enzyme mailing list","user":"U67BJLYCS","ts":"1609249523.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ecx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is also an enzyme mailing list"}]}]}]},{"client_msg_id":"1bb786ba-05a9-4085-b170-6c659a016b31","type":"message","text":"Yes please do :)","user":"U67BJLYCS","ts":"1609249512.001900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Etn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes please do :)"}]}]}]},{"client_msg_id":"c6ebe306-1357-4d50-90e1-f4fe027d2165","type":"message","text":"Great ! Well can I ask non julia specific enzyme questions here too ?","user":"UQWRPDJ68","ts":"1609249492.001600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/ci","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Great ! Well can I ask non julia specific enzyme questions here too ?"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1609249463.000800","user":"UQWRPDJ68","text":"<@UQWRPDJ68> has joined the channel"},{"type":"message","subtype":"channel_join","ts":"1609249333.000600","user":"UKA81L34J","text":"<@UKA81L34J> has joined the channel","inviter":"U67BJLYCS","reactions":[{"name":"heart","users":["UKA81L34J"],"count":1}]},{"type":"message","subtype":"channel_join","ts":"1609249323.000400","user":"UN3KKRCRJ","text":"<@UN3KKRCRJ> has joined the channel","inviter":"U67BJLYCS"},{"type":"message","subtype":"channel_join","ts":"1609249273.000200","user":"U67BJLYCS","text":"<@U67BJLYCS> has joined the channel"}]}