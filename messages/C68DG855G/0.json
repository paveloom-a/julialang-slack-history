{"cursor": 0, "messages": [{"client_msg_id":"a1e31eff-b649-49cf-9d3c-7a09f300c57d","type":"message","text":"Any ideas?\n\n<https://julialang.slack.com/archives/C6A044SQH/p1610174863141400>","user":"UE76KFRFX","ts":"1610194279.024900","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","fallback":"[January 8th, 2021 10:47 PM] terasakisatoshi.math: Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","ts":"1610174863.141400","author_id":"UE76KFRFX","author_subname":"Satoshi Terasaki","channel_id":"C6A044SQH","channel_name":"helpdesk","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","author_name":"Satoshi Terasaki","author_link":"https://julialang.slack.com/team/UE76KFRFX","author_icon":"https://avatars.slack-edge.com/2020-01-17/909549518864_df05ebbb8221cd4d792a_48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","footer":"Thread in #helpdesk"}],"blocks":[{"type":"rich_text","block_id":"WPFwQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any ideas?\n\n"},{"type":"link","url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400"}]}]}]},{"type":"message","subtype":"thread_broadcast","text":"Maybe this is an issue related to OpenBLAS or gfortran???\n\n```/usr/bin/ld: cannot find -lgfortran\ncollect2: error: ld returned 1 exit status\nMakefile:165: recipe for target '../libopenblas64_p-r0.3.10.so' failed\nmake[3]: *** [../libopenblas64_p-r0.3.10.so] Error 1\nMakefile:116: recipe for target 'shared' failed\nmake[2]: *** [shared] Error 2\n*** Clean the OpenBLAS build with 'make -C deps clean-openblas'. Rebuild with 'make OPENBLAS_USE_THREAD=0' if OpenBLAS had trouble linking libpthread.so, and with 'make OPENBLAS_TARGET_ARCH=NEHALEM' if there were errors building SandyBridge support. Both these options can also be used simultaneously. ***```\nI’m also trying set `export LDFLAGS=-L/usr/lib/gcc/x86_64-linux-gnu/7/` according to this doc:\n\n<https://github.com/JuliaLang/julia/blob/master/doc/build/linux.md>\n\nbut, this does not solve my issue… :sob:","user":"UE76KFRFX","ts":"1610201181.025300","thread_ts":"1610194279.024900","root":{"client_msg_id":"a1e31eff-b649-49cf-9d3c-7a09f300c57d","type":"message","text":"Any ideas?\n\n<https://julialang.slack.com/archives/C6A044SQH/p1610174863141400>","user":"UE76KFRFX","ts":"1610194279.024900","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","fallback":"[January 8th, 2021 10:47 PM] terasakisatoshi.math: Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","ts":"1610174863.141400","author_id":"UE76KFRFX","author_subname":"Satoshi Terasaki","channel_id":"C6A044SQH","channel_name":"helpdesk","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","author_name":"Satoshi Terasaki","author_link":"https://julialang.slack.com/team/UE76KFRFX","author_icon":"https://avatars.slack-edge.com/2020-01-17/909549518864_df05ebbb8221cd4d792a_48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","footer":"Thread in #helpdesk"}],"blocks":[{"type":"rich_text","block_id":"WPFwQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any ideas?\n\n"},{"type":"link","url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400"}]}]}],"thread_ts":"1610194279.024900","reply_count":2,"reply_users_count":2,"latest_reply":"1610201181.025300","reply_users":["U67SCG4HG","UE76KFRFX"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"J0FY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe this is an issue related to OpenBLAS or gfortran???\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/usr/bin/ld: cannot find -lgfortran\ncollect2: error: ld returned 1 exit status\nMakefile:165: recipe for target '../libopenblas64_p-r0.3.10.so' failed\nmake[3]: *** [../libopenblas64_p-r0.3.10.so] Error 1\nMakefile:116: recipe for target 'shared' failed\nmake[2]: *** [shared] Error 2\n*** Clean the OpenBLAS build with 'make -C deps clean-openblas'. Rebuild with 'make OPENBLAS_USE_THREAD=0' if OpenBLAS had trouble linking libpthread.so, and with 'make OPENBLAS_TARGET_ARCH=NEHALEM' if there were errors building SandyBridge support. Both these options can also be used simultaneously. ***"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI’m also trying set "},{"type":"text","text":"export LDFLAGS=-L/usr/lib/gcc/x86_64-linux-gnu/7/","style":{"code":true}},{"type":"text","text":" according to this doc:\n\n"},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/doc/build/linux.md"},{"type":"text","text":"\n\nbut, this does not solve my issue… "},{"type":"emoji","name":"sob"}]}]}],"client_msg_id":"83073871-8017-46b4-b0f6-f23f6714cede"},{"type":"message","subtype":"thread_broadcast","text":"I’ve reinstalled system and bump to 20.04. Then, I’ve succeeded to build Julia-1.6.0-dev with `USE_BINARYBUILDER=0`. Thank you :tada: .","user":"UE76KFRFX","ts":"1610269809.031200","thread_ts":"1610194279.024900","root":{"client_msg_id":"a1e31eff-b649-49cf-9d3c-7a09f300c57d","type":"message","text":"Any ideas?\n\n<https://julialang.slack.com/archives/C6A044SQH/p1610174863141400>","user":"UE76KFRFX","ts":"1610194279.024900","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","fallback":"[January 8th, 2021 10:47 PM] terasakisatoshi.math: Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","ts":"1610174863.141400","author_id":"UE76KFRFX","author_subname":"Satoshi Terasaki","channel_id":"C6A044SQH","channel_name":"helpdesk","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Dose anyone try to Build Julia `v1.6.0-beta1` with `USE_BINARYBUILDER=0` ? I try to it, but it fails… on (my 64-bit ubuntu 18.04 machine.)","author_name":"Satoshi Terasaki","author_link":"https://julialang.slack.com/team/UE76KFRFX","author_icon":"https://avatars.slack-edge.com/2020-01-17/909549518864_df05ebbb8221cd4d792a_48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400","footer":"Thread in #helpdesk"}],"blocks":[{"type":"rich_text","block_id":"WPFwQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any ideas?\n\n"},{"type":"link","url":"https://julialang.slack.com/archives/C6A044SQH/p1610174863141400"}]}]}],"thread_ts":"1610194279.024900","reply_count":30,"reply_users_count":3,"latest_reply":"1610269809.031200","reply_users":["U67SCG4HG","UE76KFRFX","UDB26738Q"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"zzn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’ve reinstalled system and bump to 20.04. Then, I’ve succeeded to build Julia-1.6.0-dev with "},{"type":"text","text":"USE_BINARYBUILDER=0","style":{"code":true}},{"type":"text","text":". Thank you "},{"type":"emoji","name":"tada"},{"type":"text","text":" ."}]}]}],"client_msg_id":"93471cc3-ebee-4cf7-be96-d9b6bb68e0f6"},{"client_msg_id":"79e0eb4f-144e-43e7-8835-24d26ab9ea73","type":"message","text":"Does anyone know why `make docs` would automatically rebuild the Julia executable if I make any changes to base? Doesn't look like base shows up as a build dependency in the Makefile at all: <https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/doc/Makefile#L44>","user":"UM30MT6RF","ts":"1610398620.033500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B32s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does anyone know why "},{"type":"text","text":"make docs","style":{"code":true}},{"type":"text","text":" would automatically rebuild the Julia executable if I make any changes to base? Doesn't look like base shows up as a build dependency in the Makefile at all: "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/doc/Makefile#L44"}]}]}]},{"client_msg_id":"31E2F3B3-97E7-4D60-8B5F-B60943015A54","type":"message","text":"<https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/Makefile#L94|https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/Makefile#L94>\n\ndocs requires Julia-sysimage. Julia-sysimage requires Julia-base","user":"U7THT3TM3","ts":"1610398945.034300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i3N","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/Makefile#L94","text":"https://github.com/JuliaLang/julia/blob/46a0e3e6dd143e012a7fe33b3d50fa12dbe74260/Makefile#L94"},{"type":"text","text":"\n"},{"type":"text","text":"\ndocs requires Julia-sysimage. Julia-sysimage requires Julia-base"}]}]}]},{"client_msg_id":"8f9c3b7b-8f42-48df-9c07-232ec2e89441","type":"message","text":"Ah, thanks! I think I confused `make docs` with `make -C docs`","user":"UM30MT6RF","ts":"1610399110.035200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z3Rtx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, thanks! I think I confused "},{"type":"text","text":"make docs","style":{"code":true}},{"type":"text","text":" with "},{"type":"text","text":"make -C docs","style":{"code":true}}]}]}]},{"client_msg_id":"9e5c0ec6-1617-48bf-a64c-496ba64f08ac","type":"message","text":"I'd like to build julia from source but adding an upstream patch, to see if it solves an issue I'm having. It is a patch to OpenBLAS.","user":"U6G4M02N4","ts":"1611735839.001500","team":"T68168MUP","edited":{"user":"U6G4M02N4","ts":"1611748578.000000"},"blocks":[{"type":"rich_text","block_id":"qr=+1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'd like to build julia from source but adding an upstream patch, to see if it solves an issue I'm having. It is a patch to OpenBLAS."}]}]}]},{"client_msg_id":"ab4f6536-fc17-4f8c-afc8-d4a04fd08a08","type":"message","text":"Question: how can I incorporate this patch into the Julia build process?","user":"U6G4M02N4","ts":"1611735857.001900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zf=d0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Question: how can I incorporate this patch into the Julia build process?"}]}]}]},{"client_msg_id":"defb3c38-1aff-402a-ab6e-0745b8291731","type":"message","text":"Do I just save it to the deps/patches folder? Does the patch filename matter? How do I tell the build system to apply it to OpenBLAS?","user":"U6G4M02N4","ts":"1611735938.003000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hl2A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do I just save it to the deps/patches folder? Does the patch filename matter? How do I tell the build system to apply it to OpenBLAS?"}]}]}],"thread_ts":"1611735938.003000","reply_count":30,"reply_users_count":2,"latest_reply":"1611749471.009300","reply_users":["U67SCG4HG","U6G4M02N4"],"subscribed":false},{"client_msg_id":"4c9be90d-eaac-4c14-8f77-e92b275596d4","type":"message","text":"The original question above has mutated into a more basic one. I repost as a new thread in case anybody has any suggestion. How can one build Julia + OpenBLAS from source these days? The make incantation `make USE_BINARYBUILDER_OBJCONV=0 USE_BINARYBUILDER_OPENBLAS=0` on Julia master fails with a `make[5]: *** [lapacke_cggsvp_work.o] Error 1` on macos. Is there any further `make` options required? Can one learn how to build external dependencies by examining the BinaryBuilder and associated repos somehow? I tried, but I could not make progress...","user":"U6G4M02N4","ts":"1611750602.012900","team":"T68168MUP","edited":{"user":"U6G4M02N4","ts":"1611750665.000000"},"blocks":[{"type":"rich_text","block_id":"tx4no","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The original question above has mutated into a more basic one. I repost as a new thread in case anybody has any suggestion. How can one build Julia + OpenBLAS from source these days? The make incantation "},{"type":"text","text":"make USE_BINARYBUILDER_OBJCONV=0 USE_BINARYBUILDER_OPENBLAS=0","style":{"code":true}},{"type":"text","text":" on Julia master fails with a "},{"type":"text","text":"make[5]: *** [lapacke_cggsvp_work.o] Error 1","style":{"code":true}},{"type":"text","text":" on macos. Is there any further "},{"type":"text","text":"make","style":{"code":true}},{"type":"text","text":" options required? Can one learn how to build external dependencies by examining the BinaryBuilder and associated repos somehow? I tried, but I could not make progress..."}]}]}],"thread_ts":"1611750602.012900","reply_count":3,"reply_users_count":1,"latest_reply":"1611783393.013800","reply_users":["U66GD0880"],"subscribed":false},{"client_msg_id":"6a58694b-3190-4e19-8269-fc68cc9e9956","type":"message","text":"Do we not support building with gcc 10 yet?","user":"UM30MT6RF","ts":"1613165554.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"y=oI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do we not support building with gcc 10 yet?"}]}]}]},{"client_msg_id":"c7de9f9d-ddf4-4835-9c3e-0363a6aad798","type":"message","text":"I think there were commits specifically to support gfortran 10 (i.e., make the python script which gets the version of the compiler accept a 2-digit version number)","user":"UDB26738Q","ts":"1613166220.018600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wgv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think there were commits specifically to support gfortran 10 (i.e., make the python script which gets the version of the compiler accept a 2-digit version number)"}]}]}]},{"client_msg_id":"8f83a65f-efcf-4040-a871-8b4da07f31c9","type":"message","text":"Yeah, I am getting errors in contrib/normalize_triplet.py","user":"UM30MT6RF","ts":"1613167002.019100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+2a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I am getting errors in contrib/normalize_triplet.py"}]}]}]},{"client_msg_id":"8c72beb7-31e8-438e-a755-54086ff296f8","type":"message","text":"are you trying on the latest `master`?","user":"U66GD0880","ts":"1613167014.019300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w7Wmd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"are you trying on the latest "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"08919c36-b564-4bff-aeb0-8d9fa321a4d5","type":"message","text":"I think I am, but let me double check","user":"UM30MT6RF","ts":"1613167042.019600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n24iF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I am, but let me double check"}]}]}]},{"client_msg_id":"428e60da-c980-4d3d-876c-0789df76fb2f","type":"message","text":"Nevermind, I was just being dumb and accidentally checked out a really stale branch. :face_palm: Works just fine now.","user":"UM30MT6RF","ts":"1613167246.020600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sdt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nevermind, I was just being dumb and accidentally checked out a really stale branch. "},{"type":"emoji","name":"face_palm"},{"type":"text","text":" Works just fine now."}]}]}]},{"client_msg_id":"ddadb2e7-2a94-4cd7-8f21-53758dd31fc9","type":"message","text":"Looks like the LibCURL checksums are missing on master?","user":"U7THT3TM3","ts":"1613554852.020900","team":"T68168MUP","edited":{"user":"U7THT3TM3","ts":"1613554906.000000"},"blocks":[{"type":"rich_text","block_id":"aWCQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looks like the LibCURL checksums are missing on master?"}]}]}]},{"client_msg_id":"1de8c15e-c001-4aed-b1cc-299f2b5bca43","type":"message","text":"In case you missed it: <https://github.com/JuliaLang/julia/issues/39675|https://github.com/JuliaLang/julia/issues/39675> (but not sure building Julia with an older libc would help much, all jlls are built with glibc 2.19 anyway :grimacing:)","user":"UDB26738Q","ts":"1613817244.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VRf3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In case you missed it: "},{"type":"link","url":"https://github.com/JuliaLang/julia/issues/39675","text":"https://github.com/JuliaLang/julia/issues/39675"},{"type":"text","text":" (but not sure building Julia with an older libc would help much, all jlls are built with glibc 2.19 anyway "},{"type":"emoji","name":"grimacing"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"85060e40-6e7f-4f0e-a463-cf7af6d5e64e","type":"message","text":"<@U66GD0880> I don’t know how closely you’ve looked into the effect of CSL on the build configuration","user":"U67BXBF99","ts":"1615575189.003400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wZl","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" I don’t know how closely you’ve looked into the effect of CSL on the build configuration"}]}]}]},{"client_msg_id":"96126854-f66f-460e-9843-2722dec35ab0","type":"message","text":"But I wonder if we need to start setting `-sysroot`","user":"U67BXBF99","ts":"1615575315.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jr8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I wonder if we need to start setting "},{"type":"text","text":"-sysroot","style":{"code":true}}]}]}]},{"client_msg_id":"b90266ea-7274-4ada-8726-82e7f971b357","type":"message","text":"I realized this as I tried to add `-latomic`, and noticed that we’re attempting to link in the wrong library","user":"U67BXBF99","ts":"1615575345.004300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MC7ee","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I realized this as I tried to add "},{"type":"text","text":"-latomic","style":{"code":true}},{"type":"text","text":", and noticed that we’re attempting to link in the wrong library"}]}]}]},{"client_msg_id":"14f059fc-982e-405a-8445-ffba2b8d01a2","type":"message","text":"In strace, we can see that this succeeds on linux only by accident:\n```[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/usr/lib/gcc/x86_64-linux-gnu/9/libatomic.so\", {st_mode=S_IFREG|0644, st_size=30968, ...}) = 0\n[pid 3685899] openat(AT_FDCWD, \"/usr/lib/gcc/x86_64-linux-gnu/9/libatomic.so\", O_RDONLY) = 86```","user":"U67BXBF99","ts":"1615575385.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"61=Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In strace, we can see that this succeeds on linux only by accident:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.so\", 0x7ffe49bfbae0) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.so\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/data/vtjnash/julia/usr/lib/libatomic.a\", 0x7ffe49bfbb30) = -1 ENOENT (No such file or directory)\n[pid 3685899] openat(AT_FDCWD, \"/data/vtjnash/julia/usr/lib/libatomic.a\", O_RDONLY) = -1 ENOENT (No such file or directory)\n[pid 3685899] stat(\"/usr/lib/gcc/x86_64-linux-gnu/9/libatomic.so\", {st_mode=S_IFREG|0644, st_size=30968, ...}) = 0\n[pid 3685899] openat(AT_FDCWD, \"/usr/lib/gcc/x86_64-linux-gnu/9/libatomic.so\", O_RDONLY) = 86"}]}]}]},{"client_msg_id":"591E5E7B-5891-479B-8A2F-8BAD4D0ACDAC","type":"message","text":"Is this happening because we’re not shipping libatomic in CSL?","user":"U66GD0880","ts":"1615577243.005400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H2q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this happening because we’re not shipping libatomic in CSL?"}]}]}],"thread_ts":"1615577243.005400","reply_count":2,"reply_users_count":1,"latest_reply":"1615577418.007900","reply_users":["UDB26738Q"],"subscribed":false},{"client_msg_id":"1A32EAE4-C472-43A5-AB62-28F2F1E9E433","type":"message","text":"The idea behind CSL is that we need a baseline set of compiler libraries to ensure that we can run on systems that are very old","user":"U66GD0880","ts":"1615577263.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J7s8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The idea behind CSL is that we need a baseline set of compiler libraries to ensure that we can run on systems that are very old"}]}]}]},{"client_msg_id":"C0A1B167-CB63-475A-AC53-B87802821732","type":"message","text":"Not only for Julia but also for Yggdrasil products, etc..","user":"U66GD0880","ts":"1615577277.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u5l9+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not only for Julia but also for Yggdrasil products, etc.."}]}]}]},{"client_msg_id":"28DE534F-FDF7-47C9-A38C-DB909B543130","type":"message","text":"It started with just libstdc++, but nowadays we bundle almost everything. ","user":"U66GD0880","ts":"1615577306.007600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3b5u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It started with just libstdc++, but nowadays we bundle almost everything. "}]}]}]},{"client_msg_id":"A338F2CC-85C9-415A-8D37-A240C93545D5","type":"message","text":"We’re only shipping the runtime libraries","user":"U67BXBF99","ts":"1615582057.008500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MTc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We’re only shipping the runtime libraries"}]}]}]},{"client_msg_id":"08F53AD7-7D5C-4561-B20F-2047FAA076C3","type":"message","text":"Note how it got the needed compile-time headers and libraries from hidden compile-only folder","user":"U67BXBF99","ts":"1615582133.009800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=6d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note how it got the needed compile-time headers and libraries from hidden compile-only folder"}]}]}]},{"client_msg_id":"c18931f4-c8a3-4f32-968e-bc70f8d5999e","type":"message","text":"normally though we auto-detect compiler version, and probably assume it was built with the default flags, so that is what we want","user":"U67BXBF99","ts":"1615582752.010400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z2/A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"normally though we auto-detect compiler version, and probably assume it was built with the default flags, so that is what we want"}]}]}]},{"client_msg_id":"aaa5b126-431d-48d3-8d86-503ca3cae26e","type":"message","text":"but it seems subtle","user":"U67BXBF99","ts":"1615582757.010600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YIJ8j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it seems subtle"}]}]}]},{"client_msg_id":"71cce301-5828-4dcb-9a31-bc85ac11eb4c","type":"message","text":"maybe we could just build the latest compiler version for gfortran on Yggy, and only support that","user":"U67BXBF99","ts":"1615582806.011300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"//Q+=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"maybe we could just build the latest compiler version for gfortran on Yggy, and only support that"}]}]}]},{"client_msg_id":"e471c0c3-da31-4a93-8709-e02adb103807","type":"message","text":"It would cut down our build matrix substantially too :joy:","user":"U67BXBF99","ts":"1615582820.011700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZQ0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It would cut down our build matrix substantially too "},{"type":"emoji","name":"joy"}]}]}]},{"client_msg_id":"c424f5cd-5d50-4098-b991-8dbb8afed726","type":"message","text":"Let’s walk through the issues one by one","user":"U66GD0880","ts":"1615583106.012300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zD41","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let’s walk through the issues one by one"}]}]}]},{"client_msg_id":"1c546ca6-1f59-4a38-8933-15d01349889c","type":"message","text":"I’m not certain I fully understand the issue and the ramifications","user":"U66GD0880","ts":"1615583114.012600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g3qH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I’m not certain I fully understand the issue and the ramifications"}]}]}]},{"client_msg_id":"709f6b6e-dbea-4caf-9dd7-ed04cb5554e1","type":"message","text":"Other than it just not finding `libatomic` properly, (which supposedly can be fixed by shipping more files in CSL) what is the fundamental problem?","user":"U66GD0880","ts":"1615583140.013700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TiY3U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Other than it just not finding "},{"type":"text","text":"libatomic","style":{"code":true}},{"type":"text","text":" properly, (which supposedly can be fixed by shipping more files in CSL) what is the fundamental problem?"}]}]}]},{"client_msg_id":"8f221d79-680d-4357-81bf-121f2b190376","type":"message","text":"we need to be careful with `libatomic`, so make sure that atomic operations are actually atomic, which requires loading the correct copy of it","user":"U67BXBF99","ts":"1615583265.014400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"62u4g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we need to be careful with "},{"type":"text","text":"libatomic","style":{"code":true}},{"type":"text","text":", so make sure that atomic operations are actually atomic, which requires loading the correct copy of it"}]}]}]},{"client_msg_id":"63a2a53c-53ea-4ba6-af43-acae2f491463","type":"message","text":"On clang, this might be part of compiler-rt instead","user":"U67BXBF99","ts":"1615583283.014900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E60C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On clang, this might be part of compiler-rt instead"}]}]}]},{"client_msg_id":"2c356281-ec6f-4ead-9d74-562eb3603b48","type":"message","text":"Or apparently might mean building with `clang --rtlib=libgcc`, according to that page","user":"U67BXBF99","ts":"1615583305.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VVgvE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or apparently might mean building with "},{"type":"text","text":"clang --rtlib=libgcc","style":{"code":true}},{"type":"text","text":", according to that page"}]}]}]},{"client_msg_id":"daf73fc8-fd09-4952-bbb4-0e60df7d98f8","type":"message","text":"We might be able actually to just remove it","user":"U67BXBF99","ts":"1615583436.015800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JOzG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We might be able actually to just remove it"}]}]}]},{"client_msg_id":"204d2627-8dd1-4a3e-a29a-955a31c4b3da","type":"message","text":"But if we set `-sysroot`, we would also ensure a more hermetic build","user":"U67BXBF99","ts":"1615583557.016200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pSws","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But if we set "},{"type":"text","text":"-sysroot","style":{"code":true}},{"type":"text","text":", we would also ensure a more hermetic build"}]}]}]},{"client_msg_id":"2984f344-31e4-4717-8564-20c6d6fdde24","type":"message","text":"The libatomic issue is just what led me to notice the discrepency","user":"U67BXBF99","ts":"1615583587.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TBl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The libatomic issue is just what led me to notice the discrepency"}]}]}]},{"client_msg_id":"58a406a8-1930-4c31-a6a7-9a1557662eeb","type":"message","text":"If we use `-sysroot`, won’t that disable looking for include files in other parts of the system?  The primary function of the shipped CSL libraries is for runtime, not compile-time.","user":"U66GD0880","ts":"1615584112.018100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0IFkD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If we use "},{"type":"text","text":"-sysroot","style":{"code":true}},{"type":"text","text":", won’t that disable looking for include files in other parts of the system?  The primary function of the shipped CSL libraries is for runtime, not compile-time."}]}]}]},{"client_msg_id":"d19fafb8-2048-483d-809a-1c82beb49706","type":"message","text":"Although I am not above simply shipping a BB-built GCC/clang minimal sysroot and compiling with that instead.  :wink: :wink: :wink:","user":"U66GD0880","ts":"1615584134.018600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QyZd4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Although I am not above simply shipping a BB-built GCC/clang minimal sysroot and compiling with that instead.  "},{"type":"emoji","name":"wink"},{"type":"text","text":" "},{"type":"emoji","name":"wink"},{"type":"text","text":" "},{"type":"emoji","name":"wink"}]}]}],"thread_ts":"1615584134.018600","reply_count":1,"reply_users_count":1,"latest_reply":"1615584214.018800","reply_users":["UDB26738Q"],"subscribed":false,"reactions":[{"name":"joy","users":["U680THK2S"],"count":1}]},{"client_msg_id":"5a8ea749-7db2-43ad-8fb0-7dc003c5f75d","type":"message","text":"We could also set `-isysroot` lol","user":"U67BXBF99","ts":"1615584466.019400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v6lK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We could also set "},{"type":"text","text":"-isysroot","style":{"code":true}},{"type":"text","text":" lol"}]}]}]},{"client_msg_id":"b541dd52-3a3e-42d1-b0dc-ce1c1db9d9a7","type":"message","text":"<@U68A3ASP9> why does Tar.jl keep saying “tests became inactive” here:","user":"U67BXBF99","ts":"1616169286.000500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ojaBm","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U68A3ASP9"},{"type":"text","text":" why does Tar.jl keep saying “tests became inactive” here:"}]}]}]},{"client_msg_id":"7b68fe7d-8955-4fc4-9066-3eabfb71d56c","type":"message","text":"<https://github.com/JuliaCI/NanosoldierReports/blob/master/pkgeval/by_date/2021-03/19/report.md>","user":"U67BXBF99","ts":"1616169286.000700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"c3Ou","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaCI/NanosoldierReports/blob/master/pkgeval/by_date/2021-03/19/report.md"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1616169290.001000","user":"U68A3ASP9","text":"<@U68A3ASP9> has joined the channel","inviter":"U67BXBF99"},{"client_msg_id":"6e8f42a3-2ce4-40d3-82b5-6f0941cd5900","type":"message","text":"I know that package test fails often on <#C01F9PX2UMU|ci-failures> due to a deadlock, so is this actually a timeout being mis-reported?","user":"U67BXBF99","ts":"1616169330.002000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xd1i","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I know that package test fails often on "},{"type":"channel","channel_id":"C01F9PX2UMU"},{"type":"text","text":" due to a deadlock, so is this actually a timeout being mis-reported?"}]}]}]},{"client_msg_id":"e8c80bf6-07c9-40a3-8037-b3d9917dd083","type":"message","text":"(similarly for HTTP.jl)","user":"U67BXBF99","ts":"1616169404.002200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U0dF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(similarly for HTTP.jl)"}]}]}]},{"client_msg_id":"7756402f-6a0f-4699-a754-f151724d882d","type":"message","text":"did it only start with that commit, or has it been reporting inactivity intermittently for Tar.jl?","user":"U68A3ASP9","ts":"1616169569.002800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Y0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"did it only start with that commit, or has it been reporting inactivity intermittently for Tar.jl?"}]}]}]},{"client_msg_id":"2b0d569e-d350-44c2-a803-0123af7af700","type":"message","text":"the check is pretty simple -- assume the job has hung when it spent fewer than 1s of CPU time in a minute (<https://github.com/JuliaCI/PkgEval.jl/blob/4432cbed7e9929aaea39473bcafab7b290bfe2e9/src/run.jl#L195-L219>) -- but it's possible this is being misreported","user":"U68A3ASP9","ts":"1616169606.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"atmx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the check is pretty simple -- assume the job has hung when it spent fewer than 1s of CPU time in a minute ("},{"type":"link","url":"https://github.com/JuliaCI/PkgEval.jl/blob/4432cbed7e9929aaea39473bcafab7b290bfe2e9/src/run.jl#L195-L219"},{"type":"text","text":") -- but it's possible this is being misreported"}]}]}]},{"client_msg_id":"fee19baf-56dc-48ae-b196-adb671c90761","type":"message","text":"I'll give it a closer look next week","user":"U68A3ASP9","ts":"1616169645.004000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"emyG/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll give it a closer look next week"}]}]}]},{"client_msg_id":"329f95b7-66d2-4775-97fb-f67b7bb32704","type":"message","text":"Tar fails often","user":"U67BXBF99","ts":"1616171830.004200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KF+D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Tar fails often"}]}]}]},{"client_msg_id":"661e5aba-d270-4d03-a650-9cefbdf763df","type":"message","text":"it is a deadlock, so that makes sense","user":"U67BXBF99","ts":"1616171845.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tavV","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it is a deadlock, so that makes sense"}]}]}]},{"client_msg_id":"a7c2a7bd-eab5-48af-abae-85631245855f","type":"message","text":"seems like that just needs a status code in the PkgEval output?","user":"U67BXBF99","ts":"1616171892.004900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3Tc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"seems like that just needs a status code in the PkgEval output?"}]}]}]},{"client_msg_id":"217985a0-beb6-485a-b5f2-202a03a2e191","type":"message","text":"How would you detect a deadlock? The current logic and inactivity status code is pretty much exactly that, right?","user":"U68A3ASP9","ts":"1616179037.006300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tgrdm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How would you detect a deadlock? The current logic and inactivity status code is pretty much exactly that, right?"}]}]}]},{"client_msg_id":"df68c2a5-0d7c-442d-8e42-e23db44c3ce8","type":"message","text":"yep, it is a real deadlock, but the report should state that","user":"U67BXBF99","ts":"1616181027.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jqc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yep, it is a real deadlock, but the report should state that"}]}]}]},{"client_msg_id":"ffcfbc6d-ce25-48e6-b65b-e180264bdff9","type":"message","text":"Ok, but how to detect that, in a way that's different than the current inactivity check?","user":"U68A3ASP9","ts":"1616182682.007600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Sd5TL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, but how to detect that, in a way that's different than the current inactivity check?"}]}]}]},{"client_msg_id":"b22e6237-ece2-4a81-9854-284d570d6a53","type":"message","text":"It never reports inactivity?","user":"U67BXBF99","ts":"1616186251.007900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=d/Nr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It never reports inactivity?"}]}]}]},{"client_msg_id":"7d90bfb2-4d93-4ab3-b54a-8972a728ba0a","type":"message","text":"but it's listed under `Tests became inactive`?","user":"U68A3ASP9","ts":"1616188807.008400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/FINF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it's listed under "},{"type":"text","text":"Tests became inactive","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"ef81a968-3334-415e-b820-0d294ae8155b","type":"message","text":"ah, I thought that was showing whenever it truncated the output","user":"U67BXBF99","ts":"1616190943.009000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FIqb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, I thought that was showing whenever it truncated the output"}]}]}]},{"client_msg_id":"00e0c0c6-d3c0-4019-8061-4782a2409c84","type":"message","text":"Should this definition be prefixed with `$(prefix)`? <https://github.com/JuliaLang/julia/blob/3f4bbae067f43a36bba0bb85ee791862682cea1f/Make.inc#L646-L650>","user":"UC81ESVH6","ts":"1617217420.010700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"znENr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should this definition be prefixed with "},{"type":"text","text":"$(prefix)","style":{"code":true}},{"type":"text","text":"? "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/3f4bbae067f43a36bba0bb85ee791862682cea1f/Make.inc#L646-L650"}]}]}]},{"client_msg_id":"c665928a-abda-47fc-9e35-21567eef1294","type":"message","text":"<@U66GD0880> I figured out one way to get usr/tools/llvm-config.exe working again in the cross-build","user":"U67BXBF99","ts":"1617861482.011800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iip8/","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" I figured out one way to get usr/tools/llvm-config.exe working again in the cross-build"}]}]}]},{"client_msg_id":"c8ebf8a1-332f-45e5-84d8-47cf3dc95bce","type":"message","text":"$ cat ./usr/tools/llvm-config.exe\n#!/usr/bin/env -S wine /data/vtjnash/julia/julia-win32/usr/bin/llvm-config.exe","user":"U67BXBF99","ts":"1617861484.012000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PMUBj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"$ cat ./usr/tools/llvm-config.exe\n#!/usr/bin/env -S wine /data/vtjnash/julia/julia-win32/usr/bin/llvm-config.exe"}]}]}]},{"client_msg_id":"39680b80-c0b5-4bc1-9180-61693ed9f44f","type":"message","text":"only problem is that it tries to run this in wine, and that finds it is a text file","user":"U67BXBF99","ts":"1617861593.012600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Dy7g0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"only problem is that it tries to run this in wine, and that finds it is a text file"}]}]}]},{"client_msg_id":"79a6803f-1d2c-4ff1-a8de-13def3a6db82","type":"message","text":"Can we just move it to usr/bin","user":"U67BXBF99","ts":"1617861654.012900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+VH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can we just move it to usr/bin"}]}]}]},{"client_msg_id":"c985a58e-2e57-4aa3-8778-1f387330010f","type":"message","text":"Or install CSL in usr/tools?","user":"U67BXBF99","ts":"1617861663.013200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GgK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or install CSL in usr/tools?"}]}]}]},{"client_msg_id":"0891faca-dfad-4e97-9601-fbd7d121b278","type":"message","text":"There’s some silliness with PATH apparently?","user":"U67BXBF99","ts":"1617861764.013500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cmS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There’s some silliness with PATH apparently?"}]}]}]},{"client_msg_id":"e02d57ee-1432-4c3e-ba2e-ff2d1ee524c8","type":"message","text":"```$ make -j print-LLVM_CONFIG print-LLVM_CONFIG_HOST\nLLVM_CONFIG=/data/vtjnash/julia/julia-win32/usr/tools/llvm-config.exe\nLLVM_CONFIG_HOST=PATH=\"/data/vtjnash/julia/julia-win32/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin\" wine /data/vtjnash/julia/julia-win32/usr/tools/llvm-config.exe\n\n$ PATH=\"/data/vtjnash/julia/julia-win32/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin\" wine cmd /c echo %PATH%\nC:\\windows\\system32;C:\\windows;C:\\windows\\system32\\wbem```","user":"U67BXBF99","ts":"1617861785.013800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cSVQ","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ make -j print-LLVM_CONFIG print-LLVM_CONFIG_HOST\nLLVM_CONFIG=/data/vtjnash/julia/julia-win32/usr/tools/llvm-config.exe\nLLVM_CONFIG_HOST=PATH=\"/data/vtjnash/julia/julia-win32/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin\" wine /data/vtjnash/julia/julia-win32/usr/tools/llvm-config.exe\n\n$ PATH=\"/data/vtjnash/julia/julia-win32/usr/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin\" wine cmd /c echo %PATH%\nC:\\windows\\system32;C:\\windows;C:\\windows\\system32\\wbem"}]}]}]},{"client_msg_id":"3c990472-c77c-43a4-b1d4-13bc58ed9367","type":"message","text":"This is very pointless, since it doesn’t affect the wine path","user":"U67BXBF99","ts":"1617861806.014200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HHC5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This is very pointless, since it doesn’t affect the wine path"}]}]}]},{"client_msg_id":"716c0e2c-fabc-4c6c-a8b0-ce378542e72d","type":"message","text":"I don’t remember if this has always been true, but:","user":"U67BXBF99","ts":"1617861906.014600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DNLz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t remember if this has always been true, but:"}]}]}]},{"client_msg_id":"867e34f9-f223-4f9e-895c-bf825b2e05de","type":"message","text":"```WINEPATH=\"Z:/data/vtjnash/julia/julia-win32/usr/bin\" wine ./usr/tools/llvm-config.exe ```\nwould be the correct way to specify that now","user":"U67BXBF99","ts":"1617861916.014900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rX+Qy","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"WINEPATH=\"Z:/data/vtjnash/julia/julia-win32/usr/bin\" wine ./usr/tools/llvm-config.exe "}]},{"type":"rich_text_section","elements":[{"type":"text","text":"would be the correct way to specify that now"}]}]}]}]}