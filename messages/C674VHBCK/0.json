{"cursor":0,"messages":[{"client_msg_id":"2b89c5e7-8c52-46f7-acf5-9de4be6642f4","type":"message","text":"Is there an accepted way to just test something like a mutating function works all inside a test? Eg. have a type where I have `insert!` defined, and I want to do something like `@test insert!(mything, \"something\")`, but I end up needing to do the insert outside of a test then test that it was actually inserted, or do something like `@test insert!(mything, \"something\") isa &lt;return type&gt;`","user":"U8JP5B9T2","ts":"1609099807.079900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oK784","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there an accepted way to just test something like a mutating function works all inside a test? Eg. have a type where I have "},{"type":"text","text":"insert!","style":{"code":true}},{"type":"text","text":" defined, and I want to do something like "},{"type":"text","text":"@test insert!(mything, \"something\")","style":{"code":true}},{"type":"text","text":", but I end up needing to do the insert outside of a test then test that it was actually inserted, or do something like "},{"type":"text","text":"@test insert!(mything, \"something\") isa <return type>","style":{"code":true}}]}]}]},{"client_msg_id":"375f8322-22fa-48c2-b11b-c67ab52eec85","type":"message","text":"Or wrap it in a `let` block\n\n```@test let\n    insert!(mything, :thing, \"something\")\n    @test mything.thing == \"something\"\n    true\nend```","user":"U8JP5B9T2","ts":"1609099977.081300","team":"T68168MUP","edited":{"user":"U8JP5B9T2","ts":"1609099993.000000"},"blocks":[{"type":"rich_text","block_id":"+ih","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or wrap it in a "},{"type":"text","text":"let","style":{"code":true}},{"type":"text","text":" block\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"@test let\n    insert!(mything, :thing, \"something\")\n    @test mything.thing == \"something\"\n    true\nend"}]}]}]},{"client_msg_id":"ef258195-3bbf-4d6a-8773-ae1097870cf2","type":"message","text":"I have some trouble with coverage (that should hit 100%) but doesn't.\nI basically test a set of functions through an iteration over a vector (of functions).\nSo it is difficult to believe it is testing just a few functions in the vector.\nI have no other call to those functions, so it can only come from that iteration.\n\nAny idea on how to find why the coverage is going lazy? Is there some typical thing that the coverage cannot cover well ?","user":"U01FR2HFJ7M","ts":"1609228016.087000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QqfBw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have some trouble with coverage (that should hit 100%) but doesn't.\nI basically test a set of functions through an iteration over a vector (of functions).\nSo it is difficult to believe it is testing just a few functions in the vector.\nI have no other call to those functions, so it can only come from that iteration.\n\nAny idea on how to find why the coverage is going lazy? Is there some typical thing that the coverage cannot cover well ?"}]}]}]}]}