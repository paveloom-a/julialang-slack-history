{"cursor": 1, "messages": [{"client_msg_id":"b9aca80f-72c3-489a-a035-c433640e1783","type":"message","text":"(at least I don't have a metric in mind that turns semidefinite matrices into a manifold)","user":"UPJ6Q2SQY","ts":"1608640228.286100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"84cK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(at least I don't have a metric in mind that turns semidefinite matrices into a manifold)"}]}]}]},{"client_msg_id":"7bc1b45d-5674-4efa-9905-3dc728535c04","type":"message","text":"Yeah, let me see if I can come up with an actual example...","user":"U6CJRSR63","ts":"1608640424.286600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kHP5H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, let me see if I can come up with an actual example..."}]}]}]},{"client_msg_id":"82b65e1d-444c-4e65-b49c-21a5debc852a","type":"message","text":"Cool. If you can ensure, that 0 (and 1) are excluded, you can surely use SPDs :slightly_smiling_face:","user":"UPJ6Q2SQY","ts":"1608640598.287000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"php","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Cool. If you can ensure, that 0 (and 1) are excluded, you can surely use SPDs "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"d23058ce-dbb9-4493-bc49-e7a995ce062c","type":"message","text":"then the only disadvantage is, that exp/log are more expensive then +/- but since you can use an unconstrained algorithm, that might improve your speed again","user":"UPJ6Q2SQY","ts":"1608640636.287900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DXHM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"then the only disadvantage is, that exp/log are more expensive then +/- but since you can use an unconstrained algorithm, that might improve your speed again"}]}]}]},{"client_msg_id":"58d075fe-a866-4923-a19d-02567c8975d0","type":"message","text":"is that S for symmetric then? :slightly_smiling_face:","user":"U6CJRSR63","ts":"1608640639.288000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZFkgN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is that S for symmetric then? "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"38f289aa-c9b1-4ad1-8223-b377df90c85c","type":"message","text":"ah yes","user":"UPJ6Q2SQY","ts":"1608640649.288300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OrUw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah yes"}]}]}]},{"client_msg_id":"eaf2f457-c060-4e3d-92c5-36da133e9e0c","type":"message","text":"Good","user":"U6CJRSR63","ts":"1608640652.288500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Wcrn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Good"}]}]}]},{"client_msg_id":"a4bc2556-015c-4e6d-8c89-3c798d655f75","type":"message","text":"I was almost confused there :smile:","user":"U6CJRSR63","ts":"1608640659.288900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N6I","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was almost confused there "},{"type":"emoji","name":"smile"}]}]}]},{"client_msg_id":"b213c130-98d5-4978-8cac-56057caad0f6","type":"message","text":"you'Re right it might be mistaken with semi, but no its symmetric :smile:","user":"UPJ6Q2SQY","ts":"1608640669.289200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wRRH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you'Re right it might be mistaken with semi, but no its symmetric "},{"type":"emoji","name":"smile"}]}]}]},{"client_msg_id":"ed5487aa-2a1b-4087-81a3-71c06ba7c964","type":"message","text":"I never noticed :wink:","user":"UPJ6Q2SQY","ts":"1608640676.289400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qJn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I never noticed "},{"type":"emoji","name":"wink"}]}]}]},{"client_msg_id":"e244e52d-867b-4287-af3b-0cf5f7197382","type":"message","text":"I just have a bunch of parameters in a maximum likelihood problem and some of them are covariance matrices so I was wondering if I could use manifold techniques. Right now I'm transforming it to an unconstrained domain and using unconstrained optimization which is probably.. not too good for the geometry of the problem, so I'd like to use a more direct approach, treating the restrictions directly as a domain restriction (manifold optimization) or some other constrained optimization approach","user":"U6CJRSR63","ts":"1608641058.292600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"i8V=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just have a bunch of parameters in a maximum likelihood problem and some of them are covariance matrices so I was wondering if I could use manifold techniques. Right now I'm transforming it to an unconstrained domain and using unconstrained optimization which is probably.. not too good for the geometry of the problem, so I'd like to use a more direct approach, treating the restrictions directly as a domain restriction (manifold optimization) or some other constrained optimization approach"}]}]}]},{"client_msg_id":"d92611f6-d863-4b2f-922f-3b11aa4e8245","type":"message","text":"When I search for different approachs I mostly get stuff on CMA-ES :face_with_raised_eyebrow:","user":"U6CJRSR63","ts":"1608641147.293200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qnzu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"When I search for different approachs I mostly get stuff on CMA-ES "},{"type":"emoji","name":"face_with_raised_eyebrow"}]}]}]},{"client_msg_id":"1ac45439-fa7a-4eef-8923-f6506fdea17d","type":"message","text":"So if you assume that they are positive definite, which I also have done for a few papers already, you can surely use optim on SPDs","user":"UPJ6Q2SQY","ts":"1608641223.294000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9px","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So if you assume that they are positive definite, which I also have done for a few papers already, you can surely use optim on SPDs"}]}]}]},{"client_msg_id":"3bde6856-dfa8-4e8e-b59b-105650746d33","type":"message","text":"If not – then you might have to use a constrained approach","user":"UPJ6Q2SQY","ts":"1608641249.294600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"T5q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If not – then you might have to use a constrained approach"}]}]}]},{"client_msg_id":"9d707a36-568e-4821-9ce9-630628a28771","type":"message","text":"Right now I'm using the Cholesky parametrization like here <https://www.researchgate.net/profile/Douglas_Bates2/publication/227279675_Unconstrained_parametrizations_for_variance-covariance_matrices/links/00b4953b4106067e73000000/Unconstrained-parametrizations-for-variance-covariance-matrices.pdf|https://www.researchgate.net/profile/Douglas_Bates2/publication/227279675_Unconstrained[…]ined-parametrizations-for-variance-covariance-matrices.pdf> (and it's also in the NLME context that inspired that paper, so it's not a coincidence)","user":"U6CJRSR63","ts":"1608641296.295400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WpZx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right now I'm using the Cholesky parametrization like here "},{"type":"link","url":"https://www.researchgate.net/profile/Douglas_Bates2/publication/227279675_Unconstrained_parametrizations_for_variance-covariance_matrices/links/00b4953b4106067e73000000/Unconstrained-parametrizations-for-variance-covariance-matrices.pdf","text":"https://www.researchgate.net/profile/Douglas_Bates2/publication/227279675_Unconstrained[…]ined-parametrizations-for-variance-covariance-matrices.pdf"},{"type":"text","text":" (and it's also in the NLME context that inspired that paper, so it's not a coincidence)"}]}]}]},{"client_msg_id":"ff0c4dba-c642-40b9-8cf6-4efdd2aa1880","type":"message","text":"log Chlesky is a metric that we have in Manifolds for SPDs, I wasn't aware that it works for the semi case, too","user":"UPJ6Q2SQY","ts":"1608641423.296000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ju7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"log Chlesky is a metric that we have in Manifolds for SPDs, I wasn't aware that it works for the semi case, too"}]}]}]},{"client_msg_id":"0430d461-57cc-4770-abe6-814d5df5588a","type":"message","text":"so I will check :slightly_smiling_face:","user":"UPJ6Q2SQY","ts":"1608641432.296200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uxF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I will check "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"fb356f8f-8950-4cee-9c2e-6fa260c14061","type":"message","text":"Ah! :smile: Section 2 starts with: Let M be positive definite ;=","user":"UPJ6Q2SQY","ts":"1608641474.296600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ugS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah! "},{"type":"emoji","name":"smile"},{"type":"text","text":" Section 2 starts with: Let M be positive definite ;="}]}]}]},{"client_msg_id":"bc7f989c-4c95-4496-9735-037b0c9acff1","type":"message","text":"So the difference in Manifolds/Manopt is, that you would not parametrize but take the SPDs as they are and you need a gradient wrt the corresponding metric, but then you can use a gradient descent (or if you are adventorous the just above mentioned, not yet tested LRBFGS).","user":"UPJ6Q2SQY","ts":"1608641591.298000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1vm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the difference in Manifolds/Manopt is, that you would not parametrize but take the SPDs as they are and you need a gradient wrt the corresponding metric, but then you can use a gradient descent (or if you are adventorous the just above mentioned, not yet tested LRBFGS)."}]}]}]},{"client_msg_id":"abc0140c-2906-480b-823c-b518274022f3","type":"message","text":"Right, I just saw the same, I had missed the missing semi- :slightly_smiling_face:","user":"U6CJRSR63","ts":"1608642236.298500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5DINY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I just saw the same, I had missed the missing semi- "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"38400ccb-6c39-4956-8ab5-1342db099d6a","type":"message","text":"So following their approach you can surely use Optimization on SPDs and have an unconstrained problem","user":"UPJ6Q2SQY","ts":"1608642301.299100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tAp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So following their approach you can surely use Optimization on SPDs and have an unconstrained problem"}]}]}]},{"client_msg_id":"36223bdc-b192-4694-8531-f60ac1dab7b3","type":"message","text":"the only interesting part / challenging part might be to compute the gradient","user":"UPJ6Q2SQY","ts":"1608642324.299500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KNpx/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the only interesting part / challenging part might be to compute the gradient"}]}]}]},{"client_msg_id":"509980d0-dfbe-454c-9060-8576836b565e","type":"message","text":"BTW, if you need to deal with the \"semi-\" part, maybe applying some regularization of the initial point would help: <https://github.com/mateuszbaran/CovarianceEstimation.jl>","user":"U9AHT3YM7","ts":"1608642474.301000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lOEJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"BTW, if you need to deal with the \"semi-\" part, maybe applying some regularization of the initial point would help: "},{"type":"link","url":"https://github.com/mateuszbaran/CovarianceEstimation.jl"}]}]}]},{"client_msg_id":"4e16f3fd-5c7c-4136-841b-06eaa014f696","type":"message","text":"so are you saying there's nothing significantly better than parametrizing by the cholesky factor and optimizing unconstrained?","user":"UMDEUKM29","ts":"1608642477.301100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3XZzE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so are you saying there's nothing significantly better than parametrizing by the cholesky factor and optimizing unconstrained?"}]}]}]},{"client_msg_id":"63adf99d-bc6c-4d3c-b252-9ba9fe6ffae0","type":"message","text":"(I have never done SPD optimization, just curious)","user":"UMDEUKM29","ts":"1608642485.301400","team":"T68168MUP","edited":{"user":"UMDEUKM29","ts":"1608642492.000000"},"blocks":[{"type":"rich_text","block_id":"obS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I have never done SPD optimization, just curious)"}]}]}]},{"client_msg_id":"2a89be6f-81ac-4162-9f32-226cfb9f831d","type":"message","text":"well the metric is different, maybe? Otherwise I am not sure, since I never factorized and did the unconstrained (euclidean) approach on the parameters","user":"UPJ6Q2SQY","ts":"1608642540.302300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"w3z2m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well the metric is different, maybe? Otherwise I am not sure, since I never factorized and did the unconstrained (euclidean) approach on the parameters"}]}]}]},{"client_msg_id":"06437dad-8857-4f85-89ab-90e64fda2a47","type":"message","text":"I think it should be similar to doing log(M,I,d) for all data points d and optimize in the tangent space?","user":"UPJ6Q2SQY","ts":"1608642573.303000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8vQ8Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it should be similar to doing log(M,I,d) for all data points d and optimize in the tangent space?"}]}]}]},{"client_msg_id":"0acfb2f8-0591-46d9-9a69-2c5287bae28c","type":"message","text":"the operational research people I know swear by cone programming, I guess it depends which part of problem space you're in, optim-style or jump-style","user":"UMDEUKM29","ts":"1608642634.304000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jpiS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the operational research people I know swear by cone programming, I guess it depends which part of problem space you're in, optim-style or jump-style"}]}]}]},{"client_msg_id":"5f8618e6-b044-48cb-a82f-3beb496abf88","type":"message","text":"cone (if you include the bondary) is how to handle the semi part, which is then included","user":"UPJ6Q2SQY","ts":"1608642704.304500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RqLG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cone (if you include the bondary) is how to handle the semi part, which is then included"}]}]}]},{"client_msg_id":"a92a42ad-b736-4d3b-a082-a30cb5054519","type":"message","text":"and conceptually you don't have to read all diffgeo-stuff, so I can understand their approaches for sure","user":"UPJ6Q2SQY","ts":"1608642744.305300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+gr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and conceptually you don't have to read all diffgeo-stuff, so I can understand their approaches for sure"}]}]}]},{"client_msg_id":"5101d6fd-e2c4-462b-9ebf-4c019ff547a3","type":"message","text":"Yes, I am aware of conic solvers, but my objective is generally not convex, so I'm not sure how applicable that is. I think it's mostly used in the convex objective conic constraints case, right?","user":"U6CJRSR63","ts":"1608642818.306300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zccct","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, I am aware of conic solvers, but my objective is generally not convex, so I'm not sure how applicable that is. I think it's mostly used in the convex objective conic constraints case, right?"}]}]}]},{"client_msg_id":"15008416-340e-4d69-9ae3-966ca97aa325","type":"message","text":"at least as far as my not-that-deep knowledge in that area is, yes.","user":"UPJ6Q2SQY","ts":"1608642854.306800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/DM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"at least as far as my not-that-deep knowledge in that area is, yes."}]}]}]},{"client_msg_id":"412a015a-c3ff-4e1e-8ca8-33cda5c5df6b","type":"message","text":"So another interesting question: If you take the right metric (i.e. right geodesics) might it be convex on a certain SPD-manifold (with that chosen metric)?","user":"UPJ6Q2SQY","ts":"1608642891.308100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nSJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So another interesting question: If you take the right metric (i.e. right geodesics) might it be convex on a certain SPD-manifold (with that chosen metric)?"}]}]}]},{"client_msg_id":"1d7b77e8-d0a0-459c-924a-5b57dc87dcc9","type":"message","text":"what does convexity have to do with metric?","user":"UMDEUKM29","ts":"1608642912.308400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gaMrf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"what does convexity have to do with metric?"}]}]}]},{"client_msg_id":"a24b81a3-f93a-432d-bbc3-600cbc56d63d","type":"message","text":"ah I see","user":"UMDEUKM29","ts":"1608642937.308800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XkHbW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah I see"}]}]}]},{"client_msg_id":"877363cd-1098-4f06-be46-b3d62916a94d","type":"message","text":"geodesic convexity :slightly_smiling_face:","user":"UPJ6Q2SQY","ts":"1608642942.309000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+1MM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"geodesic convexity "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"1b058d84-5546-4e36-9bcb-ac95a4d9713c","type":"message","text":"I would have to check but the Brazilians (the group of Orizon Ferreira) has collected in one of their papers functions that are nonconvex in the euclidean sense but convex on manifolds","user":"UPJ6Q2SQY","ts":"1608643003.309800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x06","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I would have to check but the Brazilians (the group of Orizon Ferreira) has collected in one of their papers functions that are nonconvex in the euclidean sense but convex on manifolds"}]}]}]},{"client_msg_id":"257d0db7-9eec-4a8e-9eb3-de5be7f097d1","type":"message","text":"Funny how things go sometimes. I had not looked at my github notifications yet, but just did. Dan Spielman ( <http://www.cs.yale.edu/homes/spielman/> ) mentioned PSD matrices on a PR 19 hours ago :laughing:","user":"U6CJRSR63","ts":"1608662774.311800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Eem2c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Funny how things go sometimes. I had not looked at my github notifications yet, but just did. Dan Spielman ( "},{"type":"link","url":"http://www.cs.yale.edu/homes/spielman/"},{"type":"text","text":" ) mentioned PSD matrices on a PR 19 hours ago "},{"type":"emoji","name":"laughing"}]}]}],"reactions":[{"name":"sunglasses","users":["UPJ6Q2SQY"],"count":1}]},{"client_msg_id":"99abb175-bb9e-428f-a8b9-864487e1be06","type":"message","text":"<https://github.com/JuliaNLSolvers/Optim.jl/pull/872> btw","user":"U6CJRSR63","ts":"1608663767.312100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vhO","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaNLSolvers/Optim.jl/pull/872"},{"type":"text","text":" btw"}]}]}]},{"client_msg_id":"e7eac1d2-7739-4469-8edd-cffa9acb6f7f","type":"message","text":"cc: <@UBSFQB5DK>","user":"U6CJRSR63","ts":"1608663993.312500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hL4Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cc: "},{"type":"user","user_id":"UBSFQB5DK"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1608664002.312700","user":"UBSFQB5DK","text":"<@UBSFQB5DK> has joined the channel","inviter":"U6CJRSR63"},{"client_msg_id":"da9f206e-5418-4f6a-91f2-112b19ee9d5c","type":"message","text":"If my calculations are correct – there will be an update of `Manopt.jl`today introducing BFGS/inverseBFS/FDP/InverseDFP/Broyden/InverseBroyden/SR1/InverseSR1 quasi Newton as well as LBFGS (2-loop-recursion) :tada: as well as a 2 WolfePowell Linesearches","user":"UPJ6Q2SQY","ts":"1611675390.002100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xUY+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If my calculations are correct – there will be an update of "},{"type":"text","text":"Manopt.jl","style":{"code":true}},{"type":"text","text":"today introducing BFGS/inverseBFS/FDP/InverseDFP/Broyden/InverseBroyden/SR1/InverseSR1 quasi Newton as well as LBFGS (2-loop-recursion) "},{"type":"emoji","name":"tada"},{"type":"text","text":" as well as a 2 WolfePowell Linesearches"}]}]}],"reactions":[{"name":"tada","users":["U9AHT3YM7","UC6LC14MA"],"count":2}]},{"client_msg_id":"15dd0dbe-9f4f-4e05-839c-683e7fbddc25","type":"message","text":"That's great!","user":"U9AHT3YM7","ts":"1611678550.002400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Uv/V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's great!"}]}]}]},{"client_msg_id":"09ece152-8abb-41f8-b9fb-5624951dad68","type":"message","text":"It's online! <https://manoptjl.org/stable/solvers/quasi_Newton.html>","user":"UPJ6Q2SQY","ts":"1611678855.002600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JMHn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's online! "},{"type":"link","url":"https://manoptjl.org/stable/solvers/quasi_Newton.html"}]}]}]},{"client_msg_id":"622c6055-a86d-4ae8-838b-b6a04875f975","type":"message","text":"And in other news: Manifolds.jl got its 100th :star: recently, yay!","user":"UPJ6Q2SQY","ts":"1611680736.003100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j=nL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And in other news: Manifolds.jl got its 100th "},{"type":"emoji","name":"star"},{"type":"text","text":" recently, yay!"}]}]}],"reactions":[{"name":"tada","users":["UM8JUNJG7","U9AHT3YM7","U82RE6STE","UHDQQ4GN6"],"count":4}]},{"client_msg_id":"ca78ed32-2604-42f2-b26c-bb37737d29ae","type":"message","text":"I noticed a little inconsistency in `Manopt.jl` yesterday: Currently gradients are functions `p -&gt; ...` depending on a point while Hessians are `(M,p,X) -&gt; ...`  depend on the point (of course a direction X) but especially also on the manifold. I think that is reasonable, since one often needs the manifold internally. But defining gradients at `(M,x) -&gt; ...` yields the question: Maybe the cost function could be defined that way too? or none of them?","user":"UPJ6Q2SQY","ts":"1611841958.006500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q4p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I noticed a little inconsistency in "},{"type":"text","text":"Manopt.jl","style":{"code":true}},{"type":"text","text":" yesterday: Currently gradients are functions "},{"type":"text","text":"p -> ...","style":{"code":true}},{"type":"text","text":" depending on a point while Hessians are "},{"type":"text","text":"(M,p,X) -> ...","style":{"code":true}},{"type":"text","text":"  depend on the point (of course a direction X) but especially also on the manifold. I think that is reasonable, since one often needs the manifold internally. But defining gradients at "},{"type":"text","text":"(M,x) -> ...","style":{"code":true}},{"type":"text","text":" yields the question: Maybe the cost function could be defined that way too? or none of them?"}]}]}]},{"client_msg_id":"b336104f-9c12-4f26-b178-8d62e4fd1eb5","type":"message","text":"I think, looking at the usual gradients that I have, having `M` without the need to bulid a functor would be nice, also for the cost.","user":"UPJ6Q2SQY","ts":"1611842022.007200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AqA8d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think, looking at the usual gradients that I have, having "},{"type":"text","text":"M","style":{"code":true}},{"type":"text","text":" without the need to bulid a functor would be nice, also for the cost."}]}]}]},{"client_msg_id":"a020bff3-25e4-4a21-ae22-f620b671139f","type":"message","text":"(also having `M` as a parameter seems to reduce the allocations in the benchmark :wink: )","user":"UPJ6Q2SQY","ts":"1611842076.007800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YTo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(also having "},{"type":"text","text":"M","style":{"code":true}},{"type":"text","text":" as a parameter seems to reduce the allocations in the benchmark "},{"type":"emoji","name":"wink"},{"type":"text","text":" )"}]}]}]},{"client_msg_id":"0a4b27bd-ecd8-4f8c-9c1b-0e98727230df","type":"message","text":"Additionally there cost/gradient/hessian are stored in the problem, where the manifold is stored anyways, so while internally they often need the manifold, it is already stored directly besides anyways","user":"UPJ6Q2SQY","ts":"1611842806.008900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kQDTz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Additionally there cost/gradient/hessian are stored in the problem, where the manifold is stored anyways, so while internally they often need the manifold, it is already stored directly besides anyways"}]}]}]},{"client_msg_id":"d9499314-0d85-4721-8b1b-9689cb2f2f9f","type":"message","text":"I think it would be fine and quite consistent to call gradients and cost functions with the `M` parameter","user":"U9AHT3YM7","ts":"1611860563.009600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AD6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think it would be fine and quite consistent to call gradients and cost functions with the "},{"type":"text","text":"M","style":{"code":true}},{"type":"text","text":" parameter"}]}]}]},{"client_msg_id":"AEADA4E9-1855-4E9A-AA39-F153EDB3F38E","type":"message","text":"Exactly; cool. I mean we can still do kind of a Problem-preprocessor that would add the Ms; I have something like that in mind maybe anyways if someone just has Euclidean (from the embedding) function/gradients etc ","user":"UPJ6Q2SQY","ts":"1611873064.012300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vvsHi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exactly; cool. I mean we can still do kind of a Problem-preprocessor that would add the Ms; I have something like that in mind maybe anyways if someone just has Euclidean (from the embedding) function/gradients etc "}]}]}]},{"client_msg_id":"bcebcaa7-a13e-46af-a1bf-cebfc07684d2","type":"message","text":"not exactly manifolds specific but i've been reading thru <https://www.cs.cmu.edu/~kmcrane/Projects/DDG/|keenan crane's discrete differential geometry notes> and they are great! thought i'd share for any curious learners. it's the only resource ive found that did an intuitive job at explaining stokes thm and exterior algebra","user":"UM8JUNJG7","ts":"1612117267.016000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Pn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"not exactly manifolds specific but i've been reading thru "},{"type":"link","url":"https://www.cs.cmu.edu/~kmcrane/Projects/DDG/","text":"keenan crane's discrete differential geometry notes"},{"type":"text","text":" and they are great! thought i'd share for any curious learners. it's the only resource ive found that did an intuitive job at explaining stokes thm and exterior algebra"}]}]}]},{"client_msg_id":"FCADB881-BA98-4269-81CA-6B0B91F17F82","type":"message","text":"Definitely on my reading list, too! Keenan does some great research! And it’s surely close enough ;)","user":"UPJ6Q2SQY","ts":"1612117450.017100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PhY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Definitely on my reading list, too! Keenan does some great research! And it’s surely close enough ;)"}]}]}],"thread_ts":"1612117450.017100","reply_count":1,"reply_users_count":1,"latest_reply":"1612118059.017300","reply_users":["UM8JUNJG7"],"subscribed":false,"reactions":[{"name":"smile","users":["UM8JUNJG7"],"count":1}]},{"client_msg_id":"f45a87af-85b0-4edf-97c7-41a908cb4238","type":"message","text":"I think I am strugglinh a little bit with Requires.jl. If anybody has a moment to take a look <https://github.com/JuliaManifolds/Manopt.jl/pull/53/commits/6d47f8a09c7cc23a7d06f268358f191713256199> – line 125, the println is never printed independent of how and when I load Manopt and Manifolds. This commit otherwise would nicely decouple (finally!) Manifolds and Manopt","user":"UPJ6Q2SQY","ts":"1614150927.001200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BzLfO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I am strugglinh a little bit with Requires.jl. If anybody has a moment to take a look "},{"type":"link","url":"https://github.com/JuliaManifolds/Manopt.jl/pull/53/commits/6d47f8a09c7cc23a7d06f268358f191713256199"},{"type":"text","text":" – line 125, the println is never printed independent of how and when I load Manopt and Manifolds. This commit otherwise would nicely decouple (finally!) Manifolds and Manopt"}]}]}]},{"client_msg_id":"ea078878-0bdb-4c6d-9ed1-2f174c351f07","type":"message","text":"I ran into a small problem with our index addressing\n\nIf I have\n```a = zeros(3)\nN = PowerManifold(Circle(),3)```\nand do a\n```julia&gt; a[N,1]\n0-dimensional Array{Float64,0}:\n0.0```\nwhere I would have expected the same as when doing `a[1]`. How can we best fix that?\nIt seems to be one of my last things to do (hopefully) for the Manopt 0.3.0 release (mutating problem member functions!)","user":"UPJ6Q2SQY","ts":"1614856138.002400","team":"T68168MUP","edited":{"user":"UPJ6Q2SQY","ts":"1614856314.000000"},"blocks":[{"type":"rich_text","block_id":"5mnMB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I ran into a small problem with our index addressing\n\nIf I have\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"a = zeros(3)\nN = PowerManifold(Circle(),3)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and do a\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> a[N,1]\n0-dimensional Array{Float64,0}:\n0.0"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"where I would have expected the same as when doing "},{"type":"text","text":"a[1]","style":{"code":true}},{"type":"text","text":". How can we best fix that?\nIt seems to be one of my last things to do (hopefully) for the Manopt 0.3.0 release (mutating problem member functions!)"}]}]}],"thread_ts":"1614856138.002400","reply_count":1,"reply_users_count":1,"latest_reply":"1614856484.003100","reply_users":["UPJ6Q2SQY"],"subscribed":false},{"client_msg_id":"8a2779a0-f19f-4e42-ab74-4375a7f570c5","type":"message","text":"Hm, that's an interesting edge case. I think this should actually return the number instead of an array.","user":"U9AHT3YM7","ts":"1614857684.004100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e2m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hm, that's an interesting edge case. I think this should actually return the number instead of an array."}]}]}]},{"client_msg_id":"b07ec7a9-eff6-45fb-a807-dc956b6209bd","type":"message","text":"That's what I hoped for :smile:","user":"UPJ6Q2SQY","ts":"1614857770.004800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7RjZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That's what I hoped for "},{"type":"emoji","name":"smile"}]}]}]},{"client_msg_id":"84a9192d-10c8-4b29-b9fe-b9530ccd08ae","type":"message","text":"This method: <https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/fa09b2a96a09c9a371e7c6ab66445383f476e9d0/src/PowerManifold.jl#L491> should check if the number of axes of `p` is the same as the length of `I` and if so, return the element,","user":"U9AHT3YM7","ts":"1614857789.005300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Fbo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This method: "},{"type":"link","url":"https://github.com/JuliaManifolds/ManifoldsBase.jl/blob/fa09b2a96a09c9a371e7c6ab66445383f476e9d0/src/PowerManifold.jl#L491"},{"type":"text","text":" should check if the number of axes of "},{"type":"text","text":"p","style":{"code":true}},{"type":"text","text":" is the same as the length of "},{"type":"text","text":"I","style":{"code":true}},{"type":"text","text":" and if so, return the element,"}]}]}]},{"client_msg_id":"efa923f4-55b7-492d-ba5a-f01045a8076a","type":"message","text":"The only problem is, we need to check what else needs to be done","user":"U9AHT3YM7","ts":"1614857819.006000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PTBxt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The only problem is, we need to check what else needs to be done"}]}]}]},{"client_msg_id":"1e4eaa48-70d0-49d9-a14a-24e81b221145","type":"message","text":"or maybe only in the `_read`?","user":"UPJ6Q2SQY","ts":"1614857821.006200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4zr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or maybe only in the "},{"type":"text","text":"_read","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"f01831d5-66e8-4b4b-855c-8d8806756cdb","type":"message","text":"No, it can't be fixed in `_read`","user":"U9AHT3YM7","ts":"1614857853.006800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vdXm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, it can't be fixed in "},{"type":"text","text":"_read","style":{"code":true}}]}]}]},{"client_msg_id":"71516dfc-6117-4815-9722-9c8bea2586fa","type":"message","text":"Maybe I should include the example I already have for this (in Manopt.jl) into my tests, the example broke a while ago already.","user":"UPJ6Q2SQY","ts":"1614857861.007200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"159C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe I should include the example I already have for this (in Manopt.jl) into my tests, the example broke a while ago already."}]}]}]},{"client_msg_id":"ce30815f-b457-466f-aa23-782ba307d4c4","type":"message","text":"that method I linked to does `collect`","user":"U9AHT3YM7","ts":"1614857861.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lYX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that method I linked to does "},{"type":"text","text":"collect","style":{"code":true}}]}]}]},{"client_msg_id":"866457ae-eed2-42a6-aaa1-4dc63e6d9a29","type":"message","text":"Ah ok, you're the expert on this :slightly_smiling_face:","user":"UPJ6Q2SQY","ts":"1614857866.007500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e6yc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah ok, you're the expert on this "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"efc68602-e05a-47f6-bae4-5d5b5c6af078","type":"message","text":":slightly_smiling_face:","user":"U9AHT3YM7","ts":"1614857871.007700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YYCx","elements":[{"type":"rich_text_section","elements":[{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"156617b9-d449-4880-b5af-57577ac15859","type":"message","text":"I should be able to find some time during the weekend to fix this","user":"U9AHT3YM7","ts":"1614857888.008000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"R=8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I should be able to find some time during the weekend to fix this"}]}]}]},{"client_msg_id":"3c397fac-13fb-4346-8dc3-718789144727","type":"message","text":"I will try to understand it a little more and see whether I can find it, too, still have one other bug to fight I introduced with my modifying methods (one tutorial and one example are currently broken it seems)","user":"UPJ6Q2SQY","ts":"1614857983.008900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TVBCS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I will try to understand it a little more and see whether I can find it, too, still have one other bug to fight I introduced with my modifying methods (one tutorial and one example are currently broken it seems)"}]}]}]},{"client_msg_id":"c7063649-e262-4bc7-a996-6005e716e1c1","type":"message","text":"And I think usually one would not even run into the edge case here, since the elements will most probably still be arrays and not numbers (in both the array and the nested case)","user":"UPJ6Q2SQY","ts":"1614858142.009600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EDE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And I think usually one would not even run into the edge case here, since the elements will most probably still be arrays and not numbers (in both the array and the nested case)"}]}]}]},{"client_msg_id":"a6cce330-a7e2-4c0b-be08-b20288f416f9","type":"message","text":"just for the ones with representation size `()` this happens, but checking length of index might be the better choice maybe","user":"UPJ6Q2SQY","ts":"1614858179.010300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mtr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just for the ones with representation size "},{"type":"text","text":"()","style":{"code":true}},{"type":"text","text":" this happens, but checking length of index might be the better choice maybe"}]}]}]},{"client_msg_id":"35446d1d-0fdb-4ad7-8c73-200a94b7184b","type":"message","text":"Right, I didn't think about representation size `()` when writing that. We can also check it there instead of length of indices, both approaches should work (the only difference should be the error one gets when incorrect arguments are passed)","user":"U9AHT3YM7","ts":"1614858288.011600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k86","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Right, I didn't think about representation size "},{"type":"text","text":"()","style":{"code":true}},{"type":"text","text":" when writing that. We can also check it there instead of length of indices, both approaches should work (the only difference should be the error one gets when incorrect arguments are passed)"}]}]}]},{"client_msg_id":"4ae6170e-377a-469c-942a-c121bd7f0d52","type":"message","text":"yes.","user":"UPJ6Q2SQY","ts":"1614858392.011800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ENL6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes."}]}]}]},{"client_msg_id":"99ab09c3-8e14-4242-b407-907ec1e02a4b","type":"message","text":"well `()` is also a rare corner case.","user":"UPJ6Q2SQY","ts":"1614858401.012100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dUNWY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well "},{"type":"text","text":"()","style":{"code":true}},{"type":"text","text":" is also a rare corner case."}]}]}]},{"client_msg_id":"6dd47af1-d674-4b45-9c20-bd2e515b9934","type":"message","text":"I just noticed it's not in ManifoldsBase but in Manifolds where we have to change this, since the example I had above is an `Array` not a `Nested` idea, though for the `a` i think both approaches would be the same? It's an edge case again :wink:","user":"UPJ6Q2SQY","ts":"1614868076.013300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Bf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just noticed it's not in ManifoldsBase but in Manifolds where we have to change this, since the example I had above is an "},{"type":"text","text":"Array","style":{"code":true}},{"type":"text","text":" not a "},{"type":"text","text":"Nested","style":{"code":true}},{"type":"text","text":" idea, though for the "},{"type":"text","text":"a","style":{"code":true}},{"type":"text","text":" i think both approaches would be the same? It's an edge case again "},{"type":"emoji","name":"wink"}]}]}]},{"client_msg_id":"ffb1b17f-cc43-4472-a6d1-b3843909252c","type":"message","text":"as it is so often, I could fix the nested one, but not the Array one :wink: Will do a PR for the nested and a small issue for the Array one","user":"UPJ6Q2SQY","ts":"1614870024.013900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sQQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"as it is so often, I could fix the nested one, but not the Array one "},{"type":"emoji","name":"wink"},{"type":"text","text":" Will do a PR for the nested and a small issue for the Array one"}]}]}]},{"client_msg_id":"f5baead1-077d-4a09-aef7-5f78a52b797f","type":"message","text":"See <https://github.com/JuliaManifolds/ManifoldsBase.jl/pull/61> and <https://github.com/JuliaManifolds/Manifolds.jl/issues/333>. For my initial problem, I will (too, as so often) use the nested approach now.","user":"UPJ6Q2SQY","ts":"1614871151.014500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6+8at","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"See "},{"type":"link","url":"https://github.com/JuliaManifolds/ManifoldsBase.jl/pull/61"},{"type":"text","text":" and "},{"type":"link","url":"https://github.com/JuliaManifolds/Manifolds.jl/issues/333"},{"type":"text","text":". For my initial problem, I will (too, as so often) use the nested approach now."}]}]}]}]}