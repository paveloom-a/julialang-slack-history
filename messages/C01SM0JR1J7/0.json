{"cursor": 0, "messages": [{"type":"message","subtype":"channel_join","ts":"1616817545.000200","user":"U677R5Q5A","text":"<@U677R5Q5A> has joined the channel"},{"type":"message","subtype":"channel_purpose","ts":"1616817545.000300","user":"U677R5Q5A","text":"<@U677R5Q5A> set the channel purpose: Nix and NixOS","purpose":"Nix and NixOS"},{"type":"message","subtype":"channel_topic","ts":"1616818160.000400","user":"U677R5Q5A","text":"<@U677R5Q5A> set the channel topic: <https://nixos.org> | <https://github.com/NixOS/nixpkgs/tree/master/pkgs/development/compilers/julia> | <https://nixos.org/manual/nixpkgs/stable>","topic":"<https://nixos.org> | <https://github.com/NixOS/nixpkgs/tree/master/pkgs/development/compilers/julia> | <https://nixos.org/manual/nixpkgs/stable>"},{"type":"message","subtype":"channel_topic","ts":"1616836149.000500","user":"U677R5Q5A","text":"<@U677R5Q5A> set the channel topic: <https://nixos.org> | <https://github.com/NixOS/nixpkgs/tree/master/pkgs/development/compilers/julia> | <https://nixos.org/manual/nixpkgs/unstable>","topic":"<https://nixos.org> | <https://github.com/NixOS/nixpkgs/tree/master/pkgs/development/compilers/julia> | <https://nixos.org/manual/nixpkgs/unstable>"},{"type":"message","subtype":"channel_join","ts":"1616854936.000700","user":"UC81ESVH6","text":"<@UC81ESVH6> has joined the channel"},{"client_msg_id":"4c909236-b5d6-4f1f-826b-eb0c7c2df9d4","type":"message","text":"Not great for 1.6.0, but getting there:\n```Test Summary:                       |     Pass  Fail  Error  Broken     Total\n  Overall                           | 38758175    43     12  352593  39110823```","user":"U677R5Q5A","ts":"1616895257.000600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3NJW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not great for 1.6.0, but getting there:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"Test Summary:                       |     Pass  Fail  Error  Broken     Total\n  Overall                           | 38758175    43     12  352593  39110823"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1616897234.000800","user":"ULR33SMHB","text":"<@ULR33SMHB> has joined the channel"},{"client_msg_id":"8c6b196f-ada7-45a0-84c7-187f5c3e089d","type":"message","text":"Sharing two recent conversations that may be of interest to anyone here:\n\n<https://julialang.slack.com/archives/C674ELDNX/p1616779363073400>","user":"ULR33SMHB","ts":"1616897248.001200","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1616779363073400","fallback":"[March 26th, 2021 10:22 AM] colinxs: Is anyone here familiar with Nix/Guix? I'm trying to better understand the difference in approaches taking by Nix/Guix and BinaryBuilder, especially in the context of (1) patching binaries and (2) the handling of machine-specific libs like libGL.","ts":"1616779363.073400","author_id":"ULR33SMHB","author_subname":"Colin Summers","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Is anyone here familiar with Nix/Guix? I'm trying to better understand the difference in approaches taking by Nix/Guix and BinaryBuilder, especially in the context of (1) patching binaries and (2) the handling of machine-specific libs like libGL.","author_name":"Colin Summers","author_link":"https://julialang.slack.com/team/ULR33SMHB","author_icon":"https://avatars.slack-edge.com/2020-05-18/1117275973255_e9512af21df5fccbfb3d_48.jpg","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1616779363073400","footer":"Thread in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"DaJx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sharing two recent conversations that may be of interest to anyone here:\n\n"},{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1616779363073400"}]}]}]},{"client_msg_id":"982fafe8-929c-4293-b26c-aa400a59e09e","type":"message","text":"and\n\n<https://julialang.slack.com/archives/CBF3Z1D7V/p1602656492191600?thread_ts=1602646185.191500&amp;cid=CBF3Z1D7V>","user":"ULR33SMHB","ts":"1616897281.001500","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/CBF3Z1D7V/p1602656492191600?thread_ts=1602646185.191500&amp;cid=CBF3Z1D7V","fallback":"[October 13th, 2020 11:21 PM] mose: Part of the idea of artifacts is to have them immutable, for consistency.\n\nWhat's the problem with NixOS?","ts":"1602656492.191600","author_id":"UDB26738Q","author_subname":"Mosè Giordano","channel_id":"CBF3Z1D7V","channel_name":"pkg-dev","is_msg_unfurl":true,"is_reply_unfurl":true,"text":"Part of the idea of artifacts is to have them immutable, for consistency.\n\nWhat's the problem with NixOS?","author_name":"Mosè Giordano","author_link":"https://julialang.slack.com/team/UDB26738Q","author_icon":"https://secure.gravatar.com/avatar/b1b9938790729d96af6f168d8ce0f917.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0024-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/CBF3Z1D7V/p1602656492191600?thread_ts=1602646185.191500&amp;cid=CBF3Z1D7V","footer":"From a thread in #pkg-dev"}],"blocks":[{"type":"rich_text","block_id":"k/9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and\n\n"},{"type":"link","url":"https://julialang.slack.com/archives/CBF3Z1D7V/p1602656492191600?thread_ts=1602646185.191500&cid=CBF3Z1D7V"}]}]}]},{"client_msg_id":"19d7f4d1-b7c1-49f9-94ba-53233244ef33","type":"message","text":"<@U677R5Q5A> do you have a Google Doc or something somewhere compiling all this information? If not I could start one based on these two conversations.","user":"ULR33SMHB","ts":"1616897316.002300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KXl+","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U677R5Q5A"},{"type":"text","text":" do you have a Google Doc or something somewhere compiling all this information? If not I could start one based on these two conversations."}]}]}]},{"client_msg_id":"a871d8d0-3f62-4e9e-8b67-41461a0fb78b","type":"message","text":"I started a Google Doc with a summary of the first conversation and that discourse post: <https://docs.google.com/document/d/11a2vWV1PX9r_gLzj74xW4_TDnKdENxlGqm0HPpoj9dQ/edit?usp=sharing>","user":"ULR33SMHB","ts":"1616898574.002700","team":"T68168MUP","edited":{"user":"ULR33SMHB","ts":"1616898703.000000"},"blocks":[{"type":"rich_text","block_id":"Nbrv6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I started a Google Doc with a summary of the first conversation and that discourse post: "},{"type":"link","url":"https://docs.google.com/document/d/11a2vWV1PX9r_gLzj74xW4_TDnKdENxlGqm0HPpoj9dQ/edit?usp=sharing"}]}]}]},{"client_msg_id":"a40f19d4-f4fd-47b0-bb18-ef7761f95222","type":"message","text":"<@U677R5Q5A> would you want to add a summary of your conversation with <@U66GD0880> and <@UDB26738Q> since you have the better understanding?","user":"ULR33SMHB","ts":"1616898613.003500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SqQ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U677R5Q5A"},{"type":"text","text":" would you want to add a summary of your conversation with "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" and "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" since you have the better understanding?"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1616898988.003800","user":"U01SMJU7JM8","text":"<@U01SMJU7JM8> has joined the channel","reactions":[{"name":"wave","users":["ULR33SMHB"],"count":1}]},{"type":"message","subtype":"channel_join","ts":"1616899437.004300","user":"U01ARRMLM7E","text":"<@U01ARRMLM7E> has joined the channel"},{"client_msg_id":"21903e25-0b55-4f22-acd5-45cf9fe7fc8c","type":"message","text":"Sure, can have a look shortly. Just need to patch a bit and fire off a build to try to finish v1.0.6 and hopefully get somewhat PR read today.","user":"U677R5Q5A","ts":"1616905499.006100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HzF8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sure, can have a look shortly. Just need to patch a bit and fire off a build to try to finish v1.0.6 and hopefully get somewhat PR read today."}]}]}]},{"client_msg_id":"b4bfe96c-5120-48c9-8d21-3573598063ee","type":"message","text":"This clean up has had “clean creep” going on for long enough.","user":"U677R5Q5A","ts":"1616905544.006700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kK0w1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This clean up has had “clean creep” going on for long enough."}]}]}]},{"client_msg_id":"6f441031-c6e8-4520-b431-7dc484385907","type":"message","text":"<https://github.com/JuliaLang/julia/pull/40178> &lt;&lt; There is this backport as well needed as libgit2 has security issues for 1.0.x.","user":"U677R5Q5A","ts":"1616905612.007300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l9O","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/pull/40178"},{"type":"text","text":" << There is this backport as well needed as libgit2 has security issues for 1.0.x."}]}]}]},{"client_msg_id":"4951bf9b-914e-486c-9b7f-45ae34ccc9be","type":"message","text":"<@ULR33SMHB> <https://julialang.slack.com/archives/C68SPSE72/p1615638643029400> &lt;&lt; Another potential thread of interest.","user":"U677R5Q5A","ts":"1616906332.007700","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C68SPSE72/p1615638643029400","fallback":"[March 13th, 2021 4:30 AM] ninjin: Apparently the libgit2 version for v1.0.5 has two [security](<https://nvd.nist.gov/vuln/detail/CVE-2020-12278>) [issues](<https://nvd.nist.gov/vuln/detail/CVE-2020-12279>) which is causing issues supporting/building it using Nix (I am trying to clean up the mess that is Julia on Nix at the moment). Was this discussed somewhere? A few searches on GitHub and Discourse left me with empty hands.","ts":"1615638643.029400","author_id":"U677R5Q5A","author_subname":"Pontus Stenetorp","channel_id":"C68SPSE72","channel_name":"infrastructure","is_msg_unfurl":true,"is_thread_root_unfurl":true,"text":"Apparently the libgit2 version for v1.0.5 has two [security](<https://nvd.nist.gov/vuln/detail/CVE-2020-12278>) [issues](<https://nvd.nist.gov/vuln/detail/CVE-2020-12279>) which is causing issues supporting/building it using Nix (I am trying to clean up the mess that is Julia on Nix at the moment). Was this discussed somewhere? A few searches on GitHub and Discourse left me with empty hands.","author_name":"Pontus Stenetorp","author_link":"https://julialang.slack.com/team/U677R5Q5A","author_icon":"https://avatars.slack-edge.com/2019-03-26/580010003441_c72ab81852ba4c2a2e5c_48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C68SPSE72/p1615638643029400","footer":"Thread in #infrastructure"}],"blocks":[{"type":"rich_text","block_id":"Q9B2e","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"ULR33SMHB"},{"type":"text","text":" "},{"type":"link","url":"https://julialang.slack.com/archives/C68SPSE72/p1615638643029400"},{"type":"text","text":" << Another potential thread of interest."}]}]}]},{"client_msg_id":"dcb97566-e18a-44db-90bc-dd957d177666","type":"message","text":"<@ULR33SMHB> Okay, write up done from what I believe were the outcomes from that discussion in October.","user":"U677R5Q5A","ts":"1616909765.008400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cESSS","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"ULR33SMHB"},{"type":"text","text":" Okay, write up done from what I believe were the outcomes from that discussion in October."}]}]}]},{"client_msg_id":"f7987931-1744-4dc8-ad34-b08c85b50918","type":"message","text":"All right, cleaned up v1.0.5 expression with all non-network tests passing done. Time for a rebase and then PR for Nixpkgs.","user":"U677R5Q5A","ts":"1616916521.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Navc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All right, cleaned up v1.0.5 expression with all non-network tests passing done. Time for a rebase and then PR for Nixpkgs."}]}]}]},{"client_msg_id":"7bfb3336-0a55-4611-a54c-d115b780c9f4","type":"message","text":"Let us see how my suggestion to use `julia`, `julia-lts`, and `julia-stable` from now on in received. '^^","user":"U677R5Q5A","ts":"1616916594.009700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WDY22","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let us see how my suggestion to use "},{"type":"text","text":"julia","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"julia-lts","style":{"code":true}},{"type":"text","text":", and "},{"type":"text","text":"julia-stable","style":{"code":true}},{"type":"text","text":" from now on in received. '^^"}]}]}]},{"client_msg_id":"578903ac-c14a-4327-90bb-99eefee4c78c","type":"message","text":"Will leave v1.6.0 out of it though as it will probably take far longer than I have time for today to get it into a shape that I feel is PR worthy. I will try to push a WIP version into my fork though and share.","user":"U677R5Q5A","ts":"1616916724.011100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SG071","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Will leave v1.6.0 out of it though as it will probably take far longer than I have time for today to get it into a shape that I feel is PR worthy. I will try to push a WIP version into my fork though and share."}]}]}]},{"type":"message","subtype":"channel_join","ts":"1616918549.011300","user":"U01BTNDCUBX","text":"<@U01BTNDCUBX> has joined the channel"},{"client_msg_id":"14b45c96-1db7-4073-a283-517eb147ebd3","type":"message","text":"<https://git.sr.ht/~ninjin/nixpkgs/log/juliaclean> &lt;&lt; Patches to be lifted into Nixpkgs, any review is welcome and will continue after dinner.","user":"U677R5Q5A","ts":"1616929361.012100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jvO","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://git.sr.ht/~ninjin/nixpkgs/log/juliaclean"},{"type":"text","text":" << Patches to be lifted into Nixpkgs, any review is welcome and will continue after dinner."}]}]}]},{"type":"message","subtype":"channel_join","ts":"1616933923.012300","user":"U01SJQHU8S1","text":"<@U01SJQHU8S1> has joined the channel","reactions":[{"name":"hearts","users":["U677R5Q5A"],"count":1}]},{"client_msg_id":"c32e4ea2-2413-4571-bd4a-2725e28d0fe8","type":"message","text":"PR filed: <https://github.com/NixOS/nixpkgs/pull/117881>","user":"U677R5Q5A","ts":"1616936720.012700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ge7H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PR filed: "},{"type":"link","url":"https://github.com/NixOS/nixpkgs/pull/117881"}]}]}]},{"client_msg_id":"6d0f5f70-eb55-4e61-bcd2-98b5c213ea22","type":"message","text":"I am honestly tempted to just vendor every bloody dependency for v1.6.0, thoughts?","user":"U677R5Q5A","ts":"1616937034.013100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Tdo3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am honestly tempted to just vendor every bloody dependency for v1.6.0, thoughts?"}]}]}]},{"client_msg_id":"bca2f7fa-d237-4e86-b055-9987df9b8ff5","type":"message","text":"I think I tried to vendor all dependencies and I think one or two didn't work, but I also didn't really test it extensively. Generally speaking though, go for it.","user":"U01SJQHU8S1","ts":"1616937425.013200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zOaDo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think I tried to vendor all dependencies and I think one or two didn't work, but I also didn't really test it extensively. Generally speaking though, go for it."}]}]}]},{"client_msg_id":"d5780bb4-6502-4528-8fbe-3a3a69c063ab","type":"message","text":"I mean, it is borderline declaring war on the rest of the Nixpkgs community.","user":"U677R5Q5A","ts":"1616937464.013600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AsWd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, it is borderline declaring war on the rest of the Nixpkgs community."}]}]}]},{"client_msg_id":"5496233b-04a1-41c7-9603-bbde255d7e80","type":"message","text":"I remember struggling with OpenBLAS, but at least it seems to build on macOS.","user":"U677R5Q5A","ts":"1616937481.014100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tKs5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I remember struggling with OpenBLAS, but at least it seems to build on macOS."}]}]}]},{"client_msg_id":"68c9b241-727f-4f16-82d6-256c70d07195","type":"message","text":"The “clean” way to do it I suspect would be to generate derivations for each dependency at the top of the expression.","user":"U677R5Q5A","ts":"1616937517.014600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hDIg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The “clean” way to do it I suspect would be to generate derivations for each dependency at the top of the expression."}]}]}]},{"client_msg_id":"573ed620-555f-40cc-b092-0243afbe1238","type":"message","text":"But I have not seen anything else in Nixpkgs take that approach.","user":"U677R5Q5A","ts":"1616937529.014900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8fSv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I have not seen anything else in Nixpkgs take that approach."}]}]}]},{"client_msg_id":"030c45f3-d4d3-43f7-b4e1-20ef1b4545cd","type":"message","text":"Meh, heck, I will give it a shot. Worst case they tell me to buzz off.","user":"U677R5Q5A","ts":"1616937577.015200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+k1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Meh, heck, I will give it a shot. Worst case they tell me to buzz off."}]}]}]},{"client_msg_id":"3fc5bf67-3b32-470f-9917-c468638bcd0f","type":"message","text":"IMHO the clean way to do it is the way Guix does it and incorporate the vendor patches in the expression","user":"U01SJQHU8S1","ts":"1616937661.015400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jxx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"IMHO the clean way to do it is the way Guix does it and incorporate the vendor patches in the expression"}]}]}]},{"client_msg_id":"4e1cc4b9-e2ec-41f3-a91e-01d75bea6c29","type":"message","text":"Let me see if I can dig that expression out","user":"U01SJQHU8S1","ts":"1616937674.015600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YlNYD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Let me see if I can dig that expression out"}]}]}]},{"client_msg_id":"3c77ffa1-49db-48a4-900f-7ccbdfc22561","type":"message","text":"I dare not look at it since it is GPL scum. ;P","user":"U677R5Q5A","ts":"1616937684.015900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fVWJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I dare not look at it since it is GPL scum. ;P"}]}]}]},{"client_msg_id":"a14aa254-ea03-442d-aa23-df1614f98e75","type":"message","text":"But if it is what I think it is though, they lift out each patch and re-apply the vendored patches?","user":"U677R5Q5A","ts":"1616937725.016600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rd73","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But if it is what I think it is though, they lift out each patch and re-apply the vendored patches?"}]}]}]},{"client_msg_id":"77bf2cb5-9f38-4d70-b367-e311f692f3de","type":"message","text":"<https://github.com/guix-mirror/guix/blob/f6e031ab36fd99ad3536caabfdaefcc2b5f606a1/gnu/packages/julia.scm|https://github.com/guix-mirror/guix/blob/f6e031ab36fd99ad3536caabfdaefcc2b5f606a1/gnu/packages/julia.scm>","user":"U01SJQHU8S1","ts":"1616937785.017800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7z+d","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/guix-mirror/guix/blob/f6e031ab36fd99ad3536caabfdaefcc2b5f606a1/gnu/packages/julia.scm","text":"https://github.com/guix-mirror/guix/blob/f6e031ab36fd99ad3536caabfdaefcc2b5f606a1/gnu/packages/julia.scm"}]}]}]},{"client_msg_id":"72ebed01-59d7-49f0-9a5d-d5e63ea61b01","type":"message","text":"That gives me nightmares as we as maintainers will have to be incredibly careful to not deviate from whatever Julia does upstream. I mean, I dropped more than 50 redundant lines for that 1.0.x rewrite, so our ability to stay in sync does not instil me with confidence.","user":"U677R5Q5A","ts":"1616937793.018000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=wC=A","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"That gives me nightmares as we as maintainers will have to be incredibly careful to not deviate from whatever Julia does upstream. I mean, I dropped more than 50 redundant lines for that 1.0.x rewrite, so our ability to stay in sync does not instil me with confidence."}]}]}]},{"client_msg_id":"d539b050-eda6-4d69-ba82-9e44fb7ec959","type":"message","text":"Yeah I definitely don't have the bandwidth to reapply all those patches","user":"U01SJQHU8S1","ts":"1616937818.018100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S8j","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I definitely don't have the bandwidth to reapply all those patches"}]}]}]},{"client_msg_id":"8b3ec79d-e3ee-463b-bd9c-32eb0b9c992b","type":"message","text":"Exactly, so maybe one can build each dependency out of tree in a `let` on the top and then depend on them? That also saves you from having to build LLVM a gorillion times. '^^","user":"U677R5Q5A","ts":"1616937863.019000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"K12","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exactly, so maybe one can build each dependency out of tree in a "},{"type":"text","text":"let","style":{"code":true}},{"type":"text","text":" on the top and then depend on them? That also saves you from having to build LLVM a gorillion times. '^^"}]}]}]},{"client_msg_id":"167378fd-50ab-4529-83fb-923839760879","type":"message","text":"“Oh, I forgot to put a dependency into `buildInput`, I guess I will build LLVM a gain! Hurr hurr hurr!”","user":"U677R5Q5A","ts":"1616937908.019600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h/5Q7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"“Oh, I forgot to put a dependency into "},{"type":"text","text":"buildInput","style":{"code":true}},{"type":"text","text":", I guess I will build LLVM a gain! Hurr hurr hurr!”"}]}]}]},{"client_msg_id":"6c5c5bff-374d-4c0d-a351-2bb72e0e3c2b","type":"message","text":"Personally I feel a clean-up of 1.6 is more important than trying to apply all the vendor patches ourselves. My current expression is a mess :D","user":"U01SJQHU8S1","ts":"1616938009.019700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"pTDo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Personally I feel a clean-up of 1.6 is more important than trying to apply all the vendor patches ourselves. My current expression is a mess :D"}]}]}]},{"client_msg_id":"0ad0ce5e-3f4d-41cc-866b-2f1e46d8d5ea","type":"message","text":"How can you be blamed for that, you based it on an expression that was an utter mess. ;P","user":"U677R5Q5A","ts":"1616938030.020100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zCDM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How can you be blamed for that, you based it on an expression that was an utter mess. ;P"}]}]}]},{"client_msg_id":"42b38ab0-e8ad-4859-bfdd-f1208ae1e183","type":"message","text":"I mean, it had readline as a dependency, that was dropped from Julia back around 2015!","user":"U677R5Q5A","ts":"1616938058.020500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CEK7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, it had readline as a dependency, that was dropped from Julia back around 2015!"}]}]}]},{"client_msg_id":"8d456609-9552-414f-9f2c-2b1b0f8b97bb","type":"message","text":"It duplicated shared library symlink that was already in Julia upstream – and cleaner!","user":"U677R5Q5A","ts":"1616938087.021000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"POu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It duplicated shared library symlink that was already in Julia upstream – and cleaner!"}]}]}]},{"client_msg_id":"39b1e960-6aac-4e3f-9359-f23ba85a9b16","type":"message","text":"It was as if whoever wrote those things were fairly new to Nix and also fairly unaware of Julia. That is okay, but it makes it very hard when someone like me comes along and assumes that lines actually are there for a reason. '^^","user":"U677R5Q5A","ts":"1616938123.021800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pbq=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It was as if whoever wrote those things were fairly new to Nix and also fairly unaware of Julia. That is okay, but it makes it very hard when someone like me comes along and assumes that lines actually are there for a reason. '^^"}]}]}]},{"client_msg_id":"448e6511-8a13-46c8-b42c-3633e725beac","type":"message","text":"Well I think I deserve a bit more blame for the mess","user":"U01SJQHU8S1","ts":"1616938162.021900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rJv1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Well I think I deserve a bit more blame for the mess"}]}]}]},{"client_msg_id":"54189852-dd44-42e0-9744-086f64d43771","type":"message","text":"I also did 1.4 and 1.5","user":"U01SJQHU8S1","ts":"1616938173.022100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B+LXm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I also did 1.4 and 1.5"}]}]}]},{"client_msg_id":"1f1b1ae1-724d-4b00-8e9d-fd457e307234","type":"message","text":"But I based it off 1.3","user":"U01SJQHU8S1","ts":"1616938179.022300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Cvi/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I based it off 1.3"}]}]}]},{"client_msg_id":"7d6848e3-0430-46da-b825-e2c06fb2493c","type":"message","text":"Nah, I will never go after people. =)","user":"U677R5Q5A","ts":"1616938183.022500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"G=lo","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nah, I will never go after people. =)"}]}]}]},{"client_msg_id":"dc19a27e-2822-4734-a65f-a0deeb4e5b22","type":"message","text":"You made it possible for me to run 1.5 a while ago which made me very happy, regardless of the state of the expressions.","user":"U677R5Q5A","ts":"1616938209.023000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AGu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You made it possible for me to run 1.5 a while ago which made me very happy, regardless of the state of the expressions."}]}]}]},{"client_msg_id":"42cb6177-5d18-4831-a07e-cfee75eff698","type":"message","text":"And at the time there was no one else packaging it julia for nix and I was just happy to get something working","user":"U01SJQHU8S1","ts":"1616938213.023100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4FPb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"And at the time there was no one else packaging it julia for nix and I was just happy to get something working"}]}]}]},{"client_msg_id":"cdd9bf37-7eb2-45f7-8c84-cfec266f3d0e","type":"message","text":"Why did you not add yourself an maintainer by the way? That puzzled me a bit.","user":"U677R5Q5A","ts":"1616938242.023400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PxT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Why did you not add yourself an maintainer by the way? That puzzled me a bit."}]}]}]},{"client_msg_id":"7d7de891-22aa-4ecd-9c0f-f3cd0168d3bf","type":"message","text":"s/an/as/","user":"U677R5Q5A","ts":"1616938249.023600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xkoYr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"s/an/as/"}]}]}]},{"client_msg_id":"99ae2f64-849f-48f3-b367-53d78b81cda8","type":"message","text":"Because I wasn't sure I had the bandwidth to be one","user":"U01SJQHU8S1","ts":"1616938265.023700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WMIor","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Because I wasn't sure I had the bandwidth to be one"}]}]}]},{"client_msg_id":"0f17418f-2a76-470e-9a86-8f6c81d89539","type":"message","text":"Life has been a mess for a little while","user":"U01SJQHU8S1","ts":"1616938273.023900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gyEls","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Life has been a mess for a little while"}]}]}]},{"client_msg_id":"62340484-17b2-4a9f-a9ad-c390547e11ba","type":"message","text":"Now that is worthy of respect. =)","user":"U677R5Q5A","ts":"1616938273.024000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QKfPy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Now that is worthy of respect. =)"}]}]}]},{"client_msg_id":"9bac70e3-f99b-4a58-bc19-866c796e5393","type":"message","text":"Not the mess, but the self-reflection.","user":"U677R5Q5A","ts":"1616938284.024300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AFW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Not the mess, but the self-reflection."}]}]}]},{"type":"message","subtype":"me_message","text":"refuses to stand as maintainer for anything where he does not directly monitor the upstream and use it more or less daily","user":"U677R5Q5A","ts":"1616938305.024400"},{"client_msg_id":"f63e2706-718f-4ff9-a0fa-3f626ddc57a6","type":"message","text":"I have committed sins back when I was helping out with FreeBSD ports, so I am trying not to introduce random things for the heck of it as end-users will rely on what you give them.","user":"U677R5Q5A","ts":"1616938342.025100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0rlKz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have committed sins back when I was helping out with FreeBSD ports, so I am trying not to introduce random things for the heck of it as end-users will rely on what you give them."}]}]}]},{"client_msg_id":"5c009fe2-48d0-4880-bc67-7fafc0a4a211","type":"message","text":"I basically wrapped up the project for which I needed 1.4/1.5 last summer and haven't touched julia much since.","user":"U01SJQHU8S1","ts":"1616938450.025200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fdl/2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I basically wrapped up the project for which I needed 1.4/1.5 last summer and haven't touched julia much since."}]}]}]},{"client_msg_id":"26d7a958-a237-46d0-9701-c4201a58e158","type":"message","text":"Hope we can keep you around though, Julia users are always welcome and those with Nix experience even more so. =)","user":"U677R5Q5A","ts":"1616938516.025800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DdlT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hope we can keep you around though, Julia users are always welcome and those with Nix experience even more so. =)"}]}]}]},{"client_msg_id":"d3b2f40f-e5be-4e9d-a390-c89a5894533f","type":"message","text":"I definitely want to stick around. Not sure I can lead any effort but I am definitely happy to help out","user":"U01SJQHU8S1","ts":"1616938599.025900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Nuy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I definitely want to stick around. Not sure I can lead any effort but I am definitely happy to help out"}]}]}],"reactions":[{"name":"hearts","users":["U677R5Q5A"],"count":1}]},{"client_msg_id":"ff191f48-ceca-4262-88d0-3437882503ad","type":"message","text":"All right, if I can steal cycles tomorrow I will continue down the path of nested derivations. Probably should try to sleep before midnight for once.","user":"U677R5Q5A","ts":"1616941657.026600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MZh6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"All right, if I can steal cycles tomorrow I will continue down the path of nested derivations. Probably should try to sleep before midnight for once."}]}]}]},{"client_msg_id":"2deed9b2-3a73-4b98-b815-05ed8c57d2b8","type":"message","text":"<@U01SJQHU8S1> Did we have a working (albeit possibly messy…) v1.6.0 expression somewhere? There guys seem like they could use one: <https://github.com/NixOS/nixpkgs/issues/116697>","user":"U677R5Q5A","ts":"1616941852.027500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LcuZ","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01SJQHU8S1"},{"type":"text","text":" Did we have a working (albeit possibly messy…) v1.6.0 expression somewhere? There guys seem like they could use one: "},{"type":"link","url":"https://github.com/NixOS/nixpkgs/issues/116697"}]}]}]},{"client_msg_id":"fccab1fd-abcd-4e9b-a28e-cad37addb209","type":"message","text":"They are trying to use the system curl which doesn't work for my expression either.","user":"U01SJQHU8S1","ts":"1616942368.027600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"L/N3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"They are trying to use the system curl which doesn't work for my expression either."}]}]}]},{"client_msg_id":"9412572f-5440-4853-836b-2745fff70417","type":"message","text":"I am 90% sure I got that to work.","user":"U677R5Q5A","ts":"1616942389.028000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MhLH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am 90% sure I got that to work."}]}]}]},{"type":"message","subtype":"me_message","text":"checks","user":"U677R5Q5A","ts":"1616942392.028100"},{"client_msg_id":"580ae3f4-e5c6-4603-ae2f-258c8891e170","type":"message","text":"Yep, without hacks even.","user":"U677R5Q5A","ts":"1616942421.028300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m/8H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yep, without hacks even."}]}]}]},{"client_msg_id":"013366aa-6811-48e1-8a53-f4fcdaa61129","type":"message","text":"I have to admit, I am feeling a bit of pressure from the perceived risk that someone hammers in one heck of a hack for v1.6.0 that I will then have to dissect. '^^","user":"U677R5Q5A","ts":"1616942484.029000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I29l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I have to admit, I am feeling a bit of pressure from the perceived risk that someone hammers in one heck of a hack for v1.6.0 that I will then have to dissect. '^^"}]}]}]},{"client_msg_id":"7a77dd61-cf0c-4d71-b9df-ae5e093171d7","type":"message","text":"Nice","user":"U01SJQHU8S1","ts":"1616942860.029100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ik9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nice"}]}]}]},{"client_msg_id":"33e4b99a-9c15-4d2c-9291-5f59ce78fff0","type":"message","text":"Do you have a somewhat cleaned expression for one of the stable versions?","user":"U01SJQHU8S1","ts":"1616942918.029200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m8+N","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you have a somewhat cleaned expression for one of the stable versions?"}]}]}]},{"client_msg_id":"98b85fa3-9649-4bcb-a20d-074d69965d03","type":"message","text":"<@U01SJQHU8S1>: Sure, this: <https://git.sr.ht/~ninjin/nixpkgs/tree/juliaclean/item/pkgs/development/compilers/julia/lts.nix> But it is pre-BinaryBuilder.","user":"U677R5Q5A","ts":"1616944893.029700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Sor7","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U01SJQHU8S1"},{"type":"text","text":": Sure, this: "},{"type":"link","url":"https://git.sr.ht/~ninjin/nixpkgs/tree/juliaclean/item/pkgs/development/compilers/julia/lts.nix"},{"type":"text","text":" But it is pre-BinaryBuilder."}]}]}]},{"client_msg_id":"4f235e90-88ff-493f-b2ee-ba73713a27e7","type":"message","text":"Gah, you said “stable”.","user":"U677R5Q5A","ts":"1616944914.029900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ypP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Gah, you said “stable”."}]}]}]},{"client_msg_id":"a5344bf1-2b31-4dd0-97a1-e6ed4ef36234","type":"message","text":"Looking at `1.5.nix` right now and you can probably lift over what I did to `1.0.nix` fairly easily.","user":"U677R5Q5A","ts":"1616944980.030500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r7TJR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Looking at "},{"type":"text","text":"1.5.nix","style":{"code":true}},{"type":"text","text":" right now and you can probably lift over what I did to "},{"type":"text","text":"1.0.nix","style":{"code":true}},{"type":"text","text":" fairly easily."}]}]}]},{"client_msg_id":"4cdb198d-9b88-4c3a-bfbc-242ea36323fd","type":"message","text":"A crap ton of stuff is redundant though.","user":"U677R5Q5A","ts":"1616945006.030800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JwTg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A crap ton of stuff is redundant though."}]}]}]},{"client_msg_id":"44ad5da6-b876-4ff8-90de-40686ac56a88","type":"message","text":"I am aware that a bunch of stuff is useless in the current expression for 1.5","user":"U01SJQHU8S1","ts":"1616945032.030900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fiAp","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am aware that a bunch of stuff is useless in the current expression for 1.5"}]}]}]},{"client_msg_id":"da130848-296b-4f97-abfc-94d6914c465c","type":"message","text":"I'll have a look thanks","user":"U01SJQHU8S1","ts":"1616945039.031000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=P=KW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'll have a look thanks"}]}]}]},{"client_msg_id":"13aa63bc-52bd-440f-8645-565d06c7cc90","type":"message","text":"I think you can have it done super quick.","user":"U677R5Q5A","ts":"1616945052.031400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FYuYq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think you can have it done super quick."}]}]}]},{"client_msg_id":"5e56ebda-2db5-40e1-96a8-3efaf0c2308c","type":"message","text":"There was something that happened v1.5 -&gt; v1.6 though with BB that still puzzles me though.","user":"U677R5Q5A","ts":"1616945080.032100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5eAcc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There was something that happened v1.5 -> v1.6 though with BB that still puzzles me though."}]}]}]},{"client_msg_id":"d2e53174-109e-4401-85be-4ce1e1a08d56","type":"message","text":"But I really want to resolve the LLVM situation before I start fiddling too much though as it is such a major pain in the rear end to have to wait for the tests to kick in even with my monster of a machine.","user":"U677R5Q5A","ts":"1616945135.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qNN3u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But I really want to resolve the LLVM situation before I start fiddling too much though as it is such a major pain in the rear end to have to wait for the tests to kick in even with my monster of a machine."}]}]}]},{"client_msg_id":"3cf57f9d-ab55-4646-ab3a-a12c993b2916","type":"message","text":"I admire you if you have less than 16 physical cores, I more or less put off doing anything with Julia on Nixpkgs for the whole of 2020 due to being stuck on my ultra-portable. The moment you saw me starting to hack on Julia and Nix a few weeks ago was when I finally got a desktop.","user":"U677R5Q5A","ts":"1616945211.034400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"if7cd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I admire you if you have less than 16 physical cores, I more or less put off doing anything with Julia on Nixpkgs for the whole of 2020 due to being stuck on my ultra-portable. The moment you saw me starting to hack on Julia and Nix a few weeks ago was when I finally got a desktop."}]}]}]},{"client_msg_id":"0e39d9ff-a9c1-47b1-ac22-c5126990c253","type":"message","text":"Off to bed now – still did not make it before midnight… – I promise to drop by here tomorrow even if I have some “real work” to get out of the way before I can pour hours into side projects. ;)","user":"U677R5Q5A","ts":"1616945297.035600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"UzS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Off to bed now – still did not make it before midnight… – I promise to drop by here tomorrow even if I have some “real work” to get out of the way before I can pour hours into side projects. ;)"}]}]}]}]}