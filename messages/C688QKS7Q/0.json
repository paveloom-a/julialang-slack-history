{"cursor": 1, "messages": [{"client_msg_id":"db7f02ed-2502-46cd-bba7-eaf753f1206f","type":"message","text":"let to:","user":"U67BJLYCS","ts":"1609888050.265000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xWw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"let to:"}]}]}]},{"client_msg_id":"53ff4397-94b0-4166-b6d5-d308f608fc90","type":"message","text":"```/nobackup/users/vchuravy/dev/julia/src/codegen.cpp:5634:9: warning: statement has no effect [-Wunused-value]\n         (void*)srt; // silence unused variable error\n         ^~~~~~~~~~```","user":"U67BJLYCS","ts":"1609888053.265200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eoN","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/nobackup/users/vchuravy/dev/julia/src/codegen.cpp:5634:9: warning: statement has no effect [-Wunused-value]\n         (void*)srt; // silence unused variable error\n         ^~~~~~~~~~"}]}]}]},{"client_msg_id":"8f56256b-5c68-4552-bd83-99c69428ba73","type":"message","text":"silly program","user":"U67BJLYCS","ts":"1609888058.265400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NAuiN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"silly program"}]}]}]},{"client_msg_id":"53a6dc20-738f-4f0d-8820-28933e4b17bb","type":"message","text":"just `(void)` no `*`","user":"U674T3KB3","ts":"1609888136.265600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5tFiu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just "},{"type":"text","text":"(void)","style":{"code":true}},{"type":"text","text":" no "},{"type":"text","text":"*","style":{"code":true}}]}]}]},{"client_msg_id":"3e1097ce-6bb1-4a4a-8603-922c7b217d90","type":"message","text":"ah ofc","user":"U67BJLYCS","ts":"1609888463.265900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"S/pQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah ofc"}]}]}]},{"client_msg_id":"eaa78e53-a901-410f-84f1-5a2461fee53d","type":"message","text":"Is this supposed to work?\n```julia&gt; f(x) = Core._apply(hypot, (x,), (1, x), 1, x, (1, 2))\nf (generic function with 1 method)\n\njulia&gt; f(1.)\nERROR: BoundsError: attempt to access Nothing at index [1]\nStacktrace:\n [1] f(x::Float64)\n   @ Main ./REPL[1]:1\n [2] top-level scope\n   @ REPL[2]:1```\nI didn't know `_apply` even accepted more than 2 arguments.","user":"UM30MT6RF","ts":"1609897172.266900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"sNE","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is this supposed to work?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> f(x) = Core._apply(hypot, (x,), (1, x), 1, x, (1, 2))\nf (generic function with 1 method)\n\njulia> f(1.)\nERROR: BoundsError: attempt to access Nothing at index [1]\nStacktrace:\n [1] f(x::Float64)\n   @ Main ./REPL[1]:1\n [2] top-level scope\n   @ REPL[2]:1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't know "},{"type":"text","text":"_apply","style":{"code":true}},{"type":"text","text":" even accepted more than 2 arguments."}]}]}]},{"client_msg_id":"2079602b-65c0-4e2d-90ff-e5ee9522acd4","type":"message","text":"Sure, that’s just `hypot(x, 1, x, 1..., x..., 1, 2)`","user":"U67BXBF99","ts":"1609897999.267300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mErCQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Sure, that’s just "},{"type":"text","text":"hypot(x, 1, x, 1..., x..., 1, 2)","style":{"code":true}}]}]}]},{"client_msg_id":"14c850f7-0634-4a95-9045-284d513e0f04","type":"message","text":"Ah, thanks! Will open an issue","user":"UM30MT6RF","ts":"1609898060.267600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LwPh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ah, thanks! Will open an issue"}]}]}]},{"client_msg_id":"dba56c79-73cf-49c4-a37a-fc32e92b1d06","type":"message","text":"the optimizer is clearly very confused:","user":"U67BXBF99","ts":"1609898214.267900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2MIL","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the optimizer is clearly very confused:"}]}]}]},{"client_msg_id":"3337bce5-0717-42e8-8153-aa3a9736a99e","type":"message","text":"```julia&gt; @code_typed f(1.)\nCodeInfo(\n     @ REPL[3]:1 within `f'\n1 ── %1  = Main.hypot::Core.Const(hypot)\n│    %2  = (isa)(%1, typeof(iterate))::Bool```","user":"U67BXBF99","ts":"1609898217.268100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"YPj1L","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @code_typed f(1.)\nCodeInfo(\n     @ REPL[3]:1 within `f'\n1 ── %1  = Main.hypot::Core.Const(hypot)\n│    %2  = (isa)(%1, typeof(iterate))::Bool"}]}]}]},{"client_msg_id":"f7360715-40d1-41f4-876b-f01a8214589a","type":"message","text":"probably assumes incorrectly you're using _apply_iterate","user":"U674T3KB3","ts":"1609898261.268600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x4uT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"probably assumes incorrectly you're using _apply_iterate"}]}]}]},{"client_msg_id":"aa257d56-8b84-4430-ac5b-3502aa5caa57","type":"message","text":"Note however that method is deprecated:","user":"U67BXBF99","ts":"1609898262.268700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ns/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Note however that method is deprecated:"}]}]}]},{"client_msg_id":"2e554f97-8500-4dc7-af44-4cc4a341712c","type":"message","text":"```f(x) = Core._apply_iterate(iterate, hypot, (x,), (1, x), 1, x, (1, 2))```","user":"U67BXBF99","ts":"1609898265.269000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/haj","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"f(x) = Core._apply_iterate(iterate, hypot, (x,), (1, x), 1, x, (1, 2))"}]}]}]},{"client_msg_id":"8dfffb18-efca-4f03-bb87-5dded30c20b8","type":"message","text":"this works","user":"U67BXBF99","ts":"1609898268.269200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Ln","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this works"}]}]}]},{"client_msg_id":"580b4967-2bbe-4eb0-afe3-27466e0f9266","type":"message","text":"Yes, problem seems to be iteration of scalars (probably also other iterators):\n```julia&gt; f(x) = Core._apply(-, x)\nf (generic function with 1 method)\n\njulia&gt; f(1)\nERROR: BoundsError: attempt to access Nothing at index [1]\nStacktrace:\n [1] f(x::Int64)\n   @ Main ./REPL[3]:1\n [2] top-level scope\n   @ REPL[4]:1```","user":"UM30MT6RF","ts":"1609898334.270000","team":"T68168MUP","edited":{"user":"UM30MT6RF","ts":"1609898352.000000"},"blocks":[{"type":"rich_text","block_id":"APS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yes, problem seems to be iteration of scalars (probably also other iterators):\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> f(x) = Core._apply(-, x)\nf (generic function with 1 method)\n\njulia> f(1)\nERROR: BoundsError: attempt to access Nothing at index [1]\nStacktrace:\n [1] f(x::Int64)\n   @ Main ./REPL[3]:1\n [2] top-level scope\n   @ REPL[4]:1"}]}]}]},{"client_msg_id":"bffba2dc-6452-428c-8d92-849746e20275","type":"message","text":"No, I think just `Number`s are the problem","user":"UM30MT6RF","ts":"1609898483.270700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bw9Yg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No, I think just `Number`s are the problem"}]}]}]},{"client_msg_id":"13fd62c2-06d1-4b55-a26c-0adb67935119","type":"message","text":"The emitted code looks badly corrupt","user":"U67BXBF99","ts":"1609899026.271000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r+9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The emitted code looks badly corrupt"}]}]}]},{"client_msg_id":"5043f5b1-43ff-4ebb-87be-4e6945d0eb2e","type":"message","text":"<@U674T3KB3> are you okay with me removing it and replacing with `Core._apply(x...) = Core._apply_iterate(Base.iterate, x...)`?","user":"U67BXBF99","ts":"1609900515.272200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ui/","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U674T3KB3"},{"type":"text","text":" are you okay with me removing it and replacing with "},{"type":"text","text":"Core._apply(x...) = Core._apply_iterate(Base.iterate, x...)","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"020d2d89-5eda-4c3c-9424-fb11591392c7","type":"message","text":"I assume the fix is not hard, but not sure it is worthwhile","user":"U67BXBF99","ts":"1609900542.272600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"m54","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I assume the fix is not hard, but not sure it is worthwhile"}]}]}]},{"client_msg_id":"81fd75d8-3a83-40ec-96a8-23660c6f6e34","type":"message","text":"I think that would be fine, but should probably PkgEval it to see if anybody relies on it being Builtin","user":"U674T3KB3","ts":"1609900561.273000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QqtT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that would be fine, but should probably PkgEval it to see if anybody relies on it being Builtin"}]}]}]},{"client_msg_id":"792f7810-01a5-4ac9-b762-2bb8decfb7d4","type":"message","text":"`julia&gt; @eval Core Main = 3`","user":"U67BXBF99","ts":"1609902784.273300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"9oD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"julia> @eval Core Main = 3","style":{"code":true}}]}]}]},{"client_msg_id":"acc07db0-fd57-4952-8e40-42a4e570fab5","type":"message","text":"(btw, don’t run this, it’ll cause Julia to deadlock)","user":"U67BXBF99","ts":"1609902797.273600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uMmJv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(btw, don’t run this, it’ll cause Julia to deadlock)"}]}]}]},{"client_msg_id":"7939df1b-722c-4679-a9f1-a4a1e3a0b8b2","type":"message","text":"<@U67BXBF99> I can’t follow the link here. Do you think this caused the hang and/or the failure to grab an rr trace?\n<https://github.com/JuliaLang/julia/pull/38915#issuecomment-755600074>","user":"U8MPCDJAY","ts":"1609965044.274800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xay3","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67BXBF99"},{"type":"text","text":" I can’t follow the link here. Do you think this caused the hang and/or the failure to grab an rr trace?\n"},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/38915#issuecomment-755600074"}]}]}]},{"client_msg_id":"155CAC02-BC53-4C14-9961-CF620B1358EE","type":"message","text":"Buildbot shouldnt be hidden?","user":"U67BXBF99","ts":"1609965856.275300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yat+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Buildbot shouldnt be hidden?"}]}]}]},{"client_msg_id":"E3DF6DA2-F34C-4157-B430-C6FEE5581469","type":"message","text":"Nah, it just makes julia go read invalid memory, but it’s old","user":"U67BXBF99","ts":"1609965876.276000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1sxZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nah, it just makes julia go read invalid memory, but it’s old"}]}]}]},{"client_msg_id":"1ddb895a-cca2-477a-bf0d-6c49d70bbb47","type":"message","text":"but only on linux64 it seems?","user":"U8MPCDJAY","ts":"1609966396.276300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6yG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but only on linux64 it seems?"}]}]}]},{"client_msg_id":"98b84196-ab4f-4e08-a535-10da21497dcf","type":"message","text":"only place we run it","user":"U67BXBF99","ts":"1609967438.276500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"U5F4J","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"only place we run it"}]}]}]},{"client_msg_id":"2f2f1c9f-cfa0-4b5c-b6b1-6638f5730bd6","type":"message","text":"oh, you mean the rr failure?","user":"U8MPCDJAY","ts":"1609967481.276800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"voh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, you mean the rr failure?"}]}]}]},{"client_msg_id":"cafa109e-033a-499a-9005-e7e195871c93","type":"message","text":"probably fair to say I’m lost..","user":"U8MPCDJAY","ts":"1609967531.277400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PQCW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"probably fair to say I’m lost.."}]}]}]},{"client_msg_id":"5d691a28-2e92-4917-82cc-6e748b47035f","type":"message","text":"the link takes a minute to load, but you should be able to see it","user":"U67BXBF99","ts":"1609967559.277700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ij4Z","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"the link takes a minute to load, but you should be able to see it"}]}]}],"reactions":[{"name":"link","users":["U680THK2S"],"count":1}]},{"client_msg_id":"b90bb3fc-c803-4752-af87-84af473b2e4b","type":"message","text":"uh.. damn, yeah the new `try` block has made any assignment local\n```julia&gt; @time x = 1\n  0.000001 seconds\n1\n\njulia&gt; x\nERROR: UndefVarError: x not defined```","user":"U8MPCDJAY","ts":"1609968318.278400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AZbqY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"uh.. damn, yeah the new "},{"type":"text","text":"try","style":{"code":true}},{"type":"text","text":" block has made any assignment local\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @time x = 1\n  0.000001 seconds\n1\n\njulia> x\nERROR: UndefVarError: x not defined"}]}]}],"thread_ts":"1609968318.278400","reply_count":23,"reply_users_count":3,"latest_reply":"1609971594.289500","reply_users":["UCZ7VBGUD","U8MPCDJAY","U67BXBF99"],"subscribed":false,"reactions":[{"name":"grimacing","users":["U7THT3TM3","UCZ7VBGUD","U6788D83U"],"count":3}]},{"client_msg_id":"54e0a765-1508-4e82-8342-50b72d92e339","type":"message","text":"`@time` needs more tests","user":"U8MPCDJAY","ts":"1609968333.278700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JEnst","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"@time","style":{"code":true}},{"type":"text","text":" needs more tests"}]}]}]},{"client_msg_id":"98cfa0c3-6682-4a7a-96dd-b2853cf47ca8","type":"message","text":"is there a way to make an assignment in a try not local?\n```local val = try\n    $(esc(ex))\nfinally\n   ...\nend```","user":"U8MPCDJAY","ts":"1609968463.279600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ELTz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a way to make an assignment in a try not local?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"local val = try\n    $(esc(ex))\nfinally\n   ...\nend"}]}]}]},{"client_msg_id":"becedbd7-0cd9-41ea-aeef-f2ac4992c04e","type":"message","text":"or a non-try way to have a `finally`?","user":"U8MPCDJAY","ts":"1609968500.280000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dfb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"or a non-try way to have a "},{"type":"text","text":"finally","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"3272a598-7c85-4fdb-8f88-1fdb3a9fce38","type":"message","text":"I could throw a `global` infront of the ex but if there’s no assignment that would error, and make the scope messy","user":"U8MPCDJAY","ts":"1609968719.281000","team":"T68168MUP","edited":{"user":"U8MPCDJAY","ts":"1609969314.000000"},"blocks":[{"type":"rich_text","block_id":"t5VXz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I could throw a "},{"type":"text","text":"global","style":{"code":true}},{"type":"text","text":" infront of the ex but if there’s no assignment that would error, and make the scope messy"}]}]}]},{"type":"message","subtype":"thread_broadcast","text":"Seems to be a fix: <https://github.com/JuliaLang/julia/pull/39133>","user":"U8MPCDJAY","ts":"1609971594.289500","thread_ts":"1609968318.278400","root":{"client_msg_id":"b90bb3fc-c803-4752-af87-84af473b2e4b","type":"message","text":"uh.. damn, yeah the new `try` block has made any assignment local\n```julia&gt; @time x = 1\n  0.000001 seconds\n1\n\njulia&gt; x\nERROR: UndefVarError: x not defined```","user":"U8MPCDJAY","ts":"1609968318.278400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AZbqY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"uh.. damn, yeah the new "},{"type":"text","text":"try","style":{"code":true}},{"type":"text","text":" block has made any assignment local\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> @time x = 1\n  0.000001 seconds\n1\n\njulia> x\nERROR: UndefVarError: x not defined"}]}]}],"thread_ts":"1609968318.278400","reply_count":23,"reply_users_count":3,"latest_reply":"1609971594.289500","reply_users":["UCZ7VBGUD","U8MPCDJAY","U67BXBF99"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"4qF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Seems to be a fix: "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39133"}]}]}],"client_msg_id":"f476cce3-571e-4fd8-ba83-dd3aabee0d8d"},{"type":"message","subtype":"thread_broadcast","text":"<https://github.com/JuliaLang/julia/pull/39133#issuecomment-755927269> I think","user":"U67D54KS8","ts":"1610003486.290300","thread_ts":"1609968463.279600","root":{"client_msg_id":"98cfa0c3-6682-4a7a-96dd-b2853cf47ca8","type":"message","text":"is there a way to make an assignment in a try not local?\n```local val = try\n    $(esc(ex))\nfinally\n   ...\nend```","user":"U8MPCDJAY","ts":"1609968463.279600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ELTz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a way to make an assignment in a try not local?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"local val = try\n    $(esc(ex))\nfinally\n   ...\nend"}]}]}],"thread_ts":"1609968463.279600","reply_count":1,"reply_users_count":1,"latest_reply":"1610003486.290300","reply_users":["U67D54KS8"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"u4qZF","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39133#issuecomment-755927269"},{"type":"text","text":" I think"}]}]}],"client_msg_id":"351bc671-440e-42ef-bbec-6d92b89d2627"},{"client_msg_id":"907b4d6e-6ab3-4af5-898a-74fc97760a6f","type":"message","text":"that’s entertaining","user":"U67BXBF99","ts":"1610034029.290700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Pjtb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that’s entertaining"}]}]}]},{"client_msg_id":"c0e47330-7e3f-48fd-a4e9-ec1a4f322d2f","type":"message","text":"yeah, that’s a neat trick! <https://github.com/JuliaLang/julia/pull/39138>","user":"U8MPCDJAY","ts":"1610036782.290900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iWFg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah, that’s a neat trick! "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39138"}]}]}]},{"client_msg_id":"f301451e-9d39-4548-8187-da923c9d0c4d","type":"message","text":"It might be fun to create a `@noscope` macro for each of them","user":"U67BXBF99","ts":"1610037156.291600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Vq+O","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It might be fun to create a "},{"type":"text","text":"@noscope","style":{"code":true}},{"type":"text","text":" macro for each of them"}]}]}],"reactions":[{"name":"ok_hand","users":["U8MPCDJAY"],"count":1},{"name":"three","users":["U680THK2S"],"count":1},{"name":"six","users":["U680THK2S"],"count":1},{"name":"zero","users":["U680THK2S"],"count":1}]},{"client_msg_id":"c166de97-5a0e-43fd-93eb-810bf87c8f67","type":"message","text":"```outer for outer x = 1:10\n   y = x\nend```","user":"U67BXBF99","ts":"1610037264.292200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SW7Y","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"outer for outer x = 1:10\n   y = x\nend"}]}]}]},{"client_msg_id":"3ef34ab0-e54a-4c0b-9d60-b578e0a14b15","type":"message","text":"any LLVM patches to pickup for the next Yggdrasil bump?","user":"U67BJLYCS","ts":"1610076595.293800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gs5b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"any LLVM patches to pickup for the next Yggdrasil bump?"}]}]}]},{"client_msg_id":"4fc678e4-0b3e-40f1-977f-0ba6e6cf9a5d","type":"message","text":"Also this:","user":"U67BJLYCS","ts":"1610078977.294000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1dKF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also this:"}]}]}]},{"client_msg_id":"87324554-e141-422d-af29-a1848cd7212e","type":"message","text":"```    JULIA /home/vchuravy/builds/julia/usr/lib/julia/sys-o.a\nERROR: LoadError: AssertionError: 0 &lt; tid &lt;= length(THREAD_RNGs)\nStacktrace:\n  [1] _rng_length_assert()\n    @ Random ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:381\n  [2] default_rng(tid::Int64)\n    @ Random ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:372\n  [3] default_rng\n    @ ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:370 [inlined]\n  [4] rand\n    @ ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/Random.jl:259 [inlined]\n  [5] _rand_string()\n    @ Base.Filesystem ./file.jl:583\n  [6] tempname(parent::String; cleanup::Bool)\n    @ Base.Filesystem ./file.jl:601\n  [7] tempname\n    @ ./file.jl:594 [inlined]\n  [8] (::Main.anonymous.var\"#1#5\"{Set{String}, String})(prec_path::String)\n    @ Main.anonymous ~/src/julia/contrib/generate_precompile.jl:206\n  [9] mktempdir(fn::Main.anonymous.var\"#1#5\"{Set{String}, String}, parent::String; prefix::String)\n    @ Base.Filesystem ./file.jl:757\n [10] mktempdir\n    @ ./file.jl:755 [inlined]\n [11] generate_precompile_statements()\n    @ Main.anonymous ~/src/julia/contrib/generate_precompile.jl:196\n [12] top-level scope\n    @ ~/src/julia/contrib/generate_precompile.jl:349\n [13] eval(m::Module, e::Any)\n    @ Core ./boot.jl:369\n [14] top-level scope\n    @ ~/src/julia/contrib/generate_precompile.jl:6\nin expression starting at /home/vchuravy/src/julia/contrib/generate_precompile.jl:3\n*** This error is usually fixed by running `make clean`. If the error persists, try `make cleanall`. ***\nmake[1]: *** [/home/vchuravy/src/julia/sysimage.mk:86: /home/vchuravy/builds/julia/usr/lib/julia/sys-o.a] Error 1\nmake: *** [/home/vchuravy/src/julia/Makefile:88: julia-sysimg-release] Error 2```","user":"U67BJLYCS","ts":"1610078983.294300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xoAy","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"    JULIA /home/vchuravy/builds/julia/usr/lib/julia/sys-o.a\nERROR: LoadError: AssertionError: 0 < tid <= length(THREAD_RNGs)\nStacktrace:\n  [1] _rng_length_assert()\n    @ Random ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:381\n  [2] default_rng(tid::Int64)\n    @ Random ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:372\n  [3] default_rng\n    @ ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/RNGs.jl:370 [inlined]\n  [4] rand\n    @ ~/builds/julia/usr/share/julia/stdlib/v1.7/Random/src/Random.jl:259 [inlined]\n  [5] _rand_string()\n    @ Base.Filesystem ./file.jl:583\n  [6] tempname(parent::String; cleanup::Bool)\n    @ Base.Filesystem ./file.jl:601\n  [7] tempname\n    @ ./file.jl:594 [inlined]\n  [8] (::Main.anonymous.var\"#1#5\"{Set{String}, String})(prec_path::String)\n    @ Main.anonymous ~/src/julia/contrib/generate_precompile.jl:206\n  [9] mktempdir(fn::Main.anonymous.var\"#1#5\"{Set{String}, String}, parent::String; prefix::String)\n    @ Base.Filesystem ./file.jl:757\n [10] mktempdir\n    @ ./file.jl:755 [inlined]\n [11] generate_precompile_statements()\n    @ Main.anonymous ~/src/julia/contrib/generate_precompile.jl:196\n [12] top-level scope\n    @ ~/src/julia/contrib/generate_precompile.jl:349\n [13] eval(m::Module, e::Any)\n    @ Core ./boot.jl:369\n [14] top-level scope\n    @ ~/src/julia/contrib/generate_precompile.jl:6\nin expression starting at /home/vchuravy/src/julia/contrib/generate_precompile.jl:3\n*** This error is usually fixed by running `make clean`. If the error persists, try `make cleanall`. ***\nmake[1]: *** [/home/vchuravy/src/julia/sysimage.mk:86: /home/vchuravy/builds/julia/usr/lib/julia/sys-o.a] Error 1\nmake: *** [/home/vchuravy/src/julia/Makefile:88: julia-sysimg-release] Error 2"}]}]}]},{"client_msg_id":"83da5b70-5866-41ad-996d-1f5106487eee","type":"message","text":"ah they are not setup yet","user":"U67BJLYCS","ts":"1610079188.294600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dSY1T","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah they are not setup yet"}]}]}]},{"client_msg_id":"95690e2c-8218-4059-a98c-168bb8c93a9a","type":"message","text":"I don’t have any leads, but it would be good to root out this internal-looking windows bug for 1.6, otherwise we may need to do something like halve the number of `Pkg.precompile` tasks on windows by default <https://github.com/JuliaLang/Pkg.jl/issues/2323>","user":"U8MPCDJAY","ts":"1610343219.300000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OijBK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don’t have any leads, but it would be good to root out this internal-looking windows bug for 1.6, otherwise we may need to do something like halve the number of "},{"type":"text","text":"Pkg.precompile","style":{"code":true}},{"type":"text","text":" tasks on windows by default "},{"type":"link","url":"https://github.com/JuliaLang/Pkg.jl/issues/2323"}]}]}]},{"type":"message","text":"How do you find the cause of error when you're developing something in Base and a sysimage fails to compile? I've been commenting out all the new code and uncommenting chunk by chunk until I find the broken line, but I'm sure there's a better way. For example I get this error, which seems completely unrelated as I haven't touched toml_parser.jl or version.jl.","files":[{"id":"F01JKBLA4RH","created":1610482465,"timestamp":1610482465,"name":"Untitled","title":"Untitled","mimetype":"text/plain","filetype":"text","pretty_type":"Plain Text","user":"UC81ESVH6","editable":true,"size":5494,"mode":"snippet","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01JKBLA4RH/untitled","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01JKBLA4RH/download/untitled","permalink":"https://julialang.slack.com/files/UC81ESVH6/F01JKBLA4RH/untitled","permalink_public":"https://slack-files.com/T68168MUP-F01JKBLA4RH-25d4090bf2","edit_link":"https://julialang.slack.com/files/UC81ESVH6/F01JKBLA4RH/untitled/edit","preview":"    JULIA usr/lib/julia/sys.ji\ncoreio.jl\nexports.jl\nessentials.jl\nctypes.jl","preview_highlight":"<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text/plain',window.getSelection().toString().replace(/\\u200b/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>    JULIA usr/lib/julia/sys.ji</pre></div>\n<div><pre>coreio.jl</pre></div>\n<div><pre>exports.jl</pre></div>\n<div><pre>essentials.jl</pre></div>\n<div><pre>ctypes.jl</pre></div>\n</div>\n</div>\n","lines":228,"lines_more":223,"preview_is_truncated":true,"is_starred":false,"has_rich_preview":false}],"upload":true,"blocks":[{"type":"rich_text","block_id":"KYbJ4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How do you find the cause of error when you're developing something in Base and a sysimage fails to compile? I've been commenting out all the new code and uncommenting chunk by chunk until I find the broken line, but I'm sure there's a better way. For example I get this error, which seems completely unrelated as I haven't touched toml_parser.jl or version.jl."}]}]}],"user":"UC81ESVH6","display_as_bot":false,"ts":"1610482467.302400","edited":{"user":"UC81ESVH6","ts":"1610482478.000000"},"client_msg_id":"15e94196-0346-464c-912c-42080caad3f4","thread_ts":"1610482467.302400","reply_count":5,"reply_users_count":2,"latest_reply":"1610483078.304400","reply_users":["UM30MT6RF","UC81ESVH6"],"subscribed":false},{"client_msg_id":"ef1bc05b-f2dc-4c31-814e-f51600f5753f","type":"message","text":"Most people use Revise.jl until they’ve gotten their work functional","user":"U67BXBF99","ts":"1610482594.303400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QS7G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Most people use Revise.jl until they’ve gotten their work functional"}]}]}]},{"client_msg_id":"42a0cae8-bfeb-44c7-98fa-1ae1dc739868","type":"message","text":"from mailing-list chatter it seems like LLVM will switch to the new pass manager for LLVM 13 (maybe even LLVM 12, but that seems not yet likely)","user":"U67BJLYCS","ts":"1610487274.305700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yNIJx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"from mailing-list chatter it seems like LLVM will switch to the new pass manager for LLVM 13 (maybe even LLVM 12, but that seems not yet likely)"}]}]}]},{"client_msg_id":"d22f61ee-f4b9-42a4-bfca-a7583dfd856d","type":"message","text":"yay!","user":"U67BXBF99","ts":"1610494616.306100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FZq","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yay!"}]}]}]}]}