{"cursor": 0, "messages": [{"client_msg_id":"a46ee816-19d8-43a0-8cc2-45547fbc4395","type":"message","text":"It's small data, but it's still surprising to me how fast this is:\n```julia&gt; m\n@model X begin\n        β ~ Normal() |&gt; iid(size(X, 2))\n        y ~ For(eachrow(X)) do x\n                Normal(x' * β, 1)\n            end\n        return y\n    end\n\n\njulia&gt; size(X)\n(20, 2)\n\njulia&gt; @btime dynamicHMC($(m(X=X) | (;y)));\n  61.764 ms (1170412 allocations: 49.26 MiB)```\nThis takes 1000 samples. There's no symbolic stuff here, the big gain in speed is just from MeasureTheory. And we still have way too many allocations, so I think this will get better still.","user":"U81PB6N77","ts":"1612913937.002100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zFQ5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's small data, but it's still surprising to me how fast this is:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> m\n@model X begin\n        β ~ Normal() |> iid(size(X, 2))\n        y ~ For(eachrow(X)) do x\n                Normal(x' * β, 1)\n            end\n        return y\n    end\n\n\njulia> size(X)\n(20, 2)\n\njulia> @btime dynamicHMC($(m(X=X) | (;y)));\n  61.764 ms (1170412 allocations: 49.26 MiB)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nThis takes 1000 samples. There's no symbolic stuff here, the big gain in speed is just from MeasureTheory. And we still have way too many allocations, so I think this will get better still."}]}]}],"reactions":[{"name":"+1","users":["U7THT3TM3"],"count":1}]},{"client_msg_id":"23ECE960-1A3F-4262-998C-D8652558FDE9","type":"message","text":"Really curious to hear if there are any plans to use the new Symbolics.jl in Soss??","user":"U6LMK53QC","ts":"1614626754.001200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZK0v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Really curious to hear if there are any plans to use the new Symbolics.jl in Soss??"}]}]}]},{"client_msg_id":"94de6e3a-c6d5-4cdd-84a4-32e7065a810a","type":"message","text":"We'll definitely want symbolics. The `dev` branch is kind of bursting at the seams, need to get that into master. In that branch we already use `SymbolicUtils`, like this:\n<https://informativeprior.com/blog/2021/01-25-symbolic-simplification/>\n\nI'm excited about what's on the way with `Symbolic`, and also with `MetaTheory.jl`. It's not clear yet exactly how the pieces will come together.","user":"U81PB6N77","ts":"1614626955.003700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yfzPe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We'll definitely want symbolics. The "},{"type":"text","text":"dev","style":{"code":true}},{"type":"text","text":" branch is kind of bursting at the seams, need to get that into master. In that branch we already use "},{"type":"text","text":"SymbolicUtils","style":{"code":true}},{"type":"text","text":", like this:\n"},{"type":"link","url":"https://informativeprior.com/blog/2021/01-25-symbolic-simplification/"},{"type":"text","text":"\n\nI'm excited about what's on the way with "},{"type":"text","text":"Symbolic","style":{"code":true}},{"type":"text","text":", and also with "},{"type":"text","text":"MetaTheory.jl","style":{"code":true}},{"type":"text","text":". It's not clear yet exactly how the pieces will come together."}]}]}],"reactions":[{"name":"+1","users":["U6LMK53QC"],"count":1}]},{"client_msg_id":"221c6d13-e212-4c16-9097-d6528bb0dbd8","type":"message","text":"A lot of the benefits here come from MeasureTheory.jl, which is much more symbolic- and AD-friendly than Distributions","user":"U81PB6N77","ts":"1614627029.004500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gfjG+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A lot of the benefits here come from MeasureTheory.jl, which is much more symbolic- and AD-friendly than Distributions"}]}]}]},{"client_msg_id":"D4C38B0A-AA8A-486B-B2B0-037B0DF72980","type":"message","text":"Oh okay so you’re basically already using Julia to do this? I had thought you were using SymPy","user":"U6LMK53QC","ts":"1614627171.005800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZR550","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh okay so you’re basically already using Julia to do this? I had thought you were using SymPy"}]}]}]},{"client_msg_id":"5901ff0b-1f7b-4075-afdc-731449053ef6","type":"message","text":"We dropped SymPy a while back. The current approach works but isn't very robust. One thing we're doing differently is that every symbolic subexpression has a type. Symbolics and MetaTheory don't yet do much along these lines","user":"U81PB6N77","ts":"1614627281.007500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"=XRC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We dropped SymPy a while back. The current approach works but isn't very robust. One thing we're doing differently is that every symbolic subexpression has a type. Symbolics and MetaTheory don't yet do much along these lines"}]}]}]},{"client_msg_id":"33B7638C-8A43-4415-9BAD-EED9BB2A6581","type":"message","text":"I hadn’t heard of MetaTheory. Really cool stuff.","user":"U6LMK53QC","ts":"1614627805.008200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Zg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I hadn’t heard of MetaTheory. Really cool stuff."}]}]}],"reactions":[{"name":"+1","users":["U81PB6N77"],"count":1}]},{"client_msg_id":"e27569fc-4850-412d-bdf5-ba2f21cf1945","type":"message","text":"Yeah I think there's a ton of potential in e-graphs, current limitation I'm aware of is that there's no type information associated","user":"U81PB6N77","ts":"1614629079.009400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CfR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah I think there's a ton of potential in e-graphs, current limitation I'm aware of is that there's no type information associated"}]}]}]},{"client_msg_id":"a303376c-9be0-4b77-950c-8e51bd6eb829","type":"message","text":"BTW I'd be interested to hear about your experience with Soss. Use cases, good experiences, pain points, etc :slightly_smiling_face:","user":"U81PB6N77","ts":"1614629312.010700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7gbAm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"BTW I'd be interested to hear about your experience with Soss. Use cases, good experiences, pain points, etc "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"63A67DAE-5F4D-46F8-93F5-D948A7AD4916","type":"message","text":"To be honest I haven’t spent a lot of time with it yet. Just watching more from the outside. I’ve been spending time learning Stan recently. I’ll make sure to update you once I use Soss more and have some comments though.","user":"U6LMK53QC","ts":"1614630499.013300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Scn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"To be honest I haven’t spent a lot of time with it yet. Just watching more from the outside. I’ve been spending time learning Stan recently. I’ll make sure to update you once I use Soss more and have some comments though."}]}]}],"reactions":[{"name":"+1","users":["U81PB6N77"],"count":1}]}]}