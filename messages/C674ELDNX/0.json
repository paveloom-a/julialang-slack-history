{"cursor": 0, "messages": [{"client_msg_id":"904482a4-88ad-4507-b643-8323ee194d1f","type":"message","text":"~Should people use BinaryBuilder#master or the released version?~ Ok, going with the released version, master has some dependency problems.","user":"UCTJ1TGBV","ts":"1608282313.115200","team":"T68168MUP","edited":{"user":"UCTJ1TGBV","ts":"1608282712.000000"},"blocks":[{"type":"rich_text","block_id":"pFwD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Should people use BinaryBuilder#master or the released version? ","style":{"strike":true}},{"type":"text","text":"Ok, going with the released version, master has some dependency problems."}]}]}]},{"client_msg_id":"5512289d-8511-4596-9ec9-56dbca95cbec","type":"message","text":"for Yggdrasil, you need to use the master version of BB together with nightly / master version of Julia","user":"U012FH66MFW","ts":"1608283710.115800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"u9Yi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for Yggdrasil, you need to use the master version of BB together with nightly / master version of Julia"}]}]}]},{"client_msg_id":"c01e6fcd-f523-41ab-a304-ea2a789e52a7","type":"message","text":"<@UCTJ1TGBV> Well, at least assuming you want to in the end publish a JLL to Yggdrasil. The thing is, this uses a recent BB dev snapshot, which in turn requires features from Julia 1.6. So you need to go get yourself a nightly build of Julia (download one or compile from git sources). Then you can run `julia-nightly --project=PATH/TO/Yggdrasil/.ci` and the first time around, run `Pkg.instantiate()` and then you should be able to use the environment (which will ensure you are testing in setup that is close to what you will see on Yggdrasil).","user":"U012FH66MFW","ts":"1608283863.118700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Qm2","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UCTJ1TGBV"},{"type":"text","text":" Well, at least assuming you want to in the end publish a JLL to Yggdrasil. The thing is, this uses a recent BB dev snapshot, which in turn requires features from Julia 1.6. So you need to go get yourself a nightly build of Julia (download one or compile from git sources). Then you can run "},{"type":"text","text":"julia-nightly --project=PATH/TO/Yggdrasil/.ci","style":{"code":true}},{"type":"text","text":" and the first time around, run "},{"type":"text","text":"Pkg.instantiate()","style":{"code":true}},{"type":"text","text":" and then you should be able to use the environment (which will ensure you are testing in setup that is close to what you will see on Yggdrasil)."}]}]}]},{"client_msg_id":"d98a0049-2dd0-49d5-a369-ee77f4daf3c2","type":"message","text":"(I don't think BinaryBuilder works on Julia nightly)","user":"UDB26738Q","ts":"1608284032.119700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mizBX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"(I don't think BinaryBuilder works on Julia nightly)"}]}]}],"thread_ts":"1608284032.119700","reply_count":4,"reply_users_count":2,"latest_reply":"1608287076.122900","reply_users":["U012FH66MFW","UDB26738Q"],"subscribed":false},{"client_msg_id":"b003403e-a413-482d-bc1f-840a8a287d52","type":"message","text":"I tried BinaryBuilder#master on the  1.6 release branch (9 days old master), but there arose a BinaryBuilderBase dependency problem\n```   Resolving package versions...\nERROR: Unsatisfiable requirements detected for package BinaryBuilderBase [7f725544]:\n BinaryBuilderBase [7f725544] log:\n ├─possible versions are: 0.1.0-0.4.1 or uninstalled\n └─restricted to versions 0.5 by BinaryBuilder [12aac903] — no versions left\n   └─BinaryBuilder [12aac903] log:\n     ├─possible versions are: 0.3.0 or uninstalled\n     └─BinaryBuilder [12aac903] is fixed to version 0.3.0```","user":"UCTJ1TGBV","ts":"1608284365.120900","team":"T68168MUP","edited":{"user":"UCTJ1TGBV","ts":"1608284420.000000"},"blocks":[{"type":"rich_text","block_id":"BjD","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I tried BinaryBuilder#master on the  1.6 release branch (9 days old master), but there arose a BinaryBuilderBase dependency problem\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"   Resolving package versions...\nERROR: Unsatisfiable requirements detected for package BinaryBuilderBase [7f725544]:\n BinaryBuilderBase [7f725544] log:\n ├─possible versions are: 0.1.0-0.4.1 or uninstalled\n └─restricted to versions 0.5 by BinaryBuilder [12aac903] — no versions left\n   └─BinaryBuilder [12aac903] log:\n     ├─possible versions are: 0.3.0 or uninstalled\n     └─BinaryBuilder [12aac903] is fixed to version 0.3.0"}]}]}],"thread_ts":"1608284365.120900","reply_count":3,"reply_users_count":2,"latest_reply":"1608286824.122600","reply_users":["UDB26738Q","UCTJ1TGBV"],"subscribed":false},{"client_msg_id":"7a39407d-e3c2-4975-99cb-c20a6553839b","type":"message","text":"and a few days after Qt, also GTK has got its major release: <https://github.com/JuliaGraphics/Gtk.jl/issues/540>","user":"UDB26738Q","ts":"1608288499.123500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uR2n","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and a few days after Qt, also GTK has got its major release: "},{"type":"link","url":"https://github.com/JuliaGraphics/Gtk.jl/issues/540"}]}]}]},{"client_msg_id":"865ea670-7177-4835-8c11-a534e80f6c2f","type":"message","text":"and GNOME decided to jump from v3.38 to v40: <https://discourse.gnome.org/t/new-gnome-versioning-scheme/4235>","user":"UDB26738Q","ts":"1608292882.124100","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1608292887.000000"},"blocks":[{"type":"rich_text","block_id":"KDP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and GNOME decided to jump from v3.38 to v40: "},{"type":"link","url":"https://discourse.gnome.org/t/new-gnome-versioning-scheme/4235"}]}]}]},{"client_msg_id":"ea397247-fbaa-44c3-8b4e-84ae48b93473","type":"message","text":"Exponential versioning","user":"U6N6VQE30","ts":"1608293334.128200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mmpe6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Exponential versioning"}]}]}],"reactions":[{"name":"exponential","users":["UDB26738Q","U9MED583T"],"count":2}]},{"client_msg_id":"75a931fd-496d-41fe-b47e-5166cd512dc8","type":"message","text":"v3e38","user":"U6N6VQE30","ts":"1608293365.129100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lC=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"v3e38"}]}]}]},{"client_msg_id":"3fb3e60a-0975-477e-8931-1bc078ff8ed7","type":"message","text":"so, we now need to update FLINT_jll from 2.6 to 2.7. Unfortunately that means a new SONAME, and so we'll also have to update the JLLs for arb, antic, normaliz, singular, (and then possibly also libsingular_julia), polymake, (and then possibly also libpolymake_julia). Anyway, I've now come up with this idea, and wanted to air it here in the hopes that <@UDB26738Q> <@U66GD0880> <@U01CH05FTMM> <@U85R3JJ8L> etc. will tell me whether I am crazy or not :wink:. The idea is to imitate the approach taken by LLVM_full_jll and the derived JLLs:  I would make a single big Oscar_jll which builds and installs all of the above. Then the new FLINT_jll, Arb_jll, etc. build recipes would download a specific version of Oscar_jll, and copy from it the parts they need.   This has multiple advantages:\n1. instead of having to make ~N (for N = number of involved JLLs) staggered PRs (in practice over several days or even weeks) a total of two PRs suffice to update everything\n2. *testing* of updates is _much_ easier: I submit a draft update to Oscar_jll; then download the archive it produces and then can use it as override for FLINT_jll, arb_jll etc. simultaneously, and can test with that\n3. if I notice an issue in the testing step, I just revise my single Oscar_jll PR, until all is good. (Right now, it can happen that after say 5 of the N PRs are merged, we notice a problem that means we have to start over at step 1 of the chain)\n4. it ensures that all the different libraries really, *really* have been built against the correct versions of each other; this eliminates a whole class of (human) errors","user":"U012FH66MFW","ts":"1608295351.132500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"mrb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so, we now need to update FLINT_jll from 2.6 to 2.7. Unfortunately that means a new SONAME, and so we'll also have to update the JLLs for arb, antic, normaliz, singular, (and then possibly also libsingular_julia), polymake, (and then possibly also libpolymake_julia). Anyway, I've now come up with this idea, and wanted to air it here in the hopes that "},{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" "},{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" "},{"type":"user","user_id":"U01CH05FTMM"},{"type":"text","text":" "},{"type":"user","user_id":"U85R3JJ8L"},{"type":"text","text":" etc. will tell me whether I am crazy or not "},{"type":"emoji","name":"wink"},{"type":"text","text":". The idea is to imitate the approach taken by LLVM_full_jll and the derived JLLs:  I would make a single big Oscar_jll which builds and installs all of the above. Then the new FLINT_jll, Arb_jll, etc. build recipes would download a specific version of Oscar_jll, and copy from it the parts they need.   This has multiple advantages:\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"instead of having to make ~N (for N = number of involved JLLs) staggered PRs (in practice over several days or even weeks) a total of two PRs suffice to update everything"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"testing","style":{"bold":true}},{"type":"text","text":" of updates is "},{"type":"text","text":"much","style":{"italic":true}},{"type":"text","text":" easier: I submit a draft update to Oscar_jll; then download the archive it produces and then can use it as override for FLINT_jll, arb_jll etc. simultaneously, and can test with that"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"if I notice an issue in the testing step, I just revise my single Oscar_jll PR, until all is good. (Right now, it can happen that after say 5 of the N PRs are merged, we notice a problem that means we have to start over at step 1 of the chain)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"it ensures that all the different libraries really, "},{"type":"text","text":"really","style":{"bold":true}},{"type":"text","text":" have been built against the correct versions of each other; this eliminates a whole class of (human) errors"}]}],"style":"ordered","indent":0}]}]},{"client_msg_id":"03e2ace6-b726-4424-a2a6-749945ca9dfa","type":"message","text":"I am happy with everything that makes life easier.","user":"U85R3JJ8L","ts":"1608302041.133000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I2V","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am happy with everything that makes life easier."}]}]}]},{"client_msg_id":"52403600-6af5-403e-9282-e22f6dea82ff","type":"message","text":"I think that’s an okay interim solution; sometime within the next few months I hope for either Mosè, myself, or some new blood to tackle this problem head-on and implement what I call the `BuildMeta` API change: <https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/778#issuecomment-628886000>","user":"U66GD0880","ts":"1608306426.134200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3=p","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think that’s an okay interim solution; sometime within the next few months I hope for either Mosè, myself, or some new blood to tackle this problem head-on and implement what I call the "},{"type":"text","text":"BuildMeta","style":{"code":true}},{"type":"text","text":" API change: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/issues/778#issuecomment-628886000"}]}]}]},{"client_msg_id":"85e51cc3-0254-4870-989c-98075ddd3cf0","type":"message","text":"that sounds nice! but yeah, we can't wait for that (esp. as it's not clear when and whether it will come -- no offense intended, thing is simply that you have many things on your plate, and we need a solution soon -- but if BuildMeta comes, I'll be happy to test it and possible migrate :slightly_smiling_face: )","user":"U012FH66MFW","ts":"1608322467.135400","team":"T68168MUP","edited":{"user":"U012FH66MFW","ts":"1608322477.000000"},"blocks":[{"type":"rich_text","block_id":"Hgm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that sounds nice! but yeah, we can't wait for that (esp. as it's not clear when and whether it will come -- no offense intended, thing is simply that you have many things on your plate, and we need a solution soon -- but if BuildMeta comes, I'll be happy to test it and possible migrate "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" )"}]}]}],"reactions":[{"name":"+1","users":["U66GD0880"],"count":1}]},{"client_msg_id":"4b4c282e-574b-4037-bc8e-09e9b816b5c2","type":"message","text":"Any plans on updating GCC in the build environment? Tried to build libusb_jll with the newly released libusb (1.0.24) but it complains about the compiler not featuring C11 (using -std=C11 didn't help)...","user":"UCTJ1TGBV","ts":"1608370202.137900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"xci","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Any plans on updating GCC in the build environment? Tried to build libusb_jll with the newly released libusb (1.0.24) but it complains about the compiler not featuring C11 (using -std=C11 didn't help)..."}]}]}],"thread_ts":"1608370202.137900","reply_count":2,"reply_users_count":2,"latest_reply":"1608375875.138200","reply_users":["UDB26738Q","UCTJ1TGBV"],"subscribed":false},{"client_msg_id":"1f29fbc9-1d9f-4d08-a4a7-f4d2c3974365","type":"message","text":"What was the situation with `LibCURL_jll` as a dependency again? I know it came up in <https://github.com/JuliaPackaging/Yggdrasil/pull/1997|Git> where it wasn't listing dependencies and you had to manually list them? Was that something that will get fixed elsewhere or will the deps always need to be listed out explicitly? I don't quite understand the nuance with it being part of `stdlib`.","user":"UQYEMLNQ4","ts":"1608410552.139200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Py71Y","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What was the situation with "},{"type":"text","text":"LibCURL_jll","style":{"code":true}},{"type":"text","text":" as a dependency again? I know it came up in "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/1997","text":"Git"},{"type":"text","text":" where it wasn't listing dependencies and you had to manually list them? Was that something that will get fixed elsewhere or will the deps always need to be listed out explicitly? I don't quite understand the nuance with it being part of "},{"type":"text","text":"stdlib","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1608410552.139200","reply_count":1,"reply_users_count":1,"latest_reply":"1608410691.139300","reply_users":["UDB26738Q"],"subscribed":false},{"client_msg_id":"6a5d6232-9659-40e9-ab0d-9c42e04df327","type":"message","text":"I've been wondering why <https://github.com/oscar-system/libsingular-julia> gets cloned by BB on Yggdrasil into a dir name `libsingular-j` (i.e. it is cut off after 13 letters). It's not a problem, I am just wondering what might cause this.... if anybody has an idea","user":"U012FH66MFW","ts":"1608651764.141700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6mqCe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've been wondering why "},{"type":"link","url":"https://github.com/oscar-system/libsingular-julia"},{"type":"text","text":" gets cloned by BB on Yggdrasil into a dir name "},{"type":"text","text":"libsingular-j","style":{"code":true}},{"type":"text","text":" (i.e. it is cut off after 13 letters). It's not a problem, I am just wondering what might cause this.... if anybody has an idea"}]}]}],"thread_ts":"1608651764.141700","reply_count":5,"reply_users_count":2,"latest_reply":"1608653447.143400","reply_users":["UDB26738Q","U012FH66MFW"],"subscribed":false},{"client_msg_id":"48e683dd-f0dd-4c01-93ea-0f53c4ce663f","type":"message","text":"ok, I came to the conclusion cross-compilation is broken in GCC 10","user":"UDB26738Q","ts":"1608653969.143900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JHH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok, I came to the conclusion cross-compilation is broken in GCC 10"}]}]}]},{"client_msg_id":"46187f5b-6d03-4eee-959e-da26067c42fc","type":"message","text":"oh, wait, I think it has been fixed upstream, but the released version is broken :expressionless:\n\nfor the record: <https://gcc.gnu.org/bugzilla/show_bug.cgi?id=94998>","user":"UDB26738Q","ts":"1608654362.144400","team":"T68168MUP","edited":{"user":"UDB26738Q","ts":"1608659952.000000"},"blocks":[{"type":"rich_text","block_id":"IfU/x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, wait, I think it has been fixed upstream, but the released version is broken "},{"type":"emoji","name":"expressionless"},{"type":"text","text":"\n\nfor the record: "},{"type":"link","url":"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=94998"}]}]}]},{"client_msg_id":"762d9c20-8c4e-4d48-97cb-55ff30e4caed","type":"message","text":"so I am seeing this on Yggdrasil: `*Warning:* Dependency Singular_jll does not have an Artifacts.toml at /depot/packages/Singular_jll/Hwmwl/Artifacts.toml!` and then the build fails .... so I am stuck. How can this be cleaned up","user":"U012FH66MFW","ts":"1608654595.145200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CZzS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so I am seeing this on Yggdrasil: "},{"type":"text","text":"Warning: ","style":{"bold":true,"code":true}},{"type":"text","text":"Dependency Singular_jll does not have an Artifacts.toml at /depot/packages/Singular_jll/Hwmwl/Artifacts.toml!","style":{"code":true}},{"type":"text","text":" and then the build fails .... so I am stuck. How can this be cleaned up"}]}]}],"thread_ts":"1608654595.145200","reply_count":3,"reply_users_count":2,"latest_reply":"1608656422.145700","reply_users":["UDB26738Q","U012FH66MFW"],"subscribed":false},{"client_msg_id":"b423b96e-e90b-4a1c-a4bc-e4b86f142180","type":"message","text":"<@U67BJLYCS> I forget the outcome of our last talk of bumping up minimum glibc version from 2.12.2","user":"U66GD0880","ts":"1608669864.146500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BR1","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67BJLYCS"},{"type":"text","text":" I forget the outcome of our last talk of bumping up minimum glibc version from 2.12.2"}]}]}]},{"client_msg_id":"f6a68943-8328-432f-8c01-22ff9813fa00","type":"message","text":"I was looking at CentOS 6 being EOL’ed now","user":"U66GD0880","ts":"1608669875.146800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+Bk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I was looking at CentOS 6 being EOL’ed now"}]}]}]},{"client_msg_id":"38250127-15c0-435d-9ee1-33ae08e0eb40","type":"message","text":"Yeah Centos 7 is fine with me I think","user":"U67BJLYCS","ts":"1608672094.147100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"HZR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah Centos 7 is fine with me I think"}]}]}]},{"client_msg_id":"b05be4c0-5131-4202-93f3-f4c8ee5af72a","type":"message","text":"I forgot as well","user":"U67BJLYCS","ts":"1608672098.147300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8sGJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I forgot as well"}]}]}]},{"client_msg_id":"c17e2019-11d4-4661-bba7-7f49a059f0a6","type":"message","text":"so CentOS 8 EOL will be _before_ CentOS 7 EOL","user":"UDB26738Q","ts":"1608672215.147800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+J5KT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so CentOS 8 EOL will be "},{"type":"text","text":"before","style":{"italic":true}},{"type":"text","text":" CentOS 7 EOL"}]}]}],"thread_ts":"1608672215.147800","reply_count":1,"reply_users_count":1,"latest_reply":"1608678567.149100","reply_users":["U67BJLYCS"],"subscribed":false,"reactions":[{"name":"ahhhhhhh","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"b2cdf58c-0834-41d8-9a20-4a64d723d522","type":"message","text":"can someone perhaps merge <https://github.com/JuliaPackaging/Yggdrasil/pull/2300> ?","user":"U012FH66MFW","ts":"1608675444.148000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"33fOO","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"can someone perhaps merge "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2300"},{"type":"text","text":" ?"}]}]}],"reactions":[{"name":"merged","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"3f63baf3-93c1-4ff7-ba22-c33d880d0b50","type":"message","text":"thank you <@UDB26738Q>","user":"U012FH66MFW","ts":"1608677439.148400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BHChS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"thank you "},{"type":"user","user_id":"UDB26738Q"}]}]}]},{"client_msg_id":"6c4f798c-e112-434e-9311-c7b840e5facd","type":"message","text":"now the same for <https://github.com/JuliaPackaging/Yggdrasil/pull/2263> please :slightly_smiling_face: if you are available, that is","user":"U012FH66MFW","ts":"1608677471.148900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hsgt6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"now the same for "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2263"},{"type":"text","text":" please "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":" if you are available, that is"}]}]}],"reactions":[{"name":"merged","users":["UDB26738Q"],"count":1}]},{"type":"message","subtype":"thread_broadcast","text":"<https://git.centos.org/centos/board/issue/1#comment-119>","user":"U67BJLYCS","ts":"1608678567.149100","thread_ts":"1608672215.147800","root":{"client_msg_id":"c17e2019-11d4-4661-bba7-7f49a059f0a6","type":"message","text":"so CentOS 8 EOL will be _before_ CentOS 7 EOL","user":"UDB26738Q","ts":"1608672215.147800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+J5KT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so CentOS 8 EOL will be "},{"type":"text","text":"before","style":{"italic":true}},{"type":"text","text":" CentOS 7 EOL"}]}]}],"thread_ts":"1608672215.147800","reply_count":1,"reply_users_count":1,"latest_reply":"1608678567.149100","reply_users":["U67BJLYCS"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"XNI","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://git.centos.org/centos/board/issue/1#comment-119"}]}]}],"client_msg_id":"ade5214c-cff1-4614-8643-f7aba3bd45cc"},{"client_msg_id":"ff44cded-5784-40d7-a873-8f794946e27f","type":"message","text":"<@U66GD0880> I think 2.17 is the one I am stuck on at the RHEL clusters","user":"U67BJLYCS","ts":"1608678592.149900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"yEWt","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" I think 2.17 is the one I am stuck on at the RHEL clusters"}]}]}],"thread_ts":"1608678592.149900","reply_count":2,"reply_users_count":2,"latest_reply":"1608679472.150800","reply_users":["UDB26738Q","U66GD0880"],"subscribed":false},{"client_msg_id":"e989c027-d838-450c-8c04-f54c9be33053","type":"message","text":"<@UDB26738Q> aaand one more time (for today :wink:) with <https://github.com/JuliaPackaging/Yggdrasil/pull/2303> -- then I'll have binaries for Julia 1.3, 1.4, 1.5 and can proceed with the package using this JLL","user":"U012FH66MFW","ts":"1608680751.151700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/Zfl","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" aaand one more time (for today "},{"type":"emoji","name":"wink"},{"type":"text","text":") with "},{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2303"},{"type":"text","text":" -- then I'll have binaries for Julia 1.3, 1.4, 1.5 and can proceed with the package using this JLL"}]}]}],"reactions":[{"name":"merged","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"58d35d32-3a21-4e8f-867d-3d7cc575ba8b","type":"message","text":"<@UDB26738Q> you know, I really don't get how you can be awake 24hours/day -- at least that's how it seems to me... no matter when I try, Mosè is there to merge or comment on my PRs and issue, answer questions, etc.... Are you really two people pretending to be one? :wink: Anyway, much appreciated","user":"U012FH66MFW","ts":"1608681708.153700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"z1gL","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"UDB26738Q"},{"type":"text","text":" you know, I really don't get how you can be awake 24hours/day -- at least that's how it seems to me... no matter when I try, Mosè is there to merge or comment on my PRs and issue, answer questions, etc.... Are you really two people pretending to be one? "},{"type":"emoji","name":"wink"},{"type":"text","text":" Anyway, much appreciated"}]}]}],"thread_ts":"1608681708.153700","reply_count":4,"reply_users_count":4,"latest_reply":"1608756171.163200","reply_users":["UDB26738Q","U012FH66MFW","U8MPCDJAY","U01AJUF2GEP"],"subscribed":false,"reactions":[{"name":"joy","users":["U66GD0880","U6QGE7S86"],"count":2}]},{"client_msg_id":"078d40b1-adbf-4c4e-ab2b-608f0bb12ce3","type":"message","text":"What do we need to do to start supporting the arm64 macs on BB? <https://twitter.com/josef_heinen/status/1341758413169172481>","user":"U67461GUB","ts":"1608735209.156800","team":"T68168MUP","attachments":[{"fallback":"<https://twitter.com/josef_heinen|@josef_heinen>: Pleased to see that GR runs natively under macOS 11 Big Sur on arm64 (Apple M1) using #SwiftLang. Now the only thing missing is a native #JuliaLang distribution. <https://pbs.twimg.com/media/Ep7h0NDXUAM-8eQ.jpg>","ts":1608735109,"author_name":"Josef Heinen","author_link":"https://twitter.com/josef_heinen/status/1341758413169172481","author_icon":"https://pbs.twimg.com/profile_images/936192599743967233/nBH47imR_normal.jpg","author_subname":"@josef_heinen","text":"Pleased to see that GR runs natively under macOS 11 Big Sur on arm64 (Apple M1) using #SwiftLang. Now the only thing missing is a native #JuliaLang distribution. <https://pbs.twimg.com/media/Ep7h0NDXUAM-8eQ.jpg>","service_name":"twitter","service_url":"https://twitter.com/","from_url":"https://twitter.com/josef_heinen/status/1341758413169172481","image_url":"https://pbs.twimg.com/media/Ep7h0NDXUAM-8eQ.jpg","image_width":1200,"image_height":660,"image_bytes":78124,"id":1,"original_url":"https://twitter.com/josef_heinen/status/1341758413169172481","footer":"Twitter","footer_icon":"https://a.slack-edge.com/80588/img/services/twitter_pixel_snapped_32.png"}],"blocks":[{"type":"rich_text","block_id":"uqZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What do we need to do to start supporting the arm64 macs on BB? "},{"type":"link","url":"https://twitter.com/josef_heinen/status/1341758413169172481"}]}]}]},{"client_msg_id":"b316f92f-6d71-4859-91d5-fe5473e2bf24","type":"message","text":"Basically, move the platform from experimental to supported?","user":"U67461GUB","ts":"1608735232.157400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DP9","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Basically, move the platform from experimental to supported?"}]}]}]},{"client_msg_id":"21327b6d-a040-4c27-8f7e-875256b7bfcb","type":"message","text":"JLL packages with aarch64 darwin binaries will work only on julia v1.6.  I think we'll need to keep them as experimental for a while","user":"UDB26738Q","ts":"1608735289.158200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IJ/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"JLL packages with aarch64 darwin binaries will work only on julia v1.6.  I think we'll need to keep them as experimental for a while"}]}]}]},{"client_msg_id":"0a01e500-6b2c-4297-b7f1-8d7b601a8a82","type":"message","text":"to be clear, packages can already be built for the new platforms on a case-by-case basis, but they _must_ require Julia v1.6 and they _must_ bump the version number if they had a previous build.  but please, no rush","user":"UDB26738Q","ts":"1608735769.159600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CM8g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to be clear, packages can already be built for the new platforms on a case-by-case basis, but they "},{"type":"text","text":"must","style":{"italic":true}},{"type":"text","text":" require Julia v1.6 and they "},{"type":"text","text":"must","style":{"italic":true}},{"type":"text","text":" bump the version number if they had a previous build.  but please, no rush"}]}]}]},{"client_msg_id":"f96af283-f0e9-476a-aec6-868818476297","type":"message","text":"hmmm, can't we have some JLLWrapper magic to hide the aarch64 darwin on older Julia versions?","user":"U012FH66MFW","ts":"1608740616.160100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lJbRY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmmm, can't we have some JLLWrapper magic to hide the aarch64 darwin on older Julia versions?"}]}]}]},{"client_msg_id":"b5094c6d-0ff0-4aad-87f6-17df6e7b0c03","type":"message","text":"ah no, the Artifacts.toml is the problem, right?","user":"U012FH66MFW","ts":"1608740625.160400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VS6kd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ah no, the Artifacts.toml is the problem, right?"}]}]}]},{"client_msg_id":"f8363a38-465e-4de3-a244-621497f5605d","type":"message","text":"that's a real bummer","user":"U012FH66MFW","ts":"1608740630.160600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iowz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's a real bummer"}]}]}]},{"client_msg_id":"174fd1d3-7703-4a11-9092-c5a01b6d5714","type":"message","text":"ye,s the `Artifacts.toml` is the problem","user":"UDB26738Q","ts":"1608740640.160900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e3CRP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ye,s the "},{"type":"text","text":"Artifacts.toml","style":{"code":true}},{"type":"text","text":" is the problem"}]}]}]},{"client_msg_id":"37c77f89-dcd9-418a-9f15-6caff09be9a3","type":"message","text":"Julia v1.6 doesn’t build cleanly on aarch64 darwin yet.  I believe the next hurdle is to get a PCRE patch that Keno submitted to an upstream dependency of PCRE (to avoid a crash) but we’re not certain if PCRE has released a version with that update dependency yet","user":"U66GD0880","ts":"1608754767.162200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"96To","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Julia v1.6 doesn’t build cleanly on aarch64 darwin yet.  I believe the next hurdle is to get a PCRE patch that Keno submitted to an upstream dependency of PCRE (to avoid a crash) but we’re not certain if PCRE has released a version with that update dependency yet"}]}]}]},{"client_msg_id":"462487d2-cc1e-4922-be16-4d43b91668e1","type":"message","text":"without that, we’re able to get to bootstrap, but we crash during bootstrap","user":"U66GD0880","ts":"1608754781.162700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nKs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"without that, we’re able to get to bootstrap, but we crash during bootstrap"}]}]}],"reactions":[{"name":"boom","users":["UDB26738Q","UGU761DU2"],"count":2}]},{"client_msg_id":"9ec4da23-821f-45ef-af25-cee866288cfa","type":"message","text":"My guess is that we’ll see some movement on this over the holidays","user":"U66GD0880","ts":"1608754796.163000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZDRvK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My guess is that we’ll see some movement on this over the holidays"}]}]}]},{"client_msg_id":"faa47c78-9b20-462e-b448-0aa4ac6f88ba","type":"message","text":"Alright, someone stop me from doing something beastly:\nI'm trying to make a jll for the following repo (cc <@U67BJLYCS>)\n<https://github.com/google/souper>\n\n1. It has 3 other git repos as dependencies - z3, llvm, and alive2.\n2. There is a build script in the repo that will download and build z3 and llvm, but I think that is incredible overkill.\n3. I don't know how to apply the compiler flags if I choose to customize the builds myself as the wizard suggests.\nany BinaryBuilder elves wanna help out with a Christmas miracle? (jk, you have better things to do, enjoy your holidays)","user":"U6QGE7S86","ts":"1608780551.166400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qkL7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Alright, someone stop me from doing something beastly:\nI'm trying to make a jll for the following repo (cc "},{"type":"user","user_id":"U67BJLYCS"},{"type":"text","text":")\n"},{"type":"link","url":"https://github.com/google/souper"},{"type":"text","text":"\n\n"}]},{"type":"rich_text_list","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It has 3 other git repos as dependencies - z3, llvm, and alive2."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"There is a build script in the repo that will download and build z3 and llvm, but I think that is incredible overkill."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know how to apply the compiler flags if I choose to customize the builds myself as the wizard suggests."}]}],"style":"ordered","indent":0},{"type":"rich_text_section","elements":[{"type":"text","text":"\nany BinaryBuilder elves wanna help out with a Christmas miracle? (jk, you have better things to do, enjoy your holidays)"}]}]}],"reactions":[{"name":"elf","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"4bdc111e-6f7d-4dfa-b267-902e28bf346c","type":"message","text":"You want to use LLVM_full_jll as a BuildDependency","user":"U67BJLYCS","ts":"1608783855.167300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4oxKU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You want to use LLVM_full_jll as a BuildDependency"}]}]}]},{"client_msg_id":"59b2f13b-a32c-410e-9be4-462399c57631","type":"message","text":"The question is if you need LLVM to be build against Z3","user":"U67BJLYCS","ts":"1608783883.167900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CDpAj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The question is if you need LLVM to be build against Z3"}]}]}]},{"client_msg_id":"d0ffa89a-900b-4407-a585-e2931d9bf885","type":"message","text":"I think we have a Z3 jll","user":"U67BJLYCS","ts":"1608783890.168200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/FK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think we have a Z3 jll"}]}]}]},{"client_msg_id":"e21e0f04-1433-4014-a234-c10ed6f3f503","type":"message","text":"So the only thing is alive2","user":"U67BJLYCS","ts":"1608783900.168600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"g0m","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the only thing is alive2"}]}]}]},{"client_msg_id":"de1d8ace-ab59-4d42-95a2-c19efcd60867","type":"message","text":"OK, lemme try that.","user":"U6QGE7S86","ts":"1608784634.169000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AmUH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK, lemme try that."}]}]}]},{"client_msg_id":"bb7530b1-7d06-463d-8d85-f917f6e79d99","type":"message","text":"There's also a `klee` dependency.","user":"U6QGE7S86","ts":"1608784845.169200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k1r5q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There's also a "},{"type":"text","text":"klee","style":{"code":true}},{"type":"text","text":" dependency."}]}]}]},{"client_msg_id":"261c0ac1-d486-4f94-ade4-a0174c8ba24e","type":"message","text":"How would I specify the LLVM branch?","user":"U6QGE7S86","ts":"1608786129.169500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QtL17","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"How would I specify the LLVM branch?"}]}]}]},{"client_msg_id":"48980dc2-0074-4f8c-85c3-5b0437945b23","type":"message","text":"Do you need a specific one?","user":"U67BJLYCS","ts":"1608787201.169800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ql71","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Do you need a specific one?"}]}]}]},{"client_msg_id":"2d9f6361-fdbb-4087-9c3a-e06a01a2adc0","type":"message","text":"Then things get tricky","user":"U67BJLYCS","ts":"1608787208.170100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iov","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Then things get tricky"}]}]}]},{"client_msg_id":"ba726a71-3ba7-4259-af67-35b65da8e91a","type":"message","text":"They ask for\n```llvm_commit=disable-peepholes-v04```","user":"U6QGE7S86","ts":"1608787547.170300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"CC+v","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"They ask for\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"llvm_commit=disable-peepholes-v04"}]}]}]},{"client_msg_id":"c3705f4b-41e2-4656-b9eb-84069048054c","type":"message","text":"Oh, hidden `re2c` dependency made me restart the :party_wizard: . Joy.","user":"U6QGE7S86","ts":"1608787568.170800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MSLqA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, hidden "},{"type":"text","text":"re2c","style":{"code":true}},{"type":"text","text":" dependency made me restart the "},{"type":"emoji","name":"party_wizard"},{"type":"text","text":" . Joy."}]}]}]},{"client_msg_id":"1b20cd56-1d44-4f0a-9e76-a3ab4a6483b3","type":"message","text":"that's what `bb add` is for","user":"U674T3KB3","ts":"1608787663.171000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Zln","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that's what "},{"type":"text","text":"bb add","style":{"code":true}},{"type":"text","text":" is for"}]}]}]},{"client_msg_id":"21899d76-4469-4a82-9dc6-9d9a8004ffbc","type":"message","text":"wut :eyes:","user":"U6QGE7S86","ts":"1608787790.171200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dvj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"wut "},{"type":"emoji","name":"eyes"}]}]}]},{"client_msg_id":"2291d9f5-2fa6-4c83-8453-dff155927f62","type":"message","text":"`bb add foo_jll` if you discover a dependency while already in the wizard","user":"U674T3KB3","ts":"1608787887.171700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Mdc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"bb add foo_jll","style":{"code":true}},{"type":"text","text":" if you discover a dependency while already in the wizard"}]}]}]},{"client_msg_id":"78d7d65c-d1a1-4058-a7c9-f8d0ba99a1be","type":"message","text":"is that within the sandbox?","user":"U6QGE7S86","ts":"1608787889.171800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5+GF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is that within the sandbox?"}]}]}]},{"client_msg_id":"543af32f-2b49-4859-b9f1-47e2292b78b0","type":"message","text":"yes","user":"U674T3KB3","ts":"1608787893.172000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gk3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yes"}]}]}]},{"client_msg_id":"8e3259d1-9a1a-45ce-9be7-02f21fbb5b2c","type":"message","text":"ok. and if it's a git repo?","user":"U6QGE7S86","ts":"1608787901.172200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JGxtQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"ok. and if it's a git repo?"}]}]}]},{"client_msg_id":"a5273c73-57d5-4b8c-8031-be4fd43b9d48","type":"message","text":"build a jll for it first","user":"U674T3KB3","ts":"1608787913.172600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"J+R+c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"build a jll for it first"}]}]}]},{"client_msg_id":"4c58f2f0-7588-4402-a741-d256a1cfba62","type":"message","text":"unless you want to include it in the same JLL","user":"U674T3KB3","ts":"1608787921.172800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"rcml","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"unless you want to include it in the same JLL"}]}]}]},{"client_msg_id":"cab2175b-8e60-40e0-8669-6537f0933471","type":"message","text":"we don't really have `bb add` for sources yet","user":"U674T3KB3","ts":"1608787932.173100","team":"T68168MUP","edited":{"user":"U674T3KB3","ts":"1608787937.000000"},"blocks":[{"type":"rich_text","block_id":"GrM3b","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we don't really have "},{"type":"text","text":"bb add","style":{"code":true}},{"type":"text","text":" for sources yet"}]}]}]},{"client_msg_id":"897a8666-f132-4da1-89d5-8ebbc232444e","type":"message","text":"Ach so.","user":"U6QGE7S86","ts":"1608787942.173500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0Not","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ach so."}]}]}]},{"client_msg_id":"0c27fd57-d106-4315-8ef8-acc45041eee8","type":"message","text":"since usually you only have one source","user":"U674T3KB3","ts":"1608787946.173700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PKcS2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"since usually you only have one source"}]}]}]},{"client_msg_id":"96313fed-9d2b-4878-b24c-8b0bc8aa3b28","type":"message","text":"I don't know why I even go headfirst into these walls -_-","user":"U6QGE7S86","ts":"1608787965.174000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oQJe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I don't know why I even go headfirst into these walls -_-"}]}]}]},{"client_msg_id":"02a72e50-3449-44cd-924f-5d05f802afb9","type":"message","text":"This SouperLLVM just has a Go-Redis database, a full LLVM clone, a `re2c` parser, `z3...`","user":"U6QGE7S86","ts":"1608788033.174800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6YW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This SouperLLVM just has a Go-Redis database, a full LLVM clone, a "},{"type":"text","text":"re2c","style":{"code":true}},{"type":"text","text":" parser, "},{"type":"text","text":"z3...","style":{"code":true}}]}]}]},{"client_msg_id":"69904474-39f9-4b88-bd7d-cbbdf15949bc","type":"message","text":"and some gnarly flags for finding the source builds within the host machine","user":"U6QGE7S86","ts":"1608788054.175200","team":"T68168MUP","edited":{"user":"U6QGE7S86","ts":"1608788061.000000"},"blocks":[{"type":"rich_text","block_id":"0UKW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and some gnarly flags for finding the source builds within the host machine"}]}]}]},{"client_msg_id":"f72adb87-9d31-4462-b08d-e3b32fdec6a6","type":"message","text":"OK I think I'm progressing","user":"U6QGE7S86","ts":"1608788207.175600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/fc=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK I think I'm progressing"}]}]}]},{"client_msg_id":"75f4bc4a-5b35-4c58-9ea9-e650842209ef","type":"message","text":"OK this is a funky error... `Cannot force an architecture` (info dump in thread)","user":"U6QGE7S86","ts":"1608788505.176300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"McFPz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"OK this is a funky error... "},{"type":"text","text":"Cannot force an architecture","style":{"code":true}},{"type":"text","text":" (info dump in thread)"}]}]}],"thread_ts":"1608788505.176300","reply_count":16,"reply_users_count":2,"latest_reply":"1608844199.199900","reply_users":["U6QGE7S86","UDB26738Q"],"subscribed":false},{"client_msg_id":"000f0d61-e4c6-4492-ac10-a5ae0f55672a","type":"message","text":"line 60 of the build recipe ... phew :sweat_smile:","user":"U6QGE7S86","ts":"1608788568.176900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VCY/F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"line 60 of the build recipe ... phew "},{"type":"emoji","name":"sweat_smile"}]}]}]},{"client_msg_id":"617a9593-86c4-4f11-85eb-c382931d3ea4","type":"message","text":"```/* Another evil option when it comes to compiling the C library is\n   --ffast-math since it alters the ABI.  */\n#if defined __FAST_MATH__ &amp;&amp; !defined TEST_FAST_MATH\n# error \"glibc must not be compiled with -ffast-math\"\n#endif```\n:til:: also glibc calls `--ffast-math` evil","user":"UDB26738Q","ts":"1608815916.177800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j2N8","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/* Another evil option when it comes to compiling the C library is\n   --ffast-math since it alters the ABI.  */\n#if defined __FAST_MATH__ && !defined TEST_FAST_MATH\n# error \"glibc must not be compiled with -ffast-math\"\n#endif"}]},{"type":"rich_text_section","elements":[{"type":"emoji","name":"til"},{"type":"text","text":": also glibc calls "},{"type":"text","text":"--ffast-math","style":{"code":true}},{"type":"text","text":" evil"}]}]}],"thread_ts":"1608815916.177800","reply_count":1,"reply_users_count":1,"latest_reply":"1608825266.179600","reply_users":["U67BJLYCS"],"subscribed":false,"reactions":[{"name":"smiling_imp","users":["UGU761DU2"],"count":1}]},{"client_msg_id":"cac107f5-57bd-4777-b7e4-9dd0cb963e57","type":"message","text":"nah, you should just define TEST_FAST_MATH :upside_down_face:","user":"U6N6VQE30","ts":"1608816795.178200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+E9s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"nah, you should just define TEST_FAST_MATH "},{"type":"emoji","name":"upside_down_face"}]}]}]},{"client_msg_id":"3428b86d-7861-4566-baba-81e6886e01e8","type":"message","text":"I am running into an issue with Enzyme built by BB","user":"U67BJLYCS","ts":"1608835300.180100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WmEd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am running into an issue with Enzyme built by BB"}]}]}]},{"client_msg_id":"657311a7-47b5-43d0-8def-04aff9b3dc70","type":"message","text":"after loading `Enzyme_jll`","user":"U67BJLYCS","ts":"1608835320.180500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P3Wk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"after loading "},{"type":"text","text":"Enzyme_jll","style":{"code":true}}]}]}]},{"client_msg_id":"d99993d7-11a8-43fd-a45f-ad97efc22362","type":"message","text":"`/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib`","user":"U67BJLYCS","ts":"1608835338.180700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OL/f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib","style":{"code":true}}]}]}]},{"client_msg_id":"a5abcf1c-f504-42ec-8337-7231af774afd","type":"message","text":"```julia&gt; Enzyme.autodiff(f, 1.0)\nERROR: could not load library \"LLVMEnzyme-9.dylib\"\ndlopen(LLVMEnzyme-9.dylib, 1): image not found\nStacktrace:```","user":"U67BJLYCS","ts":"1608835366.180900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4Bp","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> Enzyme.autodiff(f, 1.0)\nERROR: could not load library \"LLVMEnzyme-9.dylib\"\ndlopen(LLVMEnzyme-9.dylib, 1): image not found\nStacktrace:"}]}]}]},{"client_msg_id":"2b190fe4-2774-4b37-a3d8-8779e90b56d6","type":"message","text":"I had a similar issue before","user":"U67BJLYCS","ts":"1608835375.181200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"W5dQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I had a similar issue before"}]}]}]},{"client_msg_id":"5d4f8543-30c3-4a77-8f45-cabbdf815301","type":"message","text":"and Elliot told me to do ` patchelf --set-soname LLVMEnzyme-9.so Enzyme/LLVMEnzyme-9.so`","user":"U67BJLYCS","ts":"1608835465.181600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IQRd2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and Elliot told me to do ` patchelf --set-soname LLVMEnzyme-9.so Enzyme/LLVMEnzyme-9.so`"}]}]}]},{"client_msg_id":"429ac533-3e90-4bda-8e26-5672e569f36f","type":"message","text":"cc <@UN3KKRCRJ>","user":"U67BJLYCS","ts":"1608835480.181900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B8h88","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"cc "},{"type":"user","user_id":"UN3KKRCRJ"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1608835483.182100","user":"UN3KKRCRJ","text":"<@UN3KKRCRJ> has joined the channel","inviter":"U67BJLYCS"},{"client_msg_id":"8e03830b-0428-4942-bffc-c8334b2c0a35","type":"message","text":"I think `install_name_tool -id soname.dylib lib.dylib`","user":"UDB26738Q","ts":"1608835697.182600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"kE3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I think "},{"type":"text","text":"install_name_tool -id soname.dylib lib.dylib","style":{"code":true}}]}]}]},{"client_msg_id":"fceaeb86-7cad-4bdb-9be3-de422e68169d","type":"message","text":"<https://github.com/JuliaPackaging/Yggdrasil/blob/029965f93f1fe28fd9f3f6fe62cc4e04464dbfc1/O/OpenBLAS/common.jl#L156-L163>","user":"UDB26738Q","ts":"1608835798.182900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KNUI","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/blob/029965f93f1fe28fd9f3f6fe62cc4e04464dbfc1/O/OpenBLAS/common.jl#L156-L163"}]}]}]},{"client_msg_id":"bc777a5c-ab13-40b9-9cf5-567e9c7c9da7","type":"message","text":"Yeah","user":"U67BJLYCS","ts":"1608835798.183000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Yme","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah"}]}]}]},{"client_msg_id":"233990cb-d292-4977-8752-341792048a7a","type":"message","text":"```shell&gt; otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:```","user":"U67BJLYCS","ts":"1608835802.183200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"v=R","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"shell> otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:"}]}]}]},{"client_msg_id":"ef0df319-4b57-4428-ae3d-4d60114a4da7","type":"message","text":"```shell&gt; install_name_tool -id LLVMEnzyme-9.dylib /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n\nshell&gt; otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:```","user":"U67BJLYCS","ts":"1608835930.183600","team":"T68168MUP","edited":{"user":"U67BJLYCS","ts":"1608836554.000000"},"blocks":[{"type":"rich_text","block_id":"D5SWl","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"shell> install_name_tool -id LLVMEnzyme-9.dylib /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n\nshell> otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:"}]}]}]},{"client_msg_id":"0cf97e8b-67c4-4e29-9c01-a2b08cf77d88","type":"message","text":"oddly doesn't suffice","user":"U67BJLYCS","ts":"1608835935.183800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ZAuM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oddly doesn't suffice"}]}]}]},{"client_msg_id":"e3151f0d-5848-4904-9b83-e113cb86cb04","type":"message","text":"there are two arguments","user":"UDB26738Q","ts":"1608835959.184000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dLw7t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"there are two arguments"}]}]}]},{"client_msg_id":"1ccd6db4-c12d-4dc2-8f42-7d6db6d574f0","type":"message","text":"should be\n```install_name_tool -id LLVMEnzyme-9.dylib LLVMEnzyme-9.dylib```","user":"UDB26738Q","ts":"1608835979.184300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+cddP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"should be\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"install_name_tool -id LLVMEnzyme-9.dylib LLVMEnzyme-9.dylib"}]}]}]},{"client_msg_id":"c7939e80-ef47-49ea-abae-92d7eae5d5eb","type":"message","text":"oh, wait","user":"UDB26738Q","ts":"1608835999.184600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"j8U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, wait"}]}]}]},{"client_msg_id":"f9f84373-2a69-4dcd-8aec-21742af97edc","type":"message","text":"where the second one is the path right?","user":"U67BJLYCS","ts":"1608836002.184900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Iu1eP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where the second one is the path right?"}]}]}]},{"client_msg_id":"506a90ae-0c82-4c2d-95a5-6d52e6f4df69","type":"message","text":"that was a long line :sweat_smile:","user":"UDB26738Q","ts":"1608836007.185000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gqCjj","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"that was a long line "},{"type":"emoji","name":"sweat_smile"}]}]}]},{"client_msg_id":"5ae6f809-5fa4-49ca-b529-d547377cbc3c","type":"message","text":"Separately I’m still confused why CMake isn’t doing this by default","user":"UN3KKRCRJ","ts":"1608836034.185800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"N=0pr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Separately I’m still confused why CMake isn’t doing this by default"}]}]}]},{"client_msg_id":"456e1325-cd42-421f-8bf2-396eed14b1e2","type":"message","text":"why do you expect cmake to do something reasonable? :stuck_out_tongue:","user":"UDB26738Q","ts":"1608836055.186100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qbvkU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"why do you expect cmake to do something reasonable? "},{"type":"emoji","name":"stuck_out_tongue"}]}]}],"reactions":[{"name":"expressionless","users":["UN3KKRCRJ","U6QGE7S86"],"count":2},{"name":"pensive","users":["U67BJLYCS","UN3KKRCRJ","U6QGE7S86"],"count":3},{"name":"cry","users":["U67BJLYCS","U6QGE7S86"],"count":2},{"name":"anguished","users":["U67BJLYCS","U6QGE7S86"],"count":2},{"name":"face_with_monocle","users":["U67BJLYCS","U6QGE7S86"],"count":2}]},{"client_msg_id":"64f25562-ef45-4c40-82f5-4954b43d02ef","type":"message","text":"I'm having a hard time understanding what are you trying to change in the soname of the macOS lib","user":"UDB26738Q","ts":"1608836433.187300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ql3of","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm having a hard time understanding what are you trying to change in the soname of the macOS lib"}]}]}]},{"client_msg_id":"98361a6a-99c4-4d9e-9221-b64f20a29770","type":"message","text":"to the soname from cmake is empty","user":"UN3KKRCRJ","ts":"1608836452.187600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l+FC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"to the soname from cmake is empty"}]}]}]},{"client_msg_id":"30129d5e-9de5-4504-827d-d8e473413476","type":"message","text":"<https://julialang.slack.com/archives/C674ELDNX/p1608835802183200> this one doesn't seem empty though","user":"UDB26738Q","ts":"1608836472.187900","team":"T68168MUP","attachments":[{"from_url":"https://julialang.slack.com/archives/C674ELDNX/p1608835802183200","fallback":"[December 24th, 2020 10:50 AM] vchuravy: ```shell&gt; otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:```","ts":"1608835802.183200","author_id":"U67BJLYCS","author_subname":"Valentin Churavy","channel_id":"C674ELDNX","channel_name":"binarybuilder","is_msg_unfurl":true,"text":"```shell&gt; otool -D /Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib\n/Users/wmoses/.julia/artifacts/de8f157b7e6ac2a9d0ce542f7fb41a47024cfc96/lib/LLVMEnzyme-9.dylib:```","author_name":"Valentin Churavy","author_link":"https://julialang.slack.com/team/U67BJLYCS","author_icon":"https://secure.gravatar.com/avatar/1cdd019b591282ce27f057fdab2ee80e.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0012-48.png","mrkdwn_in":["text"],"id":1,"original_url":"https://julialang.slack.com/archives/C674ELDNX/p1608835802183200","footer":"Posted in #binarybuilder"}],"blocks":[{"type":"rich_text","block_id":"SDJ","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://julialang.slack.com/archives/C674ELDNX/p1608835802183200"},{"type":"text","text":" this one doesn't seem empty though"}]}]}]},{"client_msg_id":"35f3f3b7-3aef-419b-bb80-662a91220a4b","type":"message","text":"yeah that's saying its empty","user":"U67BJLYCS","ts":"1608836490.188200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VB=d0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yeah that's saying its empty"}]}]}]},{"client_msg_id":"39c3ab0c-83b9-4180-b5da-b7a76ea6ec0f","type":"message","text":"theres two paths there, one for the command line arg, and one saying this file has soname (and following colon, the empty string)","user":"UN3KKRCRJ","ts":"1608836514.189000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Unj3","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"theres two paths there, one for the command line arg, and one saying this file has soname (and following colon, the empty string)"}]}]}]},{"client_msg_id":"5e67b83c-292f-456c-af3c-a7ada247fee7","type":"message","text":"oh, I see now","user":"UDB26738Q","ts":"1608836515.189100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"5nTe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"oh, I see now"}]}]}]},{"client_msg_id":"5cd5b2cb-bc8b-495f-b416-f3c7b417f40c","type":"message","text":"```wmoses@Billys-MBP16:~/git/Enzyme/enzyme/build/Enzyme ((HEAD detached at ebed6bfa798)) $ otool -D /usr/local/opt/llvm/lib/libLLVM.dylib \n/usr/local/opt/llvm/lib/libLLVM.dylib:\n/usr/local/opt/llvm/lib/libLLVM.dylib```","user":"U67BJLYCS","ts":"1608836517.189200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"10q","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"wmoses@Billys-MBP16:~/git/Enzyme/enzyme/build/Enzyme ((HEAD detached at ebed6bfa798)) $ otool -D /usr/local/opt/llvm/lib/libLLVM.dylib \n/usr/local/opt/llvm/lib/libLLVM.dylib:\n/usr/local/opt/llvm/lib/libLLVM.dylib"}]}]}]},{"client_msg_id":"49277ca1-8ab3-4bbb-b047-811b83c29b57","type":"message","text":"does the lib in the JLL package have the soname set correctly?  this is the command run by the audit, according to the log:\n```/opt/bin/x86_64-apple-darwin14-libgfortran3-cxx03/install_name_tool -id LLVMEnzyme-9.dylib lib/LLVMEnzyme-9.dylib```\nand just to confirm, this is what the audit does: <https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/f47a234ffafdf39c93950c6232b9ba07cfd0e986/src/auditor/soname_matching.jl#L69-L75>","user":"UDB26738Q","ts":"1608836875.190300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cthG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does the lib in the JLL package have the soname set correctly?  this is the command run by the audit, according to the log:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"/opt/bin/x86_64-apple-darwin14-libgfortran3-cxx03/install_name_tool -id LLVMEnzyme-9.dylib lib/LLVMEnzyme-9.dylib"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"and just to confirm, this is what the audit does: "},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl/blob/f47a234ffafdf39c93950c6232b9ba07cfd0e986/src/auditor/soname_matching.jl#L69-L75"}]}]}]},{"client_msg_id":"f8ade688-c8de-4931-9629-b50cdead8603","type":"message","text":"No the lib in the JLL package does not have the soname set correctly","user":"U67BJLYCS","ts":"1608837320.190800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"8hXR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"No the lib in the JLL package does not have the soname set correctly"}]}]}]},{"client_msg_id":"766d96c6-e65f-43a6-8f26-aa793bc6db44","type":"message","text":"on MacOs","user":"U67BJLYCS","ts":"1608837325.191000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"OGY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"on MacOs"}]}]}]},{"client_msg_id":"68e6ba74-8591-44bf-ac2e-ba5c13fb9587","type":"message","text":"everywhere else it does","user":"U67BJLYCS","ts":"1608837330.191200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"7Fzt","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"everywhere else it does"}]}]}]},{"client_msg_id":"a4242ac5-623f-4c02-ac97-fb08841ed1c8","type":"message","text":"and using `install_name_tool` manually doesn't let me change it","user":"U67BJLYCS","ts":"1608837378.192000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VTtH/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and using "},{"type":"text","text":"install_name_tool","style":{"code":true}},{"type":"text","text":" manually doesn't let me change it"}]}]}]},{"client_msg_id":"00abeca1-e8a4-4889-bdf7-42f346e0526d","type":"message","text":"our suspicion is that we have\n``` $ file ClangEnzyme-9.dylib\nClangEnzyme-9.dylib: Mach-O 64-bit bundle x86_64```","user":"U67BJLYCS","ts":"1608837389.192300","team":"T68168MUP","edited":{"user":"U67BJLYCS","ts":"1608837414.000000"},"blocks":[{"type":"rich_text","block_id":"cZIVI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"our suspicion is that we have\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":" $ file ClangEnzyme-9.dylib\nClangEnzyme-9.dylib: Mach-O 64-bit bundle x86_64"}]}]}]},{"client_msg_id":"3abd5e8f-1b05-4781-a3f1-fd09eb27f6f7","type":"message","text":"and not a `liba.dylib: Mach-O 64-bit dynamically linked shared library x86_64`","user":"U67BJLYCS","ts":"1608837444.192900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SMz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and not a "},{"type":"text","text":"liba.dylib: Mach-O 64-bit dynamically linked shared library x86_64","style":{"code":true}}]}]}],"thread_ts":"1608837444.192900","reply_count":1,"reply_users_count":1,"latest_reply":"1608837643.193400","reply_users":["UDB26738Q"],"subscribed":false},{"client_msg_id":"743edf84-983c-4775-8b40-7b6f4a4d3eaa","type":"message","text":"taking a step back what is a “Enzyme/LLVMEnzyme-11.dylib: Mach-O 64-bit bundle x86_64” as opposed to a “liba.dylib: Mach-O 64-bit dynamically linked shared library x86_64\"","user":"UN3KKRCRJ","ts":"1608837524.193300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KBr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"taking a step back what is a “Enzyme/LLVMEnzyme-11.dylib: Mach-O 64-bit bundle x86_64” as opposed to a “liba.dylib: Mach-O 64-bit dynamically linked shared library x86_64\""}]}]}]},{"client_msg_id":"02a37649-19dc-45b8-9ade-e159d5c94157","type":"message","text":"So LLVM plugins... are bundles and not dylibs","user":"U67BJLYCS","ts":"1608837680.193900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"k=nd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So LLVM plugins... are bundles and not dylibs"}]}]}]},{"client_msg_id":"9239d8a8-70c2-4bf8-9dea-80be02a99dfe","type":"message","text":"jolly great","user":"U67BJLYCS","ts":"1608837684.194100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"l+oH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"jolly great"}]}]}]},{"client_msg_id":"d0ba0049-7f47-4cec-b74c-331b4edfb135","type":"message","text":"```wmoses@Billys-MBP16:/usr/local/opt/llvm/lib $ file LLVMPolly.so \nLLVMPolly.so: Mach-O 64-bit bundle x86_64\nwmoses@Billys-MBP16:/usr/local/opt/llvm/lib $ otool -D LLVMPolly.so \nLLVMPolly.so:```","user":"UN3KKRCRJ","ts":"1608837699.194400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gZT","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"wmoses@Billys-MBP16:/usr/local/opt/llvm/lib $ file LLVMPolly.so \nLLVMPolly.so: Mach-O 64-bit bundle x86_64\nwmoses@Billys-MBP16:/usr/local/opt/llvm/lib $ otool -D LLVMPolly.so \nLLVMPolly.so:"}]}]}]},{"client_msg_id":"944f4121-5a0c-4d02-823d-423faed277e5","type":"message","text":"yay :cry:","user":"UN3KKRCRJ","ts":"1608837702.194600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Ccxf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"yay "},{"type":"emoji","name":"cry"}]}]}]},{"client_msg_id":"49ea1e8f-5f40-42bd-8a67-3768dcf5efae","type":"message","text":"So CMake does since because we `MODULE` for `add_library`","user":"U67BJLYCS","ts":"1608838163.195100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AanS","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So CMake does since because we "},{"type":"text","text":"MODULE","style":{"code":true}},{"type":"text","text":" for "},{"type":"text","text":"add_library","style":{"code":true}}]}]}]},{"client_msg_id":"4ff2ac50-bf50-49bc-9109-299a79c453e4","type":"message","text":"<https://cmake.org/cmake/help/latest/command/add_library.html>","user":"U67BJLYCS","ts":"1608838164.195300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"DdY","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://cmake.org/cmake/help/latest/command/add_library.html"}]}]}]},{"client_msg_id":"85197451-a22c-4e06-9b69-f4e89e1f40cc","type":"message","text":"which is how LLVM plugins are build normally","user":"U67BJLYCS","ts":"1608838248.195900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n7d","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"which is how LLVM plugins are build normally"}]}]}]},{"client_msg_id":"b0377477-cc2d-4576-8aa0-d292e9440d52","type":"message","text":"does binary builder fix this for us:\n```otool -D Enzyme/libEnzyme-9.dylib \nEnzyme/libEnzyme-9.dylib:\n@rpath/libEnzyme-9.dylib```","user":"UN3KKRCRJ","ts":"1608840002.196300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWx","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does binary builder fix this for us:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"otool -D Enzyme/libEnzyme-9.dylib \nEnzyme/libEnzyme-9.dylib:\n@rpath/libEnzyme-9.dylib"}]}]}],"thread_ts":"1608840002.196300","reply_count":2,"reply_users_count":1,"latest_reply":"1608843131.197900","reply_users":["UDB26738Q"],"subscribed":false},{"client_msg_id":"7b66a28c-daf1-4776-8b2f-d602059af21e","type":"message","text":"we’re close but have same issue from @rpath","user":"UN3KKRCRJ","ts":"1608840016.196600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LB4","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"we’re close but have same issue from @rpath"}]}]}]},{"client_msg_id":"c39ed30f-0090-4783-8c2d-923b535cfbd4","type":"message","text":"but now at least `install_name_tool` does a real thing.","user":"U67BJLYCS","ts":"1608840109.197100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"SAfk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but now at least "},{"type":"text","text":"install_name_tool","style":{"code":true}},{"type":"text","text":" does a real thing."}]}]}]},{"client_msg_id":"6e37b10b-f123-414f-ab31-cd7dfebecb32","type":"message","text":"```ERROR: LoadError: LoadError: InitError: could not load library \"C:\\Users\\runneradmin\\.julia\\artifacts\\6de083f4770c1a6b49d179e2aa0f30c4bffde4a4\\bin\\mkl_core.dll\"\nAccess is denied. \nStacktrace:\n  [1] dlopen(s::String, flags::UInt32; throw_error::Bool)\n    @ Base.Libc.Libdl .\\libdl.jl:114\n  [2] dlopen\n    @ .\\libdl.jl:114 [inlined]\n  [3] __init__()\n    @ MKL_jll ~\\.julia\\packages\\MKL_jll\\ZCoyO\\src\\wrappers\\x86_64-w64-mingw32.jl:56\n  [4] _include_from_serialized(path::String, depmods::Vector{Any})\n    @ Base .\\loading.jl:670\n  [5] _require_search_from_serialized(pkg::Base.PkgId, sourcepath::String)\n    @ Base .\\loading.jl:756\n  [6] _require(pkg::Base.PkgId)\n    @ Base .\\loading.jl:994\n  [7] require(uuidkey::Base.PkgId)\n    @ Base .\\loading.jl:910\n  [8] require(into::Module, mod::Symbol)\n    @ Base .\\loading.jl:897\n  [9] include(mod::Module, _path::String)\n    @ Base .\\Base.jl:386\n [10] include(x::String)\n    @ FFTW D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:1\n [11] top-level scope\n    @ D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:20\n [12] include\n    @ .\\Base.jl:386 [inlined]\n [13] include_package_for_output(pkg::Base.PkgId, input::String, depot_path::Vector{String}, dl_load_path::Vector{String}, load_path::Vector{String}, concrete_deps::Vector{Pair{Base.PkgId, UInt64}}, source::String)\n    @ Base .\\loading.jl:1209\n [14] top-level scope\n    @ none:1\n [15] eval\n    @ .\\boot.jl:369 [inlined]\n [16] eval(x::Expr)\n    @ Base.MainInclude .\\client.jl:453\n [17] top-level scope\n    @ none:1\nduring initialization of module MKL_jll\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\deps\\deps.jl:1\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:1\nERROR: LoadError: Failed to precompile FFTW [7a1cc6ca-52ef-59f5-83cd-3a7055c09341] to C:\\Users\\runneradmin\\.julia\\compiled\\v1.7\\FFTW\\jl_6DF4.tmp.\nStacktrace:\n [1] error(s::String)\n   @ Base .\\error.jl:33\n [2] compilecache(pkg::Base.PkgId, path::String, internal_stderr::IOContext{Base.PipeEndpoint}, internal_stdout::IOContext{Base.PipeEndpoint})\n   @ Base .\\loading.jl:1356\n [3] compilecache(pkg::Base.PkgId, path::String)\n   @ Base .\\loading.jl:1302\n [4] _require(pkg::Base.PkgId)\n   @ Base .\\loading.jl:1017\n [5] require(uuidkey::Base.PkgId)\n   @ Base .\\loading.jl:910\n [6] require(into::Module, mod::Symbol)\n   @ Base .\\loading.jl:897\n [7] include(fname::String)\n   @ Base.MainInclude .\\client.jl:451\n [8] top-level scope\n   @ none:6\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\test\\runtests.jl:2```\naccess denied?!?!","user":"UDB26738Q","ts":"1608855736.200200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NiYa","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: LoadError: LoadError: InitError: could not load library \"C:\\Users\\runneradmin\\.julia\\artifacts\\6de083f4770c1a6b49d179e2aa0f30c4bffde4a4\\bin\\mkl_core.dll\"\nAccess is denied. \nStacktrace:\n  [1] dlopen(s::String, flags::UInt32; throw_error::Bool)\n    @ Base.Libc.Libdl .\\libdl.jl:114\n  [2] dlopen\n    @ .\\libdl.jl:114 [inlined]\n  [3] __init__()\n    @ MKL_jll ~\\.julia\\packages\\MKL_jll\\ZCoyO\\src\\wrappers\\x86_64-w64-mingw32.jl:56\n  [4] _include_from_serialized(path::String, depmods::Vector{Any})\n    @ Base .\\loading.jl:670\n  [5] _require_search_from_serialized(pkg::Base.PkgId, sourcepath::String)\n    @ Base .\\loading.jl:756\n  [6] _require(pkg::Base.PkgId)\n    @ Base .\\loading.jl:994\n  [7] require(uuidkey::Base.PkgId)\n    @ Base .\\loading.jl:910\n  [8] require(into::Module, mod::Symbol)\n    @ Base .\\loading.jl:897\n  [9] include(mod::Module, _path::String)\n    @ Base .\\Base.jl:386\n [10] include(x::String)\n    @ FFTW D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:1\n [11] top-level scope\n    @ D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:20\n [12] include\n    @ .\\Base.jl:386 [inlined]\n [13] include_package_for_output(pkg::Base.PkgId, input::String, depot_path::Vector{String}, dl_load_path::Vector{String}, load_path::Vector{String}, concrete_deps::Vector{Pair{Base.PkgId, UInt64}}, source::String)\n    @ Base .\\loading.jl:1209\n [14] top-level scope\n    @ none:1\n [15] eval\n    @ .\\boot.jl:369 [inlined]\n [16] eval(x::Expr)\n    @ Base.MainInclude .\\client.jl:453\n [17] top-level scope\n    @ none:1\nduring initialization of module MKL_jll\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\deps\\deps.jl:1\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\src\\FFTW.jl:1\nERROR: LoadError: Failed to precompile FFTW [7a1cc6ca-52ef-59f5-83cd-3a7055c09341] to C:\\Users\\runneradmin\\.julia\\compiled\\v1.7\\FFTW\\jl_6DF4.tmp.\nStacktrace:\n [1] error(s::String)\n   @ Base .\\error.jl:33\n [2] compilecache(pkg::Base.PkgId, path::String, internal_stderr::IOContext{Base.PipeEndpoint}, internal_stdout::IOContext{Base.PipeEndpoint})\n   @ Base .\\loading.jl:1356\n [3] compilecache(pkg::Base.PkgId, path::String)\n   @ Base .\\loading.jl:1302\n [4] _require(pkg::Base.PkgId)\n   @ Base .\\loading.jl:1017\n [5] require(uuidkey::Base.PkgId)\n   @ Base .\\loading.jl:910\n [6] require(into::Module, mod::Symbol)\n   @ Base .\\loading.jl:897\n [7] include(fname::String)\n   @ Base.MainInclude .\\client.jl:451\n [8] top-level scope\n   @ none:6\nin expression starting at D:\\a\\FFTW.jl\\FFTW.jl\\test\\runtests.jl:2"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"access denied?!?!"}]}]}]},{"client_msg_id":"f7dab383-43b1-45d1-9761-f1b968cd4488","type":"message","text":"this happens only on windows + julia nightly","user":"UDB26738Q","ts":"1608855768.200500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"F2cL0","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"this happens only on windows + julia nightly"}]}]}]},{"client_msg_id":"646c2279-c1ba-43f9-bc07-be64cf9ee460","type":"message","text":"where is `libLLVM_jll` ’s artifacts folder located in Julia 1.6+?  I tried to `Pkg.Artifacts.artifact_path`  those SHAs in the `StdlibArtifacts.toml` but all gave me wrong paths.","user":"U6DN7UPJ7","ts":"1608871667.202700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NQf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"where is "},{"type":"text","text":"libLLVM_jll","style":{"code":true}},{"type":"text","text":" ’s artifacts folder located in Julia 1.6+?  I tried to "},{"type":"text","text":"Pkg.Artifacts.artifact_path","style":{"code":true}},{"type":"text","text":"  those SHAs in the "},{"type":"text","text":"StdlibArtifacts.toml","style":{"code":true}},{"type":"text","text":" but all gave me wrong paths."}]}]}]},{"client_msg_id":"15b989b7-6546-4d2d-a1b9-e225831c5032","type":"message","text":"Does `libLLVM_jll.find_artifact_dir()` do it?","user":"U6788D83U","ts":"1608872845.203100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"6Qc2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does "},{"type":"text","text":"libLLVM_jll.find_artifact_dir()","style":{"code":true}},{"type":"text","text":" do it?"}]}]}],"thread_ts":"1608872845.203100","reply_count":1,"reply_users_count":1,"latest_reply":"1608874468.204700","reply_users":["U6DN7UPJ7"],"subscribed":false,"reactions":[{"name":"+1","users":["U6DN7UPJ7"],"count":1},{"name":"heart","users":["U6DN7UPJ7"],"count":1}]},{"client_msg_id":"dba13410-0487-44f5-86dc-fc07bdda5d9d","type":"message","text":"In 1.6? It's a fake artifact","user":"U67BJLYCS","ts":"1608872982.203700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"tg/t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In 1.6? It's a fake artifact"}]}]}]},{"client_msg_id":"13a3d264-8d6c-4193-88f4-243c57f674f8","type":"message","text":"So the answer should be in the private libdir of Julia","user":"U67BJLYCS","ts":"1608873000.204200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"blUUm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"So the answer should be in the private libdir of Julia"}]}]}],"thread_ts":"1608873000.204200","reply_count":7,"reply_users_count":2,"latest_reply":"1608877812.206100","reply_users":["U6DN7UPJ7","U67BJLYCS"],"subscribed":false},{"client_msg_id":"e8c0e773-bbc7-4cf5-ae9e-3cf26a2eb152","type":"message","text":"```(tmp) pkg&gt; gc --verbose\n     [...]\n     Deleted 197 package installations (224.561 MiB)\n     Deleted 2 repos (46.556 MiB)\n     Deleted 768 artifact installations (14.170 GiB)\n     Deleted 3 scratchspaces (396.000 byte)```\n768 artifacts? :sweat_smile:","user":"UDB26738Q","ts":"1608907064.206800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fxPG","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"(tmp) pkg> gc --verbose\n     [...]\n     Deleted 197 package installations (224.561 MiB)\n     Deleted 2 repos (46.556 MiB)\n     Deleted 768 artifact installations (14.170 GiB)\n     Deleted 3 scratchspaces (396.000 byte)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"768 artifacts? "},{"type":"emoji","name":"sweat_smile"}]}]}],"reactions":[{"name":"scream","users":["U82RE6STE","U6QGE7S86","U6DN7UPJ7","UE76KFRFX","UGU761DU2"],"count":5},{"name":"two","users":["U66GD0880","U01BCQW92V8"],"count":2}]},{"client_msg_id":"080e7588-0056-4138-b765-dff9b61d3d12","type":"message","text":"```ERROR: LoadError: LoadError: InitError: Artifact \"MKL\" is a lazy artifact; package developers must call `using LazyArtifacts` in MKL_jll before using lazy artifacts.```\ndoes this need we need to add `LazyArtifacts` to `MKL_jll`?","user":"UDB26738Q","ts":"1609177840.208100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"se/r5","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"ERROR: LoadError: LoadError: InitError: Artifact \"MKL\" is a lazy artifact; package developers must call `using LazyArtifacts` in MKL_jll before using lazy artifacts."}]},{"type":"rich_text_section","elements":[{"type":"text","text":"does this need we need to add "},{"type":"text","text":"LazyArtifacts","style":{"code":true}},{"type":"text","text":" to "},{"type":"text","text":"MKL_jll","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"6b4a3aff-ec2f-4cd5-9a22-f47fe6905600","type":"message","text":"and also a fake `LazyArtifacts` package for Julia v1.3-1.5?","user":"UDB26738Q","ts":"1609179295.208600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KQF","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and also a fake "},{"type":"text","text":"LazyArtifacts","style":{"code":true}},{"type":"text","text":" package for Julia v1.3-1.5?"}]}]}],"thread_ts":"1609179295.208600","reply_count":3,"reply_users_count":2,"latest_reply":"1609185109.211400","reply_users":["UDB26738Q","U012FH66MFW"],"subscribed":false},{"client_msg_id":"c0382851-63d1-4f59-9e8a-9e419da77e3b","type":"message","text":"I've asked about this before, but it has gotten lost to slack history limit.\nI'm still having some trouble getting a local run of the `GDAL` Yggdrasil script to work.\n\nI am now working on `1.6.0-DEV` (compiled from the `release-1.6` branch)\n\n`Version 1.6.0-DEV.1780 (2020-12-19)`\n`release-1.6/de69b02a48 (fork: 58 commits, 19 days)`\n\nand I am using the `master` branches of `BinaryBuilder` and `BinaryBuilderBase`\n\n`[12aac903] BinaryBuilder v0.3.0 <https://github.com/JuliaPackaging/BinaryBuilder.jl.git#master>`\n`[7f725544] BinaryBuilderBase v0.5.0 <https://github.com/JuliaPackaging/BinaryBuilderBase.jl.git#master>`\n\nrunning `julia build_tarballs.jl --verbose --debug` fails resolving dependency versions like:\n\n```[ Info: Copying content of bundled in srcdir...\n   Resolving package versions...\nERROR: LoadError: Unsatisfiable requirements detected for package LibSSH2_jll [29816b5a]:\n LibSSH2_jll [29816b5a] log:\n ├─possible versions are: 1.9.1 or uninstalled\n └─restricted to versions 1.9.0 by an explicit requirement — no versions left\nStacktrace:\n  [1] check_constraints(graph::Pkg.Resolve.Graph)```\nI have also tried on a nightly build with the same results.\n\n`Version 1.7.0-DEV.45 (2020-12-13)`\n`Commit 8f2b0e7176 (15 days old master)`\n\nIt passes CI and builds in the <https://dev.azure.com/JuliaPackaging/Yggdrasil/_build/results?buildId=8050&amp;view=logs&amp;j=602baf21-6ef1-59f6-fbf0-2d9fa93f2756&amp;t=01a2bb1e-9661-5612-34b4-6bc9235fd7d7|Azure pipeline> . Are there any other differences in the CI environment that I would need to make to get it working locally?","user":"UQYEMLNQ4","ts":"1609190299.212800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Rjr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I've asked about this before, but it has gotten lost to slack history limit.\nI'm still having some trouble getting a local run of the "},{"type":"text","text":"GDAL","style":{"code":true}},{"type":"text","text":" Yggdrasil script to work.\n\nI am now working on "},{"type":"text","text":"1.6.0-DEV","style":{"code":true}},{"type":"text","text":" (compiled from the "},{"type":"text","text":"release-1.6","style":{"code":true}},{"type":"text","text":" branch)\n\n"},{"type":"text","text":"Version 1.6.0-DEV.1780 (2020-12-19)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"release-1.6/de69b02a48 (fork: 58 commits, 19 days)","style":{"code":true}},{"type":"text","text":"\n\nand I am using the "},{"type":"text","text":"master","style":{"code":true}},{"type":"text","text":" branches of "},{"type":"text","text":"BinaryBuilder","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"BinaryBuilderBase","style":{"code":true}},{"type":"text","text":"\n\n"},{"type":"text","text":"[12aac903] BinaryBuilder v0.3.0 ","style":{"code":true}},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilder.jl.git#master","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"[7f725544] BinaryBuilderBase v0.5.0 ","style":{"code":true}},{"type":"link","url":"https://github.com/JuliaPackaging/BinaryBuilderBase.jl.git#master","style":{"code":true}},{"type":"text","text":"\n\nrunning "},{"type":"text","text":"julia build_tarballs.jl --verbose --debug","style":{"code":true}},{"type":"text","text":" fails resolving dependency versions like:\n\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[ Info: Copying content of bundled in srcdir...\n   Resolving package versions...\nERROR: LoadError: Unsatisfiable requirements detected for package LibSSH2_jll [29816b5a]:\n LibSSH2_jll [29816b5a] log:\n ├─possible versions are: 1.9.1 or uninstalled\n └─restricted to versions 1.9.0 by an explicit requirement — no versions left\nStacktrace:\n  [1] check_constraints(graph::Pkg.Resolve.Graph)"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"\nI have also tried on a nightly build with the same results.\n\n"},{"type":"text","text":"Version 1.7.0-DEV.45 (2020-12-13)","style":{"code":true}},{"type":"text","text":"\n"},{"type":"text","text":"Commit 8f2b0e7176 (15 days old master)","style":{"code":true}},{"type":"text","text":"\n\nIt passes CI and builds in the "},{"type":"link","url":"https://dev.azure.com/JuliaPackaging/Yggdrasil/_build/results?buildId=8050&view=logs&j=602baf21-6ef1-59f6-fbf0-2d9fa93f2756&t=01a2bb1e-9661-5612-34b4-6bc9235fd7d7","text":"Azure pipeline"},{"type":"text","text":" . Are there any other differences in the CI environment that I would need to make to get it working locally?"}]}]}],"thread_ts":"1609190299.212800","reply_count":8,"reply_users_count":2,"latest_reply":"1609231017.214400","reply_users":["UDB26738Q","UQYEMLNQ4"],"subscribed":false},{"client_msg_id":"7e9c6e10-adc7-4bc4-93bd-063b0a7a720f","type":"message","text":"I am seeing this on Yggdrasil when rebuilding libjulia_jll 1.5.3 (no actual changes, just rebuilding it):\n```[12:01:23]  ---&gt; apk add coreutils libuv-dev utf8proc\n[12:01:23] ERROR: unsatisfiable constraints:\n[12:01:23]   ninja (virtual):\n[12:01:23]     provided by: samurai\n[12:01:23]     required by: world[ninja]\n[12:01:23]  ---&gt; apk add coreutils libuv-dev utf8proc\n[12:01:23] Previous command exited with 1\n[12:01:23] Child Process exited, exit code 1```\nHuh?","user":"U012FH66MFW","ts":"1609244517.215800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O5Opf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am seeing this on Yggdrasil when rebuilding libjulia_jll 1.5.3 (no actual changes, just rebuilding it):\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[12:01:23]  ---> apk add coreutils libuv-dev utf8proc\n[12:01:23] ERROR: unsatisfiable constraints:\n[12:01:23]   ninja (virtual):\n[12:01:23]     provided by: samurai\n[12:01:23]     required by: world[ninja]\n[12:01:23]  ---> apk add coreutils libuv-dev utf8proc\n[12:01:23] Previous command exited with 1\n[12:01:23] Child Process exited, exit code 1"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"Huh?"}]}]}]},{"client_msg_id":"e363d199-73e8-4c80-8186-8d48967f33e0","type":"message","text":"adding `samurai` to the list of installed packages fixes this, but why does this pop up now?!","user":"U012FH66MFW","ts":"1609245788.217800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"zmXI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"adding "},{"type":"text","text":"samurai","style":{"code":true}},{"type":"text","text":" to the list of installed packages fixes this, but why does this pop up now?!"}]}]}]},{"client_msg_id":"8b8a02d3-431d-4378-8e28-7a9957553f8f","type":"message","text":"Yeah, I complained about that a couple of weeks ago. No idea what's wrong with alpine. Install `samurai`","user":"UDB26738Q","ts":"1609245791.218000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gnG7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, I complained about that a couple of weeks ago. No idea what's wrong with alpine. Install "},{"type":"text","text":"samurai","style":{"code":true}}]}]}]},{"client_msg_id":"bfc6f40f-2796-4533-bef3-718e5364e736","type":"message","text":"Also removing ninja should do the trick, if I remember correctly. It looks like something changed in alpine dependencies?","user":"UDB26738Q","ts":"1609245951.219400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V/q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also removing ninja should do the trick, if I remember correctly. It looks like something changed in alpine dependencies?"}]}]}]},{"client_msg_id":"71a8700f-c154-414e-97d1-80d5bb5e214c","type":"message","text":"weird. Anyway, I submitted a PR to fix it (separate from my other PR where I found this)","user":"U012FH66MFW","ts":"1609246166.219900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WWcd","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"weird. Anyway, I submitted a PR to fix it (separate from my other PR where I found this)"}]}]}]},{"client_msg_id":"e97a8df3-297d-45de-aed5-435dac4788de","type":"message","text":"so my three recent PRs now are all ready for review/merging, from my POV :slightly_smiling_face:","user":"U012FH66MFW","ts":"1609246178.220400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"iWv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so my three recent PRs now are all ready for review/merging, from my POV "},{"type":"emoji","name":"slightly_smiling_face"}]}]}]},{"client_msg_id":"fd8eb588-36ed-4e91-a265-12c12f5137e7","type":"message","text":"argh, CGAL_jll  failed after merge: `*ERROR:* LoadError: Incomplete JLL release!  Could not find tarball for x86_64-apple-darwin`","user":"U012FH66MFW","ts":"1609293517.220800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"wRl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"argh, CGAL_jll  failed after merge: "},{"type":"text","text":"ERROR: ","style":{"bold":true,"code":true}},{"type":"text","text":"LoadError: Incomplete JLL release!  Could not find tarball for x86_64-apple-darwin","style":{"code":true}}]}]}]},{"client_msg_id":"d20ad330-63d5-481c-a9c7-0cd13adf0544","type":"message","text":"PR submitted","user":"U012FH66MFW","ts":"1609293677.221100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"EBVU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"PR submitted"}]}]}]},{"client_msg_id":"9b27264a-f5c4-4109-93bc-5137fd3173f0","type":"message","text":"I'm updating the manifest of `BinaryBuilder.jl`, `BinaryProvider` is somehow back :confused:","user":"UDB26738Q","ts":"1609355315.221700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"dkm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm updating the manifest of "},{"type":"text","text":"BinaryBuilder.jl","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"BinaryProvider","style":{"code":true}},{"type":"text","text":" is somehow back "},{"type":"emoji","name":"confused"}]}]}]},{"client_msg_id":"5161a2cb-a613-4fbf-a0bc-3224dae833bb","type":"message","text":"it looks like we need to blame <@U6NFPDBV1> :stuck_out_tongue:","user":"UDB26738Q","ts":"1609355362.222000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"x0/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it looks like we need to blame "},{"type":"user","user_id":"U6NFPDBV1"},{"type":"text","text":" "},{"type":"emoji","name":"stuck_out_tongue"}]}]}]},{"client_msg_id":"9a23d4f7-55d4-4594-b0d6-633b3f468b8f","type":"message","text":"What did I do?!","user":"U6NFPDBV1","ts":"1609355379.222200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Hgz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What did I do?!"}]}]}]},{"client_msg_id":"0fe02f7e-8d8d-4969-84c8-bc3ea53790a0","type":"message","text":"`GitHub.jl` now depends on `SodiumSeal.jl`","user":"UDB26738Q","ts":"1609355392.222500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"BIXnC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"GitHub.jl","style":{"code":true}},{"type":"text","text":" now depends on "},{"type":"text","text":"SodiumSeal.jl","style":{"code":true}}]}]}]},{"client_msg_id":"08a5b02f-6b5d-47f8-b8e0-131ddf0cfadd","type":"message","text":"and `SodiumSeal.jl` depends on `BinaryProvider.jl`","user":"UDB26738Q","ts":"1609355407.222900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3C0Ak","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and "},{"type":"text","text":"SodiumSeal.jl","style":{"code":true}},{"type":"text","text":" depends on "},{"type":"text","text":"BinaryProvider.jl","style":{"code":true}}]}]}]},{"client_msg_id":"79759a3a-1be0-4f67-b1ad-cb3847a7f893","type":"message","text":"Oh lol I'll release a new version that doesn't support 1.0","user":"U6NFPDBV1","ts":"1609355413.223100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"srIzl","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh lol I'll release a new version that doesn't support 1.0"}]}]}],"reactions":[{"name":"smile","users":["UDB26738Q"],"count":1}]},{"client_msg_id":"dc297389-4591-46e2-ae0f-c50f5983e91b","type":"message","text":"for the time being I'm keeping `GitHub` at the same version, so not to pull `BinaryProvider` :grin:","user":"UDB26738Q","ts":"1609355515.223800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+RwK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"for the time being I'm keeping "},{"type":"text","text":"GitHub","style":{"code":true}},{"type":"text","text":" at the same version, so not to pull "},{"type":"text","text":"BinaryProvider","style":{"code":true}},{"type":"text","text":" "},{"type":"emoji","name":"grin"}]}]}],"thread_ts":"1609355515.223800","reply_count":1,"reply_users_count":1,"latest_reply":"1609357451.223900","reply_users":["U6NFPDBV1"],"subscribed":false},{"client_msg_id":"10e052f0-4a24-4bcb-a49c-623ee199d556","type":"message","text":"<@U66GD0880> Is there a Windows alternative to Homebrew.jl?\nSomething like chocolatey.jl?","user":"U01AJUF2GEP","ts":"1609402432.225000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Z+81","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U66GD0880"},{"type":"text","text":" Is there a Windows alternative to Homebrew.jl?\nSomething like chocolatey.jl?"}]}]}]},{"client_msg_id":"2426a7a9-4307-42f5-93c1-1a24a7825eed","type":"message","text":"There was WinRPM, but all those systems are deprecated nowadays","user":"U66GD0880","ts":"1609440784.225700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nlk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There was WinRPM, but all those systems are deprecated nowadays"}]}]}],"thread_ts":"1609440784.225700","reply_count":6,"reply_users_count":2,"latest_reply":"1609442493.227400","reply_users":["U01AJUF2GEP","U66GD0880"],"subscribed":false},{"type":"message","subtype":"thread_broadcast","text":"Okay！I kinda want to get the build_tarball just from x86_64 linux\nI don't want to install the deps of other linux architectures like aarch64 etc\nCan I do that, in BinaryBuilder？","user":"U01AJUF2GEP","ts":"1609483377.231200","thread_ts":"1609440784.225700","root":{"client_msg_id":"2426a7a9-4307-42f5-93c1-1a24a7825eed","type":"message","text":"There was WinRPM, but all those systems are deprecated nowadays","user":"U66GD0880","ts":"1609440784.225700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nlk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There was WinRPM, but all those systems are deprecated nowadays"}]}]}],"thread_ts":"1609440784.225700","reply_count":22,"reply_users_count":2,"latest_reply":"1609483377.231200","reply_users":["U01AJUF2GEP","U66GD0880"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"FKZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Okay！I kinda want to get the build_tarball just from x86_64 linux\nI don't want to install the deps of other linux architectures like aarch64 etc\nCan I do that, in BinaryBuilder？"}]}]}],"client_msg_id":"ca0625c8-9770-4804-8f2e-5480c2dc3d40","edited":{"user":"U01AJUF2GEP","ts":"1609485053.000000"}},{"type":"message","subtype":"thread_broadcast","text":"<https://github.com/JuliaPackaging/Yggdrasil/pull/2335|https://github.com/JuliaPackaging/Yggdrasil/pull/2335>\n\nHelp needed！","user":"U01AJUF2GEP","ts":"1609502013.233500","thread_ts":"1609440784.225700","root":{"client_msg_id":"2426a7a9-4307-42f5-93c1-1a24a7825eed","type":"message","text":"There was WinRPM, but all those systems are deprecated nowadays","user":"U66GD0880","ts":"1609440784.225700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"nlk","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There was WinRPM, but all those systems are deprecated nowadays"}]}]}],"thread_ts":"1609440784.225700","reply_count":26,"reply_users_count":2,"latest_reply":"1609502013.233500","reply_users":["U01AJUF2GEP","U66GD0880"],"subscribed":false},"blocks":[{"type":"rich_text","block_id":"n8MN","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaPackaging/Yggdrasil/pull/2335","text":"https://github.com/JuliaPackaging/Yggdrasil/pull/2335"},{"type":"text","text":"\n\nHelp needed！"}]}]}],"client_msg_id":"71a59b1c-a440-41f0-afd8-d000f6c9d3af"}]}