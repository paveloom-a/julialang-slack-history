{"cursor": 0, "messages": [{"client_msg_id":"e7b4db42-66f1-47ab-ae84-be38d7c1b427","type":"message","text":"This looks really nice :heart_eyes: but what do I do if I want to see the actual values of the elements, like in Julia &lt; 1.6?:\n```julia&gt; sparse(A)\n100×100 SparseMatrixCSC{Float64, Int64} with 820 stored entries:\n⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠀⢄⠀⠀⠀⠀⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠀⠀⠀⠀⠑⠀⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿```","user":"UC6LC14MA","ts":"1607933013.023900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"IqM=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"This looks really nice "},{"type":"emoji","name":"heart_eyes"},{"type":"text","text":" but what do I do if I want to see the actual values of the elements, like in Julia < 1.6?:\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"julia> sparse(A)\n100×100 SparseMatrixCSC{Float64, Int64} with 820 stored entries:\n⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠀⢄⠀⠀⠀⠀⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠀⠀⠀⠀⠑⠀⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⣿⣿⣀⡀⠀⠑⢄⠀⠀⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠸⠿⣧⣤⠀⠀⠑⢄⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⠛⣤⣤⠀⠀⠑\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠛⢻⣶⡆⠀\n⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠀⠀⠑⢄⠀⠈⠉⣿⣿"}]}]}],"thread_ts":"1607933013.023900","reply_count":4,"reply_users_count":3,"latest_reply":"1607936207.024700","reply_users":["U680T6770","UB197FRCL","UC6LC14MA"],"subscribed":false,"reactions":[{"name":"100","users":["U680T6770","UDD5Z7FLZ","UGG8Z375L"],"count":3},{"name":"sparkler","users":["UGU761DU2","U019K6Q9N15","UH8A351DJ"],"count":3}]},{"client_msg_id":"375ceec3-f1e6-4697-a7cf-2e8af4ab997f","type":"message","text":"Is there an `&lt;:AbstractMatrix` type for zero matrices (meaning a matrix whose elements are all zeros)? Like a `UniformScaling(false)`, but hard-coded in the type?\nI have some code with two matrices `A` and `B`, and there are settings where I can guarantee that `B = 0` , in which case I can simplify things a lot.","user":"UCT7E536E","ts":"1608154292.031200","team":"T68168MUP","edited":{"user":"UCT7E536E","ts":"1608154326.000000"},"blocks":[{"type":"rich_text","block_id":"o1u","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there an "},{"type":"text","text":"<:AbstractMatrix","style":{"code":true}},{"type":"text","text":" type for zero matrices (meaning a matrix whose elements are all zeros)? Like a "},{"type":"text","text":"UniformScaling(false)","style":{"code":true}},{"type":"text","text":", but hard-coded in the type?\nI have some code with two matrices "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"B","style":{"code":true}},{"type":"text","text":", and there are settings where I can guarantee that "},{"type":"text","text":"B = 0","style":{"code":true}},{"type":"text","text":" , in which case I can simplify things a lot."}]}]}]},{"client_msg_id":"DE4A45B5-17B5-48BB-9D16-7461A5ED8FE5","type":"message","text":"If you can’t *statically* guarantee at compile time that `B = 0`, it’s likely not worth it unless the matrixes are rather big. ","user":"U8D9768Q6","ts":"1608154436.032400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oXqdW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If you can’t "},{"type":"text","text":"statically","style":{"bold":true}},{"type":"text","text":" guarantee at compile time that "},{"type":"text","text":"B = 0","style":{"code":true}},{"type":"text","text":", it’s likely not worth it unless the matrixes are rather big. "}]}]}]},{"client_msg_id":"1B32C6C6-1855-47C5-B384-5851BEF680FE","type":"message","text":"But no, I don’t think there’s a type like that laying around. I would like to have one though. ","user":"U8D9768Q6","ts":"1608154459.033100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VR2g","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"But no, I don’t think there’s a type like that laying around. I would like to have one though. "}]}]}]},{"client_msg_id":"03C91774-3161-4B02-9750-8C1353D9E7AE","type":"message","text":"There’s been a few discussions of such a concept on GitHub. ","user":"U8D9768Q6","ts":"1608154479.033700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"V9o","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There’s been a few discussions of such a concept on GitHub. "}]}]}]},{"client_msg_id":"d3328bed-08d7-4e94-a3bb-507c922fa281","type":"message","text":"Yeah, that's precisely the situation I'd be in. That's alright, I'll create my own type; if more are interested we can spin out a small package.","user":"UCT7E536E","ts":"1608154803.035400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"2THeQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Yeah, that's precisely the situation I'd be in. That's alright, I'll create my own type; if more are interested we can spin out a small package."}]}]}],"reactions":[{"name":"+1","users":["U8D9768Q6"],"count":1}]},{"client_msg_id":"b9b95b21-53da-411d-a675-e65e810d6884","type":"message","text":"Perhaps `FillArrays.Zeros`?","user":"UDXST8ARK","ts":"1608155261.036700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ozxL2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Perhaps "},{"type":"text","text":"FillArrays.Zeros","style":{"code":true}},{"type":"text","text":"?"}]}]}],"reactions":[{"name":"+1","users":["U8D9768Q6","UCT7E536E","U6A936746","U881D0W2C","U67G3QRJM","U82RE6STE"],"count":6}]},{"client_msg_id":"e9937da2-9ad4-42ad-bb0b-9a90d8c64b35","type":"message","text":"Forgot about that, nice. It unfortunately allocates a new array when doing addition, but maybe that's okay. Easy PR too if someone wants to tackle it.","user":"U8D9768Q6","ts":"1608155435.037700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"0H22","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Forgot about that, nice. It unfortunately allocates a new array when doing addition, but maybe that's okay. Easy PR too if someone wants to tackle it."}]}]}],"thread_ts":"1608155435.037700","reply_count":1,"reply_users_count":1,"latest_reply":"1608200971.038400","reply_users":["U881D0W2C"],"subscribed":false},{"client_msg_id":"ee01fcc3-c352-4d83-8d1c-ba46aceee30a","type":"message","text":"Can anyone help me find the fastest way to do this pseudo code?\n```for i in 1:~50\n    Mᵢ = [A Bᵢ, Bᵢᵀ D]\n    Mᵢ \\ bᵢ\n    Mᵢ \\ cᵢ\n    Mᵢ \\ dᵢ\nend```\n`M` is a block matrix with a size in the low thousands, `A` and `D` stay the same between iterations. Precision is not of the highest priority; I'm already using a iterative solver for the linear equations. `M` is not quite symmetric but the results of a conjugate gradient method work well enough.","user":"UCB7L9W49","ts":"1608320431.041900","team":"T68168MUP","edited":{"user":"UCB7L9W49","ts":"1608320962.000000"},"blocks":[{"type":"rich_text","block_id":"8Bc","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can anyone help me find the fastest way to do this pseudo code?\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"for i in 1:~50\n    Mᵢ = [A Bᵢ, Bᵢᵀ D]\n    Mᵢ \\ bᵢ\n    Mᵢ \\ cᵢ\n    Mᵢ \\ dᵢ\nend"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"M","style":{"code":true}},{"type":"text","text":" is a block matrix with a size in the low thousands, "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"D","style":{"code":true}},{"type":"text","text":" stay the same between iterations. Precision is not of the highest priority; I'm already using a iterative solver for the linear equations. "},{"type":"text","text":"M","style":{"code":true}},{"type":"text","text":" is not quite symmetric but the results of a conjugate gradient method work well enough."}]}]}]},{"client_msg_id":"605114a8-dccc-4e54-9f7c-247fc1a1adf8","type":"message","text":"`A` and `D` are symmetric positive / negative definite?","user":"UGG8Z375L","ts":"1608322672.042800","team":"T68168MUP","edited":{"user":"UGG8Z375L","ts":"1608322849.000000"},"blocks":[{"type":"rich_text","block_id":"l/X","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"D","style":{"code":true}},{"type":"text","text":" are symmetric positive / negative definite?"}]}]}]},{"client_msg_id":"d37e8ceb-f55b-4d3f-9cad-d443d03e407c","type":"message","text":"If it's the case you can use `TriCG` or `TriMR` instead of the conjugate gradient method (`CG`).","user":"UGG8Z375L","ts":"1608322775.043700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uck7t","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it's the case you can use "},{"type":"text","text":"TriCG","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"TriMR","style":{"code":true}},{"type":"text","text":" instead of the conjugate gradient method ("},{"type":"text","text":"CG","style":{"code":true}},{"type":"text","text":")."}]}]}]},{"client_msg_id":"3e8d2f25-9975-4ad1-adc6-770a86bb548c","type":"message","text":"They are equally \"not quite but close enough for CG\" symmetric positive definite.\nI read the documentation on this but I'm out of my depth here. I should be using it here like `tricg(Bᵢ, b₁, b₂; M = A⁻¹, N = D⁻¹)` ?","user":"UCB7L9W49","ts":"1608325962.046600","team":"T68168MUP","edited":{"user":"UCB7L9W49","ts":"1608326305.000000"},"blocks":[{"type":"rich_text","block_id":"6odf/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"They are equally \"not quite but close enough for CG\" symmetric positive definite.\nI read the documentation on this but I'm out of my depth here. I should be using it here like "},{"type":"text","text":"tricg(Bᵢ, b₁, b₂; M = A⁻¹, N = D⁻¹)","style":{"code":true}},{"type":"text","text":" ?"}]}]}],"thread_ts":"1608325962.046600","reply_count":36,"reply_users_count":2,"latest_reply":"1608330457.061000","reply_users":["UGG8Z375L","UCB7L9W49"],"subscribed":false},{"client_msg_id":"dc906986-6cc8-47cf-9cca-de257bcb5439","type":"message","text":"```llt_A = cholesky(A)\ny = similar(b₁)\nopA⁻¹ = LinearOperator(Float64, size(A,1), size(A,2), true, true, v -&gt; ldiv!(y, llt_A, v))\n\nllt_D = cholesky(D)\nz = similar(b₂)\nopD⁻¹ = LinearOperator(Float64, size(D,1), size(D,2), true, true, v -&gt; ldiv!(z, llt_D, v))\n\ntricg(Bᵢ, b₁, b₂; M = opA⁻¹, N = opD⁻¹, spd=true)\ntrimr(Bᵢ, b₁, b₂; M = opA⁻¹, N = opD⁻¹, spd=true)```","user":"UGG8Z375L","ts":"1608326441.049600","team":"T68168MUP","edited":{"user":"UGG8Z375L","ts":"1608326722.000000"},"blocks":[{"type":"rich_text","block_id":"m9Vno","elements":[{"type":"rich_text_preformatted","elements":[{"type":"text","text":"llt_A = cholesky(A)\ny = similar(b₁)\nopA⁻¹ = LinearOperator(Float64, size(A,1), size(A,2), true, true, v -> ldiv!(y, llt_A, v))\n\nllt_D = cholesky(D)\nz = similar(b₂)\nopD⁻¹ = LinearOperator(Float64, size(D,1), size(D,2), true, true, v -> ldiv!(z, llt_D, v))\n\ntricg(Bᵢ, b₁, b₂; M = opA⁻¹, N = opD⁻¹, spd=true)\ntrimr(Bᵢ, b₁, b₂; M = opA⁻¹, N = opD⁻¹, spd=true)"}]}]}]},{"client_msg_id":"9dbcd2ba-4085-4221-9edd-373b72621ac8","type":"message","text":"Is there a special name for a matrix that is banded around the diagonal that passes through its central element? i.e. if matrix `A` has size `(m, n)` for odd `(m, n)`, then the central element is at  `A[(m+1)/2, (n+1)/2]`. Then we call the diagonal the one that passes through this central element and the upper and lower diagonals accordingly. Just wondering if there's a literature on any special properties.","user":"UHDQQ4GN6","ts":"1608593158.068500","team":"T68168MUP","edited":{"user":"UHDQQ4GN6","ts":"1608593657.000000"},"blocks":[{"type":"rich_text","block_id":"lshOA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a special name for a matrix that is banded around the diagonal that passes through its central element? i.e. if matrix "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" has size "},{"type":"text","text":"(m, n)","style":{"code":true}},{"type":"text","text":" for odd "},{"type":"text","text":"(m, n)","style":{"code":true}},{"type":"text","text":", then the central element is at  "},{"type":"text","text":"A[(m+1)/2, (n+1)/2]","style":{"code":true}},{"type":"text","text":". Then we call the diagonal the one that passes through this central element and the upper and lower diagonals accordingly. Just wondering if there's a literature on any special properties."}]}]}],"reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"19668773-90c1-460f-b909-1851682d5af1","type":"message","text":"if I have a big sparse matrix (2^30 by 2^30) constructed by `foldl(kron, array_of_2x2_matrix)` , is there a way to re-use the big sparse matrix? allocation is a big crazy for me","user":"UH8A351DJ","ts":"1608692536.070700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"cAm","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if I have a big sparse matrix (2^30 by 2^30) constructed by "},{"type":"text","text":"foldl(kron, array_of_2x2_matrix)","style":{"code":true}},{"type":"text","text":" , is there a way to re-use the big sparse matrix? allocation is a big crazy for me"}]}]}]},{"client_msg_id":"a85fa07c-f3f4-4a1f-a868-6a82f9444cba","type":"message","text":"What is the \"linear expansion of a vector in a basis\"?","user":"U6A936746","ts":"1609082607.072300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uAlmY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the \"linear expansion of a vector in a basis\"?"}]}]}]},{"client_msg_id":"69e66523-3beb-41ef-bbc9-2d4ba455405e","type":"message","text":"writing a vector as an array of coefficients according to some assumed basis","user":"U69BL50BF","ts":"1609082701.072700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"hoOBA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"writing a vector as an array of coefficients according to some assumed basis"}]}]}]},{"client_msg_id":"7f007523-a40b-485e-a1ec-a33cfbcd998e","type":"message","text":"normally what you call a \"Vector\" is just the linear expansion of a vector in the basis `{e1,e2,...,en}`","user":"U69BL50BF","ts":"1609082733.073400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uvLv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"normally what you call a \"Vector\" is just the linear expansion of a vector in the basis "},{"type":"text","text":"{e1,e2,...,en}","style":{"code":true}}]}]}]},{"client_msg_id":"9b1acbbe-8498-4fb2-bc54-79fc9636caa3","type":"message","text":"but you can expand it in alternative bases, and in that case the coefficients are different","user":"U69BL50BF","ts":"1609082748.073800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"WjI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but you can expand it in alternative bases, and in that case the coefficients are different"}]}]}]},{"client_msg_id":"becd0087-2745-4532-8af3-a3de6a8b114c","type":"message","text":"but it's still the same vector","user":"U69BL50BF","ts":"1609082756.074000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ScC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but it's still the same vector"}]}]}]},{"client_msg_id":"4aff826f-af44-4a6b-9af0-6feca3edab0e","type":"message","text":"Oh so it's just another word for change of basis?","user":"U6A936746","ts":"1609083019.074600","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1609083031.000000"},"blocks":[{"type":"rich_text","block_id":"rPGN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh so it's just another word for change of basis?"}]}]}]},{"client_msg_id":"87ce4e28-7519-48a3-99a0-40efeaa7db93","type":"message","text":"It’s the coordinates of the vector with respect to that basis. When you learn linear algebra in the mathy way, they start from the assumption that there are things that satisfy the axioms of a vector space and then show that a vector can be written as a linear combination of basis elements (the definition of a basis is that this is possible), that a basis always exists, and that any two bases have the same cardinality, which is called the dimension of the space. Which is a round about way of explaining that vectors are assumed to exist independent of any basis. Of course, in practice, we almost always work with vectors expressed in terms of some basis, so it’s weird to even think of them independent of a basis, but that’s the perspective a lot of statements in formal linear algebra take.","user":"U6795JH6H","ts":"1609083853.080100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qL=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It’s the coordinates of the vector with respect to that basis. When you learn linear algebra in the mathy way, they start from the assumption that there are things that satisfy the axioms of a vector space and then show that a vector can be written as a linear combination of basis elements (the definition of a basis is that this is possible), that a basis always exists, and that any two bases have the same cardinality, which is called the dimension of the space. Which is a round about way of explaining that vectors are assumed to exist independent of any basis. Of course, in practice, we almost always work with vectors expressed in terms of some basis, so it’s weird to even think of them independent of a basis, but that’s the perspective a lot of statements in formal linear algebra take."}]}]}]},{"client_msg_id":"26f31a9f-0e2b-4570-b4eb-e59996a66b73","type":"message","text":"well in finite dimensional spaces the representation doesn't really matter and you have a canonical representation so you always tend to represent it in the standard basis","user":"U69BL50BF","ts":"1609085310.088100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ujg","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"well in finite dimensional spaces the representation doesn't really matter and you have a canonical representation so you always tend to represent it in the standard basis"}]}]}]},{"client_msg_id":"f14688cc-2b65-4ef7-9e9c-a8096b4639d2","type":"message","text":"but infinite dimensional spaces people tend to talk about the vector itself outside of a basis","user":"U69BL50BF","ts":"1609085329.088600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"q0g7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but infinite dimensional spaces people tend to talk about the vector itself outside of a basis"}]}]}]},{"client_msg_id":"f96b17ea-008e-477f-927c-af4d74764753","type":"message","text":"a common example is functions","user":"U69BL50BF","ts":"1609085334.088800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"+p0F","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"a common example is functions"}]}]}]},{"client_msg_id":"9e76f84e-dd3d-4b20-b547-50533b3e83f2","type":"message","text":"`f` is an L^2 function, and so it can be represented in the Fourier basis, or etc.","user":"U69BL50BF","ts":"1609085380.089500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E+Rw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"f","style":{"code":true}},{"type":"text","text":" is an L^2 function, and so it can be represented in the Fourier basis, or etc."}]}]}]},{"client_msg_id":"07c88049-3ed7-4950-9bca-087a3c1b1c14","type":"message","text":"but people still call it `f(x) = x^2 + x` while knowing the Sobolev spaces it lives in are vector spaces","user":"U69BL50BF","ts":"1609085418.090200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"vYa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"but people still call it "},{"type":"text","text":"f(x) = x^2 + x","style":{"code":true}},{"type":"text","text":" while knowing the Sobolev spaces it lives in are vector spaces"}]}]}]},{"client_msg_id":"509e3fca-7805-46ac-84b4-f7be277b5f8d","type":"message","text":"and when doing gradient descent you're doing functional gradient descent on normed vector spaces in some finite dimensional representations, etc.","user":"U69BL50BF","ts":"1609085443.090800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AkZT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and when doing gradient descent you're doing functional gradient descent on normed vector spaces in some finite dimensional representations, etc."}]}]}]},{"client_msg_id":"3f4aab4f-752d-4e66-a5dd-ae8db6130939","type":"message","text":"so it's used quite a bit, just not in \"Linear Algebra\"","user":"U69BL50BF","ts":"1609085458.091200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"P9KS6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"so it's used quite a bit, just not in \"Linear Algebra\""}]}]}]},{"client_msg_id":"3e3f3652-e09e-45f8-9a02-818d81e90338","type":"message","text":"I did the mathsy unit, one of the ones where you get like 2/3rds if the way through before you get to \"and now we show every vector space is isomorphic to C^n\".\nIdk if I have just forgotten that term or if we called it something else.\nI am going through Trefethen and Bau's \"Numerical Linear Algebra\" book\nAnd they start with `C^n` as a given.\nFirst use of the term linear expansion is  saying `A^-1 b` is the vector of coefficients of the linear expansion of `b`  in the basis of the columns of  `A`","user":"U6A936746","ts":"1609085654.092300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"piB1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I did the mathsy unit, one of the ones where you get like 2/3rds if the way through before you get to \"and now we show every vector space is isomorphic to C^n\".\nIdk if I have just forgotten that term or if we called it something else.\nI am going through Trefethen and Bau's \"Numerical Linear Algebra\" book\nAnd they start with "},{"type":"text","text":"C^n","style":{"code":true}},{"type":"text","text":" as a given.\nFirst use of the term linear expansion is  saying "},{"type":"text","text":"A^-1 b","style":{"code":true}},{"type":"text","text":" is the vector of coefficients of the linear expansion of "},{"type":"text","text":"b ","style":{"code":true}},{"type":"text","text":" in the basis of the columns of  "},{"type":"text","text":"A","style":{"code":true}}]}]}]},{"client_msg_id":"8be38d06-2202-45b3-a74f-c3ee3b2cd2b6","type":"message","text":"Oh the next paragraph says \"Multiplying by `A^-1` is a change of basis operation\"\nI should have kept reading...","user":"U6A936746","ts":"1609086059.094100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"FlxT","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh the next paragraph says \"Multiplying by "},{"type":"text","text":"A^-1","style":{"code":true}},{"type":"text","text":" is a change of basis operation\"\nI should have kept reading..."}]}]}]},{"client_msg_id":"eb1bac18-05a2-4430-b363-e9dac7feeb06","type":"message","text":"I didn't understand why linear algebra does that \"vectors are independent of a basis\" thing until I learned some differential geometry, and then it became obvious that it has to be this way. Generally there is no canonical way of defining a basis of a tangent space until you pick a chart, and usually there is no canonical chart to pick.","user":"U9AHT3YM7","ts":"1609150613.097700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"VyGW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't understand why linear algebra does that \"vectors are independent of a basis\" thing until I learned some differential geometry, and then it became obvious that it has to be this way. Generally there is no canonical way of defining a basis of a tangent space until you pick a chart, and usually there is no canonical chart to pick."}]}]}]},{"client_msg_id":"4f61cbc1-efae-454a-8464-ba567c85b23d","type":"message","text":"Also, just because there exists a \"canonical\" basis (or what you believe is the canonical basis) doesn't mean that this is a good choice. Think of polynomials (up to a given degree), and the problem of polynomial interpolation. Choosing the \"canonical\" monomial basis makes the problem of finding the interpolant's coefficients (as functions of the given values) very ill-conditioned, in dramatic contrast to choosing, e.g., Lagrange's basis. This fact is probably very hard to grasp/teach without understanding that the canonical basis is just one out of many.","user":"U011TRN4QBU","ts":"1609169436.103400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ngb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Also, just because there exists a \"canonical\" basis (or what you believe is the canonical basis) doesn't mean that this is a good choice. Think of polynomials (up to a given degree), and the problem of polynomial interpolation. Choosing the \"canonical\" monomial basis makes the problem of finding the interpolant's coefficients (as functions of the given values) very ill-conditioned, in dramatic contrast to choosing, e.g., Lagrange's basis. This fact is probably very hard to grasp/teach without understanding that the canonical basis is just one out of many."}]}]}]},{"client_msg_id":"d8286765-04bb-43a1-8f95-e24adbff2ca0","type":"message","text":"is there any reason the `tr` function in <https://github.com/JuliaLang/julia/blob/master/stdlib/LinearAlgebra/src/dense.jl#L332> couldn't be removed where it's at and replace what's in <https://github.com/JuliaLang/julia/blob/master/stdlib/LinearAlgebra/src/generic.jl#L1027> to make the generic case non-allocating? I only noticed because `tr` for a `Symmetric` dense matrix was falling back to the generic.jl method","user":"UDPLCA08H","ts":"1609184689.105000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lW7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there any reason the "},{"type":"text","text":"tr","style":{"code":true}},{"type":"text","text":" function in "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/stdlib/LinearAlgebra/src/dense.jl#L332"},{"type":"text","text":" couldn't be removed where it's at and replace what's in "},{"type":"link","url":"https://github.com/JuliaLang/julia/blob/master/stdlib/LinearAlgebra/src/generic.jl#L1027"},{"type":"text","text":" to make the generic case non-allocating? I only noticed because "},{"type":"text","text":"tr","style":{"code":true}},{"type":"text","text":" for a "},{"type":"text","text":"Symmetric","style":{"code":true}},{"type":"text","text":" dense matrix was falling back to the generic.jl method"}]}]}],"thread_ts":"1609184689.105000","reply_count":2,"reply_users_count":2,"latest_reply":"1609185794.105300","reply_users":["UM30MT6RF","U680T6770"],"subscribed":false},{"client_msg_id":"83ea5a66-310f-4225-afc5-ea64ca74d10d","type":"message","text":"What is the best way to do matrix multiplications of the form `C .+= A*P*A^T`, where `P` and `C` are `positive definite` matrices. The code should be compatible with `ForwardDiff`, meaning any of the elements of `A`, `P` or `C` could be of `Dual` type.","user":"UQEDP1Q5V","ts":"1609783009.111600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"KOYR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What is the best way to do matrix multiplications of the form "},{"type":"text","text":"C .+= A*P*A^T","style":{"code":true}},{"type":"text","text":", where "},{"type":"text","text":"P","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" are "},{"type":"text","text":"positive definite","style":{"code":true}},{"type":"text","text":" matrices. The code should be compatible with "},{"type":"text","text":"ForwardDiff","style":{"code":true}},{"type":"text","text":", meaning any of the elements of "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"P","style":{"code":true}},{"type":"text","text":" or "},{"type":"text","text":"C","style":{"code":true}},{"type":"text","text":" could be of "},{"type":"text","text":"Dual","style":{"code":true}},{"type":"text","text":" type."}]}]}],"thread_ts":"1609783009.111600","reply_count":6,"reply_users_count":3,"latest_reply":"1609784282.112800","reply_users":["UCT7E536E","UQEDP1Q5V","U6A936746"],"subscribed":false},{"client_msg_id":"102e9e50-9b82-4687-8e1f-aabc9f5ae498","type":"message","text":"Question: if I were to extend `LinearAlgebra.diag` for an arbitrary dimension, what would it look like?  Would it be all of the indices that are the same (thus returning a vector)?  I.e., (1, 1, …, 1), (2, 2, …, 2), …, (n, n, …, n)?  Or would it be a diagonal hyperplane that is one dimension less than the given matrix?","user":"U014LRLJXRP","ts":"1609928080.115300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"E8G","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Question: if I were to extend "},{"type":"text","text":"LinearAlgebra.diag","style":{"code":true}},{"type":"text","text":" for an arbitrary dimension, what would it look like?  Would it be all of the indices that are the same (thus returning a vector)?  I.e., (1, 1, …, 1), (2, 2, …, 2), …, (n, n, …, n)?  Or would it be a diagonal hyperplane that is one dimension less than the given matrix?"}]}]}],"thread_ts":"1609928080.115300","reply_count":2,"reply_users_count":2,"latest_reply":"1609928795.115600","reply_users":["U014LRLJXRP","UD0NS8PDF"],"subscribed":false},{"client_msg_id":"c08cfde9-e168-4f1c-a835-e1586aa7fc24","type":"message","text":"Does someone know how to do graph visualization of matrices like in the UFL Collection ?\n<http://yifanhu.net/GALLERY/GRAPHS/index.html>\nThey use the `sfdp` algorithm available in the `Graphviz` software but they don't explain how they obtain\nthe final graph when a matrix is given in the MatrixMarket format (`.mtx`) or a `.dot` file after some transformations\nwith the `Network Graph Toolkit`.","user":"UGG8Z375L","ts":"1609970848.128100","team":"T68168MUP","edited":{"user":"UGG8Z375L","ts":"1609970895.000000"},"blocks":[{"type":"rich_text","block_id":"set=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does someone know how to do graph visualization of matrices like in the UFL Collection ?\n"},{"type":"link","url":"http://yifanhu.net/GALLERY/GRAPHS/index.html"},{"type":"text","text":"\nThey use the "},{"type":"text","text":"sfdp","style":{"code":true}},{"type":"text","text":" algorithm available in the "},{"type":"text","text":"Graphviz","style":{"code":true}},{"type":"text","text":" software but they don't explain how they obtain\nthe final graph when a matrix is given in the MatrixMarket format ("},{"type":"text","text":".mtx","style":{"code":true}},{"type":"text","text":") or a "},{"type":"text","text":".dot","style":{"code":true}},{"type":"text","text":" file after some transformations\nwith the "},{"type":"text","text":"Network Graph Toolkit","style":{"code":true}},{"type":"text","text":"."}]}]}]},{"client_msg_id":"48321c1e-d030-406c-87ad-a903052d17af","type":"message","text":"WHat's an easy way to generate a random orthogonal matrix (I don't care much about the distribution)","user":"U7YD3DKL2","ts":"1610361390.130500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Th1oz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"WHat's an easy way to generate a random orthogonal matrix (I don't care much about the distribution)"}]}]}]},{"type":"message","text":"","user":"U82RE6STE","ts":"1610366389.132500","team":"T68168MUP","attachments":[{"fallback":"[January 11th, 2021 12:48 PM] mathieu.besancon: does anyone know if there are tricks / issues with the number of BLAS threads on ARM ? We have a server where a given function seems to use one thread for blas operations, when the same code uses multiple threads on an intel architecture","ts":"1610365728.017000","author_id":"U82RE6STE","author_subname":"Mathieu Besançon","channel_id":"C6SHHFV60","channel_name":"arm","is_msg_unfurl":true,"text":"does anyone know if there are tricks / issues with the number of BLAS threads on ARM ? We have a server where a given function seems to use one thread for blas operations, when the same code uses multiple threads on an intel architecture","author_name":"Mathieu Besançon","author_link":"https://julialang.slack.com/team/U82RE6STE","author_icon":"https://avatars.slack-edge.com/2018-01-24/305197567655_508578aa5910bca4b959_48.jpg","mrkdwn_in":["text"],"color":"D0D0D0","from_url":"https://julialang.slack.com/archives/C6SHHFV60/p1610365728017000","is_share":true,"footer":"Posted in #arm"}]},{"client_msg_id":"694eaca2-8901-42d6-a8af-d362623a3266","type":"message","text":"is there a standard way (think Arrow/HDF5) to store large sparse matrix on disk?","user":"UH8A351DJ","ts":"1611091802.015900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s0=U","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a standard way (think Arrow/HDF5) to store large sparse matrix on disk?"}]}]}]},{"client_msg_id":"6607eba4-c0c2-4b05-a795-f54321672c7a","type":"message","text":"For use outside of julia?","user":"U6N6VQE30","ts":"1611095329.017400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"r0B","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For use outside of julia?"}]}]}]},{"client_msg_id":"397242b9-0daa-4852-8dbc-1e8aee7502e2","type":"message","text":"I'm not aware of an industry standard format specifically for sparse matrix so maybe not?","user":"UH8A351DJ","ts":"1611095430.017900","team":"T68168MUP","edited":{"user":"UH8A351DJ","ts":"1611095680.000000"},"blocks":[{"type":"rich_text","block_id":"uYy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm not aware of an industry standard format specifically for sparse matrix so maybe not?"}]}]}]},{"client_msg_id":"a6ca26fa-0569-4ef9-9af4-33d237b3ff07","type":"message","text":"For julia i'd probably just use jld2, althought it has been a while since I've looked into the status of (de)serialization libs","user":"U6N6VQE30","ts":"1611095606.019200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"4MpW","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For julia i'd probably just use jld2, althought it has been a while since I've looked into the status of (de)serialization libs"}]}]}],"reactions":[{"name":"heart","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"6a53d727-b1b9-4ca9-85f9-e63ab6729000","type":"message","text":"<https://github.com/JuliaSparse/HarwellRutherfordBoeing.jl> ?","user":"UGG8Z375L","ts":"1611109101.019700","team":"T68168MUP","edited":{"user":"UGG8Z375L","ts":"1611109111.000000"},"blocks":[{"type":"rich_text","block_id":"f9b","elements":[{"type":"rich_text_section","elements":[{"type":"link","url":"https://github.com/JuliaSparse/HarwellRutherfordBoeing.jl"},{"type":"text","text":" ?"}]}]}],"thread_ts":"1611109101.019700","reply_count":3,"reply_users_count":3,"latest_reply":"1611152349.021000","reply_users":["UH8A351DJ","UGG8Z375L","UDHCV0BHD"],"subscribed":false,"reactions":[{"name":"eyes","users":["UH8A351DJ"],"count":1}]},{"client_msg_id":"01904a00-4ba7-442e-9f25-e1e838d5082c","type":"message","text":"Some days ago, now beyond the Slack event horizon, I was asking at <#C6A044SQH|helpdesk> about a strange error when doing `eigen(A,B)` with two rather mundane matrices `A,B` , both `Matrix{CoplexF64}`. The error was from LAPACK, a lack of convergence according to the LAPACK docs. The strange thing is that slight perturbations of A,B would not fail, and that many, many pairs A,B would trigger this same kind of error. MKL and Mathematica have no trouble doing the equivalent operation. <@U6N6VQE30> suggested it might be a bug with OpenBLAS. I finally decided to try and look into it, but since this ventures outside the boundaries of Julia, I'm not sure how to proceed.\nMy question is: how can I call a different version of the LAPACK libraries, different from the ones bundled with Julia? Just to make sure the issue lies with the OpenBLAS version we're shipping.","user":"U6G4M02N4","ts":"1611218525.001600","team":"T68168MUP","edited":{"user":"U6G4M02N4","ts":"1611218552.000000"},"blocks":[{"type":"rich_text","block_id":"MlgGQ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Some days ago, now beyond the Slack event horizon, I was asking at "},{"type":"channel","channel_id":"C6A044SQH"},{"type":"text","text":" about a strange error when doing "},{"type":"text","text":"eigen(A,B)","style":{"code":true}},{"type":"text","text":" with two rather mundane matrices "},{"type":"text","text":"A,B","style":{"code":true}},{"type":"text","text":" , both "},{"type":"text","text":"Matrix{CoplexF64}","style":{"code":true}},{"type":"text","text":". The error was from LAPACK, a lack of convergence according to the LAPACK docs. The strange thing is that slight perturbations of A,B would not fail, and that many, many pairs A,B would trigger this same kind of error. MKL and Mathematica have no trouble doing the equivalent operation. "},{"type":"user","user_id":"U6N6VQE30"},{"type":"text","text":" suggested it might be a bug with OpenBLAS. I finally decided to try and look into it, but since this ventures outside the boundaries of Julia, I'm not sure how to proceed.\nMy question is: how can I call a different version of the LAPACK libraries, different from the ones bundled with Julia? Just to make sure the issue lies with the OpenBLAS version we're shipping."}]}]}]},{"client_msg_id":"5c224279-0c2b-4541-aa8e-5572fdadbf7d","type":"message","text":"if you want to try out different lapack implementations from a single Julia sessions, you could do `using MKL_jll, OpenBLAS_jll`","user":"U6N6VQE30","ts":"1611218920.003200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Avb4x","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"if you want to try out different lapack implementations from a single Julia sessions, you could do "},{"type":"text","text":"using MKL_jll, OpenBLAS_jll","style":{"code":true}}]}]}],"thread_ts":"1611218920.003200","reply_count":20,"reply_users_count":3,"latest_reply":"1611266856.036200","reply_users":["U6G4M02N4","U6N6VQE30","UGD4K0Z25"],"subscribed":false},{"client_msg_id":"dc649590-8dd4-458a-9475-de7f05290f1a","type":"message","text":"and then directly call the C function with the potential bug","user":"U6N6VQE30","ts":"1611218980.003600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"ivB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"and then directly call the C function with the potential bug"}]}]}]},{"client_msg_id":"b50a19ad-ba43-4092-8ac9-ebde7e530898","type":"message","text":"see e.g. <https://github.com/chriselrod/PaddedMatrices.jl/blob/master/benchmark/blasbench.jl#L44>","user":"U6N6VQE30","ts":"1611218985.003800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Su9z8","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"see e.g. "},{"type":"link","url":"https://github.com/chriselrod/PaddedMatrices.jl/blob/master/benchmark/blasbench.jl#L44"}]}]}]},{"client_msg_id":"45baf564-fa66-4607-a29f-dde77bcdb988","type":"message","text":"<@U6G4M02N4> When you hit these kinds of issues, it’s also often a good idea to try to set `BLAS.set_num_threasd(1)` and to try old BLAS kernels by starting Julia with something like `OPENBLAS_CORETYPE=core2 julia`. If either of these make the issue go away then it’s likely an issue with OpenBLAS.","user":"U680T6770","ts":"1611221899.008100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lgHD","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6G4M02N4"},{"type":"text","text":" When you hit these kinds of issues, it’s also often a good idea to try to set "},{"type":"text","text":"BLAS.set_num_threasd(1)","style":{"code":true}},{"type":"text","text":" and to try old BLAS kernels by starting Julia with something like "},{"type":"text","text":"OPENBLAS_CORETYPE=core2 julia","style":{"code":true}},{"type":"text","text":". If either of these make the issue go away then it’s likely an issue with OpenBLAS."}]}]}]},{"client_msg_id":"76c6f5fe-2b46-4007-9ae9-fcdbb3ec0fe2","type":"message","text":"Oh, very nice, off to try that now!","user":"U6G4M02N4","ts":"1611221937.008700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M7k","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, very nice, off to try that now!"}]}]}]},{"client_msg_id":"2352ae1e-f6aa-4b74-871b-f9aad18e0f8a","type":"message","text":"Neither of those fix the issue, unfortunately","user":"U6G4M02N4","ts":"1611222840.009100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"n/SsU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Neither of those fix the issue, unfortunately"}]}]}]},{"client_msg_id":"679a9022-741b-4b18-bc8c-fae2c3568c9c","type":"message","text":"The matrices aren’t Hermitian, right?","user":"U680T6770","ts":"1611223027.009600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"eBiZ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The matrices aren’t Hermitian, right?"}]}]}]},{"client_msg_id":"35b7a63e-86be-495e-9e23-e79ad643bc36","type":"message","text":"Nope","user":"U6G4M02N4","ts":"1611223600.009800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"LiMH1","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Nope"}]}]}]},{"client_msg_id":"cd00dc87-9daa-4f91-9d41-1235ba30b1d7","type":"message","text":"Just tried under Python 2.7, got exactly the same error with the same matrices","user":"U6G4M02N4","ts":"1611223616.010200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Lm562","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just tried under Python 2.7, got exactly the same error with the same matrices"}]}]}]},{"client_msg_id":"28c1c617-1f31-4e19-8076-ebe8edcc3477","type":"message","text":"does GenericSchur support the generalized problem?","user":"U6N6VQE30","ts":"1611223649.011400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"knNZz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"does GenericSchur support the generalized problem?"}]}]}]},{"client_msg_id":"ebcfb119-eded-4877-aef2-61b7bed18957","type":"message","text":"For reference\n```A = ComplexF64[0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 3.7796350217469814 -3.3125635598133054 0.0 0.0 0.0 0.0 0.0 0.0 6.418270043493963 -6.625127119626611 0.0 0.0 0.0 0.0 0.0 -1.0; -3.312563559813306 3.779635021746982 0.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626612 6.418270043493964 -1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 3.7796350217469814 0.0 0.0 -3.3125635598133054 0.0 0.0 0.0 -1.0 6.418270043493963 0.0 0.0 -6.625127119626611 0.0 0.0; 0.0 0.0 0.0 3.779635021746982 -3.312563559813306 0.0 0.0 0.0 0.0 0.0 0.0 6.418270043493964 -6.625127119626612 0.0 -1.0 0.0; 0.0 0.0 0.0 -3.3125635598133054 3.7796350217469814 0.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626611 6.418270043493963 -1.0 0.0 0.0; 0.0 0.0 -3.312563559813306 0.0 0.0 3.779635021746982 0.0 0.0 0.0 0.0 -6.625127119626612 0.0 -1.0 6.418270043493964 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 3.7796350217469814 -3.3125635598133054 0.0 0.0 0.0 -1.0 0.0 0.0 6.418270043493963 -6.625127119626611; 0.0 0.0 0.0 0.0 0.0 0.0 -3.312563559813306 3.779635021746982 -1.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626612 6.418270043493964];\nB = ComplexF64[1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 3.312563559813306 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 -3.779635021746982 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 0.0 0.0 3.312563559813306 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.779635021746982 3.3125635598133054 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.312563559813306 -3.7796350217469814 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 0.0 0.0 -3.779635021746982 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 3.312563559813306; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 -3.779635021746982];```","user":"U6G4M02N4","ts":"1611223683.012000","team":"T68168MUP","edited":{"user":"U6G4M02N4","ts":"1611224029.000000"},"blocks":[{"type":"rich_text","block_id":"LEhPa","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For reference\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"A = ComplexF64[0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0; 3.7796350217469814 -3.3125635598133054 0.0 0.0 0.0 0.0 0.0 0.0 6.418270043493963 -6.625127119626611 0.0 0.0 0.0 0.0 0.0 -1.0; -3.312563559813306 3.779635021746982 0.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626612 6.418270043493964 -1.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 3.7796350217469814 0.0 0.0 -3.3125635598133054 0.0 0.0 0.0 -1.0 6.418270043493963 0.0 0.0 -6.625127119626611 0.0 0.0; 0.0 0.0 0.0 3.779635021746982 -3.312563559813306 0.0 0.0 0.0 0.0 0.0 0.0 6.418270043493964 -6.625127119626612 0.0 -1.0 0.0; 0.0 0.0 0.0 -3.3125635598133054 3.7796350217469814 0.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626611 6.418270043493963 -1.0 0.0 0.0; 0.0 0.0 -3.312563559813306 0.0 0.0 3.779635021746982 0.0 0.0 0.0 0.0 -6.625127119626612 0.0 -1.0 6.418270043493964 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 3.7796350217469814 -3.3125635598133054 0.0 0.0 0.0 -1.0 0.0 0.0 6.418270043493963 -6.625127119626611; 0.0 0.0 0.0 0.0 0.0 0.0 -3.312563559813306 3.779635021746982 -1.0 0.0 0.0 0.0 0.0 0.0 -6.625127119626612 6.418270043493964];\nB = ComplexF64[1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 3.312563559813306 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 -3.779635021746982 0.0 0.0 0.0 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 0.0 0.0 3.312563559813306 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.779635021746982 3.3125635598133054 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.312563559813306 -3.7796350217469814 0.0 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 0.0 0.0 -3.779635021746982 0.0 0.0; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 -3.7796350217469814 3.312563559813306; 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 3.3125635598133054 -3.779635021746982];"}]}]}],"thread_ts":"1611223683.012000","reply_count":1,"reply_users_count":1,"latest_reply":"1611243828.033700","reply_users":["U6788D83U"],"subscribed":false},{"client_msg_id":"13ccef8b-3251-4438-aa1c-79a568991596","type":"message","text":"seems like it: <https://github.com/RalphAS/GenericSchur.jl#generalized-eigensystems> does that fail in any way?","user":"U6N6VQE30","ts":"1611223696.012300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oWR","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"seems like it: "},{"type":"link","url":"https://github.com/RalphAS/GenericSchur.jl#generalized-eigensystems"},{"type":"text","text":" does that fail in any way?"}]}]}],"thread_ts":"1611223696.012300","reply_count":94,"reply_users_count":2,"latest_reply":"1611685416.062500","reply_users":["U6G4M02N4","U6N6VQE30"],"subscribed":false},{"client_msg_id":"f81eb5e4-97d3-47d2-aa51-e6217c12b4f2","type":"message","text":"Ok, I did my best to capture all the observations here: <https://github.com/Reference-LAPACK/lapack/issues/475>","user":"U6G4M02N4","ts":"1611250731.034400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"gsV8Q","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ok, I did my best to capture all the observations here: "},{"type":"link","url":"https://github.com/Reference-LAPACK/lapack/issues/475"}]}]}],"reactions":[{"name":"+1","users":["U680T6770"],"count":1}]},{"client_msg_id":"c85b8a25-866b-4cfb-afc3-387c359a80cc","type":"message","text":"I didn't get round to computing the conditioning of the problem yet (suggested by <@U6N6VQE30>)","user":"U6G4M02N4","ts":"1611250797.035100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"d+RB","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I didn't get round to computing the conditioning of the problem yet (suggested by "},{"type":"user","user_id":"U6N6VQE30"},{"type":"text","text":")"}]}]}]},{"client_msg_id":"e96641e6-c4ab-4f6a-9bd5-aebe480d366c","type":"message","text":"<@U6G4M02N4> at least for one of your problems, the algorithm gets stuck in the nullspace of A (after I fixed the typo Harmen found). I'd recommend using an SVD to project out of that.","user":"UBFATSCKU","ts":"1611331350.038100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"1GLN","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U6G4M02N4"},{"type":"text","text":" at least for one of your problems, the algorithm gets stuck in the nullspace of A (after I fixed the typo Harmen found). I'd recommend using an SVD to project out of that."}]}]}],"thread_ts":"1611331350.038100","reply_count":2,"reply_users_count":1,"latest_reply":"1611334300.043600","reply_users":["U6G4M02N4"],"subscribed":false},{"client_msg_id":"782298e1-3d42-481b-86be-de7b41f6e84a","type":"message","text":"Thanks for the tip <@UBFATSCKU>. Yes, I realized. The problem is that I would like to avoid the svd for each matrix pair, for performance reasons. I need the eigen! routines to be able to yield a zero or Inf eigenvalue if the nullspace is finite. Is that unreasonable to expect?","user":"U6G4M02N4","ts":"1611333483.040000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"PPtK","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the tip "},{"type":"user","user_id":"UBFATSCKU"},{"type":"text","text":". Yes, I realized. The problem is that I would like to avoid the svd for each matrix pair, for performance reasons. I need the eigen! routines to be able to yield a zero or Inf eigenvalue if the nullspace is finite. Is that unreasonable to expect?"}]}]}]},{"client_msg_id":"b23e0494-cc8c-41d8-9776-fce8f2b7d6e1","type":"message","text":"I mean, MKL does it, and OpenBLAS too in most instances","user":"U6G4M02N4","ts":"1611333635.040500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"h1l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I mean, MKL does it, and OpenBLAS too in most instances"}]}]}]},{"client_msg_id":"b3f1193c-24af-4e49-a28a-60cbca122506","type":"message","text":"Ideally, I'd like to understand why and when exactly LAPACK loses that ability. Is it a rounding/tolerance issue? Is there anything I can do to make it work? Otherwise, yes, I might need to do an svd, probably.","user":"U6G4M02N4","ts":"1611333764.042100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qn/K","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Ideally, I'd like to understand why and when exactly LAPACK loses that ability. Is it a rounding/tolerance issue? Is there anything I can do to make it work? Otherwise, yes, I might need to do an svd, probably."}]}]}]},{"client_msg_id":"186d0ea5-abe5-4336-9237-077ddc9bd8cd","type":"message","text":"On the other hand, example 1 in the issue has no nullspace for either A or B, and fails anyway ... :disappointed:","user":"U6G4M02N4","ts":"1611334046.042700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"M0Ia","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"On the other hand, example 1 in the issue has no nullspace for either A or B, and fails anyway ... "},{"type":"emoji","name":"disappointed"}]}]}]},{"client_msg_id":"0c6828da-5fd5-4e02-9b07-e4ae3934cffd","type":"message","text":"In that case I think the problem is casued by degeneracies of singular values...","user":"U6G4M02N4","ts":"1611334095.043200","team":"T68168MUP","edited":{"user":"U6G4M02N4","ts":"1611334331.000000"},"blocks":[{"type":"rich_text","block_id":"6T32l","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"In that case I think the problem is casued by degeneracies of singular values..."}]}]}]},{"client_msg_id":"3e4ca342-db40-4c92-b76c-79cb079ea601","type":"message","text":"Asked this is general, but it was pointed out that this would be a better channel.\n\nDoes anyone have any advice / could point me towards resources looking at efficiently implementing multiplication between a block-diagonal and a dense matrix? (In particular when the blocks in the block-diagonal matrix are quite small in comparison to the overall matrix, if that’s relevant).","user":"U6PQP41C3","ts":"1611348537.044400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"AG0RC","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Asked this is general, but it was pointed out that this would be a better channel.\n\nDoes anyone have any advice / could point me towards resources looking at efficiently implementing multiplication between a block-diagonal and a dense matrix? (In particular when the blocks in the block-diagonal matrix are quite small in comparison to the overall matrix, if that’s relevant)."}]}]}],"thread_ts":"1611348537.044400","reply_count":6,"reply_users_count":3,"latest_reply":"1611448396.051200","reply_users":["U82RE6STE","U6PQP41C3","U011TRN4QBU"],"subscribed":false},{"client_msg_id":"894a25c3-57f3-4824-bded-1f3c00e73dd1","type":"message","text":"is there a name for this function or is it defined somewhere? `f(xs, ys) = sum(x * y for (x, y) in zip(xs, ys))`; so this fails to be an inner product for complex vectors as it is lacking the `adjoint(x)`.","user":"U6N6VQE30","ts":"1611565861.053200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"/DiJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a name for this function or is it defined somewhere? "},{"type":"text","text":"f(xs, ys) = sum(x * y for (x, y) in zip(xs, ys))","style":{"code":true}},{"type":"text","text":"; so this fails to be an inner product for complex vectors as it is lacking the "},{"type":"text","text":"adjoint(x)","style":{"code":true}},{"type":"text","text":"."}]}]}],"thread_ts":"1611565861.053200","reply_count":8,"reply_users_count":5,"latest_reply":"1611569321.054900","reply_users":["U680T6770","UNM50TRRR","U6N6VQE30","UD0NS8PDF","UJ7DVTVQ8"],"subscribed":false},{"client_msg_id":"9d42ea84-9cdd-4893-8c90-6dfff6e6bb31","type":"message","text":"Hello! I'm currently looking at the code for symmetric matrices in the standard library, and I don't fully understand why `Symmetric{T,S&lt;:AbstractMatrix{&lt;:T}}` takes two type arguments. My best guess right now is [something something] compiler [something something] multiple dispatch [something something] no abstract types. Care to fill in the blanks :slightly_smiling_face:?","user":"U01GMP3HF9C","ts":"1611587719.056800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"B60P+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello! I'm currently looking at the code for symmetric matrices in the standard library, and I don't fully understand why "},{"type":"text","text":"Symmetric{T,S<:AbstractMatrix{<:T}}","style":{"code":true}},{"type":"text","text":" takes two type arguments. My best guess right now is [something something] compiler [something something] multiple dispatch [something something] no abstract types. Care to fill in the blanks "},{"type":"emoji","name":"slightly_smiling_face"},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"4f2e7be1-89b0-4c41-abc8-102b8e72f071","type":"message","text":"My guess would be: `T` is the type of the values (`Int`, `Float64`...), `S` the type of the matrix (dense, sparse, home cooked...).","user":"UCB7L9W49","ts":"1611587916.058500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"36wr","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"My guess would be: "},{"type":"text","text":"T","style":{"code":true}},{"type":"text","text":" is the type of the values ("},{"type":"text","text":"Int","style":{"code":true}},{"type":"text","text":", "},{"type":"text","text":"Float64","style":{"code":true}},{"type":"text","text":"...), "},{"type":"text","text":"S","style":{"code":true}},{"type":"text","text":" the type of the matrix (dense, sparse, home cooked...)."}]}]}],"thread_ts":"1611587916.058500","reply_count":5,"reply_users_count":3,"latest_reply":"1611641030.060700","reply_users":["U01GMP3HF9C","UCB7L9W49","UM30MT6RF"],"subscribed":false},{"client_msg_id":"fdebae4a-9706-4859-91f6-7eedfae9fb1e","type":"message","text":"Given a linear operator expressed as a function mapping a vector to a vector,\nis there a standard method for finding its matrix representation?\nIs there something like just applying it to a basis one column at a time, and then concatenating the output?","user":"U6A936746","ts":"1611844521.065200","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1611844525.000000"},"blocks":[{"type":"rich_text","block_id":"V+2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Given a linear operator expressed as a function mapping a vector to a vector,\nis there a standard method for finding its matrix representation?\nIs there something like just applying it to a basis one column at a time, and then concatenating the output?"}]}]}],"thread_ts":"1611844521.065200","reply_count":2,"reply_users_count":2,"latest_reply":"1611847050.067700","reply_users":["UNM50TRRR","UDD5Z7FLZ"],"subscribed":false,"reactions":[{"name":"+1","users":["UDXUQE5T3","U011LUQ182G"],"count":2}]},{"client_msg_id":"85f7e3d8-fa0a-4076-838c-d7be4e7f44b6","type":"message","text":"If it takes matrix, pass the identity in and you get the matrix. Otherwise, a loop and updating column views of an output may be the best you can do.","user":"U85JBUGGP","ts":"1611845138.067100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"97wGv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"If it takes matrix, pass the identity in and you get the matrix. Otherwise, a loop and updating column views of an output may be the best you can do."}]}]}]},{"client_msg_id":"81088364-721E-4365-9927-F5D0BF8DADA6","type":"message","text":"LinearOperators.jl will do that for you by simply applying the operator to each column of the identity.","user":"UB4KR33H9","ts":"1611943701.083700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"s7x9C","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"LinearOperators.jl will do that for you by simply applying the operator to each column of the identity."}]}]}]},{"client_msg_id":"11EDC5CA-ABAD-4535-9229-9939819E5176","type":"message","text":"Just call `Matrix(A)` where `A` is your linear operator.","user":"UB4KR33H9","ts":"1611943768.084700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"A+5","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Just call "},{"type":"text","text":"Matrix(A)","style":{"code":true}},{"type":"text","text":" where "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":" is your linear operator."}]}]}]},{"client_msg_id":"9e7d0cbb-c434-41cf-b3a1-cc77f04ede58","type":"message","text":"Given a matrix `A`, a vector `b` , a matrix `dA` and a vector `db`\nwhat is the most efficient way to compute: `Y = A*b` and  `dY = dA*b + A*db`\nIs:\n``Y = A*b`  and `dY = mul(dA*b, A, db, true, true)` as good as it gets?\nI thought there might be some way to pack them into one matrix and do it in a single operation and then unpack them at the end","user":"U6A936746","ts":"1612042300.088200","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1612042427.000000"},"blocks":[{"type":"rich_text","block_id":"CIiu","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Given a matrix "},{"type":"text","text":"A","style":{"code":true}},{"type":"text","text":", a vector "},{"type":"text","text":"b","style":{"code":true}},{"type":"text","text":" , a matrix "},{"type":"text","text":"dA","style":{"code":true}},{"type":"text","text":" and a vector "},{"type":"text","text":"db","style":{"code":true}},{"type":"text","text":"\nwhat is the most efficient way to compute: "},{"type":"text","text":"Y = A*b","style":{"code":true}},{"type":"text","text":" and  "},{"type":"text","text":"dY = dA*b + A*db","style":{"code":true}},{"type":"text","text":"\nIs:\n`"},{"type":"text","text":"Y = A*b","style":{"code":true}},{"type":"text","text":"  and "},{"type":"text","text":"dY = mul(dA*b, A, db, true, true)","style":{"code":true}},{"type":"text","text":" as good as it gets?\nI thought there might be some way to pack them into one matrix and do it in a single operation and then unpack them at the end"}]}]}]},{"client_msg_id":"c8c863ce-d27b-4745-92fd-9446266174eb","type":"message","text":"You could do\n```[A 0; dA A] * [b; db]```\nin some circumstances. not sure if that's ever more efficient though","user":"U8D9768Q6","ts":"1612042764.089500","team":"T68168MUP","edited":{"user":"U8D9768Q6","ts":"1612042981.000000"},"blocks":[{"type":"rich_text","block_id":"6s7D","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You could do\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"[A 0; dA A] * [b; db]"}]},{"type":"rich_text_section","elements":[{"type":"text","text":"in some circumstances. not sure if that's ever more efficient though"}]}]}]},{"client_msg_id":"202fda7a-222d-46ba-aa5f-94969f68e063","type":"message","text":"You can do A*(b, dB), which is possibly better because you avoid accessing the elements of A twice?","user":"UMDEUKM29","ts":"1612076851.091100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Klv6","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can do A*(b, dB), which is possibly better because you avoid accessing the elements of A twice?"}]}]}]},{"client_msg_id":"b38e01c3-43be-4b52-a293-0200d2f310c8","type":"message","text":"Someone might want to answer <https://scicomp.stackexchange.com/questions/36767/accuracy-issues-with-arpack-in-julia-for-eigenvalues-of-smallest-magnitude>","user":"U69BL50BF","ts":"1612158262.091600","team":"T68168MUP","attachments":[{"service_name":"Computational Science Stack Exchange","title":"Accuracy issues with Arpack in Julia for eigenvalues of smallest magnitude","title_link":"https://scicomp.stackexchange.com/questions/36767/accuracy-issues-with-arpack-in-julia-for-eigenvalues-of-smallest-magnitude","text":"Following the documentation of Julia's Arpack package (Cf. <https://julialinearalgebra.github.io/Arpack.jl/stable/eigs/>) I have computed some largest and smallest magnitude eigenvalues of sparse mat...","fallback":"Computational Science Stack Exchange: Accuracy issues with Arpack in Julia for eigenvalues of smallest magnitude","thumb_url":"https://cdn.sstatic.net/Sites/scicomp/Img/apple-touch-icon@2.png?v=935a34102365","from_url":"https://scicomp.stackexchange.com/questions/36767/accuracy-issues-with-arpack-in-julia-for-eigenvalues-of-smallest-magnitude","thumb_width":316,"thumb_height":316,"service_icon":"https://cdn.sstatic.net/Sites/scicomp/Img/apple-touch-icon.png?v=e83f7ea37d63","id":1,"original_url":"https://scicomp.stackexchange.com/questions/36767/accuracy-issues-with-arpack-in-julia-for-eigenvalues-of-smallest-magnitude"}],"blocks":[{"type":"rich_text","block_id":"07=s","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Someone might want to answer "},{"type":"link","url":"https://scicomp.stackexchange.com/questions/36767/accuracy-issues-with-arpack-in-julia-for-eigenvalues-of-smallest-magnitude"}]}]}]},{"client_msg_id":"ed0be9a8-379a-4359-be9d-5462ff1af6b6","type":"message","text":"just did so. that looks like a fun stackexchange, I'm deliberately staying away from it for the sake of doing actual work","user":"UMDEUKM29","ts":"1612167397.092300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"O7=","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"just did so. that looks like a fun stackexchange, I'm deliberately staying away from it for the sake of doing actual work"}]}]}]},{"client_msg_id":"5ed8d371-edd8-44e8-b3d9-8f00b7fb41a3","type":"message","text":"It's an issue: <https://github.com/JuliaLinearAlgebra/Arpack.jl/issues/87>","user":"UBFATSCKU","ts":"1612238158.092700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"TUY","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It's an issue: "},{"type":"link","url":"https://github.com/JuliaLinearAlgebra/Arpack.jl/issues/87"}]}]}],"thread_ts":"1612238158.092700","reply_count":1,"reply_users_count":1,"latest_reply":"1612244068.092900","reply_users":["UMDEUKM29"],"subscribed":false},{"client_msg_id":"70611eec-4582-4001-9768-e93e2b31f3b1","type":"message","text":"Is there an analogue of `I`, which gives an appropriately sized zero matrix (inferring the size from context)?","user":"U7YD3DKL2","ts":"1612726673.094600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"MyWb","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there an analogue of "},{"type":"text","text":"I","style":{"code":true}},{"type":"text","text":", which gives an appropriately sized zero matrix (inferring the size from context)?"}]}]}]},{"client_msg_id":"54b1c07a-f550-44ad-b6ab-707d8ef5a317","type":"message","text":"I guess there's `0I`","user":"U8D9768Q6","ts":"1612726705.094900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"oYx2","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I guess there's "},{"type":"text","text":"0I","style":{"code":true}}]}]}]},{"client_msg_id":"40736d40-481b-43a7-bdd0-a0d098ab3802","type":"message","text":"Is there a reason why the sparse linear algebra implementations in SparseArrays are restricted to scalar Tv?","user":"UGUAWEMMK","ts":"1612730824.096600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"QZy","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there a reason why the sparse linear algebra implementations in SparseArrays are restricted to scalar Tv?"}]}]}]},{"client_msg_id":"8c6aea9a-4880-42f0-a891-3762553cce66","type":"message","text":"For any element type that implements dot, mul!, div, it should be possible to express the existing sparse matrix implementations in terms of those functions, no? Would this incur a performance overhead?","user":"UGUAWEMMK","ts":"1612731006.099200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Q8R","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"For any element type that implements dot, mul!, div, it should be possible to express the existing sparse matrix implementations in terms of those functions, no? Would this incur a performance overhead?"}]}]}],"reactions":[{"name":"+1","users":["U6A936746"],"count":1}]},{"client_msg_id":"ab57a5c4-1d19-4ece-96e1-439a04360df6","type":"message","text":"Is there anyone familiar with approximated low-rank SVD algorithms such as <https://www.cs.cornell.edu/selman/local/notes-new/pdf/2005_02_26_fast_monte_carlo.pdf|FKV and similar>?\nIt is my understanding that they heavily rely on you being able to select (sample) rows of the matrix according to their norm, and then elements inside the rows.\nBut computing the norm of a row of the matrix is usually a very expensive operation...\nAre there similar algorithms where you only need to sample random elements in the matrix (not rows/columns)?","user":"UAJH2818E","ts":"1612779828.107400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NzenP","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is there anyone familiar with approximated low-rank SVD algorithms such as "},{"type":"link","url":"https://www.cs.cornell.edu/selman/local/notes-new/pdf/2005_02_26_fast_monte_carlo.pdf","text":"FKV and similar"},{"type":"text","text":"?\nIt is my understanding that they heavily rely on you being able to select (sample) rows of the matrix according to their norm, and then elements inside the rows.\nBut computing the norm of a row of the matrix is usually a very expensive operation...\nAre there similar algorithms where you only need to sample random elements in the matrix (not rows/columns)?"}]}]}]},{"client_msg_id":"2e0e91ac-95d5-4c51-a230-97d4c5ae6a95","type":"message","text":"Would be great if someone with `SparseMatrixCSC` knowledge can shine some light onto <https://discourse.julialang.org/t/index-type-of-sparse-matrix/54828>.","user":"U881D0W2C","ts":"1612780935.108100","team":"T68168MUP","attachments":[{"service_name":"JuliaLang","title":"Index type of sparse matrix","title_link":"https://discourse.julialang.org/t/index-type-of-sparse-matrix/54828","text":"I’m using Arpack.jl to get the lowest few eigenvalues of relatively large N x N matrices. To achive this, I’m first cal sparse(row, col, data) to get the matrix to the appropriate form. Although the matrices I’m working on are large, N should be representable with UInt32, i.e., smaller than 2^32, so this is what I’m using as the type of row and col to save some memory. So far so good - but I get problems when the number of entries in my matrix is larger than 2^32. In this case I get an error sa...","fallback":"JuliaLang: Index type of sparse matrix","thumb_url":"https://aws1.discourse-cdn.com/business5/uploads/julialang/original/2X/1/12829a7ba92b924d4ce81099cbf99785bee9b405.png","ts":1612770578,"from_url":"https://discourse.julialang.org/t/index-type-of-sparse-matrix/54828","thumb_width":408,"thumb_height":263,"service_icon":"https://aws1.discourse-cdn.com/business5/uploads/julialang/optimized/2X/6/6ca888e296f59ca2a599807f7d5edd489e3d1829_2_180x180.png","id":1,"original_url":"https://discourse.julialang.org/t/index-type-of-sparse-matrix/54828"}],"blocks":[{"type":"rich_text","block_id":"oqJ","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Would be great if someone with "},{"type":"text","text":"SparseMatrixCSC","style":{"code":true}},{"type":"text","text":" knowledge can shine some light onto "},{"type":"link","url":"https://discourse.julialang.org/t/index-type-of-sparse-matrix/54828"},{"type":"text","text":"."}]}]}],"thread_ts":"1612780935.108100","reply_count":6,"reply_users_count":2,"latest_reply":"1612782032.110000","reply_users":["U6N6VQE30","U67SCG4HG"],"subscribed":false},{"client_msg_id":"f37869ef-2b07-4dbd-9071-4776073bbaa7","type":"message","text":"We don't have `lq` methods in Julia for sparse matrices. Is it possible to dispatch to the sparse `qr` methods of SuiteSparse with `A'`  or we have other limitations ?","user":"UGG8Z375L","ts":"1612972606.115700","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"omWo7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"We don't have "},{"type":"text","text":"lq","style":{"code":true}},{"type":"text","text":" methods in Julia for sparse matrices. Is it possible to dispatch to the sparse "},{"type":"text","text":"qr","style":{"code":true}},{"type":"text","text":" methods of SuiteSparse with "},{"type":"text","text":"A'","style":{"code":true}},{"type":"text","text":"  or we have other limitations ?"}]}]}]},{"client_msg_id":"0b9c6f16-a02a-4310-9b67-6eddf8d9370c","type":"message","text":"The qr factorization of  `A'` can be obtained by `qr(sparse(A))`","user":"UDHCV0BHD","ts":"1613064691.117000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"fZojH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The qr factorization of  "},{"type":"text","text":"A'","style":{"code":true}},{"type":"text","text":" can be obtained by "},{"type":"text","text":"qr(sparse(A))","style":{"code":true}}]}]}]},{"client_msg_id":"9be27ec5-a122-4cb7-9017-58e9052aa3ec","type":"message","text":"Thanks <@UDHCV0BHD> but do you know why the `lq` method for sparse matrices is not implemented ?","user":"UGG8Z375L","ts":"1613067295.119000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"a9rUA","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks "},{"type":"user","user_id":"UDHCV0BHD"},{"type":"text","text":" but do you know why the "},{"type":"text","text":"lq","style":{"code":true}},{"type":"text","text":" method for sparse matrices is not implemented ?"}]}]}]},{"client_msg_id":"07d29837-3dd4-4062-b278-134306e991aa","type":"message","text":"I find SIMDPirates is not compatible with Julia 1.6 and has been archived. Is there any replacements? I an trying to get MaBLAS (<https://github.com/YingboMa/MaBLAS.jl>) work on Julia 1.6.","user":"UCD4Z3NJZ","ts":"1613084989.121300","team":"T68168MUP","edited":{"user":"UCD4Z3NJZ","ts":"1613085015.000000"},"blocks":[{"type":"rich_text","block_id":"adAU","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I find SIMDPirates is not compatible with Julia 1.6 and has been archived. Is there any replacements? I an trying to get MaBLAS ("},{"type":"link","url":"https://github.com/YingboMa/MaBLAS.jl"},{"type":"text","text":") work on Julia 1.6."}]}]}],"thread_ts":"1613084989.121300","reply_count":1,"reply_users_count":1,"latest_reply":"1613085036.121600","reply_users":["UCD4Z3NJZ"],"subscribed":false},{"client_msg_id":"a8743617-67bd-4bc7-9f02-3bd373af9b14","type":"message","text":"VectorizationBase","user":"U6N6VQE30","ts":"1613085354.121900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"JUN","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"VectorizationBase"}]}]}]},{"client_msg_id":"6946c531-7553-435e-8b17-6cfb34e40936","type":"message","text":"It should mostly be a drop in replacement, other than `SIMDPirates.SVec` -&gt; `VectorizationBase.Vec`. (EDIT: actually, the low-level `vload`/`vstore!` api did change a bit). MaBLAS also already depends on an older version of VectorizationBase.","user":"UAUPJLBQX","ts":"1613098378.122800","team":"T68168MUP","edited":{"user":"UAUPJLBQX","ts":"1613098849.000000"},"blocks":[{"type":"rich_text","block_id":"k4Xz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"It should mostly be a drop in replacement, other than "},{"type":"text","text":"SIMDPirates.SVec","style":{"code":true}},{"type":"text","text":" -> "},{"type":"text","text":"VectorizationBase.Vec","style":{"code":true}},{"type":"text","text":". (EDIT: actually, the low-level "},{"type":"text","text":"vload","style":{"code":true}},{"type":"text","text":"/"},{"type":"text","text":"vstore!","style":{"code":true}},{"type":"text","text":" api did change a bit). MaBLAS also already depends on an older version of VectorizationBase."}]}]}]},{"type":"message","text":"is there any algorithm that exists that takes a matrix with a sparsity pattern something like this and pivots it to cluster more of the non-zero entries near the diagonal?","files":[{"id":"F01MTQH8BU6","created":1613175007,"timestamp":1613175007,"name":"image.png","title":"image.png","mimetype":"image/png","filetype":"png","pretty_type":"PNG","user":"UUMJUCYRK","editable":false,"size":30108,"mode":"hosted","is_external":false,"external_type":"","is_public":true,"public_url_shared":false,"display_as_bot":false,"username":"","url_private":"https://files.slack.com/files-pri/T68168MUP-F01MTQH8BU6/image.png","url_private_download":"https://files.slack.com/files-pri/T68168MUP-F01MTQH8BU6/download/image.png","thumb_64":"https://files.slack.com/files-tmb/T68168MUP-F01MTQH8BU6-9b47ae4ea5/image_64.png","thumb_80":"https://files.slack.com/files-tmb/T68168MUP-F01MTQH8BU6-9b47ae4ea5/image_80.png","thumb_360":"https://files.slack.com/files-tmb/T68168MUP-F01MTQH8BU6-9b47ae4ea5/image_360.png","thumb_360_w":360,"thumb_360_h":360,"thumb_480":"https://files.slack.com/files-tmb/T68168MUP-F01MTQH8BU6-9b47ae4ea5/image_480.png","thumb_480_w":480,"thumb_480_h":480,"thumb_160":"https://files.slack.com/files-tmb/T68168MUP-F01MTQH8BU6-9b47ae4ea5/image_160.png","original_w":577,"original_h":577,"thumb_tiny":"AwAwADC+8m2QLkZIOB61ROoSq5UxANnGCaXU93mRbc55xj8KhLpdRfOQsyjg/wB6ltr0KSJDqEijBjHP+1SjUcryoBHPXrVFkZDhlKn3FNq7Jjsi/wD2m+c+WPzNSLfgyBQB82OT0zWZT4v9cn+8P503ELIu6kQrxkYPXOaoKdrAjqDmtHUSm+Lepxz0rNoQLYu5W9TBwsw6ehqmylWKsMEdqASCCDgirG5bgEyf6wDGelTbk9Blanxf61P94fzprKVJBGCKlQx+amxT1HJPfNVcRa1XO6POO/8ASs+ti5Rmkj43AEk8Vl+RN/zyf/vk0ovoC2I6UEggg4Ip/kTf88n/AO+TU0cUnllTG33W/hPtTbsA0bZ1x0cen+f/ANX0qOMFZ1B6hgD+dKIZgciOQH/dNXdhZkTZg4XLbD9cVLfKB//Z","permalink":"https://julialang.slack.com/files/UUMJUCYRK/F01MTQH8BU6/image.png","permalink_public":"https://slack-files.com/T68168MUP-F01MTQH8BU6-313d10f8e4","is_starred":false,"has_rich_preview":false}],"upload":false,"blocks":[{"type":"rich_text","block_id":"ycH","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there any algorithm that exists that takes a matrix with a sparsity pattern something like this and pivots it to cluster more of the non-zero entries near the diagonal?"}]}]}],"user":"UUMJUCYRK","display_as_bot":false,"ts":"1613175025.125900","thread_ts":"1613175025.125900","reply_count":3,"reply_users_count":2,"latest_reply":"1613176443.126900","reply_users":["U019K6Q9N15","UUMJUCYRK"],"subscribed":false},{"client_msg_id":"8005e1fc-1fca-4402-85bc-1d517ee2a680","type":"message","text":"Can anyone with interest in sparse array take a look at <https://github.com/JuliaLang/julia/pull/39645> and the discussion, please. We could run PkgEval, which may, however, miss extreme edge cases. So we may need many eyes on it.","user":"U011TRN4QBU","ts":"1613380038.140000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"uWycz","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Can anyone with interest in sparse array take a look at "},{"type":"link","url":"https://github.com/JuliaLang/julia/pull/39645"},{"type":"text","text":" and the discussion, please. We could run PkgEval, which may, however, miss extreme edge cases. So we may need many eyes on it."}]}]}]},{"client_msg_id":"b6c954b7-d8fb-430f-8770-6d9e5636ea92","type":"message","text":"Does anyone know how to get a projection matrix out of LowRankModels output?\nLow rank models does the whole PCA via mimimize  `||A - X'Y||`  thing\nand then tells you `X` and `Y`\nso if i PCA from 5 down to 3 I should have a 5x3 projection matrix `P`  that would project up/down into the 3 dimentional space.\nsuch that `P * P' * A  = Y'X ≈ A`\n(This `P` is what MultivariateStats gives it is it’s `proj` field; and is what i expect PCA to look like in general).\nI am trying to workout how to derive `P` from `X` and `Y`\n<@U677NAWV8> thought the answer was `qr(Y).Q` but that has size 3x3","user":"U6A936746","ts":"1613509231.146600","team":"T68168MUP","edited":{"user":"U6A936746","ts":"1613510175.000000"},"blocks":[{"type":"rich_text","block_id":"+Tf","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Does anyone know how to get a projection matrix out of LowRankModels output?\nLow rank models does the whole PCA via mimimize  "},{"type":"text","text":"||A - X'Y||","style":{"code":true}},{"type":"text","text":"  thing\nand then tells you "},{"type":"text","text":"X","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"Y","style":{"code":true}},{"type":"text","text":"\nso if i PCA from 5 down to 3 I should have a 5x3 projection matrix "},{"type":"text","text":"P","style":{"code":true}},{"type":"text","text":"  that would project up/down into the 3 dimentional space.\nsuch that "},{"type":"text","text":"P * P' * A  = Y'X ≈ A","style":{"code":true}},{"type":"text","text":"\n(This "},{"type":"text","text":"P","style":{"code":true}},{"type":"text","text":" is what MultivariateStats gives it is it’s "},{"type":"text","text":"proj","style":{"code":true}},{"type":"text","text":" field; and is what i expect PCA to look like in general).\nI am trying to workout how to derive "},{"type":"text","text":"P","style":{"code":true}},{"type":"text","text":" from "},{"type":"text","text":"X","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"Y","style":{"code":true}},{"type":"text","text":"\n"},{"type":"user","user_id":"U677NAWV8"},{"type":"text","text":" thought the answer was "},{"type":"text","text":"qr(Y).Q","style":{"code":true}},{"type":"text","text":" but that has size 3x3"}]}]}],"thread_ts":"1613509231.146600","reply_count":13,"reply_users_count":2,"latest_reply":"1613510105.149800","reply_users":["UMDEUKM29","U6A936746"],"subscribed":false},{"client_msg_id":"b0a4d1c9-2d49-45b0-ae44-a85a9b6e1ee9","type":"message","text":"anyone has an idea on how to fix this strange bug in ExponentialUtils? <https://github.com/SciML/ExponentialUtilities.jl/issues/52>","user":"UC6SUUPRC","ts":"1613516683.152300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"e/VI","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"anyone has an idea on how to fix this strange bug in ExponentialUtils? "},{"type":"link","url":"https://github.com/SciML/ExponentialUtilities.jl/issues/52"}]}]}]},{"client_msg_id":"b7d45057-9f7a-4046-be39-4fa8d4f13aea","type":"message","text":"is there a package implementing rank-one matrices using just the product of two vectors? I was starting to roll out my own but would be glad to spare it","user":"U82RE6STE","ts":"1613679436.154400","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"jyx7f","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there a package implementing rank-one matrices using just the product of two vectors? I was starting to roll out my own but would be glad to spare it"}]}]}]},{"client_msg_id":"442bfb2e-42de-4d8d-ab55-0dfdce0a3f40","type":"message","text":"something like\n```struct RankOneMatrix{T} &lt;:AbstractMatrix\nu::UT\nv::VT\nend\n\nBase.size(R::RankOneMatrix) = (length(u), length(v))```","user":"U82RE6STE","ts":"1613680168.155600","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Uab","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"something like\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"struct RankOneMatrix{T} <:AbstractMatrix\nu::UT\nv::VT\nend\n\nBase.size(R::RankOneMatrix) = (length(u), length(v))"}]}]}],"thread_ts":"1613680168.155600","reply_count":33,"reply_users_count":3,"latest_reply":"1613683013.162700","reply_users":["U9MD78Z9N","U82RE6STE","UMDEUKM29"],"subscribed":false},{"client_msg_id":"a5781b91-116c-4ac1-b546-2bb6da39df7f","type":"message","text":"Is GenericSVD still considered used / relevant? It hasn't been touched in a while (Project.toml version wasn't even formatted properly)\n<https://github.com/JuliaLinearAlgebra/GenericSVD.jl>","user":"U82RE6STE","ts":"1613683858.164200","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"3dVYG","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Is GenericSVD still considered used / relevant? It hasn't been touched in a while (Project.toml version wasn't even formatted properly)\n"},{"type":"link","url":"https://github.com/JuliaLinearAlgebra/GenericSVD.jl"}]}]}],"thread_ts":"1613683858.164200","reply_count":3,"reply_users_count":2,"latest_reply":"1613684470.165400","reply_users":["U680T6770","U82RE6STE"],"subscribed":false},{"client_msg_id":"2881fa6a-2f80-4915-83e4-b4e15812e12c","type":"message","text":"it's type-pirating SVD so I could understand the motivation in avoiding it","user":"U82RE6STE","ts":"1613684079.164900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"I38/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"it's type-pirating SVD so I could understand the motivation in avoiding it"}]}]}]}]}