{"cursor": 0, "messages": [{"client_msg_id":"0a0bdba8-1945-4f14-a1e4-a1556427dbae","type":"message","text":"I am using PackageCompiler to generate a sysimage that is packaged in a Docker container and run on an EC2 instance. I can launch the container fine locally, but on EC2 I get this error: `ERROR: Unable to find compatible target in system image.` From a review of some GitHub issues, I understand that this may be because the sysimage is being generated for my exact cpu arch and therefore cannot transfer to the EC2 instance. How do I get PackageCompiler to generate a sysimage for a more general x86_64 target?","user":"U01537M2E9W","ts":"1608059092.270800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"phEKe","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I am using PackageCompiler to generate a sysimage that is packaged in a Docker container and run on an EC2 instance. I can launch the container fine locally, but on EC2 I get this error: "},{"type":"text","text":"ERROR: Unable to find compatible target in system image.","style":{"code":true}},{"type":"text","text":" From a review of some GitHub issues, I understand that this may be because the sysimage is being generated for my exact cpu arch and therefore cannot transfer to the EC2 instance. How do I get PackageCompiler to generate a sysimage for a more general x86_64 target?"}]}]}]},{"client_msg_id":"0f1363f5-ffa1-4756-bade-da73610813f3","type":"message","text":"There is the `cpu_target` keyword argument","user":"U67D54KS8","ts":"1608059309.271500","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Sj/","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"There is the "},{"type":"text","text":"cpu_target","style":{"code":true}},{"type":"text","text":" keyword argument"}]}]}]},{"client_msg_id":"71a9615f-a72c-4430-972b-a38e0a88f751","type":"message","text":"You can set it to <https://github.com/JuliaLang/PackageCompiler.jl/blob/2d8010d8be72d65269d114b037be35081ec7f303/src/PackageCompiler.jl#L18|https://github.com/JuliaLang/PackageCompiler.jl/blob/2d8010d8be72d65269d114b037be35081ec7f303/src/PackageCompiler.jl#L18>","user":"U67D54KS8","ts":"1608059347.271800","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NuH58","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"You can set it to "},{"type":"link","url":"https://github.com/JuliaLang/PackageCompiler.jl/blob/2d8010d8be72d65269d114b037be35081ec7f303/src/PackageCompiler.jl#L18","text":"https://github.com/JuliaLang/PackageCompiler.jl/blob/2d8010d8be72d65269d114b037be35081ec7f303/src/PackageCompiler.jl#L18"}]}]}]},{"client_msg_id":"650e1733-0f16-4d7f-8e92-7000d9e7887e","type":"message","text":"Oh, I missed that one. Thanks, I will try that.\nEdit: That worked","user":"U01537M2E9W","ts":"1608059449.272300","team":"T68168MUP","edited":{"user":"U01537M2E9W","ts":"1608062103.000000"},"blocks":[{"type":"rich_text","block_id":"kAvv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Oh, I missed that one. Thanks, I will try that.\nEdit: That worked"}]}]}]},{"type":"message","subtype":"channel_join","ts":"1608063322.278000","user":"U6BQL000Z","text":"<@U6BQL000Z> has joined the channel","inviter":"UDGT4PM41"},{"client_msg_id":"cc8e994a-4b6d-455b-b89e-a8eded5df060","type":"message","text":"Hello everyone,\nWhen using PackageCompiler.jl for creating a custom sysimage, where do you usually store your new sysimage on a Linux system?","user":"U7R243N1W","ts":"1608421441.281000","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Jlxh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Hello everyone,\nWhen using PackageCompiler.jl for creating a custom sysimage, where do you usually store your new sysimage on a Linux system?"}]}]}],"thread_ts":"1608421441.281000","reply_count":3,"reply_users_count":2,"latest_reply":"1608429673.283000","reply_users":["UC6SUUPRC","U7R243N1W"],"subscribed":false},{"client_msg_id":"a5b75b67-bee0-4edf-bf67-b4c18b11a57f","type":"message","text":"I'm looking into building a static app using PackageCompiler, and I was initially hoping to be able to have a single self-contained binary file that I could run. It appears that I get a directory instead, with a lib folder etc. Could someone please help me understand what role all of this plays, and whether or not any of it can be discarded? Having a single binary (statically linked) is much nicer to distribute and run than a folder.","user":"UCNPT22MQ","ts":"1610129228.293300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"bxuM","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"I'm looking into building a static app using PackageCompiler, and I was initially hoping to be able to have a single self-contained binary file that I could run. It appears that I get a directory instead, with a lib folder etc. Could someone please help me understand what role all of this plays, and whether or not any of it can be discarded? Having a single binary (statically linked) is much nicer to distribute and run than a folder."}]}]}]},{"type":"message","subtype":"channel_join","ts":"1611349297.008500","user":"U67461GUB","text":"<@U67461GUB> has joined the channel","inviter":"U66GD0880"},{"client_msg_id":"18cf4dd2-8956-478c-9c7a-f4e2a92a1e87","type":"message","text":"is there any special requirement to make a Dash app with `PackageCompiler`? I get the following warnings and then I realized that my package depends on my ~/.julia\n```┌ Warning: PlotlyJS has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: PlotlyBase has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: WebIO has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: Package Blink has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package PlotlyJS has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package WebIO has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package SLEEFPirates has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526```","user":"U013V2CFZAN","ts":"1611515913.026700","team":"T68168MUP","edited":{"user":"U013V2CFZAN","ts":"1611515948.000000"},"blocks":[{"type":"rich_text","block_id":"ecv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"is there any special requirement to make a Dash app with "},{"type":"text","text":"PackageCompiler","style":{"code":true}},{"type":"text","text":"? I get the following warnings and then I realized that my package depends on my ~/.julia\n"}]},{"type":"rich_text_preformatted","elements":[{"type":"text","text":"┌ Warning: PlotlyJS has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: PlotlyBase has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: WebIO has a dependency on Requires.jl, code in `@require` will not be run\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:513\n┌ Warning: Package Blink has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package PlotlyJS has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package WebIO has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526\n┌ Warning: Package SLEEFPirates has a build script, this might indicate that it is not relocatable\n└ @ PackageCompiler C:\\Users\\jvieyras\\.julia\\packages\\PackageCompiler\\AerNj\\src\\PackageCompiler.jl:526"}]}]}]},{"client_msg_id":"289af571-ca5f-4bd2-aa6a-a39816d3a052","type":"message","text":"hmm... not sure if here is the correct place to ask. What is the differences between `@ccallable` and `@cfunction`?","user":"U013V2CFZAN","ts":"1612820268.033300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"qSWXw","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"hmm... not sure if here is the correct place to ask. What is the differences between "},{"type":"text","text":"@ccallable","style":{"code":true}},{"type":"text","text":" and "},{"type":"text","text":"@cfunction","style":{"code":true}},{"type":"text","text":"?"}]}]}]},{"client_msg_id":"31A5C4A3-1087-45BF-9A20-711F34610EF1","type":"message","text":"The first one is to create an unmangled symbol in the sysimage so you can call it from c after linking with the library, the second one is so you can pass that function to a c function expecting a callback.","user":"U67D54KS8","ts":"1612820394.035200","team":"T68168MUP","edited":{"user":"U67D54KS8","ts":"1612820424.000000"},"blocks":[{"type":"rich_text","block_id":"/f06","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"The first one is to create an unmangled symbol in the sysimage so you can call it from c after linking with the library, the second one is so you can pass that function to a c function expecting a callback."}]}]}]},{"client_msg_id":"566dc080-2863-421f-adfb-8a4899754edb","type":"message","text":"What Kristoffer just said :wink: `@ccallable` is equivalent to `@cfunction` + an exported name.","user":"U67BJLYCS","ts":"1612820483.036300","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"lBrP+","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"What Kristoffer just said "},{"type":"emoji","name":"wink"},{"type":"text","text":" "},{"type":"text","text":"@ccallable","style":{"code":true}},{"type":"text","text":" is equivalent to "},{"type":"text","text":"@cfunction","style":{"code":true}},{"type":"text","text":" + an exported name."}]}]}]},{"client_msg_id":"3329704f-d175-47f5-ae12-ebdb953084b8","type":"message","text":"Thanks for the answers, I was able to find `@cfunction` but not `@ccallable` on the documentation","user":"U013V2CFZAN","ts":"1612861424.037200","team":"T68168MUP","edited":{"user":"U013V2CFZAN","ts":"1612861443.000000"},"blocks":[{"type":"rich_text","block_id":"PrkX","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Thanks for the answers, I was able to find "},{"type":"text","text":"@cfunction","style":{"code":true}},{"type":"text","text":" but not "},{"type":"text","text":"@ccallable","style":{"code":true}},{"type":"text","text":" on the documentation"}]}]}]},{"client_msg_id":"eb0158d1-b60d-4d6c-9988-f50a5d416b99","type":"message","text":"<@U67D54KS8> and <@U67BJLYCS> Where I can ask questions for calling Julia functions from C/C++? there is an <#C774S8M0B|embedded> channel, but it's kind of inactive. The Julia documentation is fine, but it is incomplete. I could help expanding it with my findings.","user":"U013V2CFZAN","ts":"1612865138.039900","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"NjTQz","elements":[{"type":"rich_text_section","elements":[{"type":"user","user_id":"U67D54KS8"},{"type":"text","text":" and "},{"type":"user","user_id":"U67BJLYCS"},{"type":"text","text":" Where I can ask questions for calling Julia functions from C/C++? there is an "},{"type":"channel","channel_id":"C774S8M0B"},{"type":"text","text":" channel, but it's kind of inactive. The Julia documentation is fine, but it is incomplete. I could help expanding it with my findings."}]}]}]},{"client_msg_id":"0aac9d95-de91-4c09-9a30-336b8851852b","type":"message","text":"Maybe discourse?","user":"U67D54KS8","ts":"1612865163.040100","team":"T68168MUP","blocks":[{"type":"rich_text","block_id":"Xpqn","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Maybe discourse?"}]}]}]}]}